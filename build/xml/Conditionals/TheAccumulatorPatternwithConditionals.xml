<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.19 -->
<document source="/Users/clatulip/Documents/RunestoneBooks/ThinkLikeComputer/_sources/Conditionals/TheAccumulatorPatternwithConditionals.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <substitution_definition names="blank"><BlankNode></BlankNode></substitution_definition>
    <substitution_definition names="docname"><reference refuri="TheAccumulatorPatternwithConditionals-source.html">TheAccumulatorPatternwithConditionals</reference></substitution_definition>
    <comment xml:space="preserve">Copyright (C)  Paul Resnick.  Permission is granted to copy, distribute
and/or modify this document under the terms of the GNU Free Documentation
License, Version 1.3 or any later version published by the Free Software
Foundation; with Invariant Sections being Forward, Prefaces, and
Contributor List, no Front-Cover Texts, and no Back-Cover Texts.  A copy of
the license is included in the section entitled "GNU Free Documentation
License".</comment>
    <section ids="the-accumulator-pattern-with-conditionals" names="the\ accumulator\ pattern\ with\ conditionals">
        <title>The Accumulator Pattern with Conditionals</title>
        <paragraph>Sometimes when we’re accumulating, we don’t want to add to our accumulator every time we iterate.
            Consider, for example, the following program which counts the number of letters in a phrase.</paragraph>

    <program label="ac6_10_1" interactive='activecode' language="python">
    
        <input>
phrase = "What a wonderful day to program"
tot = 0
for char in phrase:
    if char != " ":
        tot = tot + 1
print(tot)
        </input>
<tests>


</tests>

    </program>
        <paragraph>Here, we <strong>initialize</strong> the accumulator variable to be zero on line two.</paragraph>
        <paragraph>We <strong>iterate</strong> through the sequence (line 3).</paragraph>
        <paragraph>The <strong>update</strong> step happens in two parts. First, we check to see if the value of <literal>char</literal> is not a space. If
            it is not a space, then we update the value of our accumulator variable <literal>tot</literal> (on line 6) by adding one to
            it. If that conditional proves to be False, which means that char <emphasis>is</emphasis> a space, then we don’t update <literal>tot</literal>
            and continue the for loop. We could have written <literal>tot = tot + 1</literal> or <literal>tot += 1</literal>, either is fine.</paragraph>
        <paragraph>At the end, we have accumulated a the total number of letters in the phrase. Without using the conditional,
            we would have only been able to count how many characters there are in the string and not been able to
            differentiate between spaces and non-spaces.</paragraph>
        <paragraph>We can use conditionals to also count if particular items are in a string or list. The following code finds all occurrences of vowels in the following string.</paragraph>

    <program label="ac6_10_2" interactive='activecode' language="python">
    
        <input>
s = "what if we went to the zoo"
x = 0
for i in s:
    if i in ['a', 'e', 'i', 'o', 'u']:
        x += 1
print(x)
        </input>
<tests>


</tests>

    </program>
        <paragraph>We can also use <literal>==</literal> to execute a similar operation. Here, we’ll check to see if the character we are iterating over is
            an “o”. If it is an “o” then we will update our counter.</paragraph>
        <image alt='a gif that shows code to check that "o" is in the phrase "onomatopoeia".' candidates="{'*': 'Conditionals/Figures/accum_o.gif'}" uri="Conditionals/Figures/accum_o.gif"></image>
        <section ids="accumulating-the-max-value" names="accumulating\ the\ max\ value">
            <title>Accumulating the Max Value</title>
            <paragraph>We can also use the accumulation pattern with conditionals to find the maximum or minimum value. Instead of
                continuing to build up the accumulator value like we have when counting or finding a sum, we can reassign the
                accumulator variable to a different value.</paragraph>
            <paragraph>The following example shows how we can get the maximum value from a list of integers.</paragraph>

    <program label="ac6_10_3" interactive='activecode' language="python">
    
        <input>
nums = [9, 3, 8, 11, 5, 29, 2]
best_num = 0
for n in nums:
    if n &gt; best_num:
        best_num = n
print(best_num)
        </input>
<tests>


</tests>

    </program>
            <paragraph>Here, we initialize best_num to zero, assuming that there are no negative numbers in the list.</paragraph>
            <paragraph>In the for loop, we check to see if the current value of n is greater than the current value of <literal>best_num</literal>.
                If it is, then we want to <strong>update</strong> <literal>best_num</literal> so that it now is assigned the higher number. Otherwise, we
                do nothing and continue the for loop.</paragraph>
            <paragraph>You may notice that the current structure could be a problem. If the numbers were all negative what would
                happen to our code? What if we were looking for the smallest number but we initialized <literal>best_num</literal> with
                zero? To get around this issue, we can initialize the accumulator variable using one of the numbers in the
                list.</paragraph>

    <program label="ac6_10_4" interactive='activecode' language="python">
    
        <input>
nums = [9, 3, 8, 11, 5, 29, 2]
best_num = nums[0]
for n in nums:
    if n &gt; best_num:
        best_num = n
print(best_num)
        </input>
<tests>


</tests>

    </program>
            <paragraph>The only thing we changed was the value of <literal>best_num</literal> on line 2 so that the value of <literal>best_num</literal> is the
                first element in <literal>nums</literal>, but the result is still the same!</paragraph>
            <paragraph><strong>Check your understanding</strong></paragraph>

    <exercise label="question6_10_1">
        <statement>

            <paragraph>What is printed by the following statements?</paragraph>
            <literal_block force="False" highlight_args="{}" language="python" linenos="False" xml:space="preserve">s = "We are learning!"
x = 0
for i in s:
    if i in ['a', 'b', 'c', 'd', 'e']:
        x += 1
print(x)</literal_block>

        </statement>
<choices>

            <choice >
                <statement>
                    <p>2</p>
                </statement>
                <feedback>
                    <p>Though only two of the letters in the list are found, we count them each time they appear.</p>
                </feedback>
            </choice>

            <choice correct='yes'>
                <statement>
                    <p>5</p>
                </statement>
                <feedback>
                    <p>Yes, we add to x each time we come across a letter in the list.</p>
                </feedback>
            </choice>

            <choice >
                <statement>
                    <p>0</p>
                </statement>
                <feedback>
                    <p>Check again what the conditional is evaluating. The value of i will be a character in the string s, so what will happen in the if statement?</p>
                </feedback>
            </choice>

            <choice >
                <statement>
                    <p>There is an error in the code so it cannot run.</p>
                </statement>
                <feedback>
                    <p>There are no errors in this code.</p>
                </feedback>
            </choice>
</choices>

    </exercise>

    <exercise label="question6_10_2">
        <statement>

            <paragraph>What is printed by the following statements?</paragraph>
            <literal_block force="False" highlight_args="{}" language="python" linenos="False" xml:space="preserve">list= [5, 2, 1, 4, 9, 10]
min_value = 0
for item in list:
   if item &lt; min_value:
       min_value = item
print(min_value)</literal_block>

        </statement>
<choices>

            <choice >
                <statement>
                    <p>10</p>
                </statement>
                <feedback>
                    <p>Not quite. What is the conditional checking?</p>
                </feedback>
            </choice>

            <choice >
                <statement>
                    <p>1</p>
                </statement>
                <feedback>
                    <p>min_value was set to a number that was smaller than any of the numbers in the list, so it was never updated in the for loop.</p>
                </feedback>
            </choice>

            <choice correct='yes'>
                <statement>
                    <p>0</p>
                </statement>
                <feedback>
                    <p>Yes, min_value was set to a number that was smaller than any of the numbers in the list, so it was never updated in the for loop.</p>
                </feedback>
            </choice>

            <choice >
                <statement>
                    <p>There is an error in the code so it cannot run.</p>
                </statement>
                <feedback>
                    <p>The code does not have an error that would prevent it from running.</p>
                </feedback>
            </choice>
</choices>

    </exercise>

<exercise label="ac6_10_5">
    <statement>
            <paragraph>For each string in the list <literal>words</literal>, find the number of characters in the string. If the number of characters in the string is greater than 3, add 1 to the variable <literal>num_words</literal> so that <literal>num_words</literal> should end up with the total number of words with more than 3 characters.</paragraph>

    </statement>
    <program label="ac6_10_5_editor" interactive='activecode' language="python">

        <input>
words = ["water", "chair", "pen", "basket", "hi", "car"]

=====

from unittest.gui import TestCaseGui

class myTests(TestCaseGui):

   def testFive(self):
      self.assertEqual(num_words, 3, "Testing that num_words has the correct value.")

myTests().main()
        </input>
<tests>


</tests>

    </program>
</exercise>

<exercise label="ac6_10_7">
    <statement>
            <paragraph><strong>Challenge</strong> For each word in <literal>words</literal>, add ‘d’ to the end of the word if the word ends in “e” to make it past tense. Otherwise, add ‘ed’ to make it past tense. Save these past tense words to a list called <literal>past_tense</literal>.</paragraph>

    </statement>
    <program label="ac6_10_7_editor" interactive='activecode' language="python">

        <input>
words = ["adopt", "bake", "beam", "confide", "grill", "plant", "time", "wave", "wish"]

=====

from unittest.gui import TestCaseGui

class myTests(TestCaseGui):

   def testNine(self):
      self.assertEqual(past_tense, ['adopted', 'baked', 'beamed', 'confided', 'grilled', 'planted', 'timed', 'waved', 'wished'], "Testing that the past_tense list is correct.")
      self.assertIn("else", self.getEditorText(), "Testing output (Don't worry about actual and expected values).")
      self.assertIn("for", self.getEditorText(), "Testing output (Don't worry about actual and expected values).")

myTests().main()
        </input>
<tests>


</tests>

    </program>
</exercise>
        </section>
    </section>
</document>

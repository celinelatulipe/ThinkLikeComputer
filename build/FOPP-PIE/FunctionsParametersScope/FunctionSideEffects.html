<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html  lang="en" class="runestone-sphinx">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>8.11. Side Effects &#8212; COMP 1000: Think Like a Computer</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=E2DC0A34" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=4182B24D" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-347.f9add1ca35d5ad93.css?v=306CBB19" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-runestone.f64dcc3632d7a0c3.css?v=F4F91F21" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script defer="" src="../_static/jquery.js"></script>
    <script defer="" src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script defer="" src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script defer="" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script defer="" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script defer="" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script defer="" src="../_static/html4css1.css?v=4533ACD3"></script>
    <script defer="" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script defer="" src="../_static/prefix-runtime.2438a8bdd6d43b5c.bundle.js?v=7D29D67B"></script>
    <script defer="" src="../_static/prefix-347.8328b60515045466.bundle.js?v=2CF09D3E"></script>
    <script defer="" src="../_static/prefix-runestone.aeac7cf9ad5c07ef.bundle.js?v=4FF65C30"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.12. Listener Functions with Parameters" href="ListenerFunctionsWithParameters.html" />
    <link rel="prev" title="8.10. 👩‍💻 Print vs. return" href="Printvsreturn.html" />

  
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'FOPP-PIE';
    eBookConfig.basecourse = 'FOPP-PIE';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "good";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '7.2.11';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" id="rs-book-toc-link" href="../index.html" aria-label="index-page">
          
          FOPP-PIE
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="ad_warning"></span></li>
        <li><span id="browsing_warning"></span></li>

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://guide.runestone.academy' target="_blank" rel="noopener noreferrer" >Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=FOPP-PIE&page=FunctionSideEffects'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">8.10. </span>👩‍💻 Print vs. return" data-toggle="tooltip">
    <a href="Printvsreturn.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">8.12. </span>Listener Functions with Parameters' data-toggle="tooltip" >              
    <a href="ListenerFunctionsWithParameters.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="side-effects">
<h1><span class="section-number">8.11. </span>Side Effects<a class="headerlink" href="#side-effects" title="Permalink to this heading">¶</a></h1>
<p>We say that a function has a <strong>side effect</strong> if it makes a change in the program or output that is not reflected through the return value.</p>
<p>Side effects are sometimes desirable. For example, in turtle graphics, a function that causes a turtle to draw a square on the canvas may not return any value,
but the side effect of running that function is that there is now a square on the canvas that the end user can see, and possibly, the turtle is in a different position after the function has executed.</p>
<p>Additionally, if you have a function
that returns a value (such as an average), but also contains a print statement that prints out intermediate values to the console (such as the total used to calculate the average), that printed
output is a side effect of calling the function. Both of these are good examples of positive and purposeful use of side effects.</p>
<p>Directly editing a global variable is another side effect, but it is one we typically want to avoid. For example, consider the code below:</p>

<div class="runestone codelens ">
    <div class="cd_section" data-component="codelens" data-question_label="8.11.1">
        <div id=clens8_11_1_question class="ac_question">
        </div>
        <div class="pytutorVisualizer" id="clens8_11_1"
           data-params='{"embeddedMode": true, "lang": "python", "jumpToEnd": false}'>
        </div>
        <p class="runestone_caption"><span class="runestone_caption_text">Activity: CodeLens 8.11.1 (clens8_11_1)</span> </p>
    </div>

<script>
var clens8_11_1_vis;

if (allTraceData === undefined) {
   var allTraceData = {};
}

allTraceData["clens8_11_1"] = {"code": "def double(n):\n   global y\n   y = 2 * n\n\ny = 5\ndouble(y)\nprint(y)", "trace": [{"line": 1, "event": "step_line", "func_name": "<module>", "globals": {}, "ordered_globals": [], "stack_to_render": [], "heap": {}, "stdout": ""}, {"line": 5, "event": "step_line", "func_name": "<module>", "globals": {"double": ["REF", 1]}, "ordered_globals": ["double"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 6, "event": "step_line", "func_name": "<module>", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 1, "event": "call", "func_name": "double", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [{"func_name": "double", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"n": 5}, "ordered_varnames": ["n"], "is_zombie": false, "is_highlighted": true, "unique_hash": "double_f1"}], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 3, "event": "step_line", "func_name": "double", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [{"func_name": "double", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"n": 5}, "ordered_varnames": ["n"], "is_zombie": false, "is_highlighted": true, "unique_hash": "double_f1"}], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 3, "event": "return", "func_name": "double", "globals": {"double": ["REF", 1], "y": 10}, "ordered_globals": ["double", "y"], "stack_to_render": [{"func_name": "double", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"n": 5, "__return__": null}, "ordered_varnames": ["n", "__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "double_f1"}], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 7, "event": "step_line", "func_name": "<module>", "globals": {"double": ["REF", 1], "y": 10}, "ordered_globals": ["double", "y"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 7, "event": "return", "func_name": "<module>", "globals": {"double": ["REF", 1], "y": 10}, "ordered_globals": ["double", "y"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": "10\n"}]};
</script>
</div>
<p>In this example, the statement on line 2 says that we want to be able to access and edit the global variable y. On line 3, we change the value of that
variable. While this works, it is considered bad form - it is harder to debug becuase it is less clear, when we print out the value of y on line 7, where the value of y was changed. It’s actually easy to figure it out in this very short code snippet, but it would be much more difficult if the double() function was 300 lines of code away from the print(y) statement.</p>
<p>The way to avoid using side effects to change global variables is to use return values instead: Pass the global variable’s value in as a parameter,
and set that global variable to be equal to a value returned from the function. For example, the following is a better version
of the code above.</p>

<div class="runestone codelens ">
    <div class="cd_section" data-component="codelens" data-question_label="8.11.2">
        <div id=clens8_11_2_question class="ac_question">
        </div>
        <div class="pytutorVisualizer" id="clens8_11_2"
           data-params='{"embeddedMode": true, "lang": "python", "jumpToEnd": false}'>
        </div>
        <p class="runestone_caption"><span class="runestone_caption_text">Activity: CodeLens 8.11.2 (clens8_11_2)</span> </p>
    </div>

<script>
var clens8_11_2_vis;

if (allTraceData === undefined) {
   var allTraceData = {};
}

allTraceData["clens8_11_2"] = {"code": "def double(n):\n   return 2 * n\n\ny = 5\ny = double(y)\nprint(y)", "trace": [{"line": 1, "event": "step_line", "func_name": "<module>", "globals": {}, "ordered_globals": [], "stack_to_render": [], "heap": {}, "stdout": ""}, {"line": 4, "event": "step_line", "func_name": "<module>", "globals": {"double": ["REF", 1]}, "ordered_globals": ["double"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 5, "event": "step_line", "func_name": "<module>", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 1, "event": "call", "func_name": "double", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [{"func_name": "double", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"n": 5}, "ordered_varnames": ["n"], "is_zombie": false, "is_highlighted": true, "unique_hash": "double_f1"}], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 2, "event": "step_line", "func_name": "double", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [{"func_name": "double", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"n": 5}, "ordered_varnames": ["n"], "is_zombie": false, "is_highlighted": true, "unique_hash": "double_f1"}], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 2, "event": "return", "func_name": "double", "globals": {"double": ["REF", 1], "y": 5}, "ordered_globals": ["double", "y"], "stack_to_render": [{"func_name": "double", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"n": 5, "__return__": 10}, "ordered_varnames": ["n", "__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "double_f1"}], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 6, "event": "step_line", "func_name": "<module>", "globals": {"double": ["REF", 1], "y": 10}, "ordered_globals": ["double", "y"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": ""}, {"line": 6, "event": "return", "func_name": "<module>", "globals": {"double": ["REF", 1], "y": 10}, "ordered_globals": ["double", "y"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "double(n)", null]}, "stdout": "10\n"}]};
</script>
</div>
<p>In this example, it is obvious on line 6 that the value of y is being modified by calling the double() function.</p>
<p>To summarize, any lasting effect that occurs as a result of executing a function, that isn’t represented through its return value, is called a side effect. There
are three ways to have side effects:</p>
<ul class="simple">
<li><p>Printing out a value to the console. This doesn’t change any objects or variable values, but it does have a potential lasting effect outside the function execution, because a programmer can see the output and be influenced by it.</p></li>
<li><p>Changing the value of a global variable.</p></li>
<li><p>Changing the value of a mutable object (which we will talk about in the chapter on sequences).</p></li>
</ul>
<section id="documenting-side-effects">
<h2><span class="section-number">8.11.1. </span>Documenting Side Effects<a class="headerlink" href="#documenting-side-effects" title="Permalink to this heading">¶</a></h2>
<p>When you create functions that have side effects, it is particularly important to document these as post-conditions. This may not be necessary when you are using print() statements inside a function to help debug things while you are in the middle of programming, as those are likely temporary statements that will be removed before you submit/share your code. But other side effects are really critical to document. Here is an example:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac_8_11_1 data-question_label="8.11.1.1">
<div id=ac_8_11_1_question class="ac_question">

</div>
<textarea data-lang="python" id="ac_8_11_1_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def random_square(tomi):
   """pre-condition: turtle canvas created"""
   """post-conditions: a square is drawn on canvas"""
   """    at a randomly chosen location"""
   """    square is a random color"""
   """    turtle is located at corner of random square"""
   """    turtle is a random color, pen is down"""
   x = random.randrange(-150,150)
   y = random.randrange(-150,150)
   tomi.penup()
   tomi.goto(x,y)
   tomi.pendown()
   size = 30
   tomi.color(random.random(), random.random(), random.random())
   for _ in range(4):
     tomi.right(90)
     tomi.forward(size)


wn = turtle.Screen()
t1 = turtle.Turtle()
t1.speed(20)

for _ in range(10):
   random_square(t1)
</textarea>
</div>
</div>
</section>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 8.10. 👩‍💻 Print vs. return' data-toggle="tooltip">
  <a href="Printvsreturn.html" aria-label="Previous - 8.10. 👩‍💻 Print vs. return">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 8.12. Listener Functions with Parameters' data-toggle="tooltip" >
    <a href="ListenerFunctionsWithParameters.html" aria-label="Next - 8.12. Listener Functions with Parameters">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022 clatulip.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 7.2.11.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>
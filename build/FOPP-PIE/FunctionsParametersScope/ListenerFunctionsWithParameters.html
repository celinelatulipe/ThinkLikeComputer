<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html  lang="en" class="runestone-sphinx">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>8.12. Listener Functions with Parameters &#8212; COMP 1000: Think Like a Computer</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=E2DC0A34" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=4182B24D" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-347.f9add1ca35d5ad93.css?v=306CBB19" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-runestone.f64dcc3632d7a0c3.css?v=F4F91F21" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script defer="" src="../_static/jquery.js"></script>
    <script defer="" src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script defer="" src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script defer="" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script defer="" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script defer="" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script defer="" src="../_static/html4css1.css?v=4533ACD3"></script>
    <script defer="" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script defer="" src="../_static/prefix-runtime.2438a8bdd6d43b5c.bundle.js?v=7D29D67B"></script>
    <script defer="" src="../_static/prefix-347.8328b60515045466.bundle.js?v=2CF09D3E"></script>
    <script defer="" src="../_static/prefix-runestone.aeac7cf9ad5c07ef.bundle.js?v=4FF65C30"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8.13. Glossary" href="Glossary.html" />
    <link rel="prev" title="8.11. Side Effects" href="FunctionSideEffects.html" />

  
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'FOPP-PIE';
    eBookConfig.basecourse = 'FOPP-PIE';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "good";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '7.2.11';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" id="rs-book-toc-link" href="../index.html" aria-label="index-page">
          
          FOPP-PIE
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="ad_warning"></span></li>
        <li><span id="browsing_warning"></span></li>

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://guide.runestone.academy' target="_blank" rel="noopener noreferrer" >Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=FOPP-PIE&page=ListenerFunctionsWithParameters'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">8.11. </span>Side Effects" data-toggle="tooltip">
    <a href="FunctionSideEffects.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">8.13. </span>Glossary' data-toggle="tooltip" >              
    <a href="Glossary.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="listener-functions-with-parameters">
<h1><span class="section-number">8.12. </span>Listener Functions with Parameters<a class="headerlink" href="#listener-functions-with-parameters" title="Permalink to this heading">Â¶</a></h1>
<p>Recall that in Chapter 6 we learned about adding interactivity to programs by adding <strong>listener functions</strong> that can respond to user events. The script below draws one random square, and then allows more squares to be drawn whenever the user presses the r key. The <strong>key_r</strong> function is a listener function that only gets called when the operating system detects that the r key is pressed by the user, while the turtle window is <strong>listening</strong> (note the statement on line X that tells the operating system to listen for events on this turtle graphics window).</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac8_12_1 data-question_label="8.12.1">
<div id=ac8_12_1_question class="ac_question">

</div>
<textarea data-lang="python" id="ac8_12_1_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def random_square():
    """ draws a random square with a random small size
        at turtle's current location
         Pre-Condition: Turtle name alex exists """
    side = random.randrange(10, 30) # get random size
    for _ in range(4): #draw a square in location
        alex.forward(side)
        alex.left(90)

def random_location():
    """ Take turtle to a random location on canvas
        Pre-conditions: Assume turtle is named alex, and
        canvas is 400 x 400 """
    x = random.randrange(-200, 200) # get random x location
    y = random.randrange(-200, 200) # get random y location
    alex.penup()
    alex.goto(x,y) # move to location without drawing
    alex.pendown()

def random_colour():
    """ Sets turtle to a random colour """
    alex.color(random.random(), random.random(), random.random())

def key_r():
    """ draw randomly coloured and positioned square """
    random_colour()
    random_location()
    random_square()

def key_q():
    """ close the canvas window """
    wn.bye()

wn = turtle.Screen()      # Set up the window and its attributes
alex = turtle.Turtle()    # create alex
alex.speed(10)            # make alex draw fast
random_colour()
random_location()
random_square()

wn.onkey(key_r, 'r')    # tell the operating system to execute function 'key_r()' when the 'r' key is pressed on the keyboard
wn.onkey(key_q, 'q')    # tell the operating system to execute function 'key_q()' when the 'q' key is pressed on the keyboard
wn.listen()             # tell the operating system to listen for events on the canvas window
</textarea>
</div>
</div>
<p>Now that we know about function parameters, we can revisit these listener functions and make use of other types of user events. What if we want the user to define not just when to add a square, but <strong>where</strong> to add a square? We can register a listener function that will listen for mouse click events. The reason we need parameters is that the operating system, when passing a mouse click event to Python, will pass along x and y coordinates of where in the turtle window the click happened. Those coordinates will be stored in x and y parameters. The script below is a modification of the one above that adds a mouse click listener.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac8_12_2 data-question_label="8.12.2">
<div id=ac8_12_2_question class="ac_question">

</div>
<textarea data-lang="python" id="ac8_12_2_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def random_square():
    """ draws a random square with a random small size
        at turtle's current location
         Pre-Condition: Turtle name alex exists """
    side = random.randrange(10, 30) # get random size
    for _ in range(4): #draw a square in location
        alex.forward(side)
        alex.left(90)

def random_location():
    """ Take turtle to a random location on canvas
        Pre-conditions: Assume turtle is named alex, and
        canvas is 400 x 400 """
    x = random.randrange(-200, 200) # get random x location
    y = random.randrange(-200, 200) # get random y location
    alex.penup()
    alex.goto(x,y) # move to location without drawing
    alex.pendown()

def random_colour():
    """ Sets turtle to a random colour """
    alex.color(random.random(), random.random(), random.random())

def key_r():
    """ draw randomly coloured and positioned square """
    random_colour()
    random_location()
    random_square()

def key_q():
    """ close the canvas window """
    wn.bye()

def click(x, y):
    """ go to clicked location, pick random color and draw square """
    alex.penup()
    alex.goto(x, y)
    alex.pendown()
    random_colour()
    random_square()

wn = turtle.Screen()      # Set up the window and its attributes
alex = turtle.Turtle()    # create alex
alex.speed(10)            # make alex draw fast
random_colour()
random_location()
random_square()

wn.onkey(key_r, 'r')    # tell the operating system to execute function 'key_r()' when the 'r' key is pressed on the keyboard
wn.onkey(key_q, 'q')    # tell the operating system to execute function 'key_q()' when the 'q' key is pressed on the keyboard
wn.onclick(click)       # tell the operating system to execute function 'click' when the user clicks the mouse
wn.listen()             # tell the operating system to listen for events on the canvas window
</textarea>
</div>
</div>
<p>Try this out yourself in the script below. The script registers four listener functions. Two are already complete. Complete the other two functions, as specified in the comments.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac8_12_3 data-question_label="8.12.3">
<div id=ac8_12_3_question class="ac_question">

</div>
<textarea data-lang="python" id="ac8_12_3_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def random_color():
    """ Sets turtle to a random colour """
    alex.color(random.random(), random.random(), random.random())


def quit():
    """ close the canvas window """
    wn.bye()

# TODO: create a toggle_pen function. If the pen is down, lift it up, if the pen is up, put it down.


# TODO: create a move function with x & y parameters. Move the turtle to the given x, y coordinates.


wn = turtle.Screen()      # Set up the window and its attributes
alex = turtle.Turtle()    # create alex
alex.speed(10)            # make alex draw fast

wn.onkey(random_color, 'c')    # tell the operating system to execute function 'random_colour()' when the 'c' key is pressed on the keyboard
wn.onkey(quit, 'q')    # tell the operating system to execute function 'quit()' when the 'q' key is pressed on the keyboard
wn.onkey(toggle_pen, 'p')    # tell the operating system to execute function 'toggle_pen' when the 'p' key is pressed on the keyboard
wn.onclick(move)       # tell the operating system to execute function 'move' when the user clicks the mouse
wn.listen()             # tell the operating system to listen for events on the canvas window
</textarea>
</div>
</div>
<p><strong>Check your understanding</strong></p>

    <div class="runestone ">
    <ul data-component="multiplechoice" data-question_label="8.12.4" data-multipleanswers="false"  id="question8_12_1"  style="visibility: hidden;">
    <p>Where does the message get written on canvas?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="kn">import</span> <span class="nn">random</span>


<span class="k">def</span> <span class="nf">here</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">alex</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">alex</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="n">alex</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
    <span class="n">alex</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;You are here!&quot;</span><span class="p">)</span>

<span class="n">wn</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Screen</span><span class="p">()</span>      <span class="c1"># Set up the window and its attributes</span>
<span class="n">alex</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Turtle</span><span class="p">()</span>    <span class="c1"># create alex</span>
<span class="n">alex</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="n">wn</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">here</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
</pre></div>
</div>

    <li data-component="answer"  id="question8_12_1_opt_a">center of the canvas</li><li data-component="feedback">It is possible that it is drawn there, if that's where the user clicks</li>
    
    <li data-component="answer"  id="question8_12_1_opt_b">100, 100</li><li data-component="feedback">It is possible that it is drawn there, if that's where the user clicks</li>
    
    <li data-component="answer"  id="question8_12_1_opt_c">It doesn't - the 'here' function is never called</li><li data-component="feedback">The message is in a listener function</li>
    
    <li data-component="answer" data-correct='yes' id="question8_12_1_opt_d">It depends on where the end user clicks</li><li data-component="feedback">Yes, because the code displaying the message is in a listener function that is called when the user clicks on the canvas</li>
    

    </ul>
    </div>
    </section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 8.11. Side Effects' data-toggle="tooltip">
  <a href="FunctionSideEffects.html" aria-label="Previous - 8.11. Side Effects">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 8.13. Glossary' data-toggle="tooltip" >
    <a href="Glossary.html" aria-label="Next - 8.13. Glossary">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022 clatulip.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 7.2.11.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>
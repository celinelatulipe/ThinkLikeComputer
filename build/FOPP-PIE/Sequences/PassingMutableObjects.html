<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html  lang="en" class="runestone-sphinx">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>9.10. Passing Mutable vs Immuatable Objects &#8212; COMP 1000: Think Like a Computer</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=E2DC0A34" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=4182B24D" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-347.f9add1ca35d5ad93.css?v=306CBB19" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-runestone.f64dcc3632d7a0c3.css?v=F4F91F21" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script defer="" src="../_static/jquery.js"></script>
    <script defer="" src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script defer="" src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script defer="" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script defer="" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script defer="" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script defer="" src="../_static/html4css1.css?v=4533ACD3"></script>
    <script defer="" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script defer="" src="../_static/prefix-runtime.2438a8bdd6d43b5c.bundle.js?v=7D29D67B"></script>
    <script defer="" src="../_static/prefix-347.8328b60515045466.bundle.js?v=2CF09D3E"></script>
    <script defer="" src="../_static/prefix-runestone.aeac7cf9ad5c07ef.bundle.js?v=4FF65C30"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9.11. Mutable Object Side Effects" href="MutableObjectSideEffects.html" />
    <link rel="prev" title="9.9. Splitting and Joining Strings" href="SplitandJoin.html" />

  
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'FOPP-PIE';
    eBookConfig.basecourse = 'FOPP-PIE';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "good";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '7.2.11';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" id="rs-book-toc-link" href="../index.html" aria-label="index-page">
          
          FOPP-PIE
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="ad_warning"></span></li>
        <li><span id="browsing_warning"></span></li>

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://guide.runestone.academy' target="_blank" rel="noopener noreferrer" >Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=FOPP-PIE&page=PassingMutableObjects'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">9.9. </span>Splitting and Joining Strings" data-toggle="tooltip">
    <a href="SplitandJoin.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">9.11. </span>Mutable Object Side Effects' data-toggle="tooltip" >              
    <a href="MutableObjectSideEffects.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="passing-mutable-vs-immuatable-objects">
<h1><span class="section-number">9.10. </span>Passing Mutable vs Immuatable Objects<a class="headerlink" href="#passing-mutable-vs-immuatable-objects" title="Permalink to this heading">¶</a></h1>
<p>Now that you have a deeper understanding of sequences, we need to revisit functions and parameters. In this section, we look at what happens when we pass mutable lists vs. unmutable tuples and strings to functions.</p>
<p>Take a look at the following code example. Can you predict what is printed out?</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_9_1 data-question_label="9.10.1">
<div id=ac9_9_1_question class="ac_question">

</div>
<textarea data-lang="python" id="ac9_9_1_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
def double(y):
    y = 2 * y

num = 5
double(num)
print(num)
</textarea>
</div>
</div>
<p>Use <strong>Show CodeLens</strong> to step through the code to see why the assignment to the formal parameter <code class="docutils literal notranslate"><span class="pre">y</span></code>
inside the <code class="docutils literal notranslate"><span class="pre">double</span></code> function on (line 2) did not affect the global variable <code class="docutils literal notranslate"><span class="pre">num</span></code>. An assignment to a formal parameter inside a function <strong>never</strong>
affects the argument in the caller.</p>
<section id="passing-lists">
<h2><span class="section-number">9.10.1. </span>Passing Lists<a class="headerlink" href="#passing-lists" title="Permalink to this heading">¶</a></h2>
<p>On the other hand, if you are passing a mutable object, such as a list, to a function, and the function alters the
object’s state, that state change will be visible globally when the function returns. Take a look at the following
example, where a list is passed in to a function.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_9_2 data-question_label="9.10.1.1">
<div id=ac9_9_2_question class="ac_question">

</div>
<textarea data-lang="python" id="ac9_9_2_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
def changeit(lst):
    lst[0] = "Manitoba"
    lst[1] = "Bisons"

mylst = ['our', 'students', 'are', 'awesome']
changeit(mylst)
print(mylst)
</textarea>
</div>
</div>
<p>Try stepping through this in Codelens to see what happens. The state of the list referenced by <code class="docutils literal notranslate"><span class="pre">lst</span></code> is altered
by <code class="docutils literal notranslate"><span class="pre">changeit</span></code>, and since <code class="docutils literal notranslate"><span class="pre">lst</span></code> is an alias for <code class="docutils literal notranslate"><span class="pre">mylst</span></code>, <code class="docutils literal notranslate"><span class="pre">mylst</span></code> is affected by the actions taken by the function.</p>
<p>Look closely at this line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Manitoba&quot;</span>
</pre></div>
</div>
<p>That statement modifies the state of <code class="docutils literal notranslate"><span class="pre">lst</span></code> by changing the value in slot 0. Although that line may appear to contradict the
statement above that “an assignment to a formal parameter inside a function never affects the argument in the caller,”
note that there is a difference between assigning to a <em>slot</em> of a list, and assigning to the list variable itself.
To see that difference, try changing that line to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Manitoba&quot;</span><span class="p">,</span> <span class="s2">&quot;Bisons&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Then, run again. This time, <code class="docutils literal notranslate"><span class="pre">mylist</span></code> is not altered. To understand why, use CodeLens to step carefully through the code
and observe how the assignment to <code class="docutils literal notranslate"><span class="pre">lst</span></code> causes it to refer to a separate list.</p>
<p>Take a moment to experiment some more with the <code class="docutils literal notranslate"><span class="pre">changeit</span></code> function. Change the body of the function to the following:</p>
<blockquote>
<div><p>lst.append(“Manitoba Bisons”)</p>
</div></blockquote>
<p>Step through using CodeLens. You should see that <code class="docutils literal notranslate"><span class="pre">mylst</span></code> is affected by this change, since the state of the list is altered.</p>
<p>Then, try again with this as the body:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span> <span class="o">=</span> <span class="n">lst</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;Manitoba Bisons&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Step through using CodeLens. Here, we create a new list using the concatenation operator, and <code class="docutils literal notranslate"><span class="pre">mylst</span></code> is not affected by the change.</p>
<p>Understanding the techniques that functions can and cannot use to alter the state of mutable parameters is important.
You may want to take some time to study the information on this page more thoroughly and play with the examples until
you feel confident about your grasp of the material.</p>
</section>
<section id="passing-tuples">
<h2><span class="section-number">9.10.2. </span>Passing Tuples<a class="headerlink" href="#passing-tuples" title="Permalink to this heading">¶</a></h2>
<p>Tuples are just like lists, except they are not mutable. If you pass a tuple into a function and that function tries to modify the contents of it, an error will be thrown. Consider this example:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_9_3 data-question_label="9.10.2.1">
<div id=ac9_9_3_question class="ac_question">

</div>
<textarea data-lang="python" id="ac9_9_3_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
def changeit(lst):
    lst[0] = "Manitoba"  #this will throw an error if lst points to a tuple!
    lst[1] = "Bisons"

mytuple = ('our', 'students', 'are', 'awesome')
changeit(mytuple)  # sending a tuple to this method is going to cause an error in the method
print(mytuple)
</textarea>
</div>
</div>
<p>If you want this to work, you need to convert the tuple into a list, and then store a returned list:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_9_4 data-question_label="9.10.2.2">
<div id=ac9_9_4_question class="ac_question">

</div>
<textarea data-lang="python" id="ac9_9_4_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
def changeit(lst):
    lst[0] = "Manitoba"  #this will throw an error if lst points to a tuple!
    lst[1] = "Bisons"
    return lst

mytuple = ('our', 'students', 'are', 'awesome')
modified_list = changeit(list(mytuple))  # create a list from the tuple, and send that list to changeit
print(mytuple)
print(modified_list)
</textarea>
</div>
</div>
</section>
<section id="ethics-data-protection">
<h2><span class="section-number">9.10.3. </span>Ethics &amp; Data Protection<a class="headerlink" href="#ethics-data-protection" title="Permalink to this heading">¶</a></h2>
<p>We most often use lists for storing data, because we often want the flexibility of being able to edit and change information. However, sometimes there is important data (private personal data, health data, salaries, etc.) that needs to be protected from tampering. As a programmer, if you need to share data but you want to ensure the data isn’t tampered with, you can send the data as a tuple. This allows a function to make use of the data, but not change it. Consider this example, which makes use of the accumulator pattern, reading from a tuple, but not modifying it:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_9_5 data-question_label="9.10.3.1">
<div id=ac9_9_5_question class="ac_question">

</div>
<textarea data-lang="python" id="ac9_9_5_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
def avg_salaries(lst):
    sum = 0;
    count = 0;
    for item in lst:
        sum += item
        count += 1

    return sum/count

company_salaries = (45376, 27995, 102345, 160300, 86900, 49354, 68451)
avg_sal = avg_salaries(company_salaries)
print(avg_sal)
</textarea>
</div>
</div>
<p>The avg_salaries function could take a list or a tuple. By passing in a tuple, the programmer ensures the data is not modified. In this case, where the function is in the same file, it’s obvious that the list isn’t modified inside the function. But often you import modules and use functions that other people have written. As a programmer, you need to ensure that any private data you are responsible for isn’t modified inappropriately, and you can do this by using safe structures like tuples.</p>
<p><strong>Check Your Understanding</strong></p>

    <div class="runestone ">
    <ul data-component="multiplechoice" data-question_label="9.10.3.2" data-multipleanswers="false"  id="mutobj-q1a"  style="visibility: hidden;">
    <p>What is the output of the following code fragment?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="n">myfun</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<li data-component="answer" data-correct id="mutobj-q1a_opt_a"><p>[‘a’, ‘b’]</p>
</li><li data-component="feedback" id="mutobj-q1a_opt_a">
<p>Correct! <code class="docutils literal notranslate"><span class="pre">mylist</span></code> is not changed by the assignment in <code class="docutils literal notranslate"><span class="pre">myfun</span></code>.</p></li><li data-component="answer"  id="mutobj-q1a_opt_b"><p>[1, 2, 3]</p>
</li><li data-component="feedback" id="mutobj-q1a_opt_b">
<p>Incorrect. <code class="docutils literal notranslate"><span class="pre">mylist</span></code> is not changed by the assignment in <code class="docutils literal notranslate"><span class="pre">myfun</span></code>.</p></li>

    </ul>
    </div>
    
    <div class="runestone ">
    <ul data-component="multiplechoice" data-question_label="9.10.3.3" data-multipleanswers="false"  id="mutobj-q2a"  style="visibility: hidden;">
    <p>What is the output of the following code fragment?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="k">del</span> <span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="n">myfun</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<li data-component="answer"  id="mutobj-q2a_opt_a"><p>[‘a’, ‘b’]</p>
</li><li data-component="feedback" id="mutobj-q2a_opt_a">
<p>Incorrect. <code class="docutils literal notranslate"><span class="pre">myfun</span></code> alters the state of the list object by removing the value at slot 0.</p></li><li data-component="answer" data-correct id="mutobj-q2a_opt_b"><p>[‘b’]</p>
</li><li data-component="feedback" id="mutobj-q2a_opt_b">
<p>Correct! <code class="docutils literal notranslate"><span class="pre">myfun</span></code> alters the state of the list object by removing the value at slot 0.</p></li>

    </ul>
    </div>
    </section>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 9.9. Splitting and Joining Strings' data-toggle="tooltip">
  <a href="SplitandJoin.html" aria-label="Previous - 9.9. Splitting and Joining Strings">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 9.11. Mutable Object Side Effects' data-toggle="tooltip" >
    <a href="MutableObjectSideEffects.html" aria-label="Next - 9.11. Mutable Object Side Effects">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022 clatulip.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 7.2.11.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>
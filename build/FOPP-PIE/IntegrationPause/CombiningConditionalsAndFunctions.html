<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html  lang="en" class="runestone-sphinx">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>7.4. Combining Conditionals and Functions &#8212; COMP 1000: Think Like a Computer</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=E2DC0A34" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=4182B24D" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-347.f9add1ca35d5ad93.css?v=306CBB19" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-runestone.f64dcc3632d7a0c3.css?v=F4F91F21" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script defer="" src="../_static/jquery.js"></script>
    <script defer="" src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script defer="" src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script defer="" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script defer="" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script defer="" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script defer="" src="../_static/html4css1.css?v=4533ACD3"></script>
    <script defer="" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script defer="" src="../_static/prefix-runtime.2438a8bdd6d43b5c.bundle.js?v=7D29D67B"></script>
    <script defer="" src="../_static/prefix-347.8328b60515045466.bundle.js?v=2CF09D3E"></script>
    <script defer="" src="../_static/prefix-runestone.aeac7cf9ad5c07ef.bundle.js?v=4FF65C30"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.5. Combining Iterations, Conditionals and Functions" href="CombiningIterationConditionalsAndFunctions.html" />
    <link rel="prev" title="7.3. Combining Iterations and Conditionals" href="CombiningIterationAndConditionals.html" />

  
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'FOPP-PIE';
    eBookConfig.basecourse = 'FOPP-PIE';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "good";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '7.2.11';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" id="rs-book-toc-link" href="../index.html" aria-label="index-page">
          
          FOPP-PIE
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="ad_warning"></span></li>
        <li><span id="browsing_warning"></span></li>

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://guide.runestone.academy' target="_blank" rel="noopener noreferrer" >Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=FOPP-PIE&page=CombiningConditionalsAndFunctions'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">7.3. </span>Combining Iterations and Conditionals" data-toggle="tooltip">
    <a href="CombiningIterationAndConditionals.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">7.5. </span>Combining Iterations, Conditionals and Functions' data-toggle="tooltip" >              
    <a href="CombiningIterationConditionalsAndFunctions.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="combining-conditionals-and-functions">
<h1><span class="section-number">7.4. </span>Combining Conditionals and Functions<a class="headerlink" href="#combining-conditionals-and-functions" title="Permalink to this heading">¶</a></h1>
<p>In this section, we will look at examples where:</p>
<ul class="simple">
<li><p>We use conditional branching inside of a function</p></li>
<li><p>We call functions from inside a conditional branch</p></li>
</ul>
<p>Remember that we use functions to help break our code up into smaller, meaningful sub-tasks, and to enable easy code re-use. We use conditionals when we need to decide what code to execute based on some information (such as the state of certain variables, the contents in a list, or input we get from a user). So we will often make a decision and than call a function to perform different tasks depending on the decision outcome (calling functions from within conditional branches). It also makes sense that quite often within a function that performs a task, we need to make decisions as part of that task (having donditional statements inside of functions). And sometimes, we want to do both of those things.</p>
<section id="conditional-branching-inside-functions">
<h2><span class="section-number">7.4.1. </span>Conditional Branching inside Functions<a class="headerlink" href="#conditional-branching-inside-functions" title="Permalink to this heading">¶</a></h2>
<p>We use conditional branches inside functions when the function task involves making decisions about things. That could look like any of these:</p>
<a class="reference internal image-reference" href="../_images/conditionals_inside_functions.png"><img alt="../_images/conditionals_inside_functions.png" class="align-center" src="../_images/conditionals_inside_functions.png" style="width: 600px;" /></a>
<p>A toggle function is a really good example of a function with a conditional inside of it. Let’s imagine that we want a turtle to switch between drawing in red and black whenever the user presses the ‘t’ key on the keyboard. The following code accomplishes this through the toggle_color() function, which contains an if-else conditional statement.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac7_4_1 data-question_label="7.4.1.1">
<div id=ac7_4_1_question class="ac_question">

</div>
<textarea data-lang="python" id="ac7_4_1_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def toggle_color():
    if tami.pencolor() == "Red":
        tami.pencolor("Black")
    else:
        tami.pencolor("Red")

def random_move():
    x = random.randrange(-180, 180)
    y = random.randrange(-180, 180)
    tami.goto(x,y)

def key_t():
    toggle_color()

def key_c():
    toggle_color()

def key_m():
    random_move()

wn = turtle.Screen()
tami = turtle.Turtle()

tami.home()

wn.onkey(key_t, "t")
wn.onkey(key_c, "c")
wn.onkey(key_m, "m")
wn.listen()
</textarea>
</div>
</div>
<p>A few things to note about this example:</p>
<ul class="simple">
<li><p>The turtle moves to a random location whenever the user presses the ‘m’ key</p></li>
<li><p>We haven’t used an elif condition to check if the pencolor is black before switching it to red, but that would be a good idea if we thought the pen color could be set to something else somewhere else in the code.</p></li>
<li><p>You may be wondering why we don’t just put the if-else inside the key_t() listener function. But notice that we have actually allowed the user to press either the t key (for “Toggle”) or the c key (for “Color”) to toggle the color. If we put the if-else in the key_t() function, we’d then have to repeat it in the key_c() function. Remember that we want to avoid repeating code. We might also later want to toggle the pen color in response to some other thing happening (such as the turtle hitting the edge of the canvas). The toggle_color() function can be called from any part of the code, and then it makes a decision, based on the current state of the turtle, to update the turtle to a different color.</p></li>
<li><p>The tami.home() command is necessary in the Runestone textbook version of this code. If we don’t have a turtle movement command of some sort, Runestone won’t show the canvas, and until the canvas is shown, there is nothing to listen for. You wouldn’t need that command if you were running this code in a desktop Python environment.</p></li>
</ul>
</section>
<section id="calling-functions-from-conditional-blocks">
<h2><span class="section-number">7.4.2. </span>Calling Functions from Conditional Blocks<a class="headerlink" href="#calling-functions-from-conditional-blocks" title="Permalink to this heading">¶</a></h2>
<p>It’s quite typical to have different functions for different tasks and then to call those functions depending on what happens at runtime. This is particularly true in event-based programming. The example above has the turtle moving and changing color in response to key presses. We can also imagine a program in which different things happen depending on the value of some variable, so we use a conditional to test that value, and then call various functions in response. In the turtle example below, everything happens in response to key presses. Some key presses change the current drawing color. Pressing the ‘d’ key causes shapes to be drawn, but the shape is dependent on the pen color. So a conditional tests the pen color, and then calls different shape drawing functions.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac7_4_2 data-question_label="7.4.2.1">
<div id=ac7_4_2_question class="ac_question">

</div>
<textarea data-lang="python" id="ac7_4_2_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random


def key_r():
    tami.pencolor("Red")

def key_g():
    tami.pencolor("Green")

def key_b():
    tami.pencolor("Blue")


def random_move():
    x = random.randrange(-180, 180)
    y = random.randrange(-180, 180)
    tami.penup()
    tami.goto(x,y)
    tami.pendown()

def square():
    random_move()
    tami.forward(50)
    tami.left(90)
    tami.forward(50)
    tami.left(90)
    tami.forward(50)
    tami.left(90)
    tami.forward(50)
    tami.left(90)

def triangle():
    random_move()
    tami.forward(50)
    tami.left(120)
    tami.forward(50)
    tami.left(120)
    tami.forward(50)
    tami.left(120)

def tri_stamp():
    random_move()
    tami.stamp()
    tami.left(120)
    tami.stamp()
    tami.left(120)
    tami.stamp()
    tami.left(120)

def key_d():
    if tami.pencolor() == "Red":
        square()

    elif tami.pencolor() == "Green":
        triangle()

    else:
        tri_stamp()

wn = turtle.Screen()
tami = turtle.Turtle()
tami.shape("turtle")
tami.home()


wn.onkey(key_d, "d")
wn.onkey(key_r, "r")
wn.onkey(key_g, "g")
wn.onkey(key_b, "b")
wn.listen()
</textarea>
</div>
</div>
<p>Things to note about this example:</p>
<ul class="simple">
<li><p>The code inside the three drawing functions is repetitive. All of these functions could be improved with for loops, but we wanted this example to only have functions and conditionals.</p></li>
<li><p>This example uses function composition. The three drawing functions (square(), triangle() and tri_stamp() all call the random_move() function to get the turtle to a random position on campus first)</p></li>
</ul>
<p>And this is an image that shows the functions being called within the d key handler, which is itself a function, called by the system when the end user presses the d key.</p>
<a class="reference internal image-reference" href="../_images/d-key_handler.png"><img alt="../_images/d-key_handler.png" class="align-center" src="../_images/d-key_handler.png" style="width: 400px;" /></a>
<p>While the image above depicts what is happening in the d-key handler, it doesn’t fully explain the path of execution for this interactive program. Let’s look at a bigger diagram that gives a more complete picture of what is happening:</p>
<a class="reference internal image-reference" href="../_images/GUI_event_loop_turtles.png"><img alt="../_images/GUI_event_loop_turtles.png" class="align-center" src="../_images/GUI_event_loop_turtles.png" style="width: 800px;" /></a>
<p>In this diagram, we show that when we create a turtle program that includes event listeners, the turtle module in Python works with the operating system to create what we call a GUI system event loop. That’s the big pink rectangle at the left and we don’t have to write the code for the event loop - it’s handled for us by Python and the turtle module. We have to write some starting code to trigger that: we set up the world and turtle and register the functions that will respond to events we want to listen for, and then we tell Python to start listening. That is what starts the GUI event loop. Python and the turtle module then sit in a loop waiting for user interface events, such as key presses and mouse clicks. When an event occurs, if it is an event we registered a handler for, that handler function is called. Once we have handled the event, you can think of the flow of execution going back to the pink loop, to wait for another event to handle. Note all of the dashed lines indicate function calls that we don’t make in our code. We don’t ever call r_key or g_key, etc. They are only called by the system in response to user events. However, we do explicitly call square(), tri_stamp() and triangle() and those functions all call random_move() (which we didn’t show in this diagram).</p>
<p>A few other things you might note here: if an event occurs that we haven’t registered a handler function for (such as someone dragging the mouse, or pressing the ‘m’ key), those events will be ignored and the system will just keep waiting for more events. Also, if the user closes the window (the browser tab in Runestone or the turtle canvas window if you run this program on your computer), that will cause the GUI event loop to close, because the events are linked to the turtle canvas/window.</p>
<p>You’ll see more detailed examples of GUI system event loops in a later chapter where we explore event-based programming in more detail.</p>
</section>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 7.3. Combining Iterations and Conditionals' data-toggle="tooltip">
  <a href="CombiningIterationAndConditionals.html" aria-label="Previous - 7.3. Combining Iterations and Conditionals">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 7.5. Combining Iterations, Conditionals and Functions' data-toggle="tooltip" >
    <a href="CombiningIterationConditionalsAndFunctions.html" aria-label="Next - 7.5. Combining Iterations, Conditionals and Functions">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022 clatulip.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 7.2.11.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>
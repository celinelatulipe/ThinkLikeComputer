<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html  lang="en" class="runestone-sphinx">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>5.11. Writing Text Files &#8212; COMP 1000: Think Like a Computer</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=E2DC0A34" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=4182B24D" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-347.f9add1ca35d5ad93.css?v=306CBB19" />
    <link rel="stylesheet" type="text/css" href="../_static/prefix-runestone.f64dcc3632d7a0c3.css?v=F4F91F21" />



    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script defer="" src="../_static/jquery.js"></script>
    <script defer="" src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script defer="" src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script defer="" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script defer="" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script defer="" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script defer="" src="../_static/html4css1.css?v=4533ACD3"></script>
    <script defer="" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script defer="" src="../_static/prefix-runtime.2438a8bdd6d43b5c.bundle.js?v=7D29D67B"></script>
    <script defer="" src="../_static/prefix-347.8328b60515045466.bundle.js?v=2CF09D3E"></script>
    <script defer="" src="../_static/prefix-runestone.aeac7cf9ad5c07ef.bundle.js?v=4FF65C30"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.12. 👩‍💻 Tips on Handling Files" href="WPTipsHandlingFiles.html" />
    <link rel="prev" title="5.10. Finding a File in your Filesystem" href="FindingaFileonyourDisk.html" />

  
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'FOPP-PIE';
    eBookConfig.basecourse = 'FOPP-PIE';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "good";
  eBookConfig.python3 = true;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '7.2.11';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" id="rs-book-toc-link" href="../index.html" aria-label="index-page">
          
          FOPP-PIE
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="ad_warning"></span></li>
        <li><span id="browsing_warning"></span></li>

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://guide.runestone.academy' target="_blank" rel="noopener noreferrer" >Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=FOPP-PIE&page=WritingTextFiles'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">5.10. </span>Finding a File in your Filesystem" data-toggle="tooltip">
    <a href="FindingaFileonyourDisk.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">5.12. </span>👩‍💻 Tips on Handling Files' data-toggle="tooltip" >              
    <a href="WPTipsHandlingFiles.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <section id="writing-text-files">
<h1><span class="section-number">5.11. </span>Writing Text Files<a class="headerlink" href="#writing-text-files" title="Permalink to this heading">¶</a></h1>
<p>One of the most common data processing tasks is to read data from a file,
manipulate it in some way, and then write the resulting data out to a new data file to be used
for other purposes later. To accomplish this, the <code class="docutils literal notranslate"><span class="pre">open</span></code> function discussed earlier can also be
used to create a new file prepared for writing. Note in <a class="reference internal" href="WorkingwithDataFiles.html#filemethods1a"><span class="std std-ref">Table 1</span></a>
that the only difference between opening a file for writing and opening a file for reading is
the use of the <code class="docutils literal notranslate"><span class="pre">'w'</span></code> flag instead of the <code class="docutils literal notranslate"><span class="pre">'r'</span></code> flag as the second parameter. When we open
a file for writing, a new, empty file with that name is created and made ready to accept our
data. If an existing file has the same name, its contents are overwritten. As before, the
function returns a reference to the new file object.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">write</span></code> method allows us to add data to a text file. Recall that text files
contain sequences of characters. We usually think of these character sequences as being the
lines of the file where each line ends with the newline <code class="docutils literal notranslate"><span class="pre">\n</span></code> character. Be very careful to
notice that the <code class="docutils literal notranslate"><span class="pre">write</span></code> method takes one parameter, a string. When invoked, the characters of
the string will be added to the end of the file. This means that it is the programmer’s job to
include the newline characters as part of the string if desired.</p>
<p>Assume that we have been asked to provide a file consisting of all the squared numbers from 1
to 12.</p>
<p>First, we will need to open the file. Afterwards, we will iterate through the numbers 1 through
12, and square each one of them. This new number will need to be converted to a string, and
then it can be written into the file.</p>
<p>The program below solves part of the problem. We first want to make sure that we’ve written the
correct code to calculate the square of each number.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac5_11_1 data-question_label="5.11.1">
<div id=ac5_11_1_question class="ac_question">

</div>
<textarea data-lang="python" id="ac5_11_1_editor" 
      data-timelimit=25000  data-codelens="true"   
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
for number in range(1, 13):
    square = number * number
    print(square)
</textarea>
</div>
</div>
<p>When we run this program, we see the lines of output on the screen. Once we are satisfied that
it is creating the appropriate output, the next step is to add the necessary pieces to produce
an output file and write the data lines to it. To start, we need to open a new output file by
calling the <code class="docutils literal notranslate"><span class="pre">open</span></code> function, <code class="docutils literal notranslate"><span class="pre">outfile</span> <span class="pre">=</span> <span class="pre">open(&quot;squared_numbers.txt&quot;,'w')</span></code>, using the <code class="docutils literal notranslate"><span class="pre">'w'</span></code>
flag.  We can choose any file name we like. If the file does not exist, it will be created.
However, if the file does exist, it will be reinitialized as empty and you will lose any
previous contents.</p>
<p>Once the file has been created, we just need to call the <code class="docutils literal notranslate"><span class="pre">write</span></code> method passing the string
that we wish to add to the file. In this case, the string is already being printed so we will
just change the <code class="docutils literal notranslate"><span class="pre">print</span></code> into a call to the <code class="docutils literal notranslate"><span class="pre">write</span></code> method. However, there is an additional
step to take, since the write method can only accept a string as input. We’ll need to convert
the number to a string. Then, we just need to add one extra character to the string. The
newline character needs to be concatenated to the end of the line. The entire line now becomes
<code class="docutils literal notranslate"><span class="pre">outfile.write(str(square)+</span> <span class="pre">'\n')</span></code>. The print statement automatically outputs a newline
character after whatever text it outputs, but the write method does not do that automatically.
We also need to close the file when we are done.</p>
<p>The complete program is shown below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As with file reading, for security reasons the runestone interactive textbook environment does not write files to the file system on your local computer. In an activecode window, we simulate writing to a file. The contents of the written file are shown and you can do a subsequent read of the contents of that filename.  If you try to overwrite a file that’s built in to the page, it may not let you; don’t try to get too fancy with our file system simulator!</p>
</div>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac5_11_2 data-question_label="5.11.2">
<div id=ac5_11_2_question class="ac_question">

</div>
<textarea data-lang="python" id="ac5_11_2_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
filename = "squared_numbers.txt"
outfile = open(filename, "w")

for number in range(1, 13):
    square = number * number
    outfile.write(str(square) + "\n")

outfile.close()

infile = open(filename, "r")
first10 = infile.read(10)
print(first10)
infile.close()
</textarea>
</div>
</div>
<p>At the end, we have printed the first 10 characters to the output window.
If the output in the console is shorter than you expect, recall two things: first the read(n) function reads the first n <em>characters</em> not the first n <em>lines</em>. Second, remember that the squares have a <code class="docutils literal notranslate"><span class="pre">\n</span></code> after each, and that counts as a character.</p>
</section>


  

  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 5.10. Finding a File in your Filesystem' data-toggle="tooltip">
  <a href="FindingaFileonyourDisk.html" aria-label="Previous - 5.10. Finding a File in your Filesystem">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 5.12. 👩‍💻 Tips on Handling Files' data-toggle="tooltip" >
    <a href="WPTipsHandlingFiles.html" aria-label="Next - 5.12. 👩‍💻 Tips on Handling Files">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022 clatulip.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 7.2.11.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>
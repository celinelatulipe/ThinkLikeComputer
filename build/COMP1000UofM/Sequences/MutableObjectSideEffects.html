<!-- ****************************************
     |docname| - main template for this theme
     **************************************** -->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>9.10. Mutable Object Side Effects &#8212; COMP 1000: Think Like a Computer</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" type="text/css" href="../_static/CodeChat.css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=50109A2C" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/vendors-node_modules_bootstrap_dist_js_bootstrap_js-node_modules_jquery-ui_jquery-ui_js-node_-72cd89.cd688d1623c9932e.css?v=630908D8" />
    <link rel="stylesheet" type="text/css" href="../_static/runestone.675cfab3e021b8f9.css?v=AC6C1FF6" />



    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script defer="" src="../_static/jquery.js"></script>
    <script defer="" src="../_static/underscore.js"></script>
    <script defer="" src="../_static/doctools.js"></script>
    <script defer="" src="../_static/matrixeq.js?v=D64CFA5A"></script>
    <script defer="" src="../_static/webglinteractive.js?v=2B768384"></script>
    <script defer="" src="../_static/FileSaver.min.js?v=8408C997"></script>
    <script defer="" src="../_static/html4css1.css?v=4533ACD3"></script>
    <script defer="" src="../_static/animationbase.js?v=A043C3A7"></script>
    <script defer="" src="../_static/runtime.15a489335c5c6109.bundle.js?v=8DB56D48"></script>
    <script defer="" src="../_static/vendors-node_modules_bootstrap_dist_js_bootstrap_js-node_modules_jquery-ui_jquery-ui_js-node_-72cd89.51d9dde4e5162190.bundle.js?v=9CAA2D33"></script>
    <script defer="" src="../_static/runestone.a1906624d1effde5.bundle.js?v=919C0428"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9.11. Exercises" href="Exercises.html" />
    <link rel="prev" title="9.9. Passing Mutable vs Immuatable Objects" href="PassingMutableObjects.html" />


<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />



<link rel="canonical" href="https://{{canonical_host}}{{new_server_prefix}}/books/published/{{base_course}}/{{pagepath}}" />


<script>
  eBookConfig = {};
  
    eBookConfig.useRunestoneServices = false;
    eBookConfig.host = 'http://127.0.0.1:8000' || 'http://127.0.0.1:8000';
    eBookConfig.app = eBookConfig.host+'/runestone';
    eBookConfig.course = 'COMP1000UofM';
    eBookConfig.basecourse = 'COMP1000UofM';
    eBookConfig.isLoggedIn = false;
    eBookConfig.enableCompareMe = eBookConfig.useRunestoneServices;
    eBookConfig.new_server_prefix = '';
  
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "good";
  eBookConfig.python3 = false;
  eBookConfig.acDefaultLanguage = 'python' ? 'python' : 'python'
  eBookConfig.runestone_version = '6.0.9';
  eBookConfig.jobehost = '';
  eBookConfig.proxyuri_runs = '';
  eBookConfig.proxyuri_files = '';
  eBookConfig.enable_chatcodes = false ? false : false;
  eBookConfig.enableScratchAC = true;

</script>

<!-- Ad Serving Headers Only serve ads to Anonymous Users -->



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse" aria-label="navbar toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        
        
          <a class="brand-logo" href="/runestone/default/user/login" aria-label="Login"><img src="../_static/img/RAIcon.png" alt=""></a>
        
        <a class="navbar-brand" href="../index.html" aria-label="index-page">
          
          COMP1000UofM
        </a>
      </div>
    </div>



    <div class="navbar-collapse collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right" >

        <li class="divider-vertical"></li>
        <li><span id="browsing_warning"></span></li>

        <!-- social media dropdown -->
        
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-globe" style="opacity: 0.9"><span class="visuallyhidden" aria-label="Social">Social</span></i>
          </a>
          <ul class="dropdown-menu social-menu">
              <li>
                <div>
                  <b>Runestone in social media:</b>
                </div>
                <a href="https://twitter.com/iRunestone">Follow @iRunestone</a>
                <a href="https://www.facebook.com/RunestoneInteractive">Our Facebook Page</a>
              </li>

              <li class="divider"></li>
              <li>
                <div>
                  <b>Help support us:</b>
                </div>
                <div>
                    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                  <input type="hidden" name="cmd" value="_s-xclick">
                  <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
                  ">
                  <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                  <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                  </form>

                </div>
              </li>
          </ul>
        </li><!-- end social media dropdown -->

        <li class="divider-vertical"></li>
        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'><span class="visuallyhidden" aria-label="Search">Search</span></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../index.html' aria-label="index-page">Table of Contents</a></li>
            
            <li><a href='../genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

        
        <li class="divider-vertical"></li>
        <!-- <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">Scratch ActiveCode</a></li> -->

        <!-- <li class="dropdown">             -->
          <li id="scratch_ac_link" class="dropdown"><a href="javascript:runestoneComponents.popupScratchAC()">
              <i class="glyphicon glyphicon-pencil" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Scratch Activecode" >Scratch Activecode</span></i></a></li>
        <!-- </li> -->

        <li class="divider-vertical"></li>

        
        <!-- help menu dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-question-sign" style="opacity:0.9;"><span class="visuallyhidden" aria-label="Help">Help</span></i>
          </a>
          <ul class="dropdown-menu user-menu">
            <li><a href='http://runestoneinteractive.org/pages/faq.html'>FAQ</a></li>
            <li><a href='https://runestone.academy/ns/books/published/instructorguide/index.html'>Instructors Guide</a></li>
            <li class="divider"></li>
            <li><a href='http://runestoneinteractive.org'>About Runestone</a></li>
            <li><a href='/runestone/default/reportabug?course=COMP1000UofM&page=MutableObjectSideEffects'>Report A Problem</a></li>
          </ul>
        </li>
        <!-- end help menu dropdown -->

        <li class="divider-vertical"></li>
      
      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        
          
          <li class="divider-vertical"></li>
        
        <!-- 
          
  <li id="relations-prev" title="Previous Chapter - <span class="section-number">9.9. </span>Passing Mutable vs Immuatable Objects" data-toggle="tooltip">
    <a href="PassingMutableObjects.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - <span class="section-number">9.11. </span>Exercises' data-toggle="tooltip" >              
    <a href="Exercises.html" >
        <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script>
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  window.addEventListener('load', (event) => {
    $('#relations-prev').tooltip(opts);
    $('#relations-next').tooltip(opts);
  });
</script>
        -->
        
          <li></li>
        
      </ul>
      </div> <!-- navbar-collapse -->
    </div> <!-- navbar -->
  </div> <!-- container -->


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content" role="main">

<!-- Ad Serving for Runestone Campaign -->


  
  <div class="section" id="mutable-object-side-effects">
<h1><span class="section-number">9.10. </span>Mutable Object Side Effects<a class="headerlink" href="#mutable-object-side-effects" title="Permalink to this headline">¶</a></h1>
<p>When we pass mutable objects, like lists, to functions, the contenst of those objects can be changed within the function. This is a side effect, if the
object is not returned from the function. Consider the following example, which we have seen before:</p>

<div class="runestone codelens ">
    <div class="cd_section" data-component="codelens" data-question_label="9.10.1">
        <div id=clens9_10_1_question class="ac_question">
        </div>
        <div class="pytutorVisualizer" id="clens9_10_1"
           data-params='{"embeddedMode": true, "lang": "python", "jumpToEnd": false}'>
        </div>
        <p class="runestone_caption"><span class="runestone_caption_text">Activity: CodeLens 9.10.1 (clens9_10_1)</span> </p>
    </div>

<script>
var clens9_10_1_vis;

if (allTraceData === undefined) {
   var allTraceData = {};
}

allTraceData["clens9_10_1"] = {"code": "def bison(lst):\n   lst[0] = \"Manitoba\"\n   lst[1] = \"Bisons\"\n\nmylst = ['COMP 1000', 'students', 'are', 'awesome']\nbison(mylst)\nprint(mylst)", "trace": [{"line": 1, "event": "step_line", "func_name": "<module>", "globals": {}, "ordered_globals": [], "stack_to_render": [], "heap": {}, "stdout": ""}, {"line": 5, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1]}, "ordered_globals": ["bison"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null]}, "stdout": ""}, {"line": 6, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 1, "event": "call", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 2]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"2": ["LIST", "COMP 1000", "students", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null]}, "stdout": ""}, {"line": 2, "event": "step_line", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 2]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"2": ["LIST", "COMP 1000", "students", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null]}, "stdout": ""}, {"line": 3, "event": "step_line", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 2]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"2": ["LIST", "Manitoba", "students", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null]}, "stdout": ""}, {"line": 3, "event": "return", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 2], "__return__": null}, "ordered_varnames": ["lst", "__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"2": ["LIST", "Manitoba", "Bisons", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null]}, "stdout": ""}, {"line": 7, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "Manitoba", "Bisons", "are", "awesome"]}, "stdout": ""}, {"line": 7, "event": "return", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "Manitoba", "Bisons", "are", "awesome"]}, "stdout": "['Manitoba', 'Bisons', 'are', 'awesome']\n"}]};
</script>
</div>
<p>When this code runs and we print out mylst, it looks different from what’s in mylst on line 5. Again, in this example, the bison function is right there, so it isn’t hard to figure out why the list changed, but if there were 100 lines of code between the function definition and the function being called, it would be harder to understand and debug.</p>
<p>We can avoid confusing side effects when passing around mutable objects by passing in a copy of the object and then returning the modified copy and reassigning it to the variable. This makes it much more obvious that the function is altering the mutable object. Here is the code above rewritten to do this:</p>

<div class="runestone codelens ">
    <div class="cd_section" data-component="codelens" data-question_label="9.10.2">
        <div id=clens9_10_2_question class="ac_question">
        </div>
        <div class="pytutorVisualizer" id="clens9_10_2"
           data-params='{"embeddedMode": true, "lang": "python", "jumpToEnd": false}'>
        </div>
        <p class="runestone_caption"><span class="runestone_caption_text">Activity: CodeLens 9.10.2 (clens9_10_2)</span> </p>
    </div>

<script>
var clens9_10_2_vis;

if (allTraceData === undefined) {
   var allTraceData = {};
}

allTraceData["clens9_10_2"] = {"code": "def bison(lst):\n   lst[0] = \"Manitoba\"\n   lst[1] = \"Bisons\"\n   return lst\n\nmylst = ['COMP 1000', 'students', 'are', 'awesome']\nnewlist = bison(list(mylst))\nprint(mylst)\nprint(newlist)", "trace": [{"line": 1, "event": "step_line", "func_name": "<module>", "globals": {}, "ordered_globals": [], "stack_to_render": [], "heap": {}, "stdout": ""}, {"line": 6, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1]}, "ordered_globals": ["bison"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null]}, "stdout": ""}, {"line": 7, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 1, "event": "call", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 3]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"3": ["LIST", "COMP 1000", "students", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 2, "event": "step_line", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 3]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"3": ["LIST", "COMP 1000", "students", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 3, "event": "step_line", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 3]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"3": ["LIST", "Manitoba", "students", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 4, "event": "step_line", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 3]}, "ordered_varnames": ["lst"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"3": ["LIST", "Manitoba", "Bisons", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 4, "event": "return", "func_name": "bison", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2]}, "ordered_globals": ["bison", "mylst"], "stack_to_render": [{"func_name": "bison", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"lst": ["REF", 3], "__return__": ["REF", 3]}, "ordered_varnames": ["lst", "__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "bison_f1"}], "heap": {"3": ["LIST", "Manitoba", "Bisons", "are", "awesome"], "1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"]}, "stdout": ""}, {"line": 8, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2], "newlist": ["REF", 3]}, "ordered_globals": ["bison", "mylst", "newlist"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"], "3": ["LIST", "Manitoba", "Bisons", "are", "awesome"]}, "stdout": ""}, {"line": 9, "event": "step_line", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2], "newlist": ["REF", 3]}, "ordered_globals": ["bison", "mylst", "newlist"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"], "3": ["LIST", "Manitoba", "Bisons", "are", "awesome"]}, "stdout": "['COMP 1000', 'students', 'are', 'awesome']\n"}, {"line": 9, "event": "return", "func_name": "<module>", "globals": {"bison": ["REF", 1], "mylst": ["REF", 2], "newlist": ["REF", 3]}, "ordered_globals": ["bison", "mylst", "newlist"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "bison(lst)", null], "2": ["LIST", "COMP 1000", "students", "are", "awesome"], "3": ["LIST", "Manitoba", "Bisons", "are", "awesome"]}, "stdout": "['COMP 1000', 'students', 'are', 'awesome']\n['Manitoba', 'Bisons', 'are', 'awesome']\n"}]};
</script>
</div>
<p>On line 7 in the code above, we use the built-in <code class="docutils literal notranslate"><span class="pre">list()</span></code> function, which takes a sequence as a
parameter and returns a copy of that sequence as a list. Note also that we had to modify the function to return the list. Once these changes are made, teh alterations to the list are no longer considered a side effect, as they are made transparent by returning a changed value.</p>
<div class="section" id="side-effects-in-interactive-programs">
<h2><span class="section-number">9.10.1. </span>Side Effects in Interactive Programs<a class="headerlink" href="#side-effects-in-interactive-programs" title="Permalink to this headline">¶</a></h2>
<p>When we program interactively and use listener functions, we end up modifying global variable and objects and creating side effects. This is because the listener functions that you can register must only have the parameters relevant to the interaction event. Let’s revisit an earlier example:</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_10_1_1 data-question_label="9.10.1.1">
<div id=ac9_10_1_1_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="ac9_10_1_1_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def random_square():
    """ draws a random square with a random small size
        at turtle's current location
         Pre-Condition: Turtle name alex exists """
    side = random.randrange(10, 30) # get random size
    for _ in range(4): #draw a square in location
        alex.forward(side)
        alex.left(90)

def random_location():
    """ Take turtle to a random location on canvas
        Pre-conditions: Assume turtle is named alex, and
        canvas is 400 x 400 """
    x = random.randrange(-200, 200) # get random x location
    y = random.randrange(-200, 200) # get random y location
    alex.penup()
    alex.goto(x,y) # move to location without drawing
    alex.pendown()

def random_colour():
    """ Sets turtle to a random colour """
    alex.color(random.random(), random.random(), random.random())

def key_r():
    """ draw randomly coloured and positioned square """
    random_colour()
    random_location()
    random_square()

def key_q():
    """ close the canvas window """
    wn.bye()

def click(x, y):
    """ go to clicked location, pick random color and draw square """
    alex.penup()
    alex.goto(x, y)
    alex.pendown()
    random_colour()
    random_square()

wn = turtle.Screen()      # Set up the window and its attributes
alex = turtle.Turtle()    # create alex
alex.speed(10)            # make alex draw fast
random_colour()
random_location()
random_square()

wn.onkey(key_r, 'r')    # tell the operating system to execute function 'key_r()' when the 'r' key is pressed on the keyboard
wn.onkey(key_q, 'q')    # tell the operating system to execute function 'key_q()' when the 'q' key is pressed on the keyboard
wn.onclick(click)       # tell the operating system to execute function 'click' when the user clicks the mouse
wn.listen()             # tell the operating system to listen for events on the canvas window
</textarea>
</div>
</div>
<p>In this interactive programming example, it isn’t possible to pass the turtle object (alex) to the listener functions key_r() or click() because these functions’ parameters are confined to the parameters needed for responding to specific events. The key_r function is registered to execute when the user presses the r key and as a key listener function it takes no parameters. The click function is registered to execute when the user clicks the mouse and as a mouse-click listener function it must take two parameters so the operating system can pass in the information about where the user clicked the mouse (x and y). We can make this code have fewer side-effects by modifying it as shown below.</p>

<div class="runestone explainer ac_section ">
<div data-component="activecode" id=ac9_10_1_2 data-question_label="9.10.1.2">
<div id=ac9_10_1_2_question class="ac_question col-md-12">

</div>
<textarea data-lang="python" id="ac9_10_1_2_editor" 
      data-timelimit=25000     
    data-audio=''      
           data-wasm=/_static
     style="visibility: hidden;">
import turtle
import random

def random_square(tur):
    """ Post-Condition: square with random small size
        is drawn at turtle's current location """
    side = random.randrange(10, 30) # get random size
    for _ in range(4): #draw a square in location
        tur.forward(side)
        tur.left(90)
    return tur

def random_location(tur):
    """ Post-Condition: turtle is moved to a random location on canvas
        Pre-conditions: Assume canvas is 400 x 400 """
    x = random.randrange(-200, 200) # get random x location
    y = random.randrange(-200, 200) # get random y location
    tur.penup()
    tur.goto(x,y) # move to location without drawing
    tur.pendown()
    return tur

def random_colour(tur):
    """ Post-Condition: turtle is a random colour """
    tur.color(random.random(), random.random(), random.random())
    return tur

def key_r():
    """ draw randomly coloured and positioned square """
    global alex
    alex = random_colour(alex)
    alex = random_location(alex)
    alex = random_square(alex)

def key_q():
    """ close the canvas window """
    wn.bye()

def click(x, y):
    """ go to clicked location, pick random color and draw square """
    global alex
    alex.penup()
    alex.goto(x, y)
    alex.pendown()
    alex = random_colour(alex)
    alex = random_square(alex)

wn = turtle.Screen()      # Set up the window and its attributes
alex = turtle.Turtle()    # create alex
alex.speed(10)            # make alex draw fast
alex = random_colour(alex)
alex = random_location(alex)
alex = random_square(alex)

wn.onkey(key_r, 'r')    # tell the operating system to execute function 'key_r()' when the 'r' key is pressed on the keyboard
wn.onkey(key_q, 'q')    # tell the operating system to execute function 'key_q()' when the 'q' key is pressed on the keyboard
wn.onclick(click)       # tell the operating system to execute function 'click' when the user clicks the mouse
wn.listen()             # tell the operating system to listen for events on the canvas window
</textarea>
</div>
</div>
<p>So, in the code above, we specify that we want to access and edit the global turtle variable (alex) in the listener functions key_r() and click(). Inside those functions, we call the other functions, but now we are passing them the turtle, they are modifying the turtle, and returning the turtle back to us. Now the only side-effects are the effects on the canvas (the square that is drawn, and the color and position of the turtle triangle representation).  By returning the turtle object to the listener, we make it really clear that the turtle is changed by the random_square(), random_location() and random_colour() functions.</p>
<p><strong>Check your understanding</strong></p>

    <div class="runestone ">
    <ul data-component="multiplechoice" data-question_label="9.10.1.3" data-multipleanswers="false"  id="question9_10_1"  style="visibility: hidden;">
    <p>How many turtles are created in this script?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">write_msg</span><span class="p">(</span><span class="n">tom</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tom</span>

<span class="k">def</span> <span class="nf">here</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">alex</span>
    <span class="n">alex</span> <span class="o">=</span> <span class="n">write_msg</span><span class="p">(</span><span class="n">alex</span><span class="p">,</span> <span class="s2">&quot;You clicked here!&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">wn</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Screen</span><span class="p">()</span>      <span class="c1"># Set up the window and its attributes</span>
<span class="n">alex</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Turtle</span><span class="p">()</span>    <span class="c1"># create alex</span>
<span class="n">alex</span> <span class="o">=</span> <span class="n">write_msg</span><span class="p">(</span><span class="n">alex</span><span class="p">,</span> <span class="s2">&quot;Hello!&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">here</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
</pre></div>
</div>

    <li data-component="answer"  id="question9_10_1_opt_a">none</li><li data-component="feedback">A turtle named Alex is created on line 16</li>
    
    <li data-component="answer" data-correct='yes' id="question9_10_1_opt_b">1</li><li data-component="feedback">Yes, one turtle is created, and then is passed around and modified</li>
    
    <li data-component="answer"  id="question9_10_1_opt_c">2</li><li data-component="feedback">A turtle is a mutable object, and it is passed around and modified in this program</li>
    
    <li data-component="answer"  id="question9_10_1_opt_d">It depends on how often the end user clicks</li><li data-component="feedback">A turtle is a mutable object, and it is passed around and modified in this program</li>
    

    </ul>
    </div>
    
    <div class="runestone ">
    <ul data-component="multiplechoice" data-question_label="9.10.1.4" data-multipleanswers="false"  id="question9_10_2"  style="visibility: hidden;">
    <p>What is a side effect of the write_msg function?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">turtle</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">write_msg</span><span class="p">(</span><span class="n">tom</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">penup</span><span class="p">()</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">pendown</span><span class="p">()</span>
    <span class="n">tom</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tom</span>

<span class="k">def</span> <span class="nf">here</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">alex</span>
    <span class="n">alex</span> <span class="o">=</span> <span class="n">write_msg</span><span class="p">(</span><span class="n">alex</span><span class="p">,</span> <span class="s2">&quot;You clicked here!&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">wn</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Screen</span><span class="p">()</span>      <span class="c1"># Set up the window and its attributes</span>
<span class="n">alex</span> <span class="o">=</span> <span class="n">turtle</span><span class="o">.</span><span class="n">Turtle</span><span class="p">()</span>    <span class="c1"># create alex</span>
<span class="n">alex</span> <span class="o">=</span> <span class="n">write_msg</span><span class="p">(</span><span class="n">alex</span><span class="p">,</span> <span class="s2">&quot;Hello!&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">onclick</span><span class="p">(</span><span class="n">here</span><span class="p">)</span>
<span class="n">wn</span><span class="o">.</span><span class="n">listen</span><span class="p">()</span>
</pre></div>
</div>

    <li data-component="answer"  id="question9_10_2_opt_a">There is no side effect, because the turtle is returned</li><li data-component="feedback">Changes on the canvas are side effects.</li>
    
    <li data-component="answer"  id="question9_10_2_opt_b">The turtle's internally stored coordinated are different</li><li data-component="feedback">Because the turtle is a mutable object, and it is returned from the functions, changes to it are not considered side effects</li>
    
    <li data-component="answer" data-correct='yes' id="question9_10_2_opt_c">A msg has been written on the canvas, and the turtle icon is in a different place</li><li data-component="feedback">Yes changes to what the user sees on the canvas are side effects.</li>
    
    <li data-component="answer"  id="question9_10_2_opt_d">The turtle alex has been modified</li><li data-component="feedback">Because the turtle is a mutable object, and it is returned from the functions, changes to it are not considered side effects</li>
    

    </ul>
    </div>
    </div>
</div>


  <div id="scprogresscontainer">
    You have attempted <span id="scprogresstotal"></span> of <span id="scprogressposs"></span> activities on this page <div id="subchapterprogress" aria-label="Page progress"></div>
  </div>

  <ul role="navigation" class="nextprev-list nextprev-list" aria-label="Change page">
<li id="relations-prev" class="navLink" title='Previous Section - 9.9. Passing Mutable vs Immuatable Objects' data-toggle="tooltip">
  <a href="PassingMutableObjects.html" aria-label="Previous - 9.9. Passing Mutable vs Immuatable Objects">
    <i class='prevNav glyphicon glyphicon-chevron-left'  style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black;"></i>
  </a>
</li>

  <li id="relations-next" class="navLink" title='Next Section - 9.11. Exercises' data-toggle="tooltip" >
    <a href="Exercises.html" aria-label="Next - 9.11. Exercises">
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right' style="top:50%; transform:translateY(-50%)translateX(-50%); left: 50%; color:black; "></i>
    </a>
  </li>
</ul>

<script>
window.addEventListener('load', (event) => {
  $('#relations-prev').tooltip({'placement': 'right', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement': 'left', 'delay': { show: 100, hide: 50}});
});
</script>

</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2022 clatulip.
      Created using <a href="http://runestoneinteractive.org/">Runestone</a> 6.0.9.
    </p>
  </div>
</footer>




<script>
  window.addEventListener('load', (event) => {
    runestoneComponents.getSwitch();
  });
</script>


  </body>
</html>
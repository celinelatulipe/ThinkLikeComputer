(self["webpackChunkWebComponents"] = self["webpackChunkWebComponents"] || []).push([["runestone_codelens_js_pytutor-embed_bundle_js"],{

/***/ 71951:
/*!*******************************************************!*\
  !*** ./runestone/codelens/js/pytutor-embed.bundle.js ***!
  \*******************************************************/
/***/ (() => {

/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __nested_webpack_require_170__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_170__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__nested_webpack_require_170__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__nested_webpack_require_170__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__nested_webpack_require_170__.d = function(exports, name, getter) {
/******/ 		if(!__nested_webpack_require_170__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__nested_webpack_require_170__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__nested_webpack_require_170__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__nested_webpack_require_170__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__nested_webpack_require_170__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __nested_webpack_require_170__(__nested_webpack_require_170__.s = 87);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __nested_webpack_require_2448__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery v3.0.0 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.0.0",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:f.call(this)},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=r.isArray(d)))?(e?(e=!1,f=c&&r.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return a&&"[object Object]"===k.call(a)?(b=e(a))?(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n):!0:!1},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;d>f;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a)?(d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e):void 0},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"===c||r.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ca=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"label"in b&&b.disabled===a||"form"in b&&b.disabled===a||"form"in b&&b.disabled===!1&&(b.isDisabled===a||b.isDisabled!==!a&&("label"in b||!ea(b))!==a)}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[0>c?c+b:c]}),even:pa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e)}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,e>i&&ya(a.slice(i,e)),f>e&&ya(a=a.slice(e)),f>e&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(_,aa),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=V.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(_,aa),$.test(j[0].type)&&qa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&sa(j),!a)return G.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||$.test(a)&&qa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,C=/^.[^:#\[\.,]*$/;function D(a,b,c){if(r.isFunction(b))return r.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return r.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(C.test(b))return r.filter(b,a,c);b=r.filter(b,a)}return r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType})}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;d>b;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;d>b;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(D(this,a||[],!1))},not:function(a){return this.pushStack(D(this,a||[],!0))},is:function(a){return!!D(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var E,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||E,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:F.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),B.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};G.prototype=r.fn,E=r(d);var H=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function J(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return J(a,"nextSibling")},prev:function(a){return J(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return a.contentDocument||r.merge([],a.childNodes)}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(I[a]||r.uniqueSort(e),H.test(a)&&e.reverse()),this.pushStack(e)}});var K=/\S+/g;function L(a){var b={};return r.each(a.match(K)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?L(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function M(a){return a}function N(a){throw a}function O(a,b,c){var d;try{a&&r.isFunction(d=a.promise)?d.call(a).done(b).fail(c):a&&r.isFunction(d=a.then)?d.call(a,b,c):b.call(void 0,a)}catch(a){c.call(void 0,a)}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(f>b)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,M,e),g(f,c,N,e)):(f++,j.call(a,g(f,c,M,e),g(f,c,N,e),g(f,c,M,c.notifyWith))):(d!==M&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==N&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:M,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:M)),c[2][3].add(g(0,a,r.isFunction(d)?d:N))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(1>=b&&(O(a,g.done(h(c)).resolve,g.reject),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)O(e[c],h(c),g.reject);return g.promise()}});var P=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&P.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)};var Q=r.Deferred();r.fn.ready=function(a){return Q.then(a),this},r.extend({isReady:!1,readyWait:1,holdReady:function(a){a?r.readyWait++:r.ready(!0)},ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||Q.resolveWith(d,[r]))}}),r.ready.then=Q.then;function R(){d.removeEventListener("DOMContentLoaded",R),a.removeEventListener("load",R),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",R),a.addEventListener("load",R));var S=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)S(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){
return j.call(r(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},T=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function U(){this.expando=r.expando+U.uid++}U.uid=1,U.prototype={cache:function(a){var b=a[this.expando];return b||(b={},T(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){r.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(K)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var V=new U,W=new U,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function Z(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Y,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:X.test(c)?JSON.parse(c):c}catch(e){}W.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return W.hasData(a)||V.hasData(a)},data:function(a,b,c){return W.access(a,b,c)},removeData:function(a,b){W.remove(a,b)},_data:function(a,b,c){return V.access(a,b,c)},_removeData:function(a,b){V.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=W.get(f),1===f.nodeType&&!V.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),Z(f,d,e[d])));V.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){W.set(this,a)}):S(this,function(b){var c;if(f&&void 0===b){if(c=W.get(f,a),void 0!==c)return c;if(c=Z(f,a),void 0!==c)return c}else this.each(function(){W.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){W.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=V.get(a,b),c&&(!d||r.isArray(c)?d=V.access(a,b,r.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return V.get(a,c)||V.access(a,c,{empty:r.Callbacks("once memory").add(function(){V.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=V.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),aa=["Top","Right","Bottom","Left"],ba=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ca=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function da(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&_.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ea={};function fa(a){var b,c=a.ownerDocument,d=a.nodeName,e=ea[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ea[d]=e,e)}function ga(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=V.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&ba(d)&&(e[f]=fa(d))):"none"!==c&&(e[f]="none",V.set(d,"display",c)));for(f=0;g>f;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ga(this,!0)},hide:function(){return ga(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ba(this)?r(this).show():r(this).hide()})}});var ha=/^(?:checkbox|radio)$/i,ia=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ja=/^$|\/(?:java|ecma)script/i,ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option,ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead,ka.th=ka.td;function la(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&r.nodeName(a,b)?r.merge([a],c):c}function ma(a,b){for(var c=0,d=a.length;d>c;c++)V.set(a[c],"globalEval",!b||V.get(b[c],"globalEval"))}var na=/<|&#?\w+;/;function oa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;o>n;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(na.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ia.exec(f)||["",""])[1].toLowerCase(),i=ka[h]||ka._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=la(l.appendChild(f),"script"),j&&ma(g),c){k=0;while(f=g[k++])ja.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var pa=d.documentElement,qa=/^key/,ra=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,sa=/^([^.]*)(?:\.(.+)|)/;function ta(){return!0}function ua(){return!1}function va(){try{return d.activeElement}catch(a){}}function wa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)wa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ua;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(pa,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(K)||[""],j=b.length;while(j--)h=sa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=V.hasData(a)&&V.get(a);if(q&&(i=q.events)){b=(b||"").match(K)||[""],j=b.length;while(j--)if(h=sa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&V.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(V.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?r(e,this).index(i)>-1:r.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){return this.originalEvent?b(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[a]:void 0},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==va()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===va()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&r.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return r.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ta:ua,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:ua,isPropagationStopped:ua,isImmediatePropagationStopped:ua,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ta,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ta,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ta,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&qa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ra.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return wa(this,a,b,c,d)},one:function(a,b,c,d){return wa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ua),this.each(function(){r.event.remove(this,a,c,b)})}});var xa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ya=/<script|<style|<link/i,za=/checked\s*(?:[^=]|=\s*.checked.)/i,Aa=/^true\/(.*)/,Ba=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ca(a,b){return r.nodeName(a,"table")&&r.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function Da(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ea(a){var b=Aa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(V.hasData(a)&&(f=V.access(a),g=V.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)r.event.add(b,e,j[e][c])}W.hasData(a)&&(h=W.access(a),i=r.extend({},h),W.set(b,i))}}function Ga(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ha.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ha(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&za.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(m&&(e=oa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(la(e,"script"),Da),i=h.length;m>l;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,la(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ea),l=0;i>l;l++)j=h[l],ja.test(j.type||"")&&!V.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Ba,""),k))}return a}function Ia(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(la(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&ma(la(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(xa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=la(h),f=la(a),d=0,e=f.length;e>d;d++)Ga(f[d],g[d]);if(b)if(c)for(f=f||la(a),g=g||la(h),d=0,e=f.length;e>d;d++)Fa(f[d],g[d]);else Fa(a,h);return g=la(h,"script"),g.length>0&&ma(g,!i&&la(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(T(c)){if(b=c[V.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[V.expando]=void 0}c[W.expando]&&(c[W.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return S(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(la(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return S(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!ya.test(a)&&!ka[(ia.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(la(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(la(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var Ja=/^margin/,Ka=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),La=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",pa.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,pa.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Ma(a,b,c){var d,e,f,g,h=a.style;return c=c||La(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ka.test(g)&&Ja.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Na(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Oa=/^(none|table(?!-c[ea]).+)/,Pa={position:"absolute",visibility:"hidden",display:"block"},Qa={letterSpacing:"0",fontWeight:"400"},Ra=["Webkit","Moz","ms"],Sa=d.createElement("div").style;function Ta(a){if(a in Sa)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ra.length;while(c--)if(a=Ra[c]+b,a in Sa)return a}function Ua(a,b,c){var d=_.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Va(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=r.css(a,c+aa[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+aa[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+aa[f]+"Width",!0,e))):(g+=r.css(a,"padding"+aa[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+aa[f]+"Width",!0,e)));return g}function Wa(a,b,c){var d,e=!0,f=La(a),g="border-box"===r.css(a,"boxSizing",!1,f);if(a.getClientRects().length&&(d=a.getBoundingClientRect()[b]),0>=d||null==d){if(d=Ma(a,b,f),(0>d||null==d)&&(d=a.style[b]),Ka.test(d))return d;e=g&&(o.boxSizingReliable()||d===a.style[b]),d=parseFloat(d)||0}return d+Va(a,b,c||(g?"border":"content"),e,f)+"px"}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ma(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=a.style;return b=r.cssProps[h]||(r.cssProps[h]=Ta(h)||h),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=_.exec(c))&&e[1]&&(c=da(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b);return b=r.cssProps[h]||(r.cssProps[h]=Ta(h)||h),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Ma(a,b,d)),"normal"===e&&b in Qa&&(e=Qa[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){return c?!Oa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Wa(a,b,d):ca(a,Pa,function(){return Wa(a,b,d)}):void 0},set:function(a,c,d){var e,f=d&&La(a),g=d&&Va(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=_.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ua(a,c,g)}}}),r.cssHooks.marginLeft=Na(o.reliableMarginLeft,function(a,b){return b?(parseFloat(Ma(a,"marginLeft"))||a.getBoundingClientRect().left-ca(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+aa[d]+b]=f[d]||f[d-2]||f[0];return e}},Ja.test(a)||(r.cssHooks[a+b].set=Ua)}),r.fn.extend({css:function(a,b){return S(this,function(a,b,c){var d,e,f={},g=0;if(r.isArray(b)){for(d=La(a),e=b.length;e>g;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function Xa(a,b,c,d,e){return new Xa.prototype.init(a,b,c,d,e)}r.Tween=Xa,Xa.prototype={constructor:Xa,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=Xa.propHooks[this.prop];return a&&a.get?a.get(this):Xa.propHooks._default.get(this)},run:function(a){var b,c=Xa.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Xa.propHooks._default.set(this),this}},Xa.prototype.init.prototype=Xa.prototype,Xa.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},Xa.propHooks.scrollTop=Xa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=Xa.prototype.init,r.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=/queueHooks$/;function ab(){Za&&(a.requestAnimationFrame(ab),r.fx.tick())}function bb(){return a.setTimeout(function(){Ya=void 0}),Ya=r.now()}function cb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=aa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function db(a,b,c){for(var d,e=(gb.tweeners[b]||[]).concat(gb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function eb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ba(a),q=V.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],$a.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=V.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ga([a],!0),j=a.style.display||j,k=r.css(a,"display"),ga([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=V.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ga([a],!0),m.done(function(){p||ga([a]),V.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=db(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function fb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],r.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function gb(a,b,c){var d,e,f=0,g=gb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||bb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ya||bb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(fb(k,j.opts.specialEasing);g>f;f++)if(d=gb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,db,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}r.Animation=r.extend(gb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return da(c.elem,a,_.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(K);for(var c,d=0,e=a.length;e>d;d++)c=a[d],gb.tweeners[c]=gb.tweeners[c]||[],gb.tweeners[c].unshift(b)},prefilters:[eb],prefilter:function(a,b){b?gb.prefilters.unshift(a):gb.prefilters.push(a)}}),r.speed=function(a,b,c){var e=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off||d.hidden?e.duration=0:e.duration="number"==typeof e.duration?e.duration:e.duration in r.fx.speeds?r.fx.speeds[e.duration]:r.fx.speeds._default,null!=e.queue&&e.queue!==!0||(e.queue="fx"),e.old=e.complete,e.complete=function(){r.isFunction(e.old)&&e.old.call(this),e.queue&&r.dequeue(this,e.queue)},e},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ba).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=gb(this,r.extend({},a),f);(e||V.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=V.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&_a.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=V.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(cb(b,!0),a,d,e)}}),r.each({slideDown:cb("show"),slideUp:cb("hide"),slideToggle:cb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(Ya=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),Ya=void 0},r.fx.timer=function(a){r.timers.push(a),a()?r.fx.start():r.timers.pop()},r.fx.interval=13,r.fx.start=function(){Za||(Za=a.requestAnimationFrame?a.requestAnimationFrame(ab):a.setInterval(r.fx.tick,r.fx.interval))},r.fx.stop=function(){a.cancelAnimationFrame?a.cancelAnimationFrame(Za):a.clearInterval(Za),Za=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var hb,ib=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return S(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?hb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&r.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(K);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c);
}}),hb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ib[b]||r.find.attr;ib[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=ib[g],ib[g]=e,e=null!=c(a,b,d)?g:null,ib[g]=f),e}});var jb=/^(?:input|select|textarea|button)$/i,kb=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return S(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):jb.test(a.nodeName)||kb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});var lb=/[\t\r\n\f]/g;function mb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,mb(this)))});if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=mb(c),d=1===c.nodeType&&(" "+e+" ").replace(lb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=r.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,mb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(K)||[];while(c=this[i++])if(e=mb(c),d=1===c.nodeType&&(" "+e+" ").replace(lb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=r.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,mb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(K)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=mb(this),b&&V.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":V.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+mb(c)+" ").replace(lb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g,ob=/[\x20\t\r\n\f]+/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":r.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:r.trim(r.text(a)).replace(ob," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&!c.disabled&&(!c.parentNode.disabled||!r.nodeName(c.parentNode,"optgroup"))){if(b=r(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){return r.isArray(b)?a.checked=r.inArray(r(a).val(),b)>-1:void 0}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!pb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,pb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(V.get(h,"events")||{})[b.type]&&V.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&T(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!T(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?r.event.trigger(a,b,c,!0):void 0}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=V.access(d,b);e||d.addEventListener(a,c,!0),V.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=V.access(d,b)-1;e?V.access(d,b,e):(d.removeEventListener(a,c,!0),V.remove(d,b))}}});var qb=a.location,rb=r.now(),sb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var tb=/\[\]$/,ub=/\r?\n/g,vb=/^(?:submit|button|image|reset|file)$/i,wb=/^(?:input|select|textarea|keygen)/i;function xb(a,b,c,d){var e;if(r.isArray(b))r.each(b,function(b,e){c||tb.test(a)?d(a,e):xb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)xb(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(r.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)xb(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&wb.test(this.nodeName)&&!vb.test(a)&&(this.checked||!ha.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:r.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(ub,"\r\n")}}):{name:b.name,value:c.replace(ub,"\r\n")}}).get()}});var yb=/%20/g,zb=/#.*$/,Ab=/([?&])_=[^&]*/,Bb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Cb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb={},Gb={},Hb="*/".concat("*"),Ib=d.createElement("a");Ib.href=qb.href;function Jb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(K)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Kb(a,b,c,d){var e={},f=a===Gb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Lb(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Mb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Nb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:Cb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Lb(Lb(a,r.ajaxSettings),b):Lb(r.ajaxSettings,a)},ajaxPrefilter:Jb(Fb),ajaxTransport:Jb(Gb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Bb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||qb.href)+"").replace(Eb,qb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(K)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Ib.protocol+"//"+Ib.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Kb(Fb,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Db.test(o.type),f=o.url.replace(zb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(yb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(sb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Ab,""),n=(sb.test(f)?"&":"?")+"_="+rb++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Hb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Kb(Gb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(v=Mb(o,y,d)),v=Nb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",0>b&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ob={0:200,1223:204},Pb=r.ajaxSettings.xhr();o.cors=!!Pb&&"withCredentials"in Pb,o.ajax=Pb=!!Pb,r.ajaxTransport(function(b){var c,d;return o.cors||Pb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ob[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Qb=[],Rb=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Qb.pop()||r.expando+"_"+rb++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Rb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Rb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Qb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=B.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=oa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=r.trim(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length};function Sb(a){return r.isWindow(a)?a:9===a.nodeType&&a.defaultView}r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),d.width||d.height?(e=f.ownerDocument,c=Sb(e),b=e.documentElement,{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}):d):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),r.nodeName(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||pa})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return S(this,function(a,d,e){var f=Sb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Na(o.pixelPosition,function(a,c){return c?(c=Ma(a,b),Ka.test(c)?r(a).position()[b]+"px":c):void 0})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return S(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.parseJSON=JSON.parse, true&&__nested_webpack_require_2448__(8)&&!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function(){return r}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));var Tb=a.jQuery,Ub=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Ub),b&&a.jQuery===r&&(a.jQuery=Tb),r},b||(a.jQuery=a.$=r),r});


/***/ }),
/* 1 */,
/* 2 */
/***/ (function(module, exports, __nested_webpack_require_89146__) {

"use strict";


var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =   true ? __nested_webpack_require_89146__.nc : 0;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && btoa) {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),
/* 4 */
/***/ (function(module, exports, __nested_webpack_require_98593__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($, jQuery) {
// Python Tutor: https://github.com/pgbovine/OnlinePythonTutor/
// Copyright (C) Philip Guo (philip@pgbovine.net)
// LICENSE: https://github.com/pgbovine/OnlinePythonTutor/blob/master/LICENSE.txt
Object.defineProperty(exports, "__esModule", { value: true });
/* TODO:

- substitute in a non-live version of the live editor from opt-live.js
  in addition to the janky current version of the editor

*/
/* pytutor coding gotchas:

- *NEVER* use raw $(__) or d3.select(__) statements to select DOM elements.

  *ALWAYS* use myViz.domRoot or myViz.domRootD3 for jQuery and D3, respectively.

  Otherwise things will break in weird ways when you have more than one
  visualization embedded within a webpage, due to multiple matches in
  the global namespace.

  By doing myViz.domRoot / .domRootD3, you're guaranteed to select DOM elements
  within the current ExecutionVisualizer object

- always use generateID and generateHeapObjID to generate unique CSS
  IDs, or else things will break when multiple ExecutionVisualizer
  instances are on a webpage

*/
__nested_webpack_require_98593__(9);
__nested_webpack_require_98593__(0);
__nested_webpack_require_98593__(10); // DO NOT UPGRADE ABOVE 1.3.10 OR ELSE BREAKAGE WILL OCCUR
__nested_webpack_require_98593__(11);
__nested_webpack_require_98593__(12);
__nested_webpack_require_98593__(28); // contains slight pgbovine modifications
__nested_webpack_require_98593__(6); // for $.doTimeout
__nested_webpack_require_98593__(29);
var footer_html_1 = __nested_webpack_require_98593__(5);
exports.SVG_ARROW_POLYGON = '0,3 12,3 12,0 18,5 12,10 12,7 0,7';
var SVG_ARROW_HEIGHT = 10; // must match height of SVG_ARROW_POLYGON
/* colors - see pytutor.css for more colors */
exports.brightRed = '#e93f34';
var connectorBaseColor = '#005583';
var connectorHighlightColor = exports.brightRed;
var connectorInactiveColor = '#cccccc';
var errorColor = exports.brightRed;
var breakpointColor = exports.brightRed;
// Unicode arrow types: '\u21d2', '\u21f0', '\u2907'
exports.darkArrowColor = exports.brightRed;
exports.lightArrowColor = '#c9e6ca';
var heapPtrSrcRE = /__heap_pointer_src_/;
var rightwardNudgeHack = true; // suggested by John DeNero, toggle with global
// returns a list of length a.length * b.length with elements from both
// mixed. the elements of a and b should be primitives, but if the first element
// is a list, it flattens it. e.g.,:
//   multiplyLists([1, 2, 3], [4, 5]) -> [[1,4], [1,5], [2,4], [2,5], [3,4], [3,5]]
function multiplyLists(a, b) {
    var ret = [];
    for (var i = 0; i < a.length; i++) {
        for (var j = 0; j < b.length; j++) {
            var elt = a[i];
            // flatten list
            if ($.isArray(elt)) {
                ret.push(elt.concat(b[j]));
            }
            else {
                ret.push([elt, b[j]]);
            }
        }
    }
    return ret;
}
// BEGIN utilities for selectively hiding variables
// use htmlspecialchars to escape contents before printing to HTML,
// then UNDO &nbsp; -> ' ' since we want spaces to nicely line-wrap
// instead of being non-breaking
function varlistToHtml(lst) {
    return htmlspecialchars(lst.join(", ")).replace(/&nbsp;/g, ' ');
}
// take a string of something to hide, replace newlines with ','
// so users can conveniently use newlines as delimiters, then split
// by ',', filter out empty entries, and return trimmed ones:
function processHideString(s) {
    return s.replace(/\n/g, ',')
        .split(',')
        .filter(function (e) { return e.trim().length > 0; })
        .map(function (e) { return e.trim(); });
}
// END utilities for selectively hiding variables
var newlineAllRegex = new RegExp('\n', 'g');
var doubleQuoteAllRegex = new RegExp('\"', 'g');
var tabAllRegex = new RegExp("\t", 'g');
// the main event!
var ExecutionVisualizer = /** @class */ (function () {
    // Constructor with an ever-growing feature-crepped list of options :)
    // domRootID is the string ID of the root element where to render this instance
    //
    // dat is data returned by the Python Tutor backend consisting of two fields:
    //   code  - string of executed code
    //   trace - a full execution trace
    //
    // params is an object containing optional parameters, such as:
    //   jumpToEnd - if non-null, jump to the very end of execution if
    //               there's no error, or if there's an error, jump to the
    //               FIRST ENTRY with an error
    //   startingInstruction - the (zero-indexed) execution point to display upon rendering
    //                         if this is set, then it *overrides* jumpToEnd
    //   codeDivHeight - maximum height of #pyCodeOutputDiv (in integer pixels)
    //   codeDivWidth  - maximum width  of #pyCodeOutputDiv (in integer pixels)
    //   editCodeBaseURL - the base URL to visit when the user clicks 'Edit code' (if null, then 'Edit code' link hidden)
    //   embeddedMode         - shortcut for codeDivWidth=DEFAULT_EMBEDDED_CODE_DIV_WIDTH,
    //                                       codeDivHeight=DEFAULT_EMBEDDED_CODE_DIV_HEIGHT
    //                          (and hide a bunch of other stuff & don't activate keyboard shortcuts!)
    //   disableHeapNesting   - if true, then render all heap objects at the top level (i.e., no nested objects)
    //   alwaysNestTypes      - if non-null, a list of type names to ALWAYS nest within heap objects
    //                          (supersedes disableHeapNesting, defaults to DEFAULT_ALWAYS_NEST_TYPES)
    //   drawParentPointers   - if true, then draw environment diagram parent pointers for all frames
    //                          WARNING: there are hard-to-debug MEMORY LEAKS associated with activating this option
    //   textualMemoryLabels  - render references using textual memory labels rather than as jsPlumb arrows.
    //                          this is good for slow browsers or when used with disableHeapNesting
    //                          to prevent "arrow overload"
    //   updateOutputCallback - function to call (with 'this' as parameter)
    //                          whenever this.updateOutput() is called
    //                          (BEFORE rendering the output display)
    //   heightChangeCallback - function to call (with 'this' as parameter)
    //                          whenever the HEIGHT of #dataViz changes
    //   verticalStack - if true, then stack code display ON TOP of visualization
    //                   (else place side-by-side)
    //   visualizerIdOverride - override visualizer ID instead of auto-assigning it
    //                          (BE CAREFUL ABOUT NOT HAVING DUPLICATE IDs ON THE SAME PAGE,
    //                           OR ELSE ARROWS AND OTHER STUFF WILL GO HAYWIRE!)
    //   executeCodeWithRawInputFunc - function to call when you want to re-execute the given program
    //                                 with some new user input (somewhat hacky!)
    //   compactFuncLabels - render functions with a 'func' prefix and no type label
    //   showAllFrameLabels - display frame and parent frame labels for all functions (default: false)
    //   hideCode - hide the code display and show only the data structure viz
    //   lang - to render labels in a style appropriate for other languages,
    //          and to display the proper language in langDisplayDiv:
    //          'py2' for Python 2, 'py3' for Python 3, 'js' for JavaScript, 'java' for Java,
    //          'ts' for TypeScript, 'ruby' for Ruby, 'c' for C, 'cpp' for C++
    //          'py3anaconda' for Python 3 with Anaconda
    //          [default is Python-style labels]
    function ExecutionVisualizer(domRootID, dat, params) {
        this.params = {};
        // an array of objects with the following fields:
        //   'text' - the text of the line of code
        //   'lineNumber' - one-indexed (always the array index + 1)
        //   'executionPoints' - an ordered array of zero-indexed execution points where this line was executed
        //   'breakpointHere' - has a breakpoint been set here?
        this.codeOutputLines = [];
        this.curInstr = 0;
        // API for adding a hook, created by David Pritchard
        // keys, hook names; values, list of functions
        this.pytutor_hooks = {};
        // true iff trace ended prematurely since maximum instruction limit has
        // been reached
        this.instrLimitReached = false;
        this.hasRendered = false;
        this.breakpoints = d3.map(); // set of execution points to set as breakpoints
        this.sortedBreakpointsList = []; // sorted and synced with breakpoints
        this.curInputCode = dat.code.rtrim(); // kill trailing spaces
        this.params = params;
        this.curTrace = dat.trace;
        // postprocess the trace
        if (this.curTrace.length > 0) {
            var lastEntry = this.curTrace[this.curTrace.length - 1];
            // if the final entry is raw_input or mouse_input, then trim it from the trace and
            // set a flag to prompt for user input when execution advances to the
            // end of the trace
            if (lastEntry.event === 'raw_input') {
                this.promptForUserInput = true;
                this.userInputPromptStr = htmlspecialchars(lastEntry.prompt);
                this.curTrace.pop(); // kill last entry so that it doesn't get displayed
            }
            else if (lastEntry.event === 'mouse_input') {
                this.promptForMouseInput = true;
                this.userInputPromptStr = htmlspecialchars(lastEntry.prompt);
                this.curTrace.pop(); // kill last entry so that it doesn't get displayed
            }
            else if (lastEntry.event === 'instruction_limit_reached') {
                this.instrLimitReached = true;
                this.instrLimitReachedWarningMsg = lastEntry.exception_msg;
                this.curTrace.pop(); // postprocess to kill last entry
            }
        }
        // if you have multiple ExecutionVisualizer on a page, their IDs
        // better be unique or else you'll run into rendering problems
        if (this.params.visualizerIdOverride) {
            this.visualizerID = this.params.visualizerIdOverride;
        }
        else {
            this.visualizerID = ExecutionVisualizer.curVisualizerID;
            assert(this.visualizerID > 0);
            ExecutionVisualizer.curVisualizerID++;
        }
        // sanitize to avoid nasty 'undefined' states
        this.params.disableHeapNesting = (this.params.disableHeapNesting === true);
        this.params.drawParentPointers = (this.params.drawParentPointers === true);
        this.params.textualMemoryLabels = (this.params.textualMemoryLabels === true);
        this.params.showAllFrameLabels = (this.params.showAllFrameLabels === true);
        if (this.params.alwaysNestTypes === undefined) {
            this.params.alwaysNestTypes = ExecutionVisualizer.DEFAULT_ALWAYS_NEST_TYPES;
        }
        assert($.isArray(this.params.alwaysNestTypes));
        // insert ExecutionVisualizer into domRootID in the DOM
        var tmpRoot = $('#' + domRootID);
        var tmpRootD3 = d3.select('#' + domRootID);
        tmpRoot.html('<div class="ExecutionVisualizer"></div>');
        // the root elements for jQuery and D3 selections, respectively.
        // ALWAYS use these and never use raw $(__) or d3.select(__)
        this.domRoot = tmpRoot.find('div.ExecutionVisualizer');
        this.domRootD3 = tmpRootD3.select('div.ExecutionVisualizer');
        if (this.params.lang === 'java') {
            this.activateJavaFrontend(); // ohhhh yeah! do this before initializing codeOutputLines (ugh order dependency)
        }
        var lines = this.curInputCode.split('\n');
        for (var i = 0; i < lines.length; i++) {
            var cod = lines[i];
            var n = {
                text: cod,
                lineNumber: i + 1,
                executionPoints: [],
                breakpointHere: false,
            };
            $.each(this.curTrace, function (j, elt) {
                if (elt.line === n.lineNumber) {
                    n.executionPoints.push(j);
                }
            });
            // if there is a comment containing 'breakpoint' and this line was actually executed,
            // then set a breakpoint on this line
            var breakpointInComment = false;
            var toks = cod.split('#');
            for (var j = 1 /* start at index 1, not 0 */; j < toks.length; j++) {
                if (toks[j].indexOf('breakpoint') != -1) {
                    breakpointInComment = true;
                }
            }
            if (breakpointInComment && n.executionPoints.length > 0) {
                n.breakpointHere = true;
                this.addToBreakpoints(n.executionPoints);
            }
            this.codeOutputLines.push(n);
        }
        this.try_hook("end_constructor", { myViz: this });
        this.render(); // go for it!
    }
    ExecutionVisualizer.prototype.objInAlwaysNestTypes = function (obj) {
        if (!obj)
            return false;
        assert($.isArray(obj));
        if (this.params.alwaysNestTypes.indexOf(obj[0]) >= 0) {
            // is the type name in alwaysNestTypes?
            return true;
        }
        else if (obj.length >= 2 &&
            (obj[0] == 'INSTANCE' || obj[0] == 'INSTANCE_PPRINT') &&
            (this.params.alwaysNestTypes.indexOf(obj[1]) >= 0)) {
            // otherwise is this an INSTANCE with the type name (obj[1]) in alwaysNestTypes?
            return true;
        }
        else {
            return false;
        }
    };
    // should this object be nested within another one?
    ExecutionVisualizer.prototype.shouldNestObject = function (obj) {
        return (!this.params.disableHeapNesting || this.objInAlwaysNestTypes(obj));
    };
    /* API for adding a hook, created by David Pritchard
       https://github.com/daveagp
  
      [this documentation is a bit deprecated since Philip made try_hook a
       method of ExecutionVisualizer, but the general ideas remain]
  
     An external user should call
       add_pytutor_hook("hook_name_here", function(args) {...})
     args will be a javascript object with several named properties;
     this is meant to be similar to Python's keyword arguments.
  
     The hooked function should return an array whose first element is a boolean:
     true if it completely handled the situation (no further hooks
     nor the base function should be called); false otherwise (wasn't handled).
     If the hook semantically represents a function that returns something,
     the second value of the returned array is that semantic return value.
  
     E.g. for the Java visualizer a simplified version of a hook we use is:
  
    add_pytutor_hook(
      "isPrimitiveType",
      function(args) {
        var obj = args.obj; // unpack
        if (obj instanceof Array && obj[0] == "CHAR-LITERAL")
          return [true, true]; // yes we handled it, yes it's primitive
        return [false]; // didn't handle it, let someone else
      });
  
     Hook callbacks can return false or undefined (i.e. no return
     value) in lieu of [false].
  
     NB: If multiple functions are added to a hook, the oldest goes first. */
    ExecutionVisualizer.prototype.add_pytutor_hook = function (hook_name, func) {
        if (this.pytutor_hooks[hook_name])
            this.pytutor_hooks[hook_name].push(func);
        else
            this.pytutor_hooks[hook_name] = [func];
    };
    /*  [this documentation is a bit deprecated since Philip made try_hook a
         method of ExecutionVisualizer, but the general ideas remain]
  
    try_hook(hook_name, args): how the internal codebase invokes a hook.
  
    args will be a javascript object with several named properties;
    this is meant to be similar to Python's keyword arguments. E.g.,
  
    function isPrimitiveType(obj) {
      var hook_result = try_hook("isPrimitiveType", {obj:obj});
      if (hook_result[0]) return hook_result[1];
      // go on as normal if the hook didn't handle it
  
    Although add_pytutor_hook allows the hooked function to
    return false or undefined, try_hook will always return
    something with the strict format [false], [true] or [true, ...]. */
    ExecutionVisualizer.prototype.try_hook = function (hook_name, args) {
        if (this.pytutor_hooks[hook_name]) {
            for (var i = 0; i < this.pytutor_hooks[hook_name].length; i++) {
                // apply w/o "this", and pack sole arg into array as required by apply
                var handled_and_result = this.pytutor_hooks[hook_name][i].apply(null, [args]);
                if (handled_and_result && handled_and_result[0])
                    return handled_and_result;
            }
        }
        return [false];
    };
    // create a unique ID, which is often necessary so that jsPlumb doesn't get confused
    // due to multiple ExecutionVisualizer instances being displayed simultaneously
    ExecutionVisualizer.prototype.generateID = function (original_id) {
        // (it's safer to start names with a letter rather than a number)
        return 'v' + this.visualizerID + '__' + original_id;
    };
    ExecutionVisualizer.prototype.render = function () {
        var _this = this;
        if (this.hasRendered) {
            alert('ERROR: You should only call render() ONCE on an ExecutionVisualizer object.');
            return;
        }
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        if (this.params.verticalStack) {
            this.domRoot.html('<table border="0" class="visualizer">\
                           <tr><td class="vizLayoutTd" id="vizLayoutTdFirst""></td></tr>\
                           <tr><td class="vizLayoutTd" id="vizLayoutTdSecond"></td></tr>\
                         </table>');
        }
        else {
            this.domRoot.html('<table border="0" class="visualizer"><tr>\
                           <td class="vizLayoutTd" id="vizLayoutTdFirst"></td>\
                           <td class="vizLayoutTd" id="vizLayoutTdSecond"></td>\
                         </tr></table>');
        }
        // create a container for a resizable slider to encompass
        // both CodeDisplay and NavigationController
        this.domRoot.find('#vizLayoutTdFirst').append('<div id="codAndNav" style="width: 550px;"/>');
        var base = this.domRoot.find('#vizLayoutTdFirst #codAndNav');
        var baseD3 = this.domRootD3.select('#vizLayoutTdFirst #codAndNav');
        this.codDisplay = new CodeDisplay(this, base, baseD3, this.curInputCode, this.params.lang, this.params.editCodeBaseURL);
        this.navControls = new NavigationController(this, base, baseD3, this.curTrace.length);
        if (this.params.embeddedMode) {
            // don't override if they've already been set!
            if (this.params.codeDivWidth === undefined) {
                this.params.codeDivWidth = ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_WIDTH;
            }
            if (this.params.codeDivHeight === undefined) {
                this.params.codeDivHeight = ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT;
            }
            // add an extra label to link back to the main site, so that viewers
            // on the embedded page know that they're seeing an OPT visualization
            base.find('#creditsPane').html('<div style="font-size: 8pt; margin-top: 5px; margin-bottom: 5px;"><a href="http://pythontutor.com/" target="_blank" style="color: #3D58A2;">Python Tutor</a> by <a href="http://pgbovine.net/" target="_blank" style="color: #3D58A2;">Philip Guo</a></div>');
            base.find('#codeFooterDocs').hide(); // cut out extraneous docs
        }
        else {
        }
        // not enough room for these extra buttons ...
        if (this.params.codeDivWidth &&
            this.params.codeDivWidth < 470) {
            this.domRoot.find('#jmpFirstInstr').hide();
            this.domRoot.find('#jmpLastInstr').hide();
        }
        if (this.params.codeDivWidth) {
            this.domRoot.find('#codAndNav').width(this.params.codeDivWidth);
        }
        if (this.params.codeDivHeight) {
            this.domRoot.find('#pyCodeOutputDiv')
                .css('max-height', this.params.codeDivHeight + 'px');
        }
        // enable left-right draggable pane resizer (originally from David Pritchard)
        base.resizable({
            handles: "e",
            minWidth: 100,
            resize: function (event, ui) {
                _this.domRoot.find("#codeDisplayDiv").css("height", "auto"); // redetermine height if necessary
                _this.navControls.renderSliderBreakpoints(_this.sortedBreakpointsList); // update breakpoint display accordingly on resize
                if (_this.params.updateOutputCallback) // report size change
                    _this.params.updateOutputCallback(_this);
            }
        });
        this.outputBox = new ProgramOutputBox(this, this.domRoot.find('#vizLayoutTdSecond'), this.params.embeddedMode ? '45px' : null);
        this.dataViz = new DataVisualizer(this, this.domRoot.find('#vizLayoutTdSecond'), this.domRootD3.select('#vizLayoutTdSecond'));
        myViz.navControls.showError(this.instrLimitReachedWarningMsg);
        myViz.navControls.setupSlider(this.curTrace.length - 1);
        if (this.params.startingInstruction) {
            this.params.jumpToEnd = false; // override! make sure to handle FIRST
            // weird special case for something like:
            // e=raw_input(raw_input("Enter something:"))
            if (this.params.startingInstruction == this.curTrace.length) {
                this.params.startingInstruction--;
            }
            // fail-soft with out-of-bounds startingInstruction values:
            if (this.params.startingInstruction < 0) {
                this.params.startingInstruction = 0;
            }
            if (this.params.startingInstruction >= this.curTrace.length) {
                this.params.startingInstruction = this.curTrace.length - 1;
            }
            assert(0 <= this.params.startingInstruction &&
                this.params.startingInstruction < this.curTrace.length);
            this.curInstr = this.params.startingInstruction;
        }
        if (this.params.jumpToEnd) {
            var firstErrorStep = -1;
            for (var i = 0; i < this.curTrace.length; i++) {
                var e = this.curTrace[i];
                if (e.event == 'exception' || e.event == 'uncaught_exception') {
                    firstErrorStep = i;
                    break;
                }
            }
            // set to first error step if relevant since that's more informative
            // than simply jumping to the very end
            if (firstErrorStep >= 0) {
                this.curInstr = firstErrorStep;
            }
            else {
                this.curInstr = this.curTrace.length - 1;
            }
        }
        if (this.params.hideCode) {
            this.domRoot.find('#vizLayoutTdFirst').hide(); // gigantic hack!
        }
        this.dataViz.precomputeCurTraceLayouts();
        if (!this.params.hideCode) {
            this.codDisplay.renderPyCodeOutput();
        }
        this.updateOutput();
        this.redrawConnectors(); // do this at the end
        this.hasRendered = true;
        this.try_hook("end_render", { myViz: this });
    };
    ExecutionVisualizer.prototype._getSortedBreakpointsList = function () {
        var ret = [];
        this.breakpoints.forEach(function (k, v) {
            ret.push(Number(k)); // these should be NUMBERS, not strings
        });
        ret.sort(function (x, y) { return x - y; }); // WTF, javascript sort is lexicographic by default!
        return ret;
    };
    ExecutionVisualizer.prototype.addToBreakpoints = function (executionPoints) {
        var _this = this;
        $.each(executionPoints, function (i, ep) {
            _this.breakpoints.set(ep, 1);
        });
        this.sortedBreakpointsList = this._getSortedBreakpointsList(); // keep synced!
    };
    ExecutionVisualizer.prototype.removeFromBreakpoints = function (executionPoints) {
        var _this = this;
        $.each(executionPoints, function (i, ep) {
            _this.breakpoints.remove(ep);
        });
        this.sortedBreakpointsList = this._getSortedBreakpointsList(); // keep synced!
    };
    ExecutionVisualizer.prototype.setBreakpoint = function (d) {
        this.addToBreakpoints(d.executionPoints);
        this.navControls.renderSliderBreakpoints(this.sortedBreakpointsList);
    };
    ExecutionVisualizer.prototype.unsetBreakpoint = function (d) {
        this.removeFromBreakpoints(d.executionPoints);
        this.navControls.renderSliderBreakpoints(this.sortedBreakpointsList);
    };
    // find the previous/next breakpoint to c or return -1 if it doesn't exist
    ExecutionVisualizer.prototype.findPrevBreakpoint = function () {
        var c = this.curInstr;
        if (this.sortedBreakpointsList.length == 0) {
            return -1;
        }
        else {
            for (var i = 1; i < this.sortedBreakpointsList.length; i++) {
                var prev = this.sortedBreakpointsList[i - 1];
                var cur = this.sortedBreakpointsList[i];
                if (c <= prev)
                    return -1;
                if (cur >= c)
                    return prev;
            }
            // final edge case:
            var lastElt = this.sortedBreakpointsList[this.sortedBreakpointsList.length - 1];
            return (lastElt < c) ? lastElt : -1;
        }
    };
    ExecutionVisualizer.prototype.findNextBreakpoint = function () {
        var c = this.curInstr;
        if (this.sortedBreakpointsList.length == 0) {
            return -1;
        }
        // usability hack: if you're currently on a breakpoint, then
        // single-step forward to the next execution point, NOT the next
        // breakpoint. it's often useful to see what happens when the line
        // at a breakpoint executes.
        else if ($.inArray(c, this.sortedBreakpointsList) >= 0) {
            return c + 1;
        }
        else {
            for (var i = 0; i < this.sortedBreakpointsList.length - 1; i++) {
                var cur = this.sortedBreakpointsList[i];
                var next = this.sortedBreakpointsList[i + 1];
                if (c < cur)
                    return cur;
                if (cur <= c && c < next) // subtle
                    return next;
            }
            // final edge case:
            var lastElt = this.sortedBreakpointsList[this.sortedBreakpointsList.length - 1];
            return (lastElt > c) ? lastElt : -1;
        }
    };
    // returns true if action successfully taken
    ExecutionVisualizer.prototype.stepForward = function () {
        var myViz = this;
        if (myViz.curInstr < myViz.curTrace.length - 1) {
            // if there is a next breakpoint, then jump to it ...
            if (myViz.sortedBreakpointsList.length > 0) {
                var nextBreakpoint = myViz.findNextBreakpoint();
                if (nextBreakpoint != -1)
                    myViz.curInstr = nextBreakpoint;
                else
                    myViz.curInstr += 1; // prevent "getting stuck" on a solitary breakpoint
            }
            else {
                myViz.curInstr += 1;
            }
            myViz.updateOutput(true);
            return true;
        }
        return false;
    };
    // returns true if action successfully taken
    ExecutionVisualizer.prototype.stepBack = function () {
        var myViz = this;
        if (myViz.curInstr > 0) {
            // if there is a prev breakpoint, then jump to it ...
            if (myViz.sortedBreakpointsList.length > 0) {
                var prevBreakpoint = myViz.findPrevBreakpoint();
                if (prevBreakpoint != -1)
                    myViz.curInstr = prevBreakpoint;
                else
                    myViz.curInstr -= 1; // prevent "getting stuck" on a solitary breakpoint
            }
            else {
                myViz.curInstr -= 1;
            }
            myViz.updateOutput();
            return true;
        }
        return false;
    };
    // This function is called every time the display needs to be updated
    ExecutionVisualizer.prototype.updateOutput = function (smoothTransition) {
        if (smoothTransition === void 0) { smoothTransition = false; }
        if (this.params.hideCode) {
            this.updateOutputMini();
        }
        else {
            this.updateOutputFull(smoothTransition);
        }
        this.outputBox.renderOutput(this.curTrace[this.curInstr].stdout);
        this.try_hook("end_updateOutput", { myViz: this });
    };
    // does a LOT of stuff, called by updateOutput
    ExecutionVisualizer.prototype.updateOutputFull = function (smoothTransition) {
        assert(this.curTrace);
        assert(!this.params.hideCode);
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        // there's no point in re-rendering if this pane isn't even visible in the first place!
        if (!myViz.domRoot.is(':visible')) {
            return;
        }
        myViz.updateLineAndExceptionInfo(); // very important to call this before rendering code (argh order dependency)
        var prevDataVizHeight = myViz.dataViz.height();
        this.codDisplay.updateCodOutput(smoothTransition);
        // call the callback if necessary (BEFORE rendering)
        if (this.params.updateOutputCallback) {
            this.params.updateOutputCallback(this);
        }
        var totalInstrs = this.curTrace.length;
        var isFirstInstr = (this.curInstr == 0);
        var isLastInstr = (this.curInstr == (totalInstrs - 1));
        var msg = "Step " + String(this.curInstr + 1) + " of " + String(totalInstrs - 1);
        if (isLastInstr) {
            if (this.promptForUserInput || this.promptForMouseInput) {
                msg = '<b><font color="' + exports.brightRed + '">Enter user input:</font></b>';
            }
            else if (this.instrLimitReached) {
                msg = "Step limit reached";
            }
            else {
                msg = "Done running (" + String(totalInstrs - 1) + " steps)";
            }
        }
        this.navControls.setVcrControls(msg, isFirstInstr, isLastInstr);
        this.navControls.setSliderVal(this.curInstr);
        // render error (if applicable):
        if (myViz.curLineExceptionMsg) {
            if (myViz.curLineExceptionMsg === "Unknown error") {
                myViz.navControls.showError('Unknown error: ' + footer_html_1.unsupportedFeaturesStr);
            }
            else {
                myViz.navControls.showError(myViz.curLineExceptionMsg);
            }
        }
        else if (!this.instrLimitReached) { // ugly, I know :/
            myViz.navControls.showError(null);
        }
        // finally, render all of the data structures
        this.dataViz.renderDataStructures(this.curInstr);
        // call the callback if necessary (AFTER rendering)
        if (myViz.dataViz.height() != prevDataVizHeight) {
            if (this.params.heightChangeCallback) {
                this.params.heightChangeCallback(this);
            }
        }
        if (isLastInstr &&
            myViz.params.executeCodeWithRawInputFunc &&
            myViz.promptForUserInput) {
            this.navControls.showUserInputDiv();
        }
        else {
            this.navControls.hideUserInputDiv();
        }
    }; // end of updateOutputFull
    ExecutionVisualizer.prototype.updateOutputMini = function () {
        assert(this.params.hideCode);
        this.dataViz.renderDataStructures(this.curInstr);
    };
    ExecutionVisualizer.prototype.renderStep = function (step) {
        assert(0 <= step);
        assert(step < this.curTrace.length);
        // ignore redundant calls
        if (this.curInstr == step) {
            return;
        }
        this.curInstr = step;
        this.updateOutput();
    };
    ExecutionVisualizer.prototype.redrawConnectors = function () {
        this.dataViz.redrawConnectors();
    };
    // All of the Java frontend code in this function was written by David
    // Pritchard and Will Gwozdz, and integrated into pytutor.js by Philip Guo
    ExecutionVisualizer.prototype.activateJavaFrontend = function () {
        var prevLine = null;
        this.curTrace.forEach(function (e, i) {
            // ugh the Java backend doesn't attach line numbers to exception
            // events, so just take the previous line number as our best guess
            if (e.event === 'exception' && !e.line) {
                e.line = prevLine;
            }
            // super hack by Philip that reverses the direction of the stack so
            // that it grows DOWN and renders the same way as the Python and JS
            // visualizer stacks
            if (e.stack_to_render !== undefined) {
                e.stack_to_render.reverse();
            }
            prevLine = e.line;
        });
        this.add_pytutor_hook("renderPrimitiveObject", function (args) {
            var obj = args.obj, d3DomElement = args.d3DomElement;
            var typ = typeof obj;
            if (obj instanceof Array && obj[0] == "VOID") {
                d3DomElement.append('<span class="voidObj">void</span>');
            }
            else if (obj instanceof Array && obj[0] == "NUMBER-LITERAL") {
                // actually transmitted as a string
                d3DomElement.append('<span class="numberObj">' + obj[1] + '</span>');
            }
            else if (obj instanceof Array && obj[0] == "CHAR-LITERAL") {
                var asc = obj[1].charCodeAt(0);
                var ch = obj[1];
                // default
                var show = asc.toString(16);
                while (show.length < 4)
                    show = "0" + show;
                show = "\\u" + show;
                if (ch == "\n")
                    show = "\\n";
                else if (ch == "\r")
                    show = "\\r";
                else if (ch == "\t")
                    show = "\\t";
                else if (ch == "\b")
                    show = "\\b";
                else if (ch == "\f")
                    show = "\\f";
                else if (ch == "\'")
                    show = "\\\'";
                else if (ch == "\"")
                    show = "\\\"";
                else if (ch == "\\")
                    show = "\\\\";
                else if (asc >= 32)
                    show = ch;
                // stringObj to make monospace
                d3DomElement.append('<span class="stringObj">\'' + show + '\'</span>');
            }
            else
                return [false]; // we didn't handle it
            return [true]; // we handled it
        });
        this.add_pytutor_hook("isPrimitiveType", function (args) {
            var obj = args.obj;
            if ((obj instanceof Array && obj[0] == "VOID")
                || (obj instanceof Array && obj[0] == "NUMBER-LITERAL")
                || (obj instanceof Array && obj[0] == "CHAR-LITERAL")
                || (obj instanceof Array && obj[0] == "ELIDE"))
                return [true, true]; // we handled it, it's primitive
            return [false]; // didn't handle it
        });
        this.add_pytutor_hook("end_updateOutput", function (args) {
            var myViz = args.myViz;
            var curEntry = myViz.curTrace[myViz.curInstr];
            if (myViz.params.stdin && myViz.params.stdin != "") {
                var stdinPosition = curEntry.stdinPosition || 0;
                var stdinContent = '<span style="color:lightgray;text-decoration: line-through">' +
                    escapeHtml(myViz.params.stdin.substr(0, stdinPosition)) +
                    '</span>' +
                    escapeHtml(myViz.params.stdin.substr(stdinPosition));
                myViz.domRoot.find('#stdinShow').html(stdinContent);
            }
            return [false];
        });
        this.add_pytutor_hook("end_render", function (args) {
            var myViz = args.myViz;
            if (myViz.params.stdin && myViz.params.stdin != "") {
                var stdinHTML = '<div id="stdinWrap">stdin:<pre id="stdinShow" style="border:1px solid gray"></pre></div>';
                myViz.domRoot.find('#dataViz').append(stdinHTML); // TODO: leaky abstraction with #dataViz
            }
            myViz.domRoot.find('#' + myViz.generateID('globals_header')).html("Static fields");
        });
        this.add_pytutor_hook("isLinearObject", function (args) {
            var heapObj = args.heapObj;
            if (heapObj[0] == 'STACK' || heapObj[0] == 'QUEUE')
                return ['true', 'true'];
            return ['false'];
        });
        this.add_pytutor_hook("renderCompoundObject", function (args) {
            var objID = args.objID;
            var d3DomElement = args.d3DomElement;
            var obj = args.obj;
            var typeLabelPrefix = args.typeLabelPrefix;
            var myViz = args.myViz;
            var stepNum = args.stepNum;
            if (!(obj[0] == 'LIST' || obj[0] == 'QUEUE' || obj[0] == 'STACK'))
                return [false]; // didn't handle
            var label = obj[0].toLowerCase();
            var visibleLabel = { list: 'array', queue: 'queue', stack: 'stack' }[label];
            if (obj.length == 1) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + 'empty ' + visibleLabel + '</div>');
                return [true]; //handled
            }
            d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + visibleLabel + '</div>');
            d3DomElement.append('<table class="' + label + 'Tbl"></table>');
            var tbl = d3DomElement.children('table');
            if (obj[0] == 'LIST') {
                tbl.append('<tr></tr><tr></tr>');
                var headerTr = tbl.find('tr:first');
                var contentTr = tbl.find('tr:last');
                // i: actual index in json object; ind: apparent index
                for (var i = 1, ind = 0; i < obj.length; i++) {
                    var val = obj[i];
                    var elide = val instanceof Array && val[0] == 'ELIDE';
                    // add a new column and then pass in that newly-added column
                    // as d3DomElement to the recursive call to child:
                    headerTr.append('<td class="' + label + 'Header"></td>');
                    headerTr.find('td:last').append(elide ? "&hellip;" : ind);
                    contentTr.append('<td class="' + label + 'Elt"></td>');
                    if (!elide) {
                        myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                        ind++;
                    }
                    else {
                        contentTr.find('td:last').append("&hellip;");
                        ind += val[1]; // val[1] is the number of cells to skip
                    }
                }
            } // end of LIST handling
            // Stack and Queue handling code by Will Gwozdz
            /* The table produced for stacks and queues is formed slightly differently than the others,
           missing the header row. Two rows made the dashed border not line up properly */
            if (obj[0] == 'STACK') {
                tbl.append('<tr></tr><tr></tr>');
                var contentTr = tbl.find('tr:last');
                contentTr.append('<td class="' + label + 'FElt">' + '<span class="stringObj symbolic">&#8596;</span>' + '</td>');
                $.each(obj, function (ind, val) {
                    if (ind < 1)
                        return; // skip type tag and ID entry
                    contentTr.append('<td class="' + label + 'Elt"></td>');
                    myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                });
                contentTr.append('<td class="' + label + 'LElt">' + '</td>');
            }
            if (obj[0] == 'QUEUE') {
                tbl.append('<tr></tr><tr></tr>');
                var contentTr = tbl.find('tr:last');
                // Add arrows showing in/out direction
                contentTr.append('<td class="' + label + 'FElt">' + '<span class="stringObj symbolic">&#8592;</span></td>');
                $.each(obj, function (ind, val) {
                    if (ind < 1)
                        return; // skip type tag and ID entry
                    contentTr.append('<td class="' + label + 'Elt"></td>');
                    myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                });
                contentTr.append('<td class="' + label + 'LElt">' + '<span class="stringObj symbolic">&#8592;</span></td>');
            }
            return [true]; // did handle
        });
        this.add_pytutor_hook("end_renderDataStructures", function (args) {
            var myViz = args.myViz;
            myViz.domRoot.find("td.instKey:contains('___NO_LABEL!___')").hide();
            myViz.domRoot.find(".typeLabel:contains('dict')").each(function (i) {
                if ($(this).html() == 'dict')
                    $(this).html('symbol table');
                if ($(this).html() == 'empty dict')
                    $(this).html('empty symbol table');
            });
        });
        // java synthetics cause things which javascript doesn't like in an id
        // VERY important to bind(this) so that when it's called, 'this' is this current object
        var old_generateID = ExecutionVisualizer.prototype.generateID.bind(this);
        this.generateID = function (original_id) {
            var sanitized = original_id.replace(/[^0-9a-zA-Z_]/g, function (match) { return '-' + match.charCodeAt(0) + '-'; });
            return old_generateID(sanitized);
        };
        // utility functions
        var entityMap = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': '&quot;',
            "'": '&#39;',
            "/": '&#x2F;'
        };
        var escapeHtml = function (string) {
            return String(string).replace(/[&<>"'\/]/g, function (s) {
                return entityMap[s];
            });
        };
    };
    // update fields corresponding to the current and previously executed lines
    // in the trace so that they can be properly highlighted; must call before
    // rendering code output (NB: argh pesky ordering dependency)
    ExecutionVisualizer.prototype.updateLineAndExceptionInfo = function () {
        var myViz = this;
        var totalInstrs = myViz.curTrace.length;
        var isLastInstr = myViz.curInstr === (totalInstrs - 1);
        myViz.curLineNumber = undefined;
        myViz.prevLineNumber = undefined;
        myViz.curLineIsReturn = undefined;
        myViz.prevLineIsReturn = undefined;
        myViz.curLineExceptionMsg = undefined;
        /* if instrLimitReached, then treat like a normal non-terminating line */
        var isTerminated = (!myViz.instrLimitReached && isLastInstr);
        var curLineNumber = null;
        var prevLineNumber = null;
        var curEntry = myViz.curTrace[myViz.curInstr];
        var curIsReturn = (curEntry.event == 'return');
        var prevIsReturn = false;
        if (myViz.curInstr > 0) {
            prevLineNumber = myViz.curTrace[myViz.curInstr - 1].line;
            prevIsReturn = (myViz.curTrace[myViz.curInstr - 1].event == 'return');
            /* kinda nutsy hack: if the previous line is a return line, don't
               highlight it. instead, highlight the line in the enclosing
               function that called this one (i.e., the call site). e.g.,:
      
               1. def foo(lst):
               2.   return len(lst)
               3.
               4. y = foo([1,2,3])
               5. print y
      
               If prevLineNumber is 2 and prevIsReturn, then curLineNumber is
               5, since that's the line that executes right after line 2
               finishes. However, this looks confusing to the user since what
               actually happened here was that the return value of foo was
               assigned to y on line 4. I want to have prevLineNumber be line
               4 so that it gets highlighted. There's no ideal solution, but I
               think that looks more sensible, since line 4 was the previous
               line that executed *in this function's frame*.
            */
            if (prevIsReturn) {
                var idx = myViz.curInstr - 1;
                var retStack = myViz.curTrace[idx].stack_to_render;
                // retStack.length == 0 in rare cases such as inside of an
                // exec() statement. #weird
                if (retStack.length > 0) {
                    var retFrameId = retStack[retStack.length - 1].frame_id;
                    // now go backwards until we find a 'call' to this frame
                    while (idx >= 0) {
                        var entry = myViz.curTrace[idx];
                        if (entry.event == 'call' && entry.stack_to_render) {
                            var topFrame = entry.stack_to_render[entry.stack_to_render.length - 1];
                            if (topFrame.frame_id == retFrameId) {
                                break; // DONE, we found the call that corresponds to this return
                            }
                        }
                        idx--;
                    }
                    // now idx is the index of the 'call' entry. we need to find the
                    // entry before that, which is the instruction before the call.
                    // THAT's the line of the call site.
                    if (idx > 0) {
                        var callingEntry = myViz.curTrace[idx - 1];
                        prevLineNumber = callingEntry.line; // WOOHOO!!!
                        prevIsReturn = false; // this is now a call site, not a return
                    }
                }
            }
        }
        var hasError = false;
        if (curEntry.event === 'exception' || curEntry.event === 'uncaught_exception') {
            assert(curEntry.exception_msg);
            hasError = true;
            myViz.curLineExceptionMsg = curEntry.exception_msg;
        }
        curLineNumber = curEntry.line;
        // edge case for the final instruction :0
        if (isTerminated && !hasError) {
            // don't show redundant arrows on the same line when terminated ...
            if (prevLineNumber == curLineNumber) {
                curLineNumber = null;
            }
        }
        // add these fields to myViz, which is the point of this function!
        myViz.curLineNumber = curLineNumber;
        myViz.prevLineNumber = prevLineNumber;
        myViz.curLineIsReturn = curIsReturn;
        myViz.prevLineIsReturn = prevIsReturn;
        myViz.renderQuestionMaybe();
    };
    ExecutionVisualizer.prototype.isOutputLineVisibleForBubbles = function (lineDivID) {
        var pcod = this.domRoot.find('#pyCodeOutputDiv');
        var lineNoTd = $('#' + lineDivID);
        var LO = lineNoTd.offset().top;
        var PO = pcod.offset().top;
        var ST = pcod.scrollTop();
        var H = pcod.height();
        // add a few pixels of fudge factor on the bottom end due to bottom scrollbar
        return (PO <= LO) && (LO < (PO + H - 25));
    };
    ExecutionVisualizer.prototype.renderQuestionMaybe = function () {
        // bnm
        if (this.curInstr < 1)
            return;
        var curEntry = this.curTrace[this.curInstr - 1];
        if (curEntry.question) {
            var done = false;
            while (!done) {
                var ans = prompt(curEntry.question.text);
                var answer = curEntry.question.correct;
                var attrs = answer.split(".");
                var correctAns = this.curTrace[this.curInstr];
                for (var j in attrs) {
                    correctAns = correctAns[attrs[j]];
                }
                if (ans.length > 0 && ans == correctAns) {
                    alert('Correct');
                    done = true;
                    // Create a custom event so that we don't have to suck in all of runestone
                    // codelens.js  has code that binds to this event and generates the call to
                    // record the answer.
                    var e = new CustomEvent("codelens:answer", { detail: { divid: $(this.domRoot).closest(".pytutorVisualizer")[0].id,
                            correct: true,
                            answer: ans
                        } });
                    document.dispatchEvent(e);
                }
                else {
                    done = !confirm(curEntry.question.feedback + "\nClick OK to try again");
                    var e = new CustomEvent("codelens:answer", { detail: { divid: $(this.domRoot).closest(".pytutorVisualizer")[0].id,
                            correct: false,
                            answer: ans
                        } });
                    document.dispatchEvent(e);
                }
            }
        }
    };
    ExecutionVisualizer.curVisualizerID = 1;
    ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_WIDTH = 350;
    ExecutionVisualizer.DEFAULT_EMBEDDED_CODE_DIV_HEIGHT = 400;
    // always nest values of these types within objects to make the
    // visualization look cleaner:
    // - functions should be nested within heap objects since that's a more
    //   intuitive rendering for methods (i.e., functions within objects)
    // - lots of special cases for function/property-like python types that we should inline
    ExecutionVisualizer.DEFAULT_ALWAYS_NEST_TYPES = ['FUNCTION', 'JS_FUNCTION',
        'property', 'classmethod', 'staticmethod', 'builtin_function_or_method',
        'member_descriptor', 'getset_descriptor', 'method_descriptor', 'wrapper_descriptor'];
    return ExecutionVisualizer;
}()); // END class ExecutionVisualizer
exports.ExecutionVisualizer = ExecutionVisualizer;
// implements the data structure visualization for an entire trace
var DataVisualizer = /** @class */ (function () {
    function DataVisualizer(owner, domRoot, domRootD3) {
        this.owner = owner;
        this.params = this.owner.params;
        this.curTrace = this.owner.curTrace;
        this.domRoot = domRoot;
        this.domRootD3 = domRootD3;
        this.hideVarsSet = null;
        this.hideFieldsSet = null;
        this.draggedHeapObjectCSS = d3.map(); // see above for description
        var codeVizHTML = "\n      <div id=\"selectiveHideStatus\"></div>\n      <div id=\"dataViz\">\n         <table id=\"stackHeapTable\">\n           <tr>\n             <td id=\"stack_td\">\n               <div id=\"globals_area\">\n                 <div id=\"stackHeader\">" + this.getRealLabel("Frames") + "</div>\n               </div>\n               <div id=\"stack\"></div>\n             </td>\n             <td id=\"heap_td\">\n               <div id=\"heap\">\n                 <div id=\"heapHeader\">" + this.getRealLabel("Objects") + "</div>\n               </div>\n             </td>\n           </tr>\n         </table>\n       </div>";
        this.domRoot.append(codeVizHTML);
        // create a persistent globals frame
        // (note that we need to keep #globals_area separate from #stack for d3 to work its magic)
        this.domRoot.find("#globals_area").append('<div class="stackFrame" id="'
            + this.owner.generateID('globals') + '"><div id="' + this.owner.generateID('globals_header')
            + '" class="stackFrameHeader">' + this.getRealLabel('Global frame') + '</div><table class="stackFrameVarTable" id="'
            + this.owner.generateID('global_table') + '"></table></div>');
        this.jsPlumbInstance = jsPlumb.getInstance({
            Endpoint: ["Dot", { radius: 3 }],
            EndpointStyles: [{ fillStyle: connectorBaseColor }, { fillstyle: null } /* make right endpoint invisible */],
            Anchors: ["RightMiddle", "LeftMiddle"],
            PaintStyle: { lineWidth: 1, strokeStyle: connectorBaseColor },
            // From: http://jsplumb.github.io/jsplumb/home.html#container
            // "It is strongly recommended that you set a Container before you begin plumbing."
            // - if you don't do this, then jsplumb arrow elements will live next to
            //   the elements that anchor them, which INTERACTS REALLY REALLY BADLY
            //   with jQuery draggable in weird ways. so set this.domRoot as container
            Container: this.domRoot,
            // note that this documentation covers a newer version of jsPlumb, and
            // we're still on a super-old jsPlumb-1.3.10 in lib/
            // https://docs.jsplumbtoolkit.com/toolkit/current/articles/connectors.html
            Connector: ["StateMachine"],
            Overlays: [["Arrow", { length: 10, width: 7, foldback: 0.55, location: 1 /* 1 = display at target */ }]],
            EndpointHoverStyles: [{ fillStyle: connectorHighlightColor }, { fillstyle: null } /* make right endpoint invisible */],
            HoverPaintStyle: { lineWidth: 1, strokeStyle: connectorHighlightColor },
        });
    }
    DataVisualizer.prototype.height = function () {
        return this.domRoot.find('#dataViz').height();
    };
    // create a unique CSS ID for a heap object, which should include both
    // its ID and the current step number. this is necessary if we want to
    // display the same heap object at multiple execution steps.
    //
    // 2020-02-05: why do we need stepNum in the ID? what happens if we
    // remove it? it may be more convenient if we remove it since we can
    // then track the state of the same object across multiple execution steps
    // such as its location (if the user dragged it to a custom location)
    // or whether it's hidden or not, since it will have the same CSS ID
    // when it's being rendered at different execution steps. what might go wrong?
    DataVisualizer.prototype.generateHeapObjID = function (objID, stepNum) {
        // 2020-02-05 - remove stepNum from returned CSS ID and see what happens:
        //return this.owner.generateID('heap_object_' + objID + '_s' + stepNum);
        return this.owner.generateID('heap_object_' + objID);
    };
    // customize labels for each language's preferred vocabulary
    DataVisualizer.prototype.getRealLabel = function (label) {
        if (this.params.lang === 'js' || this.params.lang === 'ts' || this.params.lang === 'ruby') {
            if (label === 'list') {
                return 'array';
            }
            else if (label === 'instance') {
                return 'object';
            }
            else if (label === 'True') {
                return 'true';
            }
            else if (label === 'False') {
                return 'false';
            }
        }
        if (this.params.lang === 'js') {
            if (label === 'dict') {
                return 'Map';
            }
            else if (label === 'set') {
                return 'Set';
            }
        }
        else if (this.params.lang === 'ruby') {
            if (label === 'dict') {
                return 'hash';
            }
            else if (label === 'set') {
                return 'Set'; // the Ruby Set class is capitalized
            }
            else if (label === 'function') {
                return 'method';
            }
            else if (label === 'None') {
                return 'nil';
            }
            else if (label === 'Global frame') {
                return 'Global Object';
            }
        }
        else if (this.params.lang === 'java') {
            if (label === 'None') {
                return 'null';
            }
            else if (label === 'True') {
                return 'true';
            }
            else if (label === 'False') {
                return 'false';
            }
        }
        else if (this.params.lang === 'c' || this.params.lang === 'cpp') {
            if (label === 'Global frame') {
                return 'Global variables';
            }
            else if (label === 'Frames') {
                return 'Stack';
            }
            else if (label === 'Objects') {
                return 'Heap';
            }
        }
        // default fallthrough case if no matches above
        return label;
    };
    // for managing state related to pesky jsPlumb connectors, need to reset
    // before every call to renderDataStructures, or else all hell breaks
    // loose. yeah, this is kludgy and stateful, but at least all of the
    // relevant state gets shoved into one unified place
    DataVisualizer.prototype.resetJsPlumbManager = function () {
        this.jsPlumbManager = {
            heap_pointer_src_id: 1,
            // Key:   CSS ID of the div element representing the stack frame variable
            //        (for stack->heap connections) or heap object (for heap->heap connections)
            //        the format is: '<this.visualizerID>__heap_pointer_src_<src id>'
            // Value: CSS ID of the div element representing the value rendered in the heap
            //        (the format is given by generateHeapObjID())
            //
            // The reason we need to prepend this.visualizerID is because jsPlumb needs
            // GLOBALLY UNIQUE IDs for use as connector endpoints.
            //
            // TODO: jsPlumb might be able to directly take DOM elements rather
            // than IDs, which makes the above point moot. But let's just stick
            // with this for now until I want to majorly refactor :)
            // the only elements in these sets are NEW elements to be rendered in this
            // particular call to renderDataStructures.
            connectionEndpointIDs: d3.map(),
            heapConnectionEndpointIDs: d3.map(),
            // analogous to connectionEndpointIDs, except for environment parent pointers
            parentPointerConnectionEndpointIDs: d3.map(),
            renderedHeapObjectIDs: d3.map(),
        };
    };
    // gets all global and local variable names used in this program
    // execution as indicated by this.curTrace
    DataVisualizer.prototype.getAllProgramVarnames = function () {
        var me = this;
        var allVarnames = [];
        $.each(this.curTrace, function (i, curEntry) {
            $.each(curEntry.ordered_globals, function (i, varname) {
                var encodedVarname = DataVisualizer.GLOBAL_PREFIX + ':' + varname;
                if (allVarnames.indexOf(encodedVarname) < 0) { // don't insert duplicates
                    allVarnames.push(encodedVarname);
                }
            });
            $.each(curEntry.stack_to_render, function (i, frame) {
                // some functions are unnamed, so use a placeholder:
                var func_prefix = frame.func_name ? frame.func_name : DataVisualizer.UNNAMED_PREFIX;
                $.each(frame.ordered_varnames, function (xxx, varname) {
                    var encodedVarname = func_prefix + ':' + varname;
                    if (allVarnames.indexOf(encodedVarname) < 0) { // don't insert duplicates
                        allVarnames.push(encodedVarname);
                    }
                });
            });
        });
        return allVarnames;
    };
    // gets all field names of classes, objects, dicts, C structs, and anything
    // else that has attribute/field names, as indicated by this.curTrace
    DataVisualizer.prototype.getAllProgramObjectFieldNames = function () {
        var me = this;
        var allFieldnames = [];
        // copied from recurseIntoCStructArray ...
        // see inside comments for an optimization opportunity:
        function traverseCStructArray(val) {
            if (val[0] == 'C_STRUCT') {
                // grab all field names and add to allFieldnames
                var structName_1 = val[2] ? val[2] : DataVisualizer.UNNAMED_PREFIX;
                $.each(val, function (ind, kvPair) {
                    if (ind < 3)
                        return; // these have 3 header fields
                    var fieldName = kvPair[0];
                    var encodedFieldname = structName_1 + ':' + fieldName;
                    if (allFieldnames.indexOf(encodedFieldname) < 0) { // don't insert duplicates
                        allFieldnames.push(encodedFieldname);
                    }
                });
            }
            // recurse inside if necessary ...
            //
            // TODO: if you really want to make this more efficient
            // (especially for huge arrays), you can simply traverse into the
            // *first element* of C_ARRAY or C_MULTIDIMENSIONAL_ARRAY since
            // they're supposedly homogeneous, so the type of the first element
            // should be identical to the type of all other elements :)
            // (just beware of the case of empty (zero-sized) arrays, though)
            if (val[0] === 'C_ARRAY') {
                $.each(val, function (ind, elt) {
                    if (ind < 2)
                        return; // these have 2 header fields
                    traverseCStructArray(elt);
                });
            }
            else if (val[0] === 'C_MULTIDIMENSIONAL_ARRAY' || val[0] === 'C_STRUCT') {
                $.each(val, function (ind, kvPair) {
                    if (ind < 3)
                        return; // these have 3 header fields
                    traverseCStructArray(kvPair[1]);
                });
            }
        }
        $.each(this.curTrace, function (i, curEntry) {
            //console.log(i, curEntry);
            // iterate through the heap looking for relevant objects with fields
            // expected format from ../pg_encoder.py
            // #   * instance - ['INSTANCE', class name, [attr1, value1], [attr2, value2], ..., [attrN, valueN]]
            // #   * instance with non-trivial __str__ defined - ['INSTANCE_PPRINT', class name, <__str__ value>, [attr1, value1], [attr2, value2], ..., [attrN, valueN]]
            // #   * class    - ['CLASS', class name, [list of superclass names], [attr1, value1], [attr2, value2], ..., [attrN, valueN]]
            //
            // also for javascript, JS_FUNCTION objects may have funcProperties
            //
            // [NB: we don't count DICT here since those don't technically contain
            // 'fields'; they contain dict keys, which don't necessarily need to be
            // strings, so it's confusing to try to ignore a non-string dict key]
            $.each(curEntry.heap, function (k, obj) {
                var typ = obj[0];
                if (typ == 'INSTANCE' || typ == 'INSTANCE_PPRINT' || typ == 'CLASS') {
                    var _a = DataVisualizer.getClassInstanceMetadata(obj), className = _a[0], headerLength = _a[1];
                    for (var i_1 = headerLength; i_1 < obj.length; i_1++) {
                        var fieldName = obj[i_1][0];
                        // className can possibly be null ...
                        var encodedFieldname = className ? className + ':' + fieldName : fieldName;
                        if (allFieldnames.indexOf(encodedFieldname) < 0) { // don't insert duplicates
                            allFieldnames.push(encodedFieldname);
                        }
                    }
                }
                else if (typ == 'JS_FUNCTION') {
                    var funcProperties = obj[3];
                    if (funcProperties) {
                        var funcName = obj[1];
                        // special-case handling: prefix with function name if appropriate
                        for (var i_2 = 0; i_2 < funcProperties.length; i_2++) {
                            var fieldName = funcProperties[i_2][0];
                            // funcName can possibly be empty ...
                            var encodedFieldname = funcName ? funcName + ':' + fieldName : fieldName;
                            if (allFieldnames.indexOf(encodedFieldname) < 0) { // don't insert duplicates
                                allFieldnames.push(encodedFieldname);
                            }
                        }
                    }
                }
                else if (typ == 'C_ARRAY' || typ == 'C_MULTIDIMENSIONAL_ARRAY' || typ == 'C_STRUCT') {
                    traverseCStructArray(obj);
                }
            });
            // C and C++ objects can exist directly within the global frame or
            // stack frames (not just on the heap), so we need to traverse
            // through those as well
            if (me.isCppMode()) {
                $.each(curEntry.ordered_globals, function (i, varname) {
                    var val = curEntry.globals[varname];
                    traverseCStructArray(val);
                });
                // iterate thru all stack frames
                $.each(curEntry.stack_to_render, function (i, frame) {
                    $.each(frame.ordered_varnames, function (xxx, varname) {
                        var val = frame.encoded_locals[varname];
                        traverseCStructArray(val);
                    });
                });
            }
        });
        return allFieldnames;
    };
    // this method initializes curTraceLayouts
    //
    // Pre-compute the layout of top-level heap objects for ALL execution
    // points as soon as a trace is first loaded. The reason why we want to
    // do this is so that when the user steps through execution points, the
    // heap objects don't "jiggle around" (i.e., preserving positional
    // invariance). Also, if we set up the layout objects properly, then we
    // can take full advantage of d3 to perform rendering and transitions.
    //
    // (also call this function whenever the user chooses to selectively
    //  hide/show variables/objects, since we want to get the latest layout)
    DataVisualizer.prototype.precomputeCurTraceLayouts = function () {
        //console.log('precomputeCurTraceLayouts');
        // curTraceLayouts is a list of top-level heap layout "objects" with the
        // same length as curTrace after it's been fully initialized. Each
        // element of curTraceLayouts is computed from the contents of its
        // immediate predecessor, thus ensuring that objects don't "jiggle
        // around" between consecutive execution points.
        //
        // Each top-level heap layout "object" is itself a LIST of LISTS of
        // object IDs, where each element of the outer list represents a row,
        // and each element of the inner list represents columns within a
        // particular row. Each row can have a different number of columns. Most
        // rows have exactly ONE column (representing ONE object ID), but rows
        // containing 1-D linked data structures have multiple columns. Each
        // inner list element looks something like ['row1', 3, 2, 1] where the
        // first element is a unique row ID tag, which is used as a key for d3 to
        // preserve "object constancy" for updates, transitions, etc. The row ID
        // is derived from the FIRST object ID inserted into the row. Since all
        // object IDs are unique, all row IDs will also be unique.
        /* This is a good, simple example to test whether objects "jiggle"
    
        x = [1, [2, [3, None]]]
        y = [4, [5, [6, None]]]
    
        x[1][1] = y[1]
    
        */
        this.curTraceLayouts = [];
        this.curTraceLayouts.push([]); // pre-seed with an empty sentinel to simplify the code
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        assert(this.curTrace && this.curTrace.length > 0);
        $.each(this.curTrace, function (i, curEntry) {
            var prevLayout = myViz.curTraceLayouts[myViz.curTraceLayouts.length - 1];
            // make a DEEP COPY of prevLayout to use as the basis for curLine
            var curLayout = $.extend(true /* deep copy */, [], prevLayout);
            // initialize with all IDs from curLayout
            var idsToRemove = d3.map();
            $.each(curLayout, function (i, row) {
                for (var j = 1 /* ignore row ID tag */; j < row.length; j++) {
                    idsToRemove.set(row[j], 1);
                }
            });
            var idsAlreadyLaidOut = d3.map(); // to prevent infinite recursion
            function curLayoutIndexOf(id) {
                for (var i = 0; i < curLayout.length; i++) {
                    var row = curLayout[i];
                    var index = row.indexOf(id);
                    if (index > 0) { // index of 0 is impossible since it's the row ID tag
                        return { row: row, index: index };
                    }
                }
                return null;
            }
            function isLinearObj(heapObj) {
                var hook_result = myViz.owner.try_hook("isLinearObj", { heapObj: heapObj });
                if (hook_result[0])
                    return hook_result[1];
                return heapObj[0] == 'LIST' || heapObj[0] == 'TUPLE' || heapObj[0] == 'SET';
            }
            function recurseIntoObject(id, curRow, newRow) {
                // heuristic for laying out 1-D linked data structures: check for enclosing elements
                // that are structurallyEquivalent() and then lay them out as siblings in the same "row"
                var heapObj = curEntry.heap[id];
                if (myViz.isCppMode()) {
                    // soften this assumption since C-style pointers might not point
                    // to the heap; they can point to any piece of data!
                    if (!heapObj) {
                        return;
                    }
                }
                else {
                    assert(heapObj);
                }
                if (isLinearObj(heapObj)) {
                    $.each(heapObj, function (ind, child) {
                        if (ind < 1)
                            return; // skip type tag
                        if (!myViz.isPrimitiveType(child)) {
                            var childID = getRefID(child);
                            if (myViz.structurallyEquivalent(heapObj, curEntry.heap[childID])) {
                                updateCurLayout(childID, curRow, newRow);
                            }
                            else if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                updateCurLayout(childID, [], []);
                            }
                        }
                    });
                }
                else if (heapObj[0] == 'DICT') {
                    $.each(heapObj, function (ind, child) {
                        if (ind < 1)
                            return; // skip type tag
                        var dictKey = child[0];
                        if (!myViz.isPrimitiveType(dictKey)) {
                            var keyChildID = getRefID(dictKey);
                            if (!myViz.owner.shouldNestObject(curEntry.heap[keyChildID])) {
                                updateCurLayout(keyChildID, [], []);
                            }
                        }
                        var dictVal = child[1];
                        if (!myViz.isPrimitiveType(dictVal)) {
                            var childID = getRefID(dictVal);
                            if (myViz.structurallyEquivalent(heapObj, curEntry.heap[childID])) {
                                updateCurLayout(childID, curRow, newRow);
                            }
                            else if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                updateCurLayout(childID, [], []);
                            }
                        }
                    });
                }
                else if (heapObj[0] == 'INSTANCE' || heapObj[0] == 'INSTANCE_PPRINT' || heapObj[0] == 'CLASS') {
                    var _a = DataVisualizer.getClassInstanceMetadata(heapObj), className_1 = _a[0], headerLength_1 = _a[1];
                    jQuery.each(heapObj, function (ind, child) {
                        if (ind < headerLength_1)
                            return;
                        var instKey = child[0];
                        if (myViz.inHideFieldsSet(className_1, instKey)) {
                            //console.log('precompute HIDING', className, instKey);
                            return; // get out!
                        }
                        if (!myViz.isPrimitiveType(instKey)) {
                            var keyChildID = getRefID(instKey);
                            if (!myViz.owner.shouldNestObject(curEntry.heap[keyChildID])) {
                                updateCurLayout(keyChildID, [], []);
                            }
                        }
                        var instVal = child[1];
                        if (!myViz.isPrimitiveType(instVal)) {
                            var childID = getRefID(instVal);
                            if (myViz.structurallyEquivalent(heapObj, curEntry.heap[childID])) {
                                updateCurLayout(childID, curRow, newRow);
                            }
                            else if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                updateCurLayout(childID, [], []);
                            }
                        }
                    });
                }
                else if (heapObj[0] == 'FUNCTION' || heapObj[0] == 'JS_FUNCTION') {
                    // a Python function object has an optional element at index=3
                    // (zero-indexed) that represents default arg names/values
                    //
                    // a JavaScript function object has funcProperties that we should
                    // recurse into in order to precompute their layouts
                    var funcProperties = null;
                    // traverse into default argument values to precompute their
                    // layouts, if applicable
                    if (heapObj[0] == 'FUNCTION' && heapObj.length > 3) {
                        funcProperties = heapObj[3];
                    }
                    if (heapObj[0] == 'JS_FUNCTION') {
                        assert(heapObj.length == 5);
                        funcProperties = heapObj[3];
                    }
                    if (funcProperties) {
                        assert(funcProperties.length > 0);
                        var funcName_1 = heapObj[1];
                        $.each(funcProperties, function (ind, kvPair) {
                            // only check this for JS_FUNCTION! we're overloading
                            // funcProperties to use for both FUNCTION and
                            // JS_FUNCTION, which might be confusing ...
                            if (heapObj[0] == 'JS_FUNCTION') {
                                var instKey = kvPair[0];
                                if (myViz.inHideFieldsSet(funcName_1, instKey)) {
                                    //console.log('precompute HIDING', funcName, instKey);
                                    return; // get out!
                                }
                            }
                            // copy/paste from INSTANCE/CLASS code above
                            var instVal = kvPair[1];
                            if (!myViz.isPrimitiveType(instVal)) {
                                var childID = getRefID(instVal);
                                if (!myViz.owner.shouldNestObject(curEntry.heap[childID])) {
                                    updateCurLayout(childID, [], []);
                                }
                            }
                        });
                    }
                }
                else if ((heapObj[0] == 'C_ARRAY') || (heapObj[0] == 'C_MULTIDIMENSIONAL_ARRAY') || (heapObj[0] == 'C_STRUCT')) {
                    updateCurLayoutAndRecurse(heapObj);
                }
            }
            // a krazy function!
            // id     - the new object ID to be inserted somewhere in curLayout
            //          (if it's not already in there)
            // curRow - a row within curLayout where new linked list
            //          elements can be appended onto (might be null)
            // newRow - a new row that might be spliced into curRow or appended
            //          as a new row in curLayout
            function updateCurLayout(id, curRow, newRow) {
                if (idsAlreadyLaidOut.has(id)) {
                    return; // PUNT!
                }
                var curLayoutLoc = curLayoutIndexOf(id);
                var alreadyLaidOut = idsAlreadyLaidOut.has(id);
                idsAlreadyLaidOut.set(id, 1); // unconditionally set now
                // if id is already in curLayout ...
                if (curLayoutLoc) {
                    var foundRow = curLayoutLoc.row;
                    var foundIndex = curLayoutLoc.index;
                    idsToRemove.remove(id); // this id is already accounted for!
                    // very subtle ... if id hasn't already been handled in
                    // this iteration, then splice newRow into foundRow. otherwise
                    // (later) append newRow onto curLayout as a truly new row
                    if (!alreadyLaidOut) {
                        // splice the contents of newRow right BEFORE foundIndex.
                        // (Think about when you're trying to insert in id=3 into ['row1', 2, 1]
                        //  to represent a linked list 3->2->1. You want to splice the 3
                        //  entry right before the 2 to form ['row1', 3, 2, 1])
                        if (newRow.length > 1) {
                            var args = [foundIndex, 0];
                            for (var i = 1; i < newRow.length; i++) { // ignore row ID tag
                                args.push(newRow[i]);
                                idsToRemove.remove(newRow[i]);
                            }
                            foundRow.splice.apply(foundRow, args);
                            // remove ALL elements from newRow since they've all been accounted for
                            // (but don't reassign it away to an empty list, since the
                            // CALLER checks its value. TODO: how to get rid of this gross hack?!?)
                            newRow.splice(0, newRow.length);
                        }
                    }
                    // recurse to find more top-level linked entries to append onto foundRow
                    recurseIntoObject(id, foundRow, []);
                }
                else {
                    // push id into newRow ...
                    if (newRow.length == 0) {
                        newRow.push('row' + id); // unique row ID (since IDs are unique)
                    }
                    newRow.push(id);
                    // recurse to find more top-level linked entries ...
                    recurseIntoObject(id, curRow, newRow);
                    // if newRow hasn't been spliced into an existing row yet during
                    // a child recursive call ...
                    if (newRow.length > 0) {
                        if (curRow && curRow.length > 0) {
                            // append onto the END of curRow if it exists
                            for (var i = 1; i < newRow.length; i++) { // ignore row ID tag
                                curRow.push(newRow[i]);
                            }
                        }
                        else {
                            // otherwise push to curLayout as a new row
                            //
                            // TODO: this might not always look the best, since we might
                            // sometimes want to splice newRow in the MIDDLE of
                            // curLayout. Consider this example:
                            //
                            // x = [1,2,3]
                            // y = [4,5,6]
                            // x = [7,8,9]
                            //
                            // when the third line is executed, the arrows for x and y
                            // will be crossed (ugly!) since the new row for the [7,8,9]
                            // object is pushed to the end (bottom) of curLayout. The
                            // proper behavior is to push it to the beginning of
                            // curLayout where the old row for 'x' used to be.
                            curLayout.push($.extend(true /* make a deep copy */, [], newRow));
                        }
                        // regardless, newRow is now accounted for, so clear it
                        for (var i = 1; i < newRow.length; i++) { // ignore row ID tag
                            idsToRemove.remove(newRow[i]);
                        }
                        newRow.splice(0, newRow.length); // kill it!
                    }
                }
            }
            function updateCurLayoutAndRecurse(elt) {
                if (!elt)
                    return; // early bail out
                if (isHeapRef(elt, curEntry.heap)) {
                    var id = getRefID(elt);
                    updateCurLayout(id, null, []);
                }
                recurseIntoCStructArray(elt);
            }
            // traverse inside of C structs and arrays to find whether they
            // (recursively) contain any references to heap objects within
            // themselves. be able to handle arbitrary nesting!
            function recurseIntoCStructArray(val) {
                if (val[0] === 'C_ARRAY') {
                    $.each(val, function (ind, elt) {
                        if (ind < 2)
                            return; // these have 2 header fields
                        updateCurLayoutAndRecurse(elt);
                    });
                }
                else if (val[0] === 'C_MULTIDIMENSIONAL_ARRAY' || val[0] === 'C_STRUCT') {
                    $.each(val, function (ind, kvPair) {
                        if (ind < 3)
                            return; // these have 3 header fields
                        if (val[0] === 'C_STRUCT') {
                            var structName = val[2] ? val[2] : DataVisualizer.UNNAMED_PREFIX;
                            var fieldName = kvPair[0];
                            if (myViz.inHideFieldsSet(structName, fieldName)) {
                                //console.log('precompute HIDING', structName, fieldName);
                                return; // get out!
                            }
                        }
                        updateCurLayoutAndRecurse(kvPair[1]);
                    });
                }
            }
            // iterate through all globals and ordered stack frames and call updateCurLayout
            $.each(curEntry.ordered_globals, function (i, varname) {
                if (myViz.inHideVarsSet(DataVisualizer.GLOBAL_PREFIX, varname)) {
                    //console.log('precompute HIDING', DataVisualizer.GLOBAL_PREFIX, varname);
                    return; // get out!
                }
                var val = curEntry.globals[varname];
                if (val !== undefined) { // might not be defined at this line, which is OKAY!
                    // TODO: try to unify this behavior between C/C++ and other languages:
                    if (myViz.isCppMode()) {
                        updateCurLayoutAndRecurse(val);
                    }
                    else {
                        if (!myViz.isPrimitiveType(val)) {
                            var id = getRefID(val);
                            updateCurLayout(id, null, []);
                        }
                    }
                }
            });
            $.each(curEntry.stack_to_render, function (i, frame) {
                // some functions are unnamed, so use a placeholder:
                var func_prefix = frame.func_name ? frame.func_name : DataVisualizer.UNNAMED_PREFIX;
                $.each(frame.ordered_varnames, function (xxx, varname) {
                    if (myViz.inHideVarsSet(func_prefix, varname)) {
                        //console.log('precompute HIDING', func_prefix, varname);
                        return; // get out!
                    }
                    var val = frame.encoded_locals[varname];
                    // TODO: try to unify this behavior between C/C++ and other languages:
                    if (myViz.isCppMode()) {
                        updateCurLayoutAndRecurse(val);
                    }
                    else {
                        if (!myViz.isPrimitiveType(val)) {
                            var id = getRefID(val);
                            updateCurLayout(id, null, []);
                        }
                    }
                });
            });
            // iterate through remaining elements of idsToRemove and REMOVE them from curLayout
            idsToRemove.forEach(function (id, xxx) {
                var idInt = Number(id); // keys are stored as strings, so convert!!!
                $.each(curLayout, function (rownum, row) {
                    var ind = row.indexOf(idInt);
                    if (ind > 0) { // remember that index 0 of the row is the row ID tag
                        row.splice(ind, 1);
                    }
                });
            });
            // now remove empty rows (i.e., those with only a row ID tag) from curLayout
            curLayout = curLayout.filter(function (row) { return row.length > 1; });
            myViz.curTraceLayouts.push(curLayout);
        });
        this.curTraceLayouts.splice(0, 1); // remove seeded empty sentinel element
        assert(this.curTrace.length == this.curTraceLayouts.length);
    };
    // is this visualizer in C or C++ mode? the eventual goal is to remove
    // this special-case kludge check altogether and have the entire
    // codebase be unified. but for now, keep C/C++ separate because I don't
    // want to risk screwing up the visualizations for the other languages
    DataVisualizer.prototype.isCppMode = function () {
        return (this.params.lang === 'c' || this.params.lang === 'cpp');
    };
    // compare two JSON-encoded compound objects for structural equivalence:
    DataVisualizer.prototype.structurallyEquivalent = function (obj1, obj2) {
        // punt if either isn't a compound type
        if (this.isPrimitiveType(obj1) || this.isPrimitiveType(obj2)) {
            return false;
        }
        // must be the same compound type
        if (obj1[0] != obj2[0]) {
            return false;
        }
        // must have the same number of elements or fields
        if (obj1.length != obj2.length) {
            return false;
        }
        // for a list or tuple, same size (e.g., a cons cell is a list/tuple of size 2)
        if (obj1[0] == 'LIST' || obj1[0] == 'TUPLE') {
            return true;
        }
        else {
            var startingInd = -1;
            if (obj1[0] == 'DICT') {
                startingInd = 1;
            }
            else if (obj1[0] == 'INSTANCE') {
                startingInd = 2;
            }
            else if (obj1[0] == 'INSTANCE_PPRINT') {
                startingInd = 3;
            }
            else {
                return false; // punt on all other types
            }
            var obj1fields = d3.map();
            // for a dict or object instance, same names of fields (ordering doesn't matter)
            for (var i = startingInd; i < obj1.length; i++) {
                obj1fields.set(obj1[i][0], 1); // use as a set
            }
            for (var i = startingInd; i < obj2.length; i++) {
                if (!obj1fields.has(obj2[i][0])) {
                    return false;
                }
            }
            return true;
        }
    };
    DataVisualizer.prototype.isPrimitiveType = function (obj) {
        var hook_result = this.owner.try_hook("isPrimitiveType", { obj: obj });
        if (hook_result[0])
            return hook_result[1];
        // null is a primitive
        if (obj === null) {
            return true;
        }
        if (typeof obj == "object") {
            // kludgy
            return (obj[0] == 'IMPORTED_FAUX_PRIMITIVE' ||
                obj[0] == 'SPECIAL_FLOAT' || obj[0] == 'JS_SPECIAL_VAL' ||
                obj[0] == 'C_DATA' /* TODO: is this right?!? */);
        }
        else {
            // non-objects are primitives
            return true;
        }
    };
    // This is the main event right here!!!
    //
    // The "4.0" version of renderDataStructures was refactored to be much
    // less monolithic and more modular. It was made possible by first
    // creating a suite of frontend JS regression tests so that I felt more
    // comfortable mucking around with the super-brittle code in this
    // function. This version was created in April 2014. For reference,
    // before refactoring, this function was 1,030 lines of convoluted code!
    //
    // (Also added the rightward nudge hack to make tree-like structures
    // look more sane without any sophisticated graph rendering code. Thanks
    // to John DeNero for this suggestion all the way back in Fall 2012.)
    //
    // The "3.0" version of renderDataStructures renders variables in
    // a stack, values in a separate heap, and draws line connectors
    // to represent both stack->heap object references and, more importantly,
    // heap->heap references. This version was created in August 2012.
    //
    // The "2.0" version of renderDataStructures renders variables in
    // a stack and values in a separate heap, with data structure aliasing
    // explicitly represented via line connectors (thanks to jsPlumb lib).
    // This version was created in September 2011.
    //
    // The ORIGINAL "1.0" version of renderDataStructures
    // was created in January 2010 and rendered variables and values
    // INLINE within each stack frame without any explicit representation
    // of data structure aliasing. That is, aliased objects were rendered
    // multiple times, and a unique ID label was used to identify aliases.
    DataVisualizer.prototype.renderDataStructures = function (curInstr) {
        //console.log('renderDataStructures', curInstr);
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        var curEntry = this.curTrace[curInstr];
        var curToplevelLayout = this.curTraceLayouts[curInstr];
        myViz.resetJsPlumbManager(); // very important!!!
        // for simplicity (but sacrificing some performance), delete all
        // connectors and redraw them from scratch. doing so avoids mysterious
        // jsPlumb connector alignment issues when the visualizer's enclosing
        // div contains, say, a "position: relative;" CSS tag
        // (which happens in the IPython Notebook)
        var existingConnectionEndpointIDs = d3.map();
        myViz.jsPlumbInstance.select({ scope: 'varValuePointer' }).each(function (c) {
            // This is VERY crude, but to prevent multiple redundant HEAP->HEAP
            // connectors from being drawn with the same source and origin, we need to first
            // DELETE ALL existing HEAP->HEAP connections, and then re-render all of
            // them in each call to this function. The reason why we can't safely
            // hold onto them is because there's no way to guarantee that the
            // *__heap_pointer_src_<src id> IDs are consistent across execution points.
            //
            // thus, only add to existingConnectionEndpointIDs if this is NOT heap->heap
            if (!c.sourceId.match(heapPtrSrcRE)) {
                existingConnectionEndpointIDs.set(c.sourceId, c.targetId);
            }
        });
        var existingParentPointerConnectionEndpointIDs = d3.map();
        myViz.jsPlumbInstance.select({ scope: 'frameParentPointer' }).each(function (c) {
            existingParentPointerConnectionEndpointIDs.set(c.sourceId, c.targetId);
        });
        // what variables/fields were hidden in this call to renderDataStructures?
        // (make these fields and not locals so that we can access them in
        // other methods too, ergh)
        myViz.varsHidden = [];
        myViz.fieldsHidden = [];
        // Heap object rendering phase:
        // count everything in curToplevelLayout as already rendered since we will render them
        // in d3 .each() statements
        $.each(curToplevelLayout, function (xxx, row) {
            for (var i = 0; i < row.length; i++) {
                var objID = row[i];
                var heapObjID = myViz.generateHeapObjID(objID, curInstr);
                myViz.jsPlumbManager.renderedHeapObjectIDs.set(heapObjID, 1);
            }
        });
        // use d3 to render the heap by mapping curToplevelLayout into <table class="heapRow">
        // and <td class="toplevelHeapObject"> elements
        // before we clear the heap div below, record the custom positions
        // of any heapObjects that we've made as draggable *and* that's been
        // dragged somewhere different (as indicated by the jQuery
        // data('draggedCSS') attribute being set to the custom CSS of the
        // dragged object, which should contain its current custom position)
        myViz.domRoot.find('.heapObject').each(function (i, e) {
            var draggedCSS = $(e).data('draggedCSS');
            if (draggedCSS) {
                // save a mapping between the .heapObject id and its draggedCSS
                myViz.draggedHeapObjectCSS.set($(e).attr('id'), draggedCSS);
            }
        });
        // now it's safe to totally erase all .heapObject elements by
        // emptying '#heap' below ...
        // for simplicity, CLEAR this entire div every time, which totally
        // gets rid of the incremental benefits of using d3 for, say,
        // transitions or efficient updates. but it provides more
        // deterministic and predictable output for other functions. sigh, i'm
        // not really using d3 to the fullest, but oh wells!
        myViz.domRoot.find('#heap')
            .empty()
            .html("<div id=\"heapHeader\">" + myViz.getRealLabel("Objects") + "</div>");
        var heapRows = myViz.domRootD3.select('#heap')
            .selectAll('table.heapRow')
            .attr('id', function (d, i) { return 'heapRow' + i; }) // add unique ID
            .data(curToplevelLayout, function (objLst) {
            return objLst[0]; // return first element, which is the row ID tag
        });
        // insert new heap rows
        heapRows.enter().append('table')
            //.each(function(objLst, i) {console.log('NEW ROW:', objLst, i);})
            .attr('id', function (d, i) { return 'heapRow' + i; }) // add unique ID
            .attr('class', 'heapRow');
        // delete a heap row
        var hrExit = heapRows.exit();
        hrExit
            .each(function (d, idx) {
            //console.log('DEL ROW:', d, idx);
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // update an existing heap row
        var toplevelHeapObjects = heapRows
            //.each(function(objLst, i) { console.log('UPDATE ROW:', objLst, i); })
            .selectAll('td.toplevelHeapObject')
            .data(function (d, i) { return d.slice(1, d.length); }, /* map over each row, skipping row ID tag */ function (objID) { return objID; } /* each object ID is unique for constancy */);
        // insert a new toplevelHeapObject
        var tlhEnter = toplevelHeapObjects.enter().append('td')
            .attr('class', 'toplevelHeapObject')
            .attr('id', function (d, i) { return 'toplevel_heap_object_' + d; }); // TODO: is this CSS ID unique?
        // remember that the enter selection is added to the update
        // selection so that we can process it later ...
        // update a toplevelHeapObject
        toplevelHeapObjects
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .each(function (objID, i) {
            //console.log('NEW/UPDATE ELT', objID);
            // TODO: add a smoother transition in the future
            // Right now, just delete the old element and render a new one in its place
            $(this).empty();
            if (myViz.isCppMode()) {
                // TODO: why might this be undefined?!? because the object
                // disappeared from the heap all of a sudden?!?
                if (curEntry.heap[objID] !== undefined) {
                    myViz.renderCompoundObject(objID, curInstr, $(this), true);
                }
            }
            else {
                myViz.renderCompoundObject(objID, curInstr, $(this), true);
            }
        });
        // delete a toplevelHeapObject
        var tlhExit = toplevelHeapObjects.exit();
        tlhExit
            .each(function (d, idx) {
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // Render globals and then stack frames using d3:
        // TODO: this sometimes seems buggy on Safari, so nix it for now:
        function highlightAliasedConnectors(d, i) {
            // if this row contains a stack pointer, then highlight its arrow and
            // ALL aliases that also point to the same heap object
            var stackPtrId = $(this).find('div.stack_pointer').attr('id');
            if (stackPtrId) {
                var foundTargetId = null;
                myViz.jsPlumbInstance.select({ source: stackPtrId }).each(function (c) { foundTargetId = c.targetId; });
                // use foundTargetId to highlight ALL ALIASES
                myViz.jsPlumbInstance.select().each(function (c) {
                    if (c.targetId == foundTargetId) {
                        c.setHover(true);
                        $(c.canvas).css("z-index", 2000); // ... and move it to the VERY FRONT
                    }
                    else {
                        c.setHover(false);
                    }
                });
            }
        }
        function unhighlightAllConnectors(d, i) {
            myViz.jsPlumbInstance.select().each(function (c) {
                c.setHover(false);
            });
        }
        // TODO: coalesce code for rendering globals and stack frames,
        // since there's so much copy-and-paste grossness right now
        // render all global variables IN THE ORDER they were created by the program,
        // in order to ensure continuity:
        // Derive a list where each element contains varname
        // as long as value is NOT undefined.
        // (Sometimes entries in curEntry.ordered_globals are undefined,
        // so filter those out.)
        var realGlobalsLst = [];
        $.each(curEntry.ordered_globals, function (i, varname) {
            if (myViz.inHideVarsSet(DataVisualizer.GLOBAL_PREFIX, varname)) {
                console.log('render HIDING', DataVisualizer.GLOBAL_PREFIX, varname);
                myViz.varsHidden.push(DataVisualizer.GLOBAL_PREFIX + ':' + varname);
                return; // get out!
            }
            var val = curEntry.globals[varname];
            // (use '!==' to do an EXACT match against undefined)
            if (val !== undefined) { // might not be defined at this line, which is OKAY!
                realGlobalsLst.push(varname);
            }
        });
        var globalsID = myViz.owner.generateID('globals');
        var globalTblID = myViz.owner.generateID('global_table');
        var globalVarTable = myViz.domRootD3.select('#' + globalTblID)
            .selectAll('tr')
            .data(realGlobalsLst, function (d) { return d; } // use variable name as key
        );
        globalVarTable
            .enter()
            .append('tr')
            .attr('class', 'variableTr')
            .attr('id', function (d, i) {
            return myViz.owner.generateID(varnameToCssID('global__' + d + '_tr')); // make globally unique (within the page)
        });
        var globalVarTableCells = globalVarTable
            .selectAll('td.stackFrameVar,td.stackFrameValue')
            .data(function (d, i) { return [d, d]; }); /* map varname down both columns */
        globalVarTableCells.enter()
            .append('td')
            .attr('class', function (d, i) { return (i == 0) ? 'stackFrameVar' : 'stackFrameValue'; });
        // remember that the enter selection is added to the update
        // selection so that we can process it later ...
        // UPDATE
        globalVarTableCells
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .each(function (varname, i) {
            if (i == 0) {
                $(this).html(varname);
            }
            else {
                // always delete and re-render the global var ...
                // NB: trying to cache and compare the old value using,
                // say -- $(this).attr('data-curvalue', valStringRepr) -- leads to
                // a mysterious and killer memory leak that I can't figure out yet
                $(this).empty();
                // make sure varname doesn't contain any weird
                // characters that are illegal for CSS ID's ...
                var varDivID = myViz.owner.generateID('global__' + varnameToCssID(varname));
                // need to get rid of the old connector in preparation for rendering a new one:
                existingConnectionEndpointIDs.remove(varDivID);
                var val = curEntry.globals[varname];
                if (myViz.isPrimitiveType(val)) {
                    myViz.renderPrimitiveObject(val, curInstr, $(this));
                }
                else if (val[0] === 'C_STRUCT' || val[0] === 'C_ARRAY' || val[0] === 'C_MULTIDIMENSIONAL_ARRAY') {
                    // C structs and arrays can be inlined in frames
                    myViz.renderCStructArray(val, curInstr, $(this));
                }
                else {
                    var heapObjID = myViz.generateHeapObjID(getRefID(val), curInstr);
                    if (myViz.params.textualMemoryLabels) {
                        var labelID = varDivID + '_text_label';
                        $(this).append('<div class="objectIdLabel" id="' + labelID + '">id' + getRefID(val) + '</div>');
                        $(this).find('div#' + labelID).hover(function () {
                            myViz.jsPlumbInstance.connect({ source: labelID, target: heapObjID,
                                scope: 'varValuePointer' });
                        }, function () {
                            myViz.jsPlumbInstance.select({ source: labelID }).detach();
                        });
                    }
                    else {
                        // add a stub so that we can connect it with a connector later.
                        // IE needs this div to be NON-EMPTY in order to properly
                        // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                        $(this).append('<div class="stack_pointer" id="' + varDivID + '">&nbsp;</div>');
                        assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(varDivID));
                        myViz.jsPlumbManager.connectionEndpointIDs.set(varDivID, heapObjID);
                        //console.log('STACK->HEAP', varDivID, heapObjID);
                    }
                }
            }
        });
        globalVarTableCells.exit()
            .each(function (d, idx) {
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        globalVarTable.exit()
            .each(function (d, i) {
            // detach all stack_pointer connectors for divs that are being removed
            $(this).find('.stack_pointer').each(function (i, sp) {
                existingConnectionEndpointIDs.remove($(sp).attr('id'));
            });
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // for aesthetics, hide globals if there aren't any globals to display
        if (curEntry.ordered_globals.length == 0) {
            this.domRoot.find('#' + globalsID).hide();
        }
        else {
            this.domRoot.find('#' + globalsID).show();
        }
        // holy cow, the d3 code for stack rendering is ABSOLUTELY NUTS!
        var stackDiv = myViz.domRootD3.select('#stack');
        // VERY IMPORTANT for selectAll selector to be SUPER specific here!
        var stackFrameDiv = stackDiv.selectAll('div.stackFrame,div.zombieStackFrame')
            .data(curEntry.stack_to_render, function (frame) {
            // VERY VERY VERY IMPORTANT for properly handling closures and nested functions
            // (see the backend code for more details)
            return frame.unique_hash;
        });
        var sfdEnter = stackFrameDiv.enter()
            .append('div')
            .attr('class', function (d, i) { return d.is_zombie ? 'zombieStackFrame' : 'stackFrame'; })
            .attr('id', function (d, i) {
            return d.is_zombie ? myViz.owner.generateID("zombie_stack" + i)
                : myViz.owner.generateID("stack" + i);
        })
            // HTML5 custom data attributes
            .attr('data-frame_id', function (frame, i) { return frame.frame_id; })
            .attr('data-parent_frame_id', function (frame, i) {
            return (frame.parent_frame_id_list.length > 0) ? frame.parent_frame_id_list[0] : null;
        })
            .each(function (frame, i) {
            if (!myViz.params.drawParentPointers) {
                return;
            }
            // only run if myViz.params.drawParentPointers is true ...
            var my_CSS_id = $(this).attr('id');
            //console.log(my_CSS_id, 'ENTER');
            // render a parent pointer whose SOURCE node is this frame
            // i.e., connect this frame to p, where this.parent_frame_id == p.frame_id
            // (if this.parent_frame_id is null, then p is the global frame)
            if (frame.parent_frame_id_list.length > 0) {
                var parent_frame_id = frame.parent_frame_id_list[0];
                // tricky turkey!
                // ok this hack just HAPPENS to work by luck ... usually there will only be ONE frame
                // that matches this selector, but sometimes multiple frames match, in which case the
                // FINAL frame wins out (since parentPointerConnectionEndpointIDs is a map where each
                // key can be mapped to only ONE value). it so happens that the final frame winning
                // out looks "desirable" for some of the closure test cases that I've tried. but
                // this code is quite brittle :(
                myViz.domRoot.find('div#stack [data-frame_id=' + parent_frame_id + ']').each(function (i, e) {
                    var parent_CSS_id = $(this).attr('id');
                    //console.log('connect', my_CSS_id, parent_CSS_id);
                    myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.set(my_CSS_id, parent_CSS_id);
                });
            }
            else {
                // render a parent pointer to the global frame
                //console.log('connect', my_CSS_id, globalsID);
                // only do this if there are actually some global variables to display ...
                if (curEntry.ordered_globals.length > 0) {
                    myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.set(my_CSS_id, globalsID);
                }
            }
            // tricky turkey: render parent pointers whose TARGET node is this frame.
            // i.e., for all frames f such that f.parent_frame_id == my_frame_id,
            // connect f to this frame.
            // (make sure not to confuse frame IDs with CSS IDs!!!)
            var my_frame_id = frame.frame_id;
            myViz.domRoot.find('div#stack [data-parent_frame_id=' + my_frame_id + ']').each(function (i, e) {
                var child_CSS_id = $(this).attr('id');
                //console.log('connect', child_CSS_id, my_CSS_id);
                myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.set(child_CSS_id, my_CSS_id);
            });
        });
        sfdEnter
            .append('div')
            .attr('class', 'stackFrameHeader')
            .html(function (frame, i) {
            // pretty-print lambdas and display other weird characters
            // (might contain '<' or '>' for weird names like <genexpr>)
            var funcName = htmlspecialchars(frame.func_name).replace('&lt;lambda&gt;', '\u03bb');
            var headerLabel = funcName;
            // only display if you're someone's parent (unless showAllFrameLabels)
            if (frame.is_parent || myViz.params.showAllFrameLabels) {
                headerLabel = 'f' + frame.frame_id + ': ' + headerLabel;
            }
            // optional (btw, this isn't a CSS id)
            if (frame.parent_frame_id_list.length > 0) {
                var parentFrameID = frame.parent_frame_id_list[0];
                headerLabel = headerLabel + ' [parent=f' + parentFrameID + ']';
            }
            else if (myViz.params.showAllFrameLabels) {
                headerLabel = headerLabel + ' [parent=Global]';
            }
            return headerLabel;
        });
        sfdEnter
            .append('table')
            .attr('class', 'stackFrameVarTable');
        var stackVarTable = stackFrameDiv
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .select('table').selectAll('tr')
            .data(function (frame) {
            if (myViz.hideVarsSet) {
                // filter out everything in hideVarsSet
                var func_prefix_1 = frame.func_name ? frame.func_name : DataVisualizer.UNNAMED_PREFIX;
                // a bit inefficient since we call filter twice, but whateves :)
                var hiddenVarnamesLst = frame.ordered_varnames.filter(function (varname) { return myViz.inHideVarsSet(func_prefix_1, varname); });
                console.log('render HIDING', func_prefix_1, hiddenVarnamesLst);
                hiddenVarnamesLst.forEach(function (e) { myViz.varsHidden.push(func_prefix_1 + ':' + e); });
                return frame.ordered_varnames
                    .filter(function (varname) { return !myViz.inHideVarsSet(func_prefix_1, varname); })
                    .map(function (varname) { return { varname: varname, frame: frame }; });
            }
            else {
                // each list element contains a reference to the entire frame
                // object as well as the variable name
                // TODO: look into whether we can use d3 parent nodes to avoid
                // this hack ... http://bost.ocks.org/mike/nest/
                return frame.ordered_varnames.map(function (varname) { return { varname: varname, frame: frame }; });
            }
        }, function (d) {
            // TODO: why would d ever be null?!? weird
            if (d) {
                return d.varname; // use variable name as key
            }
        });
        stackVarTable
            .enter()
            .append('tr')
            .attr('class', 'variableTr')
            .attr('id', function (d, i) {
            return myViz.owner.generateID(varnameToCssID(d.frame.unique_hash + '__' + d.varname + '_tr')); // make globally unique (within the page)
        });
        var stackVarTableCells = stackVarTable
            .selectAll('td.stackFrameVar,td.stackFrameValue')
            .data(function (d, i) { return [d, d] /* map identical data down both columns */; });
        stackVarTableCells.enter()
            .append('td')
            .attr('class', function (d, i) { return (i == 0) ? 'stackFrameVar' : 'stackFrameValue'; });
        stackVarTableCells
            .order() // VERY IMPORTANT to put in the order corresponding to data elements
            .each(function (d, i) {
            var varname = d.varname;
            var frame = d.frame;
            if (i == 0) {
                if (varname == '__return__')
                    $(this).html('<span class="retval">Return<br/>value</span>');
                else
                    $(this).html(varname);
            }
            else {
                // always delete and re-render the stack var ...
                // NB: trying to cache and compare the old value using,
                // say -- $(this).attr('data-curvalue', valStringRepr) -- leads to
                // a mysterious and killer memory leak that I can't figure out yet
                $(this).empty();
                // make sure varname and frame.unique_hash don't contain any weird
                // characters that are illegal for CSS ID's ...
                var varDivID = myViz.owner.generateID(varnameToCssID(frame.unique_hash + '__' + varname));
                // need to get rid of the old connector in preparation for rendering a new one:
                existingConnectionEndpointIDs.remove(varDivID);
                var val = frame.encoded_locals[varname];
                if (myViz.isPrimitiveType(val)) {
                    myViz.renderPrimitiveObject(val, curInstr, $(this));
                }
                else if (val[0] === 'C_STRUCT' || val[0] === 'C_ARRAY' || val[0] === 'C_MULTIDIMENSIONAL_ARRAY') {
                    // C structs and arrays can be inlined in frames
                    myViz.renderCStructArray(val, curInstr, $(this));
                }
                else {
                    var heapObjID = myViz.generateHeapObjID(getRefID(val), curInstr);
                    if (myViz.params.textualMemoryLabels) {
                        var labelID = varDivID + '_text_label';
                        $(this).append('<div class="objectIdLabel" id="' + labelID + '">id' + getRefID(val) + '</div>');
                        $(this).find('div#' + labelID).hover(function () {
                            myViz.jsPlumbInstance.connect({ source: labelID, target: heapObjID,
                                scope: 'varValuePointer' });
                        }, function () {
                            myViz.jsPlumbInstance.select({ source: labelID }).detach();
                        });
                    }
                    else {
                        // add a stub so that we can connect it with a connector later.
                        // IE needs this div to be NON-EMPTY in order to properly
                        // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                        $(this).append('<div class="stack_pointer" id="' + varDivID + '">&nbsp;</div>');
                        assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(varDivID));
                        myViz.jsPlumbManager.connectionEndpointIDs.set(varDivID, heapObjID);
                        //console.log('STACK->HEAP', varDivID, heapObjID);
                    }
                }
            }
        });
        stackVarTableCells.exit()
            .each(function (d, idx) {
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        stackVarTable.exit()
            .each(function (d, i) {
            $(this).find('.stack_pointer').each(function (i, sp) {
                // detach all stack_pointer connectors for divs that are being removed
                existingConnectionEndpointIDs.remove($(sp).attr('id'));
            });
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        stackFrameDiv.exit()
            .each(function (frame, i) {
            $(this).find('.stack_pointer').each(function (i, sp) {
                // detach all stack_pointer connectors for divs that are being removed
                existingConnectionEndpointIDs.remove($(sp).attr('id'));
            });
            var my_CSS_id = $(this).attr('id');
            //console.log(my_CSS_id, 'EXIT');
            // Remove all pointers where either the source or destination end is my_CSS_id
            existingParentPointerConnectionEndpointIDs.forEach(function (k, v) {
                if (k == my_CSS_id || v == my_CSS_id) {
                    //console.log('remove EPP', k, v);
                    existingParentPointerConnectionEndpointIDs.remove(k);
                }
            });
            $(this).empty(); // crucial for garbage collecting jsPlumb connectors!
        })
            .remove();
        // Rightward nudge hack to make tree-like structures look more sane
        // without any sophisticated graph rendering code. Thanks to John
        // DeNero for this suggestion in Fall 2012.
        //
        // This hack tries to ensure that all pointers that span different
        // rows point RIGHTWARD (as much as possible), which makes tree-like
        // structures look decent. e.g.,:
        //
        // t = [[['a', 'b'], ['c', 'd']], [[1,2], [3,4]]]
        //
        // Do it here since all of the divs have been rendered by now, but no
        // jsPlumb arrows have been rendered yet.
        if (rightwardNudgeHack) {
            // Basic idea: keep a set of all nudged ROWS for each nudger row, so
            // that when you get nudged, you can, in turn, nudge all of the rows
            // that you've nudged. this algorithm nicely takes care of the fact
            // that there might not be cycles in objects that you've nudged, but
            // there are cycles in entire rows.
            //
            // Key:   ID of .heapRow object that did the nudging
            // Value: set of .heapRow ID that were (transitively) nudged by this element
            //        (represented as a d3.map)
            var nudger_to_nudged_rows = {};
            // VERY IMPORTANT to sort these connector IDs in ascending order,
            // since I think they're rendered left-to-right, top-to-bottom in ID
            // order, so we want to run the nudging algorithm in that same order.
            var srcHeapConnectorIDs = myViz.jsPlumbManager.heapConnectionEndpointIDs.keys();
            srcHeapConnectorIDs.sort();
            $.each(srcHeapConnectorIDs, function (i, srcID) {
                var dstID = myViz.jsPlumbManager.heapConnectionEndpointIDs.get(srcID);
                var srcAnchorObject = myViz.domRoot.find('#' + srcID);
                var srcHeapObject = srcAnchorObject.closest('.heapObject');
                var dstAnchorObject = myViz.domRoot.find('#' + dstID);
                var dstHeapObject = dstAnchorObject.closest('.heapObject');
                var srcHeapRow = srcHeapObject.closest('.heapRow');
                var dstHeapRow = dstHeapObject.closest('.heapRow');
                var srcRowID = srcHeapRow.attr('id');
                var dstRowID = dstHeapRow.attr('id');
                // only consider nudging if srcID and dstID are on different rows
                if (srcRowID != dstRowID) {
                    var srcAnchorLeft = srcAnchorObject.offset().left;
                    var srcHeapObjectLeft = srcHeapObject.offset().left;
                    var dstHeapObjectLeft = dstHeapObject.offset().left;
                    // if srcAnchorObject is to the RIGHT of dstHeapObject, then nudge
                    // dstHeapObject to the right
                    if (srcAnchorLeft > dstHeapObjectLeft) {
                        // an extra nudge of 32px matches up pretty well with the
                        // current CSS padding around .toplevelHeapObject
                        var delta = (srcAnchorLeft - dstHeapObjectLeft) + 32;
                        // set margin rather than padding so that arrows tips still end
                        // at the left edge of the element.
                        // whoa, set relative CSS using +=, nice!
                        //
                        // TODO: tried looking into setting 'left' directly instead of
                        // 'margin-left', but somehow the results look different
                        dstHeapObject.css('margin-left', '+=' + delta);
                        //console.log(srcRowID, 'nudged', dstRowID, 'by', delta);
                        var cur_nudgee_set = nudger_to_nudged_rows[srcRowID];
                        if (cur_nudgee_set === undefined) {
                            cur_nudgee_set = d3.map();
                            nudger_to_nudged_rows[srcRowID] = cur_nudgee_set;
                        }
                        cur_nudgee_set.set(dstRowID, 1 /* useless value */);
                        // now if dstRowID itself nudged some other nodes, then nudge
                        // all of its nudgees by delta as well
                        var dst_nudgee_set = nudger_to_nudged_rows[dstRowID];
                        if (dst_nudgee_set) {
                            dst_nudgee_set.forEach(function (k, v) {
                                // don't nudge if it's yourself, to make cycles look
                                // somewhat reasonable (although still not ideal). e.g.,:
                                //   x = [1,2]
                                //   y = [3,x]
                                //   x[1] = y
                                if (k != srcRowID) {
                                    // nudge this entire ROW by delta as well
                                    // 2020-02-05: OK instead of nudging the .heapRow
                                    // object, we will traverse inside of it and nudge all
                                    // of its .heapObject children that reside directly
                                    // within .heapRow > .toplevelHeapObject > .heapObject
                                    //
                                    // why are we doing this? because we want it to
                                    // interact well with draggedHeapObjectCSS ... if an
                                    // element is dragged, we want to restore its
                                    // cached position from draggedHeapObjectCSS, which
                                    // will override all nudges. if we had nudged .heapRow
                                    // like we used to do, then .heapRow may itself be
                                    // nudged, which would kind of override
                                    // draggedHeapObjectCSS, which is applied to .heapObject
                                    //
                                    // old code: nudge .heapRow itself ...
                                    //myViz.domRoot.find('#' + k).css('margin-left', '+=' + delta);
                                    // new code: nudge all .heapObject children of .heapRow
                                    // (which is separated by an intermediary .toplevelHeapObject)
                                    myViz.domRoot.find('#' + k)
                                        .children('.toplevelHeapObject')
                                        .children('.heapObject')
                                        .css('margin-left', '+=' + delta);
                                    // NB: why don't we just use .find() to directly get
                                    // all .heapObject elements? because there are
                                    // sometimes .heapObject that are nested *within*
                                    // other .heapObject, and we don't want to unnecessarily
                                    // nudge those ... thus, we stick to .toplevelHeapObject
                                    // then transitively add to entry for srcRowID
                                    cur_nudgee_set.set(k, 1 /* useless value */);
                                }
                            });
                        }
                    }
                }
            });
        }
        // NB: ugh, I'm not very happy about this hack, but it seems necessary
        // for embedding within sophisticated webpages such as IPython Notebook
        // delete all connectors. do this AS LATE AS POSSIBLE so that
        // (presumably) the calls to $(this).empty() earlier in this function
        // will properly garbage collect the connectors
        //
        // WARNING: for environment parent pointers, garbage collection doesn't seem to
        // be working as intended :(
        //
        // I suspect that this is due to the fact that parent pointers are SIBLINGS
        // of stackFrame divs and not children, so when stackFrame divs get destroyed,
        // their associated parent pointers do NOT.)
        myViz.jsPlumbInstance.reset();
        // use jsPlumb scopes to keep the different kinds of pointers separated
        function renderVarValueConnector(varID, valueID) {
            // special-case handling for C/C++ pointers, just to keep from rocking
            // the boat on my existing (battle-tested) code
            if (myViz.isCppMode()) {
                if (myViz.domRoot.find('#' + valueID).length) {
                    myViz.jsPlumbInstance.connect({ source: varID, target: valueID, scope: 'varValuePointer' });
                }
                else {
                    // pointer isn't pointing to anything valid; put a poo emoji here
                    myViz.domRoot.find('#' + varID).html('\uD83D\uDCA9' /* pile of poo emoji */);
                }
            }
            else {
                myViz.jsPlumbInstance.connect({ source: varID, target: valueID, scope: 'varValuePointer' });
            }
        }
        var totalParentPointersRendered = 0;
        function renderParentPointerConnector(srcID, dstID) {
            // SUPER-DUPER-ugly hack since I can't figure out a cleaner solution for now:
            // if either srcID or dstID no longer exists, then SKIP rendering ...
            if ((myViz.domRoot.find('#' + srcID).length == 0) ||
                (myViz.domRoot.find('#' + dstID).length == 0)) {
                return;
            }
            //console.log('renderParentPointerConnector:', srcID, dstID);
            myViz.jsPlumbInstance.connect({ source: srcID, target: dstID,
                anchors: ["LeftMiddle", "LeftMiddle"],
                // 'horizontally offset' the parent pointers up so that they don't look as ugly ...
                //connector: ["Flowchart", { stub: 9 + (6 * (totalParentPointersRendered + 1)) }],
                // actually let's try a bezier curve ...
                connector: ["Bezier", { curviness: 45 }],
                endpoint: ["Dot", { radius: 4 }],
                //hoverPaintStyle: {lineWidth: 1, strokeStyle: connectorInactiveColor}, // no hover colors
                scope: 'frameParentPointer' });
            totalParentPointersRendered++;
        }
        if (!myViz.params.textualMemoryLabels) {
            // re-render existing connectors and then ...
            //
            // NB: in C/C++ mode, to keep things simple, don't try to redraw
            // existingConnectionEndpointIDs since we want to redraw all arrows
            // each and every time.
            if (!myViz.isCppMode()) {
                existingConnectionEndpointIDs.forEach(renderVarValueConnector);
            }
            // add all the NEW connectors that have arisen in this call to renderDataStructures
            myViz.jsPlumbManager.connectionEndpointIDs.forEach(renderVarValueConnector);
        }
        // do the same for environment parent pointers
        if (myViz.params.drawParentPointers) {
            existingParentPointerConnectionEndpointIDs.forEach(renderParentPointerConnector);
            myViz.jsPlumbManager.parentPointerConnectionEndpointIDs.forEach(renderParentPointerConnector);
        }
        /*
        myViz.jsPlumbInstance.select().each(function(c) {
          console.log('CONN:', c.sourceId, c.targetId);
        });
        */
        //console.log('---', myViz.jsPlumbInstance.select().length, '---');
        function highlight_frame(frameID) {
            myViz.jsPlumbInstance.select().each(function (c) {
                // find the enclosing .stackFrame ...
                var stackFrameDiv = c.source.closest('.stackFrame');
                // if this connector starts in the selected stack frame ...
                if (stackFrameDiv.attr('id') == frameID) {
                    // then HIGHLIGHT IT!
                    c.setPaintStyle({ lineWidth: 1, strokeStyle: connectorBaseColor });
                    c.endpoints[0].setPaintStyle({ fillStyle: connectorBaseColor });
                    //c.endpoints[1].setVisible(false, true, true); // JUST set right endpoint to be invisible
                    $(c.canvas).css("z-index", 1000); // ... and move it to the VERY FRONT
                }
                // for heap->heap connectors
                else if (myViz.jsPlumbManager.heapConnectionEndpointIDs.has(c.endpoints[0].elementId)) {
                    // NOP since it's already the color and style we set by default
                }
                // TODO: maybe this needs special consideration for C/C++ code? dunno
                else if (stackFrameDiv.length > 0) {
                    // else unhighlight it
                    // (only if c.source actually belongs to a stackFrameDiv (i.e.,
                    //  it originated from the stack). for instance, in C there are
                    //  heap pointers, but we doesn't use heapConnectionEndpointIDs
                    //  NB: 2020-02-04 - upgraded C/C++ to use heapConnectionEndpointIDs )
                    c.setPaintStyle({ lineWidth: 1, strokeStyle: connectorInactiveColor });
                    c.endpoints[0].setPaintStyle({ fillStyle: connectorInactiveColor });
                    //c.endpoints[1].setVisible(false, true, true); // JUST set right endpoint to be invisible
                    $(c.canvas).css("z-index", 0);
                }
            });
            // clear everything, then just activate this one ...
            myViz.domRoot.find(".stackFrame").removeClass("highlightedStackFrame");
            myViz.domRoot.find('#' + frameID).addClass("highlightedStackFrame");
        }
        // highlight the top-most non-zombie stack frame or, if not available, globals
        var frame_already_highlighted = false;
        $.each(curEntry.stack_to_render, function (i, e) {
            if (e.is_highlighted) {
                highlight_frame(myViz.owner.generateID('stack' + i));
                frame_already_highlighted = true;
            }
        });
        if (!frame_already_highlighted) {
            highlight_frame(myViz.owner.generateID('globals'));
        }
        // if customizeVizOptionsShown ...
        // use jQueryUI's draggable to make all heap objects contained
        // within YOURSELF draggable (NB: use myViz.domRoot.find() and *not*
        // $() since the latter may select heap objects belonging to OTHER
        // ExecutionVisualizer objects on page!)
        var needToRedrawConnectors = false;
        myViz.domRoot.find('.heapObject').each(function (i, e) {
            // very subtle: if this is a .heapObject that's *nested* within
            // another one, then don't make it draggable, since it's weird to
            // be able to drag a nested object inside of its parent object; in
            // other words, we want to drag only .toplevelHeapObject, but it's
            // cleaner to make the .heapObject element draggable and not the
            // .toplevelHeapObject element
            //
            // note that this code may break if we're nesting an entire
            // ExecutionVisualizer instance inside the .heapObject of another
            // ExecutionVisualizer so that every .heapObject in the inner one is
            // actually in the outer one, but i don't see who would actually do that!
            if ($(e).parents('.heapObject').length) {
                return;
            }
            // set a custom position if one was found in draggedHeapObjectCSS ...
            // make sure to do this after applying rightwardNudgeHack so that
            // we override the positions of any nudged elements with ones from
            // draggedHeapObjectCSS
            var savedDraggedCSS = myViz.draggedHeapObjectCSS.get($(e).attr('id'));
            if (savedDraggedCSS) {
                $(e).attr('style', savedDraggedCSS);
                //console.log('GOT POSITION FROM CACHE!', $(e).attr('id'));
                needToRedrawConnectors = true;
            }
            // 2020-02-06: only make draggable() if customizeVizOptionsShown
            // (i.e., when the user has clicked "Customize visualization" so that
            // they purposely want to customize ... we do this to be conservative
            // so as not to rock the boat because i haven't tested draggable()
            // widely yet)
            if (myViz.owner.navControls.customizeVizOptionsShown) {
                $(e).css('cursor', 'pointer') // make the cursor a hand when you hover over it
                    .draggable({
                    drag: function () {
                        // debounce to prevent excessive repaints, which can get super-slow
                        $.doTimeout('heapObjectDrag', 10, function () {
                            console.log('drag'); // to make sure we're not adding too many callbacks
                            myViz.redrawConnectors(); // redraw all arrows whenever you drag!
                        });
                    },
                    start: function () {
                    },
                    stop: function () {
                        myViz.redrawConnectors(); // redraw all arrows when you drag stops
                        // unset width and height fields since those don't seem
                        // relevant and we don't want to save them in draggedCSS
                        $(e).css('width', '').css('height', '');
                        // save your current CSS, which has your custom position
                        $(e).data('draggedCSS', $(e).attr('style'));
                    },
                });
            }
        });
        // show which variables/fields were actually hidden during this call
        // to renderDataStructures:
        if (myViz.owner.navControls.customizeVizOptionsShown) {
            needToRedrawConnectors = true; // always redraw! TODO: will this get inefficient?!?
            var shs = this.domRoot.find('#selectiveHideStatus');
            shs.empty(); // ALWAYS start from scratch each time!
            if (myViz.varsHidden.length > 0 || myViz.fieldsHidden.length > 0) {
                // printing hidden vars/fields may move elements in the heap visualization
                if (myViz.varsHidden.length > 0) {
                    // filter out duplicates:
                    var varsHiddenNoDups_1 = [];
                    myViz.varsHidden.forEach(function (e) {
                        if (varsHiddenNoDups_1.indexOf(e) < 0) {
                            varsHiddenNoDups_1.push(e);
                        }
                    });
                    shs.append("Hidden variables: " + varlistToHtml(varsHiddenNoDups_1));
                }
                if (myViz.fieldsHidden.length > 0) {
                    // filter out duplicates:
                    var fieldsHiddenNoDups_1 = [];
                    myViz.fieldsHidden.forEach(function (e) {
                        if (fieldsHiddenNoDups_1.indexOf(e) < 0) {
                            fieldsHiddenNoDups_1.push(e);
                        }
                    });
                    shs.append("<br/>Hidden object fields: " + varlistToHtml(fieldsHiddenNoDups_1));
                }
            }
        }
        if (needToRedrawConnectors) {
            myViz.redrawConnectors();
        }
        myViz.owner.try_hook("end_renderDataStructures", { myViz: myViz.owner /* tricky! use owner to be safe */ });
    };
    // rendering functions, which all take a d3 dom element to anchor the
    // new element to render
    DataVisualizer.prototype.renderPrimitiveObject = function (obj, stepNum, d3DomElement) {
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        if (this.owner.try_hook("renderPrimitiveObject", { obj: obj, d3DomElement: d3DomElement })[0])
            return;
        var typ = typeof obj;
        if (obj == null) {
            d3DomElement.append('<span class="nullObj">' + this.getRealLabel('None') + '</span>');
        }
        else if (typ == "number") {
            d3DomElement.append('<span class="numberObj">' + obj + '</span>');
        }
        else if (typ == "boolean") {
            if (obj) {
                d3DomElement.append('<span class="boolObj">' + this.getRealLabel('True') + '</span>');
            }
            else {
                d3DomElement.append('<span class="boolObj">' + this.getRealLabel('False') + '</span>');
            }
        }
        else if (typ == "string") {
            // escape using htmlspecialchars to prevent HTML/script injection
            var literalStr = htmlspecialchars(obj);
            // print as a double-quoted string literal
            literalStr = literalStr.replace(doubleQuoteAllRegex, '\\"'); // replace ALL
            literalStr = '"' + literalStr + '"';
            d3DomElement.append('<span class="stringObj">' + literalStr + '</span>');
        }
        else if (typ == "object") {
            if (obj[0] == 'C_DATA') {
                var typeName = obj[2];
                // special cases for brevity:
                if (typeName === 'short int') {
                    typeName = 'short';
                }
                else if (typeName === 'short unsigned int') {
                    typeName = 'unsigned short';
                }
                else if (typeName === 'long int') {
                    typeName = 'long';
                }
                else if (typeName === 'long long int') {
                    typeName = 'long long';
                }
                else if (typeName === 'long unsigned int') {
                    typeName = 'unsigned long';
                }
                else if (typeName === 'long long unsigned int') {
                    typeName = 'unsigned long long int';
                }
                var isValidPtr = ((typeName === 'pointer') &&
                    (obj[3] !== '<UNINITIALIZED>') &&
                    (obj[3] !== '<UNALLOCATED>'));
                var addr = obj[1];
                var leader = '';
                // prefix with 'cdata_' so that we can distinguish this from a
                // top-level heap ID generated by generateHeapObjID
                var cdataId = myViz.generateHeapObjID('cdata_' + addr, stepNum);
                if (isValidPtr) {
                    // for pointers, put cdataId in the header
                    d3DomElement.append('<div id="' + cdataId + '" class="cdataHeader">' + leader + typeName + '</div>');
                    var ptrVal = obj[3];
                    // add a stub so that we can connect it with a connector later.
                    // IE needs this div to be NON-EMPTY in order to properly
                    // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                    var ptrSrcId = myViz.generateHeapObjID('ptrSrc_' + addr, stepNum);
                    var ptrTargetId = myViz.generateHeapObjID('cdata_' + ptrVal, stepNum); // don't forget cdata_ prefix!
                    var debugInfo = '';
                    // make it really narrow so that the div doesn't STRETCH too wide
                    d3DomElement.append('<div style="width: 10px;" id="' + ptrSrcId + '" class="cdataElt">&nbsp;' + debugInfo + '</div>');
                    // special case: display 0x0 address as a NULL pointer value,
                    // to distinguish it from all other pointers, since sometimes
                    // C/C++ programmers *explicitly* set a pointer to null
                    if (ptrVal === '0x0') {
                        $('#' + ptrSrcId).html('<span class="cdataUninit">NULL</span>');
                    }
                    else {
                        //console.log(ptrSrcId, '->', ptrTargetId);
                        assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(ptrSrcId));
                        myViz.jsPlumbManager.connectionEndpointIDs.set(ptrSrcId, ptrTargetId);
                        // note that we can't tell whether ptrSrcId or ptrTargetId
                        // are on the stack or heap (since the C trace allows pointer
                        // objects to exist in both), so a hack to find out is to find
                        // its DOM element, look upward in tree for closest heapObject,
                        // and if we find it, then we assume it's on the heap
                        var srcAnchorObject = myViz.domRoot.find('#' + ptrSrcId);
                        var dstAnchorObject = myViz.domRoot.find('#' + ptrTargetId);
                        var srcHeapObject = srcAnchorObject.closest('.heapObject');
                        var dstHeapObject = dstAnchorObject.closest('.heapObject');
                        // only do this if BOTH ptrSrcId and ptrTargetId are on the heap
                        if (srcHeapObject.length > 0 && dstHeapObject.length > 0) {
                            myViz.jsPlumbManager.heapConnectionEndpointIDs.set(ptrSrcId, ptrTargetId);
                        }
                    }
                }
                else {
                    // for non-pointers, put cdataId on the element itself, so that
                    // pointers can point directly at the element, not the header
                    d3DomElement.append('<div class="cdataHeader">' + leader + typeName + '</div>');
                    var rep = '';
                    if (typeof obj[3] === 'string') {
                        var literalStr = obj[3];
                        if (literalStr === '<UNINITIALIZED>') {
                            rep = '<span class="cdataUninit">?</span>';
                            //rep = '\uD83D\uDCA9'; // pile of poo emoji
                        }
                        else if (literalStr == '<UNALLOCATED>') {
                            rep = '\uD83D\uDC80'; // skull emoji
                        }
                        else {
                            // a regular string
                            literalStr = literalStr.replace(newlineAllRegex, '\\n'); // replace ALL
                            literalStr = literalStr.replace(tabAllRegex, '\\t'); // replace ALL
                            literalStr = literalStr.replace(doubleQuoteAllRegex, '\\"'); // replace ALL
                            // unprintable chars are denoted with '???', so show them as
                            // a special unicode character:
                            if (typeName === 'char' && literalStr === '???') {
                                literalStr = '\uFFFD'; // question mark in black diamond unicode character
                            }
                            else {
                                // print as a SINGLE-quoted string literal (to emulate C-style chars)
                                literalStr = "'" + literalStr + "'";
                            }
                            rep = htmlspecialchars(literalStr);
                        }
                    }
                    else {
                        rep = htmlspecialchars(obj[3]);
                    }
                    d3DomElement.append('<div id="' + cdataId + '" class="cdataElt">' + rep + '</div>');
                }
            }
            else if (obj[0] == 'IMPORTED_FAUX_PRIMITIVE') {
                // these represent objects that you've imported from external
                // libraries/modules, which should be displayed as 'primitives'
                // so that we don't clutter up the display by dedicating heap
                // space for them or trying to recurse into viewing their insides
                d3DomElement.append('<span class="importedObj">' + obj[1] + '</span>');
            }
            else {
                assert(obj[0] == 'SPECIAL_FLOAT' || obj[0] == 'JS_SPECIAL_VAL');
                d3DomElement.append('<span class="numberObj">' + obj[1] + '</span>');
            }
        }
        else {
            assert(false);
        }
    };
    DataVisualizer.prototype.renderNestedObject = function (obj, stepNum, d3DomElement) {
        if (this.isPrimitiveType(obj)) {
            this.renderPrimitiveObject(obj, stepNum, d3DomElement);
        }
        else {
            if (obj[0] === 'REF') {
                // obj is a ["REF", <int>] so dereference the 'pointer' to render that object
                this.renderCompoundObject(getRefID(obj), stepNum, d3DomElement, false);
            }
            else {
                assert(obj[0] === 'C_STRUCT' || obj[0] === 'C_ARRAY' || obj[0] === 'C_MULTIDIMENSIONAL_ARRAY');
                this.renderCStructArray(obj, stepNum, d3DomElement);
            }
        }
    };
    DataVisualizer.prototype.renderCompoundObject = function (objID, stepNum, d3DomElement, isTopLevel) {
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        var heapObjID = myViz.generateHeapObjID(objID, stepNum);
        if (!isTopLevel && myViz.jsPlumbManager.renderedHeapObjectIDs.has(heapObjID)) {
            var srcDivID = myViz.owner.generateID('heap_pointer_src_' + myViz.jsPlumbManager.heap_pointer_src_id);
            myViz.jsPlumbManager.heap_pointer_src_id++; // just make sure each source has a UNIQUE ID
            var dstDivID = heapObjID;
            if (myViz.params.textualMemoryLabels) {
                var labelID = srcDivID + '_text_label';
                d3DomElement.append('<div class="objectIdLabel" id="' + labelID + '">id' + objID + '</div>');
                myViz.domRoot.find('div#' + labelID).hover(function () {
                    myViz.jsPlumbInstance.connect({ source: labelID, target: dstDivID,
                        scope: 'varValuePointer' });
                }, function () {
                    myViz.jsPlumbInstance.select({ source: labelID }).detach();
                });
            }
            else {
                // render jsPlumb arrow source since this heap object has already been rendered
                // (or will be rendered soon)
                // add a stub so that we can connect it with a connector later.
                // IE needs this div to be NON-EMPTY in order to properly
                // render jsPlumb endpoints, so that's why we add an "&nbsp;"!
                d3DomElement.append('<div id="' + srcDivID + '">&nbsp;</div>');
                assert(!myViz.jsPlumbManager.connectionEndpointIDs.has(srcDivID));
                myViz.jsPlumbManager.connectionEndpointIDs.set(srcDivID, dstDivID);
                //console.log('HEAP->HEAP', srcDivID, dstDivID);
                assert(!myViz.jsPlumbManager.heapConnectionEndpointIDs.has(srcDivID));
                myViz.jsPlumbManager.heapConnectionEndpointIDs.set(srcDivID, dstDivID);
            }
            return; // early return!
        }
        // wrap ALL compound objects in a heapObject div so that jsPlumb
        // connectors can point to it:
        // TODO: what about C/C++ objects on the stack that are the target of pointers?
        d3DomElement.append('<div class="heapObject" id="' + heapObjID + '"></div>');
        d3DomElement = myViz.domRoot.find('#' + heapObjID); // TODO: maybe inefficient
        myViz.jsPlumbManager.renderedHeapObjectIDs.set(heapObjID, 1);
        var curHeap = myViz.curTrace[stepNum].heap;
        var obj = curHeap[objID];
        assert($.isArray(obj));
        // prepend the type label with a memory address label
        var typeLabelPrefix = '';
        if (myViz.params.textualMemoryLabels) {
            typeLabelPrefix = 'id' + objID + ':';
        }
        var hook_result = myViz.owner.try_hook("renderCompoundObject", { objID: objID, d3DomElement: d3DomElement,
            isTopLevel: isTopLevel, obj: obj,
            typeLabelPrefix: typeLabelPrefix,
            stepNum: stepNum,
            myViz: myViz });
        if (hook_result[0])
            return;
        if (obj[0] == 'LIST' || obj[0] == 'TUPLE' || obj[0] == 'SET' || obj[0] == 'DICT') {
            var label = obj[0].toLowerCase();
            assert(obj.length >= 1);
            if (obj.length == 1) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + ' empty ' + myViz.getRealLabel(label) + '</div>');
            }
            else {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + myViz.getRealLabel(label) + '</div>');
                d3DomElement.append('<table class="' + label + 'Tbl"></table>');
                var tbl = d3DomElement.children('table');
                if (obj[0] == 'LIST' || obj[0] == 'TUPLE') {
                    tbl.append('<tr></tr><tr></tr>');
                    var headerTr = tbl.find('tr:first');
                    var contentTr = tbl.find('tr:last');
                    $.each(obj, function (ind, val) {
                        if (ind < 1)
                            return; // skip type tag and ID entry
                        // add a new column and then pass in that newly-added column
                        // as d3DomElement to the recursive call to child:
                        headerTr.append('<td class="' + label + 'Header"></td>');
                        headerTr.find('td:last').append(ind - 1);
                        contentTr.append('<td class="' + label + 'Elt"></td>');
                        myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                    });
                }
                else if (obj[0] == 'SET') {
                    // create an R x C matrix:
                    var numElts = obj.length - 1;
                    // gives roughly a 3x5 rectangular ratio, square is too, err,
                    // 'square' and boring
                    var numRows = Math.round(Math.sqrt(numElts));
                    if (numRows > 3) {
                        numRows -= 1;
                    }
                    var numCols = Math.round(numElts / numRows);
                    // round up if not a perfect multiple:
                    if (numElts % numRows) {
                        numCols += 1;
                    }
                    jQuery.each(obj, function (ind, val) {
                        if (ind < 1)
                            return; // skip 'SET' tag
                        if (((ind - 1) % numCols) == 0) {
                            tbl.append('<tr></tr>');
                        }
                        var curTr = tbl.find('tr:last');
                        curTr.append('<td class="setElt"></td>');
                        myViz.renderNestedObject(val, stepNum, curTr.find('td:last'));
                    });
                }
                else if (obj[0] == 'DICT') {
                    $.each(obj, function (ind, kvPair) {
                        if (ind < 1)
                            return; // skip 'DICT' tag
                        tbl.append('<tr class="dictEntry"><td class="dictKey"></td><td class="dictVal"></td></tr>');
                        var newRow = tbl.find('tr:last');
                        var keyTd = newRow.find('td:first');
                        var valTd = newRow.find('td:last');
                        var key = kvPair[0];
                        var val = kvPair[1];
                        myViz.renderNestedObject(key, stepNum, keyTd);
                        myViz.renderNestedObject(val, stepNum, valTd);
                    });
                }
            }
        }
        else if (obj[0] == 'INSTANCE' || obj[0] == 'INSTANCE_PPRINT' || obj[0] == 'CLASS') {
            var isInstance = (obj[0] == 'INSTANCE');
            var isPprintInstance = (obj[0] == 'INSTANCE_PPRINT');
            var _a = DataVisualizer.getClassInstanceMetadata(obj), className_2 = _a[0], headerLength_2 = _a[1];
            assert(obj.length >= headerLength_2);
            if (isInstance) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + obj[1] + ' ' + myViz.getRealLabel('instance') + '</div>');
            }
            else if (isPprintInstance) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + obj[1] + ' ' + myViz.getRealLabel('instance') + '</div>');
                d3DomElement.append('<table class="customObjTbl"><tr><td class="customObjElt">' + htmlspecialchars(obj[2]) + '</td></tr></table>');
            }
            else {
                var superclassStr = '';
                if (obj[2].length > 0) {
                    superclassStr += ('[extends ' + obj[2].join(', ') + '] ');
                }
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + obj[1] + ' class ' + superclassStr + '</div>');
            }
            if (obj.length > headerLength_2) {
                var lab = isInstance ? 'inst' : 'class';
                d3DomElement.append('<table class="' + lab + 'Tbl"></table>');
                var tbl = d3DomElement.children('table:last'); // tricky, there's more than 1 table if isPprintInstance is true
                $.each(obj, function (ind, kvPair) {
                    if (ind < headerLength_2)
                        return; // skip header tags
                    if (myViz.inHideFieldsSet(className_2, kvPair[0])) {
                        console.log('render HIDING', className_2, kvPair[0]);
                        myViz.fieldsHidden.push((className_2 ? className_2 + ':' : '') + kvPair[0]);
                        return; // get out!
                    }
                    tbl.append('<tr class="' + lab + 'Entry"><td class="' + lab + 'Key"></td><td class="' + lab + 'Val"></td></tr>');
                    var newRow = tbl.find('tr:last');
                    var keyTd = newRow.find('td:first');
                    var valTd = newRow.find('td:last');
                    // the keys should always be strings, so render them directly (and without quotes):
                    // (actually this isn't the case when strings are rendered on the heap)
                    if (typeof kvPair[0] == "string") {
                        // common case ...
                        var attrnameStr = htmlspecialchars(kvPair[0]);
                        keyTd.append('<span class="keyObj">' + attrnameStr + '</span>');
                    }
                    else {
                        // when strings are rendered as heap objects ...
                        myViz.renderNestedObject(kvPair[0], stepNum, keyTd);
                    }
                    // values can be arbitrary objects, so recurse:
                    myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                });
            }
        }
        else if (obj[0] == 'FUNCTION') {
            assert(obj.length == 3 || obj.length == 4);
            // pretty-print lambdas and display other weird characters:
            var funcName = htmlspecialchars(obj[1]).replace('&lt;lambda&gt;', '\u03bb');
            var parentFrameID = obj[2]; // optional
            if (!myViz.params.compactFuncLabels) {
                d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + myViz.getRealLabel('function') + '</div>');
            }
            var funcPrefix = myViz.params.compactFuncLabels ? 'func' : '';
            if (parentFrameID) {
                d3DomElement.append('<div class="funcObj">' + funcPrefix + ' ' + funcName + ' [parent=f' + parentFrameID + ']</div>');
            }
            else if (myViz.params.showAllFrameLabels) {
                d3DomElement.append('<div class="funcObj">' + funcPrefix + ' ' + funcName + ' [parent=Global]</div>');
            }
            else {
                d3DomElement.append('<div class="funcObj">' + funcPrefix + ' ' + funcName + '</div>');
            }
            // render default argument names/values (see ../pg_encoder.py)
            if (obj.length > 3) {
                var funcProperties = obj[3];
                assert(funcProperties.length > 0);
                d3DomElement.append('<div class="typeLabel" style="margin-top: 3px;">default arguments:</div>');
                d3DomElement.append('<table class="instTbl"></table>');
                var tbl = d3DomElement.children('table');
                $.each(funcProperties, function (ind, kvPair) {
                    tbl.append('<tr class="instEntry"><td class="instKey"></td><td class="instVal"></td></tr>');
                    var newRow = tbl.find('tr:last');
                    var keyTd = newRow.find('td:first');
                    var valTd = newRow.find('td:last');
                    keyTd.append('<span class="keyObj">' + htmlspecialchars(kvPair[0]) + '</span>');
                    myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                });
            }
        }
        else if (obj[0] == 'JS_FUNCTION') { /* TODO: refactor me */
            // JavaScript function
            assert(obj.length == 5);
            var funcName = htmlspecialchars(obj[1]);
            var funcCode = typeLabelPrefix + htmlspecialchars(obj[2]);
            var funcProperties = obj[3]; // either null or a non-empty list of key-value pairs
            var parentFrameID = obj[4];
            if (funcProperties || parentFrameID || myViz.params.showAllFrameLabels) {
                d3DomElement.append('<table class="classTbl"></table>');
                var tbl = d3DomElement.children('table');
                tbl.append('<tr><td class="funcCod" colspan="2"><pre class="funcCode">' + funcCode + '</pre>' + '</td></tr>');
                if (funcProperties) {
                    assert(funcProperties.length > 0);
                    var rawFuncName_1 = obj[1];
                    $.each(funcProperties, function (ind, kvPair) {
                        var instKey = kvPair[0];
                        if (myViz.inHideFieldsSet(rawFuncName_1, kvPair[0])) {
                            console.log('render HIDING', rawFuncName_1, kvPair[0]);
                            myViz.fieldsHidden.push((rawFuncName_1 ? rawFuncName_1 + ':' : '') + kvPair[0]);
                            return; // get out!
                        }
                        tbl.append('<tr class="classEntry"><td class="classKey"></td><td class="classVal"></td></tr>');
                        var newRow = tbl.find('tr:last');
                        var keyTd = newRow.find('td:first');
                        var valTd = newRow.find('td:last');
                        keyTd.append('<span class="keyObj">' + htmlspecialchars(kvPair[0]) + '</span>');
                        myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                    });
                }
                if (parentFrameID) {
                    tbl.append('<tr class="classEntry"><td class="classKey">parent</td><td class="classVal">' + 'f' + parentFrameID + '</td></tr>');
                }
                else if (myViz.params.showAllFrameLabels) {
                    tbl.append('<tr class="classEntry"><td class="classKey">parent</td><td class="classVal">' + 'global' + '</td></tr>');
                }
            }
            else {
                // compact form:
                d3DomElement.append('<pre class="funcCode">' + funcCode + '</pre>');
            }
        }
        else if (obj[0] == 'HEAP_PRIMITIVE') {
            assert(obj.length == 3);
            var typeName = obj[1];
            var primitiveVal = obj[2];
            // add a bit of padding to heap primitives, for aesthetics
            d3DomElement.append('<div class="heapPrimitive"></div>');
            d3DomElement.find('div.heapPrimitive').append('<div class="typeLabel">' + typeLabelPrefix + typeName + '</div>');
            myViz.renderPrimitiveObject(primitiveVal, stepNum, d3DomElement.find('div.heapPrimitive'));
        }
        else if (obj[0] == 'C_STRUCT' || obj[0] == 'C_ARRAY' || obj[0] === 'C_MULTIDIMENSIONAL_ARRAY') {
            myViz.renderCStructArray(obj, stepNum, d3DomElement);
        }
        else {
            // render custom data type
            assert(obj.length == 2);
            var typeName = obj[0];
            var strRepr = obj[1];
            strRepr = htmlspecialchars(strRepr); // escape strings!
            d3DomElement.append('<div class="typeLabel">' + typeLabelPrefix + typeName + '</div>');
            d3DomElement.append('<table class="customObjTbl"><tr><td class="customObjElt">' + strRepr + '</td></tr></table>');
        }
    };
    // special-case kludge for C/C++
    DataVisualizer.prototype.renderCStructArray = function (obj, stepNum, d3DomElement) {
        var myViz = this; // to prevent confusion of 'this' inside of nested functions
        if (obj[0] == 'C_STRUCT') {
            assert(obj.length >= 3);
            var addr = obj[1];
            var typename = obj[2];
            var leader = '';
            if (myViz.params.lang === 'cpp') {
                // call it 'object' instead of 'struct'
                d3DomElement.append('<div class="typeLabel">' + leader + 'object ' + typename + '</div>');
            }
            else {
                d3DomElement.append('<div class="typeLabel">' + leader + 'struct ' + typename + '</div>');
            }
            if (obj.length > 3) {
                d3DomElement.append('<table class="instTbl"></table>');
                var tbl = d3DomElement.children('table');
                var structName_2 = obj[2] ? obj[2] : DataVisualizer.UNNAMED_PREFIX;
                $.each(obj, function (ind, kvPair) {
                    if (ind < 3)
                        return; // skip header tags
                    var fieldName = kvPair[0];
                    if (myViz.inHideFieldsSet(structName_2, fieldName)) {
                        console.log('render HIDING', structName_2, fieldName);
                        myViz.fieldsHidden.push(structName_2 + ':' + fieldName);
                        return; // get out!
                    }
                    tbl.append('<tr class="instEntry"><td class="instKey"></td><td class="instVal"></td></tr>');
                    var newRow = tbl.find('tr:last');
                    var keyTd = newRow.find('td:first');
                    var valTd = newRow.find('td:last');
                    // the keys should always be strings, so render them directly (and without quotes):
                    // (actually this isn't the case when strings are rendered on the heap)
                    assert(typeof kvPair[0] == "string");
                    // common case ...
                    var attrnameStr = htmlspecialchars(kvPair[0]);
                    keyTd.append('<span class="keyObj">' + attrnameStr + '</span>');
                    // values can be arbitrary objects, so recurse:
                    myViz.renderNestedObject(kvPair[1], stepNum, valTd);
                });
            }
        }
        else if (obj[0] == 'C_MULTIDIMENSIONAL_ARRAY') {
            // since we can display only 2 dimensions sensibly, make the first
            // dimension into rows and flatten all other dimensions together into
            // columns. in the common case for a 2-D array, this will do the
            // perfect thing: first dimension is rows, second dimension is columns.
            // e.g., for a 4-D array, the first dimension is rows, and dimensions
            // 2, 3, and 4 are flattened together into columns. we can't do
            // any better than this since it doesn't make sense to display
            // more than 2 dimensions at once on screen
            assert(obj.length >= 3);
            var addr = obj[1];
            var dimensions = obj[2];
            assert(dimensions.length > 1); // make sure we're really multidimensional!
            var leader = '';
            d3DomElement.append('<div class="typeLabel">' + leader + 'array</div>');
            d3DomElement.append('<table class="cArrayTbl"></table>');
            var tbl = d3DomElement.children('table');
            // a list of array indices for each dimension
            var indicesByDimension = [];
            for (var d = 0; d < dimensions.length; d++) {
                indicesByDimension.push(d3.range(dimensions[d]));
            }
            // common case is 2-D:
            var allDimensions = multiplyLists(indicesByDimension[0], indicesByDimension[1]);
            // for all dimensions above the second one ...
            for (var d = 2; d < dimensions.length; d++) {
                allDimensions = multiplyLists(allDimensions, indicesByDimension[d]);
            }
            //console.log('allDimensions', JSON.stringify(allDimensions));
            // ignore dimensions[0], which is rows
            var numColumns = 1;
            for (var i = 1; i < dimensions.length; i++) {
                numColumns *= dimensions[i];
            }
            for (var row = 0; row < dimensions[0]; row++) {
                //console.log('row', row);
                // a pair of rows for header + content, respectively
                tbl.append('<tr></tr>');
                var headerTr = tbl.find('tr:last');
                tbl.append('<tr></tr>');
                var contentTr = tbl.find('tr:last');
                for (var col = 0; col < numColumns; col++) {
                    var flattenedInd = (row * numColumns) + col; // the real index into the 1-D flattened array stored in obj[3:]
                    var realInd = flattenedInd + 3; // skip 3 header fields to get to the real index in obj
                    var val = obj[realInd];
                    var indToDisplay = allDimensions[flattenedInd].join(',');
                    //console.log('  col', col, '| flattenedInd:', flattenedInd, indToDisplay, 'contents:', val);
                    // add a new column and then pass in that newly-added column
                    // as d3DomElement to the recursive call to child:
                    headerTr.append('<td class="cMultidimArrayHeader"></td>');
                    headerTr.find('td:last').append(indToDisplay);
                    contentTr.append('<td class="cMultidimArrayElt"></td>');
                    myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
                }
            }
        }
        else {
            assert(obj[0] == 'C_ARRAY');
            assert(obj.length >= 2);
            var addr = obj[1];
            var leader = '';
            d3DomElement.append('<div class="typeLabel">' + leader + 'array</div>');
            d3DomElement.append('<table class="cArrayTbl"></table>');
            var tbl = d3DomElement.children('table');
            tbl.append('<tr></tr><tr></tr>');
            var headerTr = tbl.find('tr:first');
            var contentTr = tbl.find('tr:last');
            $.each(obj, function (ind, val) {
                if (ind < 2)
                    return; // skip 'C_ARRAY' and addr
                // add a new column and then pass in that newly-added column
                // as d3DomElement to the recursive call to child:
                headerTr.append('<td class="cArrayHeader"></td>');
                headerTr.find('td:last').append(ind - 2 /* adjust */);
                contentTr.append('<td class="cArrayElt"></td>');
                myViz.renderNestedObject(val, stepNum, contentTr.find('td:last'));
            });
        }
    };
    DataVisualizer.prototype.redrawConnectors = function () {
        this.jsPlumbInstance.repaintEverything();
    };
    // selectively hiding variables or fields
    //
    // note that C++ uses '::' in member function names, so for
    // the names in hideVarsLst and hideFieldsLst, we can't
    // reliably split on ':' to reconstruct its original function/class
    // name and its variable name. e.g., "Computer::setspeed(int):p"
    //
    // the more robust strategy is to keep this string intact and try to
    // reconstruct it when matching up with variables in the execution trace
    // ... but consider the case where there are NO COLONS in the string,
    // which indicates a variable/field name that should be matched
    // regardless of what function/object it belongs to
    DataVisualizer.prototype.selectivelyHideVarsAndFields = function (hideVarsLst, hideFieldsLst) {
        var _this = this;
        if (hideVarsLst.length > 0) {
            this.hideVarsSet = d3.map();
            hideVarsLst.forEach(function (e) { return _this.hideVarsSet.set(e, true); });
        }
        else {
            this.hideVarsSet = null; // reset
        }
        if (hideFieldsLst.length > 0) {
            this.hideFieldsSet = d3.map();
            hideFieldsLst.forEach(function (e) { return _this.hideFieldsSet.set(e, true); });
        }
        else {
            this.hideFieldsSet = null; // reset
        }
        // now that this.hideVarsSet and this.hideFieldsSet have been updated ...
        this.precomputeCurTraceLayouts(); // recompute layouts to account for hidden vars/objects
        this.renderDataStructures(this.owner.curInstr); // render current step again
        //this.owner.updateOutput(); // alternatively, try this
    };
    // precondition: obj[0] is in {'INSTANCE', 'INSTANCE_PPRINT', 'CLASS'}
    // returns: [class name, header length]
    DataVisualizer.getClassInstanceMetadata = function (obj) {
        var typ = obj[0];
        assert(typ == 'INSTANCE' || typ == 'INSTANCE_PPRINT' || typ == 'CLASS');
        var className = obj[1]; // might possibly be ''
        var headerLength = (typ == 'INSTANCE') ? 2 : 3;
        return [className, headerLength];
    };
    // returns true if funcname:varname is in this.hideVarsSet
    // OR if varname alone (without a funcname qualifier) is in this.hideVarsSet
    DataVisualizer.prototype.inHideVarsSet = function (funcname, varname) {
        return DataVisualizer._inHideSetHelper(this.hideVarsSet, funcname, varname);
    };
    // same as inHideVarsSet except for classname/fieldname in this.hideFieldsSet
    DataVisualizer.prototype.inHideFieldsSet = function (classname, fieldname) {
        return DataVisualizer._inHideSetHelper(this.hideFieldsSet, classname, fieldname);
    };
    DataVisualizer._inHideSetHelper = function (myMap, first, second) {
        if (!myMap) {
            return false;
        }
        else if (!first) { // only match on second, in that case
            return myMap.has(second);
        }
        else { // match on either first:second or second
            return myMap.has(first + ':' + second) || myMap.has(second);
        }
    };
    DataVisualizer.GLOBAL_PREFIX = 'global';
    DataVisualizer.UNNAMED_PREFIX = '<unnamed>';
    return DataVisualizer;
}()); // END class DataVisualizer
var ProgramOutputBox = /** @class */ (function () {
    function ProgramOutputBox(owner, domRoot, heightOverride) {
        if (heightOverride === void 0) { heightOverride = null; }
        // how many *maximum* lines get printed to stdout in the entire trace?
        this.numStdoutLines = 0;
        this.owner = owner;
        this.domRoot = domRoot;
        var outputsHTML = '<div id="progOutputs">\
         <div id="printOutputDocs">Print output (drag lower right corner to resize)</div>\n\
         <textarea id="pyStdout" cols="40" rows="5" wrap="off" readonly></textarea>\
       </div>';
        this.domRoot.append(outputsHTML);
        // go backwards from the end ... sometimes the final entry doesn't
        // have an stdout
        var lastStdout;
        for (var i = this.owner.curTrace.length - 1; i >= 0; i--) {
            lastStdout = this.owner.curTrace[i].stdout;
            if (lastStdout) {
                break;
            }
        }
        if (lastStdout) {
            this.numStdoutLines = lastStdout.rtrim().split('\n').length;
        }
        var stdoutHeight = '75px';
        // heuristic for code with really small outputs
        if (this.numStdoutLines <= 3) {
            stdoutHeight = (25 * this.numStdoutLines) + 'px';
        }
        if (heightOverride) {
            stdoutHeight = heightOverride;
        }
        // do this only after adding outputsHTML to the DOM
        this.domRoot.find('#pyStdout').width('350px')
            .height(stdoutHeight)
            .resizable();
    }
    ProgramOutputBox.prototype.renderOutput = function (stdoutStr) {
        if (!stdoutStr) {
            stdoutStr = '';
        }
        // if there isn't anything to display, don't even bother
        // displaying the pane (but this may cause jumpiness later)
        if (this.numStdoutLines > 0) {
            this.domRoot.find('#progOutputs').show();
            var pyStdout = this.domRoot.find("#pyStdout");
            // keep original horizontal scroll level:
            var oldLeft = pyStdout.scrollLeft();
            pyStdout.val(stdoutStr.rtrim() /* trim trailing spaces */);
            pyStdout.scrollLeft(oldLeft);
            pyStdout.scrollTop(pyStdout[0].scrollHeight); // scroll to bottom, though
        }
        else {
            this.domRoot.find('#progOutputs').hide();
        }
    };
    return ProgramOutputBox;
}()); // END class ProgramOutputBox
var CodeDisplay = /** @class */ (function () {
    function CodeDisplay(owner, domRoot, domRootD3, codToDisplay, lang, editCodeBaseURL) {
        this.leftGutterSvgInitialized = false;
        this.owner = owner;
        this.domRoot = domRoot;
        this.domRootD3 = domRootD3;
        this.codToDisplay = codToDisplay;
        // 2018-03-15 - removed "Live programming" link from
        // visualization mode to simplify the UI, even if it drives
        // fewer people to live programming mode; they can always click
        // the "Live Programming Mode" button in the code editor:
        //<span id="liveModeSpan" style="display: none;">| <a id="editLiveModeBtn" href="#">Live programming</a></a>\
        //
        // also changed 'Edit code' link to 'Edit this code' to make
        // it more clear to users
        var codeDisplayHTML = '<div id="codeDisplayDiv">\
         <div id="langDisplayDiv"></div>\
         <div id="pyCodeOutputDiv"/>\
         <div id="editCodeLinkDiv"><a id="editBtn">Edit this code</a>\
         </div>\
         <div id="legendDiv"/>\
         <div id="codeFooterDocs"></div>\
       </div>';
        this.domRoot.append(codeDisplayHTML);
        if (this.owner.params.embeddedMode) {
            this.domRoot.find('#editCodeLinkDiv').css('font-size', '10pt');
        }
        this.domRoot.find('#legendDiv')
            .append('<svg id="prevLegendArrowSVG"/> line that just executed')
            .append('<p style="margin-top: 4px"><svg id="curLegendArrowSVG"/> next line to execute</p>');
        this.domRootD3.select('svg#prevLegendArrowSVG')
            .append('polygon')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.lightArrowColor);
        this.domRootD3.select('svg#curLegendArrowSVG')
            .append('polygon')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.darkArrowColor);
        if (editCodeBaseURL) {
            // kinda kludgy
            var pyVer = '2'; // default
            if (lang === 'js') {
                pyVer = 'js';
            }
            else if (lang === 'ts') {
                pyVer = 'ts';
            }
            else if (lang === 'java') {
                pyVer = 'java';
            }
            else if (lang === 'py3') {
                pyVer = '3';
            }
            else if (lang === 'py3anaconda') {
                pyVer = 'py3anaconda';
            }
            else if (lang === 'c') {
                pyVer = 'c';
            }
            else if (lang === 'cpp') {
                pyVer = 'cpp';
            }
            var urlStr = $.param.fragment(editCodeBaseURL, { code: this.codToDisplay, py: pyVer }, 2);
            this.domRoot.find('#editBtn').attr('href', urlStr);
        }
        else {
            this.domRoot.find('#editCodeLinkDiv').hide(); // just hide for simplicity!
            this.domRoot.find('#editBtn').attr('href', "#");
            this.domRoot.find('#editBtn').click(function () { return false; }); // DISABLE the link!
        }
        if (lang !== undefined) {
            if (lang === 'js') {
                this.domRoot.find('#langDisplayDiv').html('JavaScript');
            }
            else if (lang === 'ts') {
                this.domRoot.find('#langDisplayDiv').html('TypeScript');
            }
            else if (lang === 'ruby') {
                this.domRoot.find('#langDisplayDiv').html('Ruby');
            }
            else if (lang === 'java') {
                this.domRoot.find('#langDisplayDiv').html('Java');
            }
            else if (lang === 'py2') {
                this.domRoot.find('#langDisplayDiv').html('Python 2.7');
            }
            else if (lang === 'py3') {
                this.domRoot.find('#langDisplayDiv').html('Python 3.6');
            }
            else if (lang === 'py3anaconda') {
                this.domRoot.find('#langDisplayDiv').html('Python 3.6 with <a target="_blank" href="https://docs.anaconda.com/anaconda/">Anaconda 5.2</a> <font color="#e93f34">EXPERIMENTAL!</font><br/>(much slower than <a target="_blank" href="visualize.html#py=3">regular Python 3.6</a>, but lets you import more modules)');
            }
            else if (lang === 'c') {
                if (this.owner.params.embeddedMode) {
                    this.domRoot.find('#langDisplayDiv').html('C (gcc 4.8, C11)');
                }
                else {
                    this.domRoot.find('#langDisplayDiv').html('C (gcc 4.8, C11)<br/><font color="#e93f34">EXPERIMENTAL!</font> <a href="https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md#c-and-c-unsupported-features" target="_blank">known limitations</a>');
                }
            }
            else if (lang === 'cpp') {
                if (this.owner.params.embeddedMode) {
                    this.domRoot.find('#langDisplayDiv').html('C++ (gcc 4.8, C++11)');
                }
                else {
                    this.domRoot.find('#langDisplayDiv').html('C++ (gcc 4.8, C++11)<br/><font color="#e93f34">EXPERIMENTAL!</font> <a href="https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md#c-and-c-unsupported-features" target="_blank">known limitations</a>');
                }
            }
            else {
                this.domRoot.find('#langDisplayDiv').hide();
            }
        }
    }
    CodeDisplay.prototype.renderPyCodeOutput = function () {
        var _this = this;
        var myCodOutput = this; // capture
        this.domRoot.find('#pyCodeOutputDiv').empty();
        // maps codeOutputLines down both table columns
        // TODO: get rid of pesky owner dependency
        var codeOutputD3 = this.domRootD3.select('#pyCodeOutputDiv')
            .append('table')
            .attr('id', 'pyCodeOutput')
            .selectAll('tr')
            .data(this.owner.codeOutputLines)
            .enter().append('tr')
            .selectAll('td')
            .data(function (d, i) { return [d, d] /* map full data item down both columns */; })
            .enter().append('td')
            .attr('class', function (d, i) {
            // add the togetherjsCloneClick class on here so that we can
            // sync clicks via TogetherJS for setting breakpoints in shared
            // sessions (kinda leaky abstraction since pytutor.ts shouldn't
            // need to know about TogetherJS, but oh wells)
            if (i == 0) {
                return 'lineNo togetherjsCloneClick';
            }
            else {
                return 'cod togetherjsCloneClick';
            }
        })
            .attr('id', function (d, i) {
            if (i == 0) {
                return 'lineNo' + d.lineNumber;
            }
            else {
                return _this.owner.generateID('cod' + d.lineNumber); // make globally unique (within the page)
            }
        })
            .html(function (d, i) {
            if (i == 0) {
                return d.lineNumber;
            }
            else {
                return htmlspecialchars(d.text);
            }
        });
        // create a left-most gutter td that spans ALL rows ...
        // (NB: valign="top" is CRUCIAL for this to work in IE)
        this.domRoot.find('#pyCodeOutput tr:first')
            .prepend('<td id="gutterTD" valign="top" rowspan="' + this.owner.codeOutputLines.length + '"><svg id="leftCodeGutterSVG"/></td>');
        // create prevLineArrow and curLineArrow
        this.domRootD3.select('svg#leftCodeGutterSVG')
            .append('polygon')
            .attr('id', 'prevLineArrow')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.lightArrowColor);
        this.domRootD3.select('svg#leftCodeGutterSVG')
            .append('polygon')
            .attr('id', 'curLineArrow')
            .attr('points', exports.SVG_ARROW_POLYGON)
            .attr('fill', exports.darkArrowColor);
        // 2012-09-05: Disable breakpoints for now to simplify UX
        // 2016-05-01: Revive breakpoint functionality
        codeOutputD3
            .style('cursor', function (d, i) {
            // don't do anything if exePts empty (i.e., this line was never executed)
            var exePts = d.executionPoints;
            if (!exePts || exePts.length == 0) {
                return;
            }
            else {
                return 'pointer';
            }
        })
            .on('click', function (d, i) {
            // don't do anything if exePts empty (i.e., this line was never executed)
            var exePts = d.executionPoints;
            if (!exePts || exePts.length == 0) {
                return;
            }
            d.breakpointHere = !d.breakpointHere; // toggle
            if (d.breakpointHere) {
                myCodOutput.owner.setBreakpoint(d);
                d3.select(this.parentNode).select('td.lineNo').style('color', breakpointColor);
                d3.select(this.parentNode).select('td.lineNo').style('font-weight', 'bold');
                d3.select(this.parentNode).select('td.cod').style('color', breakpointColor);
            }
            else {
                myCodOutput.owner.unsetBreakpoint(d);
                d3.select(this.parentNode).select('td.lineNo').style('color', '');
                d3.select(this.parentNode).select('td.lineNo').style('font-weight', '');
                d3.select(this.parentNode).select('td.cod').style('color', '');
            }
        });
    };
    CodeDisplay.prototype.updateCodOutput = function (smoothTransition) {
        var _this = this;
        if (smoothTransition === void 0) { smoothTransition = false; }
        var gutterSVG = this.domRoot.find('svg#leftCodeGutterSVG');
        // one-time initialization of the left gutter
        // (we often can't do this earlier since the entire pane
        //  might be invisible and hence returns a height of zero or NaN
        //  -- the exact format depends on browser)
        if (!this.leftGutterSvgInitialized) {
            // set the gutter's height to match that of its parent
            gutterSVG.height(gutterSVG.parent().height());
            var firstRowOffsetY = this.domRoot.find('table#pyCodeOutput tr:first').offset().top;
            // first take care of edge case when there's only one line ...
            this.codeRowHeight = this.domRoot.find('table#pyCodeOutput td.cod:first').height();
            // ... then handle the (much more common) multi-line case ...
            // this weird contortion is necessary to get the accurate row height on Internet Explorer
            // (simpler methods work on all other major browsers, erghhhhhh!!!)
            if (this.owner.codeOutputLines.length > 1) {
                var secondRowOffsetY = this.domRoot.find('table#pyCodeOutput tr:nth-child(2)').offset().top;
                this.codeRowHeight = secondRowOffsetY - firstRowOffsetY;
            }
            assert(this.codeRowHeight > 0);
            var gutterOffsetY = gutterSVG.offset().top;
            var teenyAdjustment = gutterOffsetY - firstRowOffsetY;
            // super-picky detail to adjust the vertical alignment of arrows so that they line up
            // well with the pointed-to code text ...
            // (if you want to manually adjust tableTop, then ~5 is a reasonable number)
            this.arrowOffsetY = Math.floor((this.codeRowHeight / 2) - (SVG_ARROW_HEIGHT / 2)) - teenyAdjustment;
            this.leftGutterSvgInitialized = true;
        }
        assert(this.arrowOffsetY !== undefined);
        assert(this.codeRowHeight !== undefined);
        assert(0 <= this.arrowOffsetY && this.arrowOffsetY <= this.codeRowHeight);
        // assumes that this.owner.updateLineAndExceptionInfo has already
        // been run, so line number info is up-to-date!
        // TODO: get rid of this pesky 'owner' dependency
        var myViz = this.owner;
        var isLastInstr = (myViz.curInstr === (myViz.curTrace.length - 1));
        var curEntry = myViz.curTrace[myViz.curInstr];
        var hasError = (curEntry.event === 'exception' || curEntry.event === 'uncaught_exception');
        var isTerminated = (!myViz.instrLimitReached && isLastInstr);
        var pcod = this.domRoot.find('#pyCodeOutputDiv');
        var prevVerticalNudge = myViz.prevLineIsReturn ? Math.floor(this.codeRowHeight / 3) : 0;
        var curVerticalNudge = myViz.curLineIsReturn ? Math.floor(this.codeRowHeight / 3) : 0;
        // ugly edge case for the final instruction :0
        if (isTerminated && !hasError) {
            if (myViz.prevLineNumber !== myViz.curLineNumber) {
                curVerticalNudge = curVerticalNudge - 2;
            }
        }
        if (myViz.prevLineNumber) {
            var pla = this.domRootD3.select('#prevLineArrow');
            var translatePrevCmd = 'translate(0, ' + (((myViz.prevLineNumber - 1) * this.codeRowHeight) + this.arrowOffsetY + prevVerticalNudge) + ')';
            if (smoothTransition) {
                pla
                    .transition()
                    .duration(200)
                    .attr('fill', 'white')
                    .each('end', function () {
                    pla
                        .attr('transform', translatePrevCmd)
                        .attr('fill', exports.lightArrowColor);
                    gutterSVG.find('#prevLineArrow').show(); // show at the end to avoid flickering
                });
            }
            else {
                pla.attr('transform', translatePrevCmd);
                gutterSVG.find('#prevLineArrow').show();
            }
        }
        else {
            gutterSVG.find('#prevLineArrow').hide();
        }
        if (myViz.curLineNumber) {
            var cla = this.domRootD3.select('#curLineArrow');
            var translateCurCmd = 'translate(0, ' + (((myViz.curLineNumber - 1) * this.codeRowHeight) + this.arrowOffsetY + curVerticalNudge) + ')';
            if (smoothTransition) {
                cla
                    .transition()
                    .delay(200)
                    .duration(250)
                    .attr('transform', translateCurCmd);
            }
            else {
                cla.attr('transform', translateCurCmd);
            }
            gutterSVG.find('#curLineArrow').show();
        }
        else {
            gutterSVG.find('#curLineArrow').hide();
        }
        this.domRootD3.selectAll('#pyCodeOutputDiv td.cod')
            .style('border-top', function (d) {
            if (hasError && (d.lineNumber == curEntry.line)) {
                return '1px solid ' + errorColor;
            }
            else {
                return '';
            }
        })
            .style('border-bottom', function (d) {
            // COPY AND PASTE ALERT!
            if (hasError && (d.lineNumber == curEntry.line)) {
                return '1px solid ' + errorColor;
            }
            else {
                return '';
            }
        });
        // returns True iff lineNo is visible in pyCodeOutputDiv
        var isOutputLineVisible = function (lineNo) {
            var lineNoTd = _this.domRoot.find('#lineNo' + lineNo);
            // if we can't even find this lineNo div, then punt!
            if (!lineNoTd || lineNoTd.length /* jQuery selector returns a list */ === 0) {
                return false;
            }
            var LO = lineNoTd.offset().top;
            var PO = pcod.offset().top;
            var ST = pcod.scrollTop();
            var H = pcod.height();
            // add a few pixels of fudge factor on the bottom end due to bottom scrollbar
            return (PO <= LO) && (LO < (PO + H - 30));
        };
        // smoothly scroll pyCodeOutputDiv so that the given line is at the center
        var scrollCodeOutputToLine = function (lineNo) {
            var lineNoTd = _this.domRoot.find('#lineNo' + lineNo);
            // if we can't even find this lineNo div, then punt!
            if (!lineNoTd || lineNoTd.length /* jQuery selector returns a list */ === 0) {
                return false;
            }
            var LO = lineNoTd.offset().top;
            var PO = pcod.offset().top;
            var ST = pcod.scrollTop();
            var H = pcod.height();
            pcod.stop(); // first stop all previously-queued animations
            pcod.animate({ scrollTop: (ST + (LO - PO - (Math.round(H / 2)))) }, 300);
        };
        // smoothly scroll code display
        if (!isOutputLineVisible(curEntry.line)) {
            scrollCodeOutputToLine(curEntry.line);
        }
    };
    return CodeDisplay;
}()); // END class CodeDisplay
var NavigationController = /** @class */ (function () {
    function NavigationController(owner, domRoot, domRootD3, nSteps) {
        var _this = this;
        var myself = this;
        this.owner = owner;
        this.domRoot = domRoot;
        this.domRootD3 = domRootD3;
        this.nSteps = nSteps;
        this.customizeVizOptionsShown = false;
        var navHTML = '<div id="navControlsDiv">\
                     <div id="executionSlider"/>\
                     <div id="executionSliderFooter"/>\
                     <div id="vcrControls">\
                       <button id="jmpFirstInstr", type="button">&lt;&lt; First</button>\
                       <button id="jmpStepBack", type="button">&lt; Prev</button>\
                       <button id="jmpStepFwd", type="button">Next &gt;</button>\
                       <button id="jmpLastInstr", type="button">Last &gt;&gt;</button>\
                     </div>\
                     <div id="curInstr">Step ? of ?</div>\
                     <div id="rawUserInputDiv">\
                       <span id="userInputPromptStr"/>\
                       <input type="text" id="raw_input_textbox" size="30"/>\
                       <button id="raw_input_submit_btn">Submit</button>\
                     </div>\
                     <div id="errorOutput"/>\
                     <div id="creditsPane"></div>\
                     <div id="uiControlsPane"><a id="customizeVizLink" href="#">Customize visualization</a> (<font color="#e93f34">NEW!</font>)</div>\
                   </div>';
        this.domRoot.append(navHTML);
        this.domRoot.find("#jmpFirstInstr").click(function () { _this.owner.renderStep(0); });
        this.domRoot.find("#jmpLastInstr").click(function () { _this.owner.renderStep(_this.nSteps - 1); });
        this.domRoot.find("#jmpStepBack").click(function () { _this.owner.stepBack(); });
        this.domRoot.find("#jmpStepFwd").click(function () { _this.owner.stepForward(); });
        // disable controls initially ...
        this.domRoot.find("#vcrControls #jmpFirstInstr").attr("disabled", true);
        this.domRoot.find("#vcrControls #jmpStepBack").attr("disabled", true);
        this.domRoot.find("#vcrControls #jmpStepFwd").attr("disabled", true);
        this.domRoot.find("#vcrControls #jmpLastInstr").attr("disabled", true);
        var ruiDiv = this.domRoot.find('#rawUserInputDiv');
        ruiDiv.find('#userInputPromptStr').html(this.owner.userInputPromptStr);
        ruiDiv.find('#raw_input_submit_btn').click(function () {
            var userInput = ruiDiv.find('#raw_input_textbox').val();
            // advance instruction count by 1 to get to the NEXT instruction
            _this.owner.params.executeCodeWithRawInputFunc(userInput, _this.owner.curInstr + 1);
        });
        // create customize visualization UI
        var uiControlsPane = this.domRoot.find("#uiControlsPane");
        // expose the customization UI
        uiControlsPane.find("#customizeVizLink").click(function () {
            if (_this.customizeVizOptionsShown) {
                return;
            }
            // do this up top so that renderDataStructures is called,
            // customizeVizOptionsShown is on, so objects get made .draggable()
            _this.customizeVizOptionsShown = true;
            uiControlsPane.append(' \
        <div style="margin-top: 8px;"/>\
          <font color="#e93f34">Warning:</font> Reloading this page loses all changes;\
          customizations <em>NOT</em> shared in URL or chat sessions\
          <p/><b>Drag</b> any object around to move it. Customize its pointers:\
          <div style="margin-top: 12px; margin-bottom: 5px;">\
          Line style:\
          <select id="jsplumbConnectorType">\
            <option value="StateMachine" selected>Default</option>\
            <option value="Bezier">Bezier</option>\
            <option value="Straight">Straight</option>\
            <option value="Flowchart">Flowchart</option>\
          </select>\
          </div>\
          <div class="sliderWrapper">Curve: <input type="range" min="0" max="100" value="10" class="jsplumbOptionSlider" id="smCurviness"><span class="sliderVal">10</span></div>\
          <div class="sliderWrapper">Curve: <input type="range" min="0" max="500" value="150" class="jsplumbOptionSlider" id="bezierCurviness"><span class="sliderVal">150</span></div>\
          <div class="sliderWrapper">Margin: <input type="range" min="0" max="20" value="5" class="jsplumbOptionSlider" id="margin"><span class="sliderVal">5</span></div>\
          <div class="sliderWrapper">Stub: <input type="range" min="0" max="50" value="0" class="jsplumbOptionSlider" id="stub"><span class="sliderVal">0</span></div>\
          <div class="sliderWrapper">Gap: <input type="range" min="0" max="50" value="0" class="jsplumbOptionSlider" id="gap"><span class="sliderVal">0</span></div>\
          <div class="sliderWrapper">Midpoint: <input type="range" min="0" max="10" value="0.5" step="0.5" class="jsplumbOptionSlider" id="midpoint"><span class="sliderVal">0.5</span></div>\
          <div class="sliderWrapper">CornerRadius: <input type="range" min="0" max="10" value="0" class="jsplumbOptionSlider" id="cornerRadius"><span class="sliderVal">0</span></div>\
          <div class="sliderWrapper">Arrow length: <input type="range" min="1" max="30" value="10" class="jsplumbOptionSlider" id="arrowLength"><span class="sliderVal">10</span></div>\
          <div class="sliderWrapper">Arrow width: <input type="range" min="1" max="30" value="7" class="jsplumbOptionSlider" id="arrowWidth"><span class="sliderVal">7</span></div>\
          <div class="sliderWrapper">Arrow fold: <input type="range" min="0" max="1" value="0.55" step="0.05" class="jsplumbOptionSlider" id="arrowFoldback"><span class="sliderVal">0.55</span></div>\
          <div id="selectiveHideDiv" style="margin-top: 15px; padding: 6px 6px 6px 6px; border: 1px solid #ccc;">\
            <b>Hide variables/fields</b> (elements may end up out of order, so reload page to reset)<br/>\
            <button id="updateHideVarsBtn" style="margin-top: 8px;">Update visualization</button>\
            <p/>All choices below; use part after colon to match all variables/fields with that name.<br/>\
            <font color="#e93f34">(Double-check your spelling!)</font>\
            <p/>Hide these variables:<br/>\
            <textarea id="hideVars" rows="3" cols="70"/>\
            <div id="hideVarsChoices" style="width: 500px;"></div>\
            <p style="margin-top: 15px;"/>Hide these object fields:<br/>\
            <textarea id="hideFields" rows="3" cols="70"/>\
            <div id="hideFieldsChoices" style="width: 500px;"></div>\
          </div>\
        </div>\
      ');
            // note that many of these options aren't present in the OLD OLD
            // OLD version of ./lib/jquery.jsPlumb-1.3.10-all-min.js that
            // we're using, so they might not do anything when they're
            // triggered. look at the inline comments/documentation in the source code
            // here for details: lib/jsplumb-1.3.10.zip
            function rerenderJsPlumbConnectors() {
                var connectorType = uiControlsPane.find('#jsplumbConnectorType').val();
                var connectorSpec = null;
                if (connectorType === "StateMachine") {
                    var curviness = uiControlsPane.find('#smCurviness').val();
                    connectorSpec = [connectorType, { curviness: curviness }]; // margin seems to have no effect
                }
                else if (connectorType === "Bezier") {
                    var curviness = uiControlsPane.find('#bezierCurviness').val();
                    connectorSpec = [connectorType, { curviness: curviness }];
                }
                else if (connectorType === "Straight") {
                    connectorSpec = [connectorType]; // stub and gap seem to have no effect
                }
                else {
                    assert(connectorType === "Flowchart");
                    // stub, midpoint, and radius seem to have no effect (actually
                    // stub causes crashes, ergh)
                    var gap = uiControlsPane.find('#gap').val();
                    connectorSpec = [connectorType, { gap: gap }];
                }
                if (connectorSpec) {
                    myself.owner.dataViz.jsPlumbInstance.importDefaults({
                        Connector: connectorSpec,
                        Overlays: [["Arrow", { length: uiControlsPane.find('#arrowLength').val(),
                                    width: uiControlsPane.find('#arrowWidth').val(),
                                    foldback: uiControlsPane.find('#arrowFoldback').val(),
                                    location: 1 // always 1, which means to display at target
                                }
                            ]],
                    });
                    myself.owner.dataViz.renderDataStructures(myself.owner.curInstr); // UGLY!
                }
            }
            // when any slider is moved, update its numeric display and then
            // redraw all jsPlumb connectors with new options
            uiControlsPane.find('.jsplumbOptionSlider').each(function (i, e) {
                e.oninput = function () {
                    $(e).siblings('.sliderVal').html(this.value);
                    rerenderJsPlumbConnectors();
                };
            });
            // show certain sliders depending on value of jsplumbConnectorType
            // use this as a reference:
            // https://community.jsplumbtoolkit.com/doc/connectors.html
            uiControlsPane.find('#jsplumbConnectorType').change(function () {
                var v = $(this).val();
                uiControlsPane.find('.sliderWrapper').hide();
                if (v === "StateMachine") {
                    uiControlsPane.find('#smCurviness').parent('.sliderWrapper').show();
                    /* margin seems to have no effect ...
                    uiControlsPane.find('#margin').parent('.sliderWrapper').show();
                    */
                }
                else if (v === "Bezier") {
                    uiControlsPane.find('#bezierCurviness').parent('.sliderWrapper').show();
                }
                else if (v === "Straight") {
                    /* neither stub nor gap seem to have any effect :/
                    uiControlsPane.find('#stub').val(0).siblings('.sliderVal').html(0); // set default
                    uiControlsPane.find('#stub').parent('.sliderWrapper').show();
                    uiControlsPane.find('#gap').parent('.sliderWrapper').show();
                    */
                }
                else {
                    assert(v === "Flowchart");
                    /* stub seems to be bogus and result in errors
                    uiControlsPane.find('#stub').val(30).siblings('.sliderVal').html(30); // set default
                    uiControlsPane.find('#stub').parent('.sliderWrapper').show();
          
                    // midpoint and cornerRadius seem equally useless
                    uiControlsPane.find('#midpoint').parent('.sliderWrapper').show();
                    uiControlsPane.find('#cornerRadius').parent('.sliderWrapper').show();
                    */
                    uiControlsPane.find('#gap').parent('.sliderWrapper').show();
                }
                // always show arrow stuff
                uiControlsPane.find('#arrowLength,#arrowWidth,#arrowFoldback').parent('.sliderWrapper').show();
                rerenderJsPlumbConnectors(); // re-render based on new connector type choice
            }).val('StateMachine').change(); // <-- trigger a change event on this
            // initial setting to get the change
            // handler above to run
            // set up infrastructure for showing/hiding variables / object fields
            var allVarnames = _this.owner.dataViz.getAllProgramVarnames();
            var allFieldnames = _this.owner.dataViz.getAllProgramObjectFieldNames();
            var varnameChoices = varlistToHtml(allVarnames);
            var fieldnameChoices = varlistToHtml(allFieldnames);
            uiControlsPane.find('#hideVarsChoices').html('<b><em>Choices:</em></b> ' + varnameChoices);
            uiControlsPane.find('#hideFieldsChoices').html('<b><em>Choices:</em></b> ' + fieldnameChoices);
            uiControlsPane.find('#updateHideVarsBtn').click(function () {
                var hideVarsLst = processHideString(uiControlsPane.find('#hideVars').val());
                var hideFieldsLst = processHideString(uiControlsPane.find('#hideFields').val());
                _this.owner.dataViz.selectivelyHideVarsAndFields(hideVarsLst, hideFieldsLst);
            });
            return false; // don't follow the link and reload the page!
        });
    }
    NavigationController.prototype.hideUserInputDiv = function () {
        this.domRoot.find('#rawUserInputDiv').hide();
    };
    NavigationController.prototype.showUserInputDiv = function () {
        this.domRoot.find('#rawUserInputDiv').show();
    };
    NavigationController.prototype.setSliderVal = function (v) {
        // PROGRAMMATICALLY change the value, so evt.originalEvent should be undefined
        this.domRoot.find('#executionSlider').slider('value', v);
    };
    NavigationController.prototype.setVcrControls = function (msg, isFirstInstr, isLastInstr) {
        var vcrControls = this.domRoot.find("#vcrControls");
        vcrControls.find("#jmpFirstInstr").attr("disabled", false);
        vcrControls.find("#jmpStepBack").attr("disabled", false);
        vcrControls.find("#jmpStepFwd").attr("disabled", false);
        vcrControls.find("#jmpLastInstr").attr("disabled", false);
        this.domRoot.find("#curInstr").html(msg);
        if (isFirstInstr) {
            vcrControls.find("#jmpFirstInstr").attr("disabled", true);
            vcrControls.find("#jmpStepBack").attr("disabled", true);
        }
        if (isLastInstr) {
            vcrControls.find("#jmpLastInstr").attr("disabled", true);
            vcrControls.find("#jmpStepFwd").attr("disabled", true);
        }
    };
    NavigationController.prototype.setupSlider = function (maxSliderVal) {
        var _this = this;
        assert(maxSliderVal >= 0);
        var sliderDiv = this.domRoot.find('#executionSlider');
        sliderDiv.slider({ min: 0, max: maxSliderVal, step: 1 });
        // disable keyboard actions on the slider itself (to prevent double-firing
        // of events), and make skinnier and taller
        sliderDiv
            .find(".ui-slider-handle")
            .unbind('keydown')
            .css('width', '0.8em')
            .css('height', '1.4em');
        this.domRoot.find(".ui-widget-content").css('font-size', '0.9em');
        this.domRoot.find('#executionSlider').bind('slide', function (evt, ui) {
            // this is SUPER subtle. if this value was changed programmatically,
            // then evt.originalEvent will be undefined. however, if this value
            // was changed by a user-initiated event, then this code should be
            // executed ...
            if (evt.originalEvent) {
                _this.owner.renderStep(ui.value);
            }
        });
    };
    NavigationController.prototype.renderSliderBreakpoints = function (sortedBreakpointsList) {
        this.domRoot.find("#executionSliderFooter").empty();
        var w = this.domRoot.find('#executionSlider').width();
        // I originally didn't want to delete and re-create this overlay every time,
        // but if I don't do so, there are weird flickering artifacts with clearing
        // the SVG container; so it's best to just delete and re-create the container each time
        var sliderOverlay = this.domRootD3.select('#executionSliderFooter')
            .append('svg')
            .attr('id', 'sliderOverlay')
            .attr('width', w)
            .attr('height', 12);
        var xrange = d3.scale.linear()
            .domain([0, this.nSteps - 1])
            .range([0, w]);
        sliderOverlay.selectAll('rect')
            .data(sortedBreakpointsList)
            .enter().append('rect')
            .attr('x', function (d, i) {
            // make edge case of 0 look decent:
            return (d === 0) ? 0 : xrange(d) - 1;
        })
            .attr('y', 0)
            .attr('width', 2)
            .attr('height', 12)
            .style('fill', function (d) {
            return breakpointColor;
        });
    };
    NavigationController.prototype.showError = function (msg) {
        if (msg) {
            this.domRoot.find("#errorOutput").html(htmlspecialchars(msg) + ("\n      <div style=\"font-size: 11pt; color: #666\">(" + footer_html_1.unsupportedFeaturesStr + ")</div>")).show();
        }
        else {
            this.domRoot.find("#errorOutput").hide();
        }
    };
    return NavigationController;
}()); // END class NavigationController
// Utilities
function assert(cond) {
    if (!cond) {
        console.trace();
        alert("Assertion Failure (see console log for backtrace)");
        throw 'Assertion Failure';
    }
}
exports.assert = assert;
// taken from http://www.toao.net/32-my-htmlspecialchars-function-for-javascript
function htmlspecialchars(str) {
    if (typeof (str) == "string") {
        str = str.replace(/&/g, "&amp;"); /* must do &amp; first */
        // ignore these for now ...
        //str = str.replace(/"/g, "&quot;");
        //str = str.replace(/'/g, "&#039;");
        str = str.replace(/</g, "&lt;");
        str = str.replace(/>/g, "&gt;");
        // replace spaces:
        str = str.replace(/ /g, "&nbsp;");
        // replace tab as four spaces:
        str = str.replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;");
        // replace newline as <br/>
        str = str.replace(newlineAllRegex, '<br/>');
    }
    return str;
}
exports.htmlspecialchars = htmlspecialchars;
// same as htmlspecialchars except don't worry about expanding spaces or
// tabs since we want proper word wrapping in divs.
function htmlsanitize(str) {
    if (typeof (str) == "string") {
        str = str.replace(/&/g, "&amp;"); /* must do &amp; first */
        str = str.replace(/</g, "&lt;");
        str = str.replace(/>/g, "&gt;");
    }
    return str;
}
String.prototype /* TS too strict */.rtrim = function () {
    return this.replace(/\s*$/g, "");
};
// make sure varname doesn't contain any weird
// characters that are illegal for CSS ID's ...
//
// I know for a fact that iterator tmp variables named '_[1]'
// are NOT legal names for CSS ID's.
// I also threw in '{', '}', '(', ')', '<', '>' as illegal characters.
//
// also some variable names are like '.0' (for generator expressions),
// and '.' seems to be illegal.
//
// also '=', '!', and '?' are common in Ruby names, so escape those as well
// '$' sometimes found in JavaScript names, so escape as well
//
// also spaces are illegal, so convert to '_'
// TODO: what other characters are illegal???
var lbRE = new RegExp('\\[|{|\\(|<', 'g');
var rbRE = new RegExp('\\]|}|\\)|>', 'g');
function varnameToCssID(varname) {
    // make sure to REPLACE ALL (using the 'g' option)
    // rather than just replacing the first entry
    return varname.replace(lbRE, 'LeftB_')
        .replace(rbRE, '_RightB')
        .replace(/[!]/g, '_BANG_')
        .replace(/[?]/g, '_QUES_')
        .replace(/[:]/g, '_COLON_')
        .replace(/[=]/g, '_EQ_')
        .replace(/[.]/g, '_DOT_')
        .replace(/[$]/g, '_DOLLAR_')
        .replace(/ /g, '_');
}
function isHeapRef(obj, heap) {
    // ordinary REF
    if (obj[0] === 'REF') {
        return (heap[obj[1]] !== undefined);
    }
    else if (obj[0] === 'C_DATA' && obj[2] === 'pointer') {
        // C-style pointer that has a valid value
        if (obj[3] != '<UNINITIALIZED>' && obj[3] != '<UNALLOCATED>') {
            return (heap[obj[3]] !== undefined);
        }
    }
    return false;
}
function getRefID(obj) {
    if (obj[0] == 'REF') {
        return obj[1];
    }
    else {
        assert(obj[0] === 'C_DATA' && obj[2] === 'pointer');
        assert(obj[3] != '<UNINITIALIZED>' && obj[3] != '<UNALLOCATED>');
        return obj[3]; // pointed-to address
    }
}

/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_98593__(0), __nested_webpack_require_98593__(0)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.privacyAndEndingHTML = "\n\n<p style=\"margin-top: 30px;\">Privacy Policy: By using Python Tutor, your\nvisualized code, options, user interactions, text chats, and IP address\nare logged on our server and may be analyzed for research purposes.\nNearly all web services collect this basic information from users in\ntheir server logs. However, Python Tutor does not collect any personally\nidentifiable information from its users. It uses Google Analytics for\nwebsite analytics.</p>\n\n<p>Terms of Service: The Python Tutor service is provided for free on an\nas-is basis. Use this service at your own risk. Do not use it to share\nconfidential information. The developers of Python Tutor are not\nresponsible for the chat messages or behaviors of any of the users on\nthis website. We are also not responsible for any damages caused by\nusing this website. Finally, it is your responsibility to follow\nappropriate academic integrity standards.</p>\n\n<p style=\"margin-top: 25px;\">\nCopyright &copy; <a href=\"http://www.pgbovine.net/\">Philip Guo</a>.  All rights reserved.\n</p>";
exports.footerHtml = "\n<p style=\"margin-top: 20px; margin-bottom: 30px;\"><a href=\"https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md\" target=\"_blank\">unsupported features</a> |\n<a href=\"https://www.youtube.com/watch?v=80ztTXP90Vs&list=PLzV58Zm8FuBL2WxxZKGZ6j1dH8NKb_HYI&index=5\" target=\"_blank\">setting breakpoints</a> |\n<a href=\"https://www.youtube.com/watch?v=Mxt9HZWgwAM&list=PLzV58Zm8FuBL2WxxZKGZ6j1dH8NKb_HYI&index=6\" target=\"_blank\">hiding variables</a> |\n<a href=\"https://www.youtube.com/watch?v=JjGt95Te0wo&index=3&list=PLzV58Zm8FuBL2WxxZKGZ6j1dH8NKb_HYI\" target=\"_blank\">live programming</a>\n</p>\n\n<p>\n  <button id=\"genUrlBtn\" class=\"smallBtn\" type=\"button\">Generate permanent link</button> <input type=\"text\" id=\"urlOutput\" size=\"60\"/>\n(<a href=\"https://www.youtube.com/watch?v=h4q3UKdEFKE\" target=\"_blank\">video demo</a>)\n</p>\n\n<div id=\"embedLinkDiv\">\n<p>\n  <button id=\"genEmbedBtn\" class=\"smallBtn\" type=\"button\">Generate embed code</button> <input type=\"text\" id=\"embedCodeOutput\" size=\"60\"/> (also supports https://)\n</p>\n</div>\n\n<p style=\"margin-top: 25px;\">\n<a href=\"http://pythontutor.com/\">Python Tutor</a> (<a href=\"https://github.com/pgbovine/OnlinePythonTutor\">code on GitHub</a>) supports:\n\nPython <a href=\"https://docs.python.org/3.6/\">3.6</a> and <a\nhref=\"https://docs.python.org/2.7/\">2.7</a> with limited imports\n(__future__, abc, array, bisect, calendar,\ncmath, collections, copy, datetime, decimal,\ndoctest, fractions, functools, hashlib, heapq,\nio, itertools, json, locale, math,\noperator, pickle, pprint, random, re,\nstring, time, types, unittest, StringIO (Python 2), typing (Python 3)),\n\nOracle Java 8 (implemented by <a href=\"https://github.com/daveagp\">David Pritchard</a> and Will Gwozdz,\nsupports\n<code><a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdIn.html\">StdIn</a></code>, \n<code><a href=\"http://introcs.cs.princeton.edu/java/stdlib/javadoc/StdOut.html\">StdOut</a></code>, \nmost other <a href=\"http://introcs.cs.princeton.edu/java/stdlib\"><tt>stdlib</tt> libraries</a>,\n<a href=\"http://introcs.cs.princeton.edu/java/43stack/Stack.java.html\"><tt>Stack</tt></a>,\n<a href=\"http://introcs.cs.princeton.edu/java/43stack/Queue.java.html\"><tt>Queue</tt></a>,\nand <a href=\"http://introcs.cs.princeton.edu/java/44st/ST.java.html\"><tt>ST</tt></a>.\nTo access built-in <tt>Stack</tt>/<tt>Queue</tt> classes, write:\n<tt>import java.util.Stack;</tt> This won't work: <tt>import\njava.util.*;</tt>),\n\nJavaScript ES6 and TypeScript 1.4.1 (Node.js v6.0.0), Ruby 2 (MRI 2.2.2), C and C++ (gcc 4.8, C11/C++11, Valgrind Memcheck)</p>\n\n" + exports.privacyAndEndingHTML;
exports.nullTraceErrorLst = [
    "Unknown error: The server is OVERLOADED or your code has UNSUPPORTED FEATURES.",
    "Try again later. This site is free with NO available technical support. [#NullTrace]"
];
exports.unsupportedFeaturesStr = 'see <a target="_blank" href="https://github.com/pgbovine/OnlinePythonTutor/blob/master/unsupported-features.md">UNSUPPORTED FEATURES</a>';


/***/ }),
/* 6 */
/***/ (function(module, exports, __nested_webpack_require_313999__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*
 * jQuery doTimeout: Like setTimeout, but better! - v1.0 - 3/3/2010
 * http://benalman.com/projects/jquery-dotimeout-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($){var a={},c="doTimeout",d=Array.prototype.slice;$[c]=function(){return b.apply(window,[0].concat(d.call(arguments)))};$.fn[c]=function(){var f=d.call(arguments),e=b.apply(this,[c+f[0]].concat(f));return typeof f[0]==="number"||typeof f[1]==="number"?this:e};function b(l){var m=this,h,k={},g=l?$.fn:$,n=arguments,i=4,f=n[1],j=n[2],p=n[3];if(typeof f!=="string"){i--;f=l=0;j=n[1];p=n[2]}if(l){h=m.eq(0);h.data(l,k=h.data(l)||{})}else{if(f){k=a[f]||(a[f]={})}}k.id&&clearTimeout(k.id);delete k.id;function e(){if(l){h.removeData(l)}else{if(f){delete a[f]}}}function o(){k.id=setTimeout(function(){k.fn()},j)}if(p){k.fn=function(q){if(typeof p==="string"){p=g[p]}p.apply(m,d.call(n,i))===true&&!q?o():e()};o()}else{if(k.fn){j===undefined?e():k.fn(j===false);return true}else{e()}}}})(jQuery);
/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_313999__(0)))

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== 'string') {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, '\\n'), "\"");
  }

  return url;
};

/***/ }),
/* 8 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 9 */
/***/ (function(module, exports) {

(function(){function d(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(d){a.prototype=b}}function f(a){var b=-1,c=a.length,d=[];while(++b<c)d.push(a[b]);return d}function g(a){return Array.prototype.slice.call(a)}function j(){}function m(a){return a}function n(){return this}function o(){return!0}function p(a){return typeof a=="function"?a:function(){return a}}function q(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}function r(a){return a!=null&&!isNaN(a)}function s(a){return a.length}function u(a){return a==null}function v(a){return a.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")}function w(a){var b=1;while(a*b%1)b*=10;return b}function z(){}function A(a){function d(){var c=b,d=-1,e=c.length,f;while(++d<e)(f=c[d].on)&&f.apply(this,arguments);return a}var b=[],c=new j;return d.on=function(d,e){var f=c.get(d),g;return arguments.length<2?f&&f.on:(f&&(f.on=null,b=b.slice(0,g=b.indexOf(f)).concat(b.slice(g+1)),c.remove(d)),e&&b.push(c.set(d,{on:e})),a)},d}function D(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function E(a){return a+""}function F(a){var b=a.lastIndexOf("."),c=b>=0?a.substring(b):(b=a.length,""),d=[];while(b>0)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function H(a,b){var c=Math.pow(10,Math.abs(8-b)*3);return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function N(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function O(a){return function(b){return 1-a(1-b)}}function P(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function Q(a){return a}function R(a){return function(b){return Math.pow(b,a)}}function S(a){return 1-Math.cos(a*Math.PI/2)}function T(a){return Math.pow(2,10*(a-1))}function U(a){return 1-Math.sqrt(1-a*a)}function V(a,b){var c;return arguments.length<2&&(b=.45),arguments.length<1?(a=1,c=b/4):c=b/(2*Math.PI)*Math.asin(1/a),function(d){return 1+a*Math.pow(2,10*-d)*Math.sin((d-c)*2*Math.PI/b)}}function W(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function X(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Y(){d3.event.stopPropagation(),d3.event.preventDefault()}function Z(){var a=d3.event,b;while(b=a.sourceEvent)a=b;return a}function $(a){var b=new z,c=0,d=arguments.length;while(++c<d)b[arguments[c]]=A(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=d3.event;e.target=a,d3.event=e,b[e.type].apply(c,d)}finally{d3.event=f}}},b}function ba(a){return a=="transform"?d3.interpolateTransform:d3.interpolate}function bb(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function bc(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function bd(a,b,c){return new be(a,b,c)}function be(a,b,c){this.r=a,this.g=b,this.b=c}function bf(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function bg(a,b,c){var d=0,e=0,f=0,g,h,i;g=/([a-z]+)\((.*)\)/i.exec(a);if(g){h=g[2].split(",");switch(g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(bi(h[0]),bi(h[1]),bi(h[2]))}}return(i=bj.get(a))?b(i.r,i.g,i.b):(a!=null&&a.charAt(0)==="#"&&(a.length===4?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,f=a.charAt(3),f+=f):a.length===7&&(d=a.substring(1,3),e=a.substring(3,5),f=a.substring(5,7)),d=parseInt(d,16),e=parseInt(e,16),f=parseInt(f,16)),b(d,e,f))}function bh(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g,h,i=(e+d)/2;return f?(h=i<.5?f/(e+d):f/(2-e-d),a==e?g=(b-c)/f+(b<c?6:0):b==e?g=(c-a)/f+2:g=(a-b)/f+4,g*=60):h=g=0,bk(g,h,i)}function bi(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}function bk(a,b,c){return new bl(a,b,c)}function bl(a,b,c){this.h=a,this.s=b,this.l=c}function bm(a,b,c){function f(a){return a>360?a-=360:a<0&&(a+=360),a<60?d+(e-d)*a/60:a<180?e:a<240?d+(e-d)*(240-a)/60:d}function g(a){return Math.round(f(a)*255)}var d,e;return a%=360,a<0&&(a+=360),b=b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,e=c<=.5?c*(1+b):c+b-c*b,d=2*c-e,bd(g(a+120),g(a),g(a-120))}function bn(a){return i(a,bt),a}function bu(a){return function(){return bo(a,this)}}function bv(a){return function(){return bp(a,this)}}function bw(a,b){function f(){if(b=this.classList)return b.add(a);var b=this.className,d=b.baseVal!=null,e=d?b.baseVal:b;c.lastIndex=0,c.test(e)||(e=v(e+" "+a),d?b.baseVal=e:this.className=e)}function g(){if(b=this.classList)return b.remove(a);var b=this.className,d=b.baseVal!=null,e=d?b.baseVal:b;e=v(e.replace(c," ")),d?b.baseVal=e:this.className=e}function h(){(b.apply(this,arguments)?f:g).call(this)}var c=new RegExp("(^|\\s+)"+d3.requote(a)+"(\\s+|$)","g");if(arguments.length<2){var d=this.node();if(e=d.classList)return e.contains(a);var e=d.className;return c.lastIndex=0,c.test(e.baseVal!=null?e.baseVal:e)}return this.each(typeof b=="function"?h:b?f:g)}function bx(a){return{__data__:a}}function by(a){return function(){return bs(this,a)}}function bz(a){return arguments.length||(a=d3.ascending),function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function bA(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,g=e.length,h;f<g;f++)(h=e[f])&&b(h,f,c);return a}function bC(a){return i(a,bD),a}function bE(a,b,c){i(a,bI);var d=new j,e=d3.dispatch("start","end"),f=bQ;return a.id=b,a.time=c,a.tween=function(b,c){return arguments.length<2?d.get(b):(c==null?d.remove(b):d.set(b,c),a)},a.ease=function(b){return arguments.length?(f=typeof b=="function"?b:d3.ease.apply(d3,arguments),a):f},a.each=function(b,c){return arguments.length<2?bR.call(a,b):(e.on(b,c),a)},d3.timer(function(g){return bA(a,function(a,h,i){function o(f){return m.active>b?q():(m.active=b,d.forEach(function(b,c){(c=c.call(a,n,h))&&j.push(c)}),e.start.call(a,n,h),p(f)||d3.timer(p,0,c),1)}function p(c){if(m.active!==b)return q();var d=(c-k)/l,g=f(d),i=j.length;while(i>0)j[--i].call(a,g);if(d>=1)return q(),bK=b,e.end.call(a,n,h),bK=0,1}function q(){return--m.count||delete a.__transition__,1}var j=[],k=a.delay,l=a.duration,m=(a=a.node).__transition__||(a.__transition__={active:0,count:0}),n=a.__data__;++m.count,k<=g?o(g):d3.timer(o,k,c)})},0,c),a}function bG(a,b,c){return c!=""&&bF}function bH(a,b){function d(a,d,e){var f=b.call(this,a,d);return f==null?e!=""&&bF:e!=f&&c(e,f)}function e(a,d,e){return e!=b&&c(e,b)}var c=ba(a);return typeof b=="function"?d:b==null?bG:(b+="",e)}function bR(a){var b=bK,c=bQ,d=bO,e=bP;return bK=this.id,bQ=this.ease(),bA(this,function(b,c,d){bO=b.delay,bP=b.duration,a.call(b=b.node,b.__data__,c,d)}),bK=b,bQ=c,bO=d,bP=e,this}function bV(){var a,b=Date.now(),c=bS;while(c)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;var d=bW()-b;d>24?(isFinite(d)&&(clearTimeout(bU),bU=setTimeout(bV,d)),bT=0):(bT=1,bX(bV))}function bW(){var a=null,b=bS,c=Infinity;while(b)b.flush?b=a?a.next=b.next:bS=b.next:(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}function bY(a){var b=[a.a,a.b],c=[a.c,a.d],d=b$(b),e=bZ(b,c),f=b$(b_(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ca,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*ca:0}function bZ(a,b){return a[0]*b[0]+a[1]*b[1]}function b$(a){var b=Math.sqrt(bZ(a,a));return b&&(a[0]/=b,a[1]/=b),b}function b_(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function cc(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(cb<0&&(window.scrollX||window.scrollY)){c=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var e=c[0][0].getScreenCTM();cb=!e.f&&!e.e,c.remove()}return cb?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var f=a.getBoundingClientRect();return[b.clientX-f.left-a.clientLeft,b.clientY-f.top-a.clientTop]}function cd(){}function ce(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function cf(a){return a.rangeExtent?a.rangeExtent():ce(a.range())}function cg(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],g;f<e&&(g=c,c=d,d=g,g=e,e=f,f=g);if(g=f-e)b=b(g),a[c]=b.floor(e),a[d]=b.ceil(f);return a}function ch(){return Math}function ci(a,b,c,d){function g(){var g=Math.min(a.length,b.length)>2?cp:co,i=d?bc:bb;return e=g(a,b,i,c),f=g(b,a,i,d3.interpolate),h}function h(a){return e(a)}var e,f;return h.invert=function(a){return f(a)},h.domain=function(b){return arguments.length?(a=b.map(Number),g()):a},h.range=function(a){return arguments.length?(b=a,g()):b},h.rangeRound=function(a){return h.range(a).interpolate(d3.interpolateRound)},h.clamp=function(a){return arguments.length?(d=a,g()):d},h.interpolate=function(a){return arguments.length?(c=a,g()):c},h.ticks=function(b){return cm(a,b)},h.tickFormat=function(b){return cn(a,b)},h.nice=function(){return cg(a,ck),g()},h.copy=function(){return ci(a,b,c,d)},g()}function cj(a,b){return d3.rebind(a,b,"range","rangeRound","interpolate","clamp")}function ck(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function cl(a,b){var c=ce(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+e*.5,c[2]=e,c}function cm(a,b){return d3.range.apply(d3,cl(a,b))}function cn(a,b){return d3.format(",."+Math.max(0,-Math.floor(Math.log(cl(a,b)[2])/Math.LN10+.01))+"f")}function co(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function cp(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());while(++g<=h)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=d3.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function cq(a,b){function d(c){return a(b(c))}var c=b.pow;return d.invert=function(b){return c(a.invert(b))},d.domain=function(e){return arguments.length?(b=e[0]<0?ct:cs,c=b.pow,a.domain(e.map(b)),d):a.domain().map(c)},d.nice=function(){return a.domain(cg(a.domain(),ch)),d},d.ticks=function(){var d=ce(a.domain()),e=[];if(d.every(isFinite)){var f=Math.floor(d[0]),g=Math.ceil(d[1]),h=c(d[0]),i=c(d[1]);if(b===ct){e.push(c(f));for(;f++<g;)for(var j=9;j>0;j--)e.push(c(f)*j)}else{for(;f<g;f++)for(var j=1;j<10;j++)e.push(c(f)*j);e.push(c(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>i;g--);e=e.slice(f,g)}return e},d.tickFormat=function(a,e){arguments.length<2&&(e=cr);if(arguments.length<1)return e;var f=Math.max(.1,a/d.ticks().length),g=b===ct?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil),h;return function(a){return a/c(g(b(a)+h))<=f?e(a):""}},d.copy=function(){return cq(a.copy(),b)},cj(d,a)}function cs(a){return Math.log(a<0?0:a)/Math.LN10}function ct(a){return-Math.log(a>0?0:-a)/Math.LN10}function cu(a,b){function e(b){return a(c(b))}var c=cv(b),d=cv(1/b);return e.invert=function(b){return d(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b.map(c)),e):a.domain().map(d)},e.ticks=function(a){return cm(e.domain(),a)},e.tickFormat=function(a){return cn(e.domain(),a)},e.nice=function(){return e.domain(cg(e.domain(),ck))},e.exponent=function(a){if(!arguments.length)return b;var f=e.domain();return c=cv(b=a),d=cv(1/b),e.domain(f)},e.copy=function(){return cu(a.copy(),b)},cj(e,a)}function cv(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function cw(a,b){function f(b){return d[((c.get(b)||c.set(b,a.push(b)))-1)%d.length]}function g(b,c){return d3.range(a.length).map(function(a){return b+c*a})}var c,d,e;return f.domain=function(d){if(!arguments.length)return a;a=[],c=new j;var e=-1,g=d.length,h;while(++e<g)c.has(h=d[e])||c.set(h,a.push(h));return f[b.t](b.x,b.p)},f.range=function(a){return arguments.length?(d=a,e=0,b={t:"range",x:a},f):d},f.rangePoints=function(c,h){arguments.length<2&&(h=0);var i=c[0],j=c[1],k=(j-i)/(a.length-1+h);return d=g(a.length<2?(i+j)/2:i+k*h/2,k),e=0,b={t:"rangePoints",x:c,p:h},f},f.rangeBands=function(c,h){arguments.length<2&&(h=0);var i=c[1]<c[0],j=c[i-0],k=c[1-i],l=(k-j)/(a.length+h);return d=g(j+l*h,l),i&&d.reverse(),e=l*(1-h),b={t:"rangeBands",x:c,p:h},f},f.rangeRoundBands=function(c,h){arguments.length<2&&(h=0);var i=c[1]<c[0],j=c[i-0],k=c[1-i],l=Math.floor((k-j)/(a.length+h)),m=k-j-(a.length-h)*l;return d=g(j+Math.round(m/2),l),i&&d.reverse(),e=Math.round(l*(1-h)),b={t:"rangeRoundBands",x:c,p:h},f},f.rangeBand=function(){return e},f.rangeExtent=function(){return ce(b.x)},f.copy=function(){return cw(a,b)},f.domain(a)}function cB(a,b){function d(){var d=0,f=a.length,g=b.length;c=[];while(++d<g)c[d-1]=d3.quantile(a,d/g);return e}function e(a){return isNaN(a=+a)?NaN:b[d3.bisect(c,a)]}var c;return e.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(d3.ascending),d()):a},e.range=function(a){return arguments.length?(b=a,d()):b},e.quantiles=function(){return c},e.copy=function(){return cB(a,b)},d()}function cC(a,b,c){function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}var d,e;return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.copy=function(){return cC(a,b,c)},g()}function cD(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return cm(a,b)},b.tickFormat=function(b){return cn(a,b)},b.copy=function(){return cD(a)},b}function cG(a){return a.innerRadius}function cH(a){return a.outerRadius}function cI(a){return a.startAngle}function cJ(a){return a.endAngle}function cK(a){function h(e){function o(){h.push("M",f(a(i),g))}var h=[],i=[],j=-1,k=e.length,l,m=p(b),n=p(c);while(++j<k)d.call(this,l=e[j],j)?i.push([+m.call(this,l,j),+n.call(this,l,j)]):i.length&&(o(),i=[]);return i.length&&o(),h.length?h.join(""):null}var b=cL,c=cM,d=o,e=cN,f=cP,g=.7;return h.x=function(a){return arguments.length?(b=a,h):b},h.y=function(a){return arguments.length?(c=a,h):c},h.defined=function(a){return arguments.length?(d=a,h):d},h.interpolate=function(a){return arguments.length?(cO.has(a+="")||(a=cN),f=cO.get(e=a),h):e},h.tension=function(a){return arguments.length?(g=a,h):g},h}function cL(a){return a[0]}function cM(a){return a[1]}function cP(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("L",(d=a[b])[0],",",d[1]);return e.join("")}function cQ(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function cR(a){var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];while(++b<c)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function cS(a,b){return a.length<4?cP(a):a[1]+cV(a.slice(1,a.length-1),cW(a,b))}function cT(a,b){return a.length<3?cP(a):a[0]+cV((a.push(a[0]),a),cW([a[a.length-2]].concat(a,[a[1]]),b))}function cU(a,b,c){return a.length<3?cP(a):a[0]+cV(a,cW(a,b))}function cV(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return cP(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;c&&(d+="Q"+(f[0]-g[0]*2/3)+","+(f[1]-g[1]*2/3)+","+f[0]+","+f[1],e=a[1],i=2);if(b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+h[0]*2/3)+","+(f[1]+h[1]*2/3)+","+k[0]+","+k[1]}return d}function cW(a,b){var c=[],d=(1-b)/2,e,f=a[0],g=a[1],h=1,i=a.length;while(++h<i)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function cX(a){if(a.length<3)return cP(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f];dd(i,g,h);while(++b<c)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),dd(i,g,h);b=-1;while(++b<2)g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),dd(i,g,h);return i.join("")}function cY(a){if(a.length<4)return cP(a);var b=[],c=-1,d=a.length,e,f=[0],g=[0];while(++c<3)e=a[c],f.push(e[0]),g.push(e[1]);b.push(c_(dc,f)+","+c_(dc,g)),--c;while(++c<d)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),dd(b,f,g);return b.join("")}function cZ(a){var b,c=-1,d=a.length,e=d+4,f,g=[],h=[];while(++c<4)f=a[c%d],g.push(f[0]),h.push(f[1]);b=[c_(dc,g),",",c_(dc,h)],--c;while(++c<e)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),dd(b,g,h);return b.join("")}function c$(a,b){var c=a.length-1;if(c){var d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1,i,j;while(++h<=c)i=a[h],j=h/c,i[0]=b*i[0]+(1-b)*(d+j*f),i[1]=b*i[1]+(1-b)*(e+j*g)}return cX(a)}function c_(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function dd(a,b,c){a.push("C",c_(da,b),",",c_(da,c),",",c_(db,b),",",c_(db,c),",",c_(dc,b),",",c_(dc,c))}function de(a,b){return(b[1]-a[1])/(b[0]-a[0])}function df(a){var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=de(e,f);while(++b<c)d[b]=g+(g=de(e=f,f=a[b+1]));return d[b]=g,d}function dg(a){var b=[],c,d,e,f,g=df(a),h=-1,i=a.length-1;while(++h<i)c=de(a[h],a[h+1]),Math.abs(c)<1e-6?g[h]=g[h+1]=0:(d=g[h]/c,e=g[h+1]/c,f=d*d+e*e,f>9&&(f=c*3/Math.sqrt(f),g[h]=f*d,g[h+1]=f*e));h=-1;while(++h<=i)f=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),b.push([f||0,g[h]*f||0]);return b}function dh(a){return a.length<3?cP(a):a[0]+cV(a,dg(a))}function di(a){var b,c=-1,d=a.length,e,f;while(++c<d)b=a[c],e=b[0],f=b[1]+cE,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function dj(a){function l(g){function y(){l.push("M",h(a(n),k),j,i(a(m.reverse()),k),"Z")}var l=[],m=[],n=[],o=-1,q=g.length,r,s=p(b),t=p(d),u=b===c?function(){return w}:p(c),v=d===e?function(){return x}:p(e),w,x;while(++o<q)f.call(this,r=g[o],o)?(m.push([w=+s.call(this,r,o),x=+t.call(this,r,o)]),n.push([+u.call(this,r,o),+v.call(this,r,o)])):m.length&&(y(),m=[],n=[]);return m.length&&y(),l.length?l.join(""):null}var b=cL,c=cL,d=0,e=cM,f=o,g=cN,h=cP,i=cP,j="L",k=.7;return l.x=function(a){return arguments.length?(b=c=a,l):c},l.x0=function(a){return arguments.length?(b=a,l):b},l.x1=function(a){return arguments.length?(c=a,l):c},l.y=function(a){return arguments.length?(d=e=a,l):e},l.y0=function(a){return arguments.length?(d=a,l):d},l.y1=function(a){return arguments.length?(e=a,l):e},l.defined=function(a){return arguments.length?(f=a,l):f},l.interpolate=function(a){return arguments.length?(cO.has(a+="")||(a=cN),h=cO.get(g=a),i=h.reverse||h,j=/-closed$/.test(a)?"M":"L",l):g},l.tension=function(a){return arguments.length?(k=a,l):k},l}function dk(a){return a.source}function dl(a){return a.target}function dm(a){return a.radius}function dn(a){return a.startAngle}function dp(a){return a.endAngle}function dq(a){return[a.x,a.y]}function dr(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]+cE;return[c*Math.cos(d),c*Math.sin(d)]}}function ds(){return 64}function dt(){return"circle"}function du(a){var b=Math.sqrt(a/Math.PI);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+ -b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function dy(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function dz(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function dA(a,b,c){e=[];if(c&&b.length>1){var d=ce(a.domain()),e,f=-1,g=b.length,h=(b[1]-b[0])/++c,i,j;while(++f<g)for(i=c;--i>0;)(j=+b[f]-i*h)>=d[0]&&e.push(j);for(--f,i=0;++i<c&&(j=+b[f]+i*h)<d[1];)e.push(j)}return e}function dF(){dD||(dD=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var a=d3.event,b;try{dD.scrollTop=1e3,dD.dispatchEvent(a),b=1e3-dD.scrollTop}catch(c){b=a.wheelDelta||-a.detail*5}return b}function dG(a){var b=a.source,c=a.target,d=dI(b,c),e=[b];while(b!==d)b=b.parent,e.push(b);var f=e.length;while(c!==d)e.splice(f,0,c),c=c.parent;return e}function dH(a){var b=[],c=a.parent;while(c!=null)b.push(a),a=c,c=c.parent;return b.push(a),b}function dI(a,b){if(a===b)return a;var c=dH(a),d=dH(b),e=c.pop(),f=d.pop(),g=null;while(e===f)g=e,e=c.pop(),f=d.pop();return g}function dL(a){a.fixed|=2}function dM(a){a!==dK&&(a.fixed&=1)}function dN(){dK.fixed&=1,dJ=dK=null}function dO(){dK.px=d3.event.x,dK.py=d3.event.y,dJ.resume()}function dP(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf){var f=a.nodes,g=f.length,h=-1,i;while(++h<g){i=f[h];if(i==null)continue;dP(i,b,c),a.charge+=i.charge,d+=i.charge*i.cx,e+=i.charge*i.cy}}if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function dQ(a){return 20}function dR(a){return 1}function dT(a){return a.x}function dU(a){return a.y}function dV(a,b,c){a.y0=b,a.y=c}function dY(a){return d3.range(a.length)}function dZ(a){var b=-1,c=a[0].length,d=[];while(++b<c)d[b]=0;return d}function d$(a){var b=1,c=0,d=a[0][1],e,f=a.length;for(;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function d_(a){return a.reduce(ea,0)}function ea(a,b){return a+b[1]}function eb(a,b){return ec(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ec(a,b){var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];while(++c<=b)f[c]=e*c+d;return f}function ed(a){return[d3.min(a),d3.max(a)]}function ee(a,b){return d3.rebind(a,b,"sort","children","value"),a.links=ei,a.nodes=function(b){return ej=!0,(a.nodes=a)(b)},a}function ef(a){return a.children}function eg(a){return a.value}function eh(a,b){return b.value-a.value}function ei(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ek(a,b){return a.value-b.value}function el(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function em(a,b){a._pack_next=b,b._pack_prev=a}function en(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-c*c-d*d>.001}function eo(a){function l(a){b=Math.min(a.x-a.r,b),c=Math.max(a.x+a.r,c),d=Math.min(a.y-a.r,d),e=Math.max(a.y+a.r,e)}var b=Infinity,c=-Infinity,d=Infinity,e=-Infinity,f=a.length,g,h,i,j,k;a.forEach(ep),g=a[0],g.x=-g.r,g.y=0,l(g);if(f>1){h=a[1],h.x=h.r,h.y=0,l(h);if(f>2){i=a[2],et(g,h,i),l(i),el(g,i),g._pack_prev=i,el(i,h),h=g._pack_next;for(var m=3;m<f;m++){et(g,h,i=a[m]);var n=0,o=1,p=1;for(j=h._pack_next;j!==h;j=j._pack_next,o++)if(en(j,i)){n=1;break}if(n==1)for(k=g._pack_prev;k!==j._pack_prev;k=k._pack_prev,p++)if(en(k,i))break;n?(o<p||o==p&&h.r<g.r?em(g,h=j):em(g=k,h),m--):(el(g,i),h=i,l(i))}}}var q=(b+c)/2,r=(d+e)/2,s=0;for(var m=0;m<f;m++){var t=a[m];t.x-=q,t.y-=r,s=Math.max(s,t.r+Math.sqrt(t.x*t.x+t.y*t.y))}return a.forEach(eq),s}function ep(a){a._pack_next=a._pack_prev=a}function eq(a){delete a._pack_next,delete a._pack_prev}function er(a){var b=a.children;b&&b.length?(b.forEach(er),a.r=eo(b)):a.r=Math.sqrt(a.value)}function es(a,b,c,d){var e=a.children;a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d;if(e){var f=-1,g=e.length;while(++f<g)es(e[f],b,c,d)}}function et(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=Math.sqrt(e*e+f*f),i=Math.max(-1,Math.min(1,(d*d+h*h-g*g)/(2*d*h))),j=Math.acos(i),k=i*(d/=h),l=Math.sin(j)*d;c.x=a.x+k*e+l*f,c.y=a.y+k*f-l*e}else c.x=a.x+d,c.y=a.y}function eu(a){return 1+d3.max(a,function(a){return a.y})}function ev(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function ew(a){var b=a.children;return b&&b.length?ew(b[0]):a}function ex(a){var b=a.children,c;return b&&(c=b.length)?ex(b[c-1]):a}function ey(a,b){return a.parent==b.parent?1:2}function ez(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function eA(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread}function eB(a,b){var c=a.children;if(c&&(e=c.length)){var d,e,f=-1;while(++f<e)b(d=eB(c[f],b),a)>0&&(a=d)}return a}function eC(a,b){return a.x-b.x}function eD(a,b){return b.x-a.x}function eE(a,b){return a.depth-b.depth}function eF(a,b){function c(a,d){var e=a.children;if(e&&(i=e.length)){var f,g=null,h=-1,i;while(++h<i)f=e[h],c(f,g),g=f}b(a,d)}c(a,null)}function eG(a){var b=0,c=0,d=a.children,e=d.length,f;while(--e>=0)f=d[e]._tree,f.prelim+=b,f.mod+=b,b+=f.shift+(c+=f.change)}function eH(a,b,c){a=a._tree,b=b._tree;var d=c/(b.number-a.number);a.change+=d,b.change-=d,b.shift+=c,b.prelim+=c,b.mod+=c}function eI(a,b,c){return a._tree.ancestor.parent==b.parent?a._tree.ancestor:c}function eJ(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function eK(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function eL(a){return a.map(eM).join(",")}function eM(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}function eO(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}function eP(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+ -2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function eQ(a,b){eR.hasOwnProperty(a.type)&&eR[a.type](a,b)}function eS(a,b){eQ(a.geometry,b)}function eT(a,b){for(var c=a.features,d=0,e=c.length;d<e;d++)eQ(c[d].geometry,b)}function eU(a,b){for(var c=a.geometries,d=0,e=c.length;d<e;d++)eQ(c[d],b)}function eV(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function eW(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d],g=0,h=f.length;g<h;g++)b.apply(null,f[g])}function eX(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d][0],g=0,h=f.length;g<h;g++)b.apply(null,f[g])}function eY(a,b){b.apply(null,a.coordinates)}function eZ(a,b){for(var c=a.coordinates[0],d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function e$(a){return a.source}function e_(a){return a.target}function fa(){function o(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,g=c*e+b*k,h=c*f+b*l,i=c*d+b*j;return[Math.atan2(h,g)/eN,Math.atan2(i,Math.sqrt(g*g+h*h))/eN]}var a,b,c,d,e,f,g,h,i,j,k,l,m,n;return o.distance=function(){return m==null&&(n=1/Math.sin(m=Math.acos(Math.max(-1,Math.min(1,d*j+c*i*Math.cos(g-a)))))),m},o.source=function(g){var h=Math.cos(a=g[0]*eN),i=Math.sin(a);return c=Math.cos(b=g[1]*eN),d=Math.sin(b),e=c*h,f=c*i,m=null,o},o.target=function(a){var b=Math.cos(g=a[0]*eN),c=Math.sin(g);return i=Math.cos(h=a[1]*eN),j=Math.sin(h),k=i*b,l=i*c,m=null,o},o}function fb(a,b){var c=fa().source(a).target(b);return c.distance(),c}function fe(a){var b=0,c=0;for(;;){if(a(b,c))return[b,c];b===0?(b=c+1,c=0):(b-=1,c+=1)}}function ff(a,b,c,d){var e,f,g,h,i,j,k;return e=d[a],f=e[0],g=e[1],e=d[b],h=e[0],i=e[1],e=d[c],j=e[0],k=e[1],(k-g)*(h-f)-(i-g)*(j-f)>0}function fg(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function fh(a,b,c,d){var e=a[0],f=b[0],g=c[0],h=d[0],i=a[1],j=b[1],k=c[1],l=d[1],m=e-g,n=f-e,o=h-g,p=i-k,q=j-i,r=l-k,s=(o*p-r*m)/(r*n-o*q);return[e+s*n,i+s*q]}function fj(a,b){var c={list:a.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0}),bottomSite:null},d={list:[],leftEnd:null,rightEnd:null,init:function(){d.leftEnd=d.createHalfEdge(null,"l"),d.rightEnd=d.createHalfEdge(null,"l"),d.leftEnd.r=d.rightEnd,d.rightEnd.l=d.leftEnd,d.list.unshift(d.leftEnd,d.rightEnd)},createHalfEdge:function(a,b){return{edge:a,side:b,vertex:null,l:null,r:null}},insert:function(a,b){b.l=a,b.r=a.r,a.r.l=b,a.r=b},leftBound:function(a){var b=d.leftEnd;do b=b.r;while(b!=d.rightEnd&&e.rightOf(b,a));return b=b.l,b},del:function(a){a.l.r=a.r,a.r.l=a.l,a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return a.edge==null?c.bottomSite:a.edge.region[a.side]},rightRegion:function(a){return a.edge==null?c.bottomSite:a.edge.region[fi[a.side]]}},e={bisect:function(a,b){var c={region:{l:a,r:b},ep:{l:null,r:null}},d=b.x-a.x,e=b.y-a.y,f=d>0?d:-d,g=e>0?e:-e;return c.c=a.x*d+a.y*e+(d*d+e*e)*.5,f>g?(c.a=1,c.b=e/d,c.c/=d):(c.b=1,c.a=d/e,c.c/=e),c},intersect:function(a,b){var c=a.edge,d=b.edge;if(!c||!d||c.region.r==d.region.r)return null;var e=c.a*d.b-c.b*d.a;if(Math.abs(e)<1e-10)return null;var f=(c.c*d.b-d.c*c.b)/e,g=(d.c*c.a-c.c*d.a)/e,h=c.region.r,i=d.region.r,j,k;h.y<i.y||h.y==i.y&&h.x<i.x?(j=a,k=c):(j=b,k=d);var l=f>=k.region.r.x;return l&&j.side==="l"||!l&&j.side==="r"?null:{x:f,y:g}},rightOf:function(a,b){var c=a.edge,d=c.region.r,e=b.x>d.x;if(e&&a.side==="l")return 1;if(!e&&a.side==="r")return 0;if(c.a===1){var f=b.y-d.y,g=b.x-d.x,h=0,i=0;!e&&c.b<0||e&&c.b>=0?i=h=f>=c.b*g:(i=b.x+b.y*c.b>c.c,c.b<0&&(i=!i),i||(h=1));if(!h){var j=d.x-c.region.l.x;i=c.b*(g*g-f*f)<j*f*(1+2*g/j+c.b*c.b),c.b<0&&(i=!i)}}else{var k=c.c-c.a*b.x,l=b.y-k,m=b.x-d.x,n=k-d.y;i=l*l>m*m+n*n}return a.side==="l"?i:!i},endPoint:function(a,c,d){a.ep[c]=d;if(!a.ep[fi[c]])return;b(a)},distance:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}},f={list:[],insert:function(a,b,c){a.vertex=b,a.ystar=b.y+c;for(var d=0,e=f.list,g=e.length;d<g;d++){var h=e[d];if(a.ystar>h.ystar||a.ystar==h.ystar&&b.x>h.vertex.x)continue;break}e.splice(d,0,a)},del:function(a){for(var b=0,c=f.list,d=c.length;b<d&&c[b]!=a;++b);c.splice(b,1)},empty:function(){return f.list.length===0},nextEvent:function(a){for(var b=0,c=f.list,d=c.length;b<d;++b)if(c[b]==a)return c[b+1];return null},min:function(){var a=f.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return f.list.shift()}};d.init(),c.bottomSite=c.list.shift();var g=c.list.shift(),h,i,j,k,l,m,n,o,p,q,r,s,t;for(;;){f.empty()||(h=f.min());if(g&&(f.empty()||g.y<h.y||g.y==h.y&&g.x<h.x))i=d.leftBound(g),j=d.right(i),n=d.rightRegion(i),s=e.bisect(n,g),m=d.createHalfEdge(s,"l"),d.insert(i,m),q=e.intersect(i,m),q&&(f.del(i),f.insert(i,q,e.distance(q,g))),i=m,m=d.createHalfEdge(s,"r"),d.insert(i,m),q=e.intersect(m,j),q&&f.insert(m,q,e.distance(q,g)),g=c.list.shift();else if(!f.empty())i=f.extractMin(),k=d.left(i),j=d.right(i),l=d.right(j),n=d.leftRegion(i),o=d.rightRegion(j),r=i.vertex,e.endPoint(i.edge,i.side,r),e.endPoint(j.edge,j.side,r),d.del(i),f.del(j),d.del(j),t="l",n.y>o.y&&(p=n,n=o,o=p,t="r"),s=e.bisect(n,o),m=d.createHalfEdge(s,t),d.insert(k,m),e.endPoint(s,fi[t],r),q=e.intersect(k,m),q&&(f.del(k),f.insert(k,q,e.distance(q,n))),q=e.intersect(m,l),q&&f.insert(m,q,e.distance(q,n));else break}for(i=d.right(d.leftEnd);i!=d.rightEnd;i=d.right(i))b(i.edge)}function fk(){return{leaf:!0,nodes:[],point:null}}function fl(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=(c+e)*.5,h=(d+f)*.5,i=b.nodes;i[0]&&fl(a,i[0],c,d,g,h),i[1]&&fl(a,i[1],g,d,e,h),i[2]&&fl(a,i[2],c,h,g,f),i[3]&&fl(a,i[3],g,h,e,f)}}function fm(a){return{x:a[0],y:a[1]}}function fo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function fq(a,b,c,d){var e,f,g=0,h=b.length,i=c.length;while(g<h){if(d>=i)return-1;e=b.charCodeAt(g++);if(e==37){f=fw[b.charAt(g++)];if(!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function fx(a,b,c){return fz.test(b.substring(c,c+=3))?c:-1}function fy(a,b,c){fA.lastIndex=0;var d=fA.exec(b.substring(c,c+10));return d?c+=d[0].length:-1}function fC(a,b,c){var d=fD.get(b.substring(c,c+=3).toLowerCase());return d==null?-1:(a.m=d,c)}function fE(a,b,c){fF.lastIndex=0;var d=fF.exec(b.substring(c,c+12));return d?(a.m=fG.get(d[0].toLowerCase()),c+=d[0].length):-1}function fI(a,b,c){return fq(a,fv.c.toString(),b,c)}function fJ(a,b,c){return fq(a,fv.x.toString(),b,c)}function fK(a,b,c){return fq(a,fv.X.toString(),b,c)}function fL(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+4));return d?(a.y=+d[0],c+=d[0].length):-1}function fM(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.y=fN()+ +d[0],c+=d[0].length):-1}function fN(){return~~((new Date).getFullYear()/1e3)*1e3}function fO(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.m=d[0]-1,c+=d[0].length):-1}function fP(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.d=+d[0],c+=d[0].length):-1}function fQ(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.H=+d[0],c+=d[0].length):-1}function fR(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.M=+d[0],c+=d[0].length):-1}function fS(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+2));return d?(a.S=+d[0],c+=d[0].length):-1}function fT(a,b,c){fU.lastIndex=0;var d=fU.exec(b.substring(c,c+3));return d?(a.L=+d[0],c+=d[0].length):-1}function fV(a,b,c){var d=fW.get(b.substring(c,c+=2).toLowerCase());return d==null?-1:(a.p=d,c)}function fX(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=~~(Math.abs(b)/60),e=Math.abs(b)%60;return c+fr(d)+fr(e)}function fZ(a){return a.toISOString()}function f$(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new fn(c-1)),1),c}function f(a,c){return b(a=new fn(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)while(g<d)c(g)%f||h.push(new Date(+g)),b(g,1);else while(g<d)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{
fn=fo;var d=new fo;return d._=a,g(d,b,c)}finally{fn=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=f_(a);return i.floor=i,i.round=f_(d),i.ceil=f_(e),i.offset=f_(f),i.range=h,a}function f_(a){return function(b,c){try{fn=fo;var d=new fo;return d._=b,a(d,c)._}finally{fn=Date}}}function ga(a,b,c){function d(b){return a(b)}return d.invert=function(b){return gc(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(gc)},d.nice=function(a){var b=gb(d.domain());return d.domain([a.floor(b[0]),a.ceil(b[1])])},d.ticks=function(c,e){var f=gb(d.domain());if(typeof c!="function"){var g=f[1]-f[0],h=g/c,i=d3.bisect(gg,h);if(i==gg.length)return b.year(f,c);if(!i)return a.ticks(c).map(gc);Math.log(h/gg[i-1])<Math.log(gg[i]/h)&&--i,c=b[i],e=c[1],c=c[0].range}return c(f[0],new Date(+f[1]+1),e)},d.tickFormat=function(){return c},d.copy=function(){return ga(a.copy(),b,c)},d3.rebind(d,a,"range","rangeRound","interpolate","clamp")}function gb(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function gc(a){return new Date(a)}function gd(a){return function(b){var c=a.length-1,d=a[c];while(!d[1](b))d=a[--c];return d[0](b)}}function ge(a){var b=new Date(a,0,1);return b.setFullYear(a),b}function gf(a){var b=a.getFullYear(),c=ge(b),d=ge(b+1);return b+(a-c)/(d-c)}function go(a){var b=new Date(Date.UTC(a,0,1));return b.setUTCFullYear(a),b}function gp(a){var b=a.getUTCFullYear(),c=go(b),d=go(b+1);return b+(a-c)/(d-c)}Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(a){var b=CSSStyleDeclaration.prototype,c=b.setProperty;b.setProperty=function(a,b,d){c.call(this,a,b+"",d)}}d3={version:"2.9.6"};var e=g;try{e(document.documentElement.childNodes)[0].nodeType}catch(h){e=f}var i=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};d3.map=function(a){var b=new j;for(var c in a)b.set(c,a[c]);return b},d(j,{has:function(a){return k+a in this},get:function(a){return this[k+a]},set:function(a,b){return this[k+a]=b},remove:function(a){return a=k+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(a){for(var b in this)b.charCodeAt(0)===l&&a.call(this,b.substring(1),this[b])}});var k="\0",l=k.charCodeAt(0);d3.functor=p,d3.rebind=function(a,b){var c=1,d=arguments.length,e;while(++c<d)a[e=arguments[c]]=q(a,b,b[e]);return a},d3.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.mean=function(a,b){var c=a.length,d,e=0,f=-1,g=0;if(arguments.length===1)while(++f<c)r(d=a[f])&&(e+=(d-e)/++g);else while(++f<c)r(d=b.call(a,a[f],f))&&(e+=(d-e)/++g);return g?e:undefined},d3.median=function(a,b){return arguments.length>1&&(a=a.map(b)),a=a.filter(r),a.length?d3.quantile(a.sort(d3.ascending),.5):undefined},d3.min=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&e>f&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&e>f&&(e=f)}return e},d3.max=function(a,b){var c=-1,d=a.length,e,f;if(arguments.length===1){while(++c<d&&((e=a[c])==null||e!=e))e=undefined;while(++c<d)(f=a[c])!=null&&f>e&&(e=f)}else{while(++c<d&&((e=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&f>e&&(e=f)}return e},d3.extent=function(a,b){var c=-1,d=a.length,e,f,g;if(arguments.length===1){while(++c<d&&((e=g=a[c])==null||e!=e))e=g=undefined;while(++c<d)(f=a[c])!=null&&(e>f&&(e=f),g<f&&(g=f))}else{while(++c<d&&((e=g=b.call(a,a[c],c))==null||e!=e))e=undefined;while(++c<d)(f=b.call(a,a[c],c))!=null&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]},d3.random={normal:function(a,b){return arguments.length<2&&(b=1),arguments.length<1&&(a=0),function(){var c,d,e;do c=Math.random()*2-1,d=Math.random()*2-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}}},d3.sum=function(a,b){var c=0,d=a.length,e,f=-1;if(arguments.length===1)while(++f<d)isNaN(e=+a[f])||(c+=e);else while(++f<d)isNaN(e=+b.call(a,a[f],f))||(c+=e);return c},d3.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=a[d-1],f=c-d;return f?e+f*(a[d]-e):e},d3.transpose=function(a){return d3.zip.apply(d3,a)},d3.zip=function(){if(!(e=arguments.length))return[];for(var a=-1,b=d3.min(arguments,s),c=new Array(b);++a<b;)for(var d=-1,e,f=c[a]=new Array(e);++d<e;)f[d]=arguments[d][a];return c},d3.bisector=function(a){return{left:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>1;a.call(b,b[f],f)<c?d=f+1:e=f}return d},right:function(b,c,d,e){arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);while(d<e){var f=d+e>>1;c<a.call(b,b[f],f)?e=f:d=f+1}return d}}};var t=d3.bisector(function(a){return a});d3.bisectLeft=t.left,d3.bisect=d3.bisectRight=t.right,d3.first=function(a,b){var c=0,d=a.length,e=a[0],f;arguments.length===1&&(b=d3.ascending);while(++c<d)b.call(a,e,f=a[c])>0&&(e=f);return e},d3.last=function(a,b){var c=0,d=a.length,e=a[0],f;arguments.length===1&&(b=d3.ascending);while(++c<d)b.call(a,e,f=a[c])<=0&&(e=f);return e},d3.nest=function(){function f(c,g){if(g>=b.length)return e?e.call(a,c):d?c.sort(d):c;var h=-1,i=c.length,k=b[g++],l,m,n=new j,o,p={};while(++h<i)(o=n.get(l=k(m=c[h])))?o.push(m):n.set(l,[m]);return n.forEach(function(a){p[a]=f(n.get(a),g)}),p}function g(a,d){if(d>=b.length)return a;var e=[],f=c[d++],h;for(h in a)e.push({key:h,values:g(a[h],d)});return f&&e.sort(function(a,b){return f(a.key,b.key)}),e}var a={},b=[],c=[],d,e;return a.map=function(a){return f(a,0)},a.entries=function(a){return g(f(a,0),0)},a.key=function(c){return b.push(c),a},a.sortKeys=function(d){return c[b.length-1]=d,a},a.sortValues=function(b){return d=b,a},a.rollup=function(b){return e=b,a},a},d3.keys=function(a){var b=[];for(var c in a)b.push(c);return b},d3.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},d3.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},d3.permute=function(a,b){var c=[],d=-1,e=b.length;while(++d<e)c[d]=a[b[d]];return c},d3.merge=function(a){return Array.prototype.concat.apply([],a)},d3.split=function(a,b){var c=[],d=[],e,f=-1,g=a.length;arguments.length<2&&(b=u);while(++f<g)b.call(d,e=a[f],f)?d=[]:(d.length||c.push(d),d.push(e));return c},d3.range=function(a,b,c){arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));if((b-a)/c===Infinity)throw new Error("infinite range");var d=[],e=w(Math.abs(c)),f=-1,g;a*=e,b*=e,c*=e;if(c<0)while((g=a+c*++f)>b)d.push(g/e);else while((g=a+c*++f)<b)d.push(g/e);return d},d3.requote=function(a){return a.replace(x,"\\$&")};var x=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)},d3.xhr=function(a,b,c){var d=new XMLHttpRequest;arguments.length<3?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b),d.open("GET",a,!0),b&&d.setRequestHeader("Accept",b),d.onreadystatechange=function(){if(d.readyState===4){var a=d.status;c(!a&&d.response||a>=200&&a<300||a===304?d:null)}},d.send(null)},d3.text=function(a,b,c){function d(a){c(a&&a.responseText)}arguments.length<3&&(c=b,b=null),d3.xhr(a,b,d)},d3.json=function(a,b){d3.text(a,"application/json",function(a){b(a?JSON.parse(a):null)})},d3.html=function(a,b){d3.text(a,"text/html",function(a){if(a!=null){var c=document.createRange();c.selectNode(document.body),a=c.createContextualFragment(a)}b(a)})},d3.xml=function(a,b,c){function d(a){c(a&&a.responseXML)}arguments.length<3&&(c=b,b=null),d3.xhr(a,b,d)};var y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:y,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&(c=a.substring(0,b),a=a.substring(b+1)),y.hasOwnProperty(c)?{space:y[c],local:a}:a}},d3.dispatch=function(){var a=new z,b=-1,c=arguments.length;while(++b<c)a[arguments[b]]=A(a);return a},z.prototype.on=function(a,b){var c=a.indexOf("."),d="";return c>0&&(d=a.substring(c+1),a=a.substring(0,c)),arguments.length<2?this[a].on(d):this[a].on(d,b)},d3.format=function(a){var b=B.exec(a),c=b[1]||" ",d=b[3]||"",e=b[5],f=+b[6],g=b[7],h=b[8],i=b[9],j=1,k="",l=!1;h&&(h=+h.substring(1)),e&&(c="0",g&&(f-=Math.floor((f-1)/4)));switch(i){case"n":g=!0,i="g";break;case"%":j=100,k="%",i="f";break;case"p":j=100,k="%",i="r";break;case"d":l=!0,h=0;break;case"s":j=-1,i="r"}return i=="r"&&!h&&(i="g"),i=C.get(i)||E,function(a){if(l&&a%1)return"";var b=a<0&&(a=-a)?"":d;if(j<0){var m=d3.formatPrefix(a,h);a=m.scale(a),k=m.symbol}else a*=j;a=i(a,h);if(e){var n=a.length+b.length;n<f&&(a=(new Array(f-n+1)).join(c)+a),g&&(a=F(a)),a=b+a}else{g&&(a=F(a)),a=b+a;var n=a.length;n<f&&(a=(new Array(f-n+1)).join(c)+a)}return a+k}};var B=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,C=d3.map({g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return d3.round(a,b=D(a,b)).toFixed(Math.max(0,Math.min(20,b)))}}),G=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(H);d3.formatPrefix=function(a,b){var c=0;return a&&(a<0&&(a*=-1),b&&(a=d3.round(a,D(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,Math.floor((c<=0?c+1:c-1)/3)*3))),G[8+c/3]};var I=R(2),J=R(3),K=function(){return Q},L=d3.map({linear:K,poly:R,quad:function(){return I},cubic:function(){return J},sin:function(){return S},exp:function(){return T},circle:function(){return U},elastic:V,back:W,bounce:function(){return X}}),M=d3.map({"in":Q,out:O,"in-out":P,"out-in":function(a){return P(O(a))}});d3.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.substring(0,b):a,d=b>=0?a.substring(b+1):"in";return c=L.get(c)||K,d=M.get(d)||Q,N(d(c.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(a,b){var c=d3.interpolators.length,d;while(--c>=0&&!(d=d3.interpolators[c](a,b)));return d},d3.interpolateNumber=function(a,b){return b-=a,function(c){return a+b*c}},d3.interpolateRound=function(a,b){return b-=a,function(c){return Math.round(a+b*c)}},d3.interpolateString=function(a,b){var c,d,e,f=0,g=0,h=[],i=[],j,k;_.lastIndex=0;for(d=0;c=_.exec(b);++d)c.index&&h.push(b.substring(f,g=c.index)),i.push({i:h.length,x:c[0]}),h.push(null),f=_.lastIndex;f<b.length&&h.push(b.substring(f));for(d=0,j=i.length;(c=_.exec(a))&&d<j;++d){k=i[d];if(k.x==c[0]){if(k.i)if(h[k.i+1]==null){h[k.i-1]+=k.x,h.splice(k.i,1);for(e=d+1;e<j;++e)i[e].i--}else{h[k.i-1]+=k.x+h[k.i+1],h.splice(k.i,2);for(e=d+1;e<j;++e)i[e].i-=2}else if(h[k.i+1]==null)h[k.i]=k.x;else{h[k.i]=k.x+h[k.i+1],h.splice(k.i+1,1);for(e=d+1;e<j;++e)i[e].i--}i.splice(d,1),j--,d--}else k.x=d3.interpolateNumber(parseFloat(c[0]),parseFloat(k.x))}while(d<j)k=i.pop(),h[k.i+1]==null?h[k.i]=k.x:(h[k.i]=k.x+h[k.i+1],h.splice(k.i+1,1)),j--;return h.length===1?h[0]==null?i[0].x:function(){return b}:function(a){for(d=0;d<j;++d)h[(k=i[d]).i]=k.x(a);return h.join("")}},d3.interpolateTransform=function(a,b){var c=[],d=[],e,f=d3.transform(a),g=d3.transform(b),h=f.translate,i=g.translate,j=f.rotate,k=g.rotate,l=f.skew,m=g.skew,n=f.scale,o=g.scale;return h[0]!=i[0]||h[1]!=i[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:d3.interpolateNumber(h[0],i[0])},{i:3,x:d3.interpolateNumber(h[1],i[1])})):i[0]||i[1]?c.push("translate("+i+")"):c.push(""),j!=k?(j-k>180?k+=360:k-j>180&&(j+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(j,k)})):k&&c.push(c.pop()+"rotate("+k+")"),l!=m?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(l,m)}):m&&c.push(c.pop()+"skewX("+m+")"),n[0]!=o[0]||n[1]!=o[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:d3.interpolateNumber(n[0],o[0])},{i:e-2,x:d3.interpolateNumber(n[1],o[1])})):(o[0]!=1||o[1]!=1)&&c.push(c.pop()+"scale("+o+")"),e=d.length,function(a){var b=-1,f;while(++b<e)c[(f=d[b]).i]=f.x(a);return c.join("")}},d3.interpolateRgb=function(a,b){a=d3.rgb(a),b=d3.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+bf(Math.round(c+f*a))+bf(Math.round(d+g*a))+bf(Math.round(e+h*a))}},d3.interpolateHsl=function(a,b){a=d3.hsl(a),b=d3.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return f>180?f-=360:f<-180&&(f+=360),function(a){return bm(c+f*a,d+g*a,e+h*a).toString()}},d3.interpolateArray=function(a,b){var c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length),h;for(h=0;h<g;++h)c.push(d3.interpolate(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}},d3.interpolateObject=function(a,b){var c={},d={},e;for(e in a)e in b?c[e]=ba(e)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}};var _=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(a,b){return b instanceof Array&&d3.interpolateArray(a,b)},function(a,b){return(typeof a=="string"||typeof b=="string")&&d3.interpolateString(a+"",b+"")},function(a,b){return(typeof b=="string"?bj.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof be||b instanceof bl)&&d3.interpolateRgb(a,b)},function(a,b){return!isNaN(a=+a)&&!isNaN(b=+b)&&d3.interpolateNumber(a,b)}],d3.rgb=function(a,b,c){return arguments.length===1?a instanceof be?bd(a.r,a.g,a.b):bg(""+a,bd,bm):bd(~~a,~~b,~~c)},be.prototype.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return!b&&!c&&!d?bd(e,e,e):(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),bd(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a))))},be.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),bd(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},be.prototype.hsl=function(){return bh(this.r,this.g,this.b)},be.prototype.toString=function(){return"#"+bf(this.r)+bf(this.g)+bf(this.b)};var bj=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});bj.forEach(function(a,b){bj.set(a,bg(b,bd,bm))}),d3.hsl=function(a,b,c){return arguments.length===1?a instanceof bl?bk(a.h,a.s,a.l):bg(""+a,bh,bk):bk(+a,+b,+c)},bl.prototype.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),bk(this.h,this.s,this.l/a)},bl.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),bk(this.h,this.s,a*this.l)},bl.prototype.rgb=function(){return bm(this.h,this.s,this.l)},bl.prototype.toString=function(){return this.rgb().toString()};var bo=function(a,b){return b.querySelector(a)},bp=function(a,b){return b.querySelectorAll(a)},bq=document.documentElement,br=bq.matchesSelector||bq.webkitMatchesSelector||bq.mozMatchesSelector||bq.msMatchesSelector||bq.oMatchesSelector,bs=function(a,b){return br.call(a,b)};typeof Sizzle=="function"&&(bo=function(a,b){return Sizzle(a,b)[0]||null},bp=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},bs=Sizzle.matchesSelector);var bt=[];d3.selection=function(){return bB},d3.selection.prototype=bt,bt.select=function(a){var b=[],c,d,e,f;typeof a!="function"&&(a=bu(a));for(var g=-1,h=this.length;++g<h;){b.push(c=[]),c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return bn(b)},bt.selectAll=function(a){var b=[],c,d;typeof a!="function"&&(a=bv(a));for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)if(d=h[i])b.push(c=e(a.call(d,d.__data__,i))),c.parentNode=d;return bn(b)},bt.attr=function(a,b){function d(){this.removeAttribute(a)}function e(){this.removeAttributeNS(a.space,a.local)}function f(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.space,a.local,b)}function h(){var c=b.apply(this,arguments);c==null?this.removeAttribute(a):this.setAttribute(a,c)}function i(){var c=b.apply(this,arguments);c==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=d3.ns.qualify(a);if(arguments.length<2){var c=this.node();return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}return this.each(b==null?a.local?e:d:typeof b=="function"?a.local?i:h:a.local?g:f)},bt.classed=function(a,b){var c=v(a).split(" "),d=c.length,e=-1;if(arguments.length>1){while(++e<d)bw.call(this,c[e],b);return this}while(++e<d)if(!bw.call(this,c[e]))return!1;return!0},bt.style=function(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);d==null?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return arguments.length<3&&(c=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(a):this.each(b==null?d:typeof b=="function"?f:e)},bt.property=function(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);c==null?delete this[a]:this[a]=c}return arguments.length<2?this.node()[a]:this.each(b==null?c:typeof b=="function"?e:d)},bt.text=function(a){return arguments.length<1?this.node().textContent:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a})},bt.html=function(a){return arguments.length<1?this.node().innerHTML:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a})},bt.append=function(a){function b(){return this.appendChild(document.createElementNS(this.namespaceURI,a))}function c(){return this.appendChild(document.createElementNS(a.space,a.local))}return a=d3.ns.qualify(a),this.select(a.local?c:b)},bt.insert=function(a,b){function c(){return this.insertBefore(document.createElementNS(this.namespaceURI,a),bo(b,this))}function d(){return this.insertBefore(document.createElementNS(a.space,a.local),bo(b,this))}return a=d3.ns.qualify(a),this.select(a.local?d:c)},bt.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},bt.data=function(a,b){function g(a,c){var d,e=a.length,f=c.length,g=Math.min(e,f),l=Math.max(e,f),m=[],n=[],o=[],p,q;if(b){var r=new j,s=[],t,u=c.length;for(d=-1;++d<e;)t=b.call(p=a[d],p.__data__,d),r.has(t)?o[u++]=p:r.set(t,p),s.push(t);for(d=-1;++d<f;)t=b.call(c,q=c[d],d),r.has(t)?(m[d]=p=r.get(t),p.__data__=q,n[d]=o[d]=null):(n[d]=bx(q),m[d]=o[d]=null),r.remove(t);for(d=-1;++d<e;)r.has(s[d])&&(o[d]=a[d])}else{for(d=-1;++d<g;)p=a[d],q=c[d],p?(p.__data__=q,m[d]=p,n[d]=o[d]=null):(n[d]=bx(q),m[d]=o[d]=null);for(;d<f;++d)n[d]=bx(c[d]),m[d]=o[d]=null;for(;d<l;++d)o[d]=a[d],n[d]=m[d]=null}n.update=m,n.parentNode=m.parentNode=o.parentNode=a.parentNode,h.push(n),i.push(m),k.push(o)}var c=-1,d=this.length,e,f;if(!arguments.length){a=new Array(d=(e=this[0]).length);while(++c<d)if(f=e[c])a[c]=f.__data__;return a}var h=bC([]),i=bn([]),k=bn([]);if(typeof a=="function")while(++c<d)g(e=this[c],a.call(e,e.parentNode.__data__,c));else while(++c<d)g(e=this[c],a);return i.enter=function(){return h},i.exit=function(){return k},i},bt.datum=bt.map=function(a){return arguments.length<1?this.property("__data__"):this.property("__data__",a)},bt.filter=function(a){var b=[],c,d,e;typeof a!="function"&&(a=by(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]),c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h)&&c.push(e)}return bn(b)},bt.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;--d>=0;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f;return this},bt.sort=function(a){a=bz.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},bt.on=function(a,b,c){arguments.length<3&&(c=!1);var d="__on"+a,e=a.indexOf(".");return e>0&&(a=a.substring(0,e)),arguments.length<2?(e=this.node()[d])&&e._:this.each(function(e,f){function i(a){var c=d3.event;d3.event=a;try{b.call(g,g.__data__,f)}finally{d3.event=c}}var g=this,h=g[d];h&&(g.removeEventListener(a,h,h.$),delete g[d]),b&&(g.addEventListener(a,g[d]=i,i.$=c),i._=b)})},bt.each=function(a){return bA(this,function(b,c,d){a.call(b,b.__data__,c,d)})},bt.call=function(a){return a.apply(this,(arguments[0]=this,arguments)),this},bt.empty=function(){return!this.node()},bt.node=function(a){for(var b=0,c=this.length;b<c;b++)for(var d=this[b],e=0,f=d.length;e<f;e++){var g=d[e];if(g)return g}return null},bt.transition=function(){var a=[],b,c;for(var d=-1,e=this.length;++d<e;){a.push(b=[]);for(var f=this[d],g=-1,h=f.length;++g<h;)b.push((c=f[g])?{node:c,delay:bO,duration:bP}:null)}return bE(a,bK||++bJ,Date.now())};var bB=bn([[document]]);bB[0].parentNode=bq,d3.select=function(a){return typeof a=="string"?bB.select(a):bn([[a]])},d3.selectAll=function(a){return typeof a=="string"?bB.selectAll(a):bn([e(a)])};var bD=[];d3.selection.enter=bC,d3.selection.enter.prototype=bD,bD.append=bt.append,bD.insert=bt.insert,bD.empty=bt.empty,bD.node=bt.node,bD.select=function(a){var b=[],c,d,e,f,g;for(var h=-1,i=this.length;++h<i;){e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j)),d.__data__=g.__data__):c.push(null)}return bn(b)};var bF={},bI=[],bJ=0,bK=0,bL=0,bM=250,bN=d3.ease("cubic-in-out"),bO=bL,bP=bM,bQ=bN;bI.call=bt.call,d3.transition=function(a){return arguments.length?bK?a.transition():a:bB.transition()},d3.transition.prototype=bI,bI.select=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bu(a));for(var f=-1,g=this.length;++f<g;){b.push(c=[]);for(var h=this[f],i=-1,j=h.length;++i<j;)(e=h[i])&&(d=a.call(e.node,e.node.__data__,i))?("__data__"in e.node&&(d.__data__=e.node.__data__),c.push({node:d,delay:e.delay,duration:e.duration})):c.push(null)}return bE(b,this.id,this.time).ease(this.ease())},bI.selectAll=function(a){var b=[],c,d,e;typeof a!="function"&&(a=bv(a));for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)if(e=h[i]){d=a.call(e.node,e.node.__data__,i),b.push(c=[]);for(var k=-1,l=d.length;++k<l;)c.push({node:d[k],delay:e.delay,duration:e.duration})}return bE(b,this.id,this.time).ease(this.ease())},bI.attr=function(a,b){return this.attrTween(a,bH(a,b))},bI.attrTween=function(a,b){function d(a,d){var e=b.call(this,a,d,this.getAttribute(c));return e===bF?(this.removeAttribute(c),null):e&&function(a){this.setAttribute(c,e(a))}}function e(a,d){var e=b.call(this,a,d,this.getAttributeNS(c.space,c.local));return e===bF?(this.removeAttributeNS(c.space,c.local),null):e&&function(a){this.setAttributeNS(c.space,c.local,e(a))}}var c=d3.ns.qualify(a);return this.tween("attr."+a,c.local?e:d)},bI.style=function(a,b,c){return arguments.length<3&&(c=""),this.styleTween(a,bH(a,b),c)},bI.styleTween=function(a,b,c){return arguments.length<3&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return f===bF?(this.style.removeProperty(a),null):f&&function(b){this.style.setProperty(a,f(b),c)}})},bI.text=function(a){return this.tween("text",function(b,c){this.textContent=typeof a=="function"?a.call(this,b,c):a})},bI.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},bI.delay=function(a){return bA(this,typeof a=="function"?function(b,c,d){b.delay=a.call(b=b.node,b.__data__,c,d)|0}:(a|=0,function(b){b.delay=a}))},bI.duration=function(a){return bA(this,typeof a=="function"?function(b,c,d){b.duration=Math.max(1,a.call(b=b.node,b.__data__,c,d)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))},bI.transition=function(){return this.select(n)};var bS=null,bT,bU;d3.timer=function(a,b,c){var d=!1,e,f=bS;if(arguments.length<3){if(arguments.length<2)b=0;else if(!isFinite(b))return;c=Date.now()}while(f){if(f.callback===a){f.then=c,f.delay=b,d=!0;break}e=f,f=f.next}d||(bS={callback:a,then:c,delay:b,next:bS}),bT||(bU=clearTimeout(bU),bT=1,bX(bV))},d3.timer.flush=function(){var a,b=Date.now(),c=bS;while(c)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;bW()};var bX=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};d3.transform=function(a){var b=document.createElementNS(d3.ns.prefix.svg,"g"),c={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(a){b.setAttribute("transform",a);var d=b.transform.baseVal.consolidate();return new bY(d?d.matrix:c)})(a)},bY.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ca=180/Math.PI;d3.mouse=function(a){return cc(a,Z())};var cb=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(a,b){return arguments.length<2&&(b=Z().touches),b?e(b).map(function(b){var c=cc(a,b);return c.identifier=b.identifier,c}):[]},d3.scale={},d3.scale.linear=function(){return ci([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return cq(d3.scale.linear(),cs)};var cr=d3.format(".0e");cs.pow=function(a){return Math.pow(10,a)},ct.pow=function(a){return-Math.pow(10,-a)},d3.scale.pow=function(){return cu(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return cw([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(cx)},d3.scale.category20=function(){return d3.scale.ordinal().range(cy)},d3.scale.category20b=function(){return d3.scale.ordinal().range(cz)},d3.scale.category20c=function(){return d3.scale.ordinal().range(cA)};var cx=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],cy=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],cz=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],cA=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return cB([],[])},d3.scale.quantize=function(){return cC(0,1,[0,1])},d3.scale.identity=function(){return cD([0,1])},d3.svg={},d3.svg.arc=function(){function e(){var e=a.apply(this,arguments),f=b.apply(this,arguments),g=c.apply(this,arguments)+cE,h=d.apply(this,arguments)+cE,i=(h<g&&(i=g,g=h,h=i),h-g),j=i<Math.PI?"0":"1",k=Math.cos(g),l=Math.sin(g),m=Math.cos(h),n=Math.sin(h);return i>=cF?e?"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+ -f+"A"+f+","+f+" 0 1,1 0,"+f+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+ -f+"A"+f+","+f+" 0 1,1 0,"+f+"Z":e?"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L"+e*m+","+e*n+"A"+e+","+e+" 0 "+j+",0 "+e*k+","+e*l+"Z":"M"+f*k+","+f*l+"A"+f+","+f+" 0 "+j+",1 "+f*m+","+f*n+"L0,0"+"Z"}var a=cG,b=cH,c=cI,d=cJ;return e.innerRadius=function(b){return arguments.length?(a=p(b),e):a},e.outerRadius=function(a){return arguments.length?(b=p(a),e):b},e.startAngle=function(a){return arguments.length?(c=p(a),e):c},e.endAngle=function(a){return arguments.length?(d=p(a),e):d},e.centroid=function(){var e=(a.apply(this,arguments)+b.apply(this,arguments))/2,f=(c.apply(this,arguments)+d.apply(this,arguments))/2+cE;return[Math.cos(f)*e,Math.sin(f)*e]},e};var cE=-Math.PI/2,cF=2*Math.PI-1e-6;d3.svg.line=function(){return cK(m)};var cN="linear",cO=d3.map({linear:cP,"step-before":cQ,"step-after":cR,basis:cX,"basis-open":cY,"basis-closed":cZ,bundle:c$,cardinal:cU,"cardinal-open":cS,"cardinal-closed":cT,monotone:dh}),da=[0,2/3,1/3,0],db=[0,1/3,2/3,0],dc=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var a=cK(di);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},cQ.reverse=cR,cR.reverse=cQ,d3.svg.area=function(){return dj(Object)},d3.svg.area.radial=function(){var a=dj(di);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},d3.svg.chord=function(){function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=c.call(a,h,g),j=d.call(a,h,g)+cE,k=e.call(a,h,g)+cE;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Math.PI)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}var a=dk,b=dl,c=dm,d=cI,e=cJ;return f.radius=function(a){return arguments.length?(c=p(a),f):c},f.source=function(b){return arguments.length?(a=p(b),f):a},f.target=function(a){return arguments.length?(b=p(a),f):b},f.startAngle=function(a){return arguments.length?(d=p(a),f):d},f.endAngle=function(a){return arguments.length?(e=p(a),f):e},f},d3.svg.diagonal=function(){function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(c),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var a=dk,b=dl,c=dq;return d.source=function(b){return arguments.length?(a=p(b),d):a},d.target=function(a){return arguments.length?(b=p(a),d):b},d.projection=function(a){return arguments.length?(c=a,d):c},d},d3.svg.diagonal
.radial=function(){var a=d3.svg.diagonal(),b=dq,c=a.projection;return a.projection=function(a){return arguments.length?c(dr(b=a)):b},a},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function c(c,d){return(dv.get(a.call(this,c,d))||du)(b.call(this,c,d))}var a=dt,b=ds;return c.type=function(b){return arguments.length?(a=p(b),c):a},c.size=function(a){return arguments.length?(b=p(a),c):b},c};var dv=d3.map({circle:du,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+ -3*b+","+ -b+"H"+ -b+"V"+ -3*b+"H"+b+"V"+ -b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+ -b+"V"+b+"H"+ -3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*dx)),c=b*dx;return"M0,"+ -b+"L"+c+",0"+" 0,"+b+" "+ -c+",0"+"Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+ -b+","+ -b+"L"+b+","+ -b+" "+b+","+b+" "+ -b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/dw),c=b*dw/2;return"M0,"+c+"L"+b+","+ -c+" "+ -b+","+ -c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/dw),c=b*dw/2;return"M0,"+ -c+"L"+b+","+c+" "+ -b+","+c+"Z"}});d3.svg.symbolTypes=dv.keys();var dw=Math.sqrt(3),dx=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function k(k){k.each(function(){var k=d3.select(this),l=h==null?a.ticks?a.ticks.apply(a,g):a.domain():h,m=i==null?a.tickFormat?a.tickFormat.apply(a,g):String:i,n=dA(a,l,j),o=k.selectAll(".minor").data(n,String),p=o.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),q=d3.transition(o.exit()).style("opacity",1e-6).remove(),r=d3.transition(o).style("opacity",1),s=k.selectAll("g").data(l,String),t=s.enter().insert("g","path").style("opacity",1e-6),u=d3.transition(s.exit()).style("opacity",1e-6).remove(),v=d3.transition(s).style("opacity",1),w,x=cf(a),y=k.selectAll(".domain").data([0]),z=y.enter().append("path").attr("class","domain"),A=d3.transition(y),B=a.copy(),C=this.__chart__||B;this.__chart__=B,t.append("line").attr("class","tick"),t.append("text");var D=t.select("line"),E=v.select("line"),F=s.select("text").text(m),G=t.select("text"),H=v.select("text");switch(b){case"bottom":w=dy,p.attr("y2",d),r.attr("x2",0).attr("y2",d),D.attr("y2",c),G.attr("y",Math.max(c,0)+f),E.attr("x2",0).attr("y2",c),H.attr("x",0).attr("y",Math.max(c,0)+f),F.attr("dy",".71em").attr("text-anchor","middle"),A.attr("d","M"+x[0]+","+e+"V0H"+x[1]+"V"+e);break;case"top":w=dy,p.attr("y2",-d),r.attr("x2",0).attr("y2",-d),D.attr("y2",-c),G.attr("y",-(Math.max(c,0)+f)),E.attr("x2",0).attr("y2",-c),H.attr("x",0).attr("y",-(Math.max(c,0)+f)),F.attr("dy","0em").attr("text-anchor","middle"),A.attr("d","M"+x[0]+","+ -e+"V0H"+x[1]+"V"+ -e);break;case"left":w=dz,p.attr("x2",-d),r.attr("x2",-d).attr("y2",0),D.attr("x2",-c),G.attr("x",-(Math.max(c,0)+f)),E.attr("x2",-c).attr("y2",0),H.attr("x",-(Math.max(c,0)+f)).attr("y",0),F.attr("dy",".32em").attr("text-anchor","end"),A.attr("d","M"+ -e+","+x[0]+"H0V"+x[1]+"H"+ -e);break;case"right":w=dz,p.attr("x2",d),r.attr("x2",d).attr("y2",0),D.attr("x2",c),G.attr("x",Math.max(c,0)+f),E.attr("x2",c).attr("y2",0),H.attr("x",Math.max(c,0)+f).attr("y",0),F.attr("dy",".32em").attr("text-anchor","start"),A.attr("d","M"+e+","+x[0]+"H0V"+x[1]+"H"+e)}if(a.ticks)t.call(w,C),v.call(w,B),u.call(w,B),p.call(w,C),r.call(w,B),q.call(w,B);else{var I=B.rangeBand()/2,J=function(a){return B(a)+I};t.call(w,J),v.call(w,J)}})}var a=d3.scale.linear(),b="bottom",c=6,d=6,e=6,f=3,g=[10],h=null,i,j=0;return k.scale=function(b){return arguments.length?(a=b,k):a},k.orient=function(a){return arguments.length?(b=a,k):b},k.ticks=function(){return arguments.length?(g=arguments,k):g},k.tickValues=function(a){return arguments.length?(h=a,k):h},k.tickFormat=function(a){return arguments.length?(i=a,k):i},k.tickSize=function(a,b,f){if(!arguments.length)return c;var g=arguments.length-1;return c=+a,d=g>1?+b:c,e=g>0?+arguments[g]:c,k},k.tickPadding=function(a){return arguments.length?(f=+a,k):f},k.tickSubdivide=function(a){return arguments.length?(j=+a,k):j},k},d3.svg.brush=function(){function g(a){a.each(function(){var a=d3.select(this),e=a.selectAll(".background").data([0]),f=a.selectAll(".extent").data([0]),l=a.selectAll(".resize").data(d,String),m;a.style("pointer-events","all").on("mousedown.brush",k).on("touchstart.brush",k),e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.enter().append("rect").attr("class","extent").style("cursor","move"),l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return dB[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",g.empty()?"none":null),l.exit().remove(),b&&(m=cf(b),e.attr("x",m[0]).attr("width",m[1]-m[0]),i(a)),c&&(m=cf(c),e.attr("y",m[0]).attr("height",m[1]-m[0]),j(a)),h(a)})}function h(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+e[+/e$/.test(a)][0]+","+e[+/^s/.test(a)][1]+")"})}function i(a){a.select(".extent").attr("x",e[0][0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",e[1][0]-e[0][0])}function j(a){a.select(".extent").attr("y",e[0][1]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",e[1][1]-e[0][1])}function k(){function x(){var a=d3.event.changedTouches;return a?d3.touches(d,a)[0]:d3.mouse(d)}function y(){d3.event.keyCode==32&&(q||(r=null,s[0]-=e[1][0],s[1]-=e[1][1],q=2),Y())}function z(){d3.event.keyCode==32&&q==2&&(s[0]+=e[1][0],s[1]+=e[1][1],q=0,Y())}function A(){var a=x(),d=!1;t&&(a[0]+=t[0],a[1]+=t[1]),q||(d3.event.altKey?(r||(r=[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]),s[0]=e[+(a[0]<r[0])][0],s[1]=e[+(a[1]<r[1])][1]):r=null),o&&B(a,b,0)&&(i(m),d=!0),p&&B(a,c,1)&&(j(m),d=!0),d&&(h(m),l({type:"brush",mode:q?"move":"resize"}))}function B(a,b,c){var d=cf(b),g=d[0],h=d[1],i=s[c],j=e[1][c]-e[0][c],k,l;q&&(g-=i,h-=j+i),k=Math.max(g,Math.min(h,a[c])),q?l=(k+=i)+j:(r&&(i=Math.max(g,Math.min(h,2*r[c]-k))),i<k?(l=k,k=i):l=i);if(e[0][c]!==k||e[1][c]!==l)return f=null,e[0][c]=k,e[1][c]=l,!0}function C(){A(),m.style("pointer-events","all").selectAll(".resize").style("display",g.empty()?"none":null),d3.select("body").style("cursor",null),u.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l({type:"brushend"}),Y()}var d=this,k=d3.select(d3.event.target),l=a.of(d,arguments),m=d3.select(d),n=k.datum(),o=!/^(n|s)$/.test(n)&&b,p=!/^(e|w)$/.test(n)&&c,q=k.classed("extent"),r,s=x(),t,u=d3.select(window).on("mousemove.brush",A).on("mouseup.brush",C).on("touchmove.brush",A).on("touchend.brush",C).on("keydown.brush",y).on("keyup.brush",z);if(q)s[0]=e[0][0]-s[0],s[1]=e[0][1]-s[1];else if(n){var v=+/w$/.test(n),w=+/^n/.test(n);t=[e[1-v][0]-s[0],e[1-w][1]-s[1]],s[0]=e[v][0],s[1]=e[w][1]}else d3.event.altKey&&(r=s.slice());m.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",k.style("cursor")),l({type:"brushstart"}),A(),Y()}var a=$(g,"brushstart","brush","brushend"),b=null,c=null,d=dC[0],e=[[0,0],[0,0]],f;return g.x=function(a){return arguments.length?(b=a,d=dC[!b<<1|!c],g):b},g.y=function(a){return arguments.length?(c=a,d=dC[!b<<1|!c],g):c},g.extent=function(a){var d,h,i,j,k;return arguments.length?(f=[[0,0],[0,0]],b&&(d=a[0],h=a[1],c&&(d=d[0],h=h[0]),f[0][0]=d,f[1][0]=h,b.invert&&(d=b(d),h=b(h)),h<d&&(k=d,d=h,h=k),e[0][0]=d|0,e[1][0]=h|0),c&&(i=a[0],j=a[1],b&&(i=i[1],j=j[1]),f[0][1]=i,f[1][1]=j,c.invert&&(i=c(i),j=c(j)),j<i&&(k=i,i=j,j=k),e[0][1]=i|0,e[1][1]=j|0),g):(a=f||e,b&&(d=a[0][0],h=a[1][0],f||(d=e[0][0],h=e[1][0],b.invert&&(d=b.invert(d),h=b.invert(h)),h<d&&(k=d,d=h,h=k))),c&&(i=a[0][1],j=a[1][1],f||(i=e[0][1],j=e[1][1],c.invert&&(i=c.invert(i),j=c.invert(j)),j<i&&(k=i,i=j,j=k))),b&&c?[[d,i],[h,j]]:b?[d,h]:c&&[i,j])},g.clear=function(){return f=null,e[0][0]=e[0][1]=e[1][0]=e[1][1]=0,g},g.empty=function(){return b&&e[0][0]===e[1][0]||c&&e[0][1]===e[1][1]},d3.rebind(g,a,"on")};var dB={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},dC=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function c(){this.on("mousedown.drag",d).on("touchstart.drag",d)}function d(){function j(){var a=c.parentNode,b=d3.event.changedTouches;return b?d3.touches(a,b)[0]:d3.mouse(a)}function k(){if(!c.parentNode)return l();var a=j(),b=a[0]-g[0],e=a[1]-g[1];h|=b|e,g=a,Y(),d({type:"drag",x:a[0]+f[0],y:a[1]+f[1],dx:b,dy:e})}function l(){d({type:"dragend"}),h&&(Y(),d3.event.target===e&&i.on("click.drag",m,!0)),i.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function m(){Y(),i.on("click.drag",null)}var c=this,d=a.of(c,arguments),e=d3.event.target,f,g=j(),h=0,i=d3.select(window).on("mousemove.drag",k).on("touchmove.drag",k).on("mouseup.drag",l,!0).on("touchend.drag",l,!0);b?(f=b.apply(c,arguments),f=[f.x-g[0],f.y-g[1]]):f=[0,0],Y(),d({type:"dragstart"})}var a=$(c,"drag","dragstart","dragend"),b=null;return c.origin=function(a){return arguments.length?(b=a,c):b},d3.rebind(c,a,"on")},d3.behavior.zoom=function(){function l(){this.on("mousedown.zoom",r).on("mousewheel.zoom",s).on("mousemove.zoom",t).on("DOMMouseScroll.zoom",s).on("dblclick.zoom",u).on("touchstart.zoom",v).on("touchmove.zoom",w).on("touchend.zoom",v)}function m(b){return[(b[0]-a[0])/c,(b[1]-a[1])/c]}function n(b){return[b[0]*c+a[0],b[1]*c+a[1]]}function o(a){c=Math.max(e[0],Math.min(e[1],a))}function p(b,c){c=n(c),a[0]+=b[0]-c[0],a[1]+=b[1]-c[1]}function q(b){h&&h.domain(g.range().map(function(b){return(b-a[0])/c}).map(g.invert)),j&&j.domain(i.range().map(function(b){return(b-a[1])/c}).map(i.invert)),d3.event.preventDefault(),b({type:"zoom",scale:c,translate:a})}function r(){function h(){d=1,p(d3.mouse(a),g),q(b)}function i(){d&&Y(),e.on("mousemove.zoom",null).on("mouseup.zoom",null),d&&d3.event.target===c&&e.on("click.zoom",j,!0)}function j(){Y(),e.on("click.zoom",null)}var a=this,b=f.of(a,arguments),c=d3.event.target,d=0,e=d3.select(window).on("mousemove.zoom",h).on("mouseup.zoom",i),g=m(d3.mouse(a));window.focus(),Y()}function s(){b||(b=m(d3.mouse(this))),o(Math.pow(2,dF()*.002)*c),p(d3.mouse(this),b),q(f.of(this,arguments))}function t(){b=null}function u(){var a=d3.mouse(this),b=m(a);o(d3.event.shiftKey?c/2:c*2),p(a,b),q(f.of(this,arguments))}function v(){var a=d3.touches(this),e=Date.now();d=c,b={},a.forEach(function(a){b[a.identifier]=m(a)}),Y();if(a.length===1&&e-k<500){var g=a[0],h=m(a[0]);o(c*2),p(g,h),q(f.of(this,arguments))}k=e}function w(){var a=d3.touches(this),c=a[0],e=b[c.identifier];if(g=a[1]){var g,h=b[g.identifier];c=[(c[0]+g[0])/2,(c[1]+g[1])/2],e=[(e[0]+h[0])/2,(e[1]+h[1])/2],o(d3.event.scale*d)}p(c,e),q(f.of(this,arguments))}var a=[0,0],b,c=1,d,e=dE,f=$(l,"zoom"),g,h,i,j,k;return l.translate=function(b){return arguments.length?(a=b.map(Number),l):a},l.scale=function(a){return arguments.length?(c=+a,l):c},l.scaleExtent=function(a){return arguments.length?(e=a==null?dE:a.map(Number),l):e},l.x=function(a){return arguments.length?(h=a,g=a.copy(),l):h},l.y=function(a){return arguments.length?(j=a,i=a.copy(),l):j},d3.rebind(l,f,"on")};var dD,dE=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(a){var b=[],c=-1,d=a.length;while(++c<d)b.push(dG(a[c]));return b}},d3.layout.chord=function(){function j(){var a={},j=[],l=d3.range(e),m=[],n,o,p,q,r;b=[],c=[],n=0,q=-1;while(++q<e){o=0,r=-1;while(++r<e)o+=d[q][r];j.push(o),m.push(d3.range(e)),n+=o}g&&l.sort(function(a,b){return g(j[a],j[b])}),h&&m.forEach(function(a,b){a.sort(function(a,c){return h(d[b][a],d[b][c])})}),n=(2*Math.PI-f*e)/n,o=0,q=-1;while(++q<e){p=o,r=-1;while(++r<e){var s=l[q],t=m[s][r],u=d[s][t],v=o,w=o+=u*n;a[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}c[s]={index:s,startAngle:p,endAngle:o,value:(o-p)/n},o+=f}q=-1;while(++q<e){r=q-1;while(++r<e){var x=a[q+"-"+r],y=a[r+"-"+q];(x.value||y.value)&&b.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}}i&&k()}function k(){b.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var a={},b,c,d,e,f=0,g,h,i;return a.matrix=function(f){return arguments.length?(e=(d=f)&&d.length,b=c=null,a):d},a.padding=function(d){return arguments.length?(f=d,b=c=null,a):f},a.sortGroups=function(d){return arguments.length?(g=d,b=c=null,a):g},a.sortSubgroups=function(c){return arguments.length?(h=c,b=null,a):h},a.sortChords=function(c){return arguments.length?(i=c,b&&k(),a):i},a.chords=function(){return b||j(),b},a.groups=function(){return c||j(),c},a},d3.layout.force=function(){function t(a){return function(b,c,d,e,f){if(b.point!==a){var g=b.cx-a.x,h=b.cy-a.y,i=1/Math.sqrt(g*g+h*h);if((e-c)*i<k){var j=b.charge*i*i;return a.px-=g*j,a.py-=h*j,!0}if(b.point&&isFinite(i)){var j=b.pointCharge*i*i;a.px-=g*j,a.py-=h*j}}return!b.charge}}function u(b){dL(dK=b),dJ=a}var a={},b=d3.dispatch("start","tick","end"),c=[1,1],d,e,f=.9,g=dQ,h=dR,i=-30,j=.1,k=.8,l,n=[],o=[],q,r,s;return a.tick=function(){if((e*=.99)<.005)return b.end({type:"end",alpha:e=0}),!0;var a=n.length,d=o.length,g,h,k,l,m,p,u,v,w;for(h=0;h<d;++h){k=o[h],l=k.source,m=k.target,v=m.x-l.x,w=m.y-l.y;if(p=v*v+w*w)p=e*r[h]*((p=Math.sqrt(p))-q[h])/p,v*=p,w*=p,m.x-=v*(u=l.weight/(m.weight+l.weight)),m.y-=w*u,l.x+=v*(u=1-u),l.y+=w*u}if(u=e*j){v=c[0]/2,w=c[1]/2,h=-1;if(u)while(++h<a)k=n[h],k.x+=(v-k.x)*u,k.y+=(w-k.y)*u}if(i){dP(g=d3.geom.quadtree(n),e,s),h=-1;while(++h<a)(k=n[h]).fixed||g.visit(t(k))}h=-1;while(++h<a)k=n[h],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*f,k.y-=(k.py-(k.py=k.y))*f);b.tick({type:"tick",alpha:e})},a.nodes=function(b){return arguments.length?(n=b,a):n},a.links=function(b){return arguments.length?(o=b,a):o},a.size=function(b){return arguments.length?(c=b,a):c},a.linkDistance=function(b){return arguments.length?(g=p(b),a):g},a.distance=a.linkDistance,a.linkStrength=function(b){return arguments.length?(h=p(b),a):h},a.friction=function(b){return arguments.length?(f=b,a):f},a.charge=function(b){return arguments.length?(i=typeof b=="function"?b:+b,a):i},a.gravity=function(b){return arguments.length?(j=b,a):j},a.theta=function(b){return arguments.length?(k=b,a):k},a.alpha=function(c){return arguments.length?(e?c>0?e=c:e=0:c>0&&(b.start({type:"start",alpha:e=c}),d3.timer(a.tick)),a):e},a.start=function(){function p(a,c){var d=t(b),e=-1,f=d.length,g;while(++e<f)if(!isNaN(g=d[e][a]))return g;return Math.random()*c}function t(){if(!l){l=[];for(d=0;d<e;++d)l[d]=[];for(d=0;d<f;++d){var a=o[d];l[a.source.index].push(a.target),l[a.target.index].push(a.source)}}return l[b]}var b,d,e=n.length,f=o.length,j=c[0],k=c[1],l,m;for(b=0;b<e;++b)(m=n[b]).index=b,m.weight=0;q=[],r=[];for(b=0;b<f;++b)m=o[b],typeof m.source=="number"&&(m.source=n[m.source]),typeof m.target=="number"&&(m.target=n[m.target]),q[b]=g.call(this,m,b),r[b]=h.call(this,m,b),++m.source.weight,++m.target.weight;for(b=0;b<e;++b)m=n[b],isNaN(m.x)&&(m.x=p("x",j)),isNaN(m.y)&&(m.y=p("y",k)),isNaN(m.px)&&(m.px=m.x),isNaN(m.py)&&(m.py=m.y);s=[];if(typeof i=="function")for(b=0;b<e;++b)s[b]=+i.call(this,n[b],b);else for(b=0;b<e;++b)s[b]=i;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){d||(d=d3.behavior.drag().origin(m).on("dragstart",u).on("drag",dO).on("dragend",dN)),this.on("mouseover.force",dL).on("mouseout.force",dM).call(d)},d3.rebind(a,b,"on")};var dJ,dK;d3.layout.partition=function(){function c(a,b,d,e){var f=a.children;a.x=b,a.y=a.depth*e,a.dx=d,a.dy=e;if(f&&(h=f.length)){var g=-1,h,i,j;d=a.value?d/a.value:0;while(++g<h)c(i=f[g],b,j=i.value*d,e),b+=j}}function d(a){var b=a.children,c=0;if(b&&(f=b.length)){var e=-1,f;while(++e<f)c=Math.max(c,d(b[e]))}return 1+c}function e(e,f){var g=a.call(this,e,f);return c(g[0],0,b[0],b[1]/d(g[0])),g}var a=d3.layout.hierarchy(),b=[1,1];return e.size=function(a){return arguments.length?(b=a,e):b},ee(e,a)},d3.layout.pie=function(){function e(f,g){var h=f.map(function(b,c){return+a.call(e,b,c)}),i=+(typeof c=="function"?c.apply(this,arguments):c),j=((typeof d=="function"?d.apply(this,arguments):d)-c)/d3.sum(h),k=d3.range(f.length);b!=null&&k.sort(b===dS?function(a,b){return h[b]-h[a]}:function(a,c){return b(f[a],f[c])});var l=[];return k.forEach(function(a){var b;l[a]={data:f[a],value:b=h[a],startAngle:i,endAngle:i+=b*j}}),l}var a=Number,b=dS,c=0,d=2*Math.PI;return e.value=function(b){return arguments.length?(a=b,e):a},e.sort=function(a){return arguments.length?(b=a,e):b},e.startAngle=function(a){return arguments.length?(c=a,e):c},e.endAngle=function(a){return arguments.length?(d=a,e):d},e};var dS={};d3.layout.stack=function(){function g(h,i){var j=h.map(function(b,c){return a.call(g,b,c)}),k=j.map(function(a,b){return a.map(function(a,b){return[e.call(g,a,b),f.call(g,a,b)]})}),l=b.call(g,k,i);j=d3.permute(j,l),k=d3.permute(k,l);var m=c.call(g,k,i),n=j.length,o=j[0].length,p,q,r;for(q=0;q<o;++q){d.call(g,j[0][q],r=m[q],k[0][q][1]);for(p=1;p<n;++p)d.call(g,j[p][q],r+=k[p-1][q][1],k[p][q][1])}return h}var a=m,b=dY,c=dZ,d=dV,e=dT,f=dU;return g.values=function(b){return arguments.length?(a=b,g):a},g.order=function(a){return arguments.length?(b=typeof a=="function"?a:dW.get(a)||dY,g):b},g.offset=function(a){return arguments.length?(c=typeof a=="function"?a:dX.get(a)||dZ,g):c},g.x=function(a){return arguments.length?(e=a,g):e},g.y=function(a){return arguments.length?(f=a,g):f},g.out=function(a){return arguments.length?(d=a,g):d},g};var dW=d3.map({"inside-out":function(a){var b=a.length,c,d,e=a.map(d$),f=a.map(d_),g=d3.range(b).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(c=0;c<b;++c)d=g[c],h<i?(h+=f[d],j.push(d)):(i+=f[d],k.push(d));return k.reverse().concat(j)},reverse:function(a){return d3.range(a.length).reverse()},"default":dY}),dX=d3.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,g,h,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;g<c;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e=0,f,g,h,i,j,k,l,m,n,o=[];o[0]=m=n=0;for(g=1;g<d;++g){for(f=0,i=0;f<b;++f)i+=a[f][g][1];for(f=0,j=0,l=c[g][0]-c[g-1][0];f<b;++f){for(h=0,k=(a[f][g][1]-a[f][g-1][1])/(2*l);h<f;++h)k+=(a[h][g][1]-a[h][g-1][1])/l;j+=k*a[f][g][1]}o[g]=m-=i?j/i*l:0,m<n&&(n=m)}for(g=0;g<d;++g)o[g]-=n;return o},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,g,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:dZ});d3.layout.histogram=function(){function e(e,f){var g=[],h=e.map(b,this),i=c.call(this,h,f),j=d.call(this,i,h,f),k,f=-1,l=h.length,m=j.length-1,n=a?1:1/l,o;while(++f<m)k=g[f]=[],k.dx=j[f+1]-(k.x=j[f]),k.y=0;if(m>0){f=-1;while(++f<l)o=h[f],o>=i[0]&&o<=i[1]&&(k=g[d3.bisect(j,o,1,m)-1],k.y+=n,k.push(e[f]))}return g}var a=!0,b=Number,c=ed,d=eb;return e.value=function(a){return arguments.length?(b=a,e):b},e.range=function(a){return arguments.length?(c=p(a),e):c},e.bins=function(a){return arguments.length?(d=typeof a=="number"?function(b){return ec(b,a)}:p(a),e):d},e.frequency=function(b){return arguments.length?(a=!!b,e):a},e},d3.layout.hierarchy=function(){function d(e,g,h){var i=b.call(f,e,g),j=ej?e:{data:e};j.depth=g,h.push(j);if(i&&(l=i.length)){var k=-1,l,m=j.children=[],n=0,o=g+1,p;while(++k<l)p=d(i[k],o,h),p.parent=j,m.push(p),n+=p.value;a&&m.sort(a),c&&(j.value=n)}else c&&(j.value=+c.call(f,e,g)||0);return j}function e(a,b){var d=a.children,g=0;if(d&&(i=d.length)){var h=-1,i,j=b+1;while(++h<i)g+=e(d[h],j)}else c&&(g=+c.call(f,ej?a:a.data,b)||0);return c&&(a.value=g),g}function f(a){var b=[];return d(a,0,b),b}var a=eh,b=ef,c=eg;return f.sort=function(b){return arguments.length?(a=b,f):a},f.children=function(a){return arguments.length?(b=a,f):b},f.value=function(a){return arguments.length?(c=a,f):c},f.revalue=function(a){return e(a,0),a},f};var ej=!1;d3.layout.pack=function(){function c(c,d){var e=a.call(this,c,d),f=e[0];f.x=0,f.y=0,er(f);var g=b[0],h=b[1],i=1/Math.max(2*f.r/g,2*f.r/h);return es(f,g/2,h/2,i),e}var a=d3.layout.hierarchy().sort(ek),b=[1,1];return c.size=function(a){return arguments.length?(b=a,c):b},ee(c,a)},d3.layout.cluster=function(){function d(d,e){var f=a.call(this,d,e),g=f[0],h,i=0,j,k;eF(g,function(a){var c=a.children;c&&c.length?(a.x=ev(c),a.y=eu(c)):(a.x=h?i+=b(a,h):0,a.y=0,h=a)});var l=ew(g),m=ex(g),n=l.x-b(l,m)/2,o=m.x+b(m,l)/2;return eF(g,function(a){a.x=(a.x-n)/(o-n)*c[0],a.y=(1-(g.y?a.y/g.y:1))*c[1]}),f}var a=d3.layout.hierarchy().sort(null).value(null),b=ey,c=[1,1];return d.separation=function(a){return arguments.length?(b=a,d):b},d.size=function(a){return arguments.length?(c=a,d):c},ee(d,a)},d3.layout.tree=function(){function d(d,e){function h(a,c){var d=a.children,e=a._tree;if(d&&(f=d.length)){var f,g=d[0],i,k=g,l,m=-1;while(++m<f)l=d[m],h(l,i),k=j(l,i,k),i=l;eG(a);var n=.5*(g._tree.prelim+l._tree.prelim);c?(e.prelim=c._tree.prelim+b(a,c),e.mod=e.prelim-n):e.prelim=n}else c&&(e.prelim=c._tree.prelim+b(a,c))}function i(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(e=c.length)){var d=-1,e;b+=a._tree.mod;while(++d<e)i(c[d],b)}}function j(a,c,d){if(c){var e=a,f=a,g=c,h=a.parent.children[0],i=e._tree.mod,j=f._tree.mod,k=g._tree.mod,l=h._tree.mod,m;while(g=eA(g),e=ez(e),g&&e)h=ez(h),f=eA(f),f._tree.ancestor=a,m=g._tree.prelim+k-e._tree.prelim-i+b(g,e),m>0&&(eH(eI(g,a,d),a,m),i+=m,j+=m),k+=g._tree.mod,i+=e._tree.mod,l+=h._tree.mod,j+=f._tree.mod;g&&!eA(f)&&(f._tree.thread=g,f._tree.mod+=k-j),e&&!ez(h)&&(h._tree.thread=e,h._tree.mod+=i-l,d=a)}return d}var f=a.call(this,d,e),g=f[0];eF(g,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),h(g),i(g,-g._tree.prelim);var k=eB(g,eD),l=eB(g,eC),m=eB(g,eE),n=k.x-b(k,l)/2,o=l.x+b(l,k)/2,p=m.depth||1;return eF(g,function(a){a.x=(a.x-n)/(o-n)*c[0],a.y=a.depth/p*c[1],delete a._tree}),f}var a=d3.layout.hierarchy().sort(null).value(null),b=ey,c=[1,1];return d.separation=function(a){return arguments.length?(b=a,d):b},d.size=function(a){return arguments.length?(c=a,d):c},ee(d,a)},d3.layout.treemap=function(){function i(a,b){var c=-1,d=a.length,e,f;while(++c<d)f=(e=a[c]).value*(b<0?0:b),e.area=isNaN(f)||f<=0?0:f}function j(a){var b=a.children;if(b&&b.length){var c=e(a),d=[],f=b.slice(),g,h=Infinity,k,n=Math.min(c.dx,c.dy),o;i(f,c.dx*c.dy/a.value),d.area=0;while((o=f.length)>0)d.push(g=f[o-1]),d.area+=g.area,(k=l(d,n))<=h?(f.pop(),h=k):(d.area-=d.pop().area,m(d,n,c,!1),n=Math.min(c.dx,c.dy),d.length=d.area=0,h=Infinity);d.length&&(m(d,n,c,!0),d.length=d.area=0),b.forEach(j)}}function k(a){var b=a.children;if(b&&b.length){var c=e(a),d=b.slice(),f,g=[];i(d,c.dx*c.dy/a.value),g.area=0;while(f=d.pop())g.push(f),g.area+=f.area,f.z!=null&&(m(g,f.z?c.dx:c.dy,c,!d.length),g.length=g.area=0);b.forEach(k)}}function l(a,b){var c=a.area,d,e=0,f=Infinity,g=-1,i=a.length;while(++g<i){if(!(d=a[g].area))continue;d<f&&(f=d),d>e&&(e=d)}return c*=c,b*=b,c?Math.max(b*e*h/c,c/(b*f*h)):Infinity}function m(a,c,d,e){var f=-1,g=a.length,h=d.x,i=d.y,j=c?b(a.area/c):0,k;if(c==d.dx){if(e||j>d.dy)j=d.dy;while(++f<g)k=a[f],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(d.x+d.dx-h,j?b(k.area/j):0);k.z=!0,k.dx+=d.x+d.dx-h,d.y+=j,d.dy-=j}else{if(e||j>d.dx)j=d.dx;while(++f<g)k=a[f],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(d.y+d.dy-i,j?b(k.area/j):0);k.z=!1,k.dy+=d.y+d.dy-i,d.x+=j,d.dx-=j}}function n(b){var d=g||a(b),e=d[0];return e.x=0,e.y=0,e.dx=c[0],e.dy=c[1],g&&a.revalue(e),i([e],e.dx*e.dy/e.value),(g?k:j)(e),f&&(g=d),d}var a=d3.layout.hierarchy(),b=Math.round,c=[1,1],d=null,e=eJ,f=!1,g,h=.5*(1+Math.sqrt(5));return n.size=function(a){return arguments.length?(c=a,n):c},n.padding=function(a){function b(b){var c=a.call(n,b,b.depth);return c==null?eJ(b):eK(b,typeof c=="number"?[c,c,c,c]:c)}function c(b){return eK(b,a)}if(!arguments.length)return d;var f;return e=(d=a)==null?eJ:(f=typeof a)==="function"?b:f==="number"?(a=[a,a,a,a],c):c,n},n.round=function(a){return arguments.length?(b=a?Math.round:Number,n):b!=Number},n.sticky=function(a){return arguments.length?(f=a,g=null,n):f},n.ratio=function(a){return arguments.length?(h=a,n):h},ee(n,a)},d3.csv=function(a,b){d3.text(a,"text/csv",function(a){b(a&&d3.csv.parse(a))})},d3.csv.parse=function(a){var b;return d3.csv.parseRows(a,function(a,c){if(c){var d={},e=-1,f=b.length;while(++e<f)d[b[e]]=a[e];return d}return b=a,null})},d3.csv.parseRows=function(a,b){function j(){if(f.lastIndex>=a.length)return d;if(i)return i=!1,c;var b=f.lastIndex;if(a.charCodeAt(b)===34){var e=b;while(e++<a.length)if(a.charCodeAt(e)===34){if(a.charCodeAt(e+1)!==34)break;e++}f.lastIndex=e+2;var g=a.charCodeAt(e+1);return g===13?(i=!0,a.charCodeAt(e+2)===10&&f.lastIndex++):g===10&&(i=!0),a.substring(b+1,e).replace(/""/g,'"')}var h=f.exec(a);return h?(i=h[0].charCodeAt(0)!==44,a.substring(b,h.index)):(f.lastIndex=a.length,a.substring(b))}var c={},d={},e=[],f=/\r\n|[,\r\n]/g,g=0,h,i;f.lastIndex=0;while((h=j())!==d){var k=[];while(h!==c&&h!==d)k.push(h),h=j();if(b&&!(k=b(k,g++)))continue;e.push(k)}return e},d3.csv.format=function(a){return a.map(eL).join("\n")},d3.geo={};var eN=Math.PI/180;d3.geo.azimuthal=function(){function i(b){var f=b[0]*eN-e,i=b[1]*eN,j=Math.cos(f),k=Math.sin(f),l=Math.cos(i),m=Math.sin(i),n=a!=="orthographic"?h*m+g*l*j:null,o,p=a==="stereographic"?1/(1+n):a==="gnomonic"?1/n:a==="equidistant"?(o=Math.acos(n),o?o/Math.sin(o):0):a==="equalarea"?Math.sqrt(2/(1+n)):1,q=p*l*k,r=p*(h*l*j-g*m);return[c*q+d[0],c*r+d[1]]}var a="orthographic",b,c=200,d=[480,250],e,f,g,h;return i.invert=function(b){var f=(b[0]-d[0])/c,i=(b[1]-d[1])/c,j=Math.sqrt(f*f+i*i),k=a==="stereographic"?2*Math.atan(j):a==="gnomonic"?Math.atan(j):a==="equidistant"?j:a==="equalarea"?2*Math.asin(.5*j):Math.asin(j),l=Math.sin(k),m=Math.cos(k);return[(e+Math.atan2(f*l,j*g*m+i*h*l))/eN,Math.asin(m*h-(j?i*l*g/j:0))/eN]},i.mode=function(b){return arguments.length?(a=b+"",i):a},i.origin=function(a){return arguments.length?(b=a,e=b[0]*eN,f=b[1]*eN,g=Math.cos(f),h=Math.sin(f),i):b},i.scale=function(a){return arguments.length?(c=+a,i):c},i.translate=function(a){return arguments.length?(d=[+a[0],+a[1]],i):d},i.origin([0,0])},d3.geo.albers=function(){function i(a){var b=f*(eN*a[0]-e),i=Math.sqrt(g-2*f*Math.sin(eN*a[1]))/f;return[c*i*Math.sin(b)+d[0],c*(i*Math.cos(b)-h)+d[1]]}function j(){var c=eN*b[0],d=eN*b[1],j=eN*a[1],k=Math.sin(c),l=Math.cos(c);return e=eN*a[0],f=.5*(k+Math.sin(d)),g=l*l+2*f*k,h=Math.sqrt(g-2*f*Math.sin(j))/f,i}var a=[-98,38],b=[29.5,45.5],c=1e3,d=[480,250],e,f,g,h;return i.invert=function(a){var b=(a[0]-d[0])/c,i=(a[1]-d[1])/c,j=h+i,k=Math.atan2(b,j),l=Math.sqrt(b*b+j*j);return[(e+k/f)/eN,Math.asin((g-l*l*f*f)/(2*f))/eN]},i.origin=function(b){return arguments.length?(a=[+b[0],+b[1]],j()):a},i.parallels=function(a){return arguments.length?(b=[+a[0],+a[1]],j()):b},i.scale=function(a){return arguments.length?(c=+a,i):c},i.translate=function(a){return arguments.length?(d=[+a[0],+a[1]],i):d},j()},d3.geo.albersUsa=function(){function e(e){var f=e[0],g=e[1];return(g>50?b:f<-140?c:g<21?d:a)(e)}var a=d3.geo.albers(),b=d3.geo.albers().origin([-160,60]).parallels([55,65]),c=d3.geo.albers().origin([-160,20]).parallels([8,18]),d=d3.geo.albers().origin([-60,10]).parallels([8,18]);return e.scale=function(f){return arguments.length?(a.scale(f),b.scale(f*.6),c.scale(f),d.scale(f*1.5),e.translate(a.translate())):a.scale()},e.translate=function(f){if(!arguments.length)return a.translate();var g=a.scale()/1e3,h=f[0],i=f[1];return a.translate(f),b.translate([h-400*g,i+170*g]),c.translate([h-190*g,i+200*g]),d.translate([h+580*g,i+430*g]),e},e.scale(a.scale())},d3.geo.bonne=function(){function g(g){var h=g[0]*eN-c,i=g[1]*eN-d;if(e){var j=f+e-i,k=h*Math.cos(i)/j;h=j*Math.sin(k),i=j*Math.cos(k)-f}else h*=Math.cos(i),i*=-1;return[a*h+b[0],a*i+b[1]]}var a=200,b=[480,250],c,d,e,f;return g.invert=function(d){var g=(d[0]-b[0])/a,h=(d[1]-b[1])/a;if(e){var i=f+h,j=Math.sqrt(g*g+i*i);h=f+e-j,g=c+j*Math.atan2(g,i)/Math.cos(h)}else h*=-1,g/=Math.cos(h);return[g/eN,h/eN]},g.parallel=function(a){return arguments.length?(f=1/Math.tan(e=a*eN),g):e/eN},g.origin=function(a){return arguments.length?(c=a[0]*eN,d=a[1]*eN,g):[c/eN,d/eN]},g.scale=function(b){return arguments.length?(a=+b,g):a},g.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],g):b},g.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function c(c){var d=c[0]/360,e=-c[1]/360;return[a*d+b[0],a*e+b[1]]}var a=500,b=[480,250];return c.invert=function(c){var d=(c[0]-b[0])/a,e=(c[1]-b[1])/a;return[360*d,-360*e]},c.scale=function(b){return arguments.length?(a=+b,c):a},c.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],c):b},c},d3.geo.mercator=function(){function c(c){var d=c[0]/360,e=-(Math.log(Math.tan(Math.PI/4+c[1]*eN/2))/eN)/360;return[a*d+b[0],a*Math.max(-0.5,Math.min(.5,e))+b[1]]}var a=500,b=[480,250];return c.invert=function(c){var d=(c[0]-b[0])/a,e=(c[1]-b[1])/a;return[360*d,2*Math.atan(Math.exp(-360*e*eN))/eN-90]},c.scale=function(b){return arguments.length?(a=+b,c):a},c.translate=function(a){return arguments.length?(b=[+a[0],+a[1]],c):b},c},d3.geo.path=function(){function e(c,e){typeof a=="function"&&(b=eP(a.apply(this,arguments))),g(c);var f=d.length?d.join(""):null;return d=[],f}function f(a){return c(a).join(",")}function i(a){var b=l(a[0]),c=0,d=a.length;while(++c<d)b-=l(a[c]);return b}function j(a){var b=d3.geom.polygon(a[0].map(c)),d=b.area(),e=b.centroid(d<0?(d*=-1,1):-1),f=e[0],g=e[1],h=d,i=0,j=a.length;while(++i<j)b=d3.geom.polygon(a[i].map(c)),d=b.area(),e=b.centroid(d<0?(d*=-1,1):-1),f-=e[0],g-=e[1],h-=d;return[f,g,6*h]}function l(a){return Math.abs(d3.geom.polygon(a.map(c)).area())}var a=4.5,b=eP(a),c=d3.geo.albersUsa(),d=[],g=eO({FeatureCollection:function(a){var b=a.features,c=-1,e=b.length;while(++c<e)d.push(g(b[c].geometry))},Feature:function(a){g(a.geometry)},Point:function(a){d.push("M",f(a.coordinates),b)},MultiPoint:function(a){var c=a.coordinates,e=-1,g=c.length;while(++e<g)d.push("M",f(c[e]),b)},LineString:function(a){var b=a.coordinates,c=-1,e=b.length;d.push("M");while(++c<e)d.push(f(b[c]),"L");d.pop()},MultiLineString:function(a){var b=a.coordinates,c=-1,e=b.length,g,h,i;while(++c<e){g=b[c],h=-1,i=g.length,d.push("M");while(++h<i)d.push(f(g[h]),"L");d.pop()}},Polygon:function(a){var b=a.coordinates,c=-1,e=b.length,g,h,i;while(++c<e){g=b[c],h=-1;if((i=g.length-1)>0){d.push("M");while(++h<i)d.push(f(g[h]),"L");d[d.length-1]="Z"}}},MultiPolygon:function(a){var b=a.coordinates,c=-1,e=b.length,g,h,i,j,k,l;while(++c<e){g=b[c],h=-1,i=g.length;while(++h<i){j=g[h],k=-1;if((l=j.length-1)>0){d.push("M");while(++k<l)d.push(f(j[k]),"L");d[d.length-1]="Z"}}}},GeometryCollection:function(a){var b=a.geometries,c=-1,e=b.length;while(++c<e)d.push(g(b[c]))}}),h=e.area=eO({FeatureCollection:function(a){var b=0,c=a.features,d=-1,e=c.length;while(++d<e)b+=h(c[d]);return b},Feature:function(a){return h(a.geometry)},Polygon:function(a){return i(a.coordinates)},MultiPolygon:function(a){var b=0,c=a.coordinates,d=-1,e=c.length;while(++d<e)b+=i(c[d]);return b},GeometryCollection:function(a){var b=0,c=a.geometries,d=-1,e=c.length;while(++d<e)b+=h(c[d]);return b}},0),k=e.centroid=eO({Feature:function(a){return k(a.geometry)},Polygon:function(a){var b=j(a.coordinates);return[b[0]/b[2],b[1]/b[2]]},MultiPolygon:function(a){var b=0,c=a.coordinates,d,e=0,f=0,g=0,h=-1,i=c.length;while(++h<i)d=j(c[h]),e+=d[0],f+=d[1],g+=d[2];return[e/g,f/g]}});return e.projection=function(a){return c=a,e},e.pointRadius=function(c){return typeof c=="function"?a=c:(a=+c,b=eP(a)),e},e},d3.geo.bounds=function(a){var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity;return eQ(a,function(a,f){a<b&&(b=a),a>d&&(d=a),f<c&&(c=f),f>e&&(e=f)}),[[b,c],[d,e]]};var eR={Feature:eS,FeatureCollection:eT,GeometryCollection:eU,LineString:eV,MultiLineString:eW,MultiPoint:eV,MultiPolygon:eX,Point:eY,Polygon:eZ};d3.geo.circle=function(){function e(){}function f(a){return d.distance(a)<c}function h(a){var b=-1,e=a.length,f=[],g,h,j,k,l;while(++b<e)l=d.distance(j=a[b]),l<c?(h&&f.push(fb(h,j)((k-c)/(k-l))),f.push(j),g=h=null):(h=j,!g&&f.length&&(f.push(fb(f[f.length-1],h)((c-k)/(l-k))),g=h)),k=l;return g=a[0],h=f[0],h&&j[0]===g[0]&&j[1]===g[1]&&(j[0]!==h[0]||j[1]!==h[1])&&f.push(h),i(f)}function i(a){var b=0,c=a.length,e,f,g=c?[a[0]]:a,h,i=d.source();while(++b<c){h=d.source(a[b-1])(a[b]).coordinates;for(e=0,f=h.length;++e<f;)g.push(h[e])}return d.source(i),g}var a=[0,0],b=89.99,c=b*eN,d=d3.geo.greatArc().source(a).target(m);e.clip=function(b){return typeof a=="function"&&d.source(a.apply(this,arguments)),g(b)||null};var g=eO({FeatureCollection:function(a){var b=a.features.map(g)
.filter(m);return b&&(a=Object.create(a),a.features=b,a)},Feature:function(a){var b=g(a.geometry);return b&&(a=Object.create(a),a.geometry=b,a)},Point:function(a){return f(a.coordinates)&&a},MultiPoint:function(a){var b=a.coordinates.filter(f);return b.length&&{type:a.type,coordinates:b}},LineString:function(a){var b=h(a.coordinates);return b.length&&(a=Object.create(a),a.coordinates=b,a)},MultiLineString:function(a){var b=a.coordinates.map(h).filter(function(a){return a.length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},Polygon:function(a){var b=a.coordinates.map(h);return b[0].length&&(a=Object.create(a),a.coordinates=b,a)},MultiPolygon:function(a){var b=a.coordinates.map(function(a){return a.map(h)}).filter(function(a){return a[0].length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},GeometryCollection:function(a){var b=a.geometries.map(g).filter(m);return b.length&&(a=Object.create(a),a.geometries=b,a)}});return e.origin=function(b){return arguments.length?(a=b,typeof a!="function"&&d.source(a),e):a},e.angle=function(a){return arguments.length?(c=(b=+a)*eN,e):b},d3.rebind(e,d,"precision")},d3.geo.greatArc=function(){function g(){var a=g.distance.apply(this,arguments),c=0,h=e/a,i=[b];while((c+=h)<1)i.push(f(c));return i.push(d),{type:"LineString",coordinates:i}}var a=e$,b,c=e_,d,e=6*eN,f=fa();return g.distance=function(){return typeof a=="function"&&f.source(b=a.apply(this,arguments)),typeof c=="function"&&f.target(d=c.apply(this,arguments)),f.distance()},g.source=function(c){return arguments.length?(a=c,typeof a!="function"&&f.source(b=a),g):a},g.target=function(a){return arguments.length?(c=a,typeof c!="function"&&f.target(d=c),g):c},g.precision=function(a){return arguments.length?(e=a*eN,g):e/eN},g},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(a,b){var c=b||fe(a),d=[],e=c[0],f=c[1],g=0,h=0,i=NaN,j=NaN,k=0;do k=0,a(e-1,f-1)&&(k+=1),a(e,f-1)&&(k+=2),a(e-1,f)&&(k+=4),a(e,f)&&(k+=8),k===6?(g=j===-1?-1:1,h=0):k===9?(g=0,h=i===1?-1:1):(g=fc[k],h=fd[k]),g!=i&&h!=j&&(d.push([e,f]),i=g,j=h),e+=g,f+=h;while(c[0]!=e||c[1]!=f);return d};var fc=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],fd=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(a){if(a.length<3)return[];var b=a.length,c=b-1,d=[],e=[],f,g,h=0,i,j,k,l,m,n,o,p;for(f=1;f<b;++f)a[f][1]<a[h][1]?h=f:a[f][1]==a[h][1]&&(h=a[f][0]<a[h][0]?f:h);for(f=0;f<b;++f){if(f===h)continue;j=a[f][1]-a[h][1],i=a[f][0]-a[h][0],d.push({angle:Math.atan2(j,i),index:f})}d.sort(function(a,b){return a.angle-b.angle}),o=d[0].angle,n=d[0].index,m=0;for(f=1;f<c;++f)g=d[f].index,o==d[f].angle?(i=a[n][0]-a[h][0],j=a[n][1]-a[h][1],k=a[g][0]-a[h][0],l=a[g][1]-a[h][1],i*i+j*j>=k*k+l*l?d[f].index=-1:(d[m].index=-1,o=d[f].angle,m=f,n=g)):(o=d[f].angle,m=f,n=g);e.push(h);for(f=0,g=0;f<2;++g)d[g].index!==-1&&(e.push(d[g].index),f++);p=e.length;for(;g<c;++g){if(d[g].index===-1)continue;while(!ff(e[p-2],e[p-1],d[g].index,a))--p;e[p++]=d[g].index}var q=[];for(f=0;f<p;++f)q.push(a[e[f]]);return q},d3.geom.polygon=function(a){return a.area=function(){var b=0,c=a.length,d=a[c-1][0]*a[0][1],e=a[c-1][1]*a[0][0];while(++b<c)d+=a[b-1][0]*a[b][1],e+=a[b-1][1]*a[b][0];return(e-d)*.5},a.centroid=function(b){var c=-1,d=a.length,e=0,f=0,g,h=a[d-1],i;arguments.length||(b=-1/(6*a.area()));while(++c<d)g=h,h=a[c],i=g[0]*h[1]-h[0]*g[1],e+=(g[0]+h[0])*i,f+=(g[1]+h[1])*i;return[e*b,f*b]},a.clip=function(b){var c,d=-1,e=a.length,f,g,h=a[e-1],i,j,k;while(++d<e){c=b.slice(),b.length=0,i=a[d],j=c[(g=c.length)-1],f=-1;while(++f<g)k=c[f],fg(k,h,i)?(fg(j,h,i)||b.push(fh(j,k,h,i)),b.push(k)):fg(j,h,i)&&b.push(fh(j,k,h,i)),j=k;h=i}return b},a},d3.geom.voronoi=function(a){var b=a.map(function(){return[]});return fj(a,function(a){var c,d,e,f,g,h;a.a===1&&a.b>=0?(c=a.ep.r,d=a.ep.l):(c=a.ep.l,d=a.ep.r),a.a===1?(g=c?c.y:-1e6,e=a.c-a.b*g,h=d?d.y:1e6,f=a.c-a.b*h):(e=c?c.x:-1e6,g=a.c-a.a*e,f=d?d.x:1e6,h=a.c-a.a*f);var i=[e,g],j=[f,h];b[a.region.l.index].push(i,j),b[a.region.r.index].push(i,j)}),b.map(function(b,c){var d=a[c][0],e=a[c][1];return b.forEach(function(a){a.angle=Math.atan2(a[0]-d,a[1]-e)}),b.sort(function(a,b){return a.angle-b.angle}).filter(function(a,c){return!c||a.angle-b[c-1].angle>1e-10})})};var fi={l:"r",r:"l"};d3.geom.delaunay=function(a){var b=a.map(function(){return[]}),c=[];return fj(a,function(c){b[c.region.l.index].push(a[c.region.r.index])}),b.forEach(function(b,d){var e=a[d],f=e[0],g=e[1];b.forEach(function(a){a.angle=Math.atan2(a[0]-f,a[1]-g)}),b.sort(function(a,b){return a.angle-b.angle});for(var h=0,i=b.length-1;h<i;h++)c.push([e,b[h],b[h+1]])}),c},d3.geom.quadtree=function(a,b,c,d,e){function k(a,b,c,d,e,f){if(isNaN(b.x)||isNaN(b.y))return;if(a.leaf){var g=a.point;g?Math.abs(g.x-b.x)+Math.abs(g.y-b.y)<.01?l(a,b,c,d,e,f):(a.point=null,l(a,g,c,d,e,f),l(a,b,c,d,e,f)):a.point=b}else l(a,b,c,d,e,f)}function l(a,b,c,d,e,f){var g=(c+e)*.5,h=(d+f)*.5,i=b.x>=g,j=b.y>=h,l=(j<<1)+i;a.leaf=!1,a=a.nodes[l]||(a.nodes[l]=fk()),i?c=g:e=g,j?d=h:f=h,k(a,b,c,d,e,f)}var f,g=-1,h=a.length;h&&isNaN(a[0].x)&&(a=a.map(fm));if(arguments.length<5)if(arguments.length===3)e=d=c,c=b;else{b=c=Infinity,d=e=-Infinity;while(++g<h)f=a[g],f.x<b&&(b=f.x),f.y<c&&(c=f.y),f.x>d&&(d=f.x),f.y>e&&(e=f.y);var i=d-b,j=e-c;i>j?e=c+i:d=b+j}var m=fk();return m.add=function(a){k(m,a,b,c,d,e)},m.visit=function(a){fl(a,m,b,c,d,e)},a.forEach(m.add),m},d3.time={};var fn=Date;fo.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fp.setUTCDate.apply(this._,arguments)},setDay:function(){fp.setUTCDay.apply(this._,arguments)},setFullYear:function(){fp.setUTCFullYear.apply(this._,arguments)},setHours:function(){fp.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fp.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fp.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fp.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fp.setUTCSeconds.apply(this._,arguments)},setTime:function(){fp.setTime.apply(this._,arguments)}};var fp=Date.prototype;d3.time.format=function(a){function c(c){var d=[],e=-1,f=0,g,h;while(++e<b)a.charCodeAt(e)==37&&(d.push(a.substring(f,e),(h=fv[g=a.charAt(++e)])?h(c):g),f=e+1);return d.push(a.substring(f,e)),d.join("")}var b=a.length;return c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},d=fq(c,a,b,0);if(d!=b.length)return null;"p"in c&&(c.H=c.H%12+c.p*12);var e=new fn;return e.setFullYear(c.y,c.m,c.d),e.setHours(c.H,c.M,c.S,c.L),e},c.toString=function(){return a},c};var fr=d3.format("02d"),fs=d3.format("03d"),ft=d3.format("04d"),fu=d3.format("2d"),fv={a:function(a){return fB[a.getDay()].substring(0,3)},A:function(a){return fB[a.getDay()]},b:function(a){return fH[a.getMonth()].substring(0,3)},B:function(a){return fH[a.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return fr(a.getDate())},e:function(a){return fu(a.getDate())},H:function(a){return fr(a.getHours())},I:function(a){return fr(a.getHours()%12||12)},j:function(a){return fs(1+d3.time.dayOfYear(a))},L:function(a){return fs(a.getMilliseconds())},m:function(a){return fr(a.getMonth()+1)},M:function(a){return fr(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return fr(a.getSeconds())},U:function(a){return fr(d3.time.sundayOfYear(a))},w:function(a){return a.getDay()},W:function(a){return fr(d3.time.mondayOfYear(a))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(a){return fr(a.getFullYear()%100)},Y:function(a){return ft(a.getFullYear()%1e4)},Z:fX,"%":function(a){return"%"}},fw={a:fx,A:fy,b:fC,B:fE,c:fI,d:fP,e:fP,H:fQ,I:fQ,L:fT,m:fO,M:fR,p:fV,S:fS,x:fJ,X:fK,y:fM,Y:fL},fz=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,fA=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,fB=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fD=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),fF=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,fG=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),fH=["January","February","March","April","May","June","July","August","September","October","November","December"],fU=/\s*\d+/,fW=d3.map({am:0,pm:1});d3.time.format.utc=function(a){function c(a){try{fn=fo;var c=new fn;return c._=a,b(c)}finally{fn=Date}}var b=d3.time.format(a);return c.parse=function(a){try{fn=fo;var c=b.parse(a);return c&&c._}finally{fn=Date}},c.toString=b.toString,c};var fY=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?fZ:fY,fZ.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},fZ.toString=fY.toString,d3.time.second=f$(function(a){return new fn(Math.floor(a/1e3)*1e3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1e3)},function(a){return a.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=f$(function(a){return new fn(Math.floor(a/6e4)*6e4)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*6e4)},function(a){return a.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=f$(function(a){var b=a.getTimezoneOffset()/60;return new fn((Math.floor(a/36e5-b)+b)*36e5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36e5)},function(a){return a.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=f$(function(a){return new fn(a.getFullYear(),a.getMonth(),a.getDate())},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(a){var b=d3.time.year(a);return Math.floor((a-b)/864e5-(a.getTimezoneOffset()-b.getTimezoneOffset())/1440)},fB.forEach(function(a,b){a=a.toLowerCase(),b=7-b;var c=d3.time[a]=f$(function(a){return(a=d3.time.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+Math.floor(b)*7)},function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});d3.time[a+"s"]=c.range,d3.time[a+"s"].utc=c.utc.range,d3.time[a+"OfYear"]=function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+b)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=f$(function(a){return new fn(a.getFullYear(),a.getMonth(),1)},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=f$(function(a){return new fn(a.getFullYear(),0,1)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var gg=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],gh=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],gi=[[d3.time.format("%Y"),function(a){return!0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return a.getDate()!=1}],[d3.time.format("%a %d"),function(a){return a.getDay()&&a.getDate()!=1}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],gj=d3.scale.linear(),gk=gd(gi);gh.year=function(a,b){return gj.domain(a.map(gf)).ticks(b).map(ge)},d3.time.scale=function(){return ga(d3.scale.linear(),gh,gk)};var gl=gh.map(function(a){return[a[0].utc,a[1]]}),gm=[[d3.time.format.utc("%Y"),function(a){return!0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return a.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],gn=gd(gm);gl.year=function(a,b){return gj.domain(a.map(gp)).ticks(b).map(go)},d3.time.scale.utc=function(){return ga(d3.scale.linear(),gl,gn)}})();

/***/ }),
/* 10 */
/***/ (function(module, exports, __nested_webpack_require_428012__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {jsPlumbUtil={isArray:function(b){return Object.prototype.toString.call(b)==="[object Array]"},isString:function(a){return typeof a==="string"},isObject:function(a){return Object.prototype.toString.call(a)==="[object Object]"},convertStyle:function(b,a){if("transparent"===b){return b}var g=b,f=function(h){return h.length==1?"0"+h:h},c=function(h){return f(Number(h).toString(16))},d=/(rgb[a]?\()(.*)(\))/;if(b.match(d)){var e=b.match(d)[2].split(",");g="#"+c(e[0])+c(e[1])+c(e[2]);if(!a&&e.length==4){g=g+c(e[3])}}return g},gradient:function(b,a){b=jsPlumbUtil.isArray(b)?b:[b.x,b.y];a=jsPlumbUtil.isArray(a)?a:[a.x,a.y];return(a[1]-b[1])/(a[0]-b[0])},normal:function(b,a){return -1/jsPlumbUtil.gradient(b,a)},lineLength:function(b,a){b=jsPlumbUtil.isArray(b)?b:[b.x,b.y];a=jsPlumbUtil.isArray(a)?a:[a.x,a.y];return Math.sqrt(Math.pow(a[1]-b[1],2)+Math.pow(a[0]-b[0],2))},segment:function(b,a){b=jsPlumbUtil.isArray(b)?b:[b.x,b.y];a=jsPlumbUtil.isArray(a)?a:[a.x,a.y];if(a[0]>b[0]){return(a[1]>b[1])?2:1}else{return(a[1]>b[1])?3:4}},intersects:function(f,e){var c=f.x,a=f.x+f.w,k=f.y,h=f.y+f.h,d=e.x,b=e.x+e.w,i=e.y,g=e.y+e.h;return((c<=d&&d<=a)&&(k<=i&&i<=h))||((c<=b&&b<=a)&&(k<=i&&i<=h))||((c<=d&&d<=a)&&(k<=g&&g<=h))||((c<=b&&d<=a)&&(k<=g&&g<=h))||((d<=c&&c<=b)&&(i<=k&&k<=g))||((d<=a&&a<=b)&&(i<=k&&k<=g))||((d<=c&&c<=b)&&(i<=h&&h<=g))||((d<=a&&c<=b)&&(i<=h&&h<=g))},segmentMultipliers:[null,[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(a,e,b){var d=jsPlumbUtil.gradient(a,e),i=jsPlumbUtil.segment(a,e),h=b>0?jsPlumbUtil.segmentMultipliers[i]:jsPlumbUtil.inverseSegmentMultipliers[i],c=Math.atan(d),f=Math.abs(b*Math.sin(c))*h[1],g=Math.abs(b*Math.cos(c))*h[0];return{x:a.x+g,y:a.y+f}},perpendicularLineTo:function(c,d,e){var b=jsPlumbUtil.gradient(c,d),f=Math.atan(-1/b),g=e/2*Math.sin(f),a=e/2*Math.cos(f);return[{x:d.x+a,y:d.y+g},{x:d.x-a,y:d.y-g}]},findWithFunction:function(b,d){if(b){for(var c=0;c<b.length;c++){if(d(b[c])){return c}}}return -1},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(c){return c==b})},removeWithFunction:function(c,d){var b=jsPlumbUtil.findWithFunction(c,d);if(b>-1){c.splice(b,1)}return b!=-1},remove:function(b,c){var a=jsPlumbUtil.indexOf(b,c);if(a>-1){b.splice(a,1)}return a!=-1},addWithFunction:function(c,b,a){if(jsPlumbUtil.findWithFunction(c,a)==-1){c.push(b)}},addToList:function(d,b,c){var a=d[b];if(a==null){a=[],d[b]=a}a.push(c);return a},EventGenerator:function(){var c={},b=this;var a=["ready"];this.bind=function(d,e){jsPlumbUtil.addToList(c,d,e);return b};this.fire=function(g,h,d){if(c[g]){for(var f=0;f<c[g].length;f++){if(jsPlumbUtil.findWithFunction(a,function(i){return i===g})!=-1){c[g][f](h,d)}else{try{c[g][f](h,d)}catch(k){jsPlumbUtil.log("jsPlumb: fire failed for event "+g+" : "+k)}}}}return b};this.unbind=function(d){if(d){delete c[d]}else{delete c;c={}}return b};this.getListener=function(d){return c[d]}},logEnabled:true,log:function(){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){try{var b=arguments[arguments.length-1];console.log(b)}catch(a){}}},group:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.group(a)}},groupEnd:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.groupEnd(a)}},time:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.time(a)}},timeEnd:function(a){if(jsPlumbUtil.logEnabled&&typeof console!="undefined"){console.timeEnd(a)}}};(function(){var A=!!document.createElement("canvas").getContext,e=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),b=function(){if(b.vml==undefined){var L=document.body.appendChild(document.createElement("div"));L.innerHTML='<v:shape id="vml_flag1" adj="1" />';var K=L.firstChild;K.style.behavior="url(#default#VML)";b.vml=K?typeof K.adj=="object":true;L.parentNode.removeChild(L)}return b.vml};var i=jsPlumbUtil.findWithFunction,J=jsPlumbUtil.indexOf,D=jsPlumbUtil.removeWithFunction,m=jsPlumbUtil.remove,u=jsPlumbUtil.addWithFunction,l=jsPlumbUtil.addToList,n=jsPlumbUtil.isArray,C=jsPlumbUtil.isString,w=jsPlumbUtil.isObject;if(!window.console){window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}}}var x=null,d=function(K,L){return p.CurrentLibrary.getAttribute(F(K),L)},f=function(L,M,K){p.CurrentLibrary.setAttribute(F(L),M,K)},B=function(L,K){p.CurrentLibrary.addClass(F(L),K)},k=function(L,K){return p.CurrentLibrary.hasClass(F(L),K)},o=function(L,K){p.CurrentLibrary.removeClass(F(L),K)},F=function(K){return p.CurrentLibrary.getElementObject(K)},t=function(K){return p.CurrentLibrary.getOffset(F(K))},a=function(K){return p.CurrentLibrary.getSize(F(K))},q=jsPlumbUtil.log,I=jsPlumbUtil.group,h=jsPlumbUtil.groupEnd,H=jsPlumbUtil.time,v=jsPlumbUtil.timeEnd,r=function(){return""+(new Date()).getTime()},E=function(Z){var U=this,aa=arguments,R=false,O=Z.parameters||{},M=U.idPrefix,W=M+(new Date()).getTime(),V=null,ab=null;U._jsPlumb=Z._jsPlumb;U.getId=function(){return W};U.tooltip=Z.tooltip;U.hoverClass=Z.hoverClass||U._jsPlumb.Defaults.HoverClass||p.Defaults.HoverClass;jsPlumbUtil.EventGenerator.apply(this);this.clone=function(){var ac=new Object();U.constructor.apply(ac,aa);return ac};this.getParameter=function(ac){return O[ac]},this.getParameters=function(){return O},this.setParameter=function(ac,ad){O[ac]=ad},this.setParameters=function(ac){O=ac},this.overlayPlacements=[];var N=Z.beforeDetach;this.isDetachAllowed=function(ac){var ad=U._jsPlumb.checkCondition("beforeDetach",ac);if(N){try{ad=N(ac)}catch(ae){q("jsPlumb: beforeDetach callback failed",ae)}}return ad};var Q=Z.beforeDrop;this.isDropAllowed=function(ah,ae,af,ac,ad){var ag=U._jsPlumb.checkCondition("beforeDrop",{sourceId:ah,targetId:ae,scope:af,connection:ac,dropEndpoint:ad});if(Q){try{ag=Q({sourceId:ah,targetId:ae,scope:af,connection:ac,dropEndpoint:ad})}catch(ai){q("jsPlumb: beforeDrop callback failed",ai)}}return ag};var X=function(){if(V&&ab){var ac={};p.extend(ac,V);p.extend(ac,ab);delete U.hoverPaintStyle;if(ac.gradient&&V.fillStyle){delete ac.gradient}ab=ac}};this.setPaintStyle=function(ac,ad){V=ac;U.paintStyleInUse=V;X();if(!ad){U.repaint()}};this.getPaintStyle=function(){return V};this.setHoverPaintStyle=function(ac,ad){ab=ac;X();if(!ad){U.repaint()}};this.getHoverPaintStyle=function(){return ab};this.setHover=function(ac,ae,ad){if(!U._jsPlumb.currentlyDragging&&!U._jsPlumb.isHoverSuspended()){R=ac;if(U.hoverClass!=null&&U.canvas!=null){if(ac){L.addClass(U.canvas,U.hoverClass)}else{L.removeClass(U.canvas,U.hoverClass)}}if(ab!=null){U.paintStyleInUse=ac?ab:V;ad=ad||r();U.repaint({timestamp:ad,recalc:false})}if(U.getAttachedElements&&!ae){Y(ac,r(),U)}}};this.isHover=function(){return R};var L=p.CurrentLibrary,K=["click","dblclick","mouseenter","mouseout","mousemove","mousedown","mouseup","contextmenu"],T={mouseout:"mouseexit"},P=function(ae,af,ad){var ac=T[ad]||ad;L.bind(ae,ad,function(ag){af.fire(ac,af,ag)})},S=function(ae,ad){var ac=T[ad]||ad;L.unbind(ae,ad)};this.attachListeners=function(ad,ae){for(var ac=0;ac<K.length;ac++){P(ad,ae,K[ac])}};var Y=function(ag,af,ac){var ae=U.getAttachedElements();if(ae){for(var ad=0;ad<ae.length;ad++){if(!ac||ac!=ae[ad]){ae[ad].setHover(ag,true,af)}}}};this.reattachListenersForElement=function(ad){if(arguments.length>1){for(var ac=0;ac<K.length;ac++){S(ad,K[ac])}for(var ac=1;ac<arguments.length;ac++){U.attachListeners(ad,arguments[ac])}}}},z=function(P){E.apply(this,arguments);var U=this;this.overlays=[];var N=function(Z){var X=null;if(n(Z)){var W=Z[0],Y=p.extend({component:U,_jsPlumb:U._jsPlumb},Z[1]);if(Z.length==3){p.extend(Y,Z[2])}X=new p.Overlays[U._jsPlumb.getRenderMode()][W](Y);if(Y.events){for(var V in Y.events){X.bind(V,Y.events[V])}}}else{if(Z.constructor==String){X=new p.Overlays[U._jsPlumb.getRenderMode()][Z]({component:U,_jsPlumb:U._jsPlumb})}else{X=Z}}U.overlays.push(X)},O=function(Z){var V=U.defaultOverlayKeys||[],Y=Z.overlays,W=function(aa){return U._jsPlumb.Defaults[aa]||p.Defaults[aa]||[]};if(!Y){Y=[]}for(var X=0;X<V.length;X++){Y.unshift.apply(Y,W(V[X]))}return Y};var L=O(P);if(L){for(var Q=0;Q<L.length;Q++){N(L[Q])}}var K=function(X){var V=-1;for(var W=0;W<U.overlays.length;W++){if(X===U.overlays[W].id){V=W;break}}return V};this.addOverlay=function(V){N(V);U.repaint()};this.getOverlay=function(W){var V=K(W);return V>=0?U.overlays[V]:null};this.getOverlays=function(){return U.overlays};this.hideOverlay=function(W){var V=U.getOverlay(W);if(V){V.hide()}};this.hideOverlays=function(){for(var V=0;V<U.overlays.length;V++){U.overlays[V].hide()}};this.showOverlay=function(W){var V=U.getOverlay(W);if(V){V.show()}};this.showOverlays=function(){for(var V=0;V<U.overlays.length;V++){U.overlays[V].show()}};this.removeAllOverlays=function(){for(var V in U.overlays){U.overlays[V].cleanup()}U.overlays.splice(0,U.overlays.length);U.repaint()};this.removeOverlay=function(W){var V=K(W);if(V!=-1){var X=U.overlays[V];X.cleanup();U.overlays.splice(V,1)}};this.removeOverlays=function(){for(var V=0;V<arguments.length;V++){U.removeOverlay(arguments[V])}};var M="__label",T=function(X){var V={cssClass:X.cssClass,labelStyle:this.labelStyle,id:M,component:U,_jsPlumb:U._jsPlumb},W=p.extend(V,X);return new p.Overlays[U._jsPlumb.getRenderMode()].Label(W)};if(P.label){var R=P.labelLocation||U.defaultLabelLocation||0.5,S=P.labelStyle||U._jsPlumb.Defaults.LabelStyle||p.Defaults.LabelStyle;this.overlays.push(T({label:P.label,location:R,labelStyle:S}))}this.setLabel=function(V){var W=U.getOverlay(M);if(!W){var X=V.constructor==String||V.constructor==Function?{label:V}:V;W=T(X);this.overlays.push(W)}else{if(V.constructor==String||V.constructor==Function){W.setLabel(V)}else{if(V.label){W.setLabel(V.label)}if(V.location){W.setLocation(V.location)}}}U.repaint()};this.getLabel=function(){var V=U.getOverlay(M);return V!=null?V.getLabel():null};this.getLabelOverlay=function(){return U.getOverlay(M)}},G=function(M,K,L){M.bind("click",function(N,O){K.fire("click",K,O)});M.bind("dblclick",function(N,O){K.fire("dblclick",K,O)});M.bind("contextmenu",function(N,O){K.fire("contextmenu",K,O)});M.bind("mouseenter",function(N,O){if(!K.isHover()){L(true);K.fire("mouseenter",K,O)}});M.bind("mouseexit",function(N,O){if(K.isHover()){L(false);K.fire("mouseexit",K,O)}})};var g=0,c=function(){var K=g+1;g++;return K};var y=function(L){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:true,ConnectionOverlays:[],Connector:"Bezier",Container:null,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:false,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};if(L){p.extend(this.Defaults,L)}this.logEnabled=this.Defaults.LogEnabled;jsPlumbUtil.EventGenerator.apply(this);var bn=this,aL=c(),aO=bn.bind,aC={};for(var aB in this.Defaults){aC[aB]=this.Defaults[aB]}this.bind=function(bw,bv){if("ready"===bw&&M){bv()}else{aO.apply(bn,[bw,bv])}};bn.importDefaults=function(bw){for(var bv in bw){bn.Defaults[bv]=bw[bv]}};bn.restoreDefaults=function(){bn.Defaults=p.extend({},aC)};var P=null,ar=function(){p.repaintEverything()},bp=true,aP=function(){if(bp){ar()}},be=null,M=false,aY={},aT={},aU={},ah={},br={},bf={},bm={},bu=[],ae=[],Q=this.Defaults.Scope,X=null,V=function(by,bw,bx){var bv=by[bw];if(bv==null){bv=[];by[bw]=bv}bv.push(bx);return bv},aW=function(bw,bv){if(bn.Defaults.Container){p.CurrentLibrary.appendElement(bw,bn.Defaults.Container)}else{if(!bv){document.body.appendChild(bw)}else{p.CurrentLibrary.appendElement(bw,bv)}}},aD=1,ak=function(){return""+aD++},aI=function(bv){return bv._nodes?bv._nodes:bv},a6=false,bg=function(bw,bv){a6=bw;if(bv){bn.repaintEverything()}},ba=function(bx,bz,by){if(!a6){var bA=d(bx,"id"),bv=bn.dragManager.getElementsForDraggable(bA);if(by==null){by=r()}bn.anchorManager.redraw(bA,bz,by);if(bv){for(var bw in bv){bn.anchorManager.redraw(bv[bw].id,bz,by,bv[bw].offset)}}}},aG=function(bw,by){var bz=null;if(n(bw)){bz=[];for(var bv=0;bv<bw.length;bv++){var bx=F(bw[bv]),bA=d(bx,"id");bz.push(by(bx,bA))}}else{var bx=F(bw),bA=d(bx,"id");bz=by(bx,bA)}return bz},av=function(bv){return aU[bv]},bb=function(bz,bv,bC){var bE=bv==null?false:bv,bA=p.CurrentLibrary;if(bE){if(bA.isDragSupported(bz)&&!bA.isAlreadyDraggable(bz)){var bD=bC||bn.Defaults.DragOptions||p.Defaults.DragOptions;bD=p.extend({},bD);var bB=bA.dragEvents.drag,bw=bA.dragEvents.stop,by=bA.dragEvents.start;bD[by]=am(bD[by],function(){bn.setHoverSuspended(true)});bD[bB]=am(bD[bB],function(){var bF=bA.getUIPosition(arguments);ba(bz,bF);B(bz,"jsPlumb_dragged")});bD[bw]=am(bD[bw],function(){var bF=bA.getUIPosition(arguments);ba(bz,bF);o(bz,"jsPlumb_dragged");bn.setHoverSuspended(false)});var bx=K(bz);bm[bx]=true;var bE=bm[bx];bD.disabled=bE==null?false:!bE;bA.initDraggable(bz,bD,false);bn.dragManager.register(bz)}}},aA=function(bB,bw){var bv=p.extend({},bB);if(bw){p.extend(bv,bw)}if(bv.source&&bv.source.endpoint){bv.sourceEndpoint=bv.source}if(bv.source&&bv.target.endpoint){bv.targetEndpoint=bv.target}if(bB.uuids){bv.sourceEndpoint=av(bB.uuids[0]);bv.targetEndpoint=av(bB.uuids[1])}if(bv.sourceEndpoint&&bv.sourceEndpoint.isFull()){q(bn,"could not add connection; source endpoint is full");return}if(bv.targetEndpoint&&bv.targetEndpoint.isFull()){q(bn,"could not add connection; target endpoint is full");return}if(bv.sourceEndpoint&&bv.sourceEndpoint.connectorOverlays){bv.overlays=bv.overlays||[];for(var bz=0;bz<bv.sourceEndpoint.connectorOverlays.length;bz++){bv.overlays.push(bv.sourceEndpoint.connectorOverlays[bz])}}bv.tooltip=bB.tooltip;if(!bv.tooltip&&bv.sourceEndpoint&&bv.sourceEndpoint.connectorTooltip){bv.tooltip=bv.sourceEndpoint.connectorTooltip}if(bv.target&&!bv.target.endpoint&&!bv.targetEndpoint&&!bv.newConnection){var bA=K(bv.target),bC=aZ[bA],bx=aH[bA];if(bC){if(!aj[bA]){return}var by=bx!=null?bx:bn.addEndpoint(bv.target,bC);if(bh[bA]){aH[bA]=by}bv.targetEndpoint=by;by._makeTargetCreator=true}}if(bv.source&&!bv.source.endpoint&&!bv.sourceEndpoint&&!bv.newConnection){var bA=K(bv.source),bC=az[bA],bx=a5[bA];if(bC){if(!ac[bA]){return}var by=bx!=null?bx:bn.addEndpoint(bv.source,bC);if(a9[bA]){a5[bA]=by}bv.sourceEndpoint=by}}return bv},ad=function(bz){var by=bn.Defaults.ConnectionType||bn.getDefaultConnectionType(),bx=bn.Defaults.EndpointType||af,bw=p.CurrentLibrary.getParent;if(bz.container){bz.parent=bz.container}else{if(bz.sourceEndpoint){bz.parent=bz.sourceEndpoint.parent}else{if(bz.source.constructor==bx){bz.parent=bz.source.parent}else{bz.parent=bw(bz.source)}}}bz._jsPlumb=bn;var bv=new by(bz);bv.id="con_"+ak();bs("click","click",bv);bs("dblclick","dblclick",bv);bs("contextmenu","contextmenu",bv);return bv},bt=function(bw,bx,bv){bx=bx||{};if(!bw.suspendedEndpoint){V(aY,bw.scope,bw)}if(!bx.doNotFireConnectionEvent&&bx.fireEvent!==false){bn.fire("jsPlumbConnection",{connection:bw,source:bw.source,target:bw.target,sourceId:bw.sourceId,targetId:bw.targetId,sourceEndpoint:bw.endpoints[0],targetEndpoint:bw.endpoints[1]},bv)}bn.anchorManager.newConnection(bw);ba(bw.source)},bs=function(bv,bw,bx){bx.bind(bv,function(bz,by){bn.fire(bw,bx,by)})},aw=function(bx){if(bx.container){return bx.container}else{var bv=p.CurrentLibrary.getTagName(bx.source),bw=p.CurrentLibrary.getParent(bx.source);if(bv&&bv.toLowerCase()==="td"){return p.CurrentLibrary.getParent(bw)}else{return bw}}},aF=function(bx){var bw=bn.Defaults.EndpointType||af;bx.parent=aw(bx);bx._jsPlumb=bn;var bv=new bw(bx);bv.id="ep_"+ak();bs("click","endpointClick",bv);bs("dblclick","endpointDblClick",bv);bs("contextmenu","contextmenu",bv);return bv},U=function(bx,bA,bz){var bv=aT[bx];if(bv&&bv.length){for(var by=0;by<bv.length;by++){for(var bw=0;bw<bv[by].connections.length;bw++){var bB=bA(bv[by].connections[bw]);if(bB){return}}if(bz){bz(bv[by])}}}},Y=function(bw){for(var bv in aT){U(bv,bw)}},au=function(bv,bw){if(bv!=null&&bv.parentNode!=null){bv.parentNode.removeChild(bv)}},aX=function(bx,bw){for(var bv=0;bv<bx.length;bv++){au(bx[bv],bw)}},bk=function(bw,bv){return aG(bw,function(bx,by){bm[by]=bv;if(p.CurrentLibrary.isDragSupported(bx)){p.CurrentLibrary.setDraggable(bx,bv)}})},a3=function(bx,by,bv){by=by==="block";var bw=null;if(bv){if(by){bw=function(bA){bA.setVisible(true,true,true)}}else{bw=function(bA){bA.setVisible(false,true,true)}}}var bz=d(bx,"id");U(bz,function(bB){if(by&&bv){var bA=bB.sourceId===bz?1:0;if(bB.endpoints[bA].isVisible()){bB.setVisible(true)}}else{bB.setVisible(by)}},bw)},bi=function(bv){return aG(bv,function(bx,bw){var by=bm[bw]==null?false:bm[bw];by=!by;bm[bw]=by;p.CurrentLibrary.setDraggable(bx,by);return by})},aQ=function(bv,bx){var bw=null;if(bx){bw=function(by){var bz=by.isVisible();by.setVisible(!bz)}}U(bv,function(bz){var by=bz.isVisible();bz.setVisible(!by)},bw)},W=function(bA){var by=bA.timestamp,bv=bA.recalc,bz=bA.offset,bw=bA.elId;if(!bv){if(by&&by===br[bw]){return ah[bw]}}if(bv||!bz){var bx=F(bw);if(bx!=null){ae[bw]=a(bx);ah[bw]=t(bx);br[bw]=by}}else{ah[bw]=bz;if(ae[bw]==null){var bx=F(bw);if(bx!=null){ae[bw]=a(bx)}}}if(ah[bw]&&!ah[bw].right){ah[bw].right=ah[bw].left+ae[bw][0];ah[bw].bottom=ah[bw].top+ae[bw][1];ah[bw].width=ae[bw][0];ah[bw].height=ae[bw][1];ah[bw].centerx=ah[bw].left+(ah[bw].width/2);ah[bw].centery=ah[bw].top+(ah[bw].height/2)}return ah[bw]},aN=function(bv){var bw=ah[bv];if(!bw){bw=W({elId:bv})}return{o:bw,s:ae[bv]}},K=function(bv,bw,by){var bx=F(bv);var bz=d(bx,"id");if(!bz||bz=="undefined"){if(arguments.length==2&&arguments[1]!=undefined){bz=bw}else{if(arguments.length==1||(arguments.length==3&&!arguments[2])){bz="jsPlumb_"+aL+"_"+ak()}}f(bx,"id",bz)}return bz},am=function(bx,bv,bw){bx=bx||function(){};bv=bv||function(){};return function(){var by=null;try{by=bv.apply(this,arguments)}catch(bz){q(bn,"jsPlumb function failed : "+bz)}if(bw==null||(by!==bw)){try{bx.apply(this,arguments)}catch(bz){q(bn,"wrapped function failed : "+bz)}}return by}};this.connectorClass="_jsPlumb_connector";this.endpointClass="_jsPlumb_endpoint";this.overlayClass="_jsPlumb_overlay";this.Anchors={};this.Connectors={canvas:{},svg:{},vml:{}};this.Endpoints={canvas:{},svg:{},vml:{}};this.Overlays={canvas:{},svg:{},vml:{}};this.addClass=function(bw,bv){return p.CurrentLibrary.addClass(bw,bv)};this.removeClass=function(bw,bv){return p.CurrentLibrary.removeClass(bw,bv)};this.hasClass=function(bw,bv){return p.CurrentLibrary.hasClass(bw,bv)};this.addEndpoint=function(bx,by,bH){bH=bH||{};var bw=p.extend({},bH);p.extend(bw,by);bw.endpoint=bw.endpoint||bn.Defaults.Endpoint||p.Defaults.Endpoint;bw.paintStyle=bw.paintStyle||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyle;bx=aI(bx);var bz=[],bC=bx.length&&bx.constructor!=String?bx:[bx];for(var bA=0;bA<bC.length;bA++){var bF=F(bC[bA]),bv=K(bF);bw.source=bF;W({elId:bv});var bE=aF(bw);if(bw.parentAnchor){bE.parentAnchor=bw.parentAnchor}V(aT,bv,bE);var bD=ah[bv],bB=ae[bv];var bG=bE.anchor.compute({xy:[bD.left,bD.top],wh:bB,element:bE});bE.paint({anchorLoc:bG});bz.push(bE);bn.dragManager.endpointAdded(bF)}return bz.length==1?bz[0]:bz};this.addEndpoints=function(bz,bw,bv){var by=[];for(var bx=0;bx<bw.length;bx++){var bA=bn.addEndpoint(bz,bw[bx],bv);if(n(bA)){Array.prototype.push.apply(by,bA)}else{by.push(bA)}}return by};this.animate=function(bx,bw,bv){var by=F(bx),bB=d(bx,"id");bv=bv||{};var bA=p.CurrentLibrary.dragEvents.step;var bz=p.CurrentLibrary.dragEvents.complete;bv[bA]=am(bv[bA],function(){bn.repaint(bB)});bv[bz]=am(bv[bz],function(){bn.repaint(bB)});p.CurrentLibrary.animate(by,bw,bv)};this.checkCondition=function(bx,bz){var bv=bn.getListener(bx);var by=true;if(bv&&bv.length>0){try{for(var bw=0;bw<bv.length;bw++){by=by&&bv[bw](bz)}}catch(bA){q(bn,"cannot check condition ["+bx+"]"+bA)}}return by};this.connect=function(by,bw){var bv=aA(by,bw);if(bv){if(bv.deleteEndpointsOnDetach==null){bv.deleteEndpointsOnDetach=true}var bx=ad(bv);bt(bx,bv);return bx}};this.deleteEndpoint=function(bw){var bB=(typeof bw=="string")?aU[bw]:bw;if(bB){var by=bB.getUuid();if(by){aU[by]=null}bB.detachAll();aX(bB.endpoint.getDisplayElements());bn.anchorManager.deleteEndpoint(bB);for(var bA in aT){var bv=aT[bA];if(bv){var bz=[];for(var bx=0;bx<bv.length;bx++){if(bv[bx]!=bB){bz.push(bv[bx])}}aT[bA]=bz}}bn.dragManager.endpointDeleted(bB)}};this.deleteEveryEndpoint=function(){for(var bx in aT){var bv=aT[bx];if(bv&&bv.length){for(var bw=0;bw<bv.length;bw++){bn.deleteEndpoint(bv[bw])}}}delete aT;aT={};delete aU;aU={}};var a7=function(by,bA,bv){var bx=bn.Defaults.ConnectionType||bn.getDefaultConnectionType(),bw=by.constructor==bx,bz=bw?{connection:by,source:by.source,target:by.target,sourceId:by.sourceId,targetId:by.targetId,sourceEndpoint:by.endpoints[0],targetEndpoint:by.endpoints[1]}:by;if(bA){bn.fire("jsPlumbConnectionDetached",bz,bv)}bn.anchorManager.connectionDetached(bz)},a4=function(bv){bn.fire("connectionDrag",bv)},aR=function(bv){bn.fire("connectionDragStop",bv)};this.detach=function(){if(arguments.length==0){return}var bz=bn.Defaults.ConnectionType||bn.getDefaultConnectionType(),bA=arguments[0].constructor==bz,by=arguments.length==2?bA?(arguments[1]||{}):arguments[0]:arguments[0],bD=(by.fireEvent!==false),bx=by.forceDetach,bw=bA?arguments[0]:by.connection;if(bw){if(bx||(bw.isDetachAllowed(bw)&&bw.endpoints[0].isDetachAllowed(bw)&&bw.endpoints[1].isDetachAllowed(bw))){if(bx||bn.checkCondition("beforeDetach",bw)){bw.endpoints[0].detach(bw,false,true,bD)}}}else{var bv=p.extend({},by);if(bv.uuids){av(bv.uuids[0]).detachFrom(av(bv.uuids[1]),bD)}else{if(bv.sourceEndpoint&&bv.targetEndpoint){bv.sourceEndpoint.detachFrom(bv.targetEndpoint)}else{var bC=K(bv.source),bB=K(bv.target);U(bC,function(bE){if((bE.sourceId==bC&&bE.targetId==bB)||(bE.targetId==bC&&bE.sourceId==bB)){if(bn.checkCondition("beforeDetach",bE)){bE.endpoints[0].detach(bE,false,true,bD)}}})}}}};this.detachAllConnections=function(bx,by){by=by||{};bx=F(bx);var bz=d(bx,"id"),bv=aT[bz];if(bv&&bv.length){for(var bw=0;bw<bv.length;bw++){bv[bw].detachAll(by.fireEvent)}}};this.detachEveryConnection=function(bx){bx=bx||{};for(var by in aT){var bv=aT[by];if(bv&&bv.length){for(var bw=0;bw<bv.length;bw++){bv[bw].detachAll(bx.fireEvent)}}}delete aY;aY={}};this.draggable=function(bx,bv){if(typeof bx=="object"&&bx.length){for(var bw=0;bw<bx.length;bw++){var by=F(bx[bw]);if(by){bb(by,true,bv)}}}else{if(bx._nodes){for(var bw=0;bw<bx._nodes.length;bw++){var by=F(bx._nodes[bw]);if(by){bb(by,true,bv)}}}else{var by=F(bx);if(by){bb(by,true,bv)}}}};this.extend=function(bw,bv){return p.CurrentLibrary.extend(bw,bv)};this.getDefaultEndpointType=function(){return af};this.getDefaultConnectionType=function(){return ax};var bq=function(bz,by,bw,bv){for(var bx=0;bx<bz.length;bx++){bz[bx][by].apply(bz[bx],bw)}return bv(bz)},S=function(bz,by,bw){var bv=[];for(var bx=0;bx<bz.length;bx++){bv.push([bz[bx][by].apply(bz[bx],bw),bz[bx]])}return bv},an=function(bx,bw,bv){return function(){return bq(bx,bw,arguments,bv)}},ay=function(bw,bv){return function(){return S(bw,bv,arguments)}};this.getConnections=function(bH,bw){if(!bH){bH={}}else{if(bH.constructor==String){bH={scope:bH}}}var bE=function(bI){var bJ=[];if(bI){if(typeof bI=="string"){if(bI==="*"){return bI}bJ.push(bI)}else{bJ=bI}}return bJ},bF=bH.scope||bn.getDefaultScope(),bD=bE(bF),bv=bE(bH.source),bB=bE(bH.target),bx=function(bJ,bI){if(bJ==="*"){return true}return bJ.length>0?J(bJ,bI)!=-1:true},bA=(!bw&&bD.length>1)?{}:[],bG=function(bJ,bK){if(!bw&&bD.length>1){var bI=bA[bJ];if(bI==null){bI=[];bA[bJ]=bI}bI.push(bK)}else{bA.push(bK)}};for(var bz in aY){if(bx(bD,bz)){for(var by=0;by<aY[bz].length;by++){var bC=aY[bz][by];if(bx(bv,bC.sourceId)&&bx(bB,bC.targetId)){bG(bz,bC)}}}}return bA};var aK=function(bv){return{setHover:an(bv,"setHover",aK),removeAllOverlays:an(bv,"removeAllOverlays",aK),setLabel:an(bv,"setLabel",aK),addOverlay:an(bv,"addOverlay",aK),removeOverlay:an(bv,"removeOverlay",aK),removeOverlays:an(bv,"removeOverlays",aK),showOverlay:an(bv,"showOverlay",aK),hideOverlay:an(bv,"hideOverlay",aK),showOverlays:an(bv,"showOverlays",aK),hideOverlays:an(bv,"hideOverlays",aK),setPaintStyle:an(bv,"setPaintStyle",aK),setHoverPaintStyle:an(bv,"setHoverPaintStyle",aK),setDetachable:an(bv,"setDetachable",aK),setConnector:an(bv,"setConnector",aK),setParameter:an(bv,"setParameter",aK),setParameters:an(bv,"setParameters",aK),detach:function(){for(var bw=0;bw<bv.length;bw++){bn.detach(bv[bw])}},getLabel:ay(bv,"getLabel"),getOverlay:ay(bv,"getOverlay"),isHover:ay(bv,"isHover"),isDetachable:ay(bv,"isDetachable"),getParameter:ay(bv,"getParameter"),getParameters:ay(bv,"getParameters"),getPaintStyle:ay(bv,"getPaintStyle"),getHoverPaintStyle:ay(bv,"getHoverPaintStyle"),length:bv.length,each:function(bx){for(var bw=0;bw<bv.length;bw++){bx(bv[bw])}return aK(bv)},get:function(bw){return bv[bw]}}};this.select=function(bv){bv=bv||{};bv.scope=bv.scope||"*";var bw=bn.getConnections(bv,true);return aK(bw)};this.getAllConnections=function(){return aY};this.getDefaultScope=function(){return Q};this.getEndpoint=av;this.getEndpoints=function(bv){return aT[K(bv)]};this.getId=K;this.getOffset=function(bw){var bv=ah[bw];return W({elId:bw})};this.getSelector=function(bv){return p.CurrentLibrary.getSelector(bv)};this.getSize=function(bw){var bv=ae[bw];if(!bv){W({elId:bw})}return ae[bw]};this.appendElement=aW;var aS=false;this.isHoverSuspended=function(){return aS};this.setHoverSuspended=function(bv){aS=bv};this.isCanvasAvailable=function(){return A};this.isSVGAvailable=function(){return e};this.isVMLAvailable=b;this.hide=function(bv,bw){a3(bv,"none",bw)};this.idstamp=ak;this.init=function(){if(!M){bn.setRenderMode(bn.Defaults.RenderMode);var bv=function(bw){p.CurrentLibrary.bind(document,bw,function(bC){if(!bn.currentlyDragging&&X==p.CANVAS){for(var bB in aY){var bD=aY[bB];for(var bz=0;bz<bD.length;bz++){var by=bD[bz].connector[bw](bC);if(by){return}}}for(var bA in aT){var bx=aT[bA];for(var bz=0;bz<bx.length;bz++){if(bx[bz].endpoint[bw](bC)){return}}}}})};bv("click");bv("dblclick");bv("mousemove");bv("mousedown");bv("mouseup");bv("contextmenu");M=true;bn.fire("ready")}};this.log=P;this.jsPlumbUIComponent=E;this.makeAnchor=function(){if(arguments.length==0){return null}var bA=arguments[0],bx=arguments[1],bw=arguments[2],by=null;if(bA.compute&&bA.getOrientation){return bA}else{if(typeof bA=="string"){by=p.Anchors[arguments[0]]({elementId:bx,jsPlumbInstance:bn})}else{if(n(bA)){if(n(bA[0])||C(bA[0])){if(bA.length==2&&C(bA[0])&&w(bA[1])){var bv=p.extend({elementId:bx,jsPlumbInstance:bn},bA[1]);by=p.Anchors[bA[0]](bv)}else{by=new aq(bA,null,bx)}}else{var bz={x:bA[0],y:bA[1],orientation:(bA.length>=4)?[bA[2],bA[3]]:[0,0],offsets:(bA.length==6)?[bA[4],bA[5]]:[0,0],elementId:bx};by=new aa(bz);by.clone=function(){return new aa(bz)}}}}}if(!by.id){by.id="anchor_"+ak()}return by};this.makeAnchors=function(by,bw,bv){var bz=[];for(var bx=0;bx<by.length;bx++){if(typeof by[bx]=="string"){bz.push(p.Anchors[by[bx]]({elementId:bw,jsPlumbInstance:bv}))}else{if(n(by[bx])){bz.push(bn.makeAnchor(by[bx],bw,bv))}}}return bz};this.makeDynamicAnchor=function(bv,bw){return new aq(bv,bw)};var aZ={},aH={},bh={},ap={},ab=function(bv,bw){bv.paintStyle=bv.paintStyle||bn.Defaults.EndpointStyles[bw]||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyles[bw]||p.Defaults.EndpointStyle;bv.hoverPaintStyle=bv.hoverPaintStyle||bn.Defaults.EndpointHoverStyles[bw]||bn.Defaults.EndpointHoverStyle||p.Defaults.EndpointHoverStyles[bw]||p.Defaults.EndpointHoverStyle;bv.anchor=bv.anchor||bn.Defaults.Anchors[bw]||bn.Defaults.Anchor||p.Defaults.Anchors[bw]||p.Defaults.Anchor;bv.endpoint=bv.endpoint||bn.Defaults.Endpoints[bw]||bn.Defaults.Endpoint||p.Defaults.Endpoints[bw]||p.Defaults.Endpoint};this.makeTarget=function(by,bz,bF){var bw=p.extend({_jsPlumb:bn},bF);p.extend(bw,bz);ab(bw,1);var bD=p.CurrentLibrary,bE=bw.scope||bn.Defaults.Scope,bA=!(bw.deleteEndpointsOnDetach===false),bx=bw.maxConnections||-1,bv=function(bK){var bI=K(bK);aZ[bI]=bw;bh[bI]=bw.uniqueEndpoint,ap[bI]=bx,aj[bI]=true,proxyComponent=new E(bw);var bH=p.extend({},bw.dropOptions||{}),bG=function(){var bN=p.CurrentLibrary.getDropEvent(arguments),bP=bn.select({target:bI}).length;if(!aj[bI]||ap[bI]>0&&bP>=ap[bI]){console.log("target element "+bI+" is full.");return false}bn.currentlyDragging=false;var bZ=F(bD.getDragObject(arguments)),bO=d(bZ,"dragId"),bX=d(bZ,"originalScope"),bU=bf[bO],bM=bU.endpoints[0],bL=bw.endpoint?p.extend({},bw.endpoint):{};bM.anchor.locked=false;if(bX){bD.setDragScope(bZ,bX)}var bS=proxyComponent.isDropAllowed(bU.sourceId,K(bK),bU.scope,bU,null);if(bU.endpointsToDeleteOnDetach){if(bM===bU.endpointsToDeleteOnDetach[0]){bU.endpointsToDeleteOnDetach[0]=null}else{if(bM===bU.endpointsToDeleteOnDetach[1]){bU.endpointsToDeleteOnDetach[1]=null}}}if(bU.suspendedEndpoint){bU.targetId=bU.suspendedEndpoint.elementId;bU.target=bD.getElementObject(bU.suspendedEndpoint.elementId);bU.endpoints[1]=bU.suspendedEndpoint}if(bS){bM.detach(bU,false,true,false);var bY=aH[bI]||bn.addEndpoint(bK,bw);if(bw.uniqueEndpoint){aH[bI]=bY}bY._makeTargetCreator=true;if(bY.anchor.positionFinder!=null){var bV=bD.getUIPosition(arguments),bR=bD.getOffset(bK),bW=bD.getSize(bK),bQ=bY.anchor.positionFinder(bV,bR,bW,bY.anchor.constructorParams);bY.anchor.x=bQ[0];bY.anchor.y=bQ[1]}var bT=bn.connect({source:bM,target:bY,scope:bX,previousConnection:bU,container:bU.parent,deleteEndpointsOnDetach:bA,doNotFireConnectionEvent:bM.endpointWillMoveAfterConnection});if(bU.endpoints[1]._makeTargetCreator&&bU.endpoints[1].connections.length<2){bn.deleteEndpoint(bU.endpoints[1])}if(bA){bT.endpointsToDeleteOnDetach=[bM,bY]}bT.repaint()}else{if(bU.suspendedEndpoint){if(bM.isReattach){bU.setHover(false);bU.floatingAnchorIndex=null;bU.suspendedEndpoint.addConnection(bU);bn.repaint(bM.elementId)}else{bM.detach(bU,false,true,true,bN)}}}};var bJ=bD.dragEvents.drop;bH.scope=bH.scope||bE;bH[bJ]=am(bH[bJ],bG);bD.initDroppable(bK,bH,true)};by=aI(by);var bC=by.length&&by.constructor!=String?by:[by];for(var bB=0;bB<bC.length;bB++){bv(F(bC[bB]))}return bn};this.unmakeTarget=function(bw,bx){bw=p.CurrentLibrary.getElementObject(bw);var bv=K(bw);if(!bx){delete aZ[bv];delete bh[bv];delete ap[bv];delete aj[bv]}return bn};this.makeTargets=function(bx,by,bv){for(var bw=0;bw<bx.length;bw++){bn.makeTarget(bx[bw],by,bv)}};var az={},a5={},a9={},ac={},N={},aj={};this.makeSource=function(bz,bC,bv){var bA=p.extend({},bv);p.extend(bA,bC);ab(bA,0);var by=p.CurrentLibrary,bB=function(bK){var bE=K(bK),bL=bA.parent,bD=bL!=null?bn.getId(by.getElementObject(bL)):bE;az[bD]=bA;a9[bD]=bA.uniqueEndpoint;ac[bD]=true;var bF=by.dragEvents.stop,bJ=by.dragEvents.drag,bM=p.extend({},bA.dragOptions||{}),bH=bM.drag,bN=bM.stop,bO=null,bI=false;bM.scope=bM.scope||bA.scope;bM[bJ]=am(bM[bJ],function(){if(bH){bH.apply(this,arguments)}bI=false});bM[bF]=am(bM[bF],function(){if(bN){bN.apply(this,arguments)}bn.currentlyDragging=false;if(bO.connections.length==0){bn.deleteEndpoint(bO)}else{by.unbind(bO.canvas,"mousedown");var bQ=bA.anchor||bn.Defaults.Anchor,bR=bO.anchor,bT=bO.connections[0];bO.anchor=bn.makeAnchor(bQ,bE,bn);if(bA.parent){var bS=by.getElementObject(bA.parent);if(bS){var bP=bO.elementId;var bU=bA.container||bn.Defaults.Container||p.Defaults.Container;bO.setElement(bS,bU);bO.endpointWillMoveAfterConnection=false;bn.anchorManager.rehomeEndpoint(bP,bS);bT.previousConnection=null;D(aY[bT.scope],function(bV){return bV.id===bT.id});bn.anchorManager.connectionDetached({sourceId:bT.sourceId,targetId:bT.targetId,connection:bT});bt(bT)}}bO.repaint();bn.repaint(bO.elementId);bn.repaint(bT.targetId)}});var bG=function(bS){if(!ac[bD]){return}if(bC.filter){var bP=bC.filter(by.getOriginalEvent(bS),bK);if(bP===false){return}}var bW=W({elId:bE});var bV=((bS.pageX||bS.page.x)-bW.left)/bW.width,bU=((bS.pageY||bS.page.y)-bW.top)/bW.height,b0=bV,bZ=bU;if(bA.parent){var bT=by.getElementObject(bA.parent),bR=K(bT);bW=W({elId:bR});b0=((bS.pageX||bS.page.x)-bW.left)/bW.width,bZ=((bS.pageY||bS.page.y)-bW.top)/bW.height}var bY={};p.extend(bY,bA);bY.isSource=true;bY.anchor=[bV,bU,0,0];bY.parentAnchor=[b0,bZ,0,0];bY.dragOptions=bM;if(bA.parent){var bQ=bY.container||bn.Defaults.Container||p.Defaults.Container;if(bQ){bY.container=bQ}else{bY.container=p.CurrentLibrary.getParent(bA.parent)}}bO=bn.addEndpoint(bE,bY);bI=true;bO.endpointWillMoveAfterConnection=bA.parent!=null;bO.endpointWillMoveTo=bA.parent?by.getElementObject(bA.parent):null;var bX=function(){if(bI){bn.deleteEndpoint(bO)}};bn.registerListener(bO.canvas,"mouseup",bX);bn.registerListener(bK,"mouseup",bX);by.trigger(bO.canvas,"mousedown",bS)};bn.registerListener(bK,"mousedown",bG);N[bE]=bG};bz=aI(bz);var bw=bz.length&&bz.constructor!=String?bz:[bz];for(var bx=0;bx<bw.length;bx++){bB(F(bw[bx]))}return bn};this.unmakeSource=function(bw,bx){bw=p.CurrentLibrary.getElementObject(bw);var by=K(bw),bv=N[by];if(bv){bn.unregisterListener(_el,"mousedown",bv)}if(!bx){delete az[by];delete a9[by];delete ac[by];delete N[by]}return bn};this.unmakeEverySource=function(){for(var bv in ac){bn.unmakeSource(bv,true)}az={};a9={};ac={};N={}};this.unmakeEveryTarget=function(){for(var bv in aj){bn.unmakeTarget(bv,true)}aZ={};bh={};ap={};aj={};return bn};this.makeSources=function(bx,by,bv){for(var bw=0;bw<bx.length;bw++){bn.makeSource(bx[bw],by,bv)}return bn};var aM=function(bz,by,bA,bv){var bw=bz=="source"?ac:aj;if(C(by)){bw[by]=bv?!bw[by]:bA}else{if(by.length){by=aI(by);for(var bx=0;bx<by.length;bx++){var bB=_el=p.CurrentLibrary.getElementObject(by[bx]),bB=K(_el);bw[bB]=bv?!bw[bB]:bA}}}return bn};this.setSourceEnabled=function(bv,bw){return aM("source",bv,bw)};this.toggleSourceEnabled=function(bv){aM("source",bv,null,true);return bn.isSourceEnabled(bv)};this.isSource=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return ac[K(bv)]!=null};this.isSourceEnabled=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return ac[K(bv)]===true};this.setTargetEnabled=function(bv,bw){return aM("target",bv,bw)};this.toggleTargetEnabled=function(bv){return aM("target",bv,null,true);return bn.isTargetEnabled(bv)};this.isTarget=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return aj[K(bv)]!=null};this.isTargetEnabled=function(bv){bv=p.CurrentLibrary.getElementObject(bv);return aj[K(bv)]===true};this.ready=function(bv){bn.bind("ready",bv)},this.repaint=function(bw){var bx=function(by){ba(F(by))};if(typeof bw=="object"){for(var bv=0;bv<bw.length;bv++){bx(bw[bv])}}else{bx(bw)}};this.repaintEverything=function(){for(var bv in aT){ba(F(bv),null,null)}};this.removeAllEndpoints=function(bx){var bv=d(bx,"id"),by=aT[bv];if(by){for(var bw=0;bw<by.length;bw++){bn.deleteEndpoint(by[bw])}}aT[bv]=[]};this.removeEveryEndpoint=this.deleteEveryEndpoint;this.removeEndpoint=function(bv,bw){bn.deleteEndpoint(bw)};var ag={},bd=function(){for(var bw in ag){for(var bv=0;bv<ag[bw].length;bv++){var bx=ag[bw][bv];p.CurrentLibrary.unbind(bx.el,bx.event,bx.listener)}}ag={}};this.registerListener=function(bw,bv,bx){p.CurrentLibrary.bind(bw,bv,bx);V(ag,bv,{el:bw,event:bv,listener:bx})};this.unregisterListener=function(bw,bv,bx){p.CurrentLibrary.unbind(bw,bv,bx);D(ag,function(by){return by.type==bv&&by.listener==bx})};this.reset=function(){bn.deleteEveryEndpoint();bn.unbind();aZ={};aH={};bh={};ap={};az={};a5={};a9={};bd();bn.anchorManager.reset();bn.dragManager.reset()};this.setDefaultScope=function(bv){Q=bv};this.setDraggable=bk;this.setId=function(bz,bv,bB){var bC=bz.constructor==String?bz:bn.getId(bz),by=bn.getConnections({source:bC,scope:"*"},true),bx=bn.getConnections({target:bC,scope:"*"},true);bv=""+bv;if(!bB){bz=p.CurrentLibrary.getElementObject(bC);p.CurrentLibrary.setAttribute(bz,"id",bv)}bz=p.CurrentLibrary.getElementObject(bv);aT[bv]=aT[bC]||[];for(var bw=0;bw<aT[bv].length;bw++){aT[bv][bw].elementId=bv;aT[bv][bw].element=bz;aT[bv][bw].anchor.elementId=bv}delete aT[bC];bn.anchorManager.changeId(bC,bv);var bA=function(bG,bD,bF){for(var bE=0;bE<bG.length;bE++){bG[bE].endpoints[bD].elementId=bv;bG[bE].endpoints[bD].element=bz;bG[bE][bF+"Id"]=bv;bG[bE][bF]=bz}};bA(by,0,"source");bA(bx,1,"target")};this.setIdChanged=function(bw,bv){bn.setId(bw,bv,true)};this.setDebugLog=function(bv){P=bv};this.setRepaintFunction=function(bv){ar=bv};this.setSuspendDrawing=bg;this.CANVAS="canvas";this.SVG="svg";this.VML="vml";this.setRenderMode=function(bv){if(bv){bv=bv.toLowerCase()}else{return}if(bv!==p.CANVAS&&bv!==p.SVG&&bv!==p.VML){throw new Error("render mode must be one of jsPlumb.CANVAS, jsPlumb.SVG or jsPlumb.VML")}if(bv===p.SVG){if(e){X=p.SVG}else{if(A){X=p.CANVAS}else{if(b()){X=p.VML}}}}else{if(bv===p.CANVAS&&A){X=p.CANVAS}else{if(b()){X=p.VML}}}return X};this.getRenderMode=function(){return X};this.show=function(bv,bw){a3(bv,"block",bw)};this.sizeCanvas=function(bx,bv,bz,bw,by){if(bx){bx.style.height=by+"px";bx.height=by;bx.style.width=bw+"px";bx.width=bw;bx.style.left=bv+"px";bx.style.top=bz+"px"}};this.getTestHarness=function(){return{endpointsByElement:aT,endpointCount:function(bv){var bw=aT[bv];return bw?bw.length:0},connectionCount:function(bv){bv=bv||Q;var bw=aY[bv];return bw?bw.length:0},getId:K,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}};this.toggle=aQ;this.toggleVisible=aQ;this.toggleDraggable=bi;this.unload=function(){};this.wrap=am;this.addListener=this.bind;var bo=function(bA,bx){var by=null,bv=bA;if(bx.tagName.toLowerCase()==="svg"&&bx.parentNode){by=bx.parentNode}else{if(bx.offsetParent){by=bx.offsetParent}}if(by!=null){var bw=by.tagName.toLowerCase()==="body"?{left:0,top:0}:t(by),bz=by.tagName.toLowerCase()==="body"?{left:0,top:0}:{left:by.scrollLeft,top:by.scrollTop};bv[0]=bA[0]-bw.left+bz.left;bv[1]=bA[1]-bw.top+bz.top}return bv};var aa=function(bz){var bx=this;this.x=bz.x||0;this.y=bz.y||0;this.elementId=bz.elementId;var bw=bz.orientation||[0,0];var by=null,bv=null;this.offsets=bz.offsets||[0,0];bx.timestamp=null;this.compute=function(bE){var bD=bE.xy,bA=bE.wh,bB=bE.element,bC=bE.timestamp;if(bC&&bC===bx.timestamp){return bv}bv=[bD[0]+(bx.x*bA[0])+bx.offsets[0],bD[1]+(bx.y*bA[1])+bx.offsets[1]];bv=bo(bv,bB.canvas);bx.timestamp=bC;return bv};this.getOrientation=function(bA){return bw};this.equals=function(bA){if(!bA){return false}var bB=bA.getOrientation();var bC=this.getOrientation();return this.x==bA.x&&this.y==bA.y&&this.offsets[0]==bA.offsets[0]&&this.offsets[1]==bA.offsets[1]&&bC[0]==bB[0]&&bC[1]==bB[1]};this.getCurrentLocation=function(){return bv}};var a1=function(bB){var bz=bB.reference,bA=bB.referenceCanvas,bx=a(F(bA)),bw=0,bC=0,bv=null,by=null;this.x=0;this.y=0;this.isFloating=true;this.compute=function(bG){var bF=bG.xy,bE=bG.element,bD=[bF[0]+(bx[0]/2),bF[1]+(bx[1]/2)];bD=bo(bD,bE.canvas);by=bD;return bD};this.getOrientation=function(bE){if(bv){return bv}else{var bD=bz.getOrientation(bE);return[Math.abs(bD[0])*bw*-1,Math.abs(bD[1])*bC*-1]}};this.over=function(bD){bv=bD.getOrientation()};this.out=function(){bv=null};this.getCurrentLocation=function(){return by}};var aq=function(bx,bw,bC){this.isSelective=true;this.isDynamic=true;var bF=[],bE=this,bD=function(bG){return bG.constructor==aa?bG:bn.makeAnchor(bG,bC,bn)};for(var bB=0;bB<bx.length;bB++){bF[bB]=bD(bx[bB])}this.addAnchor=function(bG){bF.push(bD(bG))};this.getAnchors=function(){return bF};this.locked=false;var by=bF.length>0?bF[0]:null,bA=bF.length>0?0:-1,bE=this,bz=function(bI,bG,bM,bL,bH){var bK=bL[0]+(bI.x*bH[0]),bJ=bL[1]+(bI.y*bH[1]);return Math.sqrt(Math.pow(bG-bK,2)+Math.pow(bM-bJ,2))},bv=bw||function(bQ,bH,bI,bJ,bG){var bL=bI[0]+(bJ[0]/2),bK=bI[1]+(bJ[1]/2);var bN=-1,bP=Infinity;for(var bM=0;bM<bG.length;bM++){var bO=bz(bG[bM],bL,bK,bQ,bH);if(bO<bP){bN=bM+0;bP=bO}}return bG[bN]};this.compute=function(bK){var bJ=bK.xy,bG=bK.wh,bI=bK.timestamp,bH=bK.txy,bL=bK.twh;if(bE.locked||bH==null||bL==null){return by.compute(bK)}else{bK.timestamp=null}by=bv(bJ,bG,bH,bL,bF);bE.x=by.x;bE.y=by.y;return by.compute(bK)};this.getCurrentLocation=function(){return by!=null?by.getCurrentLocation():null};this.getOrientation=function(bG){return by!=null?by.getOrientation(bG):[0,0]};this.over=function(bG){if(by!=null){by.over(bG)}};this.out=function(){if(by!=null){by.out()}}};var bj={},ai={},aJ={},T={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},bl=function(bE,bF,bB,by){if(bE===bF){return{orientation:T.IDENTITY,a:["top","top"]}}var bw=Math.atan2((by.centery-bB.centery),(by.centerx-bB.centerx)),bz=Math.atan2((bB.centery-by.centery),(bB.centerx-by.centerx)),bA=((bB.left<=by.left&&bB.right>=by.left)||(bB.left<=by.right&&bB.right>=by.right)||(bB.left<=by.left&&bB.right>=by.right)||(by.left<=bB.left&&by.right>=bB.right)),bG=((bB.top<=by.top&&bB.bottom>=by.top)||(bB.top<=by.bottom&&bB.bottom>=by.bottom)||(bB.top<=by.top&&bB.bottom>=by.bottom)||(by.top<=bB.top&&by.bottom>=bB.bottom));if(!(bA||bG)){var bD=null,bx=false,bv=false,bC=null;if(by.left>bB.left&&by.top>bB.top){bD=["right","top"]}else{if(by.left>bB.left&&bB.top>by.top){bD=["top","left"]}else{if(by.left<bB.left&&by.top<bB.top){bD=["top","right"]}else{if(by.left<bB.left&&by.top>bB.top){bD=["left","top"]}}}}return{orientation:T.DIAGONAL,a:bD,theta:bw,theta2:bz}}else{if(bA){return{orientation:T.HORIZONTAL,a:bB.top<by.top?["bottom","top"]:["top","bottom"],theta:bw,theta2:bz}}else{return{orientation:T.VERTICAL,a:bB.left<by.left?["right","left"]:["left","right"],theta:bw,theta2:bz}}}},a2=function(bJ,bF,bD,bE,bK,bG,bx){var bL=[],bw=bF[bK?0:1]/(bE.length+1);for(var bH=0;bH<bE.length;bH++){var bM=(bH+1)*bw,bv=bG*bF[bK?1:0];if(bx){bM=bF[bK?0:1]-bM}var bC=(bK?bM:bv),bz=bD[0]+bC,bB=bC/bF[0],bA=(bK?bv:bM),by=bD[1]+bA,bI=bA/bF[1];bL.push([bz,by,bB,bI,bE[bH][1],bE[bH][2]])}return bL},a8=function(bw,bv){return bw[0]>bv[0]?1:-1},Z=function(bv){return function(bx,bw){var by=true;if(bv){if(bx[0][0]<bw[0][0]){by=true}else{by=bx[0][1]>bw[0][1]}}else{if(bx[0][0]>bw[0][0]){by=true}else{by=bx[0][1]>bw[0][1]}}return by===false?-1:1}},O=function(bw,bv){var by=bw[0][0]<0?-Math.PI-bw[0][0]:Math.PI-bw[0][0],bx=bv[0][0]<0?-Math.PI-bv[0][0]:Math.PI-bv[0][0];if(by>bx){return 1}else{return bw[0][1]>bv[0][1]?1:-1}},a0={top:a8,right:Z(true),bottom:Z(true),left:O},ao=function(bv,bw){return bv.sort(bw)},al=function(bw,bv){var by=ae[bw],bz=ah[bw],bx=function(bG,bN,bC,bF,bL,bK,bB){if(bF.length>0){var bJ=ao(bF,a0[bG]),bH=bG==="right"||bG==="top",bA=a2(bG,bN,bC,bJ,bL,bK,bH);var bO=function(bR,bQ){var bP=bo([bQ[0],bQ[1]],bR.canvas);ai[bR.id]=[bP[0],bP[1],bQ[2],bQ[3]];aJ[bR.id]=bB};for(var bD=0;bD<bA.length;bD++){var bI=bA[bD][4],bM=bI.endpoints[0].elementId===bw,bE=bI.endpoints[1].elementId===bw;if(bM){bO(bI.endpoints[0],bA[bD])}else{if(bE){bO(bI.endpoints[1],bA[bD])}}}}};bx("bottom",by,[bz.left,bz.top],bv.bottom,true,1,[0,1]);bx("top",by,[bz.left,bz.top],bv.top,true,0,[0,-1]);bx("left",by,[bz.left,bz.top],bv.left,false,0,[-1,0]);bx("right",by,[bz.left,bz.top],bv.right,false,1,[1,0])},aE=function(){var bv={},bz={},bw=this,by={};this.reset=function(){bv={};bz={};by={}};this.newConnection=function(bD){var bF=bD.sourceId,bC=bD.targetId,bA=bD.endpoints,bE=true,bB=function(bG,bH,bJ,bI,bK){if((bF==bC)&&bJ.isContinuous){p.CurrentLibrary.removeElement(bA[1].canvas);bE=false}V(bz,bI,[bK,bH,bJ.constructor==aq])};bB(0,bA[0],bA[0].anchor,bC,bD);if(bE){bB(1,bA[1],bA[1].anchor,bF,bD)}};this.connectionDetached=function(bA){var bB=bA.connection||bA;var bG=bB.sourceId,bH=bB.targetId,bK=bB.endpoints,bF=function(bL,bM,bO,bN,bP){if(bO.constructor==a1){}else{D(bz[bN],function(bQ){return bQ[0].id==bP.id})}};bF(1,bK[1],bK[1].anchor,bG,bB);bF(0,bK[0],bK[0].anchor,bH,bB);var bC=bB.sourceId,bD=bB.targetId,bJ=bB.endpoints[0].id,bE=bB.endpoints[1].id,bI=function(bN,bL){if(bN){var bM=function(bO){return bO[4]==bL};D(bN.top,bM);D(bN.left,bM);D(bN.bottom,bM);D(bN.right,bM)}};bI(by[bC],bJ);bI(by[bD],bE);bw.redraw(bC);bw.redraw(bD)};this.add=function(bB,bA){V(bv,bA,bB)};this.changeId=function(bB,bA){bz[bA]=bz[bB];bv[bA]=bv[bB];delete bz[bB];delete bv[bB]};this.getConnectionsFor=function(bA){return bz[bA]||[]};this.getEndpointsFor=function(bA){return bv[bA]||[]};this.deleteEndpoint=function(bA){D(bv[bA.elementId],function(bB){return bB.id==bA.id})};this.clearFor=function(bA){delete bv[bA];bv[bA]=[]};var bx=function(bU,bH,bP,bE,bK,bL,bN,bJ,bW,bM,bD,bT){var bR=-1,bC=-1,bF=bE.endpoints[bN],bO=bF.id,bI=[1,0][bN],bA=[[bH,bP],bE,bK,bL,bO],bB=bU[bW],bV=bF._continuousAnchorEdge?bU[bF._continuousAnchorEdge]:null;if(bV){var bS=i(bV,function(bX){return bX[4]==bO});if(bS!=-1){bV.splice(bS,1);for(var bQ=0;bQ<bV.length;bQ++){u(bD,bV[bQ][1],function(bX){return bX.id==bV[bQ][1].id});u(bT,bV[bQ][1].endpoints[bN],function(bX){return bX.id==bV[bQ][1].endpoints[bN].id})}}}for(var bQ=0;bQ<bB.length;bQ++){if(bN==1&&bB[bQ][3]===bL&&bC==-1){bC=bQ}u(bD,bB[bQ][1],function(bX){return bX.id==bB[bQ][1].id});u(bT,bB[bQ][1].endpoints[bN],function(bX){return bX.id==bB[bQ][1].endpoints[bN].id})}if(bR!=-1){bB[bR]=bA}else{var bG=bJ?bC!=-1?bC:0:bB.length;bB.splice(bG,0,bA)}bF._continuousAnchorEdge=bW};this.redraw=function(bP,bR,bC,bF){var b0=bv[bP]||[],bZ=bz[bP]||[],bB=[],bY=[],bD=[];bC=bC||r();bF=bF||{left:0,top:0};if(bR){bR={left:bR.left+bF.left,top:bR.top+bF.top}}W({elId:bP,offset:bR,recalc:false,timestamp:bC});var bK=ah[bP],bG=ae[bP],bM={};for(var bW=0;bW<bZ.length;bW++){var bH=bZ[bW][0],bJ=bH.sourceId,bE=bH.targetId,bI=bH.endpoints[0].anchor.isContinuous,bO=bH.endpoints[1].anchor.isContinuous;if(bI||bO){var bX=bJ+"_"+bE,bU=bE+"_"+bJ,bT=bM[bX],bN=bH.sourceId==bP?1:0;if(bI&&!by[bJ]){by[bJ]={top:[],right:[],bottom:[],left:[]}}if(bO&&!by[bE]){by[bE]={top:[],right:[],bottom:[],left:[]}}if(bP!=bE){W({elId:bE,timestamp:bC})}if(bP!=bJ){W({elId:bJ,timestamp:bC})}var bL=aN(bE),bA=aN(bJ);if(bE==bJ&&(bI||bO)){bx(by[bJ],-Math.PI/2,0,bH,false,bE,0,false,"top",bJ,bB,bY)}else{if(!bT){bT=bl(bJ,bE,bA.o,bL.o);bM[bX]=bT}if(bI){bx(by[bJ],bT.theta,0,bH,false,bE,0,false,bT.a[0],bJ,bB,bY)}if(bO){bx(by[bE],bT.theta2,-1,bH,true,bJ,1,true,bT.a[1],bE,bB,bY)}}if(bI){u(bD,bJ,function(b1){return b1===bJ})}if(bO){u(bD,bE,function(b1){return b1===bE})}u(bB,bH,function(b1){return b1.id==bH.id});if((bI&&bN==0)||(bO&&bN==1)){u(bY,bH.endpoints[bN],function(b1){return b1.id==bH.endpoints[bN].id})}}}for(var bW=0;bW<bD.length;bW++){al(bD[bW],by[bD[bW]])}for(var bW=0;bW<b0.length;bW++){b0[bW].paint({timestamp:bC,offset:bK,dimensions:bG})}for(var bW=0;bW<bY.length;bW++){bY[bW].paint({timestamp:bC,offset:bK,dimensions:bG})}for(var bW=0;bW<bZ.length;bW++){var bQ=bZ[bW][1];if(bQ.anchor.constructor==aq){bQ.paint({elementWithPrecedence:bP});u(bB,bZ[bW][0],function(b1){return b1.id==bZ[bW][0].id});for(var bV=0;bV<bQ.connections.length;bV++){if(bQ.connections[bV]!==bZ[bW][0]){u(bB,bQ.connections[bV],function(b1){return b1.id==bQ.connections[bV].id})}}}else{if(bQ.anchor.constructor==aa){u(bB,bZ[bW][0],function(b1){return b1.id==bZ[bW][0].id})}}}var bS=bf[bP];if(bS){bS.paint({timestamp:bC,recalc:false,elId:bP})}for(var bW=0;bW<bB.length;bW++){bB[bW].paint({elId:bP,timestamp:bC,recalc:false})}};this.rehomeEndpoint=function(bA,bE){var bB=bv[bA]||[],bC=bn.getId(bE);for(var bD=0;bD<bB.length;bD++){bw.add(bB[bD],bC)}bB.splice(0,bB.length)}};bn.anchorManager=new aE();bn.continuousAnchorFactory={get:function(bw){var bv=bj[bw.elementId];if(!bv){bv={type:"Continuous",compute:function(bx){return ai[bx.element.id]||[0,0]},getCurrentLocation:function(bx){return ai[bx.id]||[0,0]},getOrientation:function(bx){return aJ[bx.id]||[0,0]},isDynamic:true,isContinuous:true};bj[bw.elementId]=bv}return bv}};var aV=function(){var by={},bx=[],bw={},bv={};this.register=function(bB){var bA=p.CurrentLibrary;bB=bA.getElementObject(bB);var bD=bn.getId(bB),bz=bA.getDOMElement(bB);if(!by[bD]){by[bD]=bB;bx.push(bB);bw[bD]={}}var bC=function(bH){var bK=bA.getElementObject(bH),bJ=bA.getOffset(bK);for(var bE=0;bE<bH.childNodes.length;bE++){if(bH.childNodes[bE].nodeType!=3){var bG=bA.getElementObject(bH.childNodes[bE]),bI=bn.getId(bG,null,true);if(bI&&bv[bI]&&bv[bI]>0){var bF=bA.getOffset(bG);bw[bD][bI]={id:bI,offset:{left:bF.left-bJ.left,top:bF.top-bJ.top}}}}}};bC(bz)};this.endpointAdded=function(bB){var bF=p.CurrentLibrary,bI=document.body,bz=bn.getId(bB),bH=bF.getDOMElement(bB),bA=bH.parentNode,bD=bA==bI;bv[bz]=bv[bz]?bv[bz]+1:1;while(bA!=bI){var bE=bn.getId(bA);if(by[bE]){var bK=-1,bG=bF.getElementObject(bA),bC=bF.getOffset(bG);if(bw[bE][bz]==null){var bJ=p.CurrentLibrary.getOffset(bB);bw[bE][bz]={id:bz,offset:{left:bJ.left-bC.left,top:bJ.top-bC.top}}}break}bA=bA.parentNode}};this.endpointDeleted=function(bA){if(bv[bA.elementId]){bv[bA.elementId]--;if(bv[bA.elementId]<=0){for(var bz in bw){delete bw[bz][bA.elementId]}}}};this.getElementsForDraggable=function(bz){return bw[bz]};this.reset=function(){by={};bx=[];bw={};bv={}}};bn.dragManager=new aV();var ax=function(bN){var bG=this,bx=true;bG.idPrefix="_jsplumb_c_";bG.defaultLabelLocation=0.5;bG.defaultOverlayKeys=["Overlays","ConnectionOverlays"];this.parent=bN.parent;z.apply(this,arguments);this.isVisible=function(){return bx};this.setVisible=function(bP){bx=bP;bG[bP?"showOverlays":"hideOverlays"]();if(bG.connector&&bG.connector.canvas){bG.connector.canvas.style.display=bP?"block":"none"}};this.source=F(bN.source);this.target=F(bN.target);if(bN.sourceEndpoint){this.source=bN.sourceEndpoint.endpointWillMoveTo||bN.sourceEndpoint.getElement()}if(bN.targetEndpoint){this.target=bN.targetEndpoint.getElement()}bG.previousConnection=bN.previousConnection;var bD=bN.cost;bG.getCost=function(){return bD};bG.setCost=function(bP){bD=bP};var bB=bN.bidirectional===false?false:true;bG.isBidirectional=function(){return bB};this.sourceId=d(this.source,"id");this.targetId=d(this.target,"id");this.getAttachedElements=function(){return bG.endpoints};this.scope=bN.scope;this.endpoints=[];this.endpointStyles=[];var bM=function(bQ,bP){if(bQ){return bn.makeAnchor(bQ,bP,bn)}},bK=function(bP,bV,bQ,bS,bT,bR,bU){if(bP){bG.endpoints[bV]=bP;bP.addConnection(bG)}else{if(!bQ.endpoints){bQ.endpoints=[null,null]}var b1=bQ.endpoints[bV]||bQ.endpoint||bn.Defaults.Endpoints[bV]||p.Defaults.Endpoints[bV]||bn.Defaults.Endpoint||p.Defaults.Endpoint;if(!bQ.endpointStyles){bQ.endpointStyles=[null,null]}if(!bQ.endpointHoverStyles){bQ.endpointHoverStyles=[null,null]}var bZ=bQ.endpointStyles[bV]||bQ.endpointStyle||bn.Defaults.EndpointStyles[bV]||p.Defaults.EndpointStyles[bV]||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyle;if(bZ.fillStyle==null&&bR!=null){bZ.fillStyle=bR.strokeStyle}if(bZ.outlineColor==null&&bR!=null){bZ.outlineColor=bR.outlineColor}if(bZ.outlineWidth==null&&bR!=null){bZ.outlineWidth=bR.outlineWidth}var bY=bQ.endpointHoverStyles[bV]||bQ.endpointHoverStyle||bn.Defaults.EndpointHoverStyles[bV]||p.Defaults.EndpointHoverStyles[bV]||bn.Defaults.EndpointHoverStyle||p.Defaults.EndpointHoverStyle;if(bU!=null){if(bY==null){bY={}}if(bY.fillStyle==null){bY.fillStyle=bU.strokeStyle}}var bX=bQ.anchors?bQ.anchors[bV]:bQ.anchor?bQ.anchor:bM(bn.Defaults.Anchors[bV],bT)||bM(p.Defaults.Anchors[bV],bT)||bM(bn.Defaults.Anchor,bT)||bM(p.Defaults.Anchor,bT),b0=bQ.uuids?bQ.uuids[bV]:null,bW=aF({paintStyle:bZ,hoverPaintStyle:bY,endpoint:b1,connections:[bG],uuid:b0,anchor:bX,source:bS,scope:bQ.scope,container:bQ.container,reattach:bQ.reattach,detachable:bQ.detachable});bG.endpoints[bV]=bW;if(bQ.drawEndpoints===false){bW.setVisible(false,true,true)}return bW}};var bI=bK(bN.sourceEndpoint,0,bN,bG.source,bG.sourceId,bN.paintStyle,bN.hoverPaintStyle);if(bI){V(aT,this.sourceId,bI)}var by=((bG.sourceId==bG.targetId)&&bN.targetEndpoint==null)?bI:bN.targetEndpoint,bH=bK(by,1,bN,bG.target,bG.targetId,bN.paintStyle,bN.hoverPaintStyle);if(bH){V(aT,this.targetId,bH)}if(!this.scope){this.scope=this.endpoints[0].scope}if(bN.deleteEndpointsOnDetach){bG.endpointsToDeleteOnDetach=[bI,bH]}var bw=bn.Defaults.ConnectionsDetachable;if(bN.detachable===false){bw=false}if(bG.endpoints[0].connectionsDetachable===false){bw=false}if(bG.endpoints[1].connectionsDetachable===false){bw=false}if(bD==null){bD=bG.endpoints[0].getConnectionCost()}if(bN.bidirectional==null){bB=bG.endpoints[0].areConnectionsBidirectional()}this.isDetachable=function(){return bw===true};this.setDetachable=function(bP){bw=bP===true};var bO=p.extend({},this.endpoints[0].getParameters());p.extend(bO,this.endpoints[1].getParameters());p.extend(bO,bG.getParameters());bG.setParameters(bO);var bE=bG.setHover;bG.setHover=function(bP){bG.connector.setHover.apply(bG.connector,arguments);bE.apply(bG,arguments)};var bL=function(bP){if(x==null){bG.setHover(bP,false)}};this.setConnector=function(bP,bQ){if(bG.connector!=null){aX(bG.connector.getDisplayElements(),bG.parent)}var bR={_jsPlumb:bG._jsPlumb,parent:bN.parent,cssClass:bN.cssClass,container:bN.container,tooltip:bG.tooltip};if(C(bP)){this.connector=new p.Connectors[X][bP](bR)}else{if(n(bP)){this.connector=new p.Connectors[X][bP[0]](p.extend(bP[1],bR))}}bG.canvas=bG.connector.canvas;G(bG.connector,bG,bL);if(!bQ){bG.repaint()}};bG.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||bN.connector||bn.Defaults.Connector||p.Defaults.Connector,true);this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||bN.paintStyle||bn.Defaults.PaintStyle||p.Defaults.PaintStyle,true);this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||bN.hoverPaintStyle||bn.Defaults.HoverPaintStyle||p.Defaults.HoverPaintStyle,true);this.paintStyleInUse=this.getPaintStyle();this.moveParent=function(bS){var bR=p.CurrentLibrary,bQ=bR.getParent(bG.connector.canvas);if(bG.connector.bgCanvas){bR.removeElement(bG.connector.bgCanvas,bQ);bR.appendElement(bG.connector.bgCanvas,bS)}bR.removeElement(bG.connector.canvas,bQ);bR.appendElement(bG.connector.canvas,bS);for(var bP=0;bP<bG.overlays.length;bP++){if(bG.overlays[bP].isAppendedAtTopLevel){bR.removeElement(bG.overlays[bP].canvas,bQ);bR.appendElement(bG.overlays[bP].canvas,bS);if(bG.overlays[bP].reattachListeners){bG.overlays[bP].reattachListeners(bG.connector)}}}if(bG.connector.reattachListeners){bG.connector.reattachListeners()}};W({elId:this.sourceId});W({elId:this.targetId});var bA=ah[this.sourceId],bz=ae[this.sourceId],bv=ah[this.targetId],bC=ae[this.targetId],bF=r(),bJ=this.endpoints[0].anchor.compute({xy:[bA.left,bA.top],wh:bz,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[bv.left,bv.top],twh:bC,tElement:this.endpoints[1],timestamp:bF});this.endpoints[0].paint({anchorLoc:bJ,timestamp:bF});bJ=this.endpoints[1].anchor.compute({xy:[bv.left,bv.top],wh:bC,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[bA.left,bA.top],twh:bz,tElement:this.endpoints[0],timestamp:bF});this.endpoints[1].paint({anchorLoc:bJ,timestamp:bF});this.paint=function(b6){b6=b6||{};var bX=b6.elId,bY=b6.ui,bV=b6.recalc,bQ=b6.timestamp,bZ=false,b5=bZ?this.sourceId:this.targetId,bU=bZ?this.targetId:this.sourceId,bR=bZ?0:1,b7=bZ?1:0;var b8=W({elId:bX,offset:bY,recalc:bV,timestamp:bQ}),bW=W({elId:b5,timestamp:bQ});var b1=this.endpoints[b7],bP=this.endpoints[bR],bT=b1.anchor.getCurrentLocation(b1),b4=bP.anchor.getCurrentLocation(bP);var bS=0;for(var b3=0;b3<bG.overlays.length;b3++){var b0=bG.overlays[b3];if(b0.isVisible()){bS=Math.max(bS,b0.computeMaxSize(bG.connector))}}var b2=this.connector.compute(bT,b4,this.endpoints[b7],this.endpoints[bR],this.endpoints[b7].anchor,this.endpoints[bR].anchor,bG.paintStyleInUse.lineWidth,bS,b8,bW);bG.connector.paint(b2,bG.paintStyleInUse);for(var b3=0;b3<bG.overlays.length;b3++){var b0=bG.overlays[b3];if(b0.isVisible){bG.overlayPlacements[b3]=b0.draw(bG.connector,bG.paintStyleInUse,b2)}}};this.repaint=function(bQ){bQ=bQ||{};var bP=!(bQ.recalc===false);this.paint({elId:this.sourceId,recalc:bP,timestamp:bQ.timestamp})}};var bc=function(bw){var bv=false;return{drag:function(){if(bv){bv=false;return true}var bx=p.CurrentLibrary.getUIPosition(arguments),by=bw.element;if(by){p.CurrentLibrary.setOffset(by,bx);ba(F(by),bx)}},stopDrag:function(){bv=true}}};var at=function(bz,by,bA,bx,bv){var bw=new a1({reference:by,referenceCanvas:bx});return aF({paintStyle:bz,endpoint:bA,anchor:bw,source:bv,scope:"__floating"})};var R=function(bx,bv){var bz=document.createElement("div");bz.style.position="absolute";var bw=F(bz);aW(bz,bv);var by=K(bw);W({elId:by});bx.id=by;bx.element=bw};var af=function(b0){var bO=this;bO.idPrefix="_jsplumb_e_";bO.defaultLabelLocation=[0.5,0.5];bO.defaultOverlayKeys=["Overlays","EndpointOverlays"];this.parent=b0.parent;z.apply(this,arguments);b0=b0||{};var bA=true,by=!(b0.enabled===false);this.isVisible=function(){return bA};this.setVisible=function(b3,b6,b2){bA=b3;if(bO.canvas){bO.canvas.style.display=b3?"block":"none"}bO[b3?"showOverlays":"hideOverlays"]();if(!b6){for(var b5=0;b5<bO.connections.length;b5++){bO.connections[b5].setVisible(b3);if(!b2){var b4=bO===bO.connections[b5].endpoints[0]?1:0;if(bO.connections[b5].endpoints[b4].connections.length==1){bO.connections[b5].endpoints[b4].setVisible(b3,true,true)}}}}};this.isEnabled=function(){return by};this.setEnabled=function(b2){by=b2};var bN=b0.source,bH=b0.uuid,bY=null,bC=null;if(bH){aU[bH]=bO}var bF=d(bN,"id");this.elementId=bF;this.element=bN;var bx=b0.connectionCost;this.getConnectionCost=function(){return bx};this.setConnectionCost=function(b2){bx=b2};var bX=b0.connectionsBidirectional===false?false:true;this.areConnectionsBidirectional=function(){return bX};this.setConnectionsBidirectional=function(b2){bX=b2};bO.anchor=b0.anchor?bn.makeAnchor(b0.anchor,bF,bn):b0.anchors?bn.makeAnchor(b0.anchors,bF,bn):bn.makeAnchor("TopCenter",bF,bn);if(!b0._transient){bn.anchorManager.add(bO,bF)}var bL=null,bQ=null;this.setEndpoint=function(b2){var b3={_jsPlumb:bO._jsPlumb,parent:b0.parent,container:b0.container,tooltip:b0.tooltip,connectorTooltip:b0.connectorTooltip,endpoint:bO};if(C(b2)){bL=new p.Endpoints[X][b2](b3)}else{if(n(b2)){b3=p.extend(b2[1],b3);bL=new p.Endpoints[X][b2[0]](b3)}else{bL=b2.clone()}}var b4=p.extend({},b3);bL.clone=function(){var b5=new Object();bL.constructor.apply(b5,[b4]);return b5};bO.endpoint=bL;bO.type=bO.endpoint.type};this.setEndpoint(b0.endpoint||bn.Defaults.Endpoint||p.Defaults.Endpoint||"Dot");bQ=bL;var bM=bO.setHover;bO.setHover=function(){bO.endpoint.setHover.apply(bO.endpoint,arguments);bM.apply(bO,arguments)};var b1=function(b2){if(bO.connections.length>0){bO.connections[0].setHover(b2,false)}else{bO.setHover(b2)}};G(bO.endpoint,bO,b1);this.setPaintStyle(b0.paintStyle||b0.style||bn.Defaults.EndpointStyle||p.Defaults.EndpointStyle,true);this.setHoverPaintStyle(b0.hoverPaintStyle||bn.Defaults.EndpointHoverStyle||p.Defaults.EndpointHoverStyle,true);this.paintStyleInUse=this.getPaintStyle();var bJ=this.getPaintStyle();this.connectorStyle=b0.connectorStyle;this.connectorHoverStyle=b0.connectorHoverStyle;this.connectorOverlays=b0.connectorOverlays;this.connector=b0.connector;this.connectorTooltip=b0.connectorTooltip;this.isSource=b0.isSource||false;this.isTarget=b0.isTarget||false;var bU=b0.maxConnections||bn.Defaults.MaxConnections;this.getAttachedElements=function(){return bO.connections};this.canvas=this.endpoint.canvas;this.connections=b0.connections||[];this.scope=b0.scope||Q;this.timestamp=null;bO.isReattach=b0.reattach||false;bO.connectionsDetachable=bn.Defaults.ConnectionsDetachable;if(b0.connectionsDetachable===false||b0.detachable===false){bO.connectionsDetachable=false}var bI=b0.dragAllowedWhenFull||true;this.computeAnchor=function(b2){return bO.anchor.compute(b2)};this.addConnection=function(b2){bO.connections.push(b2)};this.detach=function(b3,b8,b4,cb,b2){var ca=i(bO.connections,function(cd){return cd.id==b3.id}),b9=false;cb=(cb!==false);if(ca>=0){if(b4||b3._forceDetach||b3.isDetachable()||b3.isDetachAllowed(b3)){var cc=b3.endpoints[0]==bO?b3.endpoints[1]:b3.endpoints[0];if(b4||b3._forceDetach||(bO.isDetachAllowed(b3))){bO.connections.splice(ca,1);if(!b8){cc.detach(b3,true,b4);if(b3.endpointsToDeleteOnDetach){for(var b7=0;b7<b3.endpointsToDeleteOnDetach.length;b7++){var b5=b3.endpointsToDeleteOnDetach[b7];if(b5&&b5.connections.length==0){bn.deleteEndpoint(b5)}}}}aX(b3.connector.getDisplayElements(),b3.parent);D(aY[b3.scope],function(cd){return cd.id==b3.id});b9=true;var b6=(!b8&&cb);a7(b3,b6,b2)}}}return b9};this.detachAll=function(b3,b2){while(bO.connections.length>0){bO.detach(bO.connections[0],false,true,b3,b2)}};this.detachFrom=function(b5,b4,b2){var b6=[];for(var b3=0;b3<bO.connections.length;b3++){if(bO.connections[b3].endpoints[1]==b5||bO.connections[b3].endpoints[0]==b5){b6.push(bO.connections[b3])}}for(var b3=0;b3<b6.length;b3++){if(bO.detach(b6[b3],false,true,b4,b2)){b6[b3].setHover(false,false)}}};this.detachFromConnection=function(b3){var b2=i(bO.connections,function(b4){return b4.id==b3.id});if(b2>=0){bO.connections.splice(b2,1)}};this.getElement=function(){return bN};this.setElement=function(b5,b2){var b7=K(b5);D(aT[bO.elementId],function(b8){return b8.id==bO.id});bN=F(b5);bF=K(bN);bO.elementId=bF;var b6=aw({source:b7,container:b2}),b4=bz.getParent(bO.canvas);bz.removeElement(bO.canvas,b4);bz.appendElement(bO.canvas,b6);for(var b3=0;b3<bO.connections.length;b3++){bO.connections[b3].moveParent(b6);bO.connections[b3].sourceId=bF;bO.connections[b3].source=bN}V(aT,b7,bO)};this.getUuid=function(){return bH};this.makeInPlaceCopy=function(){var b4=bO.anchor.getCurrentLocation(bO),b3=bO.anchor.getOrientation(bO),b2={compute:function(){return[b4[0],b4[1]]},getCurrentLocation:function(){return[b4[0],b4[1]]},getOrientation:function(){return b3}};return aF({anchor:b2,source:bN,paintStyle:this.getPaintStyle(),endpoint:bL,_transient:true,scope:bO.scope})};this.isConnectedTo=function(b4){var b3=false;if(b4){for(var b2=0;b2<bO.connections.length;b2++){if(bO.connections[b2].endpoints[1]==b4){b3=true;break}}}return b3};this.isFloating=function(){return bY!=null};this.connectorSelector=function(){var b2=bO.connections[0];if(bO.isTarget&&b2){return b2}else{return(bO.connections.length<bU)||bU==-1?null:b2}};this.isFull=function(){return !(bO.isFloating()||bU<1||bO.connections.length<bU)};this.setDragAllowedWhenFull=function(b2){bI=b2};this.setStyle=bO.setPaintStyle;this.equals=function(b2){return this.anchor.equals(b2.anchor)};var bK=function(b3){var b2=0;if(b3!=null){for(var b4=0;b4<bO.connections.length;b4++){if(bO.connections[b4].sourceId==b3||bO.connections[b4].targetId==b3){b2=b4;break}}}return bO.connections[b2]};this.paint=function(b5){b5=b5||{};var cb=b5.timestamp,ca=!(b5.recalc===false);if(!cb||bO.timestamp!==cb){W({elId:bF,timestamp:cb,recalc:ca});var ch=b5.offset||ah[bF];if(ch){var b8=b5.anchorPoint,b6=b5.connectorPaintStyle;if(b8==null){var b2=b5.dimensions||ae[bF];if(ch==null||b2==null){W({elId:bF,timestamp:cb});ch=ah[bF];b2=ae[bF]}var b4={xy:[ch.left,ch.top],wh:b2,element:bO,timestamp:cb};if(ca&&bO.anchor.isDynamic&&bO.connections.length>0){var ce=bK(b5.elementWithPrecedence),cg=ce.endpoints[0]==bO?1:0,b7=cg==0?ce.sourceId:ce.targetId,cd=ah[b7],cf=ae[b7];b4.txy=[cd.left,cd.top];b4.twh=cf;b4.tElement=ce.endpoints[cg]}b8=bO.anchor.compute(b4)}var cc=bL.compute(b8,bO.anchor.getOrientation(bO),bO.paintStyleInUse,b6||bO.paintStyleInUse);bL.paint(cc,bO.paintStyleInUse,bO.anchor);bO.timestamp=cb;for(var b9=0;b9<bO.overlays.length;b9++){var b3=bO.overlays[b9];if(b3.isVisible){bO.overlayPlacements[b9]=b3.draw(bO.endpoint,bO.paintStyleInUse,cc)}}}}};this.repaint=this.paint;this.removeConnection=this.detach;if(p.CurrentLibrary.isDragSupported(bN)){var bT={id:null,element:null},bS=null,bw=false,bB=null,bv=bc(bT);var bD=function(){bS=bO.connectorSelector();var b2=true;if(!bO.isEnabled()){b2=false}if(bS==null&&!b0.isSource){b2=false}if(b0.isSource&&bO.isFull()&&!bI){b2=false}if(bS!=null&&!bS.isDetachable()){b2=false}if(b2===false){if(p.CurrentLibrary.stopDrag){p.CurrentLibrary.stopDrag()}bv.stopDrag();return false}if(bS&&!bO.isFull()&&b0.isSource){bS=null}W({elId:bF});bC=bO.makeInPlaceCopy();bC.paint();R(bT,bO.parent);var b8=F(bC.canvas),b6=p.CurrentLibrary.getOffset(b8),b3=bo([b6.left,b6.top],bC.canvas);p.CurrentLibrary.setOffset(bT.element,{left:b3[0],top:b3[1]});if(bO.parentAnchor){bO.anchor=bn.makeAnchor(bO.parentAnchor,bO.elementId,bn)}f(F(bO.canvas),"dragId",bT.id);f(F(bO.canvas),"elId",bF);if(b0.proxy){bO.setPaintStyle(b0.proxy.paintStyle)}bY=at(bO.getPaintStyle(),bO.anchor,bL,bO.canvas,bT.element);if(bS==null){bO.anchor.locked=true;bO.setHover(false,false);bS=ad({sourceEndpoint:bO,targetEndpoint:bY,source:bO.endpointWillMoveTo||F(bN),target:bT.element,anchors:[bO.anchor,bY.anchor],paintStyle:b0.connectorStyle,hoverPaintStyle:b0.connectorHoverStyle,connector:b0.connector,overlays:b0.connectorOverlays})}else{bw=true;bS.connector.setHover(false,false);bE(F(bC.canvas),false,true);var b5=bS.endpoints[0].id==bO.id?0:1;bS.floatingAnchorIndex=b5;bO.detachFromConnection(bS);var b9=F(bO.canvas),b7=p.CurrentLibrary.getDragScope(b9);f(b9,"originalScope",b7);var b4=p.CurrentLibrary.getDropScope(b9);p.CurrentLibrary.setDragScope(b9,b4);if(b5==0){bB=[bS.source,bS.sourceId,bW,b7];bS.source=bT.element;bS.sourceId=bT.id}else{bB=[bS.target,bS.targetId,bW,b7];bS.target=bT.element;bS.targetId=bT.id}bS.endpoints[b5==0?1:0].anchor.locked=true;bS.suspendedEndpoint=bS.endpoints[b5];bS.suspendedEndpoint.setHover(false);bS.endpoints[b5]=bY;a4(bS)}bf[bT.id]=bS;bY.addConnection(bS);V(aT,bT.id,bY);bn.currentlyDragging=true};var bz=p.CurrentLibrary,bV=b0.dragOptions||{},bP=p.extend({},bz.defaultDragOptions),bR=bz.dragEvents.start,bZ=bz.dragEvents.stop,bG=bz.dragEvents.drag;bV=p.extend(bP,bV);bV.scope=bV.scope||bO.scope;bV[bR]=am(bV[bR],bD);bV[bG]=am(bV[bG],bv.drag);bV[bZ]=am(bV[bZ],function(){var b3=bz.getDropEvent(arguments);bn.currentlyDragging=false;D(aT[bT.id],function(b4){return b4.id==bY.id});aX([bT.element[0],bY.canvas],bN);au(bC.canvas,bN);bn.anchorManager.clearFor(bT.id);var b2=bS.floatingAnchorIndex==null?1:bS.floatingAnchorIndex;bS.endpoints[b2==0?1:0].anchor.locked=false;bO.setPaintStyle(bJ);if(bS.endpoints[b2]==bY){if(bw&&bS.suspendedEndpoint){if(b2==0){bS.source=bB[0];bS.sourceId=bB[1]}else{bS.target=bB[0];bS.targetId=bB[1]}p.CurrentLibrary.setDragScope(bB[2],bB[3]);bS.endpoints[b2]=bS.suspendedEndpoint;if(bO.isReattach||bS._forceDetach||!bS.endpoints[b2==0?1:0].detach(bS,false,false,true,b3)){bS.setHover(false);bS.floatingAnchorIndex=null;bS.suspendedEndpoint.addConnection(bS);bn.repaint(bB[1])}bS._forceDetach=null}else{aX(bS.connector.getDisplayElements(),bO.parent);bO.detachFromConnection(bS)}}bO.anchor.locked=false;bO.paint({recalc:false});bS.setHover(false,false);aR(bS);bS=null;bC=null;delete aT[bY.elementId];bY.anchor=null;bY=null;bn.currentlyDragging=false});var bW=F(bO.canvas);p.CurrentLibrary.initDraggable(bW,bV,true)}var bE=function(b4,b9,b7,ca){if((b0.isTarget||b9)&&p.CurrentLibrary.isDropSupported(bN)){var b5=b0.dropOptions||bn.Defaults.DropOptions||p.Defaults.DropOptions;b5=p.extend({},b5);b5.scope=b5.scope||bO.scope;var b3=p.CurrentLibrary.dragEvents.drop,b8=p.CurrentLibrary.dragEvents.over,b2=p.CurrentLibrary.dragEvents.out,b6=function(){var cb=p.CurrentLibrary.getDropEvent(arguments),co=F(p.CurrentLibrary.getDragObject(arguments)),cc=d(co,"dragId"),cf=d(co,"elId"),cn=d(co,"originalScope"),ci=bf[cc];if(ci!=null){var ck=ci.floatingAnchorIndex==null?1:ci.floatingAnchorIndex,cl=ck==0?1:0;if(cn){p.CurrentLibrary.setDragScope(co,cn)}var cm=ca!=null?ca.isEnabled():true;if(!bO.isFull()&&!(ck==0&&!bO.isSource)&&!(ck==1&&!bO.isTarget)&&cm){var cg=true;if(ci.suspendedEndpoint&&ci.suspendedEndpoint.id!=bO.id){if(ck==0){ci.source=ci.suspendedEndpoint.element;ci.sourceId=ci.suspendedEndpoint.elementId}else{ci.target=ci.suspendedEndpoint.element;ci.targetId=ci.suspendedEndpoint.elementId}if(!ci.isDetachAllowed(ci)||!ci.endpoints[ck].isDetachAllowed(ci)||!ci.suspendedEndpoint.isDetachAllowed(ci)||!bn.checkCondition("beforeDetach",ci)){cg=false}}if(ck==0){ci.source=bO.element;ci.sourceId=bO.elementId}else{ci.target=bO.element;ci.targetId=bO.elementId}cg=cg&&bO.isDropAllowed(ci.sourceId,ci.targetId,ci.scope,ci,bO);if(cg){ci.endpoints[ck].detachFromConnection(ci);if(ci.suspendedEndpoint){ci.suspendedEndpoint.detachFromConnection(ci)}ci.endpoints[ck]=bO;bO.addConnection(ci);var ce=bO.getParameters();for(var cj in ce){ci.setParameter(cj,ce[cj])}if(!ci.suspendedEndpoint){if(ce.draggable){p.CurrentLibrary.initDraggable(bO.element,bV,true)}}else{var ch=ci.suspendedEndpoint.getElement(),cd=ci.suspendedEndpoint.elementId;a7({source:ck==0?ch:ci.source,target:ck==1?ch:ci.target,sourceId:ck==0?cd:ci.sourceId,targetId:ck==1?cd:ci.targetId,sourceEndpoint:ck==0?ci.suspendedEndpoint:ci.endpoints[0],targetEndpoint:ck==1?ci.suspendedEndpoint:ci.endpoints[1],connection:ci},true,cb)}bt(ci,null,cb)}else{if(ci.suspendedEndpoint){ci.endpoints[ck]=ci.suspendedEndpoint;ci.setHover(false);ci._forceDetach=true;if(ck==0){ci.source=ci.suspendedEndpoint.element;ci.sourceId=ci.suspendedEndpoint.elementId}else{ci.target=ci.suspendedEndpoint.element;ci.targetId=ci.suspendedEndpoint.elementId}ci.suspendedEndpoint.addConnection(ci);ci.endpoints[0].repaint();ci.repaint();bn.repaint(ci.source.elementId);ci._forceDetach=false}}ci.floatingAnchorIndex=null}bn.currentlyDragging=false;delete bf[cc]}};b5[b3]=am(b5[b3],b6);b5[b8]=am(b5[b8],function(){if(bO.isTarget){var cc=p.CurrentLibrary.getDragObject(arguments),ce=d(F(cc),"dragId"),cd=bf[ce];if(cd!=null){var cb=cd.floatingAnchorIndex==null?1:cd.floatingAnchorIndex;cd.endpoints[cb].anchor.over(bO.anchor)}}});b5[b2]=am(b5[b2],function(){if(bO.isTarget){var cc=p.CurrentLibrary.getDragObject(arguments),ce=d(F(cc),"dragId"),cd=bf[ce];if(cd!=null){var cb=cd.floatingAnchorIndex==null?1:cd.floatingAnchorIndex;cd.endpoints[cb].anchor.out()}}});p.CurrentLibrary.initDroppable(b4,b5,true,b7)}};bE(F(bO.canvas),true,!(b0._transient||bO.anchor.isFloating),bO);return bO}};var p=window.jsPlumb=new y();p.getInstance=function(L){var K=new y(L);K.init();return K};var s=function(K,P,M,L,O,N){return function(R){R=R||{};var Q=R.jsPlumbInstance.makeAnchor([K,P,M,L,0,0],R.elementId,R.jsPlumbInstance);Q.type=O;if(N){N(Q,R)}return Q}};p.Anchors.TopCenter=s(0.5,0,0,-1,"TopCenter");p.Anchors.BottomCenter=s(0.5,1,0,1,"BottomCenter");p.Anchors.LeftMiddle=s(0,0.5,-1,0,"LeftMiddle");p.Anchors.RightMiddle=s(1,0.5,1,0,"RightMiddle");p.Anchors.Center=s(0.5,0.5,0,0,"Center");p.Anchors.TopRight=s(1,0,0,-1,"TopRight");p.Anchors.BottomRight=s(1,1,0,1,"BottomRight");p.Anchors.TopLeft=s(0,0,0,-1,"TopLeft");p.Anchors.BottomLeft=s(0,1,0,1,"BottomLeft");p.Defaults.DynamicAnchors=function(K){return K.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],K.elementId,K.jsPlumbInstance)};p.Anchors.AutoDefault=function(L){var K=L.jsPlumbInstance.makeDynamicAnchor(p.Defaults.DynamicAnchors(L));K.type="AutoDefault";return K};p.Anchors.Assign=s(0,0,0,0,"Assign",function(L,M){var K=M.position||"Fixed";L.positionFinder=K.constructor==String?M.jsPlumbInstance.AnchorPositionFinders[K]:K;L.constructorParams=M});p.Anchors.Continuous=function(K){return K.jsPlumbInstance.continuousAnchorFactory.get(K)};p.AnchorPositionFinders={Fixed:function(N,K,M,L){return[(N.left-K.left)/M[0],(N.top-K.top)/M[1]]},Grid:function(K,T,O,L){var S=K.left-T.left,R=K.top-T.top,Q=O[0]/(L.grid[0]),P=O[1]/(L.grid[1]),N=Math.floor(S/Q),M=Math.floor(R/P);return[((N*Q)+(Q/2))/O[0],((M*P)+(P/2))/O[1]]}}})();(function(){jsPlumb.DOMElementComponent=function(c){jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(d){}};jsPlumb.Connectors.Straight=function(){this.type="Straight";var r=this,i=null,e,k,p,n,l,f,q,h,g,d,c,o,m;this.compute=function(A,J,s,z,F,t,D,v){var I=Math.abs(A[0]-J[0]),C=Math.abs(A[1]-J[1]),B=0.45*I,u=0.45*C;I*=1.9;C*=1.9;var G=Math.min(A[0],J[0])-B;var E=Math.min(A[1],J[1])-u;var H=Math.max(2*D,v);if(I<H){I=H;G=A[0]+((J[0]-A[0])/2)-(H/2);B=(I-Math.abs(A[0]-J[0]))/2}if(C<H){C=H;E=A[1]+((J[1]-A[1])/2)-(H/2);u=(C-Math.abs(A[1]-J[1]))/2}h=A[0]<J[0]?B:I-B;g=A[1]<J[1]?u:C-u;d=A[0]<J[0]?I-B:B;c=A[1]<J[1]?C-u:u;i=[G,E,I,C,h,g,d,c];n=d-h,l=c-g;e=jsPlumbUtil.gradient({x:h,y:g},{x:d,y:c}),k=-1/e;p=-1*((e*h)-g);f=Math.atan(e);q=Math.atan(k);m=Math.sqrt((n*n)+(l*l));return i};this.pointOnPath=function(t,u){if(t==0&&!u){return{x:h,y:g}}else{if(t==1&&!u){return{x:d,y:c}}else{var s=u?t>0?t:m+t:t*m;return jsPlumbUtil.pointOnLine({x:h,y:g},{x:d,y:c},s)}}};this.gradientAtPoint=function(s){return e};this.pointAlongPathFrom=function(s,w,v){var u=r.pointOnPath(s,v),t=s==1?{x:h+((d-h)*10),y:g+((g-c)*10)}:{x:d,y:c};return jsPlumbUtil.pointOnLine(u,t,w)}};jsPlumb.Connectors.Bezier=function(v){var p=this;v=v||{};this.majorAnchor=v.curviness||150;this.minorAnchor=10;var t=null;this.type="Bezier";this._findControlPoint=function(H,w,C,x,A,F,y){var E=F.getOrientation(x),G=y.getOrientation(A),B=E[0]!=G[0]||E[1]==G[1],z=[],I=p.majorAnchor,D=p.minorAnchor;if(!B){if(E[0]==0){z.push(w[0]<C[0]?H[0]+D:H[0]-D)}else{z.push(H[0]-(I*E[0]))}if(E[1]==0){z.push(w[1]<C[1]?H[1]+D:H[1]-D)}else{z.push(H[1]+(I*G[1]))}}else{if(G[0]==0){z.push(C[0]<w[0]?H[0]+D:H[0]-D)}else{z.push(H[0]+(I*G[0]))}if(G[1]==0){z.push(C[1]<w[1]?H[1]+D:H[1]-D)}else{z.push(H[1]+(I*E[1]))}}return z};var q,l,f,o,n,f,e,s,r,u,d,h,g,k,i;this.compute=function(S,z,M,A,Q,x,w,L){w=w||0;u=Math.abs(S[0]-z[0])+w;d=Math.abs(S[1]-z[1])+w;s=Math.min(S[0],z[0])-(w/2);r=Math.min(S[1],z[1])-(w/2);f=S[0]<z[0]?u-(w/2):(w/2);e=S[1]<z[1]?d-(w/2):(w/2);o=S[0]<z[0]?(w/2):u-(w/2);n=S[1]<z[1]?(w/2):d-(w/2);q=p._findControlPoint([f,e],S,z,M,A,Q,x);l=p._findControlPoint([o,n],z,S,A,M,x,Q);var K=Math.min(f,o),J=Math.min(q[0],l[0]),F=Math.min(K,J),R=Math.max(f,o),O=Math.max(q[0],l[0]),C=Math.max(R,O);if(C>u){u=C}if(F<0){s+=F;var H=Math.abs(F);u+=H;q[0]+=H;f+=H;o+=H;l[0]+=H}var P=Math.min(e,n),N=Math.min(q[1],l[1]),B=Math.min(P,N),G=Math.max(e,n),E=Math.max(q[1],l[1]),y=Math.max(G,E);if(y>d){d=y}if(B<0){r+=B;var D=Math.abs(B);d+=D;q[1]+=D;e+=D;n+=D;l[1]+=D}if(L&&u<L){var I=(L-u)/2;u=L;s-=I;f=f+I;o=o+I;q[0]=q[0]+I;l[0]=l[0]+I}if(L&&d<L){var I=(L-d)/2;d=L;r-=I;e=e+I;n=n+I;q[1]=q[1]+I;l[1]=l[1]+I}t=[s,r,u,d,f,e,o,n,q[0],q[1],l[0],l[1]];return t};var c=function(){return[{x:f,y:e},{x:q[0],y:q[1]},{x:l[0],y:l[1]},{x:o,y:n}]};var m=function(x,w,y){if(y){w=jsBezier.locationAlongCurveFrom(x,w>0?0:1,w)}return w};this.pointOnPath=function(w,y){var x=c();w=m(x,w,y);return jsBezier.pointOnCurve(x,w)};this.gradientAtPoint=function(w,y){var x=c();w=m(x,w,y);return jsBezier.gradientAtPoint(x,w)};this.pointAlongPathFrom=function(w,z,y){var x=c();w=m(x,w,y);return jsBezier.pointAlongCurveFrom(x,w,z)}};jsPlumb.Connectors.Flowchart=function(v){this.type="Flowchart";v=v||{};var n=this,c=v.stub||v.minStubLength||30,f=jsPlumbUtil.isArray(c)?c[0]:c,k=jsPlumbUtil.isArray(c)?c[1]:c,p=v.gap||0,q=[],i=0,d=[],m=[],r=[],o,l,u=-Infinity,s=-Infinity,w=Infinity,t=Infinity,x=function(z,y,D,C){var B=0;for(var A=0;A<q.length;A++){m[A]=q[A][5]/i;d[A]=[B,(B+=(q[A][5]/i))]}},h=function(){r.push(q.length);for(var y=0;y<q.length;y++){r.push(q[y][0]);r.push(q[y][1])}},g=function(I,F,H,G,E,D){var A=q.length==0?H:q[q.length-1][0],z=q.length==0?G:q[q.length-1][1],B=I==A?Infinity:0,C=Math.abs(I==A?F-z:I-A);q.push([I,F,A,z,B,C]);i+=C;u=Math.max(u,I);s=Math.max(s,F);w=Math.min(w,I);t=Math.min(t,F)},e=function(A,C){if(C){A=A>0?A/i:(i+A)/i}var y=d.length-1,z=1;for(var B=0;B<d.length;B++){if(d[B][1]>=A){y=B;z=(A-d[B][0])/m[B];break}}return{segment:q[y],proportion:z,index:y}};this.compute=function(W,ak,z,Q,av,K,U,P,ap,am){q=[];d=[];i=0;m=[];u=s=-Infinity;w=t=Infinity;o=ak[0]<W[0];l=ak[1]<W[1];var aa=U||1,E=(aa/2)+(f+k),B=(aa/2)+(k+f),D=(aa/2)+(f+k),A=(aa/2)+(k+f),N=av.orientation||av.getOrientation(z),aw=K.orientation||K.getOrientation(Q),aj=o?ak[0]:W[0],ai=l?ak[1]:W[1],al=Math.abs(ak[0]-W[0])+E+B,au=Math.abs(ak[1]-W[1])+D+A;if(N[0]==0&&N[1]==0||aw[0]==0&&aw[1]==0){var ac=al>au?0:1,ae=[1,0][ac];N=[];aw=[];N[ac]=W[ac]>ak[ac]?-1:1;aw[ac]=W[ac]>ak[ac]?1:-1;N[ae]=0;aw[ae]=0}if(al<P){E+=(P-al)/2;al=P}if(au<P){D+=(P-au)/2;au=P}var I=o?(al-B)+(p*N[0]):E+(p*N[0]),H=l?(au-A)+(p*N[1]):D+(p*N[1]),ar=o?E+(p*aw[0]):(al-B)+(p*aw[0]),aq=l?D+(p*aw[1]):(au-A)+(p*aw[1]),Z=I+(N[0]*f),Y=H+(N[1]*f),L=ar+(aw[0]*k),J=aq+(aw[1]*k),V=Math.abs(I-ar)>(f+k),X=Math.abs(H-aq)>(f+k),ah=Z+((L-Z)/2),af=Y+((J-Y)/2),O=((N[0]*aw[0])+(N[1]*aw[1])),ab=O==-1,ad=O==0,C=O==1;aj-=E;ai-=D;r=[aj,ai,al,au,I,H,ar,aq];var ao=[];var S=N[0]==0?"y":"x",M=ab?"opposite":C?"orthogonal":"perpendicular",F=jsPlumbUtil.segment([I,H],[ar,aq]),ag=N[S=="x"?0:1]==-1,R={x:[null,4,3,2,1],y:[null,2,1,4,3]};if(ag){F=R[S][F]}g(Z,Y,I,H,ar,aq);var T=function(az,ay,y,ax){return az+(ay*((1-y)*ax)+Math.max(f,k))},G={oppositex:function(){if(z.elementId==Q.elementId){var y=Y+((1-av.y)*ap.height)+Math.max(f,k);return[[Z,y],[L,y]]}else{if(V&&(F==1||F==2)){return[[ah,H],[ah,aq]]}else{return[[Z,af],[L,af]]}}},orthogonalx:function(){if(F==1||F==2){return[[L,Y]]}else{return[[Z,J]]}},perpendicularx:function(){var y=(aq+H)/2;if((F==1&&aw[1]==1)||(F==2&&aw[1]==-1)){if(Math.abs(ar-I)>Math.max(f,k)){return[[L,Y]]}else{return[[Z,Y],[Z,y],[L,y]]}}else{if((F==3&&aw[1]==-1)||(F==4&&aw[1]==1)){return[[Z,y],[L,y]]}else{if((F==3&&aw[1]==1)||(F==4&&aw[1]==-1)){return[[Z,J]]}else{if((F==1&&aw[1]==-1)||(F==2&&aw[1]==1)){if(Math.abs(ar-I)>Math.max(f,k)){return[[ah,Y],[ah,J]]}else{return[[Z,J]]}}}}}},oppositey:function(){if(z.elementId==Q.elementId){var y=Z+((1-av.x)*ap.width)+Math.max(f,k);return[[y,Y],[y,J]]}else{if(X&&(F==2||F==3)){return[[I,af],[ar,af]]}else{return[[ah,Y],[ah,J]]}}},orthogonaly:function(){if(F==2||F==3){return[[Z,J]]}else{return[[L,Y]]}},perpendiculary:function(){var y=(ar+I)/2;if((F==2&&aw[0]==-1)||(F==3&&aw[0]==1)){if(Math.abs(ar-I)>Math.max(f,k)){return[[Z,J]]}else{return[[Z,af],[L,af]]}}else{if((F==1&&aw[0]==-1)||(F==4&&aw[0]==1)){var y=(ar+I)/2;return[[y,Y],[y,J]]}else{if((F==1&&aw[0]==1)||(F==4&&aw[0]==-1)){return[[L,Y]]}else{if((F==2&&aw[0]==1)||(F==3&&aw[0]==-1)){if(Math.abs(aq-H)>Math.max(f,k)){return[[Z,af],[L,af]]}else{return[[L,Y]]}}}}}}};var an=G[M+S]();if(an){for(var at=0;at<an.length;at++){g(an[at][0],an[at][1],I,H,ar,aq)}}g(L,J,I,H,ar,aq);g(ar,aq,I,H,ar,aq);h();x(I,H,ar,aq);if(s>r[3]){r[3]=s+(U*2)}if(u>r[2]){r[2]=u+(U*2)}return r};this.pointOnPath=function(y,z){return n.pointAlongPathFrom(y,0,z)};this.gradientAtPoint=function(y,z){return q[e(y,z)["index"]][4]};this.pointAlongPathFrom=function(F,y,E){var G=e(F,E),C=G.segment,z=G.proportion,B=q[G.index][5],A=q[G.index][4];var D={x:A==Infinity?C[2]:C[2]>C[0]?C[0]+((1-z)*B)-y:C[2]+(z*B)+y,y:A==0?C[3]:C[3]>C[1]?C[1]+((1-z)*B)-y:C[3]+(z*B)+y,segmentInfo:G};return D}};jsPlumb.Endpoints.Dot=function(d){this.type="Dot";var c=this;d=d||{};this.radius=d.radius||10;this.defaultOffset=0.5*this.radius;this.defaultInnerRadius=this.radius/3;this.compute=function(i,f,l,h){var g=l.radius||c.radius,e=i[0]-g,k=i[1]-g;return[e,k,g*2,g*2,g]}};jsPlumb.Endpoints.Rectangle=function(d){this.type="Rectangle";var c=this;d=d||{};this.width=d.width||20;this.height=d.height||20;this.compute=function(k,g,m,i){var h=m.width||c.width,f=m.height||c.height,e=k[0]-(h/2),l=k[1]-(f/2);return[e,l,h,f]}};var a=function(e){jsPlumb.DOMElementComponent.apply(this,arguments);var c=this;var d=[];this.getDisplayElements=function(){return d};this.appendDisplayElement=function(f){d.push(f)}};jsPlumb.Endpoints.Image=function(g){this.type="Image";a.apply(this,arguments);var l=this,f=false,e=g.width,d=g.height,i=null,c=g.endpoint;this.img=new Image();l.ready=false;this.img.onload=function(){l.ready=true;e=e||l.img.width;d=d||l.img.height;if(i){i(l)}};c.setImage=function(m,o){var n=m.constructor==String?m:m.src;i=o;l.img.src=m;if(l.canvas!=null){l.canvas.setAttribute("src",m)}};c.setImage(g.src||g.url,g.onload);this.compute=function(o,m,p,n){l.anchorPoint=o;if(l.ready){return[o[0]-e/2,o[1]-d/2,e,d]}else{return[0,0,0,0]}};l.canvas=document.createElement("img"),f=false;l.canvas.style.margin=0;l.canvas.style.padding=0;l.canvas.style.outline=0;l.canvas.style.position="absolute";var h=g.cssClass?" "+g.cssClass:"";l.canvas.className=jsPlumb.endpointClass+h;if(e){l.canvas.setAttribute("width",e)}if(d){l.canvas.setAttribute("height",d)}jsPlumb.appendElement(l.canvas,g.parent);l.attachListeners(l.canvas,l);var k=function(p,o,n){if(!f){l.canvas.setAttribute("src",l.img.src);l.appendDisplayElement(l.canvas);f=true}var m=l.anchorPoint[0]-(e/2),q=l.anchorPoint[1]-(d/2);jsPlumb.sizeCanvas(l.canvas,m,q,e,d)};this.paint=function(o,n,m){if(l.ready){k(o,n,m)}else{window.setTimeout(function(){l.paint(o,n,m)},200)}}};jsPlumb.Endpoints.Blank=function(d){var c=this;this.type="Blank";a.apply(this,arguments);this.compute=function(g,e,h,f){return[g[0],g[1],10,0]};c.canvas=document.createElement("div");c.canvas.style.display="block";c.canvas.style.width="1px";c.canvas.style.height="1px";c.canvas.style.background="transparent";c.canvas.style.position="absolute";c.canvas.className=c._jsPlumb.endpointClass;jsPlumb.appendElement(c.canvas,d.parent);this.paint=function(g,f,e){jsPlumb.sizeCanvas(c.canvas,g[0],g[1],g[2],g[3])}};jsPlumb.Endpoints.Triangle=function(c){this.type="Triangle";c=c||{};c.width=c.width||55;c.height=c.height||55;this.width=c.width;this.height=c.height;this.compute=function(i,f,l,h){var g=l.width||self.width,e=l.height||self.height,d=i[0]-(g/2),k=i[1]-(e/2);return[d,k,g,e]}};var b=function(e){var d=true,c=this;this.isAppendedAtTopLevel=true;this.component=e.component;this.loc=e.location==null?0.5:e.location;this.endpointLoc=e.endpointLocation==null?[0.5,0.5]:e.endpointLocation;this.setVisible=function(f){d=f;c.component.repaint()};this.isVisible=function(){return d};this.hide=function(){c.setVisible(false)};this.show=function(){c.setVisible(true)};this.incrementLocation=function(f){c.loc+=f;c.component.repaint()};this.setLocation=function(f){c.loc=f;c.component.repaint()};this.getLocation=function(){return c.loc}};jsPlumb.Overlays.Arrow=function(g){this.type="Arrow";b.apply(this,arguments);this.isAppendedAtTopLevel=false;g=g||{};var d=this;this.length=g.length||20;this.width=g.width||20;this.id=g.id;var f=(g.direction||1)<0?-1:1,e=g.paintStyle||{lineWidth:1},c=g.foldback||0.623;this.computeMaxSize=function(){return d.width*1.5};this.cleanup=function(){};this.draw=function(k,z,u){var o,v,h,p,n;if(k.pointAlongPathFrom){if(jsPlumbUtil.isString(d.loc)||d.loc>1||d.loc<0){var i=parseInt(d.loc);o=k.pointAlongPathFrom(i,f*d.length/2,true),v=k.pointOnPath(i,true),h=jsPlumbUtil.pointOnLine(o,v,d.length)}else{if(d.loc==1){o=k.pointOnPath(d.loc);v=k.pointAlongPathFrom(d.loc,-1);h=jsPlumbUtil.pointOnLine(o,v,d.length)}else{if(d.loc==0){h=k.pointOnPath(d.loc);v=k.pointAlongPathFrom(d.loc,1);o=jsPlumbUtil.pointOnLine(h,v,d.length)}else{o=k.pointAlongPathFrom(d.loc,f*d.length/2),v=k.pointOnPath(d.loc),h=jsPlumbUtil.pointOnLine(o,v,d.length)}}}p=jsPlumbUtil.perpendicularLineTo(o,h,d.width);n=jsPlumbUtil.pointOnLine(o,h,c*d.length);var y=Math.min(o.x,p[0].x,p[1].x),s=Math.max(o.x,p[0].x,p[1].x),x=Math.min(o.y,p[0].y,p[1].y),r=Math.max(o.y,p[0].y,p[1].y);var q={hxy:o,tail:p,cxy:n},t=e.strokeStyle||z.strokeStyle,w=e.fillStyle||z.strokeStyle,m=e.lineWidth||z.lineWidth;d.paint(k,q,m,t,w,u);return[y,s,x,r]}else{return[0,0,0,0]}}};jsPlumb.Overlays.PlainArrow=function(d){d=d||{};var c=jsPlumb.extend(d,{foldback:1});jsPlumb.Overlays.Arrow.call(this,c);this.type="PlainArrow"};jsPlumb.Overlays.Diamond=function(e){e=e||{};var c=e.length||40,d=jsPlumb.extend(e,{length:c/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,d);this.type="Diamond"};jsPlumb.Overlays.Label=function(i){this.type="Label";jsPlumb.DOMElementComponent.apply(this,arguments);b.apply(this,arguments);this.labelStyle=i.labelStyle||jsPlumb.Defaults.LabelStyle;this.id=i.id;this.cachedDimensions=null;var e=i.label||"",c=this,f=false,k=document.createElement("div"),g=null;k.style.position="absolute";var d=i._jsPlumb.overlayClass+" "+(c.labelStyle.cssClass?c.labelStyle.cssClass:i.cssClass?i.cssClass:"");k.className=d;jsPlumb.appendElement(k,i.component.parent);jsPlumb.getId(k);c.attachListeners(k,c);c.canvas=k;var h=c.setVisible;c.setVisible=function(l){h(l);k.style.display=l?"block":"none"};this.getElement=function(){return k};this.cleanup=function(){if(k!=null){jsPlumb.CurrentLibrary.removeElement(k)}};this.setLabel=function(m){e=m;g=null;c.component.repaint()};this.getLabel=function(){return e};this.paint=function(l,n,m){if(!f){l.appendDisplayElement(k);c.attachListeners(k,l);f=true}k.style.left=(m[0]+n.minx)+"px";k.style.top=(m[1]+n.miny)+"px"};this.getTextDimensions=function(){if(typeof e=="function"){var l=e(c);k.innerHTML=l.replace(/\r\n/g,"<br/>")}else{if(g==null){g=e;k.innerHTML=g.replace(/\r\n/g,"<br/>")}}var n=jsPlumb.CurrentLibrary.getElementObject(k),m=jsPlumb.CurrentLibrary.getSize(n);return{width:m[0],height:m[1]}};this.computeMaxSize=function(l){var m=c.getTextDimensions(l);return m.width?Math.max(m.width,m.height)*1.5:0};this.draw=function(m,n,o){var s=c.getTextDimensions(m);if(s.width!=null){var p={x:0,y:0};if(m.pointOnPath){var q=c.loc,r=false;if(jsPlumbUtil.isString(c.loc)||c.loc<0||c.loc>1){q=parseInt(c.loc);r=true}p=m.pointOnPath(q,r)}else{var l=c.loc.constructor==Array?c.loc:c.endpointLoc;p={x:l[0]*o[2],y:l[1]*o[3]}}minx=p.x-(s.width/2),miny=p.y-(s.height/2);c.paint(m,{minx:minx,miny:miny,td:s,cxy:p},o);return[minx,minx+s.width,miny,miny+s.height]}else{return[0,0,0,0]}};this.reattachListeners=function(l){if(k){c.reattachListenersForElement(k,c,l)}}};jsPlumb.Overlays.GuideLines=function(){var c=this;c.length=50;c.lineWidth=5;this.type="GuideLines";b.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.draw=function(e,l,k){var i=e.pointAlongPathFrom(c.loc,c.length/2),h=e.pointOnPath(c.loc),g=jsPlumbUtil.pointOnLine(i,h,c.length),f=jsPlumbUtil.perpendicularLineTo(i,g,40),d=jsPlumbUtil.perpendicularLineTo(g,i,20);c.paint(e,[i,g,f,d],c.lineWidth,"red",null,k);return[Math.min(i.x,g.x),Math.min(i.y,g.y),Math.max(i.x,g.x),Math.max(i.y,g.y)]};this.computeMaxSize=function(){return 50};this.cleanup=function(){}}})();(function(){var c=function(e,g,d,f){this.m=(f-g)/(d-e);this.b=-1*((this.m*e)-g);this.rectIntersect=function(q,p,s,o){var n=[];var k=(p-this.b)/this.m;if(k>=q&&k<=(q+s)){n.push([k,(this.m*k)+this.b])}var t=(this.m*(q+s))+this.b;if(t>=p&&t<=(p+o)){n.push([(t-this.b)/this.m,t])}var k=((p+o)-this.b)/this.m;if(k>=q&&k<=(q+s)){n.push([k,(this.m*k)+this.b])}var t=(this.m*q)+this.b;if(t>=p&&t<=(p+o)){n.push([(t-this.b)/this.m,t])}if(n.length==2){var m=(n[0][0]+n[1][0])/2,l=(n[0][1]+n[1][1])/2;n.push([m,l]);var i=m<=q+(s/2)?-1:1,r=l<=p+(o/2)?-1:1;n.push([i,r]);return n}return null}},a=function(e,g,d,f){if(e<=d&&f<=g){return 1}else{if(e<=d&&g<=f){return 2}else{if(d<=e&&f>=g){return 3}}}return 4},b=function(g,f,i,e,h,m,l,d,k){if(d<=k){return[g,f]}if(i==1){if(e[3]<=0&&h[3]>=1){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]>=1&&h[2]<=0){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(-1*m),f+(-1*l)]}}}else{if(i==2){if(e[3]>=1&&h[3]<=0){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]>=1&&h[2]<=0){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(1*m),f+(-1*l)]}}}else{if(i==3){if(e[3]>=1&&h[3]<=0){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]<=0&&h[2]>=1){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(-1*m),f+(-1*l)]}}}else{if(i==4){if(e[3]<=0&&h[3]>=1){return[g+(e[2]<0.5?-1*m:m),f]}else{if(e[2]<=0&&h[2]>=1){return[g,f+(e[3]<0.5?-1*l:l)]}else{return[g+(1*m),f+(-1*l)]}}}}}}};jsPlumb.Connectors.StateMachine=function(l){var u=this,n=null,o,m,g,e,p=[],d=l.curviness||10,k=l.margin||5,q=l.proximityLimit||80,f=l.orientation&&l.orientation=="clockwise",i=l.loopbackRadius||25,h=false,t=l.showLoopback!==false;this.type="StateMachine";l=l||{};this.compute=function(ad,H,W,I,ac,z,v,U){var Q=Math.abs(ad[0]-H[0]),Y=Math.abs(ad[1]-H[1]),S=0.45*Q,ab=0.45*Y;Q*=1.9;Y*=1.9;v=v||1;var O=Math.min(ad[0],H[0])-S,M=Math.min(ad[1],H[1])-ab;if(!t||(W.elementId!=I.elementId)){h=false;o=ad[0]<H[0]?S:Q-S;m=ad[1]<H[1]?ab:Y-ab;g=ad[0]<H[0]?Q-S:S;e=ad[1]<H[1]?Y-ab:ab;if(ad[2]==0){o-=k}if(ad[2]==1){o+=k}if(ad[3]==0){m-=k}if(ad[3]==1){m+=k}if(H[2]==0){g-=k}if(H[2]==1){g+=k}if(H[3]==0){e-=k}if(H[3]==1){e+=k}var N=(o+g)/2,L=(m+e)/2,A=(-1*N)/L,V=Math.atan(A),P=(A==Infinity||A==-Infinity)?0:Math.abs(d/2*Math.sin(V)),R=(A==Infinity||A==-Infinity)?0:Math.abs(d/2*Math.cos(V)),B=a(o,m,g,e),J=Math.sqrt(Math.pow(g-o,2)+Math.pow(e-m,2));p=b(N,L,B,ad,H,d,d,J,q);var G=Math.max(Math.abs(p[0]-o)*3,Math.abs(p[0]-g)*3,Math.abs(g-o),2*v,U),K=Math.max(Math.abs(p[1]-m)*3,Math.abs(p[1]-e)*3,Math.abs(e-m),2*v,U);if(Q<G){var T=G-Q;O-=(T/2);o+=(T/2);g+=(T/2);Q=G;p[0]+=(T/2)}if(Y<K){var aa=K-Y;M-=(aa/2);m+=(aa/2);e+=(aa/2);Y=K;p[1]+=(aa/2)}n=[O,M,Q,Y,o,m,g,e,p[0],p[1]]}else{h=true;var Z=ad[0],X=ad[0],F=ad[1]-k,D=ad[1]-k,E=Z,C=F-i;Q=((2*v)+(4*i)),Y=((2*v)+(4*i));O=E-i-v-i,M=C-i-v-i;n=[O,M,Q,Y,E-O,C-M,i,f,Z-O,F-M,X-O,D-M]}return n};var r=function(){return[{x:g,y:e},{x:p[0],y:p[1]},{x:p[0]+1,y:p[1]+1},{x:o,y:m}]};var s=function(w,v,x){if(x){v=jsBezier.locationAlongCurveFrom(w,v>0?0:1,v)}return v};this.pointOnPath=function(x,B){if(h){if(B){var y=Math.PI*2*i;x=x/y}if(x>0&&x<1){x=1-x}var z=(x*2*Math.PI)+(Math.PI/2),w=n[4]+(n[6]*Math.cos(z)),v=n[5]+(n[6]*Math.sin(z));return{x:w,y:v}}else{var A=r();x=s(A,x,B);return jsBezier.pointOnCurve(A,x)}};this.gradientAtPoint=function(v,y){if(h){if(y){var w=Math.PI*2*i;v=v/w}return Math.atan(v*2*Math.PI)}else{var x=r();v=s(x,v,y);return jsBezier.gradientAtPoint(x,v)}};this.pointAlongPathFrom=function(D,v,C){if(h){if(C){var B=Math.PI*2*i;D=D/B}if(D>0&&D<1){D=1-D}var B=2*Math.PI*n[6],w=v/B*2*Math.PI,z=(D*2*Math.PI)-w+(Math.PI/2),y=n[4]+(n[6]*Math.cos(z)),x=n[5]+(n[6]*Math.sin(z));return{x:y,y:x}}else{var A=r();D=s(A,D,C);return jsBezier.pointAlongCurveFrom(A,D,v)}}};jsPlumb.Connectors.canvas.StateMachine=function(f){f=f||{};var d=this,g=f.drawGuideline||true,e=f.avoidSelector;jsPlumb.Connectors.StateMachine.apply(this,arguments);jsPlumb.CanvasConnector.apply(this,arguments);this._paint=function(l){if(l.length==10){d.ctx.beginPath();d.ctx.moveTo(l[4],l[5]);d.ctx.bezierCurveTo(l[8],l[9],l[8],l[9],l[6],l[7]);d.ctx.stroke()}else{d.ctx.save();d.ctx.beginPath();var k=0,i=2*Math.PI,h=l[7];d.ctx.arc(l[4],l[5],l[6],0,i,h);d.ctx.stroke();d.ctx.closePath();d.ctx.restore()}};this.createGradient=function(i,h){return h.createLinearGradient(i[4],i[5],i[6],i[7])}};jsPlumb.Connectors.svg.StateMachine=function(){var d=this;jsPlumb.Connectors.StateMachine.apply(this,arguments);jsPlumb.SvgConnector.apply(this,arguments);this.getPath=function(e){if(e.length==10){return"M "+e[4]+" "+e[5]+" C "+e[8]+" "+e[9]+" "+e[8]+" "+e[9]+" "+e[6]+" "+e[7]}else{return"M"+(e[8]+4)+" "+e[9]+" A "+e[6]+" "+e[6]+" 0 1,0 "+(e[8]-4)+" "+e[9]}}};jsPlumb.Connectors.vml.StateMachine=function(){jsPlumb.Connectors.StateMachine.apply(this,arguments);jsPlumb.VmlConnector.apply(this,arguments);var d=jsPlumb.vml.convertValue;this.getPath=function(k){if(k.length==10){return"m"+d(k[4])+","+d(k[5])+" c"+d(k[8])+","+d(k[9])+","+d(k[8])+","+d(k[9])+","+d(k[6])+","+d(k[7])+" e"}else{var h=d(k[8]-k[6]),g=d(k[9]-(2*k[6])),f=h+d(2*k[6]),e=g+d(2*k[6]),l=h+","+g+","+f+","+e;var i="ar "+l+","+d(k[8])+","+d(k[9])+","+d(k[8])+","+d(k[9])+" e";return i}}}})();(function(){var h={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},c=null;if(document.createStyleSheet&&document.namespaces){var m=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"],g="behavior:url(#default#VML);position:absolute;";c=document.createStyleSheet();for(var r=0;r<m.length;r++){c.addRule(m[r],g)}document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var t=1000,s={},a=function(u,i){var w=jsPlumb.getId(u),v=s[w];if(!v){v=f("group",[0,0,t,t],{"class":i});v.style.backgroundColor="red";s[w]=v;jsPlumb.appendElement(v,u)}return v},e=function(v,w){for(var u in w){v[u]=w[u]}},f=function(u,x,y,v,i){y=y||{};var w=document.createElement("jsplumb:"+u);i.appendElement(w,v);w.className=(y["class"]?y["class"]+" ":"")+"jsplumb_vml";k(w,x);e(w,y);return w},k=function(u,i){u.style.left=i[0]+"px";u.style.top=i[1]+"px";u.style.width=i[2]+"px";u.style.height=i[3]+"px";u.style.position="absolute"},p=jsPlumb.vml.convertValue=function(i){return Math.floor(i*t)},b=function(w,u,v,i){if("transparent"===u){i.setOpacity(v,"0.0")}else{i.setOpacity(v,"1.0")}},q=function(y,u,B,C){var x={};if(u.strokeStyle){x.stroked="true";var D=jsPlumbUtil.convertStyle(u.strokeStyle,true);x.strokecolor=D;b(x,D,"stroke",B);x.strokeweight=u.lineWidth+"px"}else{x.stroked="false"}if(u.fillStyle){x.filled="true";var v=jsPlumbUtil.convertStyle(u.fillStyle,true);x.fillcolor=v;b(x,v,"fill",B)}else{x.filled="false"}if(u.dashstyle){if(B.strokeNode==null){B.strokeNode=f("stroke",[0,0,0,0],{dashstyle:u.dashstyle},y,C)}else{B.strokeNode.dashstyle=u.dashstyle}}else{if(u["stroke-dasharray"]&&u.lineWidth){var E=u["stroke-dasharray"].indexOf(",")==-1?" ":",",z=u["stroke-dasharray"].split(E),w="";for(var A=0;A<z.length;A++){w+=(Math.floor(z[A]/u.lineWidth)+E)}if(B.strokeNode==null){B.strokeNode=f("stroke",[0,0,0,0],{dashstyle:w},y,C)}else{B.strokeNode.dashstyle=w}}}e(y,x)},n=function(){var i=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.opacityNodes={stroke:null,fill:null};this.initOpacityNodes=function(v){i.opacityNodes.stroke=f("stroke",[0,0,1,1],{opacity:"0.0"},v,i._jsPlumb);i.opacityNodes.fill=f("fill",[0,0,1,1],{opacity:"0.0"},v,i._jsPlumb)};this.setOpacity=function(v,x){var w=i.opacityNodes[v];if(w){w.opacity=""+x}};var u=[];this.getDisplayElements=function(){return u};this.appendDisplayElement=function(w,v){if(!v){i.canvas.parentNode.appendChild(w)}u.push(w)}},d=jsPlumb.VmlConnector=function(v){var i=this;i.strokeNode=null;i.canvas=null;n.apply(this,arguments);var u=i._jsPlumb.connectorClass+(v.cssClass?(" "+v.cssClass):"");this.paint=function(A,x,z){if(x!=null){var E=i.getPath(A),y={path:E};if(x.outlineColor){var C=x.outlineWidth||1,D=x.lineWidth+(2*C),B={strokeStyle:jsPlumbUtil.convertStyle(x.outlineColor),lineWidth:D};for(var w in h){B[w]=x[w]}if(i.bgCanvas==null){y["class"]=u;y.coordsize=(A[2]*t)+","+(A[3]*t);i.bgCanvas=f("shape",A,y,v.parent,i._jsPlumb);k(i.bgCanvas,A);i.appendDisplayElement(i.bgCanvas,true);i.attachListeners(i.bgCanvas,i);i.initOpacityNodes(i.bgCanvas,["stroke"])}else{y.coordsize=(A[2]*t)+","+(A[3]*t);k(i.bgCanvas,A);e(i.bgCanvas,y)}q(i.bgCanvas,B,i)}if(i.canvas==null){y["class"]=u;y.coordsize=(A[2]*t)+","+(A[3]*t);if(i.tooltip){y.label=i.tooltip}i.canvas=f("shape",A,y,v.parent,i._jsPlumb);i.appendDisplayElement(i.canvas,true);i.attachListeners(i.canvas,i);i.initOpacityNodes(i.canvas,["stroke"])}else{y.coordsize=(A[2]*t)+","+(A[3]*t);k(i.canvas,A);e(i.canvas,y)}q(i.canvas,x,i,i._jsPlumb)}};this.reattachListeners=function(){if(i.canvas){i.reattachListenersForElement(i.canvas,i)}}},l=window.VmlEndpoint=function(y){n.apply(this,arguments);var i=null,v=this,u=null,x=null;v.canvas=document.createElement("div");v.canvas.style.position="absolute";var w=v._jsPlumb.endpointClass+(y.cssClass?(" "+y.cssClass):"");y._jsPlumb.appendElement(v.canvas,y.parent);if(v.tooltip){v.canvas.setAttribute("label",v.tooltip)}this.paint=function(C,A,z){var B={};jsPlumb.sizeCanvas(v.canvas,C[0],C[1],C[2],C[3]);if(i==null){B["class"]=w;i=v.getVml([0,0,C[2],C[3]],B,z,v.canvas,v._jsPlumb);v.attachListeners(i,v);v.appendDisplayElement(i,true);v.appendDisplayElement(v.canvas,true);v.initOpacityNodes(i,["fill"])}else{k(i,[0,0,C[2],C[3]]);e(i,B)}q(i,A,v)};this.reattachListeners=function(){if(i){v.reattachListenersForElement(i,v)}}};jsPlumb.Connectors.vml.Bezier=function(){jsPlumb.Connectors.Bezier.apply(this,arguments);d.apply(this,arguments);this.getPath=function(i){return"m"+p(i[4])+","+p(i[5])+" c"+p(i[8])+","+p(i[9])+","+p(i[10])+","+p(i[11])+","+p(i[6])+","+p(i[7])+" e"}};jsPlumb.Connectors.vml.Straight=function(){jsPlumb.Connectors.Straight.apply(this,arguments);d.apply(this,arguments);this.getPath=function(i){return"m"+p(i[4])+","+p(i[5])+" l"+p(i[6])+","+p(i[7])+" e"}};jsPlumb.Connectors.vml.Flowchart=function(){jsPlumb.Connectors.Flowchart.apply(this,arguments);d.apply(this,arguments);this.getPath=function(v){var w="m "+p(v[4])+","+p(v[5])+" l";for(var u=0;u<v[8];u++){w=w+" "+p(v[9+(u*2)])+","+p(v[10+(u*2)])}w=w+" "+p(v[6])+","+p(v[7])+" e";return w}};jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);l.apply(this,arguments);this.getVml=function(w,x,u,v,i){return f("oval",w,x,v,i)}};jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);l.apply(this,arguments);this.getVml=function(w,x,u,v,i){return f("rect",w,x,v,i)}};jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label;var o=function(x,v){x.apply(this,v);n.apply(this,v);var u=this,w=null;u.canvas=null;u.isAppendedAtTopLevel=true;var i=function(z,y){return"m "+p(z.hxy.x)+","+p(z.hxy.y)+" l "+p(z.tail[0].x)+","+p(z.tail[0].y)+" "+p(z.cxy.x)+","+p(z.cxy.y)+" "+p(z.tail[1].x)+","+p(z.tail[1].y)+" x e"};this.paint=function(B,G,F,H,L,K){var z={};if(H){z.stroked="true";z.strokecolor=jsPlumbUtil.convertStyle(H,true)}if(F){z.strokeweight=F+"px"}if(L){z.filled="true";z.fillcolor=L}var y=Math.min(G.hxy.x,G.tail[0].x,G.tail[1].x,G.cxy.x),J=Math.min(G.hxy.y,G.tail[0].y,G.tail[1].y,G.cxy.y),C=Math.max(G.hxy.x,G.tail[0].x,G.tail[1].x,G.cxy.x),A=Math.max(G.hxy.y,G.tail[0].y,G.tail[1].y,G.cxy.y),I=Math.abs(C-y),E=Math.abs(A-J),D=[y,J,I,E];z.path=i(G,K);z.coordsize=(K[2]*t)+","+(K[3]*t);D[0]=K[0];D[1]=K[1];D[2]=K[2];D[3]=K[3];if(u.canvas==null){u.canvas=f("shape",D,z,B.canvas.parentNode,B._jsPlumb);B.appendDisplayElement(u.canvas,true);u.attachListeners(u.canvas,B);u.attachListeners(u.canvas,u)}else{k(u.canvas,D);e(u.canvas,z)}};this.reattachListeners=function(){if(u.canvas){u.reattachListenersForElement(u.canvas,u)}};this.cleanup=function(){if(u.canvas!=null){jsPlumb.CurrentLibrary.removeElement(u.canvas)}}};jsPlumb.Overlays.vml.Arrow=function(){o.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumb.Overlays.vml.PlainArrow=function(){o.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumb.Overlays.vml.Diamond=function(){o.apply(this,[jsPlumb.Overlays.Diamond,arguments])}})();(function(){var l={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},w="stroke-dasharray",A="dashstyle",e="linearGradient",b="radialGradient",c="fill",a="stop",z="stroke",q="stroke-width",h="style",m="none",t="jsplumb_gradient_",o="lineWidth",C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},g=function(F,D){for(var E in D){F.setAttribute(E,""+D[E])}},f=function(E,D){var F=document.createElementNS(C.svg,E);D=D||{};D.version="1.1";D.xmlns=C.xhtml;g(F,D);return F},n=function(D){return"position:absolute;left:"+D[0]+"px;top:"+D[1]+"px"},i=function(E){for(var D=0;D<E.childNodes.length;D++){if(E.childNodes[D].tagName==e||E.childNodes[D].tagName==b){E.removeChild(E.childNodes[D])}}},v=function(N,I,F,D,J){var G=t+J._jsPlumb.idstamp();i(N);if(!F.gradient.offset){var L=f(e,{id:G,gradientUnits:"userSpaceOnUse"});N.appendChild(L)}else{var L=f(b,{id:G});N.appendChild(L)}for(var K=0;K<F.gradient.stops.length;K++){var H=K;if(D.length==8){H=D[4]<D[6]?K:F.gradient.stops.length-1-K}else{H=D[4]<D[6]?F.gradient.stops.length-1-K:K}var M=jsPlumbUtil.convertStyle(F.gradient.stops[H][1],true);var O=f(a,{offset:Math.floor(F.gradient.stops[K][0]*100)+"%","stop-color":M});L.appendChild(O)}var E=F.strokeStyle?z:c;I.setAttribute(h,E+":url(#"+G+")")},x=function(K,G,E,D,H){if(E.gradient){v(K,G,E,D,H)}else{i(K);G.setAttribute(h,"")}G.setAttribute(c,E.fillStyle?jsPlumbUtil.convertStyle(E.fillStyle,true):m);G.setAttribute(z,E.strokeStyle?jsPlumbUtil.convertStyle(E.strokeStyle,true):m);if(E.lineWidth){G.setAttribute(q,E.lineWidth)}if(E[A]&&E[o]&&!E[w]){var L=E[A].indexOf(",")==-1?" ":",",I=E[A].split(L),F="";I.forEach(function(M){F+=(Math.floor(M*E.lineWidth)+L)});G.setAttribute(w,F)}else{if(E[w]){G.setAttribute(w,E[w])}}for(var J in l){if(E[J]){G.setAttribute(l[J],E[J])}}},B=function(F){var D=/([0-9].)(p[xt])\s(.*)/;var E=F.match(D);return{size:E[1]+E[2],font:E[3]}},r=function(I,J,E){var K=E.split(" "),H=I.className,G=H.baseVal.split(" ");for(var F=0;F<K.length;F++){if(J){if(G.indexOf(K[F])==-1){G.push(K[F])}}else{var D=G.indexOf(K[F]);if(D!=-1){G.splice(D,1)}}}I.className.baseVal=G.join(" ")},u=function(E,D){r(E,true,D)},k=function(E,D){r(E,false,D)};jsPlumbUtil.svg={addClass:u,removeClass:k,node:f,attr:g,pos:n};var s=function(H){var D=this,G=H.pointerEventsSpec||"all";jsPlumb.jsPlumbUIComponent.apply(this,H.originalArgs);D.canvas=null,D.path=null,D.svg=null;var F=H.cssClass+" "+(H.originalArgs[0].cssClass||""),I={style:"",width:0,height:0,"pointer-events":G,position:"absolute"};if(D.tooltip){I.title=D.tooltip}D.svg=f("svg",I);if(H.useDivWrapper){D.canvas=document.createElement("div");D.canvas.style.position="absolute";jsPlumb.sizeCanvas(D.canvas,0,0,1,1);D.canvas.className=F;if(D.tooltip){D.canvas.setAttribute("title",D.tooltip)}}else{g(D.svg,{"class":F});D.canvas=D.svg}H._jsPlumb.appendElement(D.canvas,H.originalArgs[0]["parent"]);if(H.useDivWrapper){D.canvas.appendChild(D.svg)}var E=[D.canvas];this.getDisplayElements=function(){return E};this.appendDisplayElement=function(J){E.push(J)};this.paint=function(M,L,K){if(L!=null){var J=M[0],N=M[1];if(H.useDivWrapper){jsPlumb.sizeCanvas(D.canvas,M[0],M[1],M[2],M[3]);J=0,N=0}g(D.svg,{style:n([J,N,M[2],M[3]]),width:M[2],height:M[3]});D._paint.apply(this,arguments)}}};var d=jsPlumb.SvgConnector=function(E){var D=this;s.apply(this,[{cssClass:E._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",tooltip:E.tooltip,_jsPlumb:E._jsPlumb}]);this._paint=function(L,H){var K=D.getPath(L),F={d:K},J=null;F["pointer-events"]="all";if(H.outlineColor){var I=H.outlineWidth||1,G=H.lineWidth+(2*I),J=jsPlumb.CurrentLibrary.extend({},H);J.strokeStyle=jsPlumbUtil.convertStyle(H.outlineColor);J.lineWidth=G;if(D.bgPath==null){D.bgPath=f("path",F);D.svg.appendChild(D.bgPath);D.attachListeners(D.bgPath,D)}else{g(D.bgPath,F)}x(D.svg,D.bgPath,J,L,D)}if(D.path==null){D.path=f("path",F);D.svg.appendChild(D.path);D.attachListeners(D.path,D)}else{g(D.path,F)}x(D.svg,D.path,H,L,D)};this.reattachListeners=function(){if(D.bgPath){D.reattachListenersForElement(D.bgPath,D)}if(D.path){D.reattachListenersForElement(D.path,D)}}};jsPlumb.Connectors.svg.Bezier=function(D){jsPlumb.Connectors.Bezier.apply(this,arguments);d.apply(this,arguments);this.getPath=function(F){var E="M "+F[4]+" "+F[5];E+=(" C "+F[8]+" "+F[9]+" "+F[10]+" "+F[11]+" "+F[6]+" "+F[7]);return E}};jsPlumb.Connectors.svg.Straight=function(D){jsPlumb.Connectors.Straight.apply(this,arguments);d.apply(this,arguments);this.getPath=function(E){return"M "+E[4]+" "+E[5]+" L "+E[6]+" "+E[7]}};jsPlumb.Connectors.svg.Flowchart=function(){var D=this;jsPlumb.Connectors.Flowchart.apply(this,arguments);d.apply(this,arguments);this.getPath=function(F){var G="M "+F[4]+","+F[5];for(var E=0;E<F[8];E++){G=G+" L "+F[9+(E*2)]+" "+F[10+(E*2)]}G=G+" "+F[6]+","+F[7];return G}};var y=window.SvgEndpoint=function(E){var D=this;s.apply(this,[{cssClass:E._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:true,_jsPlumb:E._jsPlumb}]);this._paint=function(H,G){var F=jsPlumb.extend({},G);if(F.outlineColor){F.strokeWidth=F.outlineWidth;F.strokeStyle=jsPlumbUtil.convertStyle(F.outlineColor,true)}if(D.node==null){D.node=D.makeNode(H,F);D.svg.appendChild(D.node);D.attachListeners(D.node,D)}x(D.svg,D.node,F,H,D);n(D.node,H)};this.reattachListeners=function(){if(D.node){D.reattachListenersForElement(D.node,D)}}};jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);y.apply(this,arguments);this.makeNode=function(E,D){return f("circle",{cx:E[2]/2,cy:E[3]/2,r:E[2]/2})}};jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);y.apply(this,arguments);this.makeNode=function(E,D){return f("rect",{width:E[2],height:E[3]})}};jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label;var p=function(H,F){H.apply(this,F);jsPlumb.jsPlumbUIComponent.apply(this,F);this.isAppendedAtTopLevel=false;var D=this,G=null;this.paint=function(J,M,I,N,K){if(G==null){G=f("path",{"pointer-events":"all"});J.svg.appendChild(G);D.attachListeners(G,J);D.attachListeners(G,D)}var L=F&&(F.length==1)?(F[0].cssClass||""):"";g(G,{d:E(M),"class":L,stroke:N?N:null,fill:K?K:null})};var E=function(I){return"M"+I.hxy.x+","+I.hxy.y+" L"+I.tail[0].x+","+I.tail[0].y+" L"+I.cxy.x+","+I.cxy.y+" L"+I.tail[1].x+","+I.tail[1].y+" L"+I.hxy.x+","+I.hxy.y};this.reattachListeners=function(){if(G){D.reattachListenersForElement(G,D)}};this.cleanup=function(){if(G!=null){jsPlumb.CurrentLibrary.removeElement(G)}}};jsPlumb.Overlays.svg.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumb.Overlays.svg.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumb.Overlays.svg.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumb.Overlays.svg.GuideLines=function(){var I=null,D=this,H=null,G,F;jsPlumb.Overlays.GuideLines.apply(this,arguments);this.paint=function(K,M,J,N,L){if(I==null){I=f("path");K.svg.appendChild(I);D.attachListeners(I,K);D.attachListeners(I,D);G=f("path");K.svg.appendChild(G);D.attachListeners(G,K);D.attachListeners(G,D);F=f("path");K.svg.appendChild(F);D.attachListeners(F,K);D.attachListeners(F,D)}g(I,{d:E(M[0],M[1]),stroke:"red",fill:null});g(G,{d:E(M[2][0],M[2][1]),stroke:"blue",fill:null});g(F,{d:E(M[3][0],M[3][1]),stroke:"green",fill:null})};var E=function(K,J){return"M "+K.x+","+K.y+" L"+J.x+","+J.y}}})();(function(){var d=null,i=function(p,o){return jsPlumb.CurrentLibrary.hasClass(a(p),o)},a=function(o){return jsPlumb.CurrentLibrary.getElementObject(o)},m=function(o){return jsPlumb.CurrentLibrary.getOffset(a(o))},n=function(o){return jsPlumb.CurrentLibrary.getPageXY(o)},f=function(o){return jsPlumb.CurrentLibrary.getClientXY(o)};var k=function(){var q=this;q.overlayPlacements=[];jsPlumb.jsPlumbUIComponent.apply(this,arguments);jsPlumbUtil.EventGenerator.apply(this,arguments);this._over=function(z){var B=m(a(q.canvas)),D=n(z),u=D[0]-B.left,C=D[1]-B.top;if(u>0&&C>0&&u<q.canvas.width&&C<q.canvas.height){for(var v=0;v<q.overlayPlacements.length;v++){var w=q.overlayPlacements[v];if(w&&(w[0]<=u&&w[1]>=u&&w[2]<=C&&w[3]>=C)){return true}}var A=q.canvas.getContext("2d").getImageData(parseInt(u),parseInt(C),1,1);return A.data[0]!=0||A.data[1]!=0||A.data[2]!=0||A.data[3]!=0}return false};var p=false,o=false,t=null,s=false,r=function(v,u){return v!=null&&i(v,u)};this.mousemove=function(x){var z=n(x),w=f(x),v=document.elementFromPoint(w[0],w[1]),y=r(v,"_jsPlumb_overlay");var u=d==null&&(r(v,"_jsPlumb_endpoint")||r(v,"_jsPlumb_connector"));if(!p&&u&&q._over(x)){p=true;q.fire("mouseenter",q,x);return true}else{if(p&&(!q._over(x)||!u)&&!y){p=false;q.fire("mouseexit",q,x)}}q.fire("mousemove",q,x)};this.click=function(u){if(p&&q._over(u)&&!s){q.fire("click",q,u)}s=false};this.dblclick=function(u){if(p&&q._over(u)&&!s){q.fire("dblclick",q,u)}s=false};this.mousedown=function(u){if(q._over(u)&&!o){o=true;t=m(a(q.canvas));q.fire("mousedown",q,u)}};this.mouseup=function(u){o=false;q.fire("mouseup",q,u)};this.contextmenu=function(u){if(p&&q._over(u)&&!s){q.fire("contextmenu",q,u)}s=false}};var c=function(p){var o=document.createElement("canvas");p._jsPlumb.appendElement(o,p.parent);o.style.position="absolute";if(p["class"]){o.className=p["class"]}p._jsPlumb.getId(o,p.uuid);if(p.tooltip){o.setAttribute("title",p.tooltip)}return o};var l=function(p){k.apply(this,arguments);var o=[];this.getDisplayElements=function(){return o};this.appendDisplayElement=function(q){o.push(q)}};var h=jsPlumb.CanvasConnector=function(r){l.apply(this,arguments);var o=function(v,t){p.ctx.save();jsPlumb.extend(p.ctx,t);if(t.gradient){var u=p.createGradient(v,p.ctx);for(var s=0;s<t.gradient.stops.length;s++){u.addColorStop(t.gradient.stops[s][0],t.gradient.stops[s][1])}p.ctx.strokeStyle=u}p._paint(v,t);p.ctx.restore()};var p=this,q=p._jsPlumb.connectorClass+" "+(r.cssClass||"");p.canvas=c({"class":q,_jsPlumb:p._jsPlumb,parent:r.parent,tooltip:r.tooltip});p.ctx=p.canvas.getContext("2d");p.appendDisplayElement(p.canvas);p.paint=function(w,t){if(t!=null){jsPlumb.sizeCanvas(p.canvas,w[0],w[1],w[2],w[3]);if(t.outlineColor!=null){var v=t.outlineWidth||1,s=t.lineWidth+(2*v),u={strokeStyle:t.outlineColor,lineWidth:s};o(w,u)}o(w,t)}}};var b=function(r){var p=this;l.apply(this,arguments);var q=p._jsPlumb.endpointClass+" "+(r.cssClass||""),o={"class":q,_jsPlumb:p._jsPlumb,parent:r.parent,tooltip:p.tooltip};p.canvas=c(o);p.ctx=p.canvas.getContext("2d");p.appendDisplayElement(p.canvas);this.paint=function(x,u,s){jsPlumb.sizeCanvas(p.canvas,x[0],x[1],x[2],x[3]);if(u.outlineColor!=null){var w=u.outlineWidth||1,t=u.lineWidth+(2*w);var v={strokeStyle:u.outlineColor,lineWidth:t}}p._paint.apply(this,arguments)}};jsPlumb.Endpoints.canvas.Dot=function(r){jsPlumb.Endpoints.Dot.apply(this,arguments);b.apply(this,arguments);var q=this,p=function(s){try{return parseInt(s)}catch(t){if(s.substring(s.length-1)=="%"){return parseInt(s.substring(0,s-1))}}},o=function(u){var s=q.defaultOffset,t=q.defaultInnerRadius;u.offset&&(s=p(u.offset));u.innerRadius&&(t=p(u.innerRadius));return[s,t]};this._paint=function(A,t,x){if(t!=null){var B=q.canvas.getContext("2d"),u=x.getOrientation(q);jsPlumb.extend(B,t);if(t.gradient){var v=o(t.gradient),y=u[1]==1?v[0]*-1:v[0],s=u[0]==1?v[0]*-1:v[0],z=B.createRadialGradient(A[4],A[4],A[4],A[4]+s,A[4]+y,v[1]);for(var w=0;w<t.gradient.stops.length;w++){z.addColorStop(t.gradient.stops[w][0],t.gradient.stops[w][1])}B.fillStyle=z}B.beginPath();B.arc(A[4],A[4],A[4],0,Math.PI*2,true);B.closePath();if(t.fillStyle||t.gradient){B.fill()}if(t.strokeStyle){B.stroke()}}}};jsPlumb.Endpoints.canvas.Rectangle=function(p){var o=this;jsPlumb.Endpoints.Rectangle.apply(this,arguments);b.apply(this,arguments);this._paint=function(x,r,v){var A=o.canvas.getContext("2d"),t=v.getOrientation(o);jsPlumb.extend(A,r);if(r.gradient){var z=t[1]==1?x[3]:t[1]==0?x[3]/2:0;var y=t[1]==-1?x[3]:t[1]==0?x[3]/2:0;var s=t[0]==1?x[2]:t[0]==0?x[2]/2:0;var q=t[0]==-1?x[2]:t[0]==0?x[2]/2:0;var w=A.createLinearGradient(s,z,q,y);for(var u=0;u<r.gradient.stops.length;u++){w.addColorStop(r.gradient.stops[u][0],r.gradient.stops[u][1])}A.fillStyle=w}A.beginPath();A.rect(0,0,x[2],x[3]);A.closePath();if(r.fillStyle||r.gradient){A.fill()}if(r.strokeStyle){A.stroke()}}};jsPlumb.Endpoints.canvas.Triangle=function(p){var o=this;jsPlumb.Endpoints.Triangle.apply(this,arguments);b.apply(this,arguments);this._paint=function(z,q,v){var s=z[2],C=z[3],B=z[0],A=z[1],D=o.canvas.getContext("2d"),w=0,u=0,t=0,r=v.getOrientation(o);if(r[0]==1){w=s;u=C;t=180}if(r[1]==-1){w=s;t=90}if(r[1]==1){u=C;t=-90}D.fillStyle=q.fillStyle;D.translate(w,u);D.rotate(t*Math.PI/180);D.beginPath();D.moveTo(0,0);D.lineTo(s/2,C/2);D.lineTo(0,C);D.closePath();if(q.fillStyle||q.gradient){D.fill()}if(q.strokeStyle){D.stroke()}}};jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Connectors.canvas.Bezier=function(){var o=this;jsPlumb.Connectors.Bezier.apply(this,arguments);h.apply(this,arguments);this._paint=function(q,p){o.ctx.beginPath();o.ctx.moveTo(q[4],q[5]);o.ctx.bezierCurveTo(q[8],q[9],q[10],q[11],q[6],q[7]);o.ctx.stroke()};this.createGradient=function(r,p,q){return o.ctx.createLinearGradient(r[6],r[7],r[4],r[5])}};jsPlumb.Connectors.canvas.Straight=function(){var p=this,o=[null,[1,-1],[1,1],[-1,1],[-1,-1]];jsPlumb.Connectors.Straight.apply(this,arguments);h.apply(this,arguments);this._paint=function(r,t){p.ctx.beginPath();if(t.dashstyle&&t.dashstyle.split(" ").length==2){var v=t.dashstyle.split(" ");if(v.length!=2){v=[2,2]}var C=[v[0]*t.lineWidth,v[1]*t.lineWidth],y=(r[6]-r[4])/(r[7]-r[5]),G=jsPlumbUtil.segment([r[4],r[5]],[r[6],r[7]]),x=o[G],u=Math.atan(y),z=Math.sqrt(Math.pow(r[6]-r[4],2)+Math.pow(r[7]-r[5],2)),B=Math.floor(z/(C[0]+C[1])),w=[r[4],r[5]];for(var A=0;A<B;A++){p.ctx.moveTo(w[0],w[1]);var q=w[0]+(Math.abs(Math.sin(u)*C[0])*x[0]),F=w[1]+(Math.abs(Math.cos(u)*C[0])*x[1]),E=w[0]+(Math.abs(Math.sin(u)*(C[0]+C[1]))*x[0]),D=w[1]+(Math.abs(Math.cos(u)*(C[0]+C[1]))*x[1]);p.ctx.lineTo(q,F);w=[E,D]}p.ctx.moveTo(w[0],w[1]);p.ctx.lineTo(r[6],r[7])}else{p.ctx.moveTo(r[4],r[5]);p.ctx.lineTo(r[6],r[7])}p.ctx.stroke()};this.createGradient=function(r,q){return q.createLinearGradient(r[4],r[5],r[6],r[7])}};jsPlumb.Connectors.canvas.Flowchart=function(){var o=this;jsPlumb.Connectors.Flowchart.apply(this,arguments);h.apply(this,arguments);this._paint=function(r,q){o.ctx.beginPath();o.ctx.moveTo(r[4],r[5]);for(var p=0;p<r[8];p++){o.ctx.lineTo(r[9+(p*2)],r[10+(p*2)])}o.ctx.lineTo(r[6],r[7]);o.ctx.stroke()};this.createGradient=function(q,p){return p.createLinearGradient(q[4],q[5],q[6],q[7])}};jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label;var g=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments)};var e=function(p,o){p.apply(this,o);g.apply(this,o);this.paint=function(s,u,q,v,t){var r=s.ctx;r.lineWidth=q;r.beginPath();r.moveTo(u.hxy.x,u.hxy.y);r.lineTo(u.tail[0].x,u.tail[0].y);r.lineTo(u.cxy.x,u.cxy.y);r.lineTo(u.tail[1].x,u.tail[1].y);r.lineTo(u.hxy.x,u.hxy.y);r.closePath();if(v){r.strokeStyle=v;r.stroke()}if(t){r.fillStyle=t;r.fill()}}};jsPlumb.Overlays.canvas.Arrow=function(){e.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumb.Overlays.canvas.PlainArrow=function(){e.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumb.Overlays.canvas.Diamond=function(){e.apply(this,[jsPlumb.Overlays.Diamond,arguments])}})();(function(a){jsPlumb.CurrentLibrary={addClass:function(c,b){c=jsPlumb.CurrentLibrary.getElementObject(c);try{if(c[0].className.constructor==SVGAnimatedString){jsPlumb.util.svg.addClass(c[0],b)}}catch(d){}c.addClass(b)},animate:function(d,c,b){d.animate(c,b)},appendElement:function(c,b){jsPlumb.CurrentLibrary.getElementObject(b).append(c)},ajax:function(b){b=b||{};b.type=b.type||"get";a.ajax(b)},bind:function(b,c,d){b=jsPlumb.CurrentLibrary.getElementObject(b);b.bind(c,d)},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(c,b){return a.extend(c,b)},getAttribute:function(b,c){return b.attr(c)},getClientXY:function(b){return[b.clientX,b.clientY]},getDocumentElement:function(){return document},getDragObject:function(b){return b[1].draggable},getDragScope:function(b){return b.draggable("option","scope")},getDropEvent:function(b){return b[0]},getDropScope:function(b){return b.droppable("option","scope")},getDOMElement:function(b){if(typeof(b)=="string"){return document.getElementById(b)}else{if(b.context){return b[0]}else{return b}}},getElementObject:function(b){return typeof(b)=="string"?a("#"+b):a(b)},getOffset:function(b){return b.offset()},getOriginalEvent:function(b){return b.originalEvent},getPageXY:function(b){return[b.pageX,b.pageY]},getParent:function(b){return jsPlumb.CurrentLibrary.getElementObject(b).parent()},getScrollLeft:function(b){return b.scrollLeft()},getScrollTop:function(b){return b.scrollTop()},getSelector:function(b){return a(b)},getSize:function(b){return[b.outerWidth(),b.outerHeight()]},getTagName:function(b){var c=jsPlumb.CurrentLibrary.getElementObject(b);return c.length>0?c[0].tagName:null},getUIPosition:function(c){if(c.length==1){ret={left:c[0].pageX,top:c[0].pageY}}else{var d=c[1],b=d.offset;ret=b||d.absolutePosition}return ret},hasClass:function(c,b){return c.hasClass(b)},initDraggable:function(c,b,d){b=b||{};b.helper=null;if(d){b.scope=b.scope||jsPlumb.Defaults.Scope}c.draggable(b)},initDroppable:function(c,b){b.scope=b.scope||jsPlumb.Defaults.Scope;c.droppable(b)},isAlreadyDraggable:function(b){b=jsPlumb.CurrentLibrary.getElementObject(b);return b.hasClass("ui-draggable")},isDragSupported:function(c,b){return c.draggable},isDropSupported:function(c,b){return c.droppable},removeClass:function(c,b){c=jsPlumb.CurrentLibrary.getElementObject(c);try{if(c[0].className.constructor==SVGAnimatedString){jsPlumb.util.svg.removeClass(c[0],b)}}catch(d){}c.removeClass(b)},removeElement:function(b,c){jsPlumb.CurrentLibrary.getElementObject(b).remove()},setAttribute:function(c,d,b){c.attr(d,b)},setDraggable:function(c,b){c.draggable("option","disabled",!b)},setDragScope:function(c,b){c.draggable("option","scope",b)},setOffset:function(b,c){jsPlumb.CurrentLibrary.getElementObject(b).offset(c)},trigger:function(d,e,b){var c=jQuery._data(jsPlumb.CurrentLibrary.getElementObject(d)[0],"handle");c(b)},unbind:function(b,c,d){b=jsPlumb.CurrentLibrary.getElementObject(b);b.unbind(c,d)}};a(document).ready(jsPlumb.init)})(jQuery);(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(l){return 0==l?0:0<l?1:-1});var d={subtract:function(m,l){return{x:m.x-l.x,y:m.y-l.y}},dotProduct:function(m,l){return m.x*l.x+m.y*l.y},square:function(l){return Math.sqrt(l.x*l.x+l.y*l.y)},scale:function(m,l){return{x:m.x*l,y:m.y*l}}},f=Math.pow(2,-65),h=function(y,x){for(var t=[],v=x.length-1,r=2*v-1,s=[],w=[],p=[],q=[],o=[[1,0.6,0.3,0.1],[0.4,0.6,0.6,0.4],[0.1,0.3,0.6,1]],u=0;u<=v;u++){s[u]=d.subtract(x[u],y)}for(u=0;u<=v-1;u++){w[u]=d.subtract(x[u+1],x[u]);w[u]=d.scale(w[u],3)}for(u=0;u<=v-1;u++){for(var m=0;m<=v;m++){p[u]||(p[u]=[]);p[u][m]=d.dotProduct(w[u],s[m])}}for(u=0;u<=r;u++){q[u]||(q[u]=[]);q[u].y=0;q[u].x=parseFloat(u)/r}r=v-1;for(s=0;s<=v+r;s++){u=Math.max(0,s-r);for(w=Math.min(s,v);u<=w;u++){j=s-u;q[u+j].y=q[u+j].y+p[j][u]*o[j][u]}}v=x.length-1;q=a(q,2*v-1,t,0);r=d.subtract(y,x[0]);p=d.square(r);for(u=o=0;u<q;u++){r=d.subtract(y,k(x,v,t[u],null,null));r=d.square(r);if(r<p){p=r;o=t[u]}}r=d.subtract(y,x[v]);r=d.square(r);if(r<p){p=r;o=1}return{location:o,distance:p}},a=function(C,B,x,z){var v=[],w=[],A=[],t=[],u=0,s,y;y=Math.sgn(C[0].y);for(var q=1;q<=B;q++){s=Math.sgn(C[q].y);s!=y&&u++;y=s}switch(u){case 0:return 0;case 1:if(z>=64){x[0]=(C[0].x+C[B].x)/2;return 1}var p,u=C[0].y-C[B].y;y=C[B].x-C[0].x;q=C[0].x*C[B].y-C[B].x*C[0].y;s=max_distance_below=0;for(p=1;p<B;p++){var r=u*C[p].x+y*C[p].y+q;r>s?s=r:r<max_distance_below&&(max_distance_below=r)}p=y;s=(1*(q-s)-p*0)*(1/(0*p-u*1));p=y;y=q-max_distance_below;u=(1*y-p*0)*(1/(0*p-u*1));y=Math.min(s,u);if(Math.max(s,u)-y<f){A=C[B].x-C[0].x;t=C[B].y-C[0].y;x[0]=0+1*(A*(C[0].y-0)-t*(C[0].x-0))*(1/(A*0-t*1));return 1}}k(C,B,0.5,v,w);C=a(v,B,A,z+1);B=a(w,B,t,z+1);for(z=0;z<C;z++){x[z]=A[z]}for(z=0;z<B;z++){x[z+C]=t[z]}return C+B},k=function(m,l,p,q,n){for(var o=[[]],r=0;r<=l;r++){o[0][r]=m[r]}for(m=1;m<=l;m++){for(r=0;r<=l-m;r++){o[m]||(o[m]=[]);o[m][r]||(o[m][r]={});o[m][r].x=(1-p)*o[m-1][r].x+p*o[m-1][r+1].x;o[m][r].y=(1-p)*o[m-1][r].y+p*o[m-1][r+1].y}}if(q!=null){for(r=0;r<=l;r++){q[r]=o[r][0]}}if(n!=null){for(r=0;r<=l;r++){n[r]=o[l-r][r]}}return o[l][0]},g={},e=function(t){var s=g[t];if(!s){var s=[],p=function(u){return function(){return u}},q=function(){return function(u){return u}},n=function(){return function(u){return 1-u}},o=function(u){return function(v){for(var x=1,w=0;w<u.length;w++){x=x*u[w](v)}return x}};s.push(new function(){return function(u){return Math.pow(u,t)}});for(var r=1;r<t;r++){for(var l=[new p(t)],m=0;m<t-r;m++){l.push(new q)}for(m=0;m<r;m++){l.push(new n)}s.push(new o(l))}s.push(new function(){return function(u){return Math.pow(1-u,t)}});g[t]=s}return s},c=function(m,l){for(var p=e(m.length-1),q=0,n=0,o=0;o<m.length;o++){q=q+m[o].x*p[o](l);n=n+m[o].y*p[o](l)}return{x:q,y:n}},b=function(m,l,p){for(var q=c(m,l),n=0,o=p>0?1:-1,r=null;n<Math.abs(p);){l=l+0.005*o;r=c(m,l);n=n+Math.sqrt(Math.pow(r.x-q.x,2)+Math.pow(r.y-q.y,2));q=r}return{point:r,location:l}},i=function(m,l){var o=c(m,l),p=c(m.slice(0,m.length-1),l),n=p.y-o.y,o=p.x-o.x;return n==0?Infinity:Math.atan(n/o)};window.jsBezier={distanceFromCurve:h,gradientAtPoint:i,gradientAtPointAlongCurveFrom:function(m,l,n){l=b(m,l,n);if(l.location>1){l.location=1}if(l.location<0){l.location=0}return i(m,l.location)},nearestPointOnCurve:function(m,l){var n=h(m,l);return{point:k(l,l.length-1,n.location,null,null),location:n.location}},pointOnCurve:c,pointAlongCurveFrom:function(m,l,n){return b(m,l,n).point},perpendicularToCurveAt:function(m,l,n,o){l=b(m,l,o==null?0:o);m=i(m,l.location);o=Math.atan(-1/m);m=n/2*Math.sin(o);n=n/2*Math.cos(o);return[{x:l.point.x+n,y:l.point.y+m},{x:l.point.x-n,y:l.point.y-m}]},locationAlongCurveFrom:function(m,l,n){return b(m,l,n).location}}})();
/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_428012__(0)))

/***/ }),
/* 11 */
/***/ (function(module, exports, __nested_webpack_require_548749__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function( factory ) {
	if ( true ) {

		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __nested_webpack_require_548749__(0) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}(function( $ ) {
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */


// $.ui might exist from components with no dependencies, e.g., $.ui.position
$.ui = $.ui || {};

$.extend( $.ui, {
	version: "1.11.4",

	keyCode: {
		BACKSPACE: 8,
		COMMA: 188,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		LEFT: 37,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SPACE: 32,
		TAB: 9,
		UP: 38
	}
});

// plugins
$.fn.extend({
	scrollParent: function( includeHidden ) {
		var position = this.css( "position" ),
			excludeStaticParent = position === "absolute",
			overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
			scrollParent = this.parents().filter( function() {
				var parent = $( this );
				if ( excludeStaticParent && parent.css( "position" ) === "static" ) {
					return false;
				}
				return overflowRegex.test( parent.css( "overflow" ) + parent.css( "overflow-y" ) + parent.css( "overflow-x" ) );
			}).eq( 0 );

		return position === "fixed" || !scrollParent.length ? $( this[ 0 ].ownerDocument || document ) : scrollParent;
	},

	uniqueId: (function() {
		var uuid = 0;

		return function() {
			return this.each(function() {
				if ( !this.id ) {
					this.id = "ui-id-" + ( ++uuid );
				}
			});
		};
	})(),

	removeUniqueId: function() {
		return this.each(function() {
			if ( /^ui-id-\d+$/.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		});
	}
});

// selectors
function focusable( element, isTabIndexNotNaN ) {
	var map, mapName, img,
		nodeName = element.nodeName.toLowerCase();
	if ( "area" === nodeName ) {
		map = element.parentNode;
		mapName = map.name;
		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
			return false;
		}
		img = $( "img[usemap='#" + mapName + "']" )[ 0 ];
		return !!img && visible( img );
	}
	return ( /^(input|select|textarea|button|object)$/.test( nodeName ) ?
		!element.disabled :
		"a" === nodeName ?
			element.href || isTabIndexNotNaN :
			isTabIndexNotNaN) &&
		// the element and all of its ancestors must be visible
		visible( element );
}

function visible( element ) {
	return $.expr.filters.visible( element ) &&
		!$( element ).parents().addBack().filter(function() {
			return $.css( this, "visibility" ) === "hidden";
		}).length;
}

$.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo(function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		}) :
		// support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		},

	focusable: function( element ) {
		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
	},

	tabbable: function( element ) {
		var tabIndex = $.attr( element, "tabindex" ),
			isTabIndexNaN = isNaN( tabIndex );
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
	}
});

// support: jQuery <1.8
if ( !$( "<a>" ).outerWidth( 1 ).jquery ) {
	$.each( [ "Width", "Height" ], function( i, name ) {
		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
			type = name.toLowerCase(),
			orig = {
				innerWidth: $.fn.innerWidth,
				innerHeight: $.fn.innerHeight,
				outerWidth: $.fn.outerWidth,
				outerHeight: $.fn.outerHeight
			};

		function reduce( elem, size, border, margin ) {
			$.each( side, function() {
				size -= parseFloat( $.css( elem, "padding" + this ) ) || 0;
				if ( border ) {
					size -= parseFloat( $.css( elem, "border" + this + "Width" ) ) || 0;
				}
				if ( margin ) {
					size -= parseFloat( $.css( elem, "margin" + this ) ) || 0;
				}
			});
			return size;
		}

		$.fn[ "inner" + name ] = function( size ) {
			if ( size === undefined ) {
				return orig[ "inner" + name ].call( this );
			}

			return this.each(function() {
				$( this ).css( type, reduce( this, size ) + "px" );
			});
		};

		$.fn[ "outer" + name] = function( size, margin ) {
			if ( typeof size !== "number" ) {
				return orig[ "outer" + name ].call( this, size );
			}

			return this.each(function() {
				$( this).css( type, reduce( this, size, true, margin ) + "px" );
			});
		};
	});
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
if ( $( "<a>" ).data( "a-b", "a" ).removeData( "a-b" ).data( "a-b" ) ) {
	$.fn.removeData = (function( removeData ) {
		return function( key ) {
			if ( arguments.length ) {
				return removeData.call( this, $.camelCase( key ) );
			} else {
				return removeData.call( this );
			}
		};
	})( $.fn.removeData );
}

// deprecated
$.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );

$.fn.extend({
	focus: (function( orig ) {
		return function( delay, fn ) {
			return typeof delay === "number" ?
				this.each(function() {
					var elem = this;
					setTimeout(function() {
						$( elem ).focus();
						if ( fn ) {
							fn.call( elem );
						}
					}, delay );
				}) :
				orig.apply( this, arguments );
		};
	})( $.fn.focus ),

	disableSelection: (function() {
		var eventType = "onselectstart" in document.createElement( "div" ) ?
			"selectstart" :
			"mousedown";

		return function() {
			return this.bind( eventType + ".ui-disableSelection", function( event ) {
				event.preventDefault();
			});
		};
	})(),

	enableSelection: function() {
		return this.unbind( ".ui-disableSelection" );
	},

	zIndex: function( zIndex ) {
		if ( zIndex !== undefined ) {
			return this.css( "zIndex", zIndex );
		}

		if ( this.length ) {
			var elem = $( this[ 0 ] ), position, value;
			while ( elem.length && elem[ 0 ] !== document ) {
				// Ignore z-index if position is set to a value where z-index is ignored by the browser
				// This makes behavior of this function consistent across browsers
				// WebKit always returns auto if the element is positioned
				position = elem.css( "position" );
				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
					// IE returns 0 when zIndex is not specified
					// other browsers return a string
					// we ignore the case of nested elements with an explicit value of 0
					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
					value = parseInt( elem.css( "zIndex" ), 10 );
					if ( !isNaN( value ) && value !== 0 ) {
						return value;
					}
				}
				elem = elem.parent();
			}
		}

		return 0;
	}
});

// $.ui.plugin is deprecated. Use $.widget() extensions instead.
$.ui.plugin = {
	add: function( module, option, set ) {
		var i,
			proto = $.ui[ module ].prototype;
		for ( i in set ) {
			proto.plugins[ i ] = proto.plugins[ i ] || [];
			proto.plugins[ i ].push( [ option, set[ i ] ] );
		}
	},
	call: function( instance, name, args, allowDisconnected ) {
		var i,
			set = instance.plugins[ name ];

		if ( !set ) {
			return;
		}

		if ( !allowDisconnected && ( !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) ) {
			return;
		}

		for ( i = 0; i < set.length; i++ ) {
			if ( instance.options[ set[ i ][ 0 ] ] ) {
				set[ i ][ 1 ].apply( instance.element, args );
			}
		}
	}
};


/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */


var widget_uuid = 0,
	widget_slice = Array.prototype.slice;

$.cleanData = (function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; (elem = elems[i]) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
})( $.cleanData );

$.widget = function( name, base, prototype ) {
	var fullName, existingConstructor, constructor, basePrototype,
		// proxiedPrototype allows the provided prototype to remain unmodified
		// so that it can be used as a mixin for multiple widgets (#8876)
		proxiedPrototype = {},
		namespace = name.split( "." )[ 0 ];

	name = name.split( "." )[ 1 ];
	fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	// create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {
		// allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};
	// extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,
		// copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),
		// track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	});

	basePrototype = new base();
	// we need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = (function() {
			var _super = function() {
					return base.prototype[ prop ].apply( this, arguments );
				},
				_superApply = function( args ) {
					return base.prototype[ prop ].apply( this, args );
				};
			return function() {
				var __super = this._super,
					__superApply = this._superApply,
					returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		})();
	});
	constructor.prototype = $.widget.extend( basePrototype, {
		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	});

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto );
		});
		// remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widget_slice.call( arguments, 1 ),
		inputIndex = 0,
		inputLength = input.length,
		key,
		value;
	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {
				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :
						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );
				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string",
			args = widget_slice.call( arguments, 1 ),
			returnValue = this;

		if ( isMethodCall ) {
			this.each(function() {
				var methodValue,
					instance = $.data( this, fullName );
				if ( options === "instance" ) {
					returnValue = instance;
					return false;
				}
				if ( !instance ) {
					return $.error( "cannot call methods on " + name + " prior to initialization; " +
						"attempted to call method '" + options + "'" );
				}
				if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === "_" ) {
					return $.error( "no such method '" + options + "' for " + name + " widget instance" );
				}
				methodValue = instance[ options ].apply( instance, args );
				if ( methodValue !== instance && methodValue !== undefined ) {
					returnValue = methodValue && methodValue.jquery ?
						returnValue.pushStack( methodValue.get() ) :
						methodValue;
					return false;
				}
			});
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat(args) );
			}

			this.each(function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			});
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",
	options: {
		disabled: false,

		// callbacks
		create: null
	},
	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widget_uuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			});
			this.document = $( element.style ?
				// element within the document
				element.ownerDocument :
				// element is window or document
				element.document || element );
			this.window = $( this.document[0].defaultView || this.document[0].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();
		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},
	_getCreateOptions: $.noop,
	_getCreateEventData: $.noop,
	_create: $.noop,
	_init: $.noop,

	destroy: function() {
		this._destroy();
		// we can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.unbind( this.eventNamespace )
			.removeData( this.widgetFullName )
			// support: jquery <1.6.3
			// http://bugs.jquery.com/ticket/9413
			.removeData( $.camelCase( this.widgetFullName ) );
		this.widget()
			.unbind( this.eventNamespace )
			.removeAttr( "aria-disabled" )
			.removeClass(
				this.widgetFullName + "-disabled " +
				"ui-state-disabled" );

		// clean up events and states
		this.bindings.unbind( this.eventNamespace );
		this.hoverable.removeClass( "ui-state-hover" );
		this.focusable.removeClass( "ui-state-focus" );
	},
	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key,
			parts,
			curOption,
			i;

		if ( arguments.length === 0 ) {
			// don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {
			// handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},
	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},
	_setOption: function( key, value ) {
		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this.widget()
				.toggleClass( this.widgetFullName + "-disabled", !!value );

			// If the widget is becoming disabled, then nothing is interactive
			if ( value ) {
				this.hoverable.removeClass( "ui-state-hover" );
				this.focusable.removeClass( "ui-state-focus" );
			}
		}

		return this;
	},

	enable: function() {
		return this._setOptions({ disabled: false });
	},
	disable: function() {
		return this._setOptions({ disabled: true });
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement,
			instance = this;

		// no suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// no element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {
				// allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
							$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ ),
				eventName = match[1] + instance.eventNamespace,
				selector = match[2];
			if ( selector ) {
				delegateElement.delegate( selector, eventName, handlerProxy );
			} else {
				element.bind( eventName, handlerProxy );
			}
		});
	},

	_off: function( element, eventName ) {
		eventName = (eventName || "").split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.unbind( eventName ).undelegate( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-hover" );
			},
			mouseleave: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-hover" );
			}
		});
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-focus" );
			},
			focusout: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-focus" );
			}
		});
	},

	_trigger: function( type, event, data ) {
		var prop, orig,
			callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();
		// the original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[0], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}
		var hasOptions,
			effectName = !options ?
				method :
				options === true || typeof options === "number" ?
					defaultEffect :
					options.effect || defaultEffect;
		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}
		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;
		if ( options.delay ) {
			element.delay( options.delay );
		}
		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue(function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			});
		}
	};
});

var widget = $.widget;


/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */


var mouseHandled = false;
$( document ).mouseup( function() {
	mouseHandled = false;
});

var mouse = $.widget("ui.mouse", {
	version: "1.11.4",
	options: {
		cancel: "input,textarea,button,select,option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.bind("mousedown." + this.widgetName, function(event) {
				return that._mouseDown(event);
			})
			.bind("click." + this.widgetName, function(event) {
				if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
					$.removeData(event.target, that.widgetName + ".preventClickEvent");
					event.stopImmediatePropagation();
					return false;
				}
			});

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.unbind("." + this.widgetName);
		if ( this._mouseMoveDelegate ) {
			this.document
				.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
				.unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
		}
	},

	_mouseDown: function(event) {
		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// we may have missed mouseup (out of window)
		(this._mouseStarted && this._mouseUp(event));

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = (event.which === 1),
			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
		if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if (!this.mouseDelayMet) {
			this._mouseDelayTimer = setTimeout(function() {
				that.mouseDelayMet = true;
			}, this.options.delay);
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted = (this._mouseStart(event) !== false);
			if (!this._mouseStarted) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
			$.removeData(event.target, this.widgetName + ".preventClickEvent");
		}

		// these delegates are required to keep context
		this._mouseMoveDelegate = function(event) {
			return that._mouseMove(event);
		};
		this._mouseUpDelegate = function(event) {
			return that._mouseUp(event);
		};

		this.document
			.bind( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.bind( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function(event) {
		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {
			// IE mouseup check - mouseup happened when mouse was out of window
			if ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {
				return this._mouseUp(event);

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {
				return this._mouseUp( event );
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if (this._mouseStarted) {
			this._mouseDrag(event);
			return event.preventDefault();
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted =
				(this._mouseStart(this._mouseDownEvent, event) !== false);
			(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
		}

		return !this._mouseStarted;
	},

	_mouseUp: function(event) {
		this.document
			.unbind( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.unbind( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if (this._mouseStarted) {
			this._mouseStarted = false;

			if (event.target === this._mouseDownEvent.target) {
				$.data(event.target, this.widgetName + ".preventClickEvent", true);
			}

			this._mouseStop(event);
		}

		mouseHandled = false;
		return false;
	},

	_mouseDistanceMet: function(event) {
		return (Math.max(
				Math.abs(this._mouseDownEvent.pageX - event.pageX),
				Math.abs(this._mouseDownEvent.pageY - event.pageY)
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function(/* event */) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function(/* event */) {},
	_mouseDrag: function(/* event */) {},
	_mouseStop: function(/* event */) {},
	_mouseCapture: function(/* event */) { return true; }
});


/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

(function() {

$.ui = $.ui || {};

var cachedScrollbarWidth, supportsOffsetFractions,
	max = Math.max,
	abs = Math.abs,
	round = Math.round,
	rhorizontal = /left|center|right/,
	rvertical = /top|center|bottom/,
	roffset = /[\+\-]\d+(\.[\d]+)?%?/,
	rposition = /^\w+/,
	rpercent = /%$/,
	_position = $.fn.position;

function getOffsets( offsets, width, height ) {
	return [
		parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
		parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
	];
}

function parseCss( element, property ) {
	return parseInt( $.css( element, property ), 10 ) || 0;
}

function getDimensions( elem ) {
	var raw = elem[0];
	if ( raw.nodeType === 9 ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: 0, left: 0 }
		};
	}
	if ( $.isWindow( raw ) ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
		};
	}
	if ( raw.preventDefault ) {
		return {
			width: 0,
			height: 0,
			offset: { top: raw.pageY, left: raw.pageX }
		};
	}
	return {
		width: elem.outerWidth(),
		height: elem.outerHeight(),
		offset: elem.offset()
	};
}

$.position = {
	scrollbarWidth: function() {
		if ( cachedScrollbarWidth !== undefined ) {
			return cachedScrollbarWidth;
		}
		var w1, w2,
			div = $( "<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>" ),
			innerDiv = div.children()[0];

		$( "body" ).append( div );
		w1 = innerDiv.offsetWidth;
		div.css( "overflow", "scroll" );

		w2 = innerDiv.offsetWidth;

		if ( w1 === w2 ) {
			w2 = div[0].clientWidth;
		}

		div.remove();

		return (cachedScrollbarWidth = w1 - w2);
	},
	getScrollInfo: function( within ) {
		var overflowX = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-x" ),
			overflowY = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-y" ),
			hasOverflowX = overflowX === "scroll" ||
				( overflowX === "auto" && within.width < within.element[0].scrollWidth ),
			hasOverflowY = overflowY === "scroll" ||
				( overflowY === "auto" && within.height < within.element[0].scrollHeight );
		return {
			width: hasOverflowY ? $.position.scrollbarWidth() : 0,
			height: hasOverflowX ? $.position.scrollbarWidth() : 0
		};
	},
	getWithinInfo: function( element ) {
		var withinElement = $( element || window ),
			isWindow = $.isWindow( withinElement[0] ),
			isDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9;
		return {
			element: withinElement,
			isWindow: isWindow,
			isDocument: isDocument,
			offset: withinElement.offset() || { left: 0, top: 0 },
			scrollLeft: withinElement.scrollLeft(),
			scrollTop: withinElement.scrollTop(),

			// support: jQuery 1.6.x
			// jQuery 1.6 doesn't support .outerWidth/Height() on documents or windows
			width: isWindow || isDocument ? withinElement.width() : withinElement.outerWidth(),
			height: isWindow || isDocument ? withinElement.height() : withinElement.outerHeight()
		};
	}
};

$.fn.position = function( options ) {
	if ( !options || !options.of ) {
		return _position.apply( this, arguments );
	}

	// make a copy, we don't want to modify arguments
	options = $.extend( {}, options );

	var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
		target = $( options.of ),
		within = $.position.getWithinInfo( options.within ),
		scrollInfo = $.position.getScrollInfo( within ),
		collision = ( options.collision || "flip" ).split( " " ),
		offsets = {};

	dimensions = getDimensions( target );
	if ( target[0].preventDefault ) {
		// force left top to allow flipping
		options.at = "left top";
	}
	targetWidth = dimensions.width;
	targetHeight = dimensions.height;
	targetOffset = dimensions.offset;
	// clone to reuse original targetOffset later
	basePosition = $.extend( {}, targetOffset );

	// force my and at to have valid horizontal and vertical positions
	// if a value is missing or invalid, it will be converted to center
	$.each( [ "my", "at" ], function() {
		var pos = ( options[ this ] || "" ).split( " " ),
			horizontalOffset,
			verticalOffset;

		if ( pos.length === 1) {
			pos = rhorizontal.test( pos[ 0 ] ) ?
				pos.concat( [ "center" ] ) :
				rvertical.test( pos[ 0 ] ) ?
					[ "center" ].concat( pos ) :
					[ "center", "center" ];
		}
		pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
		pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

		// calculate offsets
		horizontalOffset = roffset.exec( pos[ 0 ] );
		verticalOffset = roffset.exec( pos[ 1 ] );
		offsets[ this ] = [
			horizontalOffset ? horizontalOffset[ 0 ] : 0,
			verticalOffset ? verticalOffset[ 0 ] : 0
		];

		// reduce to just the positions without the offsets
		options[ this ] = [
			rposition.exec( pos[ 0 ] )[ 0 ],
			rposition.exec( pos[ 1 ] )[ 0 ]
		];
	});

	// normalize collision option
	if ( collision.length === 1 ) {
		collision[ 1 ] = collision[ 0 ];
	}

	if ( options.at[ 0 ] === "right" ) {
		basePosition.left += targetWidth;
	} else if ( options.at[ 0 ] === "center" ) {
		basePosition.left += targetWidth / 2;
	}

	if ( options.at[ 1 ] === "bottom" ) {
		basePosition.top += targetHeight;
	} else if ( options.at[ 1 ] === "center" ) {
		basePosition.top += targetHeight / 2;
	}

	atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
	basePosition.left += atOffset[ 0 ];
	basePosition.top += atOffset[ 1 ];

	return this.each(function() {
		var collisionPosition, using,
			elem = $( this ),
			elemWidth = elem.outerWidth(),
			elemHeight = elem.outerHeight(),
			marginLeft = parseCss( this, "marginLeft" ),
			marginTop = parseCss( this, "marginTop" ),
			collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) + scrollInfo.width,
			collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) + scrollInfo.height,
			position = $.extend( {}, basePosition ),
			myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

		if ( options.my[ 0 ] === "right" ) {
			position.left -= elemWidth;
		} else if ( options.my[ 0 ] === "center" ) {
			position.left -= elemWidth / 2;
		}

		if ( options.my[ 1 ] === "bottom" ) {
			position.top -= elemHeight;
		} else if ( options.my[ 1 ] === "center" ) {
			position.top -= elemHeight / 2;
		}

		position.left += myOffset[ 0 ];
		position.top += myOffset[ 1 ];

		// if the browser doesn't support fractions, then round for consistent results
		if ( !supportsOffsetFractions ) {
			position.left = round( position.left );
			position.top = round( position.top );
		}

		collisionPosition = {
			marginLeft: marginLeft,
			marginTop: marginTop
		};

		$.each( [ "left", "top" ], function( i, dir ) {
			if ( $.ui.position[ collision[ i ] ] ) {
				$.ui.position[ collision[ i ] ][ dir ]( position, {
					targetWidth: targetWidth,
					targetHeight: targetHeight,
					elemWidth: elemWidth,
					elemHeight: elemHeight,
					collisionPosition: collisionPosition,
					collisionWidth: collisionWidth,
					collisionHeight: collisionHeight,
					offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
					my: options.my,
					at: options.at,
					within: within,
					elem: elem
				});
			}
		});

		if ( options.using ) {
			// adds feedback as second argument to using callback, if present
			using = function( props ) {
				var left = targetOffset.left - position.left,
					right = left + targetWidth - elemWidth,
					top = targetOffset.top - position.top,
					bottom = top + targetHeight - elemHeight,
					feedback = {
						target: {
							element: target,
							left: targetOffset.left,
							top: targetOffset.top,
							width: targetWidth,
							height: targetHeight
						},
						element: {
							element: elem,
							left: position.left,
							top: position.top,
							width: elemWidth,
							height: elemHeight
						},
						horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
						vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
					};
				if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
					feedback.horizontal = "center";
				}
				if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
					feedback.vertical = "middle";
				}
				if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
					feedback.important = "horizontal";
				} else {
					feedback.important = "vertical";
				}
				options.using.call( this, props, feedback );
			};
		}

		elem.offset( $.extend( position, { using: using } ) );
	});
};

$.ui.position = {
	fit: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
				outerWidth = within.width,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = withinOffset - collisionPosLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
				newOverRight;

			// element is wider than within
			if ( data.collisionWidth > outerWidth ) {
				// element is initially over the left side of within
				if ( overLeft > 0 && overRight <= 0 ) {
					newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
					position.left += overLeft - newOverRight;
				// element is initially over right side of within
				} else if ( overRight > 0 && overLeft <= 0 ) {
					position.left = withinOffset;
				// element is initially over both left and right sides of within
				} else {
					if ( overLeft > overRight ) {
						position.left = withinOffset + outerWidth - data.collisionWidth;
					} else {
						position.left = withinOffset;
					}
				}
			// too far left -> align with left edge
			} else if ( overLeft > 0 ) {
				position.left += overLeft;
			// too far right -> align with right edge
			} else if ( overRight > 0 ) {
				position.left -= overRight;
			// adjust based on position and margin
			} else {
				position.left = max( position.left - collisionPosLeft, position.left );
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
				outerHeight = data.within.height,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = withinOffset - collisionPosTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
				newOverBottom;

			// element is taller than within
			if ( data.collisionHeight > outerHeight ) {
				// element is initially over the top of within
				if ( overTop > 0 && overBottom <= 0 ) {
					newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
					position.top += overTop - newOverBottom;
				// element is initially over bottom of within
				} else if ( overBottom > 0 && overTop <= 0 ) {
					position.top = withinOffset;
				// element is initially over both top and bottom of within
				} else {
					if ( overTop > overBottom ) {
						position.top = withinOffset + outerHeight - data.collisionHeight;
					} else {
						position.top = withinOffset;
					}
				}
			// too far up -> align with top
			} else if ( overTop > 0 ) {
				position.top += overTop;
			// too far down -> align with bottom edge
			} else if ( overBottom > 0 ) {
				position.top -= overBottom;
			// adjust based on position and margin
			} else {
				position.top = max( position.top - collisionPosTop, position.top );
			}
		}
	},
	flip: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.left + within.scrollLeft,
				outerWidth = within.width,
				offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = collisionPosLeft - offsetLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
				myOffset = data.my[ 0 ] === "left" ?
					-data.elemWidth :
					data.my[ 0 ] === "right" ?
						data.elemWidth :
						0,
				atOffset = data.at[ 0 ] === "left" ?
					data.targetWidth :
					data.at[ 0 ] === "right" ?
						-data.targetWidth :
						0,
				offset = -2 * data.offset[ 0 ],
				newOverRight,
				newOverLeft;

			if ( overLeft < 0 ) {
				newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
				if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
					position.left += myOffset + atOffset + offset;
				}
			} else if ( overRight > 0 ) {
				newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
				if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
					position.left += myOffset + atOffset + offset;
				}
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.top + within.scrollTop,
				outerHeight = within.height,
				offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = collisionPosTop - offsetTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
				top = data.my[ 1 ] === "top",
				myOffset = top ?
					-data.elemHeight :
					data.my[ 1 ] === "bottom" ?
						data.elemHeight :
						0,
				atOffset = data.at[ 1 ] === "top" ?
					data.targetHeight :
					data.at[ 1 ] === "bottom" ?
						-data.targetHeight :
						0,
				offset = -2 * data.offset[ 1 ],
				newOverTop,
				newOverBottom;
			if ( overTop < 0 ) {
				newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
				if ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {
					position.top += myOffset + atOffset + offset;
				}
			} else if ( overBottom > 0 ) {
				newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
				if ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {
					position.top += myOffset + atOffset + offset;
				}
			}
		}
	},
	flipfit: {
		left: function() {
			$.ui.position.flip.left.apply( this, arguments );
			$.ui.position.fit.left.apply( this, arguments );
		},
		top: function() {
			$.ui.position.flip.top.apply( this, arguments );
			$.ui.position.fit.top.apply( this, arguments );
		}
	}
};

// fraction support test
(function() {
	var testElement, testElementParent, testElementStyle, offsetLeft, i,
		body = document.getElementsByTagName( "body" )[ 0 ],
		div = document.createElement( "div" );

	//Create a "fake body" for testing based on method used in jQuery.support
	testElement = document.createElement( body ? "div" : "body" );
	testElementStyle = {
		visibility: "hidden",
		width: 0,
		height: 0,
		border: 0,
		margin: 0,
		background: "none"
	};
	if ( body ) {
		$.extend( testElementStyle, {
			position: "absolute",
			left: "-1000px",
			top: "-1000px"
		});
	}
	for ( i in testElementStyle ) {
		testElement.style[ i ] = testElementStyle[ i ];
	}
	testElement.appendChild( div );
	testElementParent = body || document.documentElement;
	testElementParent.insertBefore( testElement, testElementParent.firstChild );

	div.style.cssText = "position: absolute; left: 10.7432222px;";

	offsetLeft = $( div ).offset().left;
	supportsOffsetFractions = offsetLeft > 10 && offsetLeft < 11;

	testElement.innerHTML = "";
	testElementParent.removeChild( testElement );
})();

})();

var position = $.ui.position;


/*!
 * jQuery UI Accordion 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */


var accordion = $.widget( "ui.accordion", {
	version: "1.11.4",
	options: {
		active: 0,
		animate: {},
		collapsible: false,
		event: "click",
		header: "> li > :first-child,> :not(li):even",
		heightStyle: "auto",
		icons: {
			activeHeader: "ui-icon-triangle-1-s",
			header: "ui-icon-triangle-1-e"
		},

		// callbacks
		activate: null,
		beforeActivate: null
	},

	hideProps: {
		borderTopWidth: "hide",
		borderBottomWidth: "hide",
		paddingTop: "hide",
		paddingBottom: "hide",
		height: "hide"
	},

	showProps: {
		borderTopWidth: "show",
		borderBottomWidth: "show",
		paddingTop: "show",
		paddingBottom: "show",
		height: "show"
	},

	_create: function() {
		var options = this.options;
		this.prevShow = this.prevHide = $();
		this.element.addClass( "ui-accordion ui-widget ui-helper-reset" )
			// ARIA
			.attr( "role", "tablist" );

		// don't allow collapsible: false and active: false / null
		if ( !options.collapsible && (options.active === false || options.active == null) ) {
			options.active = 0;
		}

		this._processPanels();
		// handle negative values
		if ( options.active < 0 ) {
			options.active += this.headers.length;
		}
		this._refresh();
	},

	_getCreateEventData: function() {
		return {
			header: this.active,
			panel: !this.active.length ? $() : this.active.next()
		};
	},

	_createIcons: function() {
		var icons = this.options.icons;
		if ( icons ) {
			$( "<span>" )
				.addClass( "ui-accordion-header-icon ui-icon " + icons.header )
				.prependTo( this.headers );
			this.active.children( ".ui-accordion-header-icon" )
				.removeClass( icons.header )
				.addClass( icons.activeHeader );
			this.headers.addClass( "ui-accordion-icons" );
		}
	},

	_destroyIcons: function() {
		this.headers
			.removeClass( "ui-accordion-icons" )
			.children( ".ui-accordion-header-icon" )
				.remove();
	},

	_destroy: function() {
		var contents;

		// clean up main element
		this.element
			.removeClass( "ui-accordion ui-widget ui-helper-reset" )
			.removeAttr( "role" );

		// clean up headers
		this.headers
			.removeClass( "ui-accordion-header ui-accordion-header-active ui-state-default " +
				"ui-corner-all ui-state-active ui-state-disabled ui-corner-top" )
			.removeAttr( "role" )
			.removeAttr( "aria-expanded" )
			.removeAttr( "aria-selected" )
			.removeAttr( "aria-controls" )
			.removeAttr( "tabIndex" )
			.removeUniqueId();

		this._destroyIcons();

		// clean up content panels
		contents = this.headers.next()
			.removeClass( "ui-helper-reset ui-widget-content ui-corner-bottom " +
				"ui-accordion-content ui-accordion-content-active ui-state-disabled" )
			.css( "display", "" )
			.removeAttr( "role" )
			.removeAttr( "aria-hidden" )
			.removeAttr( "aria-labelledby" )
			.removeUniqueId();

		if ( this.options.heightStyle !== "content" ) {
			contents.css( "height", "" );
		}
	},

	_setOption: function( key, value ) {
		if ( key === "active" ) {
			// _activate() will handle invalid values and update this.options
			this._activate( value );
			return;
		}

		if ( key === "event" ) {
			if ( this.options.event ) {
				this._off( this.headers, this.options.event );
			}
			this._setupEvents( value );
		}

		this._super( key, value );

		// setting collapsible: false while collapsed; open first panel
		if ( key === "collapsible" && !value && this.options.active === false ) {
			this._activate( 0 );
		}

		if ( key === "icons" ) {
			this._destroyIcons();
			if ( value ) {
				this._createIcons();
			}
		}

		// #5332 - opacity doesn't cascade to positioned elements in IE
		// so we need to add the disabled class to the headers and panels
		if ( key === "disabled" ) {
			this.element
				.toggleClass( "ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
			this.headers.add( this.headers.next() )
				.toggleClass( "ui-state-disabled", !!value );
		}
	},

	_keydown: function( event ) {
		if ( event.altKey || event.ctrlKey ) {
			return;
		}

		var keyCode = $.ui.keyCode,
			length = this.headers.length,
			currentIndex = this.headers.index( event.target ),
			toFocus = false;

		switch ( event.keyCode ) {
			case keyCode.RIGHT:
			case keyCode.DOWN:
				toFocus = this.headers[ ( currentIndex + 1 ) % length ];
				break;
			case keyCode.LEFT:
			case keyCode.UP:
				toFocus = this.headers[ ( currentIndex - 1 + length ) % length ];
				break;
			case keyCode.SPACE:
			case keyCode.ENTER:
				this._eventHandler( event );
				break;
			case keyCode.HOME:
				toFocus = this.headers[ 0 ];
				break;
			case keyCode.END:
				toFocus = this.headers[ length - 1 ];
				break;
		}

		if ( toFocus ) {
			$( event.target ).attr( "tabIndex", -1 );
			$( toFocus ).attr( "tabIndex", 0 );
			toFocus.focus();
			event.preventDefault();
		}
	},

	_panelKeyDown: function( event ) {
		if ( event.keyCode === $.ui.keyCode.UP && event.ctrlKey ) {
			$( event.currentTarget ).prev().focus();
		}
	},

	refresh: function() {
		var options = this.options;
		this._processPanels();

		// was collapsed or no panel
		if ( ( options.active === false && options.collapsible === true ) || !this.headers.length ) {
			options.active = false;
			this.active = $();
		// active false only when collapsible is true
		} else if ( options.active === false ) {
			this._activate( 0 );
		// was active, but active panel is gone
		} else if ( this.active.length && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {
			// all remaining panel are disabled
			if ( this.headers.length === this.headers.find(".ui-state-disabled").length ) {
				options.active = false;
				this.active = $();
			// activate previous panel
			} else {
				this._activate( Math.max( 0, options.active - 1 ) );
			}
		// was active, active panel still exists
		} else {
			// make sure active index is correct
			options.active = this.headers.index( this.active );
		}

		this._destroyIcons();

		this._refresh();
	},

	_processPanels: function() {
		var prevHeaders = this.headers,
			prevPanels = this.panels;

		this.headers = this.element.find( this.options.header )
			.addClass( "ui-accordion-header ui-state-default ui-corner-all" );

		this.panels = this.headers.next()
			.addClass( "ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom" )
			.filter( ":not(.ui-accordion-content-active)" )
			.hide();

		// Avoid memory leaks (#10056)
		if ( prevPanels ) {
			this._off( prevHeaders.not( this.headers ) );
			this._off( prevPanels.not( this.panels ) );
		}
	},

	_refresh: function() {
		var maxHeight,
			options = this.options,
			heightStyle = options.heightStyle,
			parent = this.element.parent();

		this.active = this._findActive( options.active )
			.addClass( "ui-accordion-header-active ui-state-active ui-corner-top" )
			.removeClass( "ui-corner-all" );
		this.active.next()
			.addClass( "ui-accordion-content-active" )
			.show();

		this.headers
			.attr( "role", "tab" )
			.each(function() {
				var header = $( this ),
					headerId = header.uniqueId().attr( "id" ),
					panel = header.next(),
					panelId = panel.uniqueId().attr( "id" );
				header.attr( "aria-controls", panelId );
				panel.attr( "aria-labelledby", headerId );
			})
			.next()
				.attr( "role", "tabpanel" );

		this.headers
			.not( this.active )
			.attr({
				"aria-selected": "false",
				"aria-expanded": "false",
				tabIndex: -1
			})
			.next()
				.attr({
					"aria-hidden": "true"
				})
				.hide();

		// make sure at least one header is in the tab order
		if ( !this.active.length ) {
			this.headers.eq( 0 ).attr( "tabIndex", 0 );
		} else {
			this.active.attr({
				"aria-selected": "true",
				"aria-expanded": "true",
				tabIndex: 0
			})
			.next()
				.attr({
					"aria-hidden": "false"
				});
		}

		this._createIcons();

		this._setupEvents( options.event );

		if ( heightStyle === "fill" ) {
			maxHeight = parent.height();
			this.element.siblings( ":visible" ).each(function() {
				var elem = $( this ),
					position = elem.css( "position" );

				if ( position === "absolute" || position === "fixed" ) {
					return;
				}
				maxHeight -= elem.outerHeight( true );
			});

			this.headers.each(function() {
				maxHeight -= $( this ).outerHeight( true );
			});

			this.headers.next()
				.each(function() {
					$( this ).height( Math.max( 0, maxHeight -
						$( this ).innerHeight() + $( this ).height() ) );
				})
				.css( "overflow", "auto" );
		} else if ( heightStyle === "auto" ) {
			maxHeight = 0;
			this.headers.next()
				.each(function() {
					maxHeight = Math.max( maxHeight, $( this ).css( "height", "" ).height() );
				})
				.height( maxHeight );
		}
	},

	_activate: function( index ) {
		var active = this._findActive( index )[ 0 ];

		// trying to activate the already active panel
		if ( active === this.active[ 0 ] ) {
			return;
		}

		// trying to collapse, simulate a click on the currently active header
		active = active || this.active[ 0 ];

		this._eventHandler({
			target: active,
			currentTarget: active,
			preventDefault: $.noop
		});
	},

	_findActive: function( selector ) {
		return typeof selector === "number" ? this.headers.eq( selector ) : $();
	},

	_setupEvents: function( event ) {
		var events = {
			keydown: "_keydown"
		};
		if ( event ) {
			$.each( event.split( " " ), function( index, eventName ) {
				events[ eventName ] = "_eventHandler";
			});
		}

		this._off( this.headers.add( this.headers.next() ) );
		this._on( this.headers, events );
		this._on( this.headers.next(), { keydown: "_panelKeyDown" });
		this._hoverable( this.headers );
		this._focusable( this.headers );
	},

	_eventHandler: function( event ) {
		var options = this.options,
			active = this.active,
			clicked = $( event.currentTarget ),
			clickedIsActive = clicked[ 0 ] === active[ 0 ],
			collapsing = clickedIsActive && options.collapsible,
			toShow = collapsing ? $() : clicked.next(),
			toHide = active.next(),
			eventData = {
				oldHeader: active,
				oldPanel: toHide,
				newHeader: collapsing ? $() : clicked,
				newPanel: toShow
			};

		event.preventDefault();

		if (
				// click on active header, but not collapsible
				( clickedIsActive && !options.collapsible ) ||
				// allow canceling activation
				( this._trigger( "beforeActivate", event, eventData ) === false ) ) {
			return;
		}

		options.active = collapsing ? false : this.headers.index( clicked );

		// when the call to ._toggle() comes after the class changes
		// it causes a very odd bug in IE 8 (see #6720)
		this.active = clickedIsActive ? $() : clicked;
		this._toggle( eventData );

		// switch classes
		// corner classes on the previously active header stay after the animation
		active.removeClass( "ui-accordion-header-active ui-state-active" );
		if ( options.icons ) {
			active.children( ".ui-accordion-header-icon" )
				.removeClass( options.icons.activeHeader )
				.addClass( options.icons.header );
		}

		if ( !clickedIsActive ) {
			clicked
				.removeClass( "ui-corner-all" )
				.addClass( "ui-accordion-header-active ui-state-active ui-corner-top" );
			if ( options.icons ) {
				clicked.children( ".ui-accordion-header-icon" )
					.removeClass( options.icons.header )
					.addClass( options.icons.activeHeader );
			}

			clicked
				.next()
				.addClass( "ui-accordion-content-active" );
		}
	},

	_toggle: function( data ) {
		var toShow = data.newPanel,
			toHide = this.prevShow.length ? this.prevShow : data.oldPanel;

		// handle activating a panel during the animation for another activation
		this.prevShow.add( this.prevHide ).stop( true, true );
		this.prevShow = toShow;
		this.prevHide = toHide;

		if ( this.options.animate ) {
			this._animate( toShow, toHide, data );
		} else {
			toHide.hide();
			toShow.show();
			this._toggleComplete( data );
		}

		toHide.attr({
			"aria-hidden": "true"
		});
		toHide.prev().attr({
			"aria-selected": "false",
			"aria-expanded": "false"
		});
		// if we're switching panels, remove the old header from the tab order
		// if we're opening from collapsed state, remove the previous header from the tab order
		// if we're collapsing, then keep the collapsing header in the tab order
		if ( toShow.length && toHide.length ) {
			toHide.prev().attr({
				"tabIndex": -1,
				"aria-expanded": "false"
			});
		} else if ( toShow.length ) {
			this.headers.filter(function() {
				return parseInt( $( this ).attr( "tabIndex" ), 10 ) === 0;
			})
			.attr( "tabIndex", -1 );
		}

		toShow
			.attr( "aria-hidden", "false" )
			.prev()
				.attr({
					"aria-selected": "true",
					"aria-expanded": "true",
					tabIndex: 0
				});
	},

	_animate: function( toShow, toHide, data ) {
		var total, easing, duration,
			that = this,
			adjust = 0,
			boxSizing = toShow.css( "box-sizing" ),
			down = toShow.length &&
				( !toHide.length || ( toShow.index() < toHide.index() ) ),
			animate = this.options.animate || {},
			options = down && animate.down || animate,
			complete = function() {
				that._toggleComplete( data );
			};

		if ( typeof options === "number" ) {
			duration = options;
		}
		if ( typeof options === "string" ) {
			easing = options;
		}
		// fall back from options to animation in case of partial down settings
		easing = easing || options.easing || animate.easing;
		duration = duration || options.duration || animate.duration;

		if ( !toHide.length ) {
			return toShow.animate( this.showProps, duration, easing, complete );
		}
		if ( !toShow.length ) {
			return toHide.animate( this.hideProps, duration, easing, complete );
		}

		total = toShow.show().outerHeight();
		toHide.animate( this.hideProps, {
			duration: duration,
			easing: easing,
			step: function( now, fx ) {
				fx.now = Math.round( now );
			}
		});
		toShow
			.hide()
			.animate( this.showProps, {
				duration: duration,
				easing: easing,
				complete: complete,
				step: function( now, fx ) {
					fx.now = Math.round( now );
					if ( fx.prop !== "height" ) {
						if ( boxSizing === "content-box" ) {
							adjust += fx.now;
						}
					} else if ( that.options.heightStyle !== "content" ) {
						fx.now = Math.round( total - toHide.outerHeight() - adjust );
						adjust = 0;
					}
				}
			});
	},

	_toggleComplete: function( data ) {
		var toHide = data.oldPanel;

		toHide
			.removeClass( "ui-accordion-content-active" )
			.prev()
				.removeClass( "ui-corner-top" )
				.addClass( "ui-corner-all" );

		// Work around for rendering bug in IE (#5421)
		if ( toHide.length ) {
			toHide.parent()[ 0 ].className = toHide.parent()[ 0 ].className;
		}
		this._trigger( "activate", null, data );
	}
});


/*!
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */


var menu = $.widget( "ui.menu", {
	version: "1.11.4",
	defaultElement: "<ul>",
	delay: 300,
	options: {
		icons: {
			submenu: "ui-icon-carat-1-e"
		},
		items: "> *",
		menus: "ul",
		position: {
			my: "left-1 top",
			at: "right top"
		},
		role: "menu",

		// callbacks
		blur: null,
		focus: null,
		select: null
	},

	_create: function() {
		this.activeMenu = this.element;

		// Flag used to prevent firing of the click handler
		// as the event bubbles up through nested menus
		this.mouseHandled = false;
		this.element
			.uniqueId()
			.addClass( "ui-menu ui-widget ui-widget-content" )
			.toggleClass( "ui-menu-icons", !!this.element.find( ".ui-icon" ).length )
			.attr({
				role: this.options.role,
				tabIndex: 0
			});

		if ( this.options.disabled ) {
			this.element
				.addClass( "ui-state-disabled" )
				.attr( "aria-disabled", "true" );
		}

		this._on({
			// Prevent focus from sticking to links inside menu after clicking
			// them (focus should always stay on UL during navigation).
			"mousedown .ui-menu-item": function( event ) {
				event.preventDefault();
			},
			"click .ui-menu-item": function( event ) {
				var target = $( event.target );
				if ( !this.mouseHandled && target.not( ".ui-state-disabled" ).length ) {
					this.select( event );

					// Only set the mouseHandled flag if the event will bubble, see #9469.
					if ( !event.isPropagationStopped() ) {
						this.mouseHandled = true;
					}

					// Open submenu on click
					if ( target.has( ".ui-menu" ).length ) {
						this.expand( event );
					} else if ( !this.element.is( ":focus" ) && $( this.document[ 0 ].activeElement ).closest( ".ui-menu" ).length ) {

						// Redirect focus to the menu
						this.element.trigger( "focus", [ true ] );

						// If the active item is on the top level, let it stay active.
						// Otherwise, blur the active item since it is no longer visible.
						if ( this.active && this.active.parents( ".ui-menu" ).length === 1 ) {
							clearTimeout( this.timer );
						}
					}
				}
			},
			"mouseenter .ui-menu-item": function( event ) {
				// Ignore mouse events while typeahead is active, see #10458.
				// Prevents focusing the wrong item when typeahead causes a scroll while the mouse
				// is over an item in the menu
				if ( this.previousFilter ) {
					return;
				}
				var target = $( event.currentTarget );
				// Remove ui-state-active class from siblings of the newly focused menu item
				// to avoid a jump caused by adjacent elements both having a class with a border
				target.siblings( ".ui-state-active" ).removeClass( "ui-state-active" );
				this.focus( event, target );
			},
			mouseleave: "collapseAll",
			"mouseleave .ui-menu": "collapseAll",
			focus: function( event, keepActiveItem ) {
				// If there's already an active item, keep it active
				// If not, activate the first item
				var item = this.active || this.element.find( this.options.items ).eq( 0 );

				if ( !keepActiveItem ) {
					this.focus( event, item );
				}
			},
			blur: function( event ) {
				this._delay(function() {
					if ( !$.contains( this.element[0], this.document[0].activeElement ) ) {
						this.collapseAll( event );
					}
				});
			},
			keydown: "_keydown"
		});

		this.refresh();

		// Clicks outside of a menu collapse any open menus
		this._on( this.document, {
			click: function( event ) {
				if ( this._closeOnDocumentClick( event ) ) {
					this.collapseAll( event );
				}

				// Reset the mouseHandled flag
				this.mouseHandled = false;
			}
		});
	},

	_destroy: function() {
		// Destroy (sub)menus
		this.element
			.removeAttr( "aria-activedescendant" )
			.find( ".ui-menu" ).addBack()
				.removeClass( "ui-menu ui-widget ui-widget-content ui-menu-icons ui-front" )
				.removeAttr( "role" )
				.removeAttr( "tabIndex" )
				.removeAttr( "aria-labelledby" )
				.removeAttr( "aria-expanded" )
				.removeAttr( "aria-hidden" )
				.removeAttr( "aria-disabled" )
				.removeUniqueId()
				.show();

		// Destroy menu items
		this.element.find( ".ui-menu-item" )
			.removeClass( "ui-menu-item" )
			.removeAttr( "role" )
			.removeAttr( "aria-disabled" )
			.removeUniqueId()
			.removeClass( "ui-state-hover" )
			.removeAttr( "tabIndex" )
			.removeAttr( "role" )
			.removeAttr( "aria-haspopup" )
			.children().each( function() {
				var elem = $( this );
				if ( elem.data( "ui-menu-submenu-carat" ) ) {
					elem.remove();
				}
			});

		// Destroy menu dividers
		this.element.find( ".ui-menu-divider" ).removeClass( "ui-menu-divider ui-widget-content" );
	},

	_keydown: function( event ) {
		var match, prev, character, skip,
			preventDefault = true;

		switch ( event.keyCode ) {
		case $.ui.keyCode.PAGE_UP:
			this.previousPage( event );
			break;
		case $.ui.keyCode.PAGE_DOWN:
			this.nextPage( event );
			break;
		case $.ui.keyCode.HOME:
			this._move( "first", "first", event );
			break;
		case $.ui.keyCode.END:
			this._move( "last", "last", event );
			break;
		case $.ui.keyCode.UP:
			this.previous( event );
			break;
		case $.ui.keyCode.DOWN:
			this.next( event );
			break;
		case $.ui.keyCode.LEFT:
			this.collapse( event );
			break;
		case $.ui.keyCode.RIGHT:
			if ( this.active && !this.active.is( ".ui-state-disabled" ) ) {
				this.expand( event );
			}
			break;
		case $.ui.keyCode.ENTER:
		case $.ui.keyCode.SPACE:
			this._activate( event );
			break;
		case $.ui.keyCode.ESCAPE:
			this.collapse( event );
			break;
		default:
			preventDefault = false;
			prev = this.previousFilter || "";
			character = String.fromCharCode( event.keyCode );
			skip = false;

			clearTimeout( this.filterTimer );

			if ( character === prev ) {
				skip = true;
			} else {
				character = prev + character;
			}

			match = this._filterMenuItems( character );
			match = skip && match.index( this.active.next() ) !== -1 ?
				this.active.nextAll( ".ui-menu-item" ) :
				match;

			// If no matches on the current filter, reset to the last character pressed
			// to move down the menu to the first item that starts with that character
			if ( !match.length ) {
				character = String.fromCharCode( event.keyCode );
				match = this._filterMenuItems( character );
			}

			if ( match.length ) {
				this.focus( event, match );
				this.previousFilter = character;
				this.filterTimer = this._delay(function() {
					delete this.previousFilter;
				}, 1000 );
			} else {
				delete this.previousFilter;
			}
		}

		if ( preventDefault ) {
			event.preventDefault();
		}
	},

	_activate: function( event ) {
		if ( !this.active.is( ".ui-state-disabled" ) ) {
			if ( this.active.is( "[aria-haspopup='true']" ) ) {
				this.expand( event );
			} else {
				this.select( event );
			}
		}
	},

	refresh: function() {
		var menus, items,
			that = this,
			icon = this.options.icons.submenu,
			submenus = this.element.find( this.options.menus );

		this.element.toggleClass( "ui-menu-icons", !!this.element.find( ".ui-icon" ).length );

		// Initialize nested menus
		submenus.filter( ":not(.ui-menu)" )
			.addClass( "ui-menu ui-widget ui-widget-content ui-front" )
			.hide()
			.attr({
				role: this.options.role,
				"aria-hidden": "true",
				"aria-expanded": "false"
			})
			.each(function() {
				var menu = $( this ),
					item = menu.parent(),
					submenuCarat = $( "<span>" )
						.addClass( "ui-menu-icon ui-icon " + icon )
						.data( "ui-menu-submenu-carat", true );

				item
					.attr( "aria-haspopup", "true" )
					.prepend( submenuCarat );
				menu.attr( "aria-labelledby", item.attr( "id" ) );
			});

		menus = submenus.add( this.element );
		items = menus.find( this.options.items );

		// Initialize menu-items containing spaces and/or dashes only as dividers
		items.not( ".ui-menu-item" ).each(function() {
			var item = $( this );
			if ( that._isDivider( item ) ) {
				item.addClass( "ui-widget-content ui-menu-divider" );
			}
		});

		// Don't refresh list items that are already adapted
		items.not( ".ui-menu-item, .ui-menu-divider" )
			.addClass( "ui-menu-item" )
			.uniqueId()
			.attr({
				tabIndex: -1,
				role: this._itemRole()
			});

		// Add aria-disabled attribute to any disabled menu item
		items.filter( ".ui-state-disabled" ).attr( "aria-disabled", "true" );

		// If the active item has been removed, blur the menu
		if ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {
			this.blur();
		}
	},

	_itemRole: function() {
		return {
			menu: "menuitem",
			listbox: "option"
		}[ this.options.role ];
	},

	_setOption: function( key, value ) {
		if ( key === "icons" ) {
			this.element.find( ".ui-menu-icon" )
				.removeClass( this.options.icons.submenu )
				.addClass( value.submenu );
		}
		if ( key === "disabled" ) {
			this.element
				.toggleClass( "ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
		}
		this._super( key, value );
	},

	focus: function( event, item ) {
		var nested, focused;
		this.blur( event, event && event.type === "focus" );

		this._scrollIntoView( item );

		this.active = item.first();
		focused = this.active.addClass( "ui-state-focus" ).removeClass( "ui-state-active" );
		// Only update aria-activedescendant if there's a role
		// otherwise we assume focus is managed elsewhere
		if ( this.options.role ) {
			this.element.attr( "aria-activedescendant", focused.attr( "id" ) );
		}

		// Highlight active parent menu item, if any
		this.active
			.parent()
			.closest( ".ui-menu-item" )
			.addClass( "ui-state-active" );

		if ( event && event.type === "keydown" ) {
			this._close();
		} else {
			this.timer = this._delay(function() {
				this._close();
			}, this.delay );
		}

		nested = item.children( ".ui-menu" );
		if ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {
			this._startOpening(nested);
		}
		this.activeMenu = item.parent();

		this._trigger( "focus", event, { item: item } );
	},

	_scrollIntoView: function( item ) {
		var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
		if ( this._hasScroll() ) {
			borderTop = parseFloat( $.css( this.activeMenu[0], "borderTopWidth" ) ) || 0;
			paddingTop = parseFloat( $.css( this.activeMenu[0], "paddingTop" ) ) || 0;
			offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
			scroll = this.activeMenu.scrollTop();
			elementHeight = this.activeMenu.height();
			itemHeight = item.outerHeight();

			if ( offset < 0 ) {
				this.activeMenu.scrollTop( scroll + offset );
			} else if ( offset + itemHeight > elementHeight ) {
				this.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );
			}
		}
	},

	blur: function( event, fromFocus ) {
		if ( !fromFocus ) {
			clearTimeout( this.timer );
		}

		if ( !this.active ) {
			return;
		}

		this.active.removeClass( "ui-state-focus" );
		this.active = null;

		this._trigger( "blur", event, { item: this.active } );
	},

	_startOpening: function( submenu ) {
		clearTimeout( this.timer );

		// Don't open if already open fixes a Firefox bug that caused a .5 pixel
		// shift in the submenu position when mousing over the carat icon
		if ( submenu.attr( "aria-hidden" ) !== "true" ) {
			return;
		}

		this.timer = this._delay(function() {
			this._close();
			this._open( submenu );
		}, this.delay );
	},

	_open: function( submenu ) {
		var position = $.extend({
			of: this.active
		}, this.options.position );

		clearTimeout( this.timer );
		this.element.find( ".ui-menu" ).not( submenu.parents( ".ui-menu" ) )
			.hide()
			.attr( "aria-hidden", "true" );

		submenu
			.show()
			.removeAttr( "aria-hidden" )
			.attr( "aria-expanded", "true" )
			.position( position );
	},

	collapseAll: function( event, all ) {
		clearTimeout( this.timer );
		this.timer = this._delay(function() {
			// If we were passed an event, look for the submenu that contains the event
			var currentMenu = all ? this.element :
				$( event && event.target ).closest( this.element.find( ".ui-menu" ) );

			// If we found no valid submenu ancestor, use the main menu to close all sub menus anyway
			if ( !currentMenu.length ) {
				currentMenu = this.element;
			}

			this._close( currentMenu );

			this.blur( event );
			this.activeMenu = currentMenu;
		}, this.delay );
	},

	// With no arguments, closes the currently active menu - if nothing is active
	// it closes all menus.  If passed an argument, it will search for menus BELOW
	_close: function( startMenu ) {
		if ( !startMenu ) {
			startMenu = this.active ? this.active.parent() : this.element;
		}

		startMenu
			.find( ".ui-menu" )
				.hide()
				.attr( "aria-hidden", "true" )
				.attr( "aria-expanded", "false" )
			.end()
			.find( ".ui-state-active" ).not( ".ui-state-focus" )
				.removeClass( "ui-state-active" );
	},

	_closeOnDocumentClick: function( event ) {
		return !$( event.target ).closest( ".ui-menu" ).length;
	},

	_isDivider: function( item ) {

		// Match hyphen, em dash, en dash
		return !/[^\-\u2014\u2013\s]/.test( item.text() );
	},

	collapse: function( event ) {
		var newItem = this.active &&
			this.active.parent().closest( ".ui-menu-item", this.element );
		if ( newItem && newItem.length ) {
			this._close();
			this.focus( event, newItem );
		}
	},

	expand: function( event ) {
		var newItem = this.active &&
			this.active
				.children( ".ui-menu " )
				.find( this.options.items )
				.first();

		if ( newItem && newItem.length ) {
			this._open( newItem.parent() );

			// Delay so Firefox will not hide activedescendant change in expanding submenu from AT
			this._delay(function() {
				this.focus( event, newItem );
			});
		}
	},

	next: function( event ) {
		this._move( "next", "first", event );
	},

	previous: function( event ) {
		this._move( "prev", "last", event );
	},

	isFirstItem: function() {
		return this.active && !this.active.prevAll( ".ui-menu-item" ).length;
	},

	isLastItem: function() {
		return this.active && !this.active.nextAll( ".ui-menu-item" ).length;
	},

	_move: function( direction, filter, event ) {
		var next;
		if ( this.active ) {
			if ( direction === "first" || direction === "last" ) {
				next = this.active
					[ direction === "first" ? "prevAll" : "nextAll" ]( ".ui-menu-item" )
					.eq( -1 );
			} else {
				next = this.active
					[ direction + "All" ]( ".ui-menu-item" )
					.eq( 0 );
			}
		}
		if ( !next || !next.length || !this.active ) {
			next = this.activeMenu.find( this.options.items )[ filter ]();
		}

		this.focus( event, next );
	},

	nextPage: function( event ) {
		var item, base, height;

		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isLastItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.nextAll( ".ui-menu-item" ).each(function() {
				item = $( this );
				return item.offset().top - base - height < 0;
			});

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items )
				[ !this.active ? "first" : "last" ]() );
		}
	},

	previousPage: function( event ) {
		var item, base, height;
		if ( !this.active ) {
			this.next( event );
			return;
		}
		if ( this.isFirstItem() ) {
			return;
		}
		if ( this._hasScroll() ) {
			base = this.active.offset().top;
			height = this.element.height();
			this.active.prevAll( ".ui-menu-item" ).each(function() {
				item = $( this );
				return item.offset().top - base + height > 0;
			});

			this.focus( event, item );
		} else {
			this.focus( event, this.activeMenu.find( this.options.items ).first() );
		}
	},

	_hasScroll: function() {
		return this.element.outerHeight() < this.element.prop( "scrollHeight" );
	},

	select: function( event ) {
		// TODO: It should never be possible to not have an active item at this
		// point, but the tests don't trigger mouseenter before click.
		this.active = this.active || $( event.target ).closest( ".ui-menu-item" );
		var ui = { item: this.active };
		if ( !this.active.has( ".ui-menu" ).length ) {
			this.collapseAll( event, true );
		}
		this._trigger( "select", event, ui );
	},

	_filterMenuItems: function(character) {
		var escapedCharacter = character.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" ),
			regex = new RegExp( "^" + escapedCharacter, "i" );

		return this.activeMenu
			.find( this.options.items )

			// Only match on items, not dividers or other content (#10571)
			.filter( ".ui-menu-item" )
			.filter(function() {
				return regex.test( $.trim( $( this ).text() ) );
			});
	}
});


/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */


$.widget( "ui.autocomplete", {
	version: "1.11.4",
	defaultElement: "<input>",
	options: {
		appendTo: null,
		autoFocus: false,
		delay: 300,
		minLength: 1,
		position: {
			my: "left top",
			at: "left bottom",
			collision: "none"
		},
		source: null,

		// callbacks
		change: null,
		close: null,
		focus: null,
		open: null,
		response: null,
		search: null,
		select: null
	},

	requestIndex: 0,
	pending: 0,

	_create: function() {
		// Some browsers only repeat keydown events, not keypress events,
		// so we use the suppressKeyPress flag to determine if we've already
		// handled the keydown event. #7269
		// Unfortunately the code for & in keypress is the same as the up arrow,
		// so we use the suppressKeyPressRepeat flag to avoid handling keypress
		// events when we know the keydown event was used to modify the
		// search term. #7799
		var suppressKeyPress, suppressKeyPressRepeat, suppressInput,
			nodeName = this.element[ 0 ].nodeName.toLowerCase(),
			isTextarea = nodeName === "textarea",
			isInput = nodeName === "input";

		this.isMultiLine =
			// Textareas are always multi-line
			isTextarea ? true :
			// Inputs are always single-line, even if inside a contentEditable element
			// IE also treats inputs as contentEditable
			isInput ? false :
			// All other element types are determined by whether or not they're contentEditable
			this.element.prop( "isContentEditable" );

		this.valueMethod = this.element[ isTextarea || isInput ? "val" : "text" ];
		this.isNewMenu = true;

		this.element
			.addClass( "ui-autocomplete-input" )
			.attr( "autocomplete", "off" );

		this._on( this.element, {
			keydown: function( event ) {
				if ( this.element.prop( "readOnly" ) ) {
					suppressKeyPress = true;
					suppressInput = true;
					suppressKeyPressRepeat = true;
					return;
				}

				suppressKeyPress = false;
				suppressInput = false;
				suppressKeyPressRepeat = false;
				var keyCode = $.ui.keyCode;
				switch ( event.keyCode ) {
				case keyCode.PAGE_UP:
					suppressKeyPress = true;
					this._move( "previousPage", event );
					break;
				case keyCode.PAGE_DOWN:
					suppressKeyPress = true;
					this._move( "nextPage", event );
					break;
				case keyCode.UP:
					suppressKeyPress = true;
					this._keyEvent( "previous", event );
					break;
				case keyCode.DOWN:
					suppressKeyPress = true;
					this._keyEvent( "next", event );
					break;
				case keyCode.ENTER:
					// when menu is open and has focus
					if ( this.menu.active ) {
						// #6055 - Opera still allows the keypress to occur
						// which causes forms to submit
						suppressKeyPress = true;
						event.preventDefault();
						this.menu.select( event );
					}
					break;
				case keyCode.TAB:
					if ( this.menu.active ) {
						this.menu.select( event );
					}
					break;
				case keyCode.ESCAPE:
					if ( this.menu.element.is( ":visible" ) ) {
						if ( !this.isMultiLine ) {
							this._value( this.term );
						}
						this.close( event );
						// Different browsers have different default behavior for escape
						// Single press can mean undo or clear
						// Double press in IE means clear the whole form
						event.preventDefault();
					}
					break;
				default:
					suppressKeyPressRepeat = true;
					// search timeout should be triggered before the input value is changed
					this._searchTimeout( event );
					break;
				}
			},
			keypress: function( event ) {
				if ( suppressKeyPress ) {
					suppressKeyPress = false;
					if ( !this.isMultiLine || this.menu.element.is( ":visible" ) ) {
						event.preventDefault();
					}
					return;
				}
				if ( suppressKeyPressRepeat ) {
					return;
				}

				// replicate some key handlers to allow them to repeat in Firefox and Opera
				var keyCode = $.ui.keyCode;
				switch ( event.keyCode ) {
				case keyCode.PAGE_UP:
					this._move( "previousPage", event );
					break;
				case keyCode.PAGE_DOWN:
					this._move( "nextPage", event );
					break;
				case keyCode.UP:
					this._keyEvent( "previous", event );
					break;
				case keyCode.DOWN:
					this._keyEvent( "next", event );
					break;
				}
			},
			input: function( event ) {
				if ( suppressInput ) {
					suppressInput = false;
					event.preventDefault();
					return;
				}
				this._searchTimeout( event );
			},
			focus: function() {
				this.selectedItem = null;
				this.previous = this._value();
			},
			blur: function( event ) {
				if ( this.cancelBlur ) {
					delete this.cancelBlur;
					return;
				}

				clearTimeout( this.searching );
				this.close( event );
				this._change( event );
			}
		});

		this._initSource();
		this.menu = $( "<ul>" )
			.addClass( "ui-autocomplete ui-front" )
			.appendTo( this._appendTo() )
			.menu({
				// disable ARIA support, the live region takes care of that
				role: null
			})
			.hide()
			.menu( "instance" );

		this._on( this.menu.element, {
			mousedown: function( event ) {
				// prevent moving focus out of the text field
				event.preventDefault();

				// IE doesn't prevent moving focus even with event.preventDefault()
				// so we set a flag to know when we should ignore the blur event
				this.cancelBlur = true;
				this._delay(function() {
					delete this.cancelBlur;
				});

				// clicking on the scrollbar causes focus to shift to the body
				// but we can't detect a mouseup or a click immediately afterward
				// so we have to track the next mousedown and close the menu if
				// the user clicks somewhere outside of the autocomplete
				var menuElement = this.menu.element[ 0 ];
				if ( !$( event.target ).closest( ".ui-menu-item" ).length ) {
					this._delay(function() {
						var that = this;
						this.document.one( "mousedown", function( event ) {
							if ( event.target !== that.element[ 0 ] &&
									event.target !== menuElement &&
									!$.contains( menuElement, event.target ) ) {
								that.close();
							}
						});
					});
				}
			},
			menufocus: function( event, ui ) {
				var label, item;
				// support: Firefox
				// Prevent accidental activation of menu items in Firefox (#7024 #9118)
				if ( this.isNewMenu ) {
					this.isNewMenu = false;
					if ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {
						this.menu.blur();

						this.document.one( "mousemove", function() {
							$( event.target ).trigger( event.originalEvent );
						});

						return;
					}
				}

				item = ui.item.data( "ui-autocomplete-item" );
				if ( false !== this._trigger( "focus", event, { item: item } ) ) {
					// use value to match what will end up in the input, if it was a key event
					if ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {
						this._value( item.value );
					}
				}

				// Announce the value in the liveRegion
				label = ui.item.attr( "aria-label" ) || item.value;
				if ( label && $.trim( label ).length ) {
					this.liveRegion.children().hide();
					$( "<div>" ).text( label ).appendTo( this.liveRegion );
				}
			},
			menuselect: function( event, ui ) {
				var item = ui.item.data( "ui-autocomplete-item" ),
					previous = this.previous;

				// only trigger when focus was lost (click on menu)
				if ( this.element[ 0 ] !== this.document[ 0 ].activeElement ) {
					this.element.focus();
					this.previous = previous;
					// #6109 - IE triggers two focus events and the second
					// is asynchronous, so we need to reset the previous
					// term synchronously and asynchronously :-(
					this._delay(function() {
						this.previous = previous;
						this.selectedItem = item;
					});
				}

				if ( false !== this._trigger( "select", event, { item: item } ) ) {
					this._value( item.value );
				}
				// reset the term after the select event
				// this allows custom select handling to work properly
				this.term = this._value();

				this.close( event );
				this.selectedItem = item;
			}
		});

		this.liveRegion = $( "<span>", {
				role: "status",
				"aria-live": "assertive",
				"aria-relevant": "additions"
			})
			.addClass( "ui-helper-hidden-accessible" )
			.appendTo( this.document[ 0 ].body );

		// turning off autocomplete prevents the browser from remembering the
		// value when navigating through history, so we re-enable autocomplete
		// if the page is unloaded before the widget is destroyed. #7790
		this._on( this.window, {
			beforeunload: function() {
				this.element.removeAttr( "autocomplete" );
			}
		});
	},

	_destroy: function() {
		clearTimeout( this.searching );
		this.element
			.removeClass( "ui-autocomplete-input" )
			.removeAttr( "autocomplete" );
		this.menu.element.remove();
		this.liveRegion.remove();
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "source" ) {
			this._initSource();
		}
		if ( key === "appendTo" ) {
			this.menu.element.appendTo( this._appendTo() );
		}
		if ( key === "disabled" && value && this.xhr ) {
			this.xhr.abort();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;

		if ( element ) {
			element = element.jquery || element.nodeType ?
				$( element ) :
				this.document.find( element ).eq( 0 );
		}

		if ( !element || !element[ 0 ] ) {
			element = this.element.closest( ".ui-front" );
		}

		if ( !element.length ) {
			element = this.document[ 0 ].body;
		}

		return element;
	},

	_initSource: function() {
		var array, url,
			that = this;
		if ( $.isArray( this.options.source ) ) {
			array = this.options.source;
			this.source = function( request, response ) {
				response( $.ui.autocomplete.filter( array, request.term ) );
			};
		} else if ( typeof this.options.source === "string" ) {
			url = this.options.source;
			this.source = function( request, response ) {
				if ( that.xhr ) {
					that.xhr.abort();
				}
				that.xhr = $.ajax({
					url: url,
					data: request,
					dataType: "json",
					success: function( data ) {
						response( data );
					},
					error: function() {
						response([]);
					}
				});
			};
		} else {
			this.source = this.options.source;
		}
	},

	_searchTimeout: function( event ) {
		clearTimeout( this.searching );
		this.searching = this._delay(function() {

			// Search if the value has changed, or if the user retypes the same value (see #7434)
			var equalValues = this.term === this._value(),
				menuVisible = this.menu.element.is( ":visible" ),
				modifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;

			if ( !equalValues || ( equalValues && !menuVisible && !modifierKey ) ) {
				this.selectedItem = null;
				this.search( null, event );
			}
		}, this.options.delay );
	},

	search: function( value, event ) {
		value = value != null ? value : this._value();

		// always save the actual value, not the one passed as an argument
		this.term = this._value();

		if ( value.length < this.options.minLength ) {
			return this.close( event );
		}

		if ( this._trigger( "search", event ) === false ) {
			return;
		}

		return this._search( value );
	},

	_search: function( value ) {
		this.pending++;
		this.element.addClass( "ui-autocomplete-loading" );
		this.cancelSearch = false;

		this.source( { term: value }, this._response() );
	},

	_response: function() {
		var index = ++this.requestIndex;

		return $.proxy(function( content ) {
			if ( index === this.requestIndex ) {
				this.__response( content );
			}

			this.pending--;
			if ( !this.pending ) {
				this.element.removeClass( "ui-autocomplete-loading" );
			}
		}, this );
	},

	__response: function( content ) {
		if ( content ) {
			content = this._normalize( content );
		}
		this._trigger( "response", null, { content: content } );
		if ( !this.options.disabled && content && content.length && !this.cancelSearch ) {
			this._suggest( content );
			this._trigger( "open" );
		} else {
			// use ._close() instead of .close() so we don't cancel future searches
			this._close();
		}
	},

	close: function( event ) {
		this.cancelSearch = true;
		this._close( event );
	},

	_close: function( event ) {
		if ( this.menu.element.is( ":visible" ) ) {
			this.menu.element.hide();
			this.menu.blur();
			this.isNewMenu = true;
			this._trigger( "close", event );
		}
	},

	_change: function( event ) {
		if ( this.previous !== this._value() ) {
			this._trigger( "change", event, { item: this.selectedItem } );
		}
	},

	_normalize: function( items ) {
		// assume all items have the right format when the first item is complete
		if ( items.length && items[ 0 ].label && items[ 0 ].value ) {
			return items;
		}
		return $.map( items, function( item ) {
			if ( typeof item === "string" ) {
				return {
					label: item,
					value: item
				};
			}
			return $.extend( {}, item, {
				label: item.label || item.value,
				value: item.value || item.label
			});
		});
	},

	_suggest: function( items ) {
		var ul = this.menu.element.empty();
		this._renderMenu( ul, items );
		this.isNewMenu = true;
		this.menu.refresh();

		// size and position menu
		ul.show();
		this._resizeMenu();
		ul.position( $.extend({
			of: this.element
		}, this.options.position ) );

		if ( this.options.autoFocus ) {
			this.menu.next();
		}
	},

	_resizeMenu: function() {
		var ul = this.menu.element;
		ul.outerWidth( Math.max(
			// Firefox wraps long text (possibly a rounding bug)
			// so we add 1px to avoid the wrapping (#7513)
			ul.width( "" ).outerWidth() + 1,
			this.element.outerWidth()
		) );
	},

	_renderMenu: function( ul, items ) {
		var that = this;
		$.each( items, function( index, item ) {
			that._renderItemData( ul, item );
		});
	},

	_renderItemData: function( ul, item ) {
		return this._renderItem( ul, item ).data( "ui-autocomplete-item", item );
	},

	_renderItem: function( ul, item ) {
		return $( "<li>" ).text( item.label ).appendTo( ul );
	},

	_move: function( direction, event ) {
		if ( !this.menu.element.is( ":visible" ) ) {
			this.search( null, event );
			return;
		}
		if ( this.menu.isFirstItem() && /^previous/.test( direction ) ||
				this.menu.isLastItem() && /^next/.test( direction ) ) {

			if ( !this.isMultiLine ) {
				this._value( this.term );
			}

			this.menu.blur();
			return;
		}
		this.menu[ direction ]( event );
	},

	widget: function() {
		return this.menu.element;
	},

	_value: function() {
		return this.valueMethod.apply( this.element, arguments );
	},

	_keyEvent: function( keyEvent, event ) {
		if ( !this.isMultiLine || this.menu.element.is( ":visible" ) ) {
			this._move( keyEvent, event );

			// prevents moving cursor to beginning/end of the text field in some browsers
			event.preventDefault();
		}
	}
});

$.extend( $.ui.autocomplete, {
	escapeRegex: function( value ) {
		return value.replace( /[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&" );
	},
	filter: function( array, term ) {
		var matcher = new RegExp( $.ui.autocomplete.escapeRegex( term ), "i" );
		return $.grep( array, function( value ) {
			return matcher.test( value.label || value.value || value );
		});
	}
});

// live region extension, adding a `messages` option
// NOTE: This is an experimental API. We are still investigating
// a full solution for string manipulation and internationalization.
$.widget( "ui.autocomplete", $.ui.autocomplete, {
	options: {
		messages: {
			noResults: "No search results.",
			results: function( amount ) {
				return amount + ( amount > 1 ? " results are" : " result is" ) +
					" available, use up and down arrow keys to navigate.";
			}
		}
	},

	__response: function( content ) {
		var message;
		this._superApply( arguments );
		if ( this.options.disabled || this.cancelSearch ) {
			return;
		}
		if ( content && content.length ) {
			message = this.options.messages.results( content.length );
		} else {
			message = this.options.messages.noResults;
		}
		this.liveRegion.children().hide();
		$( "<div>" ).text( message ).appendTo( this.liveRegion );
	}
});

var autocomplete = $.ui.autocomplete;


/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */


var lastActive,
	baseClasses = "ui-button ui-widget ui-state-default ui-corner-all",
	typeClasses = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
	formResetHandler = function() {
		var form = $( this );
		setTimeout(function() {
			form.find( ":ui-button" ).button( "refresh" );
		}, 1 );
	},
	radioGroup = function( radio ) {
		var name = radio.name,
			form = radio.form,
			radios = $( [] );
		if ( name ) {
			name = name.replace( /'/g, "\\'" );
			if ( form ) {
				radios = $( form ).find( "[name='" + name + "'][type=radio]" );
			} else {
				radios = $( "[name='" + name + "'][type=radio]", radio.ownerDocument )
					.filter(function() {
						return !this.form;
					});
			}
		}
		return radios;
	};

$.widget( "ui.button", {
	version: "1.11.4",
	defaultElement: "<button>",
	options: {
		disabled: null,
		text: true,
		label: null,
		icons: {
			primary: null,
			secondary: null
		}
	},
	_create: function() {
		this.element.closest( "form" )
			.unbind( "reset" + this.eventNamespace )
			.bind( "reset" + this.eventNamespace, formResetHandler );

		if ( typeof this.options.disabled !== "boolean" ) {
			this.options.disabled = !!this.element.prop( "disabled" );
		} else {
			this.element.prop( "disabled", this.options.disabled );
		}

		this._determineButtonType();
		this.hasTitle = !!this.buttonElement.attr( "title" );

		var that = this,
			options = this.options,
			toggleButton = this.type === "checkbox" || this.type === "radio",
			activeClass = !toggleButton ? "ui-state-active" : "";

		if ( options.label === null ) {
			options.label = (this.type === "input" ? this.buttonElement.val() : this.buttonElement.html());
		}

		this._hoverable( this.buttonElement );

		this.buttonElement
			.addClass( baseClasses )
			.attr( "role", "button" )
			.bind( "mouseenter" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return;
				}
				if ( this === lastActive ) {
					$( this ).addClass( "ui-state-active" );
				}
			})
			.bind( "mouseleave" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return;
				}
				$( this ).removeClass( activeClass );
			})
			.bind( "click" + this.eventNamespace, function( event ) {
				if ( options.disabled ) {
					event.preventDefault();
					event.stopImmediatePropagation();
				}
			});

		// Can't use _focusable() because the element that receives focus
		// and the element that gets the ui-state-focus class are different
		this._on({
			focus: function() {
				this.buttonElement.addClass( "ui-state-focus" );
			},
			blur: function() {
				this.buttonElement.removeClass( "ui-state-focus" );
			}
		});

		if ( toggleButton ) {
			this.element.bind( "change" + this.eventNamespace, function() {
				that.refresh();
			});
		}

		if ( this.type === "checkbox" ) {
			this.buttonElement.bind( "click" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return false;
				}
			});
		} else if ( this.type === "radio" ) {
			this.buttonElement.bind( "click" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return false;
				}
				$( this ).addClass( "ui-state-active" );
				that.buttonElement.attr( "aria-pressed", "true" );

				var radio = that.element[ 0 ];
				radioGroup( radio )
					.not( radio )
					.map(function() {
						return $( this ).button( "widget" )[ 0 ];
					})
					.removeClass( "ui-state-active" )
					.attr( "aria-pressed", "false" );
			});
		} else {
			this.buttonElement
				.bind( "mousedown" + this.eventNamespace, function() {
					if ( options.disabled ) {
						return false;
					}
					$( this ).addClass( "ui-state-active" );
					lastActive = this;
					that.document.one( "mouseup", function() {
						lastActive = null;
					});
				})
				.bind( "mouseup" + this.eventNamespace, function() {
					if ( options.disabled ) {
						return false;
					}
					$( this ).removeClass( "ui-state-active" );
				})
				.bind( "keydown" + this.eventNamespace, function(event) {
					if ( options.disabled ) {
						return false;
					}
					if ( event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER ) {
						$( this ).addClass( "ui-state-active" );
					}
				})
				// see #8559, we bind to blur here in case the button element loses
				// focus between keydown and keyup, it would be left in an "active" state
				.bind( "keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
					$( this ).removeClass( "ui-state-active" );
				});

			if ( this.buttonElement.is("a") ) {
				this.buttonElement.keyup(function(event) {
					if ( event.keyCode === $.ui.keyCode.SPACE ) {
						// TODO pass through original event correctly (just as 2nd argument doesn't work)
						$( this ).click();
					}
				});
			}
		}

		this._setOption( "disabled", options.disabled );
		this._resetButton();
	},

	_determineButtonType: function() {
		var ancestor, labelSelector, checked;

		if ( this.element.is("[type=checkbox]") ) {
			this.type = "checkbox";
		} else if ( this.element.is("[type=radio]") ) {
			this.type = "radio";
		} else if ( this.element.is("input") ) {
			this.type = "input";
		} else {
			this.type = "button";
		}

		if ( this.type === "checkbox" || this.type === "radio" ) {
			// we don't search against the document in case the element
			// is disconnected from the DOM
			ancestor = this.element.parents().last();
			labelSelector = "label[for='" + this.element.attr("id") + "']";
			this.buttonElement = ancestor.find( labelSelector );
			if ( !this.buttonElement.length ) {
				ancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();
				this.buttonElement = ancestor.filter( labelSelector );
				if ( !this.buttonElement.length ) {
					this.buttonElement = ancestor.find( labelSelector );
				}
			}
			this.element.addClass( "ui-helper-hidden-accessible" );

			checked = this.element.is( ":checked" );
			if ( checked ) {
				this.buttonElement.addClass( "ui-state-active" );
			}
			this.buttonElement.prop( "aria-pressed", checked );
		} else {
			this.buttonElement = this.element;
		}
	},

	widget: function() {
		return this.buttonElement;
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-helper-hidden-accessible" );
		this.buttonElement
			.removeClass( baseClasses + " ui-state-active " + typeClasses )
			.removeAttr( "role" )
			.removeAttr( "aria-pressed" )
			.html( this.buttonElement.find(".ui-button-text").html() );

		if ( !this.hasTitle ) {
			this.buttonElement.removeAttr( "title" );
		}
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "disabled" ) {
			this.widget().toggleClass( "ui-state-disabled", !!value );
			this.element.prop( "disabled", !!value );
			if ( value ) {
				if ( this.type === "checkbox" || this.type === "radio" ) {
					this.buttonElement.removeClass( "ui-state-focus" );
				} else {
					this.buttonElement.removeClass( "ui-state-focus ui-state-active" );
				}
			}
			return;
		}
		this._resetButton();
	},

	refresh: function() {
		//See #8237 & #8828
		var isDisabled = this.element.is( "input, button" ) ? this.element.is( ":disabled" ) : this.element.hasClass( "ui-button-disabled" );

		if ( isDisabled !== this.options.disabled ) {
			this._setOption( "disabled", isDisabled );
		}
		if ( this.type === "radio" ) {
			radioGroup( this.element[0] ).each(function() {
				if ( $( this ).is( ":checked" ) ) {
					$( this ).button( "widget" )
						.addClass( "ui-state-active" )
						.attr( "aria-pressed", "true" );
				} else {
					$( this ).button( "widget" )
						.removeClass( "ui-state-active" )
						.attr( "aria-pressed", "false" );
				}
			});
		} else if ( this.type === "checkbox" ) {
			if ( this.element.is( ":checked" ) ) {
				this.buttonElement
					.addClass( "ui-state-active" )
					.attr( "aria-pressed", "true" );
			} else {
				this.buttonElement
					.removeClass( "ui-state-active" )
					.attr( "aria-pressed", "false" );
			}
		}
	},

	_resetButton: function() {
		if ( this.type === "input" ) {
			if ( this.options.label ) {
				this.element.val( this.options.label );
			}
			return;
		}
		var buttonElement = this.buttonElement.removeClass( typeClasses ),
			buttonText = $( "<span></span>", this.document[0] )
				.addClass( "ui-button-text" )
				.html( this.options.label )
				.appendTo( buttonElement.empty() )
				.text(),
			icons = this.options.icons,
			multipleIcons = icons.primary && icons.secondary,
			buttonClasses = [];

		if ( icons.primary || icons.secondary ) {
			if ( this.options.text ) {
				buttonClasses.push( "ui-button-text-icon" + ( multipleIcons ? "s" : ( icons.primary ? "-primary" : "-secondary" ) ) );
			}

			if ( icons.primary ) {
				buttonElement.prepend( "<span class='ui-button-icon-primary ui-icon " + icons.primary + "'></span>" );
			}

			if ( icons.secondary ) {
				buttonElement.append( "<span class='ui-button-icon-secondary ui-icon " + icons.secondary + "'></span>" );
			}

			if ( !this.options.text ) {
				buttonClasses.push( multipleIcons ? "ui-button-icons-only" : "ui-button-icon-only" );

				if ( !this.hasTitle ) {
					buttonElement.attr( "title", $.trim( buttonText ) );
				}
			}
		} else {
			buttonClasses.push( "ui-button-text-only" );
		}
		buttonElement.addClass( buttonClasses.join( " " ) );
	}
});

$.widget( "ui.buttonset", {
	version: "1.11.4",
	options: {
		items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
	},

	_create: function() {
		this.element.addClass( "ui-buttonset" );
	},

	_init: function() {
		this.refresh();
	},

	_setOption: function( key, value ) {
		if ( key === "disabled" ) {
			this.buttons.button( "option", key, value );
		}

		this._super( key, value );
	},

	refresh: function() {
		var rtl = this.element.css( "direction" ) === "rtl",
			allButtons = this.element.find( this.options.items ),
			existingButtons = allButtons.filter( ":ui-button" );

		// Initialize new buttons
		allButtons.not( ":ui-button" ).button();

		// Refresh existing buttons
		existingButtons.button( "refresh" );

		this.buttons = allButtons
			.map(function() {
				return $( this ).button( "widget" )[ 0 ];
			})
				.removeClass( "ui-corner-all ui-corner-left ui-corner-right" )
				.filter( ":first" )
					.addClass( rtl ? "ui-corner-right" : "ui-corner-left" )
				.end()
				.filter( ":last" )
					.addClass( rtl ? "ui-corner-left" : "ui-corner-right" )
				.end()
			.end();
	},

	_destroy: function() {
		this.element.removeClass( "ui-buttonset" );
		this.buttons
			.map(function() {
				return $( this ).button( "widget" )[ 0 ];
			})
				.removeClass( "ui-corner-left ui-corner-right" )
			.end()
			.button( "destroy" );
	}
});

var button = $.ui.button;


/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */


$.extend($.ui, { datepicker: { version: "1.11.4" } });

var datepicker_instActive;

function datepicker_getZindex( elem ) {
	var position, value;
	while ( elem.length && elem[ 0 ] !== document ) {
		// Ignore z-index if position is set to a value where z-index is ignored by the browser
		// This makes behavior of this function consistent across browsers
		// WebKit always returns auto if the element is positioned
		position = elem.css( "position" );
		if ( position === "absolute" || position === "relative" || position === "fixed" ) {
			// IE returns 0 when zIndex is not specified
			// other browsers return a string
			// we ignore the case of nested elements with an explicit value of 0
			// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
			value = parseInt( elem.css( "zIndex" ), 10 );
			if ( !isNaN( value ) && value !== 0 ) {
				return value;
			}
		}
		elem = elem.parent();
	}

	return 0;
}
/* Date picker manager.
   Use the singleton instance of this class, $.datepicker, to interact with the date picker.
   Settings for (groups of) date pickers are maintained in an instance object,
   allowing multiple different settings on the same page. */

function Datepicker() {
	this._curInst = null; // The current instance in use
	this._keyEvent = false; // If the last event was a key event
	this._disabledInputs = []; // List of date picker inputs that have been disabled
	this._datepickerShowing = false; // True if the popup picker is showing , false if not
	this._inDialog = false; // True if showing within a "dialog", false if not
	this._mainDivId = "ui-datepicker-div"; // The ID of the main datepicker division
	this._inlineClass = "ui-datepicker-inline"; // The name of the inline marker class
	this._appendClass = "ui-datepicker-append"; // The name of the append marker class
	this._triggerClass = "ui-datepicker-trigger"; // The name of the trigger marker class
	this._dialogClass = "ui-datepicker-dialog"; // The name of the dialog marker class
	this._disableClass = "ui-datepicker-disabled"; // The name of the disabled covering marker class
	this._unselectableClass = "ui-datepicker-unselectable"; // The name of the unselectable cell marker class
	this._currentClass = "ui-datepicker-current-day"; // The name of the current day marker class
	this._dayOverClass = "ui-datepicker-days-cell-over"; // The name of the day hover marker class
	this.regional = []; // Available regional settings, indexed by language code
	this.regional[""] = { // Default regional settings
		closeText: "Done", // Display text for close link
		prevText: "Prev", // Display text for previous month link
		nextText: "Next", // Display text for next month link
		currentText: "Today", // Display text for current month link
		monthNames: ["January","February","March","April","May","June",
			"July","August","September","October","November","December"], // Names of months for drop-down and formatting
		monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], // For formatting
		dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], // For formatting
		dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], // For formatting
		dayNamesMin: ["Su","Mo","Tu","We","Th","Fr","Sa"], // Column headings for days starting at Sunday
		weekHeader: "Wk", // Column header for week of the year
		dateFormat: "mm/dd/yy", // See format options on parseDate
		firstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...
		isRTL: false, // True if right-to-left language, false if left-to-right
		showMonthAfterYear: false, // True if the year select precedes month, false for month then year
		yearSuffix: "" // Additional text to append to the year in the month headers
	};
	this._defaults = { // Global defaults for all the date picker instances
		showOn: "focus", // "focus" for popup on focus,
			// "button" for trigger button, or "both" for either
		showAnim: "fadeIn", // Name of jQuery animation for popup
		showOptions: {}, // Options for enhanced animations
		defaultDate: null, // Used when field is blank: actual date,
			// +/-number for offset from today, null for today
		appendText: "", // Display text following the input box, e.g. showing the format
		buttonText: "...", // Text for trigger button
		buttonImage: "", // URL for trigger button image
		buttonImageOnly: false, // True if the image appears alone, false if it appears on a button
		hideIfNoPrevNext: false, // True to hide next/previous month links
			// if not applicable, false to just disable them
		navigationAsDateFormat: false, // True if date formatting applied to prev/today/next links
		gotoCurrent: false, // True if today link goes back to current selection instead
		changeMonth: false, // True if month can be selected directly, false if only prev/next
		changeYear: false, // True if year can be selected directly, false if only prev/next
		yearRange: "c-10:c+10", // Range of years to display in drop-down,
			// either relative to today's year (-nn:+nn), relative to currently displayed year
			// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)
		showOtherMonths: false, // True to show dates in other months, false to leave blank
		selectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable
		showWeek: false, // True to show week of the year, false to not show it
		calculateWeek: this.iso8601Week, // How to calculate the week of the year,
			// takes a Date and returns the number of the week for it
		shortYearCutoff: "+10", // Short year values < this are in the current century,
			// > this are in the previous century,
			// string value starting with "+" for current year + value
		minDate: null, // The earliest selectable date, or null for no limit
		maxDate: null, // The latest selectable date, or null for no limit
		duration: "fast", // Duration of display/closure
		beforeShowDay: null, // Function that takes a date and returns an array with
			// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or "",
			// [2] = cell title (optional), e.g. $.datepicker.noWeekends
		beforeShow: null, // Function that takes an input field and
			// returns a set of custom settings for the date picker
		onSelect: null, // Define a callback function when a date is selected
		onChangeMonthYear: null, // Define a callback function when the month or year is changed
		onClose: null, // Define a callback function when the datepicker is closed
		numberOfMonths: 1, // Number of months to show at a time
		showCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)
		stepMonths: 1, // Number of months to step back/forward
		stepBigMonths: 12, // Number of months to step back/forward for the big links
		altField: "", // Selector for an alternate field to store selected dates into
		altFormat: "", // The date format to use for the alternate field
		constrainInput: true, // The input is constrained by the current date format
		showButtonPanel: false, // True to show button panel, false to not show it
		autoSize: false, // True to size the input for the date format, false to leave as is
		disabled: false // The initial disabled state
	};
	$.extend(this._defaults, this.regional[""]);
	this.regional.en = $.extend( true, {}, this.regional[ "" ]);
	this.regional[ "en-US" ] = $.extend( true, {}, this.regional.en );
	this.dpDiv = datepicker_bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
}

$.extend(Datepicker.prototype, {
	/* Class name added to elements to indicate already configured with a date picker. */
	markerClassName: "hasDatepicker",

	//Keep track of the maximum number of rows displayed (see #7043)
	maxRows: 4,

	// TODO rename to "widget" when switching to widget factory
	_widgetDatepicker: function() {
		return this.dpDiv;
	},

	/* Override the default settings for all instances of the date picker.
	 * @param  settings  object - the new settings to use as defaults (anonymous object)
	 * @return the manager object
	 */
	setDefaults: function(settings) {
		datepicker_extendRemove(this._defaults, settings || {});
		return this;
	},

	/* Attach the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 * @param  settings  object - the new settings to use for this date picker instance (anonymous)
	 */
	_attachDatepicker: function(target, settings) {
		var nodeName, inline, inst;
		nodeName = target.nodeName.toLowerCase();
		inline = (nodeName === "div" || nodeName === "span");
		if (!target.id) {
			this.uuid += 1;
			target.id = "dp" + this.uuid;
		}
		inst = this._newInst($(target), inline);
		inst.settings = $.extend({}, settings || {});
		if (nodeName === "input") {
			this._connectDatepicker(target, inst);
		} else if (inline) {
			this._inlineDatepicker(target, inst);
		}
	},

	/* Create a new instance object. */
	_newInst: function(target, inline) {
		var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); // escape jQuery meta chars
		return {id: id, input: target, // associated target
			selectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection
			drawMonth: 0, drawYear: 0, // month being drawn
			inline: inline, // is datepicker inline or not
			dpDiv: (!inline ? this.dpDiv : // presentation div
			datepicker_bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};
	},

	/* Attach the date picker to an input field. */
	_connectDatepicker: function(target, inst) {
		var input = $(target);
		inst.append = $([]);
		inst.trigger = $([]);
		if (input.hasClass(this.markerClassName)) {
			return;
		}
		this._attachments(input, inst);
		input.addClass(this.markerClassName).keydown(this._doKeyDown).
			keypress(this._doKeyPress).keyup(this._doKeyUp);
		this._autoSize(inst);
		$.data(target, "datepicker", inst);
		//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)
		if( inst.settings.disabled ) {
			this._disableDatepicker( target );
		}
	},

	/* Make attachments based on settings. */
	_attachments: function(input, inst) {
		var showOn, buttonText, buttonImage,
			appendText = this._get(inst, "appendText"),
			isRTL = this._get(inst, "isRTL");

		if (inst.append) {
			inst.append.remove();
		}
		if (appendText) {
			inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
			input[isRTL ? "before" : "after"](inst.append);
		}

		input.unbind("focus", this._showDatepicker);

		if (inst.trigger) {
			inst.trigger.remove();
		}

		showOn = this._get(inst, "showOn");
		if (showOn === "focus" || showOn === "both") { // pop-up date picker when in the marked field
			input.focus(this._showDatepicker);
		}
		if (showOn === "button" || showOn === "both") { // pop-up date picker when button clicked
			buttonText = this._get(inst, "buttonText");
			buttonImage = this._get(inst, "buttonImage");
			inst.trigger = $(this._get(inst, "buttonImageOnly") ?
				$("<img/>").addClass(this._triggerClass).
					attr({ src: buttonImage, alt: buttonText, title: buttonText }) :
				$("<button type='button'></button>").addClass(this._triggerClass).
					html(!buttonImage ? buttonText : $("<img/>").attr(
					{ src:buttonImage, alt:buttonText, title:buttonText })));
			input[isRTL ? "before" : "after"](inst.trigger);
			inst.trigger.click(function() {
				if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
					$.datepicker._hideDatepicker();
				} else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
					$.datepicker._hideDatepicker();
					$.datepicker._showDatepicker(input[0]);
				} else {
					$.datepicker._showDatepicker(input[0]);
				}
				return false;
			});
		}
	},

	/* Apply the maximum length for the date format. */
	_autoSize: function(inst) {
		if (this._get(inst, "autoSize") && !inst.inline) {
			var findMax, max, maxI, i,
				date = new Date(2009, 12 - 1, 20), // Ensure double digits
				dateFormat = this._get(inst, "dateFormat");

			if (dateFormat.match(/[DM]/)) {
				findMax = function(names) {
					max = 0;
					maxI = 0;
					for (i = 0; i < names.length; i++) {
						if (names[i].length > max) {
							max = names[i].length;
							maxI = i;
						}
					}
					return maxI;
				};
				date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ?
					"monthNames" : "monthNamesShort"))));
				date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ?
					"dayNames" : "dayNamesShort"))) + 20 - date.getDay());
			}
			inst.input.attr("size", this._formatDate(inst, date).length);
		}
	},

	/* Attach an inline date picker to a div. */
	_inlineDatepicker: function(target, inst) {
		var divSpan = $(target);
		if (divSpan.hasClass(this.markerClassName)) {
			return;
		}
		divSpan.addClass(this.markerClassName).append(inst.dpDiv);
		$.data(target, "datepicker", inst);
		this._setDate(inst, this._getDefaultDate(inst), true);
		this._updateDatepicker(inst);
		this._updateAlternate(inst);
		//If disabled option is true, disable the datepicker before showing it (see ticket #5665)
		if( inst.settings.disabled ) {
			this._disableDatepicker( target );
		}
		// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements
		// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height
		inst.dpDiv.css( "display", "block" );
	},

	/* Pop-up the date picker in a "dialog" box.
	 * @param  input element - ignored
	 * @param  date	string or Date - the initial date to display
	 * @param  onSelect  function - the function to call when a date is selected
	 * @param  settings  object - update the dialog date picker instance's settings (anonymous object)
	 * @param  pos int[2] - coordinates for the dialog's position within the screen or
	 *					event - with x/y coordinates or
	 *					leave empty for default (screen centre)
	 * @return the manager object
	 */
	_dialogDatepicker: function(input, date, onSelect, settings, pos) {
		var id, browserWidth, browserHeight, scrollX, scrollY,
			inst = this._dialogInst; // internal instance

		if (!inst) {
			this.uuid += 1;
			id = "dp" + this.uuid;
			this._dialogInput = $("<input type='text' id='" + id +
				"' style='position: absolute; top: -100px; width: 0px;'/>");
			this._dialogInput.keydown(this._doKeyDown);
			$("body").append(this._dialogInput);
			inst = this._dialogInst = this._newInst(this._dialogInput, false);
			inst.settings = {};
			$.data(this._dialogInput[0], "datepicker", inst);
		}
		datepicker_extendRemove(inst.settings, settings || {});
		date = (date && date.constructor === Date ? this._formatDate(inst, date) : date);
		this._dialogInput.val(date);

		this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
		if (!this._pos) {
			browserWidth = document.documentElement.clientWidth;
			browserHeight = document.documentElement.clientHeight;
			scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
			scrollY = document.documentElement.scrollTop || document.body.scrollTop;
			this._pos = // should use actual width/height below
				[(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
		}

		// move input on screen for focus, but hidden behind dialog
		this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px");
		inst.settings.onSelect = onSelect;
		this._inDialog = true;
		this.dpDiv.addClass(this._dialogClass);
		this._showDatepicker(this._dialogInput[0]);
		if ($.blockUI) {
			$.blockUI(this.dpDiv);
		}
		$.data(this._dialogInput[0], "datepicker", inst);
		return this;
	},

	/* Detach a datepicker from its control.
	 * @param  target	element - the target input field or division or span
	 */
	_destroyDatepicker: function(target) {
		var nodeName,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		$.removeData(target, "datepicker");
		if (nodeName === "input") {
			inst.append.remove();
			inst.trigger.remove();
			$target.removeClass(this.markerClassName).
				unbind("focus", this._showDatepicker).
				unbind("keydown", this._doKeyDown).
				unbind("keypress", this._doKeyPress).
				unbind("keyup", this._doKeyUp);
		} else if (nodeName === "div" || nodeName === "span") {
			$target.removeClass(this.markerClassName).empty();
		}

		if ( datepicker_instActive === inst ) {
			datepicker_instActive = null;
		}
	},

	/* Enable the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 */
	_enableDatepicker: function(target) {
		var nodeName, inline,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		if (nodeName === "input") {
			target.disabled = false;
			inst.trigger.filter("button").
				each(function() { this.disabled = false; }).end().
				filter("img").css({opacity: "1.0", cursor: ""});
		} else if (nodeName === "div" || nodeName === "span") {
			inline = $target.children("." + this._inlineClass);
			inline.children().removeClass("ui-state-disabled");
			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
				prop("disabled", false);
		}
		this._disabledInputs = $.map(this._disabledInputs,
			function(value) { return (value === target ? null : value); }); // delete entry
	},

	/* Disable the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 */
	_disableDatepicker: function(target) {
		var nodeName, inline,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		if (nodeName === "input") {
			target.disabled = true;
			inst.trigger.filter("button").
				each(function() { this.disabled = true; }).end().
				filter("img").css({opacity: "0.5", cursor: "default"});
		} else if (nodeName === "div" || nodeName === "span") {
			inline = $target.children("." + this._inlineClass);
			inline.children().addClass("ui-state-disabled");
			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
				prop("disabled", true);
		}
		this._disabledInputs = $.map(this._disabledInputs,
			function(value) { return (value === target ? null : value); }); // delete entry
		this._disabledInputs[this._disabledInputs.length] = target;
	},

	/* Is the first field in a jQuery collection disabled as a datepicker?
	 * @param  target	element - the target input field or division or span
	 * @return boolean - true if disabled, false if enabled
	 */
	_isDisabledDatepicker: function(target) {
		if (!target) {
			return false;
		}
		for (var i = 0; i < this._disabledInputs.length; i++) {
			if (this._disabledInputs[i] === target) {
				return true;
			}
		}
		return false;
	},

	/* Retrieve the instance data for the target control.
	 * @param  target  element - the target input field or division or span
	 * @return  object - the associated instance data
	 * @throws  error if a jQuery problem getting data
	 */
	_getInst: function(target) {
		try {
			return $.data(target, "datepicker");
		}
		catch (err) {
			throw "Missing instance data for this datepicker";
		}
	},

	/* Update or retrieve the settings for a date picker attached to an input field or division.
	 * @param  target  element - the target input field or division or span
	 * @param  name	object - the new settings to update or
	 *				string - the name of the setting to change or retrieve,
	 *				when retrieving also "all" for all instance settings or
	 *				"defaults" for all global defaults
	 * @param  value   any - the new value for the setting
	 *				(omit if above is an object or to retrieve a value)
	 */
	_optionDatepicker: function(target, name, value) {
		var settings, date, minDate, maxDate,
			inst = this._getInst(target);

		if (arguments.length === 2 && typeof name === "string") {
			return (name === "defaults" ? $.extend({}, $.datepicker._defaults) :
				(inst ? (name === "all" ? $.extend({}, inst.settings) :
				this._get(inst, name)) : null));
		}

		settings = name || {};
		if (typeof name === "string") {
			settings = {};
			settings[name] = value;
		}

		if (inst) {
			if (this._curInst === inst) {
				this._hideDatepicker();
			}

			date = this._getDateDatepicker(target, true);
			minDate = this._getMinMaxDate(inst, "min");
			maxDate = this._getMinMaxDate(inst, "max");
			datepicker_extendRemove(inst.settings, settings);
			// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided
			if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
				inst.settings.minDate = this._formatDate(inst, minDate);
			}
			if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
				inst.settings.maxDate = this._formatDate(inst, maxDate);
			}
			if ( "disabled" in settings ) {
				if ( settings.disabled ) {
					this._disableDatepicker(target);
				} else {
					this._enableDatepicker(target);
				}
			}
			this._attachments($(target), inst);
			this._autoSize(inst);
			this._setDate(inst, date);
			this._updateAlternate(inst);
			this._updateDatepicker(inst);
		}
	},

	// change method deprecated
	_changeDatepicker: function(target, name, value) {
		this._optionDatepicker(target, name, value);
	},

	/* Redraw the date picker attached to an input field or division.
	 * @param  target  element - the target input field or division or span
	 */
	_refreshDatepicker: function(target) {
		var inst = this._getInst(target);
		if (inst) {
			this._updateDatepicker(inst);
		}
	},

	/* Set the dates for a jQuery selection.
	 * @param  target element - the target input field or division or span
	 * @param  date	Date - the new date
	 */
	_setDateDatepicker: function(target, date) {
		var inst = this._getInst(target);
		if (inst) {
			this._setDate(inst, date);
			this._updateDatepicker(inst);
			this._updateAlternate(inst);
		}
	},

	/* Get the date(s) for the first entry in a jQuery selection.
	 * @param  target element - the target input field or division or span
	 * @param  noDefault boolean - true if no default date is to be used
	 * @return Date - the current date
	 */
	_getDateDatepicker: function(target, noDefault) {
		var inst = this._getInst(target);
		if (inst && !inst.inline) {
			this._setDateFromField(inst, noDefault);
		}
		return (inst ? this._getDate(inst) : null);
	},

	/* Handle keystrokes. */
	_doKeyDown: function(event) {
		var onSelect, dateStr, sel,
			inst = $.datepicker._getInst(event.target),
			handled = true,
			isRTL = inst.dpDiv.is(".ui-datepicker-rtl");

		inst._keyEvent = true;
		if ($.datepicker._datepickerShowing) {
			switch (event.keyCode) {
				case 9: $.datepicker._hideDatepicker();
						handled = false;
						break; // hide on tab out
				case 13: sel = $("td." + $.datepicker._dayOverClass + ":not(." +
									$.datepicker._currentClass + ")", inst.dpDiv);
						if (sel[0]) {
							$.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
						}

						onSelect = $.datepicker._get(inst, "onSelect");
						if (onSelect) {
							dateStr = $.datepicker._formatDate(inst);

							// trigger custom callback
							onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
						} else {
							$.datepicker._hideDatepicker();
						}

						return false; // don't submit the form
				case 27: $.datepicker._hideDatepicker();
						break; // hide on escape
				case 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
							-$.datepicker._get(inst, "stepBigMonths") :
							-$.datepicker._get(inst, "stepMonths")), "M");
						break; // previous month/year on page up/+ ctrl
				case 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
							+$.datepicker._get(inst, "stepBigMonths") :
							+$.datepicker._get(inst, "stepMonths")), "M");
						break; // next month/year on page down/+ ctrl
				case 35: if (event.ctrlKey || event.metaKey) {
							$.datepicker._clearDate(event.target);
						}
						handled = event.ctrlKey || event.metaKey;
						break; // clear on ctrl or command +end
				case 36: if (event.ctrlKey || event.metaKey) {
							$.datepicker._gotoToday(event.target);
						}
						handled = event.ctrlKey || event.metaKey;
						break; // current on ctrl or command +home
				case 37: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D");
						}
						handled = event.ctrlKey || event.metaKey;
						// -1 day on ctrl or command +left
						if (event.originalEvent.altKey) {
							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
								-$.datepicker._get(inst, "stepBigMonths") :
								-$.datepicker._get(inst, "stepMonths")), "M");
						}
						// next month/year on alt +left on Mac
						break;
				case 38: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, -7, "D");
						}
						handled = event.ctrlKey || event.metaKey;
						break; // -1 week on ctrl or command +up
				case 39: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D");
						}
						handled = event.ctrlKey || event.metaKey;
						// +1 day on ctrl or command +right
						if (event.originalEvent.altKey) {
							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
								+$.datepicker._get(inst, "stepBigMonths") :
								+$.datepicker._get(inst, "stepMonths")), "M");
						}
						// next month/year on alt +right
						break;
				case 40: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, +7, "D");
						}
						handled = event.ctrlKey || event.metaKey;
						break; // +1 week on ctrl or command +down
				default: handled = false;
			}
		} else if (event.keyCode === 36 && event.ctrlKey) { // display the date picker on ctrl+home
			$.datepicker._showDatepicker(this);
		} else {
			handled = false;
		}

		if (handled) {
			event.preventDefault();
			event.stopPropagation();
		}
	},

	/* Filter entered characters - based on date format. */
	_doKeyPress: function(event) {
		var chars, chr,
			inst = $.datepicker._getInst(event.target);

		if ($.datepicker._get(inst, "constrainInput")) {
			chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
			chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
			return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1);
		}
	},

	/* Synchronise manual entry and field/alternate field. */
	_doKeyUp: function(event) {
		var date,
			inst = $.datepicker._getInst(event.target);

		if (inst.input.val() !== inst.lastVal) {
			try {
				date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
					(inst.input ? inst.input.val() : null),
					$.datepicker._getFormatConfig(inst));

				if (date) { // only if valid
					$.datepicker._setDateFromField(inst);
					$.datepicker._updateAlternate(inst);
					$.datepicker._updateDatepicker(inst);
				}
			}
			catch (err) {
			}
		}
		return true;
	},

	/* Pop-up the date picker for a given input field.
	 * If false returned from beforeShow event handler do not show.
	 * @param  input  element - the input field attached to the date picker or
	 *					event - if triggered by focus
	 */
	_showDatepicker: function(input) {
		input = input.target || input;
		if (input.nodeName.toLowerCase() !== "input") { // find from button/image trigger
			input = $("input", input.parentNode)[0];
		}

		if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) { // already here
			return;
		}

		var inst, beforeShow, beforeShowSettings, isFixed,
			offset, showAnim, duration;

		inst = $.datepicker._getInst(input);
		if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
			$.datepicker._curInst.dpDiv.stop(true, true);
			if ( inst && $.datepicker._datepickerShowing ) {
				$.datepicker._hideDatepicker( $.datepicker._curInst.input[0] );
			}
		}

		beforeShow = $.datepicker._get(inst, "beforeShow");
		beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
		if(beforeShowSettings === false){
			return;
		}
		datepicker_extendRemove(inst.settings, beforeShowSettings);

		inst.lastVal = null;
		$.datepicker._lastInput = input;
		$.datepicker._setDateFromField(inst);

		if ($.datepicker._inDialog) { // hide cursor
			input.value = "";
		}
		if (!$.datepicker._pos) { // position below input
			$.datepicker._pos = $.datepicker._findPos(input);
			$.datepicker._pos[1] += input.offsetHeight; // add the height
		}

		isFixed = false;
		$(input).parents().each(function() {
			isFixed |= $(this).css("position") === "fixed";
			return !isFixed;
		});

		offset = {left: $.datepicker._pos[0], top: $.datepicker._pos[1]};
		$.datepicker._pos = null;
		//to avoid flashes on Firefox
		inst.dpDiv.empty();
		// determine sizing offscreen
		inst.dpDiv.css({position: "absolute", display: "block", top: "-1000px"});
		$.datepicker._updateDatepicker(inst);
		// fix width for dynamic number of date pickers
		// and adjust position before showing
		offset = $.datepicker._checkOffset(inst, offset, isFixed);
		inst.dpDiv.css({position: ($.datepicker._inDialog && $.blockUI ?
			"static" : (isFixed ? "fixed" : "absolute")), display: "none",
			left: offset.left + "px", top: offset.top + "px"});

		if (!inst.inline) {
			showAnim = $.datepicker._get(inst, "showAnim");
			duration = $.datepicker._get(inst, "duration");
			inst.dpDiv.css( "z-index", datepicker_getZindex( $( input ) ) + 1 );
			$.datepicker._datepickerShowing = true;

			if ( $.effects && $.effects.effect[ showAnim ] ) {
				inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration);
			} else {
				inst.dpDiv[showAnim || "show"](showAnim ? duration : null);
			}

			if ( $.datepicker._shouldFocusInput( inst ) ) {
				inst.input.focus();
			}

			$.datepicker._curInst = inst;
		}
	},

	/* Generate the date picker content. */
	_updateDatepicker: function(inst) {
		this.maxRows = 4; //Reset the max number of rows being displayed (see #7043)
		datepicker_instActive = inst; // for delegate hover events
		inst.dpDiv.empty().append(this._generateHTML(inst));
		this._attachHandlers(inst);

		var origyearshtml,
			numMonths = this._getNumberOfMonths(inst),
			cols = numMonths[1],
			width = 17,
			activeCell = inst.dpDiv.find( "." + this._dayOverClass + " a" );

		if ( activeCell.length > 0 ) {
			datepicker_handleMouseover.apply( activeCell.get( 0 ) );
		}

		inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
		if (cols > 1) {
			inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em");
		}
		inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") +
			"Class"]("ui-datepicker-multi");
		inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") +
			"Class"]("ui-datepicker-rtl");

		if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput( inst ) ) {
			inst.input.focus();
		}

		// deffered render of the years select (to avoid flashes on Firefox)
		if( inst.yearshtml ){
			origyearshtml = inst.yearshtml;
			setTimeout(function(){
				//assure that inst.yearshtml didn't change.
				if( origyearshtml === inst.yearshtml && inst.yearshtml ){
					inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);
				}
				origyearshtml = inst.yearshtml = null;
			}, 0);
		}
	},

	// #6694 - don't focus the input if it's already focused
	// this breaks the change event in IE
	// Support: IE and jQuery <1.9
	_shouldFocusInput: function( inst ) {
		return inst.input && inst.input.is( ":visible" ) && !inst.input.is( ":disabled" ) && !inst.input.is( ":focus" );
	},

	/* Check positioning to remain on screen. */
	_checkOffset: function(inst, offset, isFixed) {
		var dpWidth = inst.dpDiv.outerWidth(),
			dpHeight = inst.dpDiv.outerHeight(),
			inputWidth = inst.input ? inst.input.outerWidth() : 0,
			inputHeight = inst.input ? inst.input.outerHeight() : 0,
			viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),
			viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());

		offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0);
		offset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;
		offset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;

		// now check if datepicker is showing outside window viewport - move to a better place if so.
		offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?
			Math.abs(offset.left + dpWidth - viewWidth) : 0);
		offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?
			Math.abs(dpHeight + inputHeight) : 0);

		return offset;
	},

	/* Find an object's position on the screen. */
	_findPos: function(obj) {
		var position,
			inst = this._getInst(obj),
			isRTL = this._get(inst, "isRTL");

		while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
			obj = obj[isRTL ? "previousSibling" : "nextSibling"];
		}

		position = $(obj).offset();
		return [position.left, position.top];
	},

	/* Hide the date picker from view.
	 * @param  input  element - the input field attached to the date picker
	 */
	_hideDatepicker: function(input) {
		var showAnim, duration, postProcess, onClose,
			inst = this._curInst;

		if (!inst || (input && inst !== $.data(input, "datepicker"))) {
			return;
		}

		if (this._datepickerShowing) {
			showAnim = this._get(inst, "showAnim");
			duration = this._get(inst, "duration");
			postProcess = function() {
				$.datepicker._tidyDialog(inst);
			};

			// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed
			if ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {
				inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess);
			} else {
				inst.dpDiv[(showAnim === "slideDown" ? "slideUp" :
					(showAnim === "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess);
			}

			if (!showAnim) {
				postProcess();
			}
			this._datepickerShowing = false;

			onClose = this._get(inst, "onClose");
			if (onClose) {
				onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]);
			}

			this._lastInput = null;
			if (this._inDialog) {
				this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" });
				if ($.blockUI) {
					$.unblockUI();
					$("body").append(this.dpDiv);
				}
			}
			this._inDialog = false;
		}
	},

	/* Tidy up after a dialog display. */
	_tidyDialog: function(inst) {
		inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
	},

	/* Close date picker if clicked elsewhere. */
	_checkExternalClick: function(event) {
		if (!$.datepicker._curInst) {
			return;
		}

		var $target = $(event.target),
			inst = $.datepicker._getInst($target[0]);

		if ( ( ( $target[0].id !== $.datepicker._mainDivId &&
				$target.parents("#" + $.datepicker._mainDivId).length === 0 &&
				!$target.hasClass($.datepicker.markerClassName) &&
				!$target.closest("." + $.datepicker._triggerClass).length &&
				$.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI) ) ) ||
			( $target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst ) ) {
				$.datepicker._hideDatepicker();
		}
	},

	/* Adjust one of the date sub-fields. */
	_adjustDate: function(id, offset, period) {
		var target = $(id),
			inst = this._getInst(target[0]);

		if (this._isDisabledDatepicker(target[0])) {
			return;
		}
		this._adjustInstDate(inst, offset +
			(period === "M" ? this._get(inst, "showCurrentAtPos") : 0), // undo positioning
			period);
		this._updateDatepicker(inst);
	},

	/* Action for current link. */
	_gotoToday: function(id) {
		var date,
			target = $(id),
			inst = this._getInst(target[0]);

		if (this._get(inst, "gotoCurrent") && inst.currentDay) {
			inst.selectedDay = inst.currentDay;
			inst.drawMonth = inst.selectedMonth = inst.currentMonth;
			inst.drawYear = inst.selectedYear = inst.currentYear;
		} else {
			date = new Date();
			inst.selectedDay = date.getDate();
			inst.drawMonth = inst.selectedMonth = date.getMonth();
			inst.drawYear = inst.selectedYear = date.getFullYear();
		}
		this._notifyChange(inst);
		this._adjustDate(target);
	},

	/* Action for selecting a new month/year. */
	_selectMonthYear: function(id, select, period) {
		var target = $(id),
			inst = this._getInst(target[0]);

		inst["selected" + (period === "M" ? "Month" : "Year")] =
		inst["draw" + (period === "M" ? "Month" : "Year")] =
			parseInt(select.options[select.selectedIndex].value,10);

		this._notifyChange(inst);
		this._adjustDate(target);
	},

	/* Action for selecting a day. */
	_selectDay: function(id, month, year, td) {
		var inst,
			target = $(id);

		if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
			return;
		}

		inst = this._getInst(target[0]);
		inst.selectedDay = inst.currentDay = $("a", td).html();
		inst.selectedMonth = inst.currentMonth = month;
		inst.selectedYear = inst.currentYear = year;
		this._selectDate(id, this._formatDate(inst,
			inst.currentDay, inst.currentMonth, inst.currentYear));
	},

	/* Erase the input field and hide the date picker. */
	_clearDate: function(id) {
		var target = $(id);
		this._selectDate(target, "");
	},

	/* Update the input field with the selected date. */
	_selectDate: function(id, dateStr) {
		var onSelect,
			target = $(id),
			inst = this._getInst(target[0]);

		dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
		if (inst.input) {
			inst.input.val(dateStr);
		}
		this._updateAlternate(inst);

		onSelect = this._get(inst, "onSelect");
		if (onSelect) {
			onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);  // trigger custom callback
		} else if (inst.input) {
			inst.input.trigger("change"); // fire the change event
		}

		if (inst.inline){
			this._updateDatepicker(inst);
		} else {
			this._hideDatepicker();
			this._lastInput = inst.input[0];
			if (typeof(inst.input[0]) !== "object") {
				inst.input.focus(); // restore focus
			}
			this._lastInput = null;
		}
	},

	/* Update any alternate field to synchronise with the main field. */
	_updateAlternate: function(inst) {
		var altFormat, date, dateStr,
			altField = this._get(inst, "altField");

		if (altField) { // update alternate field too
			altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
			date = this._getDate(inst);
			dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
			$(altField).each(function() { $(this).val(dateStr); });
		}
	},

	/* Set as beforeShowDay function to prevent selection of weekends.
	 * @param  date  Date - the date to customise
	 * @return [boolean, string] - is this date selectable?, what is its CSS class?
	 */
	noWeekends: function(date) {
		var day = date.getDay();
		return [(day > 0 && day < 6), ""];
	},

	/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.
	 * @param  date  Date - the date to get the week for
	 * @return  number - the number of the week within the year that contains this date
	 */
	iso8601Week: function(date) {
		var time,
			checkDate = new Date(date.getTime());

		// Find Thursday of this week starting on Monday
		checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));

		time = checkDate.getTime();
		checkDate.setMonth(0); // Compare with Jan 1
		checkDate.setDate(1);
		return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
	},

	/* Parse a string value into a date object.
	 * See formatDate below for the possible formats.
	 *
	 * @param  format string - the expected format of the date
	 * @param  value string - the date in the above format
	 * @param  settings Object - attributes include:
	 *					shortYearCutoff  number - the cutoff year for determining the century (optional)
	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
	 *					dayNames		string[7] - names of the days from Sunday (optional)
	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
	 *					monthNames		string[12] - names of the months (optional)
	 * @return  Date - the extracted date value or null if value is blank
	 */
	parseDate: function (format, value, settings) {
		if (format == null || value == null) {
			throw "Invalid arguments";
		}

		value = (typeof value === "object" ? value.toString() : value + "");
		if (value === "") {
			return null;
		}

		var iFormat, dim, extra,
			iValue = 0,
			shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,
			shortYearCutoff = (typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp :
				new Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)),
			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
			year = -1,
			month = -1,
			day = -1,
			doy = -1,
			literal = false,
			date,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			},
			// Extract a number from the string value
			getNumber = function(match) {
				var isDoubled = lookAhead(match),
					size = (match === "@" ? 14 : (match === "!" ? 20 :
					(match === "y" && isDoubled ? 4 : (match === "o" ? 3 : 2)))),
					minSize = (match === "y" ? size : 1),
					digits = new RegExp("^\\d{" + minSize + "," + size + "}"),
					num = value.substring(iValue).match(digits);
				if (!num) {
					throw "Missing number at position " + iValue;
				}
				iValue += num[0].length;
				return parseInt(num[0], 10);
			},
			// Extract a name from the string value and convert to an index
			getName = function(match, shortNames, longNames) {
				var index = -1,
					names = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {
						return [ [k, v] ];
					}).sort(function (a, b) {
						return -(a[1].length - b[1].length);
					});

				$.each(names, function (i, pair) {
					var name = pair[1];
					if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
						index = pair[0];
						iValue += name.length;
						return false;
					}
				});
				if (index !== -1) {
					return index + 1;
				} else {
					throw "Unknown name at position " + iValue;
				}
			},
			// Confirm that a literal character matches the string value
			checkLiteral = function() {
				if (value.charAt(iValue) !== format.charAt(iFormat)) {
					throw "Unexpected literal at position " + iValue;
				}
				iValue++;
			};

		for (iFormat = 0; iFormat < format.length; iFormat++) {
			if (literal) {
				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
					literal = false;
				} else {
					checkLiteral();
				}
			} else {
				switch (format.charAt(iFormat)) {
					case "d":
						day = getNumber("d");
						break;
					case "D":
						getName("D", dayNamesShort, dayNames);
						break;
					case "o":
						doy = getNumber("o");
						break;
					case "m":
						month = getNumber("m");
						break;
					case "M":
						month = getName("M", monthNamesShort, monthNames);
						break;
					case "y":
						year = getNumber("y");
						break;
					case "@":
						date = new Date(getNumber("@"));
						year = date.getFullYear();
						month = date.getMonth() + 1;
						day = date.getDate();
						break;
					case "!":
						date = new Date((getNumber("!") - this._ticksTo1970) / 10000);
						year = date.getFullYear();
						month = date.getMonth() + 1;
						day = date.getDate();
						break;
					case "'":
						if (lookAhead("'")){
							checkLiteral();
						} else {
							literal = true;
						}
						break;
					default:
						checkLiteral();
				}
			}
		}

		if (iValue < value.length){
			extra = value.substr(iValue);
			if (!/^\s+/.test(extra)) {
				throw "Extra/unparsed characters found in date: " + extra;
			}
		}

		if (year === -1) {
			year = new Date().getFullYear();
		} else if (year < 100) {
			year += new Date().getFullYear() - new Date().getFullYear() % 100 +
				(year <= shortYearCutoff ? 0 : -100);
		}

		if (doy > -1) {
			month = 1;
			day = doy;
			do {
				dim = this._getDaysInMonth(year, month - 1);
				if (day <= dim) {
					break;
				}
				month++;
				day -= dim;
			} while (true);
		}

		date = this._daylightSavingAdjust(new Date(year, month - 1, day));
		if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
			throw "Invalid date"; // E.g. 31/02/00
		}
		return date;
	},

	/* Standard date formats. */
	ATOM: "yy-mm-dd", // RFC 3339 (ISO 8601)
	COOKIE: "D, dd M yy",
	ISO_8601: "yy-mm-dd",
	RFC_822: "D, d M y",
	RFC_850: "DD, dd-M-y",
	RFC_1036: "D, d M y",
	RFC_1123: "D, d M yy",
	RFC_2822: "D, d M yy",
	RSS: "D, d M y", // RFC 822
	TICKS: "!",
	TIMESTAMP: "@",
	W3C: "yy-mm-dd", // ISO 8601

	_ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) +
		Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),

	/* Format a date object into a string value.
	 * The format can be combinations of the following:
	 * d  - day of month (no leading zero)
	 * dd - day of month (two digit)
	 * o  - day of year (no leading zeros)
	 * oo - day of year (three digit)
	 * D  - day name short
	 * DD - day name long
	 * m  - month of year (no leading zero)
	 * mm - month of year (two digit)
	 * M  - month name short
	 * MM - month name long
	 * y  - year (two digit)
	 * yy - year (four digit)
	 * @ - Unix timestamp (ms since 01/01/1970)
	 * ! - Windows ticks (100ns since 01/01/0001)
	 * "..." - literal text
	 * '' - single quote
	 *
	 * @param  format string - the desired format of the date
	 * @param  date Date - the date value to format
	 * @param  settings Object - attributes include:
	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
	 *					dayNames		string[7] - names of the days from Sunday (optional)
	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
	 *					monthNames		string[12] - names of the months (optional)
	 * @return  string - the date in the above format
	 */
	formatDate: function (format, date, settings) {
		if (!date) {
			return "";
		}

		var iFormat,
			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			},
			// Format a number, with leading zero if necessary
			formatNumber = function(match, value, len) {
				var num = "" + value;
				if (lookAhead(match)) {
					while (num.length < len) {
						num = "0" + num;
					}
				}
				return num;
			},
			// Format a name, short or long as requested
			formatName = function(match, value, shortNames, longNames) {
				return (lookAhead(match) ? longNames[value] : shortNames[value]);
			},
			output = "",
			literal = false;

		if (date) {
			for (iFormat = 0; iFormat < format.length; iFormat++) {
				if (literal) {
					if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
						literal = false;
					} else {
						output += format.charAt(iFormat);
					}
				} else {
					switch (format.charAt(iFormat)) {
						case "d":
							output += formatNumber("d", date.getDate(), 2);
							break;
						case "D":
							output += formatName("D", date.getDay(), dayNamesShort, dayNames);
							break;
						case "o":
							output += formatNumber("o",
								Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);
							break;
						case "m":
							output += formatNumber("m", date.getMonth() + 1, 2);
							break;
						case "M":
							output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
							break;
						case "y":
							output += (lookAhead("y") ? date.getFullYear() :
								(date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100);
							break;
						case "@":
							output += date.getTime();
							break;
						case "!":
							output += date.getTime() * 10000 + this._ticksTo1970;
							break;
						case "'":
							if (lookAhead("'")) {
								output += "'";
							} else {
								literal = true;
							}
							break;
						default:
							output += format.charAt(iFormat);
					}
				}
			}
		}
		return output;
	},

	/* Extract all possible characters from the date format. */
	_possibleChars: function (format) {
		var iFormat,
			chars = "",
			literal = false,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			};

		for (iFormat = 0; iFormat < format.length; iFormat++) {
			if (literal) {
				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
					literal = false;
				} else {
					chars += format.charAt(iFormat);
				}
			} else {
				switch (format.charAt(iFormat)) {
					case "d": case "m": case "y": case "@":
						chars += "0123456789";
						break;
					case "D": case "M":
						return null; // Accept anything
					case "'":
						if (lookAhead("'")) {
							chars += "'";
						} else {
							literal = true;
						}
						break;
					default:
						chars += format.charAt(iFormat);
				}
			}
		}
		return chars;
	},

	/* Get a setting value, defaulting if necessary. */
	_get: function(inst, name) {
		return inst.settings[name] !== undefined ?
			inst.settings[name] : this._defaults[name];
	},

	/* Parse existing date and initialise date picker. */
	_setDateFromField: function(inst, noDefault) {
		if (inst.input.val() === inst.lastVal) {
			return;
		}

		var dateFormat = this._get(inst, "dateFormat"),
			dates = inst.lastVal = inst.input ? inst.input.val() : null,
			defaultDate = this._getDefaultDate(inst),
			date = defaultDate,
			settings = this._getFormatConfig(inst);

		try {
			date = this.parseDate(dateFormat, dates, settings) || defaultDate;
		} catch (event) {
			dates = (noDefault ? "" : dates);
		}
		inst.selectedDay = date.getDate();
		inst.drawMonth = inst.selectedMonth = date.getMonth();
		inst.drawYear = inst.selectedYear = date.getFullYear();
		inst.currentDay = (dates ? date.getDate() : 0);
		inst.currentMonth = (dates ? date.getMonth() : 0);
		inst.currentYear = (dates ? date.getFullYear() : 0);
		this._adjustInstDate(inst);
	},

	/* Retrieve the default date shown on opening. */
	_getDefaultDate: function(inst) {
		return this._restrictMinMax(inst,
			this._determineDate(inst, this._get(inst, "defaultDate"), new Date()));
	},

	/* A date may be specified as an exact value or a relative one. */
	_determineDate: function(inst, date, defaultDate) {
		var offsetNumeric = function(offset) {
				var date = new Date();
				date.setDate(date.getDate() + offset);
				return date;
			},
			offsetString = function(offset) {
				try {
					return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
						offset, $.datepicker._getFormatConfig(inst));
				}
				catch (e) {
					// Ignore
				}

				var date = (offset.toLowerCase().match(/^c/) ?
					$.datepicker._getDate(inst) : null) || new Date(),
					year = date.getFullYear(),
					month = date.getMonth(),
					day = date.getDate(),
					pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
					matches = pattern.exec(offset);

				while (matches) {
					switch (matches[2] || "d") {
						case "d" : case "D" :
							day += parseInt(matches[1],10); break;
						case "w" : case "W" :
							day += parseInt(matches[1],10) * 7; break;
						case "m" : case "M" :
							month += parseInt(matches[1],10);
							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
							break;
						case "y": case "Y" :
							year += parseInt(matches[1],10);
							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
							break;
					}
					matches = pattern.exec(offset);
				}
				return new Date(year, month, day);
			},
			newDate = (date == null || date === "" ? defaultDate : (typeof date === "string" ? offsetString(date) :
				(typeof date === "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));

		newDate = (newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate);
		if (newDate) {
			newDate.setHours(0);
			newDate.setMinutes(0);
			newDate.setSeconds(0);
			newDate.setMilliseconds(0);
		}
		return this._daylightSavingAdjust(newDate);
	},

	/* Handle switch to/from daylight saving.
	 * Hours may be non-zero on daylight saving cut-over:
	 * > 12 when midnight changeover, but then cannot generate
	 * midnight datetime, so jump to 1AM, otherwise reset.
	 * @param  date  (Date) the date to check
	 * @return  (Date) the corrected date
	 */
	_daylightSavingAdjust: function(date) {
		if (!date) {
			return null;
		}
		date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
		return date;
	},

	/* Set the date(s) directly. */
	_setDate: function(inst, date, noChange) {
		var clear = !date,
			origMonth = inst.selectedMonth,
			origYear = inst.selectedYear,
			newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));

		inst.selectedDay = inst.currentDay = newDate.getDate();
		inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
		inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
		if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
			this._notifyChange(inst);
		}
		this._adjustInstDate(inst);
		if (inst.input) {
			inst.input.val(clear ? "" : this._formatDate(inst));
		}
	},

	/* Retrieve the date(s) directly. */
	_getDate: function(inst) {
		var startDate = (!inst.currentYear || (inst.input && inst.input.val() === "") ? null :
			this._daylightSavingAdjust(new Date(
			inst.currentYear, inst.currentMonth, inst.currentDay)));
			return startDate;
	},

	/* Attach the onxxx handlers.  These are declared statically so
	 * they work with static code transformers like Caja.
	 */
	_attachHandlers: function(inst) {
		var stepMonths = this._get(inst, "stepMonths"),
			id = "#" + inst.id.replace( /\\\\/g, "\\" );
		inst.dpDiv.find("[data-handler]").map(function () {
			var handler = {
				prev: function () {
					$.datepicker._adjustDate(id, -stepMonths, "M");
				},
				next: function () {
					$.datepicker._adjustDate(id, +stepMonths, "M");
				},
				hide: function () {
					$.datepicker._hideDatepicker();
				},
				today: function () {
					$.datepicker._gotoToday(id);
				},
				selectDay: function () {
					$.datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
					return false;
				},
				selectMonth: function () {
					$.datepicker._selectMonthYear(id, this, "M");
					return false;
				},
				selectYear: function () {
					$.datepicker._selectMonthYear(id, this, "Y");
					return false;
				}
			};
			$(this).bind(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")]);
		});
	},

	/* Generate the HTML for the current state of the date picker. */
	_generateHTML: function(inst) {
		var maxDraw, prevText, prev, nextText, next, currentText, gotoDate,
			controls, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,
			monthNames, monthNamesShort, beforeShowDay, showOtherMonths,
			selectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,
			cornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,
			printDate, dRow, tbody, daySettings, otherMonth, unselectable,
			tempDate = new Date(),
			today = this._daylightSavingAdjust(
				new Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())), // clear time
			isRTL = this._get(inst, "isRTL"),
			showButtonPanel = this._get(inst, "showButtonPanel"),
			hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"),
			navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"),
			numMonths = this._getNumberOfMonths(inst),
			showCurrentAtPos = this._get(inst, "showCurrentAtPos"),
			stepMonths = this._get(inst, "stepMonths"),
			isMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1),
			currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) :
				new Date(inst.currentYear, inst.currentMonth, inst.currentDay))),
			minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			drawMonth = inst.drawMonth - showCurrentAtPos,
			drawYear = inst.drawYear;

		if (drawMonth < 0) {
			drawMonth += 12;
			drawYear--;
		}
		if (maxDate) {
			maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),
				maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate()));
			maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);
			while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {
				drawMonth--;
				if (drawMonth < 0) {
					drawMonth = 11;
					drawYear--;
				}
			}
		}
		inst.drawMonth = drawMonth;
		inst.drawYear = drawYear;

		prevText = this._get(inst, "prevText");
		prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText,
			this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),
			this._getFormatConfig(inst)));

		prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?
			"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" +
			" title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" :
			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ prevText +"'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>"));

		nextText = this._get(inst, "nextText");
		nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText,
			this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),
			this._getFormatConfig(inst)));

		next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?
			"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" +
			" title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" :
			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+ nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>"));

		currentText = this._get(inst, "currentText");
		gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today);
		currentText = (!navigationAsDateFormat ? currentText :
			this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));

		controls = (!inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
			this._get(inst, "closeText") + "</button>" : "");

		buttonPanel = (showButtonPanel) ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") +
			(this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" +
			">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";

		firstDay = parseInt(this._get(inst, "firstDay"),10);
		firstDay = (isNaN(firstDay) ? 0 : firstDay);

		showWeek = this._get(inst, "showWeek");
		dayNames = this._get(inst, "dayNames");
		dayNamesMin = this._get(inst, "dayNamesMin");
		monthNames = this._get(inst, "monthNames");
		monthNamesShort = this._get(inst, "monthNamesShort");
		beforeShowDay = this._get(inst, "beforeShowDay");
		showOtherMonths = this._get(inst, "showOtherMonths");
		selectOtherMonths = this._get(inst, "selectOtherMonths");
		defaultDate = this._getDefaultDate(inst);
		html = "";
		dow;
		for (row = 0; row < numMonths[0]; row++) {
			group = "";
			this.maxRows = 4;
			for (col = 0; col < numMonths[1]; col++) {
				selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));
				cornerClass = " ui-corner-all";
				calender = "";
				if (isMultiMonth) {
					calender += "<div class='ui-datepicker-group";
					if (numMonths[1] > 1) {
						switch (col) {
							case 0: calender += " ui-datepicker-group-first";
								cornerClass = " ui-corner-" + (isRTL ? "right" : "left"); break;
							case numMonths[1]-1: calender += " ui-datepicker-group-last";
								cornerClass = " ui-corner-" + (isRTL ? "left" : "right"); break;
							default: calender += " ui-datepicker-group-middle"; cornerClass = ""; break;
						}
					}
					calender += "'>";
				}
				calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" +
					(/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : "") +
					(/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : "") +
					this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,
					row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers
					"</div><table class='ui-datepicker-calendar'><thead>" +
					"<tr>";
				thead = (showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "");
				for (dow = 0; dow < 7; dow++) { // days of the week
					day = (dow + firstDay) % 7;
					thead += "<th scope='col'" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" +
						"<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>";
				}
				calender += thead + "</tr></thead><tbody>";
				daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
				if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
					inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);
				}
				leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
				curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate
				numRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows); //If multiple months, use the higher number of rows (see #7043)
				this.maxRows = numRows;
				printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));
				for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows
					calender += "<tr>";
					tbody = (!showWeek ? "" : "<td class='ui-datepicker-week-col'>" +
						this._get(inst, "calculateWeek")(printDate) + "</td>");
					for (dow = 0; dow < 7; dow++) { // create date picker days
						daySettings = (beforeShowDay ?
							beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]);
						otherMonth = (printDate.getMonth() !== drawMonth);
						unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] ||
							(minDate && printDate < minDate) || (maxDate && printDate > maxDate);
						tbody += "<td class='" +
							((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + // highlight weekends
							(otherMonth ? " ui-datepicker-other-month" : "") + // highlight days from other months
							((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || // user pressed key
							(defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ?
							// or defaultDate is current printedDate and defaultDate is selectedDate
							" " + this._dayOverClass : "") + // highlight selected day
							(unselectable ? " " + this._unselectableClass + " ui-state-disabled": "") +  // highlight unselectable days
							(otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + // highlight custom dates
							(printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + // highlight selected day
							(printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + // highlight today (if different)
							((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2].replace(/'/g, "&#39;") + "'" : "") + // cell title
							(unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + // actions
							(otherMonth && !showOtherMonths ? "&#xa0;" : // display for other months
							(unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" +
							(printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") +
							(printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + // highlight selected day
							(otherMonth ? " ui-priority-secondary" : "") + // distinguish dates from other months
							"' href='#'>" + printDate.getDate() + "</a>")) + "</td>"; // display selectable date
						printDate.setDate(printDate.getDate() + 1);
						printDate = this._daylightSavingAdjust(printDate);
					}
					calender += tbody + "</tr>";
				}
				drawMonth++;
				if (drawMonth > 11) {
					drawMonth = 0;
					drawYear++;
				}
				calender += "</tbody></table>" + (isMultiMonth ? "</div>" +
							((numMonths[0] > 0 && col === numMonths[1]-1) ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
				group += calender;
			}
			html += group;
		}
		html += buttonPanel;
		inst._keyEvent = false;
		return html;
	},

	/* Generate the month and year header. */
	_generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate,
			secondary, monthNames, monthNamesShort) {

		var inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,
			changeMonth = this._get(inst, "changeMonth"),
			changeYear = this._get(inst, "changeYear"),
			showMonthAfterYear = this._get(inst, "showMonthAfterYear"),
			html = "<div class='ui-datepicker-title'>",
			monthHtml = "";

		// month selection
		if (secondary || !changeMonth) {
			monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>";
		} else {
			inMinYear = (minDate && minDate.getFullYear() === drawYear);
			inMaxYear = (maxDate && maxDate.getFullYear() === drawYear);
			monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
			for ( month = 0; month < 12; month++) {
				if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
					monthHtml += "<option value='" + month + "'" +
						(month === drawMonth ? " selected='selected'" : "") +
						">" + monthNamesShort[month] + "</option>";
				}
			}
			monthHtml += "</select>";
		}

		if (!showMonthAfterYear) {
			html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "");
		}

		// year selection
		if ( !inst.yearshtml ) {
			inst.yearshtml = "";
			if (secondary || !changeYear) {
				html += "<span class='ui-datepicker-year'>" + drawYear + "</span>";
			} else {
				// determine range of years to display
				years = this._get(inst, "yearRange").split(":");
				thisYear = new Date().getFullYear();
				determineYear = function(value) {
					var year = (value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) :
						(value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) :
						parseInt(value, 10)));
					return (isNaN(year) ? thisYear : year);
				};
				year = determineYear(years[0]);
				endYear = Math.max(year, determineYear(years[1] || ""));
				year = (minDate ? Math.max(year, minDate.getFullYear()) : year);
				endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);
				inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
				for (; year <= endYear; year++) {
					inst.yearshtml += "<option value='" + year + "'" +
						(year === drawYear ? " selected='selected'" : "") +
						">" + year + "</option>";
				}
				inst.yearshtml += "</select>";

				html += inst.yearshtml;
				inst.yearshtml = null;
			}
		}

		html += this._get(inst, "yearSuffix");
		if (showMonthAfterYear) {
			html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml;
		}
		html += "</div>"; // Close datepicker_header
		return html;
	},

	/* Adjust one of the date sub-fields. */
	_adjustInstDate: function(inst, offset, period) {
		var year = inst.drawYear + (period === "Y" ? offset : 0),
			month = inst.drawMonth + (period === "M" ? offset : 0),
			day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0),
			date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));

		inst.selectedDay = date.getDate();
		inst.drawMonth = inst.selectedMonth = date.getMonth();
		inst.drawYear = inst.selectedYear = date.getFullYear();
		if (period === "M" || period === "Y") {
			this._notifyChange(inst);
		}
	},

	/* Ensure a date is within any min/max bounds. */
	_restrictMinMax: function(inst, date) {
		var minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			newDate = (minDate && date < minDate ? minDate : date);
		return (maxDate && newDate > maxDate ? maxDate : newDate);
	},

	/* Notify change of month/year. */
	_notifyChange: function(inst) {
		var onChange = this._get(inst, "onChangeMonthYear");
		if (onChange) {
			onChange.apply((inst.input ? inst.input[0] : null),
				[inst.selectedYear, inst.selectedMonth + 1, inst]);
		}
	},

	/* Determine the number of months to show. */
	_getNumberOfMonths: function(inst) {
		var numMonths = this._get(inst, "numberOfMonths");
		return (numMonths == null ? [1, 1] : (typeof numMonths === "number" ? [1, numMonths] : numMonths));
	},

	/* Determine the current maximum date - ensure no time components are set. */
	_getMinMaxDate: function(inst, minMax) {
		return this._determineDate(inst, this._get(inst, minMax + "Date"), null);
	},

	/* Find the number of days in a given month. */
	_getDaysInMonth: function(year, month) {
		return 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate();
	},

	/* Find the day of the week of the first of a month. */
	_getFirstDayOfMonth: function(year, month) {
		return new Date(year, month, 1).getDay();
	},

	/* Determines if we should allow a "next/prev" month display change. */
	_canAdjustMonth: function(inst, offset, curYear, curMonth) {
		var numMonths = this._getNumberOfMonths(inst),
			date = this._daylightSavingAdjust(new Date(curYear,
			curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));

		if (offset < 0) {
			date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
		}
		return this._isInRange(inst, date);
	},

	/* Is the given date in the accepted range? */
	_isInRange: function(inst, date) {
		var yearSplit, currentYear,
			minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			minYear = null,
			maxYear = null,
			years = this._get(inst, "yearRange");
			if (years){
				yearSplit = years.split(":");
				currentYear = new Date().getFullYear();
				minYear = parseInt(yearSplit[0], 10);
				maxYear = parseInt(yearSplit[1], 10);
				if ( yearSplit[0].match(/[+\-].*/) ) {
					minYear += currentYear;
				}
				if ( yearSplit[1].match(/[+\-].*/) ) {
					maxYear += currentYear;
				}
			}

		return ((!minDate || date.getTime() >= minDate.getTime()) &&
			(!maxDate || date.getTime() <= maxDate.getTime()) &&
			(!minYear || date.getFullYear() >= minYear) &&
			(!maxYear || date.getFullYear() <= maxYear));
	},

	/* Provide the configuration settings for formatting/parsing. */
	_getFormatConfig: function(inst) {
		var shortYearCutoff = this._get(inst, "shortYearCutoff");
		shortYearCutoff = (typeof shortYearCutoff !== "string" ? shortYearCutoff :
			new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
		return {shortYearCutoff: shortYearCutoff,
			dayNamesShort: this._get(inst, "dayNamesShort"), dayNames: this._get(inst, "dayNames"),
			monthNamesShort: this._get(inst, "monthNamesShort"), monthNames: this._get(inst, "monthNames")};
	},

	/* Format the given date for display. */
	_formatDate: function(inst, day, month, year) {
		if (!day) {
			inst.currentDay = inst.selectedDay;
			inst.currentMonth = inst.selectedMonth;
			inst.currentYear = inst.selectedYear;
		}
		var date = (day ? (typeof day === "object" ? day :
			this._daylightSavingAdjust(new Date(year, month, day))) :
			this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));
		return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst));
	}
});

/*
 * Bind hover events for datepicker elements.
 * Done via delegate so the binding only occurs once in the lifetime of the parent div.
 * Global datepicker_instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.
 */
function datepicker_bindHover(dpDiv) {
	var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
	return dpDiv.delegate(selector, "mouseout", function() {
			$(this).removeClass("ui-state-hover");
			if (this.className.indexOf("ui-datepicker-prev") !== -1) {
				$(this).removeClass("ui-datepicker-prev-hover");
			}
			if (this.className.indexOf("ui-datepicker-next") !== -1) {
				$(this).removeClass("ui-datepicker-next-hover");
			}
		})
		.delegate( selector, "mouseover", datepicker_handleMouseover );
}

function datepicker_handleMouseover() {
	if (!$.datepicker._isDisabledDatepicker( datepicker_instActive.inline? datepicker_instActive.dpDiv.parent()[0] : datepicker_instActive.input[0])) {
		$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
		$(this).addClass("ui-state-hover");
		if (this.className.indexOf("ui-datepicker-prev") !== -1) {
			$(this).addClass("ui-datepicker-prev-hover");
		}
		if (this.className.indexOf("ui-datepicker-next") !== -1) {
			$(this).addClass("ui-datepicker-next-hover");
		}
	}
}

/* jQuery extend now ignores nulls! */
function datepicker_extendRemove(target, props) {
	$.extend(target, props);
	for (var name in props) {
		if (props[name] == null) {
			target[name] = props[name];
		}
	}
	return target;
}

/* Invoke the datepicker functionality.
   @param  options  string - a command, optionally followed by additional parameters or
					Object - settings for attaching new datepicker functionality
   @return  jQuery object */
$.fn.datepicker = function(options){

	/* Verify an empty collection wasn't passed - Fixes #6976 */
	if ( !this.length ) {
		return this;
	}

	/* Initialise the date picker. */
	if (!$.datepicker.initialized) {
		$(document).mousedown($.datepicker._checkExternalClick);
		$.datepicker.initialized = true;
	}

	/* Append datepicker main container to body if not exist. */
	if ($("#"+$.datepicker._mainDivId).length === 0) {
		$("body").append($.datepicker.dpDiv);
	}

	var otherArgs = Array.prototype.slice.call(arguments, 1);
	if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
		return $.datepicker["_" + options + "Datepicker"].
			apply($.datepicker, [this[0]].concat(otherArgs));
	}
	if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
		return $.datepicker["_" + options + "Datepicker"].
			apply($.datepicker, [this[0]].concat(otherArgs));
	}
	return this.each(function() {
		typeof options === "string" ?
			$.datepicker["_" + options + "Datepicker"].
				apply($.datepicker, [this].concat(otherArgs)) :
			$.datepicker._attachDatepicker(this, options);
	});
};

$.datepicker = new Datepicker(); // singleton instance
$.datepicker.initialized = false;
$.datepicker.uuid = new Date().getTime();
$.datepicker.version = "1.11.4";

var datepicker = $.datepicker;


/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */


$.widget("ui.draggable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "drag",
	options: {
		addClasses: true,
		appendTo: "parent",
		axis: false,
		connectToSortable: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		grid: false,
		handle: false,
		helper: "original",
		iframeFix: false,
		opacity: false,
		refreshPositions: false,
		revert: false,
		revertDuration: 500,
		scope: "default",
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		snap: false,
		snapMode: "both",
		snapTolerance: 20,
		stack: false,
		zIndex: false,

		// callbacks
		drag: null,
		start: null,
		stop: null
	},
	_create: function() {

		if ( this.options.helper === "original" ) {
			this._setPositionRelative();
		}
		if (this.options.addClasses){
			this.element.addClass("ui-draggable");
		}
		if (this.options.disabled){
			this.element.addClass("ui-draggable-disabled");
		}
		this._setHandleClassName();

		this._mouseInit();
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "handle" ) {
			this._removeHandleClassName();
			this._setHandleClassName();
		}
	},

	_destroy: function() {
		if ( ( this.helper || this.element ).is( ".ui-draggable-dragging" ) ) {
			this.destroyOnClear = true;
			return;
		}
		this.element.removeClass( "ui-draggable ui-draggable-dragging ui-draggable-disabled" );
		this._removeHandleClassName();
		this._mouseDestroy();
	},

	_mouseCapture: function(event) {
		var o = this.options;

		this._blurActiveElement( event );

		// among others, prevent a drag on a resizable-handle
		if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
			return false;
		}

		//Quit if we're not on a valid handle
		this.handle = this._getHandle(event);
		if (!this.handle) {
			return false;
		}

		this._blockFrames( o.iframeFix === true ? "iframe" : o.iframeFix );

		return true;

	},

	_blockFrames: function( selector ) {
		this.iframeBlocks = this.document.find( selector ).map(function() {
			var iframe = $( this );

			return $( "<div>" )
				.css( "position", "absolute" )
				.appendTo( iframe.parent() )
				.outerWidth( iframe.outerWidth() )
				.outerHeight( iframe.outerHeight() )
				.offset( iframe.offset() )[ 0 ];
		});
	},

	_unblockFrames: function() {
		if ( this.iframeBlocks ) {
			this.iframeBlocks.remove();
			delete this.iframeBlocks;
		}
	},

	_blurActiveElement: function( event ) {
		var document = this.document[ 0 ];

		// Only need to blur if the event occurred on the draggable itself, see #10527
		if ( !this.handleElement.is( event.target ) ) {
			return;
		}

		// support: IE9
		// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
		try {

			// Support: IE9, IE10
			// If the <body> is blurred, IE will switch windows, see #9520
			if ( document.activeElement && document.activeElement.nodeName.toLowerCase() !== "body" ) {

				// Blur any element that currently has focus, see #4261
				$( document.activeElement ).blur();
			}
		} catch ( error ) {}
	},

	_mouseStart: function(event) {

		var o = this.options;

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		this.helper.addClass("ui-draggable-dragging");

		//Cache the helper size
		this._cacheHelperProportions();

		//If ddmanager is used for droppables, set the global draggable
		if ($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Store the helper's css position
		this.cssPosition = this.helper.css( "position" );
		this.scrollParent = this.helper.scrollParent( true );
		this.offsetParent = this.helper.offsetParent();
		this.hasFixedAncestor = this.helper.parents().filter(function() {
				return $( this ).css( "position" ) === "fixed";
			}).length > 0;

		//The element's absolute position on the page minus margins
		this.positionAbs = this.element.offset();
		this._refreshOffsets( event );

		//Generate the original position
		this.originalPosition = this.position = this._generatePosition( event, false );
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Set a containment if given in the options
		this._setContainment();

		//Trigger event + callbacks
		if (this._trigger("start", event) === false) {
			this._clear();
			return false;
		}

		//Recache the helper size
		this._cacheHelperProportions();

		//Prepare the droppable offsets
		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}

		// Reset helper's right/bottom css if they're set and set explicit width/height instead
		// as this prevents resizing of elements with right/bottom set (see #7772)
		this._normalizeRightBottom();

		this._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position

		//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStart(this, event);
		}

		return true;
	},

	_refreshOffsets: function( event ) {
		this.offset = {
			top: this.positionAbs.top - this.margins.top,
			left: this.positionAbs.left - this.margins.left,
			scroll: false,
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset()
		};

		this.offset.click = {
			left: event.pageX - this.offset.left,
			top: event.pageY - this.offset.top
		};
	},

	_mouseDrag: function(event, noPropagation) {
		// reset any necessary cached properties (see #5009)
		if ( this.hasFixedAncestor ) {
			this.offset.parent = this._getParentOffset();
		}

		//Compute the helpers position
		this.position = this._generatePosition( event, true );
		this.positionAbs = this._convertPositionTo("absolute");

		//Call plugins and callbacks and use the resulting position if something is returned
		if (!noPropagation) {
			var ui = this._uiHash();
			if (this._trigger("drag", event, ui) === false) {
				this._mouseUp({});
				return false;
			}
			this.position = ui.position;
		}

		this.helper[ 0 ].style.left = this.position.left + "px";
		this.helper[ 0 ].style.top = this.position.top + "px";

		if ($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		return false;
	},

	_mouseStop: function(event) {

		//If we are using droppables, inform the manager about the drop
		var that = this,
			dropped = false;
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			dropped = $.ui.ddmanager.drop(this, event);
		}

		//if a drop comes from outside (a sortable)
		if (this.dropped) {
			dropped = this.dropped;
			this.dropped = false;
		}

		if ((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
			$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
				if (that._trigger("stop", event) !== false) {
					that._clear();
				}
			});
		} else {
			if (this._trigger("stop", event) !== false) {
				this._clear();
			}
		}

		return false;
	},

	_mouseUp: function( event ) {
		this._unblockFrames();

		//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStop(this, event);
		}

		// Only need to focus if the event occurred on the draggable itself, see #10527
		if ( this.handleElement.is( event.target ) ) {
			// The interaction is over; whether or not the click resulted in a drag, focus the element
			this.element.focus();
		}

		return $.ui.mouse.prototype._mouseUp.call(this, event);
	},

	cancel: function() {

		if (this.helper.is(".ui-draggable-dragging")) {
			this._mouseUp({});
		} else {
			this._clear();
		}

		return this;

	},

	_getHandle: function(event) {
		return this.options.handle ?
			!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :
			true;
	},

	_setHandleClassName: function() {
		this.handleElement = this.options.handle ?
			this.element.find( this.options.handle ) : this.element;
		this.handleElement.addClass( "ui-draggable-handle" );
	},

	_removeHandleClassName: function() {
		this.handleElement.removeClass( "ui-draggable-handle" );
	},

	_createHelper: function(event) {

		var o = this.options,
			helperIsFunction = $.isFunction( o.helper ),
			helper = helperIsFunction ?
				$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :
				( o.helper === "clone" ?
					this.element.clone().removeAttr( "id" ) :
					this.element );

		if (!helper.parents("body").length) {
			helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
		}

		// http://bugs.jqueryui.com/ticket/9446
		// a helper function can return the original element
		// which wouldn't have been set to relative in _create
		if ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {
			this._setPositionRelative();
		}

		if (helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
			helper.css("position", "absolute");
		}

		return helper;

	},

	_setPositionRelative: function() {
		if ( !( /^(?:r|a|f)/ ).test( this.element.css( "position" ) ) ) {
			this.element[ 0 ].style.position = "relative";
		}
	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = { left: +obj[0], top: +obj[1] || 0 };
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_isRootNode: function( element ) {
		return ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];
	},

	_getParentOffset: function() {

		//Get the offsetParent and cache its position
		var po = this.offsetParent.offset(),
			document = this.document[ 0 ];

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		if ( this._isRootNode( this.offsetParent[ 0 ] ) ) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
		};

	},

	_getRelativeOffset: function() {
		if ( this.cssPosition !== "relative" ) {
			return { top: 0, left: 0 };
		}

		var p = this.element.position(),
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );

		return {
			top: p.top - ( parseInt(this.helper.css( "top" ), 10) || 0 ) + ( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),
			left: p.left - ( parseInt(this.helper.css( "left" ), 10) || 0 ) + ( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )
		};

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.element.css("marginLeft"), 10) || 0),
			top: (parseInt(this.element.css("marginTop"), 10) || 0),
			right: (parseInt(this.element.css("marginRight"), 10) || 0),
			bottom: (parseInt(this.element.css("marginBottom"), 10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var isUserScrollable, c, ce,
			o = this.options,
			document = this.document[ 0 ];

		this.relativeContainer = null;

		if ( !o.containment ) {
			this.containment = null;
			return;
		}

		if ( o.containment === "window" ) {
			this.containment = [
				$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,
				$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,
				$( window ).scrollLeft() + $( window ).width() - this.helperProportions.width - this.margins.left,
				$( window ).scrollTop() + ( $( window ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment === "document") {
			this.containment = [
				0,
				0,
				$( document ).width() - this.helperProportions.width - this.margins.left,
				( $( document ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment.constructor === Array ) {
			this.containment = o.containment;
			return;
		}

		if ( o.containment === "parent" ) {
			o.containment = this.helper[ 0 ].parentNode;
		}

		c = $( o.containment );
		ce = c[ 0 ];

		if ( !ce ) {
			return;
		}

		isUserScrollable = /(scroll|auto)/.test( c.css( "overflow" ) );

		this.containment = [
			( parseInt( c.css( "borderLeftWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingLeft" ), 10 ) || 0 ),
			( parseInt( c.css( "borderTopWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingTop" ), 10 ) || 0 ),
			( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -
				( parseInt( c.css( "borderRightWidth" ), 10 ) || 0 ) -
				( parseInt( c.css( "paddingRight" ), 10 ) || 0 ) -
				this.helperProportions.width -
				this.margins.left -
				this.margins.right,
			( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -
				( parseInt( c.css( "borderBottomWidth" ), 10 ) || 0 ) -
				( parseInt( c.css( "paddingBottom" ), 10 ) || 0 ) -
				this.helperProportions.height -
				this.margins.top -
				this.margins.bottom
		];
		this.relativeContainer = c;
	},

	_convertPositionTo: function(d, pos) {

		if (!pos) {
			pos = this.position;
		}

		var mod = d === "absolute" ? 1 : -1,
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.offset.scroll.top : ( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod)
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.offset.scroll.left : ( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod)
			)
		};

	},

	_generatePosition: function( event, constrainPosition ) {

		var containment, co, top, left,
			o = this.options,
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),
			pageX = event.pageX,
			pageY = event.pageY;

		// Cache the scroll
		if ( !scrollIsRootNode || !this.offset.scroll ) {
			this.offset.scroll = {
				top: this.scrollParent.scrollTop(),
				left: this.scrollParent.scrollLeft()
			};
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		// If we are not dragging yet, we won't check for options
		if ( constrainPosition ) {
			if ( this.containment ) {
				if ( this.relativeContainer ){
					co = this.relativeContainer.offset();
					containment = [
						this.containment[ 0 ] + co.left,
						this.containment[ 1 ] + co.top,
						this.containment[ 2 ] + co.left,
						this.containment[ 3 ] + co.top
					];
				} else {
					containment = this.containment;
				}

				if (event.pageX - this.offset.click.left < containment[0]) {
					pageX = containment[0] + this.offset.click.left;
				}
				if (event.pageY - this.offset.click.top < containment[1]) {
					pageY = containment[1] + this.offset.click.top;
				}
				if (event.pageX - this.offset.click.left > containment[2]) {
					pageX = containment[2] + this.offset.click.left;
				}
				if (event.pageY - this.offset.click.top > containment[3]) {
					pageY = containment[3] + this.offset.click.top;
				}
			}

			if (o.grid) {
				//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)
				top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
				pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
				pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

			if ( o.axis === "y" ) {
				pageX = this.originalPageX;
			}

			if ( o.axis === "x" ) {
				pageY = this.originalPageY;
			}
		}

		return {
			top: (
				pageY -																	// The absolute mouse position
				this.offset.click.top	-												// Click offset (relative to the element)
				this.offset.relative.top -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.offset.scroll.top : ( scrollIsRootNode ? 0 : this.offset.scroll.top ) )
			),
			left: (
				pageX -																	// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.offset.scroll.left : ( scrollIsRootNode ? 0 : this.offset.scroll.left ) )
			)
		};

	},

	_clear: function() {
		this.helper.removeClass("ui-draggable-dragging");
		if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
			this.helper.remove();
		}
		this.helper = null;
		this.cancelHelperRemoval = false;
		if ( this.destroyOnClear ) {
			this.destroy();
		}
	},

	_normalizeRightBottom: function() {
		if ( this.options.axis !== "y" && this.helper.css( "right" ) !== "auto" ) {
			this.helper.width( this.helper.width() );
			this.helper.css( "right", "auto" );
		}
		if ( this.options.axis !== "x" && this.helper.css( "bottom" ) !== "auto" ) {
			this.helper.height( this.helper.height() );
			this.helper.css( "bottom", "auto" );
		}
	},

	// From now on bulk stuff - mainly helpers

	_trigger: function( type, event, ui ) {
		ui = ui || this._uiHash();
		$.ui.plugin.call( this, type, [ event, ui, this ], true );

		// Absolute position and offset (see #6884 ) have to be recalculated after plugins
		if ( /^(drag|start|stop)/.test( type ) ) {
			this.positionAbs = this._convertPositionTo( "absolute" );
			ui.offset = this.positionAbs;
		}
		return $.Widget.prototype._trigger.call( this, type, event, ui );
	},

	plugins: {},

	_uiHash: function() {
		return {
			helper: this.helper,
			position: this.position,
			originalPosition: this.originalPosition,
			offset: this.positionAbs
		};
	}

});

$.ui.plugin.add( "draggable", "connectToSortable", {
	start: function( event, ui, draggable ) {
		var uiSortable = $.extend( {}, ui, {
			item: draggable.element
		});

		draggable.sortables = [];
		$( draggable.options.connectToSortable ).each(function() {
			var sortable = $( this ).sortable( "instance" );

			if ( sortable && !sortable.options.disabled ) {
				draggable.sortables.push( sortable );

				// refreshPositions is called at drag start to refresh the containerCache
				// which is used in drag. This ensures it's initialized and synchronized
				// with any changes that might have happened on the page since initialization.
				sortable.refreshPositions();
				sortable._trigger("activate", event, uiSortable);
			}
		});
	},
	stop: function( event, ui, draggable ) {
		var uiSortable = $.extend( {}, ui, {
			item: draggable.element
		});

		draggable.cancelHelperRemoval = false;

		$.each( draggable.sortables, function() {
			var sortable = this;

			if ( sortable.isOver ) {
				sortable.isOver = 0;

				// Allow this sortable to handle removing the helper
				draggable.cancelHelperRemoval = true;
				sortable.cancelHelperRemoval = false;

				// Use _storedCSS To restore properties in the sortable,
				// as this also handles revert (#9675) since the draggable
				// may have modified them in unexpected ways (#8809)
				sortable._storedCSS = {
					position: sortable.placeholder.css( "position" ),
					top: sortable.placeholder.css( "top" ),
					left: sortable.placeholder.css( "left" )
				};

				sortable._mouseStop(event);

				// Once drag has ended, the sortable should return to using
				// its original helper, not the shared helper from draggable
				sortable.options.helper = sortable.options._helper;
			} else {
				// Prevent this Sortable from removing the helper.
				// However, don't set the draggable to remove the helper
				// either as another connected Sortable may yet handle the removal.
				sortable.cancelHelperRemoval = true;

				sortable._trigger( "deactivate", event, uiSortable );
			}
		});
	},
	drag: function( event, ui, draggable ) {
		$.each( draggable.sortables, function() {
			var innermostIntersecting = false,
				sortable = this;

			// Copy over variables that sortable's _intersectsWith uses
			sortable.positionAbs = draggable.positionAbs;
			sortable.helperProportions = draggable.helperProportions;
			sortable.offset.click = draggable.offset.click;

			if ( sortable._intersectsWith( sortable.containerCache ) ) {
				innermostIntersecting = true;

				$.each( draggable.sortables, function() {
					// Copy over variables that sortable's _intersectsWith uses
					this.positionAbs = draggable.positionAbs;
					this.helperProportions = draggable.helperProportions;
					this.offset.click = draggable.offset.click;

					if ( this !== sortable &&
							this._intersectsWith( this.containerCache ) &&
							$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {
						innermostIntersecting = false;
					}

					return innermostIntersecting;
				});
			}

			if ( innermostIntersecting ) {
				// If it intersects, we use a little isOver variable and set it once,
				// so that the move-in stuff gets fired only once.
				if ( !sortable.isOver ) {
					sortable.isOver = 1;

					// Store draggable's parent in case we need to reappend to it later.
					draggable._parent = ui.helper.parent();

					sortable.currentItem = ui.helper
						.appendTo( sortable.element )
						.data( "ui-sortable-item", true );

					// Store helper option to later restore it
					sortable.options._helper = sortable.options.helper;

					sortable.options.helper = function() {
						return ui.helper[ 0 ];
					};

					// Fire the start events of the sortable with our passed browser event,
					// and our own helper (so it doesn't create a new one)
					event.target = sortable.currentItem[ 0 ];
					sortable._mouseCapture( event, true );
					sortable._mouseStart( event, true, true );

					// Because the browser event is way off the new appended portlet,
					// modify necessary variables to reflect the changes
					sortable.offset.click.top = draggable.offset.click.top;
					sortable.offset.click.left = draggable.offset.click.left;
					sortable.offset.parent.left -= draggable.offset.parent.left -
						sortable.offset.parent.left;
					sortable.offset.parent.top -= draggable.offset.parent.top -
						sortable.offset.parent.top;

					draggable._trigger( "toSortable", event );

					// Inform draggable that the helper is in a valid drop zone,
					// used solely in the revert option to handle "valid/invalid".
					draggable.dropped = sortable.element;

					// Need to refreshPositions of all sortables in the case that
					// adding to one sortable changes the location of the other sortables (#9675)
					$.each( draggable.sortables, function() {
						this.refreshPositions();
					});

					// hack so receive/update callbacks work (mostly)
					draggable.currentItem = draggable.element;
					sortable.fromOutside = draggable;
				}

				if ( sortable.currentItem ) {
					sortable._mouseDrag( event );
					// Copy the sortable's position because the draggable's can potentially reflect
					// a relative position, while sortable is always absolute, which the dragged
					// element has now become. (#8809)
					ui.position = sortable.position;
				}
			} else {
				// If it doesn't intersect with the sortable, and it intersected before,
				// we fake the drag stop of the sortable, but make sure it doesn't remove
				// the helper by using cancelHelperRemoval.
				if ( sortable.isOver ) {

					sortable.isOver = 0;
					sortable.cancelHelperRemoval = true;

					// Calling sortable's mouseStop would trigger a revert,
					// so revert must be temporarily false until after mouseStop is called.
					sortable.options._revert = sortable.options.revert;
					sortable.options.revert = false;

					sortable._trigger( "out", event, sortable._uiHash( sortable ) );
					sortable._mouseStop( event, true );

					// restore sortable behaviors that were modfied
					// when the draggable entered the sortable area (#9481)
					sortable.options.revert = sortable.options._revert;
					sortable.options.helper = sortable.options._helper;

					if ( sortable.placeholder ) {
						sortable.placeholder.remove();
					}

					// Restore and recalculate the draggable's offset considering the sortable
					// may have modified them in unexpected ways. (#8809, #10669)
					ui.helper.appendTo( draggable._parent );
					draggable._refreshOffsets( event );
					ui.position = draggable._generatePosition( event, true );

					draggable._trigger( "fromSortable", event );

					// Inform draggable that the helper is no longer in a valid drop zone
					draggable.dropped = false;

					// Need to refreshPositions of all sortables just in case removing
					// from one sortable changes the location of other sortables (#9675)
					$.each( draggable.sortables, function() {
						this.refreshPositions();
					});
				}
			}
		});
	}
});

$.ui.plugin.add("draggable", "cursor", {
	start: function( event, ui, instance ) {
		var t = $( "body" ),
			o = instance.options;

		if (t.css("cursor")) {
			o._cursor = t.css("cursor");
		}
		t.css("cursor", o.cursor);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;
		if (o._cursor) {
			$("body").css("cursor", o._cursor);
		}
	}
});

$.ui.plugin.add("draggable", "opacity", {
	start: function( event, ui, instance ) {
		var t = $( ui.helper ),
			o = instance.options;
		if (t.css("opacity")) {
			o._opacity = t.css("opacity");
		}
		t.css("opacity", o.opacity);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;
		if (o._opacity) {
			$(ui.helper).css("opacity", o._opacity);
		}
	}
});

$.ui.plugin.add("draggable", "scroll", {
	start: function( event, ui, i ) {
		if ( !i.scrollParentNotHidden ) {
			i.scrollParentNotHidden = i.helper.scrollParent( false );
		}

		if ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] && i.scrollParentNotHidden[ 0 ].tagName !== "HTML" ) {
			i.overflowOffset = i.scrollParentNotHidden.offset();
		}
	},
	drag: function( event, ui, i  ) {

		var o = i.options,
			scrolled = false,
			scrollParent = i.scrollParentNotHidden[ 0 ],
			document = i.document[ 0 ];

		if ( scrollParent !== document && scrollParent.tagName !== "HTML" ) {
			if ( !o.axis || o.axis !== "x" ) {
				if ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY < o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;
				} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;
				}
			}

			if ( !o.axis || o.axis !== "y" ) {
				if ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX < o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;
				} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;
				}
			}

		} else {

			if (!o.axis || o.axis !== "x") {
				if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
				} else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
				}
			}

			if (!o.axis || o.axis !== "y") {
				if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
				} else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
				}
			}

		}

		if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(i, event);
		}

	}
});

$.ui.plugin.add("draggable", "snap", {
	start: function( event, ui, i ) {

		var o = i.options;

		i.snapElements = [];

		$(o.snap.constructor !== String ? ( o.snap.items || ":data(ui-draggable)" ) : o.snap).each(function() {
			var $t = $(this),
				$o = $t.offset();
			if (this !== i.element[0]) {
				i.snapElements.push({
					item: this,
					width: $t.outerWidth(), height: $t.outerHeight(),
					top: $o.top, left: $o.left
				});
			}
		});

	},
	drag: function( event, ui, inst ) {

		var ts, bs, ls, rs, l, r, t, b, i, first,
			o = inst.options,
			d = o.snapTolerance,
			x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
			y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;

		for (i = inst.snapElements.length - 1; i >= 0; i--){

			l = inst.snapElements[i].left - inst.margins.left;
			r = l + inst.snapElements[i].width;
			t = inst.snapElements[i].top - inst.margins.top;
			b = t + inst.snapElements[i].height;

			if ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains( inst.snapElements[ i ].item.ownerDocument, inst.snapElements[ i ].item ) ) {
				if (inst.snapElements[i].snapping) {
					(inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
				}
				inst.snapElements[i].snapping = false;
				continue;
			}

			if (o.snapMode !== "inner") {
				ts = Math.abs(t - y2) <= d;
				bs = Math.abs(b - y1) <= d;
				ls = Math.abs(l - x2) <= d;
				rs = Math.abs(r - x1) <= d;
				if (ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t - inst.helperProportions.height, left: 0 }).top;
				}
				if (bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b, left: 0 }).top;
				}
				if (ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l - inst.helperProportions.width }).left;
				}
				if (rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r }).left;
				}
			}

			first = (ts || bs || ls || rs);

			if (o.snapMode !== "outer") {
				ts = Math.abs(t - y1) <= d;
				bs = Math.abs(b - y2) <= d;
				ls = Math.abs(l - x1) <= d;
				rs = Math.abs(r - x2) <= d;
				if (ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t, left: 0 }).top;
				}
				if (bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b - inst.helperProportions.height, left: 0 }).top;
				}
				if (ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l }).left;
				}
				if (rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r - inst.helperProportions.width }).left;
				}
			}

			if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
				(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
			}
			inst.snapElements[i].snapping = (ts || bs || ls || rs || first);

		}

	}
});

$.ui.plugin.add("draggable", "stack", {
	start: function( event, ui, instance ) {
		var min,
			o = instance.options,
			group = $.makeArray($(o.stack)).sort(function(a, b) {
				return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0);
			});

		if (!group.length) { return; }

		min = parseInt($(group[0]).css("zIndex"), 10) || 0;
		$(group).each(function(i) {
			$(this).css("zIndex", min + i);
		});
		this.css("zIndex", (min + group.length));
	}
});

$.ui.plugin.add("draggable", "zIndex", {
	start: function( event, ui, instance ) {
		var t = $( ui.helper ),
			o = instance.options;

		if (t.css("zIndex")) {
			o._zIndex = t.css("zIndex");
		}
		t.css("zIndex", o.zIndex);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;

		if (o._zIndex) {
			$(ui.helper).css("zIndex", o._zIndex);
		}
	}
});

var draggable = $.ui.draggable;


/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */


$.widget("ui.resizable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "resize",
	options: {
		alsoResize: false,
		animate: false,
		animateDuration: "slow",
		animateEasing: "swing",
		aspectRatio: false,
		autoHide: false,
		containment: false,
		ghost: false,
		grid: false,
		handles: "e,s,se",
		helper: false,
		maxHeight: null,
		maxWidth: null,
		minHeight: 10,
		minWidth: 10,
		// See #7960
		zIndex: 90,

		// callbacks
		resize: null,
		start: null,
		stop: null
	},

	_num: function( value ) {
		return parseInt( value, 10 ) || 0;
	},

	_isNumber: function( value ) {
		return !isNaN( parseInt( value, 10 ) );
	},

	_hasScroll: function( el, a ) {

		if ( $( el ).css( "overflow" ) === "hidden") {
			return false;
		}

		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
			has = false;

		if ( el[ scroll ] > 0 ) {
			return true;
		}

		// TODO: determine which cases actually cause this to happen
		// if the element doesn't have the scroll set, see if it's possible to
		// set the scroll
		el[ scroll ] = 1;
		has = ( el[ scroll ] > 0 );
		el[ scroll ] = 0;
		return has;
	},

	_create: function() {

		var n, i, handle, axis, hname,
			that = this,
			o = this.options;
		this.element.addClass("ui-resizable");

		$.extend(this, {
			_aspectRatio: !!(o.aspectRatio),
			aspectRatio: o.aspectRatio,
			originalElement: this.element,
			_proportionallyResizeElements: [],
			_helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
		});

		// Wrap the element if it cannot hold child nodes
		if (this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)) {

			this.element.wrap(
				$("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
					position: this.element.css("position"),
					width: this.element.outerWidth(),
					height: this.element.outerHeight(),
					top: this.element.css("top"),
					left: this.element.css("left")
				})
			);

			this.element = this.element.parent().data(
				"ui-resizable", this.element.resizable( "instance" )
			);

			this.elementIsWrapper = true;

			this.element.css({
				marginLeft: this.originalElement.css("marginLeft"),
				marginTop: this.originalElement.css("marginTop"),
				marginRight: this.originalElement.css("marginRight"),
				marginBottom: this.originalElement.css("marginBottom")
			});
			this.originalElement.css({
				marginLeft: 0,
				marginTop: 0,
				marginRight: 0,
				marginBottom: 0
			});
			// support: Safari
			// Prevent Safari textarea resize
			this.originalResizeStyle = this.originalElement.css("resize");
			this.originalElement.css("resize", "none");

			this._proportionallyResizeElements.push( this.originalElement.css({
				position: "static",
				zoom: 1,
				display: "block"
			}) );

			// support: IE9
			// avoid IE jump (hard set the margin)
			this.originalElement.css({ margin: this.originalElement.css("margin") });

			this._proportionallyResize();
		}

		this.handles = o.handles ||
			( !$(".ui-resizable-handle", this.element).length ?
				"e,s,se" : {
					n: ".ui-resizable-n",
					e: ".ui-resizable-e",
					s: ".ui-resizable-s",
					w: ".ui-resizable-w",
					se: ".ui-resizable-se",
					sw: ".ui-resizable-sw",
					ne: ".ui-resizable-ne",
					nw: ".ui-resizable-nw"
				} );

		this._handles = $();
		if ( this.handles.constructor === String ) {

			if ( this.handles === "all") {
				this.handles = "n,e,s,w,se,sw,ne,nw";
			}

			n = this.handles.split(",");
			this.handles = {};

			for (i = 0; i < n.length; i++) {

				handle = $.trim(n[i]);
				hname = "ui-resizable-" + handle;
				axis = $("<div class='ui-resizable-handle " + hname + "'></div>");

				axis.css({ zIndex: o.zIndex });

				// TODO : What's going on here?
				if ("se" === handle) {
					axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
				}

				this.handles[handle] = ".ui-resizable-" + handle;
				this.element.append(axis);
			}

		}

		this._renderAxis = function(target) {

			var i, axis, padPos, padWrapper;

			target = target || this.element;

			for (i in this.handles) {

				if (this.handles[i].constructor === String) {
					this.handles[i] = this.element.children( this.handles[ i ] ).first().show();
				} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {
					this.handles[ i ] = $( this.handles[ i ] );
					this._on( this.handles[ i ], { "mousedown": that._mouseDown });
				}

				if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)) {

					axis = $(this.handles[i], this.element);

					padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();

					padPos = [ "padding",
						/ne|nw|n/.test(i) ? "Top" :
						/se|sw|s/.test(i) ? "Bottom" :
						/^e$/.test(i) ? "Right" : "Left" ].join("");

					target.css(padPos, padWrapper);

					this._proportionallyResize();
				}

				this._handles = this._handles.add( this.handles[ i ] );
			}
		};

		// TODO: make renderAxis a prototype function
		this._renderAxis(this.element);

		this._handles = this._handles.add( this.element.find( ".ui-resizable-handle" ) );
		this._handles.disableSelection();

		this._handles.mouseover(function() {
			if (!that.resizing) {
				if (this.className) {
					axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
				}
				that.axis = axis && axis[1] ? axis[1] : "se";
			}
		});

		if (o.autoHide) {
			this._handles.hide();
			$(this.element)
				.addClass("ui-resizable-autohide")
				.mouseenter(function() {
					if (o.disabled) {
						return;
					}
					$(this).removeClass("ui-resizable-autohide");
					that._handles.show();
				})
				.mouseleave(function() {
					if (o.disabled) {
						return;
					}
					if (!that.resizing) {
						$(this).addClass("ui-resizable-autohide");
						that._handles.hide();
					}
				});
		}

		this._mouseInit();
	},

	_destroy: function() {

		this._mouseDestroy();

		var wrapper,
			_destroy = function(exp) {
				$(exp)
					.removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing")
					.removeData("resizable")
					.removeData("ui-resizable")
					.unbind(".resizable")
					.find(".ui-resizable-handle")
						.remove();
			};

		// TODO: Unwrap at same DOM position
		if (this.elementIsWrapper) {
			_destroy(this.element);
			wrapper = this.element;
			this.originalElement.css({
				position: wrapper.css("position"),
				width: wrapper.outerWidth(),
				height: wrapper.outerHeight(),
				top: wrapper.css("top"),
				left: wrapper.css("left")
			}).insertAfter( wrapper );
			wrapper.remove();
		}

		this.originalElement.css("resize", this.originalResizeStyle);
		_destroy(this.originalElement);

		return this;
	},

	_mouseCapture: function(event) {
		var i, handle,
			capture = false;

		for (i in this.handles) {
			handle = $(this.handles[i])[0];
			if (handle === event.target || $.contains(handle, event.target)) {
				capture = true;
			}
		}

		return !this.options.disabled && capture;
	},

	_mouseStart: function(event) {

		var curleft, curtop, cursor,
			o = this.options,
			el = this.element;

		this.resizing = true;

		this._renderProxy();

		curleft = this._num(this.helper.css("left"));
		curtop = this._num(this.helper.css("top"));

		if (o.containment) {
			curleft += $(o.containment).scrollLeft() || 0;
			curtop += $(o.containment).scrollTop() || 0;
		}

		this.offset = this.helper.offset();
		this.position = { left: curleft, top: curtop };

		this.size = this._helper ? {
				width: this.helper.width(),
				height: this.helper.height()
			} : {
				width: el.width(),
				height: el.height()
			};

		this.originalSize = this._helper ? {
				width: el.outerWidth(),
				height: el.outerHeight()
			} : {
				width: el.width(),
				height: el.height()
			};

		this.sizeDiff = {
			width: el.outerWidth() - el.width(),
			height: el.outerHeight() - el.height()
		};

		this.originalPosition = { left: curleft, top: curtop };
		this.originalMousePosition = { left: event.pageX, top: event.pageY };

		this.aspectRatio = (typeof o.aspectRatio === "number") ?
			o.aspectRatio :
			((this.originalSize.width / this.originalSize.height) || 1);

		cursor = $(".ui-resizable-" + this.axis).css("cursor");
		$("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);

		el.addClass("ui-resizable-resizing");
		this._propagate("start", event);
		return true;
	},

	_mouseDrag: function(event) {

		var data, props,
			smp = this.originalMousePosition,
			a = this.axis,
			dx = (event.pageX - smp.left) || 0,
			dy = (event.pageY - smp.top) || 0,
			trigger = this._change[a];

		this._updatePrevProperties();

		if (!trigger) {
			return false;
		}

		data = trigger.apply(this, [ event, dx, dy ]);

		this._updateVirtualBoundaries(event.shiftKey);
		if (this._aspectRatio || event.shiftKey) {
			data = this._updateRatio(data, event);
		}

		data = this._respectSize(data, event);

		this._updateCache(data);

		this._propagate("resize", event);

		props = this._applyChanges();

		if ( !this._helper && this._proportionallyResizeElements.length ) {
			this._proportionallyResize();
		}

		if ( !$.isEmptyObject( props ) ) {
			this._updatePrevProperties();
			this._trigger( "resize", event, this.ui() );
			this._applyChanges();
		}

		return false;
	},

	_mouseStop: function(event) {

		this.resizing = false;
		var pr, ista, soffseth, soffsetw, s, left, top,
			o = this.options, that = this;

		if (this._helper) {

			pr = this._proportionallyResizeElements;
			ista = pr.length && (/textarea/i).test(pr[0].nodeName);
			soffseth = ista && this._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height;
			soffsetw = ista ? 0 : that.sizeDiff.width;

			s = {
				width: (that.helper.width()  - soffsetw),
				height: (that.helper.height() - soffseth)
			};
			left = (parseInt(that.element.css("left"), 10) +
				(that.position.left - that.originalPosition.left)) || null;
			top = (parseInt(that.element.css("top"), 10) +
				(that.position.top - that.originalPosition.top)) || null;

			if (!o.animate) {
				this.element.css($.extend(s, { top: top, left: left }));
			}

			that.helper.height(that.size.height);
			that.helper.width(that.size.width);

			if (this._helper && !o.animate) {
				this._proportionallyResize();
			}
		}

		$("body").css("cursor", "auto");

		this.element.removeClass("ui-resizable-resizing");

		this._propagate("stop", event);

		if (this._helper) {
			this.helper.remove();
		}

		return false;

	},

	_updatePrevProperties: function() {
		this.prevPosition = {
			top: this.position.top,
			left: this.position.left
		};
		this.prevSize = {
			width: this.size.width,
			height: this.size.height
		};
	},

	_applyChanges: function() {
		var props = {};

		if ( this.position.top !== this.prevPosition.top ) {
			props.top = this.position.top + "px";
		}
		if ( this.position.left !== this.prevPosition.left ) {
			props.left = this.position.left + "px";
		}
		if ( this.size.width !== this.prevSize.width ) {
			props.width = this.size.width + "px";
		}
		if ( this.size.height !== this.prevSize.height ) {
			props.height = this.size.height + "px";
		}

		this.helper.css( props );

		return props;
	},

	_updateVirtualBoundaries: function(forceAspectRatio) {
		var pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,
			o = this.options;

		b = {
			minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
			maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : Infinity,
			minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
			maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : Infinity
		};

		if (this._aspectRatio || forceAspectRatio) {
			pMinWidth = b.minHeight * this.aspectRatio;
			pMinHeight = b.minWidth / this.aspectRatio;
			pMaxWidth = b.maxHeight * this.aspectRatio;
			pMaxHeight = b.maxWidth / this.aspectRatio;

			if (pMinWidth > b.minWidth) {
				b.minWidth = pMinWidth;
			}
			if (pMinHeight > b.minHeight) {
				b.minHeight = pMinHeight;
			}
			if (pMaxWidth < b.maxWidth) {
				b.maxWidth = pMaxWidth;
			}
			if (pMaxHeight < b.maxHeight) {
				b.maxHeight = pMaxHeight;
			}
		}
		this._vBoundaries = b;
	},

	_updateCache: function(data) {
		this.offset = this.helper.offset();
		if (this._isNumber(data.left)) {
			this.position.left = data.left;
		}
		if (this._isNumber(data.top)) {
			this.position.top = data.top;
		}
		if (this._isNumber(data.height)) {
			this.size.height = data.height;
		}
		if (this._isNumber(data.width)) {
			this.size.width = data.width;
		}
	},

	_updateRatio: function( data ) {

		var cpos = this.position,
			csize = this.size,
			a = this.axis;

		if (this._isNumber(data.height)) {
			data.width = (data.height * this.aspectRatio);
		} else if (this._isNumber(data.width)) {
			data.height = (data.width / this.aspectRatio);
		}

		if (a === "sw") {
			data.left = cpos.left + (csize.width - data.width);
			data.top = null;
		}
		if (a === "nw") {
			data.top = cpos.top + (csize.height - data.height);
			data.left = cpos.left + (csize.width - data.width);
		}

		return data;
	},

	_respectSize: function( data ) {

		var o = this._vBoundaries,
			a = this.axis,
			ismaxw = this._isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width),
			ismaxh = this._isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),
			isminw = this._isNumber(data.width) && o.minWidth && (o.minWidth > data.width),
			isminh = this._isNumber(data.height) && o.minHeight && (o.minHeight > data.height),
			dw = this.originalPosition.left + this.originalSize.width,
			dh = this.position.top + this.size.height,
			cw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);
		if (isminw) {
			data.width = o.minWidth;
		}
		if (isminh) {
			data.height = o.minHeight;
		}
		if (ismaxw) {
			data.width = o.maxWidth;
		}
		if (ismaxh) {
			data.height = o.maxHeight;
		}

		if (isminw && cw) {
			data.left = dw - o.minWidth;
		}
		if (ismaxw && cw) {
			data.left = dw - o.maxWidth;
		}
		if (isminh && ch) {
			data.top = dh - o.minHeight;
		}
		if (ismaxh && ch) {
			data.top = dh - o.maxHeight;
		}

		// Fixing jump error on top/left - bug #2330
		if (!data.width && !data.height && !data.left && data.top) {
			data.top = null;
		} else if (!data.width && !data.height && !data.top && data.left) {
			data.left = null;
		}

		return data;
	},

	_getPaddingPlusBorderDimensions: function( element ) {
		var i = 0,
			widths = [],
			borders = [
				element.css( "borderTopWidth" ),
				element.css( "borderRightWidth" ),
				element.css( "borderBottomWidth" ),
				element.css( "borderLeftWidth" )
			],
			paddings = [
				element.css( "paddingTop" ),
				element.css( "paddingRight" ),
				element.css( "paddingBottom" ),
				element.css( "paddingLeft" )
			];

		for ( ; i < 4; i++ ) {
			widths[ i ] = ( parseInt( borders[ i ], 10 ) || 0 );
			widths[ i ] += ( parseInt( paddings[ i ], 10 ) || 0 );
		}

		return {
			height: widths[ 0 ] + widths[ 2 ],
			width: widths[ 1 ] + widths[ 3 ]
		};
	},

	_proportionallyResize: function() {

		if (!this._proportionallyResizeElements.length) {
			return;
		}

		var prel,
			i = 0,
			element = this.helper || this.element;

		for ( ; i < this._proportionallyResizeElements.length; i++) {

			prel = this._proportionallyResizeElements[i];

			// TODO: Seems like a bug to cache this.outerDimensions
			// considering that we are in a loop.
			if (!this.outerDimensions) {
				this.outerDimensions = this._getPaddingPlusBorderDimensions( prel );
			}

			prel.css({
				height: (element.height() - this.outerDimensions.height) || 0,
				width: (element.width() - this.outerDimensions.width) || 0
			});

		}

	},

	_renderProxy: function() {

		var el = this.element, o = this.options;
		this.elementOffset = el.offset();

		if (this._helper) {

			this.helper = this.helper || $("<div style='overflow:hidden;'></div>");

			this.helper.addClass(this._helper).css({
				width: this.element.outerWidth() - 1,
				height: this.element.outerHeight() - 1,
				position: "absolute",
				left: this.elementOffset.left + "px",
				top: this.elementOffset.top + "px",
				zIndex: ++o.zIndex //TODO: Don't modify option
			});

			this.helper
				.appendTo("body")
				.disableSelection();

		} else {
			this.helper = this.element;
		}

	},

	_change: {
		e: function(event, dx) {
			return { width: this.originalSize.width + dx };
		},
		w: function(event, dx) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { left: sp.left + dx, width: cs.width - dx };
		},
		n: function(event, dx, dy) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { top: sp.top + dy, height: cs.height - dy };
		},
		s: function(event, dx, dy) {
			return { height: this.originalSize.height + dy };
		},
		se: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments),
				this._change.e.apply(this, [ event, dx, dy ]));
		},
		sw: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments),
				this._change.w.apply(this, [ event, dx, dy ]));
		},
		ne: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments),
				this._change.e.apply(this, [ event, dx, dy ]));
		},
		nw: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments),
				this._change.w.apply(this, [ event, dx, dy ]));
		}
	},

	_propagate: function(n, event) {
		$.ui.plugin.call(this, n, [ event, this.ui() ]);
		(n !== "resize" && this._trigger(n, event, this.ui()));
	},

	plugins: {},

	ui: function() {
		return {
			originalElement: this.originalElement,
			element: this.element,
			helper: this.helper,
			position: this.position,
			size: this.size,
			originalSize: this.originalSize,
			originalPosition: this.originalPosition
		};
	}

});

/*
 * Resizable Extensions
 */

$.ui.plugin.add("resizable", "animate", {

	stop: function( event ) {
		var that = $(this).resizable( "instance" ),
			o = that.options,
			pr = that._proportionallyResizeElements,
			ista = pr.length && (/textarea/i).test(pr[0].nodeName),
			soffseth = ista && that._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height,
			soffsetw = ista ? 0 : that.sizeDiff.width,
			style = { width: (that.size.width - soffsetw), height: (that.size.height - soffseth) },
			left = (parseInt(that.element.css("left"), 10) +
				(that.position.left - that.originalPosition.left)) || null,
			top = (parseInt(that.element.css("top"), 10) +
				(that.position.top - that.originalPosition.top)) || null;

		that.element.animate(
			$.extend(style, top && left ? { top: top, left: left } : {}), {
				duration: o.animateDuration,
				easing: o.animateEasing,
				step: function() {

					var data = {
						width: parseInt(that.element.css("width"), 10),
						height: parseInt(that.element.css("height"), 10),
						top: parseInt(that.element.css("top"), 10),
						left: parseInt(that.element.css("left"), 10)
					};

					if (pr && pr.length) {
						$(pr[0]).css({ width: data.width, height: data.height });
					}

					// propagating resize, and updating values for each animation step
					that._updateCache(data);
					that._propagate("resize", event);

				}
			}
		);
	}

});

$.ui.plugin.add( "resizable", "containment", {

	start: function() {
		var element, p, co, ch, cw, width, height,
			that = $( this ).resizable( "instance" ),
			o = that.options,
			el = that.element,
			oc = o.containment,
			ce = ( oc instanceof $ ) ? oc.get( 0 ) : ( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;

		if ( !ce ) {
			return;
		}

		that.containerElement = $( ce );

		if ( /document/.test( oc ) || oc === document ) {
			that.containerOffset = {
				left: 0,
				top: 0
			};
			that.containerPosition = {
				left: 0,
				top: 0
			};

			that.parentData = {
				element: $( document ),
				left: 0,
				top: 0,
				width: $( document ).width(),
				height: $( document ).height() || document.body.parentNode.scrollHeight
			};
		} else {
			element = $( ce );
			p = [];
			$([ "Top", "Right", "Left", "Bottom" ]).each(function( i, name ) {
				p[ i ] = that._num( element.css( "padding" + name ) );
			});

			that.containerOffset = element.offset();
			that.containerPosition = element.position();
			that.containerSize = {
				height: ( element.innerHeight() - p[ 3 ] ),
				width: ( element.innerWidth() - p[ 1 ] )
			};

			co = that.containerOffset;
			ch = that.containerSize.height;
			cw = that.containerSize.width;
			width = ( that._hasScroll ( ce, "left" ) ? ce.scrollWidth : cw );
			height = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;

			that.parentData = {
				element: ce,
				left: co.left,
				top: co.top,
				width: width,
				height: height
			};
		}
	},

	resize: function( event ) {
		var woset, hoset, isParent, isOffsetRelative,
			that = $( this ).resizable( "instance" ),
			o = that.options,
			co = that.containerOffset,
			cp = that.position,
			pRatio = that._aspectRatio || event.shiftKey,
			cop = {
				top: 0,
				left: 0
			},
			ce = that.containerElement,
			continueResize = true;

		if ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( "position" ) ) ) {
			cop = co;
		}

		if ( cp.left < ( that._helper ? co.left : 0 ) ) {
			that.size.width = that.size.width +
				( that._helper ?
					( that.position.left - co.left ) :
					( that.position.left - cop.left ) );

			if ( pRatio ) {
				that.size.height = that.size.width / that.aspectRatio;
				continueResize = false;
			}
			that.position.left = o.helper ? co.left : 0;
		}

		if ( cp.top < ( that._helper ? co.top : 0 ) ) {
			that.size.height = that.size.height +
				( that._helper ?
					( that.position.top - co.top ) :
					that.position.top );

			if ( pRatio ) {
				that.size.width = that.size.height * that.aspectRatio;
				continueResize = false;
			}
			that.position.top = that._helper ? co.top : 0;
		}

		isParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );
		isOffsetRelative = /relative|absolute/.test( that.containerElement.css( "position" ) );

		if ( isParent && isOffsetRelative ) {
			that.offset.left = that.parentData.left + that.position.left;
			that.offset.top = that.parentData.top + that.position.top;
		} else {
			that.offset.left = that.element.offset().left;
			that.offset.top = that.element.offset().top;
		}

		woset = Math.abs( that.sizeDiff.width +
			(that._helper ?
				that.offset.left - cop.left :
				(that.offset.left - co.left)) );

		hoset = Math.abs( that.sizeDiff.height +
			(that._helper ?
				that.offset.top - cop.top :
				(that.offset.top - co.top)) );

		if ( woset + that.size.width >= that.parentData.width ) {
			that.size.width = that.parentData.width - woset;
			if ( pRatio ) {
				that.size.height = that.size.width / that.aspectRatio;
				continueResize = false;
			}
		}

		if ( hoset + that.size.height >= that.parentData.height ) {
			that.size.height = that.parentData.height - hoset;
			if ( pRatio ) {
				that.size.width = that.size.height * that.aspectRatio;
				continueResize = false;
			}
		}

		if ( !continueResize ) {
			that.position.left = that.prevPosition.left;
			that.position.top = that.prevPosition.top;
			that.size.width = that.prevSize.width;
			that.size.height = that.prevSize.height;
		}
	},

	stop: function() {
		var that = $( this ).resizable( "instance" ),
			o = that.options,
			co = that.containerOffset,
			cop = that.containerPosition,
			ce = that.containerElement,
			helper = $( that.helper ),
			ho = helper.offset(),
			w = helper.outerWidth() - that.sizeDiff.width,
			h = helper.outerHeight() - that.sizeDiff.height;

		if ( that._helper && !o.animate && ( /relative/ ).test( ce.css( "position" ) ) ) {
			$( this ).css({
				left: ho.left - cop.left - co.left,
				width: w,
				height: h
			});
		}

		if ( that._helper && !o.animate && ( /static/ ).test( ce.css( "position" ) ) ) {
			$( this ).css({
				left: ho.left - cop.left - co.left,
				width: w,
				height: h
			});
		}
	}
});

$.ui.plugin.add("resizable", "alsoResize", {

	start: function() {
		var that = $(this).resizable( "instance" ),
			o = that.options;

		$(o.alsoResize).each(function() {
			var el = $(this);
			el.data("ui-resizable-alsoresize", {
				width: parseInt(el.width(), 10), height: parseInt(el.height(), 10),
				left: parseInt(el.css("left"), 10), top: parseInt(el.css("top"), 10)
			});
		});
	},

	resize: function(event, ui) {
		var that = $(this).resizable( "instance" ),
			o = that.options,
			os = that.originalSize,
			op = that.originalPosition,
			delta = {
				height: (that.size.height - os.height) || 0,
				width: (that.size.width - os.width) || 0,
				top: (that.position.top - op.top) || 0,
				left: (that.position.left - op.left) || 0
			};

			$(o.alsoResize).each(function() {
				var el = $(this), start = $(this).data("ui-resizable-alsoresize"), style = {},
					css = el.parents(ui.originalElement[0]).length ?
							[ "width", "height" ] :
							[ "width", "height", "top", "left" ];

				$.each(css, function(i, prop) {
					var sum = (start[prop] || 0) + (delta[prop] || 0);
					if (sum && sum >= 0) {
						style[prop] = sum || null;
					}
				});

				el.css(style);
			});
	},

	stop: function() {
		$(this).removeData("resizable-alsoresize");
	}
});

$.ui.plugin.add("resizable", "ghost", {

	start: function() {

		var that = $(this).resizable( "instance" ), o = that.options, cs = that.size;

		that.ghost = that.originalElement.clone();
		that.ghost
			.css({
				opacity: 0.25,
				display: "block",
				position: "relative",
				height: cs.height,
				width: cs.width,
				margin: 0,
				left: 0,
				top: 0
			})
			.addClass("ui-resizable-ghost")
			.addClass(typeof o.ghost === "string" ? o.ghost : "");

		that.ghost.appendTo(that.helper);

	},

	resize: function() {
		var that = $(this).resizable( "instance" );
		if (that.ghost) {
			that.ghost.css({
				position: "relative",
				height: that.size.height,
				width: that.size.width
			});
		}
	},

	stop: function() {
		var that = $(this).resizable( "instance" );
		if (that.ghost && that.helper) {
			that.helper.get(0).removeChild(that.ghost.get(0));
		}
	}

});

$.ui.plugin.add("resizable", "grid", {

	resize: function() {
		var outerDimensions,
			that = $(this).resizable( "instance" ),
			o = that.options,
			cs = that.size,
			os = that.originalSize,
			op = that.originalPosition,
			a = that.axis,
			grid = typeof o.grid === "number" ? [ o.grid, o.grid ] : o.grid,
			gridX = (grid[0] || 1),
			gridY = (grid[1] || 1),
			ox = Math.round((cs.width - os.width) / gridX) * gridX,
			oy = Math.round((cs.height - os.height) / gridY) * gridY,
			newWidth = os.width + ox,
			newHeight = os.height + oy,
			isMaxWidth = o.maxWidth && (o.maxWidth < newWidth),
			isMaxHeight = o.maxHeight && (o.maxHeight < newHeight),
			isMinWidth = o.minWidth && (o.minWidth > newWidth),
			isMinHeight = o.minHeight && (o.minHeight > newHeight);

		o.grid = grid;

		if (isMinWidth) {
			newWidth += gridX;
		}
		if (isMinHeight) {
			newHeight += gridY;
		}
		if (isMaxWidth) {
			newWidth -= gridX;
		}
		if (isMaxHeight) {
			newHeight -= gridY;
		}

		if (/^(se|s|e)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
		} else if (/^(ne)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.top = op.top - oy;
		} else if (/^(sw)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.left = op.left - ox;
		} else {
			if ( newHeight - gridY <= 0 || newWidth - gridX <= 0) {
				outerDimensions = that._getPaddingPlusBorderDimensions( this );
			}

			if ( newHeight - gridY > 0 ) {
				that.size.height = newHeight;
				that.position.top = op.top - oy;
			} else {
				newHeight = gridY - outerDimensions.height;
				that.size.height = newHeight;
				that.position.top = op.top + os.height - newHeight;
			}
			if ( newWidth - gridX > 0 ) {
				that.size.width = newWidth;
				that.position.left = op.left - ox;
			} else {
				newWidth = gridX - outerDimensions.width;
				that.size.width = newWidth;
				that.position.left = op.left + os.width - newWidth;
			}
		}
	}

});

var resizable = $.ui.resizable;


/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */


var dialog = $.widget( "ui.dialog", {
	version: "1.11.4",
	options: {
		appendTo: "body",
		autoOpen: true,
		buttons: [],
		closeOnEscape: true,
		closeText: "Close",
		dialogClass: "",
		draggable: true,
		hide: null,
		height: "auto",
		maxHeight: null,
		maxWidth: null,
		minHeight: 150,
		minWidth: 150,
		modal: false,
		position: {
			my: "center",
			at: "center",
			of: window,
			collision: "fit",
			// Ensure the titlebar is always visible
			using: function( pos ) {
				var topOffset = $( this ).css( pos ).offset().top;
				if ( topOffset < 0 ) {
					$( this ).css( "top", pos.top - topOffset );
				}
			}
		},
		resizable: true,
		show: null,
		title: null,
		width: 300,

		// callbacks
		beforeClose: null,
		close: null,
		drag: null,
		dragStart: null,
		dragStop: null,
		focus: null,
		open: null,
		resize: null,
		resizeStart: null,
		resizeStop: null
	},

	sizeRelatedOptions: {
		buttons: true,
		height: true,
		maxHeight: true,
		maxWidth: true,
		minHeight: true,
		minWidth: true,
		width: true
	},

	resizableRelatedOptions: {
		maxHeight: true,
		maxWidth: true,
		minHeight: true,
		minWidth: true
	},

	_create: function() {
		this.originalCss = {
			display: this.element[ 0 ].style.display,
			width: this.element[ 0 ].style.width,
			minHeight: this.element[ 0 ].style.minHeight,
			maxHeight: this.element[ 0 ].style.maxHeight,
			height: this.element[ 0 ].style.height
		};
		this.originalPosition = {
			parent: this.element.parent(),
			index: this.element.parent().children().index( this.element )
		};
		this.originalTitle = this.element.attr( "title" );
		this.options.title = this.options.title || this.originalTitle;

		this._createWrapper();

		this.element
			.show()
			.removeAttr( "title" )
			.addClass( "ui-dialog-content ui-widget-content" )
			.appendTo( this.uiDialog );

		this._createTitlebar();
		this._createButtonPane();

		if ( this.options.draggable && $.fn.draggable ) {
			this._makeDraggable();
		}
		if ( this.options.resizable && $.fn.resizable ) {
			this._makeResizable();
		}

		this._isOpen = false;

		this._trackFocus();
	},

	_init: function() {
		if ( this.options.autoOpen ) {
			this.open();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;
		if ( element && (element.jquery || element.nodeType) ) {
			return $( element );
		}
		return this.document.find( element || "body" ).eq( 0 );
	},

	_destroy: function() {
		var next,
			originalPosition = this.originalPosition;

		this._untrackInstance();
		this._destroyOverlay();

		this.element
			.removeUniqueId()
			.removeClass( "ui-dialog-content ui-widget-content" )
			.css( this.originalCss )
			// Without detaching first, the following becomes really slow
			.detach();

		this.uiDialog.stop( true, true ).remove();

		if ( this.originalTitle ) {
			this.element.attr( "title", this.originalTitle );
		}

		next = originalPosition.parent.children().eq( originalPosition.index );
		// Don't try to place the dialog next to itself (#8613)
		if ( next.length && next[ 0 ] !== this.element[ 0 ] ) {
			next.before( this.element );
		} else {
			originalPosition.parent.append( this.element );
		}
	},

	widget: function() {
		return this.uiDialog;
	},

	disable: $.noop,
	enable: $.noop,

	close: function( event ) {
		var activeElement,
			that = this;

		if ( !this._isOpen || this._trigger( "beforeClose", event ) === false ) {
			return;
		}

		this._isOpen = false;
		this._focusedElement = null;
		this._destroyOverlay();
		this._untrackInstance();

		if ( !this.opener.filter( ":focusable" ).focus().length ) {

			// support: IE9
			// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
			try {
				activeElement = this.document[ 0 ].activeElement;

				// Support: IE9, IE10
				// If the <body> is blurred, IE will switch windows, see #4520
				if ( activeElement && activeElement.nodeName.toLowerCase() !== "body" ) {

					// Hiding a focused element doesn't trigger blur in WebKit
					// so in case we have nothing to focus on, explicitly blur the active element
					// https://bugs.webkit.org/show_bug.cgi?id=47182
					$( activeElement ).blur();
				}
			} catch ( error ) {}
		}

		this._hide( this.uiDialog, this.options.hide, function() {
			that._trigger( "close", event );
		});
	},

	isOpen: function() {
		return this._isOpen;
	},

	moveToTop: function() {
		this._moveToTop();
	},

	_moveToTop: function( event, silent ) {
		var moved = false,
			zIndices = this.uiDialog.siblings( ".ui-front:visible" ).map(function() {
				return +$( this ).css( "z-index" );
			}).get(),
			zIndexMax = Math.max.apply( null, zIndices );

		if ( zIndexMax >= +this.uiDialog.css( "z-index" ) ) {
			this.uiDialog.css( "z-index", zIndexMax + 1 );
			moved = true;
		}

		if ( moved && !silent ) {
			this._trigger( "focus", event );
		}
		return moved;
	},

	open: function() {
		var that = this;
		if ( this._isOpen ) {
			if ( this._moveToTop() ) {
				this._focusTabbable();
			}
			return;
		}

		this._isOpen = true;
		this.opener = $( this.document[ 0 ].activeElement );

		this._size();
		this._position();
		this._createOverlay();
		this._moveToTop( null, true );

		// Ensure the overlay is moved to the top with the dialog, but only when
		// opening. The overlay shouldn't move after the dialog is open so that
		// modeless dialogs opened after the modal dialog stack properly.
		if ( this.overlay ) {
			this.overlay.css( "z-index", this.uiDialog.css( "z-index" ) - 1 );
		}

		this._show( this.uiDialog, this.options.show, function() {
			that._focusTabbable();
			that._trigger( "focus" );
		});

		// Track the dialog immediately upon openening in case a focus event
		// somehow occurs outside of the dialog before an element inside the
		// dialog is focused (#10152)
		this._makeFocusTarget();

		this._trigger( "open" );
	},

	_focusTabbable: function() {
		// Set focus to the first match:
		// 1. An element that was focused previously
		// 2. First element inside the dialog matching [autofocus]
		// 3. Tabbable element inside the content element
		// 4. Tabbable element inside the buttonpane
		// 5. The close button
		// 6. The dialog itself
		var hasFocus = this._focusedElement;
		if ( !hasFocus ) {
			hasFocus = this.element.find( "[autofocus]" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.element.find( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialogButtonPane.find( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialogTitlebarClose.filter( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialog;
		}
		hasFocus.eq( 0 ).focus();
	},

	_keepFocus: function( event ) {
		function checkFocus() {
			var activeElement = this.document[0].activeElement,
				isActive = this.uiDialog[0] === activeElement ||
					$.contains( this.uiDialog[0], activeElement );
			if ( !isActive ) {
				this._focusTabbable();
			}
		}
		event.preventDefault();
		checkFocus.call( this );
		// support: IE
		// IE <= 8 doesn't prevent moving focus even with event.preventDefault()
		// so we check again later
		this._delay( checkFocus );
	},

	_createWrapper: function() {
		this.uiDialog = $("<div>")
			.addClass( "ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " +
				this.options.dialogClass )
			.hide()
			.attr({
				// Setting tabIndex makes the div focusable
				tabIndex: -1,
				role: "dialog"
			})
			.appendTo( this._appendTo() );

		this._on( this.uiDialog, {
			keydown: function( event ) {
				if ( this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&
						event.keyCode === $.ui.keyCode.ESCAPE ) {
					event.preventDefault();
					this.close( event );
					return;
				}

				// prevent tabbing out of dialogs
				if ( event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented() ) {
					return;
				}
				var tabbables = this.uiDialog.find( ":tabbable" ),
					first = tabbables.filter( ":first" ),
					last = tabbables.filter( ":last" );

				if ( ( event.target === last[0] || event.target === this.uiDialog[0] ) && !event.shiftKey ) {
					this._delay(function() {
						first.focus();
					});
					event.preventDefault();
				} else if ( ( event.target === first[0] || event.target === this.uiDialog[0] ) && event.shiftKey ) {
					this._delay(function() {
						last.focus();
					});
					event.preventDefault();
				}
			},
			mousedown: function( event ) {
				if ( this._moveToTop( event ) ) {
					this._focusTabbable();
				}
			}
		});

		// We assume that any existing aria-describedby attribute means
		// that the dialog content is marked up properly
		// otherwise we brute force the content as the description
		if ( !this.element.find( "[aria-describedby]" ).length ) {
			this.uiDialog.attr({
				"aria-describedby": this.element.uniqueId().attr( "id" )
			});
		}
	},

	_createTitlebar: function() {
		var uiDialogTitle;

		this.uiDialogTitlebar = $( "<div>" )
			.addClass( "ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix" )
			.prependTo( this.uiDialog );
		this._on( this.uiDialogTitlebar, {
			mousedown: function( event ) {
				// Don't prevent click on close button (#8838)
				// Focusing a dialog that is partially scrolled out of view
				// causes the browser to scroll it into view, preventing the click event
				if ( !$( event.target ).closest( ".ui-dialog-titlebar-close" ) ) {
					// Dialog isn't getting focus when dragging (#8063)
					this.uiDialog.focus();
				}
			}
		});

		// support: IE
		// Use type="button" to prevent enter keypresses in textboxes from closing the
		// dialog in IE (#9312)
		this.uiDialogTitlebarClose = $( "<button type='button'></button>" )
			.button({
				label: this.options.closeText,
				icons: {
					primary: "ui-icon-closethick"
				},
				text: false
			})
			.addClass( "ui-dialog-titlebar-close" )
			.appendTo( this.uiDialogTitlebar );
		this._on( this.uiDialogTitlebarClose, {
			click: function( event ) {
				event.preventDefault();
				this.close( event );
			}
		});

		uiDialogTitle = $( "<span>" )
			.uniqueId()
			.addClass( "ui-dialog-title" )
			.prependTo( this.uiDialogTitlebar );
		this._title( uiDialogTitle );

		this.uiDialog.attr({
			"aria-labelledby": uiDialogTitle.attr( "id" )
		});
	},

	_title: function( title ) {
		if ( !this.options.title ) {
			title.html( "&#160;" );
		}
		title.text( this.options.title );
	},

	_createButtonPane: function() {
		this.uiDialogButtonPane = $( "<div>" )
			.addClass( "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" );

		this.uiButtonSet = $( "<div>" )
			.addClass( "ui-dialog-buttonset" )
			.appendTo( this.uiDialogButtonPane );

		this._createButtons();
	},

	_createButtons: function() {
		var that = this,
			buttons = this.options.buttons;

		// if we already have a button pane, remove it
		this.uiDialogButtonPane.remove();
		this.uiButtonSet.empty();

		if ( $.isEmptyObject( buttons ) || ($.isArray( buttons ) && !buttons.length) ) {
			this.uiDialog.removeClass( "ui-dialog-buttons" );
			return;
		}

		$.each( buttons, function( name, props ) {
			var click, buttonOptions;
			props = $.isFunction( props ) ?
				{ click: props, text: name } :
				props;
			// Default to a non-submitting button
			props = $.extend( { type: "button" }, props );
			// Change the context for the click callback to be the main element
			click = props.click;
			props.click = function() {
				click.apply( that.element[ 0 ], arguments );
			};
			buttonOptions = {
				icons: props.icons,
				text: props.showText
			};
			delete props.icons;
			delete props.showText;
			$( "<button></button>", props )
				.button( buttonOptions )
				.appendTo( that.uiButtonSet );
		});
		this.uiDialog.addClass( "ui-dialog-buttons" );
		this.uiDialogButtonPane.appendTo( this.uiDialog );
	},

	_makeDraggable: function() {
		var that = this,
			options = this.options;

		function filteredUi( ui ) {
			return {
				position: ui.position,
				offset: ui.offset
			};
		}

		this.uiDialog.draggable({
			cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
			handle: ".ui-dialog-titlebar",
			containment: "document",
			start: function( event, ui ) {
				$( this ).addClass( "ui-dialog-dragging" );
				that._blockFrames();
				that._trigger( "dragStart", event, filteredUi( ui ) );
			},
			drag: function( event, ui ) {
				that._trigger( "drag", event, filteredUi( ui ) );
			},
			stop: function( event, ui ) {
				var left = ui.offset.left - that.document.scrollLeft(),
					top = ui.offset.top - that.document.scrollTop();

				options.position = {
					my: "left top",
					at: "left" + (left >= 0 ? "+" : "") + left + " " +
						"top" + (top >= 0 ? "+" : "") + top,
					of: that.window
				};
				$( this ).removeClass( "ui-dialog-dragging" );
				that._unblockFrames();
				that._trigger( "dragStop", event, filteredUi( ui ) );
			}
		});
	},

	_makeResizable: function() {
		var that = this,
			options = this.options,
			handles = options.resizable,
			// .ui-resizable has position: relative defined in the stylesheet
			// but dialogs have to use absolute or fixed positioning
			position = this.uiDialog.css("position"),
			resizeHandles = typeof handles === "string" ?
				handles	:
				"n,e,s,w,se,sw,ne,nw";

		function filteredUi( ui ) {
			return {
				originalPosition: ui.originalPosition,
				originalSize: ui.originalSize,
				position: ui.position,
				size: ui.size
			};
		}

		this.uiDialog.resizable({
			cancel: ".ui-dialog-content",
			containment: "document",
			alsoResize: this.element,
			maxWidth: options.maxWidth,
			maxHeight: options.maxHeight,
			minWidth: options.minWidth,
			minHeight: this._minHeight(),
			handles: resizeHandles,
			start: function( event, ui ) {
				$( this ).addClass( "ui-dialog-resizing" );
				that._blockFrames();
				that._trigger( "resizeStart", event, filteredUi( ui ) );
			},
			resize: function( event, ui ) {
				that._trigger( "resize", event, filteredUi( ui ) );
			},
			stop: function( event, ui ) {
				var offset = that.uiDialog.offset(),
					left = offset.left - that.document.scrollLeft(),
					top = offset.top - that.document.scrollTop();

				options.height = that.uiDialog.height();
				options.width = that.uiDialog.width();
				options.position = {
					my: "left top",
					at: "left" + (left >= 0 ? "+" : "") + left + " " +
						"top" + (top >= 0 ? "+" : "") + top,
					of: that.window
				};
				$( this ).removeClass( "ui-dialog-resizing" );
				that._unblockFrames();
				that._trigger( "resizeStop", event, filteredUi( ui ) );
			}
		})
		.css( "position", position );
	},

	_trackFocus: function() {
		this._on( this.widget(), {
			focusin: function( event ) {
				this._makeFocusTarget();
				this._focusedElement = $( event.target );
			}
		});
	},

	_makeFocusTarget: function() {
		this._untrackInstance();
		this._trackingInstances().unshift( this );
	},

	_untrackInstance: function() {
		var instances = this._trackingInstances(),
			exists = $.inArray( this, instances );
		if ( exists !== -1 ) {
			instances.splice( exists, 1 );
		}
	},

	_trackingInstances: function() {
		var instances = this.document.data( "ui-dialog-instances" );
		if ( !instances ) {
			instances = [];
			this.document.data( "ui-dialog-instances", instances );
		}
		return instances;
	},

	_minHeight: function() {
		var options = this.options;

		return options.height === "auto" ?
			options.minHeight :
			Math.min( options.minHeight, options.height );
	},

	_position: function() {
		// Need to show the dialog to get the actual offset in the position plugin
		var isVisible = this.uiDialog.is( ":visible" );
		if ( !isVisible ) {
			this.uiDialog.show();
		}
		this.uiDialog.position( this.options.position );
		if ( !isVisible ) {
			this.uiDialog.hide();
		}
	},

	_setOptions: function( options ) {
		var that = this,
			resize = false,
			resizableOptions = {};

		$.each( options, function( key, value ) {
			that._setOption( key, value );

			if ( key in that.sizeRelatedOptions ) {
				resize = true;
			}
			if ( key in that.resizableRelatedOptions ) {
				resizableOptions[ key ] = value;
			}
		});

		if ( resize ) {
			this._size();
			this._position();
		}
		if ( this.uiDialog.is( ":data(ui-resizable)" ) ) {
			this.uiDialog.resizable( "option", resizableOptions );
		}
	},

	_setOption: function( key, value ) {
		var isDraggable, isResizable,
			uiDialog = this.uiDialog;

		if ( key === "dialogClass" ) {
			uiDialog
				.removeClass( this.options.dialogClass )
				.addClass( value );
		}

		if ( key === "disabled" ) {
			return;
		}

		this._super( key, value );

		if ( key === "appendTo" ) {
			this.uiDialog.appendTo( this._appendTo() );
		}

		if ( key === "buttons" ) {
			this._createButtons();
		}

		if ( key === "closeText" ) {
			this.uiDialogTitlebarClose.button({
				// Ensure that we always pass a string
				label: "" + value
			});
		}

		if ( key === "draggable" ) {
			isDraggable = uiDialog.is( ":data(ui-draggable)" );
			if ( isDraggable && !value ) {
				uiDialog.draggable( "destroy" );
			}

			if ( !isDraggable && value ) {
				this._makeDraggable();
			}
		}

		if ( key === "position" ) {
			this._position();
		}

		if ( key === "resizable" ) {
			// currently resizable, becoming non-resizable
			isResizable = uiDialog.is( ":data(ui-resizable)" );
			if ( isResizable && !value ) {
				uiDialog.resizable( "destroy" );
			}

			// currently resizable, changing handles
			if ( isResizable && typeof value === "string" ) {
				uiDialog.resizable( "option", "handles", value );
			}

			// currently non-resizable, becoming resizable
			if ( !isResizable && value !== false ) {
				this._makeResizable();
			}
		}

		if ( key === "title" ) {
			this._title( this.uiDialogTitlebar.find( ".ui-dialog-title" ) );
		}
	},

	_size: function() {
		// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content
		// divs will both have width and height set, so we need to reset them
		var nonContentHeight, minContentHeight, maxContentHeight,
			options = this.options;

		// Reset content sizing
		this.element.show().css({
			width: "auto",
			minHeight: 0,
			maxHeight: "none",
			height: 0
		});

		if ( options.minWidth > options.width ) {
			options.width = options.minWidth;
		}

		// reset wrapper sizing
		// determine the height of all the non-content elements
		nonContentHeight = this.uiDialog.css({
				height: "auto",
				width: options.width
			})
			.outerHeight();
		minContentHeight = Math.max( 0, options.minHeight - nonContentHeight );
		maxContentHeight = typeof options.maxHeight === "number" ?
			Math.max( 0, options.maxHeight - nonContentHeight ) :
			"none";

		if ( options.height === "auto" ) {
			this.element.css({
				minHeight: minContentHeight,
				maxHeight: maxContentHeight,
				height: "auto"
			});
		} else {
			this.element.height( Math.max( 0, options.height - nonContentHeight ) );
		}

		if ( this.uiDialog.is( ":data(ui-resizable)" ) ) {
			this.uiDialog.resizable( "option", "minHeight", this._minHeight() );
		}
	},

	_blockFrames: function() {
		this.iframeBlocks = this.document.find( "iframe" ).map(function() {
			var iframe = $( this );

			return $( "<div>" )
				.css({
					position: "absolute",
					width: iframe.outerWidth(),
					height: iframe.outerHeight()
				})
				.appendTo( iframe.parent() )
				.offset( iframe.offset() )[0];
		});
	},

	_unblockFrames: function() {
		if ( this.iframeBlocks ) {
			this.iframeBlocks.remove();
			delete this.iframeBlocks;
		}
	},

	_allowInteraction: function( event ) {
		if ( $( event.target ).closest( ".ui-dialog" ).length ) {
			return true;
		}

		// TODO: Remove hack when datepicker implements
		// the .ui-front logic (#8989)
		return !!$( event.target ).closest( ".ui-datepicker" ).length;
	},

	_createOverlay: function() {
		if ( !this.options.modal ) {
			return;
		}

		// We use a delay in case the overlay is created from an
		// event that we're going to be cancelling (#2804)
		var isOpening = true;
		this._delay(function() {
			isOpening = false;
		});

		if ( !this.document.data( "ui-dialog-overlays" ) ) {

			// Prevent use of anchors and inputs
			// Using _on() for an event handler shared across many instances is
			// safe because the dialogs stack and must be closed in reverse order
			this._on( this.document, {
				focusin: function( event ) {
					if ( isOpening ) {
						return;
					}

					if ( !this._allowInteraction( event ) ) {
						event.preventDefault();
						this._trackingInstances()[ 0 ]._focusTabbable();
					}
				}
			});
		}

		this.overlay = $( "<div>" )
			.addClass( "ui-widget-overlay ui-front" )
			.appendTo( this._appendTo() );
		this._on( this.overlay, {
			mousedown: "_keepFocus"
		});
		this.document.data( "ui-dialog-overlays",
			(this.document.data( "ui-dialog-overlays" ) || 0) + 1 );
	},

	_destroyOverlay: function() {
		if ( !this.options.modal ) {
			return;
		}

		if ( this.overlay ) {
			var overlays = this.document.data( "ui-dialog-overlays" ) - 1;

			if ( !overlays ) {
				this.document
					.unbind( "focusin" )
					.removeData( "ui-dialog-overlays" );
			} else {
				this.document.data( "ui-dialog-overlays", overlays );
			}

			this.overlay.remove();
			this.overlay = null;
		}
	}
});


/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */


$.widget( "ui.droppable", {
	version: "1.11.4",
	widgetEventPrefix: "drop",
	options: {
		accept: "*",
		activeClass: false,
		addClasses: true,
		greedy: false,
		hoverClass: false,
		scope: "default",
		tolerance: "intersect",

		// callbacks
		activate: null,
		deactivate: null,
		drop: null,
		out: null,
		over: null
	},
	_create: function() {

		var proportions,
			o = this.options,
			accept = o.accept;

		this.isover = false;
		this.isout = true;

		this.accept = $.isFunction( accept ) ? accept : function( d ) {
			return d.is( accept );
		};

		this.proportions = function( /* valueToWrite */ ) {
			if ( arguments.length ) {
				// Store the droppable's proportions
				proportions = arguments[ 0 ];
			} else {
				// Retrieve or derive the droppable's proportions
				return proportions ?
					proportions :
					proportions = {
						width: this.element[ 0 ].offsetWidth,
						height: this.element[ 0 ].offsetHeight
					};
			}
		};

		this._addToManager( o.scope );

		o.addClasses && this.element.addClass( "ui-droppable" );

	},

	_addToManager: function( scope ) {
		// Add the reference and positions to the manager
		$.ui.ddmanager.droppables[ scope ] = $.ui.ddmanager.droppables[ scope ] || [];
		$.ui.ddmanager.droppables[ scope ].push( this );
	},

	_splice: function( drop ) {
		var i = 0;
		for ( ; i < drop.length; i++ ) {
			if ( drop[ i ] === this ) {
				drop.splice( i, 1 );
			}
		}
	},

	_destroy: function() {
		var drop = $.ui.ddmanager.droppables[ this.options.scope ];

		this._splice( drop );

		this.element.removeClass( "ui-droppable ui-droppable-disabled" );
	},

	_setOption: function( key, value ) {

		if ( key === "accept" ) {
			this.accept = $.isFunction( value ) ? value : function( d ) {
				return d.is( value );
			};
		} else if ( key === "scope" ) {
			var drop = $.ui.ddmanager.droppables[ this.options.scope ];

			this._splice( drop );
			this._addToManager( value );
		}

		this._super( key, value );
	},

	_activate: function( event ) {
		var draggable = $.ui.ddmanager.current;
		if ( this.options.activeClass ) {
			this.element.addClass( this.options.activeClass );
		}
		if ( draggable ){
			this._trigger( "activate", event, this.ui( draggable ) );
		}
	},

	_deactivate: function( event ) {
		var draggable = $.ui.ddmanager.current;
		if ( this.options.activeClass ) {
			this.element.removeClass( this.options.activeClass );
		}
		if ( draggable ){
			this._trigger( "deactivate", event, this.ui( draggable ) );
		}
	},

	_over: function( event ) {

		var draggable = $.ui.ddmanager.current;

		// Bail if draggable and droppable are same element
		if ( !draggable || ( draggable.currentItem || draggable.element )[ 0 ] === this.element[ 0 ] ) {
			return;
		}

		if ( this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
			if ( this.options.hoverClass ) {
				this.element.addClass( this.options.hoverClass );
			}
			this._trigger( "over", event, this.ui( draggable ) );
		}

	},

	_out: function( event ) {

		var draggable = $.ui.ddmanager.current;

		// Bail if draggable and droppable are same element
		if ( !draggable || ( draggable.currentItem || draggable.element )[ 0 ] === this.element[ 0 ] ) {
			return;
		}

		if ( this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
			if ( this.options.hoverClass ) {
				this.element.removeClass( this.options.hoverClass );
			}
			this._trigger( "out", event, this.ui( draggable ) );
		}

	},

	_drop: function( event, custom ) {

		var draggable = custom || $.ui.ddmanager.current,
			childrenIntersection = false;

		// Bail if draggable and droppable are same element
		if ( !draggable || ( draggable.currentItem || draggable.element )[ 0 ] === this.element[ 0 ] ) {
			return false;
		}

		this.element.find( ":data(ui-droppable)" ).not( ".ui-draggable-dragging" ).each(function() {
			var inst = $( this ).droppable( "instance" );
			if (
				inst.options.greedy &&
				!inst.options.disabled &&
				inst.options.scope === draggable.options.scope &&
				inst.accept.call( inst.element[ 0 ], ( draggable.currentItem || draggable.element ) ) &&
				$.ui.intersect( draggable, $.extend( inst, { offset: inst.element.offset() } ), inst.options.tolerance, event )
			) { childrenIntersection = true; return false; }
		});
		if ( childrenIntersection ) {
			return false;
		}

		if ( this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
			if ( this.options.activeClass ) {
				this.element.removeClass( this.options.activeClass );
			}
			if ( this.options.hoverClass ) {
				this.element.removeClass( this.options.hoverClass );
			}
			this._trigger( "drop", event, this.ui( draggable ) );
			return this.element;
		}

		return false;

	},

	ui: function( c ) {
		return {
			draggable: ( c.currentItem || c.element ),
			helper: c.helper,
			position: c.position,
			offset: c.positionAbs
		};
	}

});

$.ui.intersect = (function() {
	function isOverAxis( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	}

	return function( draggable, droppable, toleranceMode, event ) {

		if ( !droppable.offset ) {
			return false;
		}

		var x1 = ( draggable.positionAbs || draggable.position.absolute ).left + draggable.margins.left,
			y1 = ( draggable.positionAbs || draggable.position.absolute ).top + draggable.margins.top,
			x2 = x1 + draggable.helperProportions.width,
			y2 = y1 + draggable.helperProportions.height,
			l = droppable.offset.left,
			t = droppable.offset.top,
			r = l + droppable.proportions().width,
			b = t + droppable.proportions().height;

		switch ( toleranceMode ) {
		case "fit":
			return ( l <= x1 && x2 <= r && t <= y1 && y2 <= b );
		case "intersect":
			return ( l < x1 + ( draggable.helperProportions.width / 2 ) && // Right Half
				x2 - ( draggable.helperProportions.width / 2 ) < r && // Left Half
				t < y1 + ( draggable.helperProportions.height / 2 ) && // Bottom Half
				y2 - ( draggable.helperProportions.height / 2 ) < b ); // Top Half
		case "pointer":
			return isOverAxis( event.pageY, t, droppable.proportions().height ) && isOverAxis( event.pageX, l, droppable.proportions().width );
		case "touch":
			return (
				( y1 >= t && y1 <= b ) || // Top edge touching
				( y2 >= t && y2 <= b ) || // Bottom edge touching
				( y1 < t && y2 > b ) // Surrounded vertically
			) && (
				( x1 >= l && x1 <= r ) || // Left edge touching
				( x2 >= l && x2 <= r ) || // Right edge touching
				( x1 < l && x2 > r ) // Surrounded horizontally
			);
		default:
			return false;
		}
	};
})();

/*
	This manager tracks offsets of draggables and droppables
*/
$.ui.ddmanager = {
	current: null,
	droppables: { "default": [] },
	prepareOffsets: function( t, event ) {

		var i, j,
			m = $.ui.ddmanager.droppables[ t.options.scope ] || [],
			type = event ? event.type : null, // workaround for #2317
			list = ( t.currentItem || t.element ).find( ":data(ui-droppable)" ).addBack();

		droppablesLoop: for ( i = 0; i < m.length; i++ ) {

			// No disabled and non-accepted
			if ( m[ i ].options.disabled || ( t && !m[ i ].accept.call( m[ i ].element[ 0 ], ( t.currentItem || t.element ) ) ) ) {
				continue;
			}

			// Filter out elements in the current dragged item
			for ( j = 0; j < list.length; j++ ) {
				if ( list[ j ] === m[ i ].element[ 0 ] ) {
					m[ i ].proportions().height = 0;
					continue droppablesLoop;
				}
			}

			m[ i ].visible = m[ i ].element.css( "display" ) !== "none";
			if ( !m[ i ].visible ) {
				continue;
			}

			// Activate the droppable if used directly from draggables
			if ( type === "mousedown" ) {
				m[ i ]._activate.call( m[ i ], event );
			}

			m[ i ].offset = m[ i ].element.offset();
			m[ i ].proportions({ width: m[ i ].element[ 0 ].offsetWidth, height: m[ i ].element[ 0 ].offsetHeight });

		}

	},
	drop: function( draggable, event ) {

		var dropped = false;
		// Create a copy of the droppables in case the list changes during the drop (#9116)
		$.each( ( $.ui.ddmanager.droppables[ draggable.options.scope ] || [] ).slice(), function() {

			if ( !this.options ) {
				return;
			}
			if ( !this.options.disabled && this.visible && $.ui.intersect( draggable, this, this.options.tolerance, event ) ) {
				dropped = this._drop.call( this, event ) || dropped;
			}

			if ( !this.options.disabled && this.visible && this.accept.call( this.element[ 0 ], ( draggable.currentItem || draggable.element ) ) ) {
				this.isout = true;
				this.isover = false;
				this._deactivate.call( this, event );
			}

		});
		return dropped;

	},
	dragStart: function( draggable, event ) {
		// Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)
		draggable.element.parentsUntil( "body" ).bind( "scroll.droppable", function() {
			if ( !draggable.options.refreshPositions ) {
				$.ui.ddmanager.prepareOffsets( draggable, event );
			}
		});
	},
	drag: function( draggable, event ) {

		// If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.
		if ( draggable.options.refreshPositions ) {
			$.ui.ddmanager.prepareOffsets( draggable, event );
		}

		// Run through all droppables and check their positions based on specific tolerance options
		$.each( $.ui.ddmanager.droppables[ draggable.options.scope ] || [], function() {

			if ( this.options.disabled || this.greedyChild || !this.visible ) {
				return;
			}

			var parentInstance, scope, parent,
				intersects = $.ui.intersect( draggable, this, this.options.tolerance, event ),
				c = !intersects && this.isover ? "isout" : ( intersects && !this.isover ? "isover" : null );
			if ( !c ) {
				return;
			}

			if ( this.options.greedy ) {
				// find droppable parents with same scope
				scope = this.options.scope;
				parent = this.element.parents( ":data(ui-droppable)" ).filter(function() {
					return $( this ).droppable( "instance" ).options.scope === scope;
				});

				if ( parent.length ) {
					parentInstance = $( parent[ 0 ] ).droppable( "instance" );
					parentInstance.greedyChild = ( c === "isover" );
				}
			}

			// we just moved into a greedy child
			if ( parentInstance && c === "isover" ) {
				parentInstance.isover = false;
				parentInstance.isout = true;
				parentInstance._out.call( parentInstance, event );
			}

			this[ c ] = true;
			this[c === "isout" ? "isover" : "isout"] = false;
			this[c === "isover" ? "_over" : "_out"].call( this, event );

			// we just moved out of a greedy child
			if ( parentInstance && c === "isout" ) {
				parentInstance.isout = false;
				parentInstance.isover = true;
				parentInstance._over.call( parentInstance, event );
			}
		});

	},
	dragStop: function( draggable, event ) {
		draggable.element.parentsUntil( "body" ).unbind( "scroll.droppable" );
		// Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)
		if ( !draggable.options.refreshPositions ) {
			$.ui.ddmanager.prepareOffsets( draggable, event );
		}
	}
};

var droppable = $.ui.droppable;


/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */


var dataSpace = "ui-effects-",

	// Create a local jQuery because jQuery Color relies on it and the
	// global may not exist with AMD and a custom build (#10199)
	jQuery = $;

$.effects = {
	effect: {}
};

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function( jQuery, undefined ) {

	var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",

	// plusequals test for += 100 -= 100
	rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,
	// a set of RE's that can match strings and generate color tuples.
	stringParsers = [ {
			re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ],
					execResult[ 3 ],
					execResult[ 4 ]
				];
			}
		}, {
			re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			parse: function( execResult ) {
				return [
					execResult[ 1 ] * 2.55,
					execResult[ 2 ] * 2.55,
					execResult[ 3 ] * 2.55,
					execResult[ 4 ]
				];
			}
		}, {
			// this regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ], 16 )
				];
			}
		}, {
			// this regex ignores A-F because it's compared against an already lowercased string
			re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
			parse: function( execResult ) {
				return [
					parseInt( execResult[ 1 ] + execResult[ 1 ], 16 ),
					parseInt( execResult[ 2 ] + execResult[ 2 ], 16 ),
					parseInt( execResult[ 3 ] + execResult[ 3 ], 16 )
				];
			}
		}, {
			re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
			space: "hsla",
			parse: function( execResult ) {
				return [
					execResult[ 1 ],
					execResult[ 2 ] / 100,
					execResult[ 3 ] / 100,
					execResult[ 4 ]
				];
			}
		} ],

	// jQuery.Color( )
	color = jQuery.Color = function( color, green, blue, alpha ) {
		return new jQuery.Color.fn.parse( color, green, blue, alpha );
	},
	spaces = {
		rgba: {
			props: {
				red: {
					idx: 0,
					type: "byte"
				},
				green: {
					idx: 1,
					type: "byte"
				},
				blue: {
					idx: 2,
					type: "byte"
				}
			}
		},

		hsla: {
			props: {
				hue: {
					idx: 0,
					type: "degrees"
				},
				saturation: {
					idx: 1,
					type: "percent"
				},
				lightness: {
					idx: 2,
					type: "percent"
				}
			}
		}
	},
	propTypes = {
		"byte": {
			floor: true,
			max: 255
		},
		"percent": {
			max: 1
		},
		"degrees": {
			mod: 360,
			floor: true
		}
	},
	support = color.support = {},

	// element for support tests
	supportElem = jQuery( "<p>" )[ 0 ],

	// colors = jQuery.Color.names
	colors,

	// local aliases of functions called often
	each = jQuery.each;

// determine rgba support immediately
supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
support.rgba = supportElem.style.backgroundColor.indexOf( "rgba" ) > -1;

// define cache name and alpha properties
// for rgba and hsla spaces
each( spaces, function( spaceName, space ) {
	space.cache = "_" + spaceName;
	space.props.alpha = {
		idx: 3,
		type: "percent",
		def: 1
	};
});

function clamp( value, prop, allowEmpty ) {
	var type = propTypes[ prop.type ] || {};

	if ( value == null ) {
		return (allowEmpty || !prop.def) ? null : prop.def;
	}

	// ~~ is an short way of doing floor for positive numbers
	value = type.floor ? ~~value : parseFloat( value );

	// IE will pass in empty strings as value for alpha,
	// which will hit this case
	if ( isNaN( value ) ) {
		return prop.def;
	}

	if ( type.mod ) {
		// we add mod before modding to make sure that negatives values
		// get converted properly: -10 -> 350
		return (value + type.mod) % type.mod;
	}

	// for now all property types without mod have min and max
	return 0 > value ? 0 : type.max < value ? type.max : value;
}

function stringParse( string ) {
	var inst = color(),
		rgba = inst._rgba = [];

	string = string.toLowerCase();

	each( stringParsers, function( i, parser ) {
		var parsed,
			match = parser.re.exec( string ),
			values = match && parser.parse( match ),
			spaceName = parser.space || "rgba";

		if ( values ) {
			parsed = inst[ spaceName ]( values );

			// if this was an rgba parse the assignment might happen twice
			// oh well....
			inst[ spaces[ spaceName ].cache ] = parsed[ spaces[ spaceName ].cache ];
			rgba = inst._rgba = parsed._rgba;

			// exit each( stringParsers ) here because we matched
			return false;
		}
	});

	// Found a stringParser that handled it
	if ( rgba.length ) {

		// if this came from a parsed string, force "transparent" when alpha is 0
		// chrome, (and maybe others) return "transparent" as rgba(0,0,0,0)
		if ( rgba.join() === "0,0,0,0" ) {
			jQuery.extend( rgba, colors.transparent );
		}
		return inst;
	}

	// named colors
	return colors[ string ];
}

color.fn = jQuery.extend( color.prototype, {
	parse: function( red, green, blue, alpha ) {
		if ( red === undefined ) {
			this._rgba = [ null, null, null, null ];
			return this;
		}
		if ( red.jquery || red.nodeType ) {
			red = jQuery( red ).css( green );
			green = undefined;
		}

		var inst = this,
			type = jQuery.type( red ),
			rgba = this._rgba = [];

		// more than 1 argument specified - assume ( red, green, blue, alpha )
		if ( green !== undefined ) {
			red = [ red, green, blue, alpha ];
			type = "array";
		}

		if ( type === "string" ) {
			return this.parse( stringParse( red ) || colors._default );
		}

		if ( type === "array" ) {
			each( spaces.rgba.props, function( key, prop ) {
				rgba[ prop.idx ] = clamp( red[ prop.idx ], prop );
			});
			return this;
		}

		if ( type === "object" ) {
			if ( red instanceof color ) {
				each( spaces, function( spaceName, space ) {
					if ( red[ space.cache ] ) {
						inst[ space.cache ] = red[ space.cache ].slice();
					}
				});
			} else {
				each( spaces, function( spaceName, space ) {
					var cache = space.cache;
					each( space.props, function( key, prop ) {

						// if the cache doesn't exist, and we know how to convert
						if ( !inst[ cache ] && space.to ) {

							// if the value was null, we don't need to copy it
							// if the key was alpha, we don't need to copy it either
							if ( key === "alpha" || red[ key ] == null ) {
								return;
							}
							inst[ cache ] = space.to( inst._rgba );
						}

						// this is the only case where we allow nulls for ALL properties.
						// call clamp with alwaysAllowEmpty
						inst[ cache ][ prop.idx ] = clamp( red[ key ], prop, true );
					});

					// everything defined but alpha?
					if ( inst[ cache ] && jQuery.inArray( null, inst[ cache ].slice( 0, 3 ) ) < 0 ) {
						// use the default of 1
						inst[ cache ][ 3 ] = 1;
						if ( space.from ) {
							inst._rgba = space.from( inst[ cache ] );
						}
					}
				});
			}
			return this;
		}
	},
	is: function( compare ) {
		var is = color( compare ),
			same = true,
			inst = this;

		each( spaces, function( _, space ) {
			var localCache,
				isCache = is[ space.cache ];
			if (isCache) {
				localCache = inst[ space.cache ] || space.to && space.to( inst._rgba ) || [];
				each( space.props, function( _, prop ) {
					if ( isCache[ prop.idx ] != null ) {
						same = ( isCache[ prop.idx ] === localCache[ prop.idx ] );
						return same;
					}
				});
			}
			return same;
		});
		return same;
	},
	_space: function() {
		var used = [],
			inst = this;
		each( spaces, function( spaceName, space ) {
			if ( inst[ space.cache ] ) {
				used.push( spaceName );
			}
		});
		return used.pop();
	},
	transition: function( other, distance ) {
		var end = color( other ),
			spaceName = end._space(),
			space = spaces[ spaceName ],
			startColor = this.alpha() === 0 ? color( "transparent" ) : this,
			start = startColor[ space.cache ] || space.to( startColor._rgba ),
			result = start.slice();

		end = end[ space.cache ];
		each( space.props, function( key, prop ) {
			var index = prop.idx,
				startValue = start[ index ],
				endValue = end[ index ],
				type = propTypes[ prop.type ] || {};

			// if null, don't override start value
			if ( endValue === null ) {
				return;
			}
			// if null - use end
			if ( startValue === null ) {
				result[ index ] = endValue;
			} else {
				if ( type.mod ) {
					if ( endValue - startValue > type.mod / 2 ) {
						startValue += type.mod;
					} else if ( startValue - endValue > type.mod / 2 ) {
						startValue -= type.mod;
					}
				}
				result[ index ] = clamp( ( endValue - startValue ) * distance + startValue, prop );
			}
		});
		return this[ spaceName ]( result );
	},
	blend: function( opaque ) {
		// if we are already opaque - return ourself
		if ( this._rgba[ 3 ] === 1 ) {
			return this;
		}

		var rgb = this._rgba.slice(),
			a = rgb.pop(),
			blend = color( opaque )._rgba;

		return color( jQuery.map( rgb, function( v, i ) {
			return ( 1 - a ) * blend[ i ] + a * v;
		}));
	},
	toRgbaString: function() {
		var prefix = "rgba(",
			rgba = jQuery.map( this._rgba, function( v, i ) {
				return v == null ? ( i > 2 ? 1 : 0 ) : v;
			});

		if ( rgba[ 3 ] === 1 ) {
			rgba.pop();
			prefix = "rgb(";
		}

		return prefix + rgba.join() + ")";
	},
	toHslaString: function() {
		var prefix = "hsla(",
			hsla = jQuery.map( this.hsla(), function( v, i ) {
				if ( v == null ) {
					v = i > 2 ? 1 : 0;
				}

				// catch 1 and 2
				if ( i && i < 3 ) {
					v = Math.round( v * 100 ) + "%";
				}
				return v;
			});

		if ( hsla[ 3 ] === 1 ) {
			hsla.pop();
			prefix = "hsl(";
		}
		return prefix + hsla.join() + ")";
	},
	toHexString: function( includeAlpha ) {
		var rgba = this._rgba.slice(),
			alpha = rgba.pop();

		if ( includeAlpha ) {
			rgba.push( ~~( alpha * 255 ) );
		}

		return "#" + jQuery.map( rgba, function( v ) {

			// default to 0 when nulls exist
			v = ( v || 0 ).toString( 16 );
			return v.length === 1 ? "0" + v : v;
		}).join("");
	},
	toString: function() {
		return this._rgba[ 3 ] === 0 ? "transparent" : this.toRgbaString();
	}
});
color.fn.parse.prototype = color.fn;

// hsla conversions adapted from:
// https://code.google.com/p/maashaack/source/browse/packages/graphics/trunk/src/graphics/colors/HUE2RGB.as?r=5021

function hue2rgb( p, q, h ) {
	h = ( h + 1 ) % 1;
	if ( h * 6 < 1 ) {
		return p + ( q - p ) * h * 6;
	}
	if ( h * 2 < 1) {
		return q;
	}
	if ( h * 3 < 2 ) {
		return p + ( q - p ) * ( ( 2 / 3 ) - h ) * 6;
	}
	return p;
}

spaces.hsla.to = function( rgba ) {
	if ( rgba[ 0 ] == null || rgba[ 1 ] == null || rgba[ 2 ] == null ) {
		return [ null, null, null, rgba[ 3 ] ];
	}
	var r = rgba[ 0 ] / 255,
		g = rgba[ 1 ] / 255,
		b = rgba[ 2 ] / 255,
		a = rgba[ 3 ],
		max = Math.max( r, g, b ),
		min = Math.min( r, g, b ),
		diff = max - min,
		add = max + min,
		l = add * 0.5,
		h, s;

	if ( min === max ) {
		h = 0;
	} else if ( r === max ) {
		h = ( 60 * ( g - b ) / diff ) + 360;
	} else if ( g === max ) {
		h = ( 60 * ( b - r ) / diff ) + 120;
	} else {
		h = ( 60 * ( r - g ) / diff ) + 240;
	}

	// chroma (diff) == 0 means greyscale which, by definition, saturation = 0%
	// otherwise, saturation is based on the ratio of chroma (diff) to lightness (add)
	if ( diff === 0 ) {
		s = 0;
	} else if ( l <= 0.5 ) {
		s = diff / add;
	} else {
		s = diff / ( 2 - add );
	}
	return [ Math.round(h) % 360, s, l, a == null ? 1 : a ];
};

spaces.hsla.from = function( hsla ) {
	if ( hsla[ 0 ] == null || hsla[ 1 ] == null || hsla[ 2 ] == null ) {
		return [ null, null, null, hsla[ 3 ] ];
	}
	var h = hsla[ 0 ] / 360,
		s = hsla[ 1 ],
		l = hsla[ 2 ],
		a = hsla[ 3 ],
		q = l <= 0.5 ? l * ( 1 + s ) : l + s - l * s,
		p = 2 * l - q;

	return [
		Math.round( hue2rgb( p, q, h + ( 1 / 3 ) ) * 255 ),
		Math.round( hue2rgb( p, q, h ) * 255 ),
		Math.round( hue2rgb( p, q, h - ( 1 / 3 ) ) * 255 ),
		a
	];
};

each( spaces, function( spaceName, space ) {
	var props = space.props,
		cache = space.cache,
		to = space.to,
		from = space.from;

	// makes rgba() and hsla()
	color.fn[ spaceName ] = function( value ) {

		// generate a cache for this space if it doesn't exist
		if ( to && !this[ cache ] ) {
			this[ cache ] = to( this._rgba );
		}
		if ( value === undefined ) {
			return this[ cache ].slice();
		}

		var ret,
			type = jQuery.type( value ),
			arr = ( type === "array" || type === "object" ) ? value : arguments,
			local = this[ cache ].slice();

		each( props, function( key, prop ) {
			var val = arr[ type === "object" ? key : prop.idx ];
			if ( val == null ) {
				val = local[ prop.idx ];
			}
			local[ prop.idx ] = clamp( val, prop );
		});

		if ( from ) {
			ret = color( from( local ) );
			ret[ cache ] = local;
			return ret;
		} else {
			return color( local );
		}
	};

	// makes red() green() blue() alpha() hue() saturation() lightness()
	each( props, function( key, prop ) {
		// alpha is included in more than one space
		if ( color.fn[ key ] ) {
			return;
		}
		color.fn[ key ] = function( value ) {
			var vtype = jQuery.type( value ),
				fn = ( key === "alpha" ? ( this._hsla ? "hsla" : "rgba" ) : spaceName ),
				local = this[ fn ](),
				cur = local[ prop.idx ],
				match;

			if ( vtype === "undefined" ) {
				return cur;
			}

			if ( vtype === "function" ) {
				value = value.call( this, cur );
				vtype = jQuery.type( value );
			}
			if ( value == null && prop.empty ) {
				return this;
			}
			if ( vtype === "string" ) {
				match = rplusequals.exec( value );
				if ( match ) {
					value = cur + parseFloat( match[ 2 ] ) * ( match[ 1 ] === "+" ? 1 : -1 );
				}
			}
			local[ prop.idx ] = value;
			return this[ fn ]( local );
		};
	});
});

// add cssHook and .fx.step function for each named hook.
// accept a space separated string of properties
color.hook = function( hook ) {
	var hooks = hook.split( " " );
	each( hooks, function( i, hook ) {
		jQuery.cssHooks[ hook ] = {
			set: function( elem, value ) {
				var parsed, curElem,
					backgroundColor = "";

				if ( value !== "transparent" && ( jQuery.type( value ) !== "string" || ( parsed = stringParse( value ) ) ) ) {
					value = color( parsed || value );
					if ( !support.rgba && value._rgba[ 3 ] !== 1 ) {
						curElem = hook === "backgroundColor" ? elem.parentNode : elem;
						while (
							(backgroundColor === "" || backgroundColor === "transparent") &&
							curElem && curElem.style
						) {
							try {
								backgroundColor = jQuery.css( curElem, "backgroundColor" );
								curElem = curElem.parentNode;
							} catch ( e ) {
							}
						}

						value = value.blend( backgroundColor && backgroundColor !== "transparent" ?
							backgroundColor :
							"_default" );
					}

					value = value.toRgbaString();
				}
				try {
					elem.style[ hook ] = value;
				} catch ( e ) {
					// wrapped to prevent IE from throwing errors on "invalid" values like 'auto' or 'inherit'
				}
			}
		};
		jQuery.fx.step[ hook ] = function( fx ) {
			if ( !fx.colorInit ) {
				fx.start = color( fx.elem, hook );
				fx.end = color( fx.end );
				fx.colorInit = true;
			}
			jQuery.cssHooks[ hook ].set( fx.elem, fx.start.transition( fx.end, fx.pos ) );
		};
	});

};

color.hook( stepHooks );

jQuery.cssHooks.borderColor = {
	expand: function( value ) {
		var expanded = {};

		each( [ "Top", "Right", "Bottom", "Left" ], function( i, part ) {
			expanded[ "border" + part + "Color" ] = value;
		});
		return expanded;
	}
};

// Basic color names only.
// Usage of any of the other color names requires adding yourself or including
// jquery.color.svg-names.js.
colors = jQuery.Color.names = {
	// 4.1. Basic color keywords
	aqua: "#00ffff",
	black: "#000000",
	blue: "#0000ff",
	fuchsia: "#ff00ff",
	gray: "#808080",
	green: "#008000",
	lime: "#00ff00",
	maroon: "#800000",
	navy: "#000080",
	olive: "#808000",
	purple: "#800080",
	red: "#ff0000",
	silver: "#c0c0c0",
	teal: "#008080",
	white: "#ffffff",
	yellow: "#ffff00",

	// 4.2.3. "transparent" color keyword
	transparent: [ null, null, null, 0 ],

	_default: "#ffffff"
};

})( jQuery );

/******************************************************************************/
/****************************** CLASS ANIMATIONS ******************************/
/******************************************************************************/
(function() {

var classAnimationActions = [ "add", "remove", "toggle" ],
	shorthandStyles = {
		border: 1,
		borderBottom: 1,
		borderColor: 1,
		borderLeft: 1,
		borderRight: 1,
		borderTop: 1,
		borderWidth: 1,
		margin: 1,
		padding: 1
	};

$.each([ "borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle" ], function( _, prop ) {
	$.fx.step[ prop ] = function( fx ) {
		if ( fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr ) {
			jQuery.style( fx.elem, prop, fx.end );
			fx.setAttr = true;
		}
	};
});

function getElementStyles( elem ) {
	var key, len,
		style = elem.ownerDocument.defaultView ?
			elem.ownerDocument.defaultView.getComputedStyle( elem, null ) :
			elem.currentStyle,
		styles = {};

	if ( style && style.length && style[ 0 ] && style[ style[ 0 ] ] ) {
		len = style.length;
		while ( len-- ) {
			key = style[ len ];
			if ( typeof style[ key ] === "string" ) {
				styles[ $.camelCase( key ) ] = style[ key ];
			}
		}
	// support: Opera, IE <9
	} else {
		for ( key in style ) {
			if ( typeof style[ key ] === "string" ) {
				styles[ key ] = style[ key ];
			}
		}
	}

	return styles;
}

function styleDifference( oldStyle, newStyle ) {
	var diff = {},
		name, value;

	for ( name in newStyle ) {
		value = newStyle[ name ];
		if ( oldStyle[ name ] !== value ) {
			if ( !shorthandStyles[ name ] ) {
				if ( $.fx.step[ name ] || !isNaN( parseFloat( value ) ) ) {
					diff[ name ] = value;
				}
			}
		}
	}

	return diff;
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

$.effects.animateClass = function( value, duration, easing, callback ) {
	var o = $.speed( duration, easing, callback );

	return this.queue( function() {
		var animated = $( this ),
			baseClass = animated.attr( "class" ) || "",
			applyClassChange,
			allAnimations = o.children ? animated.find( "*" ).addBack() : animated;

		// map the animated objects to store the original styles.
		allAnimations = allAnimations.map(function() {
			var el = $( this );
			return {
				el: el,
				start: getElementStyles( this )
			};
		});

		// apply class change
		applyClassChange = function() {
			$.each( classAnimationActions, function(i, action) {
				if ( value[ action ] ) {
					animated[ action + "Class" ]( value[ action ] );
				}
			});
		};
		applyClassChange();

		// map all animated objects again - calculate new styles and diff
		allAnimations = allAnimations.map(function() {
			this.end = getElementStyles( this.el[ 0 ] );
			this.diff = styleDifference( this.start, this.end );
			return this;
		});

		// apply original class
		animated.attr( "class", baseClass );

		// map all animated objects again - this time collecting a promise
		allAnimations = allAnimations.map(function() {
			var styleInfo = this,
				dfd = $.Deferred(),
				opts = $.extend({}, o, {
					queue: false,
					complete: function() {
						dfd.resolve( styleInfo );
					}
				});

			this.el.animate( this.diff, opts );
			return dfd.promise();
		});

		// once all animations have completed:
		$.when.apply( $, allAnimations.get() ).done(function() {

			// set the final class
			applyClassChange();

			// for each animated element,
			// clear all css properties that were animated
			$.each( arguments, function() {
				var el = this.el;
				$.each( this.diff, function(key) {
					el.css( key, "" );
				});
			});

			// this is guarnteed to be there if you use jQuery.speed()
			// it also handles dequeuing the next anim...
			o.complete.call( animated[ 0 ] );
		});
	});
};

$.fn.extend({
	addClass: (function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return speed ?
				$.effects.animateClass.call( this,
					{ add: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	})( $.fn.addClass ),

	removeClass: (function( orig ) {
		return function( classNames, speed, easing, callback ) {
			return arguments.length > 1 ?
				$.effects.animateClass.call( this,
					{ remove: classNames }, speed, easing, callback ) :
				orig.apply( this, arguments );
		};
	})( $.fn.removeClass ),

	toggleClass: (function( orig ) {
		return function( classNames, force, speed, easing, callback ) {
			if ( typeof force === "boolean" || force === undefined ) {
				if ( !speed ) {
					// without speed parameter
					return orig.apply( this, arguments );
				} else {
					return $.effects.animateClass.call( this,
						(force ? { add: classNames } : { remove: classNames }),
						speed, easing, callback );
				}
			} else {
				// without force parameter
				return $.effects.animateClass.call( this,
					{ toggle: classNames }, force, speed, easing );
			}
		};
	})( $.fn.toggleClass ),

	switchClass: function( remove, add, speed, easing, callback) {
		return $.effects.animateClass.call( this, {
			add: add,
			remove: remove
		}, speed, easing, callback );
	}
});

})();

/******************************************************************************/
/*********************************** EFFECTS **********************************/
/******************************************************************************/

(function() {

$.extend( $.effects, {
	version: "1.11.4",

	// Saves a set of properties in a data storage
	save: function( element, set ) {
		for ( var i = 0; i < set.length; i++ ) {
			if ( set[ i ] !== null ) {
				element.data( dataSpace + set[ i ], element[ 0 ].style[ set[ i ] ] );
			}
		}
	},

	// Restores a set of previously saved properties from a data storage
	restore: function( element, set ) {
		var val, i;
		for ( i = 0; i < set.length; i++ ) {
			if ( set[ i ] !== null ) {
				val = element.data( dataSpace + set[ i ] );
				// support: jQuery 1.6.2
				// http://bugs.jquery.com/ticket/9917
				// jQuery 1.6.2 incorrectly returns undefined for any falsy value.
				// We can't differentiate between "" and 0 here, so we just assume
				// empty string since it's likely to be a more common value...
				if ( val === undefined ) {
					val = "";
				}
				element.css( set[ i ], val );
			}
		}
	},

	setMode: function( el, mode ) {
		if (mode === "toggle") {
			mode = el.is( ":hidden" ) ? "show" : "hide";
		}
		return mode;
	},

	// Translates a [top,left] array into a baseline value
	// this should be a little more flexible in the future to handle a string & hash
	getBaseline: function( origin, original ) {
		var y, x;
		switch ( origin[ 0 ] ) {
			case "top": y = 0; break;
			case "middle": y = 0.5; break;
			case "bottom": y = 1; break;
			default: y = origin[ 0 ] / original.height;
		}
		switch ( origin[ 1 ] ) {
			case "left": x = 0; break;
			case "center": x = 0.5; break;
			case "right": x = 1; break;
			default: x = origin[ 1 ] / original.width;
		}
		return {
			x: x,
			y: y
		};
	},

	// Wraps the element around a wrapper that copies position properties
	createWrapper: function( element ) {

		// if the element is already wrapped, return it
		if ( element.parent().is( ".ui-effects-wrapper" )) {
			return element.parent();
		}

		// wrap the element
		var props = {
				width: element.outerWidth(true),
				height: element.outerHeight(true),
				"float": element.css( "float" )
			},
			wrapper = $( "<div></div>" )
				.addClass( "ui-effects-wrapper" )
				.css({
					fontSize: "100%",
					background: "transparent",
					border: "none",
					margin: 0,
					padding: 0
				}),
			// Store the size in case width/height are defined in % - Fixes #5245
			size = {
				width: element.width(),
				height: element.height()
			},
			active = document.activeElement;

		// support: Firefox
		// Firefox incorrectly exposes anonymous content
		// https://bugzilla.mozilla.org/show_bug.cgi?id=561664
		try {
			active.id;
		} catch ( e ) {
			active = document.body;
		}

		element.wrap( wrapper );

		// Fixes #7595 - Elements lose focus when wrapped.
		if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
			$( active ).focus();
		}

		wrapper = element.parent(); //Hotfix for jQuery 1.4 since some change in wrap() seems to actually lose the reference to the wrapped element

		// transfer positioning properties to the wrapper
		if ( element.css( "position" ) === "static" ) {
			wrapper.css({ position: "relative" });
			element.css({ position: "relative" });
		} else {
			$.extend( props, {
				position: element.css( "position" ),
				zIndex: element.css( "z-index" )
			});
			$.each([ "top", "left", "bottom", "right" ], function(i, pos) {
				props[ pos ] = element.css( pos );
				if ( isNaN( parseInt( props[ pos ], 10 ) ) ) {
					props[ pos ] = "auto";
				}
			});
			element.css({
				position: "relative",
				top: 0,
				left: 0,
				right: "auto",
				bottom: "auto"
			});
		}
		element.css(size);

		return wrapper.css( props ).show();
	},

	removeWrapper: function( element ) {
		var active = document.activeElement;

		if ( element.parent().is( ".ui-effects-wrapper" ) ) {
			element.parent().replaceWith( element );

			// Fixes #7595 - Elements lose focus when wrapped.
			if ( element[ 0 ] === active || $.contains( element[ 0 ], active ) ) {
				$( active ).focus();
			}
		}

		return element;
	},

	setTransition: function( element, list, factor, value ) {
		value = value || {};
		$.each( list, function( i, x ) {
			var unit = element.cssUnit( x );
			if ( unit[ 0 ] > 0 ) {
				value[ x ] = unit[ 0 ] * factor + unit[ 1 ];
			}
		});
		return value;
	}
});

// return an effect options object for the given parameters:
function _normalizeArguments( effect, options, speed, callback ) {

	// allow passing all options as the first parameter
	if ( $.isPlainObject( effect ) ) {
		options = effect;
		effect = effect.effect;
	}

	// convert to an object
	effect = { effect: effect };

	// catch (effect, null, ...)
	if ( options == null ) {
		options = {};
	}

	// catch (effect, callback)
	if ( $.isFunction( options ) ) {
		callback = options;
		speed = null;
		options = {};
	}

	// catch (effect, speed, ?)
	if ( typeof options === "number" || $.fx.speeds[ options ] ) {
		callback = speed;
		speed = options;
		options = {};
	}

	// catch (effect, options, callback)
	if ( $.isFunction( speed ) ) {
		callback = speed;
		speed = null;
	}

	// add options to effect
	if ( options ) {
		$.extend( effect, options );
	}

	speed = speed || options.duration;
	effect.duration = $.fx.off ? 0 :
		typeof speed === "number" ? speed :
		speed in $.fx.speeds ? $.fx.speeds[ speed ] :
		$.fx.speeds._default;

	effect.complete = callback || options.complete;

	return effect;
}

function standardAnimationOption( option ) {
	// Valid standard speeds (nothing, number, named speed)
	if ( !option || typeof option === "number" || $.fx.speeds[ option ] ) {
		return true;
	}

	// Invalid strings - treat as "normal" speed
	if ( typeof option === "string" && !$.effects.effect[ option ] ) {
		return true;
	}

	// Complete callback
	if ( $.isFunction( option ) ) {
		return true;
	}

	// Options hash (but not naming an effect)
	if ( typeof option === "object" && !option.effect ) {
		return true;
	}

	// Didn't match any standard API
	return false;
}

$.fn.extend({
	effect: function( /* effect, options, speed, callback */ ) {
		var args = _normalizeArguments.apply( this, arguments ),
			mode = args.mode,
			queue = args.queue,
			effectMethod = $.effects.effect[ args.effect ];

		if ( $.fx.off || !effectMethod ) {
			// delegate to the original method (e.g., .show()) if possible
			if ( mode ) {
				return this[ mode ]( args.duration, args.complete );
			} else {
				return this.each( function() {
					if ( args.complete ) {
						args.complete.call( this );
					}
				});
			}
		}

		function run( next ) {
			var elem = $( this ),
				complete = args.complete,
				mode = args.mode;

			function done() {
				if ( $.isFunction( complete ) ) {
					complete.call( elem[0] );
				}
				if ( $.isFunction( next ) ) {
					next();
				}
			}

			// If the element already has the correct final state, delegate to
			// the core methods so the internal tracking of "olddisplay" works.
			if ( elem.is( ":hidden" ) ? mode === "hide" : mode === "show" ) {
				elem[ mode ]();
				done();
			} else {
				effectMethod.call( elem[0], args, done );
			}
		}

		return queue === false ? this.each( run ) : this.queue( queue || "fx", run );
	},

	show: (function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "show";
				return this.effect.call( this, args );
			}
		};
	})( $.fn.show ),

	hide: (function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "hide";
				return this.effect.call( this, args );
			}
		};
	})( $.fn.hide ),

	toggle: (function( orig ) {
		return function( option ) {
			if ( standardAnimationOption( option ) || typeof option === "boolean" ) {
				return orig.apply( this, arguments );
			} else {
				var args = _normalizeArguments.apply( this, arguments );
				args.mode = "toggle";
				return this.effect.call( this, args );
			}
		};
	})( $.fn.toggle ),

	// helper functions
	cssUnit: function(key) {
		var style = this.css( key ),
			val = [];

		$.each( [ "em", "px", "%", "pt" ], function( i, unit ) {
			if ( style.indexOf( unit ) > 0 ) {
				val = [ parseFloat( style ), unit ];
			}
		});
		return val;
	}
});

})();

/******************************************************************************/
/*********************************** EASING ***********************************/
/******************************************************************************/

(function() {

// based on easing equations from Robert Penner (http://www.robertpenner.com/easing)

var baseEasings = {};

$.each( [ "Quad", "Cubic", "Quart", "Quint", "Expo" ], function( i, name ) {
	baseEasings[ name ] = function( p ) {
		return Math.pow( p, i + 2 );
	};
});

$.extend( baseEasings, {
	Sine: function( p ) {
		return 1 - Math.cos( p * Math.PI / 2 );
	},
	Circ: function( p ) {
		return 1 - Math.sqrt( 1 - p * p );
	},
	Elastic: function( p ) {
		return p === 0 || p === 1 ? p :
			-Math.pow( 2, 8 * (p - 1) ) * Math.sin( ( (p - 1) * 80 - 7.5 ) * Math.PI / 15 );
	},
	Back: function( p ) {
		return p * p * ( 3 * p - 2 );
	},
	Bounce: function( p ) {
		var pow2,
			bounce = 4;

		while ( p < ( ( pow2 = Math.pow( 2, --bounce ) ) - 1 ) / 11 ) {}
		return 1 / Math.pow( 4, 3 - bounce ) - 7.5625 * Math.pow( ( pow2 * 3 - 2 ) / 22 - p, 2 );
	}
});

$.each( baseEasings, function( name, easeIn ) {
	$.easing[ "easeIn" + name ] = easeIn;
	$.easing[ "easeOut" + name ] = function( p ) {
		return 1 - easeIn( 1 - p );
	};
	$.easing[ "easeInOut" + name ] = function( p ) {
		return p < 0.5 ?
			easeIn( p * 2 ) / 2 :
			1 - easeIn( p * -2 + 2 ) / 2;
	};
});

})();

var effect = $.effects;


/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */


var effectBlind = $.effects.effect.blind = function( o, done ) {
	// Create element
	var el = $( this ),
		rvertical = /up|down|vertical/,
		rpositivemotion = /up|left|vertical|horizontal/,
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		direction = o.direction || "up",
		vertical = rvertical.test( direction ),
		ref = vertical ? "height" : "width",
		ref2 = vertical ? "top" : "left",
		motion = rpositivemotion.test( direction ),
		animation = {},
		show = mode === "show",
		wrapper, distance, margin;

	// if already wrapped, the wrapper's properties are my property. #6245
	if ( el.parent().is( ".ui-effects-wrapper" ) ) {
		$.effects.save( el.parent(), props );
	} else {
		$.effects.save( el, props );
	}
	el.show();
	wrapper = $.effects.createWrapper( el ).css({
		overflow: "hidden"
	});

	distance = wrapper[ ref ]();
	margin = parseFloat( wrapper.css( ref2 ) ) || 0;

	animation[ ref ] = show ? distance : 0;
	if ( !motion ) {
		el
			.css( vertical ? "bottom" : "right", 0 )
			.css( vertical ? "top" : "left", "auto" )
			.css({ position: "absolute" });

		animation[ ref2 ] = show ? margin : distance + margin;
	}

	// start at 0 if we are showing
	if ( show ) {
		wrapper.css( ref, 0 );
		if ( !motion ) {
			wrapper.css( ref2, margin + distance );
		}
	}

	// Animate
	wrapper.animate( animation, {
		duration: o.duration,
		easing: o.easing,
		queue: false,
		complete: function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});
};


/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */


var effectBounce = $.effects.effect.bounce = function( o, done ) {
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],

		// defaults:
		mode = $.effects.setMode( el, o.mode || "effect" ),
		hide = mode === "hide",
		show = mode === "show",
		direction = o.direction || "up",
		distance = o.distance,
		times = o.times || 5,

		// number of internal animations
		anims = times * 2 + ( show || hide ? 1 : 0 ),
		speed = o.duration / anims,
		easing = o.easing,

		// utility:
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ),
		i,
		upAnim,
		downAnim,

		// we will need to re-assemble the queue to stack our animations in place
		queue = el.queue(),
		queuelen = queue.length;

	// Avoid touching opacity to prevent clearType and PNG issues in IE
	if ( show || hide ) {
		props.push( "opacity" );
	}

	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el ); // Create Wrapper

	// default distance for the BIGGEST bounce is the outer Distance / 3
	if ( !distance ) {
		distance = el[ ref === "top" ? "outerHeight" : "outerWidth" ]() / 3;
	}

	if ( show ) {
		downAnim = { opacity: 1 };
		downAnim[ ref ] = 0;

		// if we are showing, force opacity 0 and set the initial position
		// then do the "first" animation
		el.css( "opacity", 0 )
			.css( ref, motion ? -distance * 2 : distance * 2 )
			.animate( downAnim, speed, easing );
	}

	// start at the smallest distance if we are hiding
	if ( hide ) {
		distance = distance / Math.pow( 2, times - 1 );
	}

	downAnim = {};
	downAnim[ ref ] = 0;
	// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here
	for ( i = 0; i < times; i++ ) {
		upAnim = {};
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		el.animate( upAnim, speed, easing )
			.animate( downAnim, speed, easing );

		distance = hide ? distance * 2 : distance / 2;
	}

	// Last Bounce when Hiding
	if ( hide ) {
		upAnim = { opacity: 0 };
		upAnim[ ref ] = ( motion ? "-=" : "+=" ) + distance;

		el.animate( upAnim, speed, easing );
	}

	el.queue(function() {
		if ( hide ) {
			el.hide();
		}
		$.effects.restore( el, props );
		$.effects.removeWrapper( el );
		done();
	});

	// inject all the animations we just queued to be first in line (after "inprogress")
	if ( queuelen > 1) {
		queue.splice.apply( queue,
			[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );
	}
	el.dequeue();

};


/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */


var effectClip = $.effects.effect.clip = function( o, done ) {
	// Create element
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",
		direction = o.direction || "vertical",
		vert = direction === "vertical",
		size = vert ? "height" : "width",
		position = vert ? "top" : "left",
		animation = {},
		wrapper, animate, distance;

	// Save & Show
	$.effects.save( el, props );
	el.show();

	// Create Wrapper
	wrapper = $.effects.createWrapper( el ).css({
		overflow: "hidden"
	});
	animate = ( el[0].tagName === "IMG" ) ? wrapper : el;
	distance = animate[ size ]();

	// Shift
	if ( show ) {
		animate.css( size, 0 );
		animate.css( position, distance / 2 );
	}

	// Create Animation Object:
	animation[ size ] = show ? distance : 0;
	animation[ position ] = show ? 0 : distance / 2;

	// Animate
	animate.animate( animation, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( !show ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});

};


/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */


var effectDrop = $.effects.effect.drop = function( o, done ) {

	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "opacity", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",
		direction = o.direction || "left",
		ref = ( direction === "up" || direction === "down" ) ? "top" : "left",
		motion = ( direction === "up" || direction === "left" ) ? "pos" : "neg",
		animation = {
			opacity: show ? 1 : 0
		},
		distance;

	// Adjust
	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el );

	distance = o.distance || el[ ref === "top" ? "outerHeight" : "outerWidth" ]( true ) / 2;

	if ( show ) {
		el
			.css( "opacity", 0 )
			.css( ref, motion === "pos" ? -distance : distance );
	}

	// Animation
	animation[ ref ] = ( show ?
		( motion === "pos" ? "+=" : "-=" ) :
		( motion === "pos" ? "-=" : "+=" ) ) +
		distance;

	// Animate
	el.animate( animation, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});
};


/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */


var effectExplode = $.effects.effect.explode = function( o, done ) {

	var rows = o.pieces ? Math.round( Math.sqrt( o.pieces ) ) : 3,
		cells = rows,
		el = $( this ),
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",

		// show and then visibility:hidden the element before calculating offset
		offset = el.show().css( "visibility", "hidden" ).offset(),

		// width and height of a piece
		width = Math.ceil( el.outerWidth() / cells ),
		height = Math.ceil( el.outerHeight() / rows ),
		pieces = [],

		// loop
		i, j, left, top, mx, my;

	// children animate complete:
	function childComplete() {
		pieces.push( this );
		if ( pieces.length === rows * cells ) {
			animComplete();
		}
	}

	// clone the element for each row and cell.
	for ( i = 0; i < rows ; i++ ) { // ===>
		top = offset.top + i * height;
		my = i - ( rows - 1 ) / 2 ;

		for ( j = 0; j < cells ; j++ ) { // |||
			left = offset.left + j * width;
			mx = j - ( cells - 1 ) / 2 ;

			// Create a clone of the now hidden main element that will be absolute positioned
			// within a wrapper div off the -left and -top equal to size of our pieces
			el
				.clone()
				.appendTo( "body" )
				.wrap( "<div></div>" )
				.css({
					position: "absolute",
					visibility: "visible",
					left: -j * width,
					top: -i * height
				})

			// select the wrapper - make it overflow: hidden and absolute positioned based on
			// where the original was located +left and +top equal to the size of pieces
				.parent()
				.addClass( "ui-effects-explode" )
				.css({
					position: "absolute",
					overflow: "hidden",
					width: width,
					height: height,
					left: left + ( show ? mx * width : 0 ),
					top: top + ( show ? my * height : 0 ),
					opacity: show ? 0 : 1
				}).animate({
					left: left + ( show ? 0 : mx * width ),
					top: top + ( show ? 0 : my * height ),
					opacity: show ? 1 : 0
				}, o.duration || 500, o.easing, childComplete );
		}
	}

	function animComplete() {
		el.css({
			visibility: "visible"
		});
		$( pieces ).remove();
		if ( !show ) {
			el.hide();
		}
		done();
	}
};


/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */


var effectFade = $.effects.effect.fade = function( o, done ) {
	var el = $( this ),
		mode = $.effects.setMode( el, o.mode || "toggle" );

	el.animate({
		opacity: mode
	}, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: done
	});
};


/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */


var effectFold = $.effects.effect.fold = function( o, done ) {

	// Create element
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "hide" ),
		show = mode === "show",
		hide = mode === "hide",
		size = o.size || 15,
		percent = /([0-9]+)%/.exec( size ),
		horizFirst = !!o.horizFirst,
		widthFirst = show !== horizFirst,
		ref = widthFirst ? [ "width", "height" ] : [ "height", "width" ],
		duration = o.duration / 2,
		wrapper, distance,
		animation1 = {},
		animation2 = {};

	$.effects.save( el, props );
	el.show();

	// Create Wrapper
	wrapper = $.effects.createWrapper( el ).css({
		overflow: "hidden"
	});
	distance = widthFirst ?
		[ wrapper.width(), wrapper.height() ] :
		[ wrapper.height(), wrapper.width() ];

	if ( percent ) {
		size = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];
	}
	if ( show ) {
		wrapper.css( horizFirst ? {
			height: 0,
			width: size
		} : {
			height: size,
			width: 0
		});
	}

	// Animation
	animation1[ ref[ 0 ] ] = show ? distance[ 0 ] : size;
	animation2[ ref[ 1 ] ] = show ? distance[ 1 ] : 0;

	// Animate
	wrapper
		.animate( animation1, duration, o.easing )
		.animate( animation2, duration, o.easing, function() {
			if ( hide ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		});

};


/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */


var effectHighlight = $.effects.effect.highlight = function( o, done ) {
	var elem = $( this ),
		props = [ "backgroundImage", "backgroundColor", "opacity" ],
		mode = $.effects.setMode( elem, o.mode || "show" ),
		animation = {
			backgroundColor: elem.css( "backgroundColor" )
		};

	if (mode === "hide") {
		animation.opacity = 0;
	}

	$.effects.save( elem, props );

	elem
		.show()
		.css({
			backgroundImage: "none",
			backgroundColor: o.color || "#ffff99"
		})
		.animate( animation, {
			queue: false,
			duration: o.duration,
			easing: o.easing,
			complete: function() {
				if ( mode === "hide" ) {
					elem.hide();
				}
				$.effects.restore( elem, props );
				done();
			}
		});
};


/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */


var effectSize = $.effects.effect.size = function( o, done ) {

	// Create element
	var original, baseline, factor,
		el = $( this ),
		props0 = [ "position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity" ],

		// Always restore
		props1 = [ "position", "top", "bottom", "left", "right", "overflow", "opacity" ],

		// Copy for children
		props2 = [ "width", "height", "overflow" ],
		cProps = [ "fontSize" ],
		vProps = [ "borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom" ],
		hProps = [ "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight" ],

		// Set options
		mode = $.effects.setMode( el, o.mode || "effect" ),
		restore = o.restore || mode !== "effect",
		scale = o.scale || "both",
		origin = o.origin || [ "middle", "center" ],
		position = el.css( "position" ),
		props = restore ? props0 : props1,
		zero = {
			height: 0,
			width: 0,
			outerHeight: 0,
			outerWidth: 0
		};

	if ( mode === "show" ) {
		el.show();
	}
	original = {
		height: el.height(),
		width: el.width(),
		outerHeight: el.outerHeight(),
		outerWidth: el.outerWidth()
	};

	if ( o.mode === "toggle" && mode === "show" ) {
		el.from = o.to || zero;
		el.to = o.from || original;
	} else {
		el.from = o.from || ( mode === "show" ? zero : original );
		el.to = o.to || ( mode === "hide" ? zero : original );
	}

	// Set scaling factor
	factor = {
		from: {
			y: el.from.height / original.height,
			x: el.from.width / original.width
		},
		to: {
			y: el.to.height / original.height,
			x: el.to.width / original.width
		}
	};

	// Scale the css box
	if ( scale === "box" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			props = props.concat( vProps );
			el.from = $.effects.setTransition( el, vProps, factor.from.y, el.from );
			el.to = $.effects.setTransition( el, vProps, factor.to.y, el.to );
		}

		// Horizontal props scaling
		if ( factor.from.x !== factor.to.x ) {
			props = props.concat( hProps );
			el.from = $.effects.setTransition( el, hProps, factor.from.x, el.from );
			el.to = $.effects.setTransition( el, hProps, factor.to.x, el.to );
		}
	}

	// Scale the content
	if ( scale === "content" || scale === "both" ) {

		// Vertical props scaling
		if ( factor.from.y !== factor.to.y ) {
			props = props.concat( cProps ).concat( props2 );
			el.from = $.effects.setTransition( el, cProps, factor.from.y, el.from );
			el.to = $.effects.setTransition( el, cProps, factor.to.y, el.to );
		}
	}

	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el );
	el.css( "overflow", "hidden" ).css( el.from );

	// Adjust
	if (origin) { // Calculate baseline shifts
		baseline = $.effects.getBaseline( origin, original );
		el.from.top = ( original.outerHeight - el.outerHeight() ) * baseline.y;
		el.from.left = ( original.outerWidth - el.outerWidth() ) * baseline.x;
		el.to.top = ( original.outerHeight - el.to.outerHeight ) * baseline.y;
		el.to.left = ( original.outerWidth - el.to.outerWidth ) * baseline.x;
	}
	el.css( el.from ); // set top & left

	// Animate
	if ( scale === "content" || scale === "both" ) { // Scale the children

		// Add margins/font-size
		vProps = vProps.concat([ "marginTop", "marginBottom" ]).concat(cProps);
		hProps = hProps.concat([ "marginLeft", "marginRight" ]);
		props2 = props0.concat(vProps).concat(hProps);

		el.find( "*[width]" ).each( function() {
			var child = $( this ),
				c_original = {
					height: child.height(),
					width: child.width(),
					outerHeight: child.outerHeight(),
					outerWidth: child.outerWidth()
				};
			if (restore) {
				$.effects.save(child, props2);
			}

			child.from = {
				height: c_original.height * factor.from.y,
				width: c_original.width * factor.from.x,
				outerHeight: c_original.outerHeight * factor.from.y,
				outerWidth: c_original.outerWidth * factor.from.x
			};
			child.to = {
				height: c_original.height * factor.to.y,
				width: c_original.width * factor.to.x,
				outerHeight: c_original.height * factor.to.y,
				outerWidth: c_original.width * factor.to.x
			};

			// Vertical props scaling
			if ( factor.from.y !== factor.to.y ) {
				child.from = $.effects.setTransition( child, vProps, factor.from.y, child.from );
				child.to = $.effects.setTransition( child, vProps, factor.to.y, child.to );
			}

			// Horizontal props scaling
			if ( factor.from.x !== factor.to.x ) {
				child.from = $.effects.setTransition( child, hProps, factor.from.x, child.from );
				child.to = $.effects.setTransition( child, hProps, factor.to.x, child.to );
			}

			// Animate children
			child.css( child.from );
			child.animate( child.to, o.duration, o.easing, function() {

				// Restore children
				if ( restore ) {
					$.effects.restore( child, props2 );
				}
			});
		});
	}

	// Animate
	el.animate( el.to, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( el.to.opacity === 0 ) {
				el.css( "opacity", el.from.opacity );
			}
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			if ( !restore ) {

				// we need to calculate our new positioning based on the scaling
				if ( position === "static" ) {
					el.css({
						position: "relative",
						top: el.to.top,
						left: el.to.left
					});
				} else {
					$.each([ "top", "left" ], function( idx, pos ) {
						el.css( pos, function( _, str ) {
							var val = parseInt( str, 10 ),
								toRef = idx ? el.to.left : el.to.top;

							// if original was "auto", recalculate the new value from wrapper
							if ( str === "auto" ) {
								return toRef + "px";
							}

							return val + toRef + "px";
						});
					});
				}
			}

			$.effects.removeWrapper( el );
			done();
		}
	});

};


/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */


var effectScale = $.effects.effect.scale = function( o, done ) {

	// Create element
	var el = $( this ),
		options = $.extend( true, {}, o ),
		mode = $.effects.setMode( el, o.mode || "effect" ),
		percent = parseInt( o.percent, 10 ) ||
			( parseInt( o.percent, 10 ) === 0 ? 0 : ( mode === "hide" ? 0 : 100 ) ),
		direction = o.direction || "both",
		origin = o.origin,
		original = {
			height: el.height(),
			width: el.width(),
			outerHeight: el.outerHeight(),
			outerWidth: el.outerWidth()
		},
		factor = {
			y: direction !== "horizontal" ? (percent / 100) : 1,
			x: direction !== "vertical" ? (percent / 100) : 1
		};

	// We are going to pass this effect to the size effect:
	options.effect = "size";
	options.queue = false;
	options.complete = done;

	// Set default origin and restore for show/hide
	if ( mode !== "effect" ) {
		options.origin = origin || [ "middle", "center" ];
		options.restore = true;
	}

	options.from = o.from || ( mode === "show" ? {
		height: 0,
		width: 0,
		outerHeight: 0,
		outerWidth: 0
	} : original );
	options.to = {
		height: original.height * factor.y,
		width: original.width * factor.x,
		outerHeight: original.outerHeight * factor.y,
		outerWidth: original.outerWidth * factor.x
	};

	// Fade option to support puff
	if ( options.fade ) {
		if ( mode === "show" ) {
			options.from.opacity = 0;
			options.to.opacity = 1;
		}
		if ( mode === "hide" ) {
			options.from.opacity = 1;
			options.to.opacity = 0;
		}
	}

	// Animate
	el.effect( options );

};


/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */


var effectPuff = $.effects.effect.puff = function( o, done ) {
	var elem = $( this ),
		mode = $.effects.setMode( elem, o.mode || "hide" ),
		hide = mode === "hide",
		percent = parseInt( o.percent, 10 ) || 150,
		factor = percent / 100,
		original = {
			height: elem.height(),
			width: elem.width(),
			outerHeight: elem.outerHeight(),
			outerWidth: elem.outerWidth()
		};

	$.extend( o, {
		effect: "scale",
		queue: false,
		fade: true,
		mode: mode,
		complete: done,
		percent: hide ? percent : 100,
		from: hide ?
			original :
			{
				height: original.height * factor,
				width: original.width * factor,
				outerHeight: original.outerHeight * factor,
				outerWidth: original.outerWidth * factor
			}
	});

	elem.effect( o );
};


/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */


var effectPulsate = $.effects.effect.pulsate = function( o, done ) {
	var elem = $( this ),
		mode = $.effects.setMode( elem, o.mode || "show" ),
		show = mode === "show",
		hide = mode === "hide",
		showhide = ( show || mode === "hide" ),

		// showing or hiding leaves of the "last" animation
		anims = ( ( o.times || 5 ) * 2 ) + ( showhide ? 1 : 0 ),
		duration = o.duration / anims,
		animateTo = 0,
		queue = elem.queue(),
		queuelen = queue.length,
		i;

	if ( show || !elem.is(":visible")) {
		elem.css( "opacity", 0 ).show();
		animateTo = 1;
	}

	// anims - 1 opacity "toggles"
	for ( i = 1; i < anims; i++ ) {
		elem.animate({
			opacity: animateTo
		}, duration, o.easing );
		animateTo = 1 - animateTo;
	}

	elem.animate({
		opacity: animateTo
	}, duration, o.easing);

	elem.queue(function() {
		if ( hide ) {
			elem.hide();
		}
		done();
	});

	// We just queued up "anims" animations, we need to put them next in the queue
	if ( queuelen > 1 ) {
		queue.splice.apply( queue,
			[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );
	}
	elem.dequeue();
};


/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */


var effectShake = $.effects.effect.shake = function( o, done ) {

	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "height", "width" ],
		mode = $.effects.setMode( el, o.mode || "effect" ),
		direction = o.direction || "left",
		distance = o.distance || 20,
		times = o.times || 3,
		anims = times * 2 + 1,
		speed = Math.round( o.duration / anims ),
		ref = (direction === "up" || direction === "down") ? "top" : "left",
		positiveMotion = (direction === "up" || direction === "left"),
		animation = {},
		animation1 = {},
		animation2 = {},
		i,

		// we will need to re-assemble the queue to stack our animations in place
		queue = el.queue(),
		queuelen = queue.length;

	$.effects.save( el, props );
	el.show();
	$.effects.createWrapper( el );

	// Animation
	animation[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance;
	animation1[ ref ] = ( positiveMotion ? "+=" : "-=" ) + distance * 2;
	animation2[ ref ] = ( positiveMotion ? "-=" : "+=" ) + distance * 2;

	// Animate
	el.animate( animation, speed, o.easing );

	// Shakes
	for ( i = 1; i < times; i++ ) {
		el.animate( animation1, speed, o.easing ).animate( animation2, speed, o.easing );
	}
	el
		.animate( animation1, speed, o.easing )
		.animate( animation, speed / 2, o.easing )
		.queue(function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		});

	// inject all the animations we just queued to be first in line (after "inprogress")
	if ( queuelen > 1) {
		queue.splice.apply( queue,
			[ 1, 0 ].concat( queue.splice( queuelen, anims + 1 ) ) );
	}
	el.dequeue();

};


/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */


var effectSlide = $.effects.effect.slide = function( o, done ) {

	// Create element
	var el = $( this ),
		props = [ "position", "top", "bottom", "left", "right", "width", "height" ],
		mode = $.effects.setMode( el, o.mode || "show" ),
		show = mode === "show",
		direction = o.direction || "left",
		ref = (direction === "up" || direction === "down") ? "top" : "left",
		positiveMotion = (direction === "up" || direction === "left"),
		distance,
		animation = {};

	// Adjust
	$.effects.save( el, props );
	el.show();
	distance = o.distance || el[ ref === "top" ? "outerHeight" : "outerWidth" ]( true );

	$.effects.createWrapper( el ).css({
		overflow: "hidden"
	});

	if ( show ) {
		el.css( ref, positiveMotion ? (isNaN(distance) ? "-" + distance : -distance) : distance );
	}

	// Animation
	animation[ ref ] = ( show ?
		( positiveMotion ? "+=" : "-=") :
		( positiveMotion ? "-=" : "+=")) +
		distance;

	// Animate
	el.animate( animation, {
		queue: false,
		duration: o.duration,
		easing: o.easing,
		complete: function() {
			if ( mode === "hide" ) {
				el.hide();
			}
			$.effects.restore( el, props );
			$.effects.removeWrapper( el );
			done();
		}
	});
};


/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */


var effectTransfer = $.effects.effect.transfer = function( o, done ) {
	var elem = $( this ),
		target = $( o.to ),
		targetFixed = target.css( "position" ) === "fixed",
		body = $("body"),
		fixTop = targetFixed ? body.scrollTop() : 0,
		fixLeft = targetFixed ? body.scrollLeft() : 0,
		endPosition = target.offset(),
		animation = {
			top: endPosition.top - fixTop,
			left: endPosition.left - fixLeft,
			height: target.innerHeight(),
			width: target.innerWidth()
		},
		startPosition = elem.offset(),
		transfer = $( "<div class='ui-effects-transfer'></div>" )
			.appendTo( document.body )
			.addClass( o.className )
			.css({
				top: startPosition.top - fixTop,
				left: startPosition.left - fixLeft,
				height: elem.innerHeight(),
				width: elem.innerWidth(),
				position: targetFixed ? "fixed" : "absolute"
			})
			.animate( animation, o.duration, o.easing, function() {
				transfer.remove();
				done();
			});
};


/*!
 * jQuery UI Progressbar 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 */


var progressbar = $.widget( "ui.progressbar", {
	version: "1.11.4",
	options: {
		max: 100,
		value: 0,

		change: null,
		complete: null
	},

	min: 0,

	_create: function() {
		// Constrain initial value
		this.oldValue = this.options.value = this._constrainedValue();

		this.element
			.addClass( "ui-progressbar ui-widget ui-widget-content ui-corner-all" )
			.attr({
				// Only set static values, aria-valuenow and aria-valuemax are
				// set inside _refreshValue()
				role: "progressbar",
				"aria-valuemin": this.min
			});

		this.valueDiv = $( "<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>" )
			.appendTo( this.element );

		this._refreshValue();
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-progressbar ui-widget ui-widget-content ui-corner-all" )
			.removeAttr( "role" )
			.removeAttr( "aria-valuemin" )
			.removeAttr( "aria-valuemax" )
			.removeAttr( "aria-valuenow" );

		this.valueDiv.remove();
	},

	value: function( newValue ) {
		if ( newValue === undefined ) {
			return this.options.value;
		}

		this.options.value = this._constrainedValue( newValue );
		this._refreshValue();
	},

	_constrainedValue: function( newValue ) {
		if ( newValue === undefined ) {
			newValue = this.options.value;
		}

		this.indeterminate = newValue === false;

		// sanitize value
		if ( typeof newValue !== "number" ) {
			newValue = 0;
		}

		return this.indeterminate ? false :
			Math.min( this.options.max, Math.max( this.min, newValue ) );
	},

	_setOptions: function( options ) {
		// Ensure "value" option is set after other values (like max)
		var value = options.value;
		delete options.value;

		this._super( options );

		this.options.value = this._constrainedValue( value );
		this._refreshValue();
	},

	_setOption: function( key, value ) {
		if ( key === "max" ) {
			// Don't allow a max less than min
			value = Math.max( this.min, value );
		}
		if ( key === "disabled" ) {
			this.element
				.toggleClass( "ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
		}
		this._super( key, value );
	},

	_percentage: function() {
		return this.indeterminate ? 100 : 100 * ( this.options.value - this.min ) / ( this.options.max - this.min );
	},

	_refreshValue: function() {
		var value = this.options.value,
			percentage = this._percentage();

		this.valueDiv
			.toggle( this.indeterminate || value > this.min )
			.toggleClass( "ui-corner-right", value === this.options.max )
			.width( percentage.toFixed(0) + "%" );

		this.element.toggleClass( "ui-progressbar-indeterminate", this.indeterminate );

		if ( this.indeterminate ) {
			this.element.removeAttr( "aria-valuenow" );
			if ( !this.overlayDiv ) {
				this.overlayDiv = $( "<div class='ui-progressbar-overlay'></div>" ).appendTo( this.valueDiv );
			}
		} else {
			this.element.attr({
				"aria-valuemax": this.options.max,
				"aria-valuenow": value
			});
			if ( this.overlayDiv ) {
				this.overlayDiv.remove();
				this.overlayDiv = null;
			}
		}

		if ( this.oldValue !== value ) {
			this.oldValue = value;
			this._trigger( "change" );
		}
		if ( value === this.options.max ) {
			this._trigger( "complete" );
		}
	}
});


/*!
 * jQuery UI Selectable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */


var selectable = $.widget("ui.selectable", $.ui.mouse, {
	version: "1.11.4",
	options: {
		appendTo: "body",
		autoRefresh: true,
		distance: 0,
		filter: "*",
		tolerance: "touch",

		// callbacks
		selected: null,
		selecting: null,
		start: null,
		stop: null,
		unselected: null,
		unselecting: null
	},
	_create: function() {
		var selectees,
			that = this;

		this.element.addClass("ui-selectable");

		this.dragged = false;

		// cache selectee children based on filter
		this.refresh = function() {
			selectees = $(that.options.filter, that.element[0]);
			selectees.addClass("ui-selectee");
			selectees.each(function() {
				var $this = $(this),
					pos = $this.offset();
				$.data(this, "selectable-item", {
					element: this,
					$element: $this,
					left: pos.left,
					top: pos.top,
					right: pos.left + $this.outerWidth(),
					bottom: pos.top + $this.outerHeight(),
					startselected: false,
					selected: $this.hasClass("ui-selected"),
					selecting: $this.hasClass("ui-selecting"),
					unselecting: $this.hasClass("ui-unselecting")
				});
			});
		};
		this.refresh();

		this.selectees = selectees.addClass("ui-selectee");

		this._mouseInit();

		this.helper = $("<div class='ui-selectable-helper'></div>");
	},

	_destroy: function() {
		this.selectees
			.removeClass("ui-selectee")
			.removeData("selectable-item");
		this.element
			.removeClass("ui-selectable ui-selectable-disabled");
		this._mouseDestroy();
	},

	_mouseStart: function(event) {
		var that = this,
			options = this.options;

		this.opos = [ event.pageX, event.pageY ];

		if (this.options.disabled) {
			return;
		}

		this.selectees = $(options.filter, this.element[0]);

		this._trigger("start", event);

		$(options.appendTo).append(this.helper);
		// position helper (lasso)
		this.helper.css({
			"left": event.pageX,
			"top": event.pageY,
			"width": 0,
			"height": 0
		});

		if (options.autoRefresh) {
			this.refresh();
		}

		this.selectees.filter(".ui-selected").each(function() {
			var selectee = $.data(this, "selectable-item");
			selectee.startselected = true;
			if (!event.metaKey && !event.ctrlKey) {
				selectee.$element.removeClass("ui-selected");
				selectee.selected = false;
				selectee.$element.addClass("ui-unselecting");
				selectee.unselecting = true;
				// selectable UNSELECTING callback
				that._trigger("unselecting", event, {
					unselecting: selectee.element
				});
			}
		});

		$(event.target).parents().addBack().each(function() {
			var doSelect,
				selectee = $.data(this, "selectable-item");
			if (selectee) {
				doSelect = (!event.metaKey && !event.ctrlKey) || !selectee.$element.hasClass("ui-selected");
				selectee.$element
					.removeClass(doSelect ? "ui-unselecting" : "ui-selected")
					.addClass(doSelect ? "ui-selecting" : "ui-unselecting");
				selectee.unselecting = !doSelect;
				selectee.selecting = doSelect;
				selectee.selected = doSelect;
				// selectable (UN)SELECTING callback
				if (doSelect) {
					that._trigger("selecting", event, {
						selecting: selectee.element
					});
				} else {
					that._trigger("unselecting", event, {
						unselecting: selectee.element
					});
				}
				return false;
			}
		});

	},

	_mouseDrag: function(event) {

		this.dragged = true;

		if (this.options.disabled) {
			return;
		}

		var tmp,
			that = this,
			options = this.options,
			x1 = this.opos[0],
			y1 = this.opos[1],
			x2 = event.pageX,
			y2 = event.pageY;

		if (x1 > x2) { tmp = x2; x2 = x1; x1 = tmp; }
		if (y1 > y2) { tmp = y2; y2 = y1; y1 = tmp; }
		this.helper.css({ left: x1, top: y1, width: x2 - x1, height: y2 - y1 });

		this.selectees.each(function() {
			var selectee = $.data(this, "selectable-item"),
				hit = false;

			//prevent helper from being selected if appendTo: selectable
			if (!selectee || selectee.element === that.element[0]) {
				return;
			}

			if (options.tolerance === "touch") {
				hit = ( !(selectee.left > x2 || selectee.right < x1 || selectee.top > y2 || selectee.bottom < y1) );
			} else if (options.tolerance === "fit") {
				hit = (selectee.left > x1 && selectee.right < x2 && selectee.top > y1 && selectee.bottom < y2);
			}

			if (hit) {
				// SELECT
				if (selectee.selected) {
					selectee.$element.removeClass("ui-selected");
					selectee.selected = false;
				}
				if (selectee.unselecting) {
					selectee.$element.removeClass("ui-unselecting");
					selectee.unselecting = false;
				}
				if (!selectee.selecting) {
					selectee.$element.addClass("ui-selecting");
					selectee.selecting = true;
					// selectable SELECTING callback
					that._trigger("selecting", event, {
						selecting: selectee.element
					});
				}
			} else {
				// UNSELECT
				if (selectee.selecting) {
					if ((event.metaKey || event.ctrlKey) && selectee.startselected) {
						selectee.$element.removeClass("ui-selecting");
						selectee.selecting = false;
						selectee.$element.addClass("ui-selected");
						selectee.selected = true;
					} else {
						selectee.$element.removeClass("ui-selecting");
						selectee.selecting = false;
						if (selectee.startselected) {
							selectee.$element.addClass("ui-unselecting");
							selectee.unselecting = true;
						}
						// selectable UNSELECTING callback
						that._trigger("unselecting", event, {
							unselecting: selectee.element
						});
					}
				}
				if (selectee.selected) {
					if (!event.metaKey && !event.ctrlKey && !selectee.startselected) {
						selectee.$element.removeClass("ui-selected");
						selectee.selected = false;

						selectee.$element.addClass("ui-unselecting");
						selectee.unselecting = true;
						// selectable UNSELECTING callback
						that._trigger("unselecting", event, {
							unselecting: selectee.element
						});
					}
				}
			}
		});

		return false;
	},

	_mouseStop: function(event) {
		var that = this;

		this.dragged = false;

		$(".ui-unselecting", this.element[0]).each(function() {
			var selectee = $.data(this, "selectable-item");
			selectee.$element.removeClass("ui-unselecting");
			selectee.unselecting = false;
			selectee.startselected = false;
			that._trigger("unselected", event, {
				unselected: selectee.element
			});
		});
		$(".ui-selecting", this.element[0]).each(function() {
			var selectee = $.data(this, "selectable-item");
			selectee.$element.removeClass("ui-selecting").addClass("ui-selected");
			selectee.selecting = false;
			selectee.selected = true;
			selectee.startselected = true;
			that._trigger("selected", event, {
				selected: selectee.element
			});
		});
		this._trigger("stop", event);

		this.helper.remove();

		return false;
	}

});


/*!
 * jQuery UI Selectmenu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectmenu
 */


var selectmenu = $.widget( "ui.selectmenu", {
	version: "1.11.4",
	defaultElement: "<select>",
	options: {
		appendTo: null,
		disabled: null,
		icons: {
			button: "ui-icon-triangle-1-s"
		},
		position: {
			my: "left top",
			at: "left bottom",
			collision: "none"
		},
		width: null,

		// callbacks
		change: null,
		close: null,
		focus: null,
		open: null,
		select: null
	},

	_create: function() {
		var selectmenuId = this.element.uniqueId().attr( "id" );
		this.ids = {
			element: selectmenuId,
			button: selectmenuId + "-button",
			menu: selectmenuId + "-menu"
		};

		this._drawButton();
		this._drawMenu();

		if ( this.options.disabled ) {
			this.disable();
		}
	},

	_drawButton: function() {
		var that = this;

		// Associate existing label with the new button
		this.label = $( "label[for='" + this.ids.element + "']" ).attr( "for", this.ids.button );
		this._on( this.label, {
			click: function( event ) {
				this.button.focus();
				event.preventDefault();
			}
		});

		// Hide original select element
		this.element.hide();

		// Create button
		this.button = $( "<span>", {
			"class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
			tabindex: this.options.disabled ? -1 : 0,
			id: this.ids.button,
			role: "combobox",
			"aria-expanded": "false",
			"aria-autocomplete": "list",
			"aria-owns": this.ids.menu,
			"aria-haspopup": "true"
		})
			.insertAfter( this.element );

		$( "<span>", {
			"class": "ui-icon " + this.options.icons.button
		})
			.prependTo( this.button );

		this.buttonText = $( "<span>", {
			"class": "ui-selectmenu-text"
		})
			.appendTo( this.button );

		this._setText( this.buttonText, this.element.find( "option:selected" ).text() );
		this._resizeButton();

		this._on( this.button, this._buttonEvents );
		this.button.one( "focusin", function() {

			// Delay rendering the menu items until the button receives focus.
			// The menu may have already been rendered via a programmatic open.
			if ( !that.menuItems ) {
				that._refreshMenu();
			}
		});
		this._hoverable( this.button );
		this._focusable( this.button );
	},

	_drawMenu: function() {
		var that = this;

		// Create menu
		this.menu = $( "<ul>", {
			"aria-hidden": "true",
			"aria-labelledby": this.ids.button,
			id: this.ids.menu
		});

		// Wrap menu
		this.menuWrap = $( "<div>", {
			"class": "ui-selectmenu-menu ui-front"
		})
			.append( this.menu )
			.appendTo( this._appendTo() );

		// Initialize menu widget
		this.menuInstance = this.menu
			.menu({
				role: "listbox",
				select: function( event, ui ) {
					event.preventDefault();

					// support: IE8
					// If the item was selected via a click, the text selection
					// will be destroyed in IE
					that._setSelection();

					that._select( ui.item.data( "ui-selectmenu-item" ), event );
				},
				focus: function( event, ui ) {
					var item = ui.item.data( "ui-selectmenu-item" );

					// Prevent inital focus from firing and check if its a newly focused item
					if ( that.focusIndex != null && item.index !== that.focusIndex ) {
						that._trigger( "focus", event, { item: item } );
						if ( !that.isOpen ) {
							that._select( item, event );
						}
					}
					that.focusIndex = item.index;

					that.button.attr( "aria-activedescendant",
						that.menuItems.eq( item.index ).attr( "id" ) );
				}
			})
			.menu( "instance" );

		// Adjust menu styles to dropdown
		this.menu
			.addClass( "ui-corner-bottom" )
			.removeClass( "ui-corner-all" );

		// Don't close the menu on mouseleave
		this.menuInstance._off( this.menu, "mouseleave" );

		// Cancel the menu's collapseAll on document click
		this.menuInstance._closeOnDocumentClick = function() {
			return false;
		};

		// Selects often contain empty items, but never contain dividers
		this.menuInstance._isDivider = function() {
			return false;
		};
	},

	refresh: function() {
		this._refreshMenu();
		this._setText( this.buttonText, this._getSelectedItem().text() );
		if ( !this.options.width ) {
			this._resizeButton();
		}
	},

	_refreshMenu: function() {
		this.menu.empty();

		var item,
			options = this.element.find( "option" );

		if ( !options.length ) {
			return;
		}

		this._parseOptions( options );
		this._renderMenu( this.menu, this.items );

		this.menuInstance.refresh();
		this.menuItems = this.menu.find( "li" ).not( ".ui-selectmenu-optgroup" );

		item = this._getSelectedItem();

		// Update the menu to have the correct item focused
		this.menuInstance.focus( null, item );
		this._setAria( item.data( "ui-selectmenu-item" ) );

		// Set disabled state
		this._setOption( "disabled", this.element.prop( "disabled" ) );
	},

	open: function( event ) {
		if ( this.options.disabled ) {
			return;
		}

		// If this is the first time the menu is being opened, render the items
		if ( !this.menuItems ) {
			this._refreshMenu();
		} else {

			// Menu clears focus on close, reset focus to selected item
			this.menu.find( ".ui-state-focus" ).removeClass( "ui-state-focus" );
			this.menuInstance.focus( null, this._getSelectedItem() );
		}

		this.isOpen = true;
		this._toggleAttr();
		this._resizeMenu();
		this._position();

		this._on( this.document, this._documentClick );

		this._trigger( "open", event );
	},

	_position: function() {
		this.menuWrap.position( $.extend( { of: this.button }, this.options.position ) );
	},

	close: function( event ) {
		if ( !this.isOpen ) {
			return;
		}

		this.isOpen = false;
		this._toggleAttr();

		this.range = null;
		this._off( this.document );

		this._trigger( "close", event );
	},

	widget: function() {
		return this.button;
	},

	menuWidget: function() {
		return this.menu;
	},

	_renderMenu: function( ul, items ) {
		var that = this,
			currentOptgroup = "";

		$.each( items, function( index, item ) {
			if ( item.optgroup !== currentOptgroup ) {
				$( "<li>", {
					"class": "ui-selectmenu-optgroup ui-menu-divider" +
						( item.element.parent( "optgroup" ).prop( "disabled" ) ?
							" ui-state-disabled" :
							"" ),
					text: item.optgroup
				})
					.appendTo( ul );

				currentOptgroup = item.optgroup;
			}

			that._renderItemData( ul, item );
		});
	},

	_renderItemData: function( ul, item ) {
		return this._renderItem( ul, item ).data( "ui-selectmenu-item", item );
	},

	_renderItem: function( ul, item ) {
		var li = $( "<li>" );

		if ( item.disabled ) {
			li.addClass( "ui-state-disabled" );
		}
		this._setText( li, item.label );

		return li.appendTo( ul );
	},

	_setText: function( element, value ) {
		if ( value ) {
			element.text( value );
		} else {
			element.html( "&#160;" );
		}
	},

	_move: function( direction, event ) {
		var item, next,
			filter = ".ui-menu-item";

		if ( this.isOpen ) {
			item = this.menuItems.eq( this.focusIndex );
		} else {
			item = this.menuItems.eq( this.element[ 0 ].selectedIndex );
			filter += ":not(.ui-state-disabled)";
		}

		if ( direction === "first" || direction === "last" ) {
			next = item[ direction === "first" ? "prevAll" : "nextAll" ]( filter ).eq( -1 );
		} else {
			next = item[ direction + "All" ]( filter ).eq( 0 );
		}

		if ( next.length ) {
			this.menuInstance.focus( event, next );
		}
	},

	_getSelectedItem: function() {
		return this.menuItems.eq( this.element[ 0 ].selectedIndex );
	},

	_toggle: function( event ) {
		this[ this.isOpen ? "close" : "open" ]( event );
	},

	_setSelection: function() {
		var selection;

		if ( !this.range ) {
			return;
		}

		if ( window.getSelection ) {
			selection = window.getSelection();
			selection.removeAllRanges();
			selection.addRange( this.range );

		// support: IE8
		} else {
			this.range.select();
		}

		// support: IE
		// Setting the text selection kills the button focus in IE, but
		// restoring the focus doesn't kill the selection.
		this.button.focus();
	},

	_documentClick: {
		mousedown: function( event ) {
			if ( !this.isOpen ) {
				return;
			}

			if ( !$( event.target ).closest( ".ui-selectmenu-menu, #" + this.ids.button ).length ) {
				this.close( event );
			}
		}
	},

	_buttonEvents: {

		// Prevent text selection from being reset when interacting with the selectmenu (#10144)
		mousedown: function() {
			var selection;

			if ( window.getSelection ) {
				selection = window.getSelection();
				if ( selection.rangeCount ) {
					this.range = selection.getRangeAt( 0 );
				}

			// support: IE8
			} else {
				this.range = document.selection.createRange();
			}
		},

		click: function( event ) {
			this._setSelection();
			this._toggle( event );
		},

		keydown: function( event ) {
			var preventDefault = true;
			switch ( event.keyCode ) {
				case $.ui.keyCode.TAB:
				case $.ui.keyCode.ESCAPE:
					this.close( event );
					preventDefault = false;
					break;
				case $.ui.keyCode.ENTER:
					if ( this.isOpen ) {
						this._selectFocusedItem( event );
					}
					break;
				case $.ui.keyCode.UP:
					if ( event.altKey ) {
						this._toggle( event );
					} else {
						this._move( "prev", event );
					}
					break;
				case $.ui.keyCode.DOWN:
					if ( event.altKey ) {
						this._toggle( event );
					} else {
						this._move( "next", event );
					}
					break;
				case $.ui.keyCode.SPACE:
					if ( this.isOpen ) {
						this._selectFocusedItem( event );
					} else {
						this._toggle( event );
					}
					break;
				case $.ui.keyCode.LEFT:
					this._move( "prev", event );
					break;
				case $.ui.keyCode.RIGHT:
					this._move( "next", event );
					break;
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.PAGE_UP:
					this._move( "first", event );
					break;
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_DOWN:
					this._move( "last", event );
					break;
				default:
					this.menu.trigger( event );
					preventDefault = false;
			}

			if ( preventDefault ) {
				event.preventDefault();
			}
		}
	},

	_selectFocusedItem: function( event ) {
		var item = this.menuItems.eq( this.focusIndex );
		if ( !item.hasClass( "ui-state-disabled" ) ) {
			this._select( item.data( "ui-selectmenu-item" ), event );
		}
	},

	_select: function( item, event ) {
		var oldIndex = this.element[ 0 ].selectedIndex;

		// Change native select element
		this.element[ 0 ].selectedIndex = item.index;
		this._setText( this.buttonText, item.label );
		this._setAria( item );
		this._trigger( "select", event, { item: item } );

		if ( item.index !== oldIndex ) {
			this._trigger( "change", event, { item: item } );
		}

		this.close( event );
	},

	_setAria: function( item ) {
		var id = this.menuItems.eq( item.index ).attr( "id" );

		this.button.attr({
			"aria-labelledby": id,
			"aria-activedescendant": id
		});
		this.menu.attr( "aria-activedescendant", id );
	},

	_setOption: function( key, value ) {
		if ( key === "icons" ) {
			this.button.find( "span.ui-icon" )
				.removeClass( this.options.icons.button )
				.addClass( value.button );
		}

		this._super( key, value );

		if ( key === "appendTo" ) {
			this.menuWrap.appendTo( this._appendTo() );
		}

		if ( key === "disabled" ) {
			this.menuInstance.option( "disabled", value );
			this.button
				.toggleClass( "ui-state-disabled", value )
				.attr( "aria-disabled", value );

			this.element.prop( "disabled", value );
			if ( value ) {
				this.button.attr( "tabindex", -1 );
				this.close();
			} else {
				this.button.attr( "tabindex", 0 );
			}
		}

		if ( key === "width" ) {
			this._resizeButton();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;

		if ( element ) {
			element = element.jquery || element.nodeType ?
				$( element ) :
				this.document.find( element ).eq( 0 );
		}

		if ( !element || !element[ 0 ] ) {
			element = this.element.closest( ".ui-front" );
		}

		if ( !element.length ) {
			element = this.document[ 0 ].body;
		}

		return element;
	},

	_toggleAttr: function() {
		this.button
			.toggleClass( "ui-corner-top", this.isOpen )
			.toggleClass( "ui-corner-all", !this.isOpen )
			.attr( "aria-expanded", this.isOpen );
		this.menuWrap.toggleClass( "ui-selectmenu-open", this.isOpen );
		this.menu.attr( "aria-hidden", !this.isOpen );
	},

	_resizeButton: function() {
		var width = this.options.width;

		if ( !width ) {
			width = this.element.show().outerWidth();
			this.element.hide();
		}

		this.button.outerWidth( width );
	},

	_resizeMenu: function() {
		this.menu.outerWidth( Math.max(
			this.button.outerWidth(),

			// support: IE10
			// IE10 wraps long text (possibly a rounding bug)
			// so we add 1px to avoid the wrapping
			this.menu.width( "" ).outerWidth() + 1
		) );
	},

	_getCreateOptions: function() {
		return { disabled: this.element.prop( "disabled" ) };
	},

	_parseOptions: function( options ) {
		var data = [];
		options.each(function( index, item ) {
			var option = $( item ),
				optgroup = option.parent( "optgroup" );
			data.push({
				element: option,
				index: index,
				value: option.val(),
				label: option.text(),
				optgroup: optgroup.attr( "label" ) || "",
				disabled: optgroup.prop( "disabled" ) || option.prop( "disabled" )
			});
		});
		this.items = data;
	},

	_destroy: function() {
		this.menuWrap.remove();
		this.button.remove();
		this.element.show();
		this.element.removeUniqueId();
		this.label.attr( "for", this.ids.element );
	}
});


/*!
 * jQuery UI Slider 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */


var slider = $.widget( "ui.slider", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "slide",

	options: {
		animate: false,
		distance: 0,
		max: 100,
		min: 0,
		orientation: "horizontal",
		range: false,
		step: 1,
		value: 0,
		values: null,

		// callbacks
		change: null,
		slide: null,
		start: null,
		stop: null
	},

	// number of pages in a slider
	// (how many times can you page up/down to go through the whole range)
	numPages: 5,

	_create: function() {
		this._keySliding = false;
		this._mouseSliding = false;
		this._animateOff = true;
		this._handleIndex = null;
		this._detectOrientation();
		this._mouseInit();
		this._calculateNewMax();

		this.element
			.addClass( "ui-slider" +
				" ui-slider-" + this.orientation +
				" ui-widget" +
				" ui-widget-content" +
				" ui-corner-all");

		this._refresh();
		this._setOption( "disabled", this.options.disabled );

		this._animateOff = false;
	},

	_refresh: function() {
		this._createRange();
		this._createHandles();
		this._setupEvents();
		this._refreshValue();
	},

	_createHandles: function() {
		var i, handleCount,
			options = this.options,
			existingHandles = this.element.find( ".ui-slider-handle" ).addClass( "ui-state-default ui-corner-all" ),
			handle = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",
			handles = [];

		handleCount = ( options.values && options.values.length ) || 1;

		if ( existingHandles.length > handleCount ) {
			existingHandles.slice( handleCount ).remove();
			existingHandles = existingHandles.slice( 0, handleCount );
		}

		for ( i = existingHandles.length; i < handleCount; i++ ) {
			handles.push( handle );
		}

		this.handles = existingHandles.add( $( handles.join( "" ) ).appendTo( this.element ) );

		this.handle = this.handles.eq( 0 );

		this.handles.each(function( i ) {
			$( this ).data( "ui-slider-handle-index", i );
		});
	},

	_createRange: function() {
		var options = this.options,
			classes = "";

		if ( options.range ) {
			if ( options.range === true ) {
				if ( !options.values ) {
					options.values = [ this._valueMin(), this._valueMin() ];
				} else if ( options.values.length && options.values.length !== 2 ) {
					options.values = [ options.values[0], options.values[0] ];
				} else if ( $.isArray( options.values ) ) {
					options.values = options.values.slice(0);
				}
			}

			if ( !this.range || !this.range.length ) {
				this.range = $( "<div></div>" )
					.appendTo( this.element );

				classes = "ui-slider-range" +
				// note: this isn't the most fittingly semantic framework class for this element,
				// but worked best visually with a variety of themes
				" ui-widget-header ui-corner-all";
			} else {
				this.range.removeClass( "ui-slider-range-min ui-slider-range-max" )
					// Handle range switching from true to min/max
					.css({
						"left": "",
						"bottom": ""
					});
			}

			this.range.addClass( classes +
				( ( options.range === "min" || options.range === "max" ) ? " ui-slider-range-" + options.range : "" ) );
		} else {
			if ( this.range ) {
				this.range.remove();
			}
			this.range = null;
		}
	},

	_setupEvents: function() {
		this._off( this.handles );
		this._on( this.handles, this._handleEvents );
		this._hoverable( this.handles );
		this._focusable( this.handles );
	},

	_destroy: function() {
		this.handles.remove();
		if ( this.range ) {
			this.range.remove();
		}

		this.element
			.removeClass( "ui-slider" +
				" ui-slider-horizontal" +
				" ui-slider-vertical" +
				" ui-widget" +
				" ui-widget-content" +
				" ui-corner-all" );

		this._mouseDestroy();
	},

	_mouseCapture: function( event ) {
		var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,
			that = this,
			o = this.options;

		if ( o.disabled ) {
			return false;
		}

		this.elementSize = {
			width: this.element.outerWidth(),
			height: this.element.outerHeight()
		};
		this.elementOffset = this.element.offset();

		position = { x: event.pageX, y: event.pageY };
		normValue = this._normValueFromMouse( position );
		distance = this._valueMax() - this._valueMin() + 1;
		this.handles.each(function( i ) {
			var thisDistance = Math.abs( normValue - that.values(i) );
			if (( distance > thisDistance ) ||
				( distance === thisDistance &&
					(i === that._lastChangedValue || that.values(i) === o.min ))) {
				distance = thisDistance;
				closestHandle = $( this );
				index = i;
			}
		});

		allowed = this._start( event, index );
		if ( allowed === false ) {
			return false;
		}
		this._mouseSliding = true;

		this._handleIndex = index;

		closestHandle
			.addClass( "ui-state-active" )
			.focus();

		offset = closestHandle.offset();
		mouseOverHandle = !$( event.target ).parents().addBack().is( ".ui-slider-handle" );
		this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
			left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
			top: event.pageY - offset.top -
				( closestHandle.height() / 2 ) -
				( parseInt( closestHandle.css("borderTopWidth"), 10 ) || 0 ) -
				( parseInt( closestHandle.css("borderBottomWidth"), 10 ) || 0) +
				( parseInt( closestHandle.css("marginTop"), 10 ) || 0)
		};

		if ( !this.handles.hasClass( "ui-state-hover" ) ) {
			this._slide( event, index, normValue );
		}
		this._animateOff = true;
		return true;
	},

	_mouseStart: function() {
		return true;
	},

	_mouseDrag: function( event ) {
		var position = { x: event.pageX, y: event.pageY },
			normValue = this._normValueFromMouse( position );

		this._slide( event, this._handleIndex, normValue );

		return false;
	},

	_mouseStop: function( event ) {
		this.handles.removeClass( "ui-state-active" );
		this._mouseSliding = false;

		this._stop( event, this._handleIndex );
		this._change( event, this._handleIndex );

		this._handleIndex = null;
		this._clickOffset = null;
		this._animateOff = false;

		return false;
	},

	_detectOrientation: function() {
		this.orientation = ( this.options.orientation === "vertical" ) ? "vertical" : "horizontal";
	},

	_normValueFromMouse: function( position ) {
		var pixelTotal,
			pixelMouse,
			percentMouse,
			valueTotal,
			valueMouse;

		if ( this.orientation === "horizontal" ) {
			pixelTotal = this.elementSize.width;
			pixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );
		} else {
			pixelTotal = this.elementSize.height;
			pixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );
		}

		percentMouse = ( pixelMouse / pixelTotal );
		if ( percentMouse > 1 ) {
			percentMouse = 1;
		}
		if ( percentMouse < 0 ) {
			percentMouse = 0;
		}
		if ( this.orientation === "vertical" ) {
			percentMouse = 1 - percentMouse;
		}

		valueTotal = this._valueMax() - this._valueMin();
		valueMouse = this._valueMin() + percentMouse * valueTotal;

		return this._trimAlignValue( valueMouse );
	},

	_start: function( event, index ) {
		var uiHash = {
			handle: this.handles[ index ],
			value: this.value()
		};
		if ( this.options.values && this.options.values.length ) {
			uiHash.value = this.values( index );
			uiHash.values = this.values();
		}
		return this._trigger( "start", event, uiHash );
	},

	_slide: function( event, index, newVal ) {
		var otherVal,
			newValues,
			allowed;

		if ( this.options.values && this.options.values.length ) {
			otherVal = this.values( index ? 0 : 1 );

			if ( ( this.options.values.length === 2 && this.options.range === true ) &&
					( ( index === 0 && newVal > otherVal) || ( index === 1 && newVal < otherVal ) )
				) {
				newVal = otherVal;
			}

			if ( newVal !== this.values( index ) ) {
				newValues = this.values();
				newValues[ index ] = newVal;
				// A slide can be canceled by returning false from the slide callback
				allowed = this._trigger( "slide", event, {
					handle: this.handles[ index ],
					value: newVal,
					values: newValues
				} );
				otherVal = this.values( index ? 0 : 1 );
				if ( allowed !== false ) {
					this.values( index, newVal );
				}
			}
		} else {
			if ( newVal !== this.value() ) {
				// A slide can be canceled by returning false from the slide callback
				allowed = this._trigger( "slide", event, {
					handle: this.handles[ index ],
					value: newVal
				} );
				if ( allowed !== false ) {
					this.value( newVal );
				}
			}
		}
	},

	_stop: function( event, index ) {
		var uiHash = {
			handle: this.handles[ index ],
			value: this.value()
		};
		if ( this.options.values && this.options.values.length ) {
			uiHash.value = this.values( index );
			uiHash.values = this.values();
		}

		this._trigger( "stop", event, uiHash );
	},

	_change: function( event, index ) {
		if ( !this._keySliding && !this._mouseSliding ) {
			var uiHash = {
				handle: this.handles[ index ],
				value: this.value()
			};
			if ( this.options.values && this.options.values.length ) {
				uiHash.value = this.values( index );
				uiHash.values = this.values();
			}

			//store the last changed value index for reference when handles overlap
			this._lastChangedValue = index;

			this._trigger( "change", event, uiHash );
		}
	},

	value: function( newValue ) {
		if ( arguments.length ) {
			this.options.value = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, 0 );
			return;
		}

		return this._value();
	},

	values: function( index, newValue ) {
		var vals,
			newValues,
			i;

		if ( arguments.length > 1 ) {
			this.options.values[ index ] = this._trimAlignValue( newValue );
			this._refreshValue();
			this._change( null, index );
			return;
		}

		if ( arguments.length ) {
			if ( $.isArray( arguments[ 0 ] ) ) {
				vals = this.options.values;
				newValues = arguments[ 0 ];
				for ( i = 0; i < vals.length; i += 1 ) {
					vals[ i ] = this._trimAlignValue( newValues[ i ] );
					this._change( null, i );
				}
				this._refreshValue();
			} else {
				if ( this.options.values && this.options.values.length ) {
					return this._values( index );
				} else {
					return this.value();
				}
			}
		} else {
			return this._values();
		}
	},

	_setOption: function( key, value ) {
		var i,
			valsLength = 0;

		if ( key === "range" && this.options.range === true ) {
			if ( value === "min" ) {
				this.options.value = this._values( 0 );
				this.options.values = null;
			} else if ( value === "max" ) {
				this.options.value = this._values( this.options.values.length - 1 );
				this.options.values = null;
			}
		}

		if ( $.isArray( this.options.values ) ) {
			valsLength = this.options.values.length;
		}

		if ( key === "disabled" ) {
			this.element.toggleClass( "ui-state-disabled", !!value );
		}

		this._super( key, value );

		switch ( key ) {
			case "orientation":
				this._detectOrientation();
				this.element
					.removeClass( "ui-slider-horizontal ui-slider-vertical" )
					.addClass( "ui-slider-" + this.orientation );
				this._refreshValue();

				// Reset positioning from previous orientation
				this.handles.css( value === "horizontal" ? "bottom" : "left", "" );
				break;
			case "value":
				this._animateOff = true;
				this._refreshValue();
				this._change( null, 0 );
				this._animateOff = false;
				break;
			case "values":
				this._animateOff = true;
				this._refreshValue();
				for ( i = 0; i < valsLength; i += 1 ) {
					this._change( null, i );
				}
				this._animateOff = false;
				break;
			case "step":
			case "min":
			case "max":
				this._animateOff = true;
				this._calculateNewMax();
				this._refreshValue();
				this._animateOff = false;
				break;
			case "range":
				this._animateOff = true;
				this._refresh();
				this._animateOff = false;
				break;
		}
	},

	//internal value getter
	// _value() returns value trimmed by min and max, aligned by step
	_value: function() {
		var val = this.options.value;
		val = this._trimAlignValue( val );

		return val;
	},

	//internal values getter
	// _values() returns array of values trimmed by min and max, aligned by step
	// _values( index ) returns single value trimmed by min and max, aligned by step
	_values: function( index ) {
		var val,
			vals,
			i;

		if ( arguments.length ) {
			val = this.options.values[ index ];
			val = this._trimAlignValue( val );

			return val;
		} else if ( this.options.values && this.options.values.length ) {
			// .slice() creates a copy of the array
			// this copy gets trimmed by min and max and then returned
			vals = this.options.values.slice();
			for ( i = 0; i < vals.length; i += 1) {
				vals[ i ] = this._trimAlignValue( vals[ i ] );
			}

			return vals;
		} else {
			return [];
		}
	},

	// returns the step-aligned value that val is closest to, between (inclusive) min and max
	_trimAlignValue: function( val ) {
		if ( val <= this._valueMin() ) {
			return this._valueMin();
		}
		if ( val >= this._valueMax() ) {
			return this._valueMax();
		}
		var step = ( this.options.step > 0 ) ? this.options.step : 1,
			valModStep = (val - this._valueMin()) % step,
			alignValue = val - valModStep;

		if ( Math.abs(valModStep) * 2 >= step ) {
			alignValue += ( valModStep > 0 ) ? step : ( -step );
		}

		// Since JavaScript has problems with large floats, round
		// the final value to 5 digits after the decimal point (see #4124)
		return parseFloat( alignValue.toFixed(5) );
	},

	_calculateNewMax: function() {
		var max = this.options.max,
			min = this._valueMin(),
			step = this.options.step,
			aboveMin = Math.floor( ( +( max - min ).toFixed( this._precision() ) ) / step ) * step;
		max = aboveMin + min;
		this.max = parseFloat( max.toFixed( this._precision() ) );
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_valueMin: function() {
		return this.options.min;
	},

	_valueMax: function() {
		return this.max;
	},

	_refreshValue: function() {
		var lastValPercent, valPercent, value, valueMin, valueMax,
			oRange = this.options.range,
			o = this.options,
			that = this,
			animate = ( !this._animateOff ) ? o.animate : false,
			_set = {};

		if ( this.options.values && this.options.values.length ) {
			this.handles.each(function( i ) {
				valPercent = ( that.values(i) - that._valueMin() ) / ( that._valueMax() - that._valueMin() ) * 100;
				_set[ that.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
				$( this ).stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );
				if ( that.options.range === true ) {
					if ( that.orientation === "horizontal" ) {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { left: valPercent + "%" }, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( { width: ( valPercent - lastValPercent ) + "%" }, { queue: false, duration: o.animate } );
						}
					} else {
						if ( i === 0 ) {
							that.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { bottom: ( valPercent ) + "%" }, o.animate );
						}
						if ( i === 1 ) {
							that.range[ animate ? "animate" : "css" ]( { height: ( valPercent - lastValPercent ) + "%" }, { queue: false, duration: o.animate } );
						}
					}
				}
				lastValPercent = valPercent;
			});
		} else {
			value = this.value();
			valueMin = this._valueMin();
			valueMax = this._valueMax();
			valPercent = ( valueMax !== valueMin ) ?
					( value - valueMin ) / ( valueMax - valueMin ) * 100 :
					0;
			_set[ this.orientation === "horizontal" ? "left" : "bottom" ] = valPercent + "%";
			this.handle.stop( 1, 1 )[ animate ? "animate" : "css" ]( _set, o.animate );

			if ( oRange === "min" && this.orientation === "horizontal" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { width: valPercent + "%" }, o.animate );
			}
			if ( oRange === "max" && this.orientation === "horizontal" ) {
				this.range[ animate ? "animate" : "css" ]( { width: ( 100 - valPercent ) + "%" }, { queue: false, duration: o.animate } );
			}
			if ( oRange === "min" && this.orientation === "vertical" ) {
				this.range.stop( 1, 1 )[ animate ? "animate" : "css" ]( { height: valPercent + "%" }, o.animate );
			}
			if ( oRange === "max" && this.orientation === "vertical" ) {
				this.range[ animate ? "animate" : "css" ]( { height: ( 100 - valPercent ) + "%" }, { queue: false, duration: o.animate } );
			}
		}
	},

	_handleEvents: {
		keydown: function( event ) {
			var allowed, curVal, newVal, step,
				index = $( event.target ).data( "ui-slider-handle-index" );

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
				case $.ui.keyCode.END:
				case $.ui.keyCode.PAGE_UP:
				case $.ui.keyCode.PAGE_DOWN:
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					event.preventDefault();
					if ( !this._keySliding ) {
						this._keySliding = true;
						$( event.target ).addClass( "ui-state-active" );
						allowed = this._start( event, index );
						if ( allowed === false ) {
							return;
						}
					}
					break;
			}

			step = this.options.step;
			if ( this.options.values && this.options.values.length ) {
				curVal = newVal = this.values( index );
			} else {
				curVal = newVal = this.value();
			}

			switch ( event.keyCode ) {
				case $.ui.keyCode.HOME:
					newVal = this._valueMin();
					break;
				case $.ui.keyCode.END:
					newVal = this._valueMax();
					break;
				case $.ui.keyCode.PAGE_UP:
					newVal = this._trimAlignValue(
						curVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )
					);
					break;
				case $.ui.keyCode.PAGE_DOWN:
					newVal = this._trimAlignValue(
						curVal - ( (this._valueMax() - this._valueMin()) / this.numPages ) );
					break;
				case $.ui.keyCode.UP:
				case $.ui.keyCode.RIGHT:
					if ( curVal === this._valueMax() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal + step );
					break;
				case $.ui.keyCode.DOWN:
				case $.ui.keyCode.LEFT:
					if ( curVal === this._valueMin() ) {
						return;
					}
					newVal = this._trimAlignValue( curVal - step );
					break;
			}

			this._slide( event, index, newVal );
		},
		keyup: function( event ) {
			var index = $( event.target ).data( "ui-slider-handle-index" );

			if ( this._keySliding ) {
				this._keySliding = false;
				this._stop( event, index );
				this._change( event, index );
				$( event.target ).removeClass( "ui-state-active" );
			}
		}
	}
});


/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */


var sortable = $.widget("ui.sortable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "sort",
	ready: false,
	options: {
		appendTo: "parent",
		axis: false,
		connectWith: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		dropOnEmpty: true,
		forcePlaceholderSize: false,
		forceHelperSize: false,
		grid: false,
		handle: false,
		helper: "original",
		items: "> *",
		opacity: false,
		placeholder: false,
		revert: false,
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		scope: "default",
		tolerance: "intersect",
		zIndex: 1000,

		// callbacks
		activate: null,
		beforeStop: null,
		change: null,
		deactivate: null,
		out: null,
		over: null,
		receive: null,
		remove: null,
		sort: null,
		start: null,
		stop: null,
		update: null
	},

	_isOverAxis: function( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	},

	_isFloating: function( item ) {
		return (/left|right/).test(item.css("float")) || (/inline|table-cell/).test(item.css("display"));
	},

	_create: function() {
		this.containerCache = {};
		this.element.addClass("ui-sortable");

		//Get the items
		this.refresh();

		//Let's determine the parent's offset
		this.offset = this.element.offset();

		//Initialize mouse events for interaction
		this._mouseInit();

		this._setHandleClassName();

		//We're ready to go
		this.ready = true;

	},

	_setOption: function( key, value ) {
		this._super( key, value );

		if ( key === "handle" ) {
			this._setHandleClassName();
		}
	},

	_setHandleClassName: function() {
		this.element.find( ".ui-sortable-handle" ).removeClass( "ui-sortable-handle" );
		$.each( this.items, function() {
			( this.instance.options.handle ?
				this.item.find( this.instance.options.handle ) : this.item )
				.addClass( "ui-sortable-handle" );
		});
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-sortable ui-sortable-disabled" )
			.find( ".ui-sortable-handle" )
				.removeClass( "ui-sortable-handle" );
		this._mouseDestroy();

		for ( var i = this.items.length - 1; i >= 0; i-- ) {
			this.items[i].item.removeData(this.widgetName + "-item");
		}

		return this;
	},

	_mouseCapture: function(event, overrideHandle) {
		var currentItem = null,
			validHandle = false,
			that = this;

		if (this.reverting) {
			return false;
		}

		if(this.options.disabled || this.options.type === "static") {
			return false;
		}

		//We have to refresh the items data once first
		this._refreshItems(event);

		//Find out if the clicked node (or one of its parents) is a actual item in this.items
		$(event.target).parents().each(function() {
			if($.data(this, that.widgetName + "-item") === that) {
				currentItem = $(this);
				return false;
			}
		});
		if($.data(event.target, that.widgetName + "-item") === that) {
			currentItem = $(event.target);
		}

		if(!currentItem) {
			return false;
		}
		if(this.options.handle && !overrideHandle) {
			$(this.options.handle, currentItem).find("*").addBack().each(function() {
				if(this === event.target) {
					validHandle = true;
				}
			});
			if(!validHandle) {
				return false;
			}
		}

		this.currentItem = currentItem;
		this._removeCurrentsFromItems();
		return true;

	},

	_mouseStart: function(event, overrideHandle, noActivation) {

		var i, body,
			o = this.options;

		this.currentContainer = this;

		//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture
		this.refreshPositions();

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		//Cache the helper size
		this._cacheHelperProportions();

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Get the next scrolling parent
		this.scrollParent = this.helper.scrollParent();

		//The element's absolute position on the page minus margins
		this.offset = this.currentItem.offset();
		this.offset = {
			top: this.offset.top - this.margins.top,
			left: this.offset.left - this.margins.left
		};

		$.extend(this.offset, {
			click: { //Where the click happened, relative to the element
				left: event.pageX - this.offset.left,
				top: event.pageY - this.offset.top
			},
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
		});

		// Only after we got the offset, we can change the helper's position to absolute
		// TODO: Still need to figure out a way to make relative sorting possible
		this.helper.css("position", "absolute");
		this.cssPosition = this.helper.css("position");

		//Generate the original position
		this.originalPosition = this._generatePosition(event);
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Cache the former DOM position
		this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };

		//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way
		if(this.helper[0] !== this.currentItem[0]) {
			this.currentItem.hide();
		}

		//Create the placeholder
		this._createPlaceholder();

		//Set a containment if given in the options
		if(o.containment) {
			this._setContainment();
		}

		if( o.cursor && o.cursor !== "auto" ) { // cursor option
			body = this.document.find( "body" );

			// support: IE
			this.storedCursor = body.css( "cursor" );
			body.css( "cursor", o.cursor );

			this.storedStylesheet = $( "<style>*{ cursor: "+o.cursor+" !important; }</style>" ).appendTo( body );
		}

		if(o.opacity) { // opacity option
			if (this.helper.css("opacity")) {
				this._storedOpacity = this.helper.css("opacity");
			}
			this.helper.css("opacity", o.opacity);
		}

		if(o.zIndex) { // zIndex option
			if (this.helper.css("zIndex")) {
				this._storedZIndex = this.helper.css("zIndex");
			}
			this.helper.css("zIndex", o.zIndex);
		}

		//Prepare scrolling
		if(this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {
			this.overflowOffset = this.scrollParent.offset();
		}

		//Call callbacks
		this._trigger("start", event, this._uiHash());

		//Recache the helper size
		if(!this._preserveHelperProportions) {
			this._cacheHelperProportions();
		}


		//Post "activate" events to possible containers
		if( !noActivation ) {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "activate", event, this._uiHash( this ) );
			}
		}

		//Prepare possible droppables
		if($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}

		this.dragging = true;

		this.helper.addClass("ui-sortable-helper");
		this._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position
		return true;

	},

	_mouseDrag: function(event) {
		var i, item, itemElement, intersection,
			o = this.options,
			scrolled = false;

		//Compute the helpers position
		this.position = this._generatePosition(event);
		this.positionAbs = this._convertPositionTo("absolute");

		if (!this.lastPositionAbs) {
			this.lastPositionAbs = this.positionAbs;
		}

		//Do scrolling
		if(this.options.scroll) {
			if(this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {

				if((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
				} else if(event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
				}

				if((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
				} else if(event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
				}

			} else {

				if(event.pageY - this.document.scrollTop() < o.scrollSensitivity) {
					scrolled = this.document.scrollTop(this.document.scrollTop() - o.scrollSpeed);
				} else if(this.window.height() - (event.pageY - this.document.scrollTop()) < o.scrollSensitivity) {
					scrolled = this.document.scrollTop(this.document.scrollTop() + o.scrollSpeed);
				}

				if(event.pageX - this.document.scrollLeft() < o.scrollSensitivity) {
					scrolled = this.document.scrollLeft(this.document.scrollLeft() - o.scrollSpeed);
				} else if(this.window.width() - (event.pageX - this.document.scrollLeft()) < o.scrollSensitivity) {
					scrolled = this.document.scrollLeft(this.document.scrollLeft() + o.scrollSpeed);
				}

			}

			if(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
				$.ui.ddmanager.prepareOffsets(this, event);
			}
		}

		//Regenerate the absolute position used for position checks
		this.positionAbs = this._convertPositionTo("absolute");

		//Set the helper position
		if(!this.options.axis || this.options.axis !== "y") {
			this.helper[0].style.left = this.position.left+"px";
		}
		if(!this.options.axis || this.options.axis !== "x") {
			this.helper[0].style.top = this.position.top+"px";
		}

		//Rearrange
		for (i = this.items.length - 1; i >= 0; i--) {

			//Cache variables and intersection, continue if no intersection
			item = this.items[i];
			itemElement = item.item[0];
			intersection = this._intersectsWithPointer(item);
			if (!intersection) {
				continue;
			}

			// Only put the placeholder inside the current Container, skip all
			// items from other containers. This works because when moving
			// an item from one container to another the
			// currentContainer is switched before the placeholder is moved.
			//
			// Without this, moving items in "sub-sortables" can cause
			// the placeholder to jitter between the outer and inner container.
			if (item.instance !== this.currentContainer) {
				continue;
			}

			// cannot intersect with itself
			// no useless actions that have been done before
			// no action if the item moved is the parent of the item checked
			if (itemElement !== this.currentItem[0] &&
				this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement &&
				!$.contains(this.placeholder[0], itemElement) &&
				(this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)
			) {

				this.direction = intersection === 1 ? "down" : "up";

				if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
					this._rearrange(event, item);
				} else {
					break;
				}

				this._trigger("change", event, this._uiHash());
				break;
			}
		}

		//Post events to containers
		this._contactContainers(event);

		//Interconnect with droppables
		if($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		//Call callbacks
		this._trigger("sort", event, this._uiHash());

		this.lastPositionAbs = this.positionAbs;
		return false;

	},

	_mouseStop: function(event, noPropagation) {

		if(!event) {
			return;
		}

		//If we are using droppables, inform the manager about the drop
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			$.ui.ddmanager.drop(this, event);
		}

		if(this.options.revert) {
			var that = this,
				cur = this.placeholder.offset(),
				axis = this.options.axis,
				animation = {};

			if ( !axis || axis === "x" ) {
				animation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft);
			}
			if ( !axis || axis === "y" ) {
				animation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop);
			}
			this.reverting = true;
			$(this.helper).animate( animation, parseInt(this.options.revert, 10) || 500, function() {
				that._clear(event);
			});
		} else {
			this._clear(event, noPropagation);
		}

		return false;

	},

	cancel: function() {

		if(this.dragging) {

			this._mouseUp({ target: null });

			if(this.options.helper === "original") {
				this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
			} else {
				this.currentItem.show();
			}

			//Post deactivating events to containers
			for (var i = this.containers.length - 1; i >= 0; i--){
				this.containers[i]._trigger("deactivate", null, this._uiHash(this));
				if(this.containers[i].containerCache.over) {
					this.containers[i]._trigger("out", null, this._uiHash(this));
					this.containers[i].containerCache.over = 0;
				}
			}

		}

		if (this.placeholder) {
			//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
			if(this.placeholder[0].parentNode) {
				this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
			}
			if(this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
				this.helper.remove();
			}

			$.extend(this, {
				helper: null,
				dragging: false,
				reverting: false,
				_noFinalSort: null
			});

			if(this.domPosition.prev) {
				$(this.domPosition.prev).after(this.currentItem);
			} else {
				$(this.domPosition.parent).prepend(this.currentItem);
			}
		}

		return this;

	},

	serialize: function(o) {

		var items = this._getItemsAsjQuery(o && o.connected),
			str = [];
		o = o || {};

		$(items).each(function() {
			var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || (/(.+)[\-=_](.+)/));
			if (res) {
				str.push((o.key || res[1]+"[]")+"="+(o.key && o.expression ? res[1] : res[2]));
			}
		});

		if(!str.length && o.key) {
			str.push(o.key + "=");
		}

		return str.join("&");

	},

	toArray: function(o) {

		var items = this._getItemsAsjQuery(o && o.connected),
			ret = [];

		o = o || {};

		items.each(function() { ret.push($(o.item || this).attr(o.attribute || "id") || ""); });
		return ret;

	},

	/* Be careful with the following core functions */
	_intersectsWith: function(item) {

		var x1 = this.positionAbs.left,
			x2 = x1 + this.helperProportions.width,
			y1 = this.positionAbs.top,
			y2 = y1 + this.helperProportions.height,
			l = item.left,
			r = l + item.width,
			t = item.top,
			b = t + item.height,
			dyClick = this.offset.click.top,
			dxClick = this.offset.click.left,
			isOverElementHeight = ( this.options.axis === "x" ) || ( ( y1 + dyClick ) > t && ( y1 + dyClick ) < b ),
			isOverElementWidth = ( this.options.axis === "y" ) || ( ( x1 + dxClick ) > l && ( x1 + dxClick ) < r ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( this.options.tolerance === "pointer" ||
			this.options.forcePointerForContainers ||
			(this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"])
		) {
			return isOverElement;
		} else {

			return (l < x1 + (this.helperProportions.width / 2) && // Right Half
				x2 - (this.helperProportions.width / 2) < r && // Left Half
				t < y1 + (this.helperProportions.height / 2) && // Bottom Half
				y2 - (this.helperProportions.height / 2) < b ); // Top Half

		}
	},

	_intersectsWithPointer: function(item) {

		var isOverElementHeight = (this.options.axis === "x") || this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
			isOverElementWidth = (this.options.axis === "y") || this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
			isOverElement = isOverElementHeight && isOverElementWidth,
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if (!isOverElement) {
			return false;
		}

		return this.floating ?
			( ((horizontalDirection && horizontalDirection === "right") || verticalDirection === "down") ? 2 : 1 )
			: ( verticalDirection && (verticalDirection === "down" ? 2 : 1) );

	},

	_intersectsWithSides: function(item) {

		var isOverBottomHalf = this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),
			isOverRightHalf = this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if (this.floating && horizontalDirection) {
			return ((horizontalDirection === "right" && isOverRightHalf) || (horizontalDirection === "left" && !isOverRightHalf));
		} else {
			return verticalDirection && ((verticalDirection === "down" && isOverBottomHalf) || (verticalDirection === "up" && !isOverBottomHalf));
		}

	},

	_getDragVerticalDirection: function() {
		var delta = this.positionAbs.top - this.lastPositionAbs.top;
		return delta !== 0 && (delta > 0 ? "down" : "up");
	},

	_getDragHorizontalDirection: function() {
		var delta = this.positionAbs.left - this.lastPositionAbs.left;
		return delta !== 0 && (delta > 0 ? "right" : "left");
	},

	refresh: function(event) {
		this._refreshItems(event);
		this._setHandleClassName();
		this.refreshPositions();
		return this;
	},

	_connectWith: function() {
		var options = this.options;
		return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;
	},

	_getItemsAsjQuery: function(connected) {

		var i, j, cur, inst,
			items = [],
			queries = [],
			connectWith = this._connectWith();

		if(connectWith && connected) {
			for (i = connectWith.length - 1; i >= 0; i--){
				cur = $(connectWith[i], this.document[0]);
				for ( j = cur.length - 1; j >= 0; j--){
					inst = $.data(cur[j], this.widgetFullName);
					if(inst && inst !== this && !inst.options.disabled) {
						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst]);
					}
				}
			}
		}

		queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);

		function addItems() {
			items.push( this );
		}
		for (i = queries.length - 1; i >= 0; i--){
			queries[i][0].each( addItems );
		}

		return $(items);

	},

	_removeCurrentsFromItems: function() {

		var list = this.currentItem.find(":data(" + this.widgetName + "-item)");

		this.items = $.grep(this.items, function (item) {
			for (var j=0; j < list.length; j++) {
				if(list[j] === item.item[0]) {
					return false;
				}
			}
			return true;
		});

	},

	_refreshItems: function(event) {

		this.items = [];
		this.containers = [this];

		var i, j, cur, inst, targetData, _queries, item, queriesLength,
			items = this.items,
			queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]],
			connectWith = this._connectWith();

		if(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down
			for (i = connectWith.length - 1; i >= 0; i--){
				cur = $(connectWith[i], this.document[0]);
				for (j = cur.length - 1; j >= 0; j--){
					inst = $.data(cur[j], this.widgetFullName);
					if(inst && inst !== this && !inst.options.disabled) {
						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);
						this.containers.push(inst);
					}
				}
			}
		}

		for (i = queries.length - 1; i >= 0; i--) {
			targetData = queries[i][1];
			_queries = queries[i][0];

			for (j=0, queriesLength = _queries.length; j < queriesLength; j++) {
				item = $(_queries[j]);

				item.data(this.widgetName + "-item", targetData); // Data for target checking (mouse manager)

				items.push({
					item: item,
					instance: targetData,
					width: 0, height: 0,
					left: 0, top: 0
				});
			}
		}

	},

	refreshPositions: function(fast) {

		// Determine whether items are being displayed horizontally
		this.floating = this.items.length ?
			this.options.axis === "x" || this._isFloating( this.items[ 0 ].item ) :
			false;

		//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change
		if(this.offsetParent && this.helper) {
			this.offset.parent = this._getParentOffset();
		}

		var i, item, t, p;

		for (i = this.items.length - 1; i >= 0; i--){
			item = this.items[i];

			//We ignore calculating positions of all connected containers when we're not over them
			if(item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
				continue;
			}

			t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;

			if (!fast) {
				item.width = t.outerWidth();
				item.height = t.outerHeight();
			}

			p = t.offset();
			item.left = p.left;
			item.top = p.top;
		}

		if(this.options.custom && this.options.custom.refreshContainers) {
			this.options.custom.refreshContainers.call(this);
		} else {
			for (i = this.containers.length - 1; i >= 0; i--){
				p = this.containers[i].element.offset();
				this.containers[i].containerCache.left = p.left;
				this.containers[i].containerCache.top = p.top;
				this.containers[i].containerCache.width = this.containers[i].element.outerWidth();
				this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
			}
		}

		return this;
	},

	_createPlaceholder: function(that) {
		that = that || this;
		var className,
			o = that.options;

		if(!o.placeholder || o.placeholder.constructor === String) {
			className = o.placeholder;
			o.placeholder = {
				element: function() {

					var nodeName = that.currentItem[0].nodeName.toLowerCase(),
						element = $( "<" + nodeName + ">", that.document[0] )
							.addClass(className || that.currentItem[0].className+" ui-sortable-placeholder")
							.removeClass("ui-sortable-helper");

					if ( nodeName === "tbody" ) {
						that._createTrPlaceholder(
							that.currentItem.find( "tr" ).eq( 0 ),
							$( "<tr>", that.document[ 0 ] ).appendTo( element )
						);
					} else if ( nodeName === "tr" ) {
						that._createTrPlaceholder( that.currentItem, element );
					} else if ( nodeName === "img" ) {
						element.attr( "src", that.currentItem.attr( "src" ) );
					}

					if ( !className ) {
						element.css( "visibility", "hidden" );
					}

					return element;
				},
				update: function(container, p) {

					// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that
					// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified
					if(className && !o.forcePlaceholderSize) {
						return;
					}

					//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item
					if(!p.height()) { p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop")||0, 10) - parseInt(that.currentItem.css("paddingBottom")||0, 10)); }
					if(!p.width()) { p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft")||0, 10) - parseInt(that.currentItem.css("paddingRight")||0, 10)); }
				}
			};
		}

		//Create the placeholder
		that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));

		//Append it after the actual current item
		that.currentItem.after(that.placeholder);

		//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)
		o.placeholder.update(that, that.placeholder);

	},

	_createTrPlaceholder: function( sourceTr, targetTr ) {
		var that = this;

		sourceTr.children().each(function() {
			$( "<td>&#160;</td>", that.document[ 0 ] )
				.attr( "colspan", $( this ).attr( "colspan" ) || 1 )
				.appendTo( targetTr );
		});
	},

	_contactContainers: function(event) {
		var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom, floating, axis,
			innermostContainer = null,
			innermostIndex = null;

		// get innermost container that intersects with item
		for (i = this.containers.length - 1; i >= 0; i--) {

			// never consider a container that's located within the item itself
			if($.contains(this.currentItem[0], this.containers[i].element[0])) {
				continue;
			}

			if(this._intersectsWith(this.containers[i].containerCache)) {

				// if we've already found a container and it's more "inner" than this, then continue
				if(innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
					continue;
				}

				innermostContainer = this.containers[i];
				innermostIndex = i;

			} else {
				// container doesn't intersect. trigger "out" event if necessary
				if(this.containers[i].containerCache.over) {
					this.containers[i]._trigger("out", event, this._uiHash(this));
					this.containers[i].containerCache.over = 0;
				}
			}

		}

		// if no intersecting containers found, return
		if(!innermostContainer) {
			return;
		}

		// move the item into the container if it's not there already
		if(this.containers.length === 1) {
			if (!this.containers[innermostIndex].containerCache.over) {
				this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
				this.containers[innermostIndex].containerCache.over = 1;
			}
		} else {

			//When entering a new container, we will find the item with the least distance and append our item near it
			dist = 10000;
			itemWithLeastDistance = null;
			floating = innermostContainer.floating || this._isFloating(this.currentItem);
			posProperty = floating ? "left" : "top";
			sizeProperty = floating ? "width" : "height";
			axis = floating ? "clientX" : "clientY";

			for (j = this.items.length - 1; j >= 0; j--) {
				if(!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
					continue;
				}
				if(this.items[j].item[0] === this.currentItem[0]) {
					continue;
				}

				cur = this.items[j].item.offset()[posProperty];
				nearBottom = false;
				if ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {
					nearBottom = true;
				}

				if ( Math.abs( event[ axis ] - cur ) < dist ) {
					dist = Math.abs( event[ axis ] - cur );
					itemWithLeastDistance = this.items[ j ];
					this.direction = nearBottom ? "up": "down";
				}
			}

			//Check if dropOnEmpty is enabled
			if(!itemWithLeastDistance && !this.options.dropOnEmpty) {
				return;
			}

			if(this.currentContainer === this.containers[innermostIndex]) {
				if ( !this.currentContainer.containerCache.over ) {
					this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash() );
					this.currentContainer.containerCache.over = 1;
				}
				return;
			}

			itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
			this._trigger("change", event, this._uiHash());
			this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
			this.currentContainer = this.containers[innermostIndex];

			//Update the placeholder
			this.options.placeholder.update(this.currentContainer, this.placeholder);

			this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
			this.containers[innermostIndex].containerCache.over = 1;
		}


	},

	_createHelper: function(event) {

		var o = this.options,
			helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === "clone" ? this.currentItem.clone() : this.currentItem);

		//Add the helper to the DOM if that didn't happen already
		if(!helper.parents("body").length) {
			$(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
		}

		if(helper[0] === this.currentItem[0]) {
			this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") };
		}

		if(!helper[0].style.width || o.forceHelperSize) {
			helper.width(this.currentItem.width());
		}
		if(!helper[0].style.height || o.forceHelperSize) {
			helper.height(this.currentItem.height());
		}

		return helper;

	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = {left: +obj[0], top: +obj[1] || 0};
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_getParentOffset: function() {


		//Get the offsetParent and cache its position
		this.offsetParent = this.helper.offsetParent();
		var po = this.offsetParent.offset();

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if(this.cssPosition === "absolute" && this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		// This needs to be actually done for all browsers, since pageX/pageY includes this information
		// with an ugly IE fix
		if( this.offsetParent[0] === this.document[0].body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"),10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"),10) || 0)
		};

	},

	_getRelativeOffset: function() {

		if(this.cssPosition === "relative") {
			var p = this.currentItem.position();
			return {
				top: p.top - (parseInt(this.helper.css("top"),10) || 0) + this.scrollParent.scrollTop(),
				left: p.left - (parseInt(this.helper.css("left"),10) || 0) + this.scrollParent.scrollLeft()
			};
		} else {
			return { top: 0, left: 0 };
		}

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.currentItem.css("marginLeft"),10) || 0),
			top: (parseInt(this.currentItem.css("marginTop"),10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var ce, co, over,
			o = this.options;
		if(o.containment === "parent") {
			o.containment = this.helper[0].parentNode;
		}
		if(o.containment === "document" || o.containment === "window") {
			this.containment = [
				0 - this.offset.relative.left - this.offset.parent.left,
				0 - this.offset.relative.top - this.offset.parent.top,
				o.containment === "document" ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left,
				(o.containment === "document" ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
			];
		}

		if(!(/^(document|window|parent)$/).test(o.containment)) {
			ce = $(o.containment)[0];
			co = $(o.containment).offset();
			over = ($(ce).css("overflow") !== "hidden");

			this.containment = [
				co.left + (parseInt($(ce).css("borderLeftWidth"),10) || 0) + (parseInt($(ce).css("paddingLeft"),10) || 0) - this.margins.left,
				co.top + (parseInt($(ce).css("borderTopWidth"),10) || 0) + (parseInt($(ce).css("paddingTop"),10) || 0) - this.margins.top,
				co.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"),10) || 0) - (parseInt($(ce).css("paddingRight"),10) || 0) - this.helperProportions.width - this.margins.left,
				co.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"),10) || 0) - (parseInt($(ce).css("paddingBottom"),10) || 0) - this.helperProportions.height - this.margins.top
			];
		}

	},

	_convertPositionTo: function(d, pos) {

		if(!pos) {
			pos = this.position;
		}
		var mod = d === "absolute" ? 1 : -1,
			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
			scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -											// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
			)
		};

	},

	_generatePosition: function(event) {

		var top, left,
			o = this.options,
			pageX = event.pageX,
			pageY = event.pageY,
			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);

		// This is another very weird special case that only happens for relative elements:
		// 1. If the css position is relative
		// 2. and the scroll parent is the document or similar to the offset parent
		// we have to refresh the relative offset during the scroll so there are no jumps
		if(this.cssPosition === "relative" && !(this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0])) {
			this.offset.relative = this._getRelativeOffset();
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		if(this.originalPosition) { //If we are not dragging yet, we won't check for options

			if(this.containment) {
				if(event.pageX - this.offset.click.left < this.containment[0]) {
					pageX = this.containment[0] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top < this.containment[1]) {
					pageY = this.containment[1] + this.offset.click.top;
				}
				if(event.pageX - this.offset.click.left > this.containment[2]) {
					pageX = this.containment[2] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top > this.containment[3]) {
					pageY = this.containment[3] + this.offset.click.top;
				}
			}

			if(o.grid) {
				top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
				pageY = this.containment ? ( (top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
				pageX = this.containment ? ( (left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

		}

		return {
			top: (
				pageY -																// The absolute mouse position
				this.offset.click.top -													// Click offset (relative to the element)
				this.offset.relative.top	-											// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
			),
			left: (
				pageX -																// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left	-											// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
			)
		};

	},

	_rearrange: function(event, i, a, hardRefresh) {

		a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === "down" ? i.item[0] : i.item[0].nextSibling));

		//Various things done here to improve the performance:
		// 1. we create a setTimeout, that calls refreshPositions
		// 2. on the instance, we have a counter variable, that get's higher after every append
		// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same
		// 4. this lets only the last addition to the timeout stack through
		this.counter = this.counter ? ++this.counter : 1;
		var counter = this.counter;

		this._delay(function() {
			if(counter === this.counter) {
				this.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove
			}
		});

	},

	_clear: function(event, noPropagation) {

		this.reverting = false;
		// We delay all events that have to be triggered to after the point where the placeholder has been removed and
		// everything else normalized again
		var i,
			delayedTriggers = [];

		// We first have to update the dom position of the actual currentItem
		// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)
		if(!this._noFinalSort && this.currentItem.parent().length) {
			this.placeholder.before(this.currentItem);
		}
		this._noFinalSort = null;

		if(this.helper[0] === this.currentItem[0]) {
			for(i in this._storedCSS) {
				if(this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
					this._storedCSS[i] = "";
				}
			}
			this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
		} else {
			this.currentItem.show();
		}

		if(this.fromOutside && !noPropagation) {
			delayedTriggers.push(function(event) { this._trigger("receive", event, this._uiHash(this.fromOutside)); });
		}
		if((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
			delayedTriggers.push(function(event) { this._trigger("update", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed
		}

		// Check if the items Container has Changed and trigger appropriate
		// events.
		if (this !== this.currentContainer) {
			if(!noPropagation) {
				delayedTriggers.push(function(event) { this._trigger("remove", event, this._uiHash()); });
				delayedTriggers.push((function(c) { return function(event) { c._trigger("receive", event, this._uiHash(this)); };  }).call(this, this.currentContainer));
				delayedTriggers.push((function(c) { return function(event) { c._trigger("update", event, this._uiHash(this));  }; }).call(this, this.currentContainer));
			}
		}


		//Post events to containers
		function delayEvent( type, instance, container ) {
			return function( event ) {
				container._trigger( type, event, instance._uiHash( instance ) );
			};
		}
		for (i = this.containers.length - 1; i >= 0; i--){
			if (!noPropagation) {
				delayedTriggers.push( delayEvent( "deactivate", this, this.containers[ i ] ) );
			}
			if(this.containers[i].containerCache.over) {
				delayedTriggers.push( delayEvent( "out", this, this.containers[ i ] ) );
				this.containers[i].containerCache.over = 0;
			}
		}

		//Do what was originally in plugins
		if ( this.storedCursor ) {
			this.document.find( "body" ).css( "cursor", this.storedCursor );
			this.storedStylesheet.remove();
		}
		if(this._storedOpacity) {
			this.helper.css("opacity", this._storedOpacity);
		}
		if(this._storedZIndex) {
			this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex);
		}

		this.dragging = false;

		if(!noPropagation) {
			this._trigger("beforeStop", event, this._uiHash());
		}

		//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
		this.placeholder[0].parentNode.removeChild(this.placeholder[0]);

		if ( !this.cancelHelperRemoval ) {
			if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
				this.helper.remove();
			}
			this.helper = null;
		}

		if(!noPropagation) {
			for (i=0; i < delayedTriggers.length; i++) {
				delayedTriggers[i].call(this, event);
			} //Trigger all delayed events
			this._trigger("stop", event, this._uiHash());
		}

		this.fromOutside = false;
		return !this.cancelHelperRemoval;

	},

	_trigger: function() {
		if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
			this.cancel();
		}
	},

	_uiHash: function(_inst) {
		var inst = _inst || this;
		return {
			helper: inst.helper,
			placeholder: inst.placeholder || $([]),
			position: inst.position,
			originalPosition: inst.originalPosition,
			offset: inst.positionAbs,
			item: inst.currentItem,
			sender: _inst ? _inst.element : null
		};
	}

});


/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */


function spinner_modifier( fn ) {
	return function() {
		var previous = this.element.val();
		fn.apply( this, arguments );
		this._refresh();
		if ( previous !== this.element.val() ) {
			this._trigger( "change" );
		}
	};
}

var spinner = $.widget( "ui.spinner", {
	version: "1.11.4",
	defaultElement: "<input>",
	widgetEventPrefix: "spin",
	options: {
		culture: null,
		icons: {
			down: "ui-icon-triangle-1-s",
			up: "ui-icon-triangle-1-n"
		},
		incremental: true,
		max: null,
		min: null,
		numberFormat: null,
		page: 10,
		step: 1,

		change: null,
		spin: null,
		start: null,
		stop: null
	},

	_create: function() {
		// handle string values that need to be parsed
		this._setOption( "max", this.options.max );
		this._setOption( "min", this.options.min );
		this._setOption( "step", this.options.step );

		// Only format if there is a value, prevents the field from being marked
		// as invalid in Firefox, see #9573.
		if ( this.value() !== "" ) {
			// Format the value, but don't constrain.
			this._value( this.element.val(), true );
		}

		this._draw();
		this._on( this._events );
		this._refresh();

		// turning off autocomplete prevents the browser from remembering the
		// value when navigating through history, so we re-enable autocomplete
		// if the page is unloaded before the widget is destroyed. #7790
		this._on( this.window, {
			beforeunload: function() {
				this.element.removeAttr( "autocomplete" );
			}
		});
	},

	_getCreateOptions: function() {
		var options = {},
			element = this.element;

		$.each( [ "min", "max", "step" ], function( i, option ) {
			var value = element.attr( option );
			if ( value !== undefined && value.length ) {
				options[ option ] = value;
			}
		});

		return options;
	},

	_events: {
		keydown: function( event ) {
			if ( this._start( event ) && this._keydown( event ) ) {
				event.preventDefault();
			}
		},
		keyup: "_stop",
		focus: function() {
			this.previous = this.element.val();
		},
		blur: function( event ) {
			if ( this.cancelBlur ) {
				delete this.cancelBlur;
				return;
			}

			this._stop();
			this._refresh();
			if ( this.previous !== this.element.val() ) {
				this._trigger( "change", event );
			}
		},
		mousewheel: function( event, delta ) {
			if ( !delta ) {
				return;
			}
			if ( !this.spinning && !this._start( event ) ) {
				return false;
			}

			this._spin( (delta > 0 ? 1 : -1) * this.options.step, event );
			clearTimeout( this.mousewheelTimer );
			this.mousewheelTimer = this._delay(function() {
				if ( this.spinning ) {
					this._stop( event );
				}
			}, 100 );
			event.preventDefault();
		},
		"mousedown .ui-spinner-button": function( event ) {
			var previous;

			// We never want the buttons to have focus; whenever the user is
			// interacting with the spinner, the focus should be on the input.
			// If the input is focused then this.previous is properly set from
			// when the input first received focus. If the input is not focused
			// then we need to set this.previous based on the value before spinning.
			previous = this.element[0] === this.document[0].activeElement ?
				this.previous : this.element.val();
			function checkFocus() {
				var isActive = this.element[0] === this.document[0].activeElement;
				if ( !isActive ) {
					this.element.focus();
					this.previous = previous;
					// support: IE
					// IE sets focus asynchronously, so we need to check if focus
					// moved off of the input because the user clicked on the button.
					this._delay(function() {
						this.previous = previous;
					});
				}
			}

			// ensure focus is on (or stays on) the text field
			event.preventDefault();
			checkFocus.call( this );

			// support: IE
			// IE doesn't prevent moving focus even with event.preventDefault()
			// so we set a flag to know when we should ignore the blur event
			// and check (again) if focus moved off of the input.
			this.cancelBlur = true;
			this._delay(function() {
				delete this.cancelBlur;
				checkFocus.call( this );
			});

			if ( this._start( event ) === false ) {
				return;
			}

			this._repeat( null, $( event.currentTarget ).hasClass( "ui-spinner-up" ) ? 1 : -1, event );
		},
		"mouseup .ui-spinner-button": "_stop",
		"mouseenter .ui-spinner-button": function( event ) {
			// button will add ui-state-active if mouse was down while mouseleave and kept down
			if ( !$( event.currentTarget ).hasClass( "ui-state-active" ) ) {
				return;
			}

			if ( this._start( event ) === false ) {
				return false;
			}
			this._repeat( null, $( event.currentTarget ).hasClass( "ui-spinner-up" ) ? 1 : -1, event );
		},
		// TODO: do we really want to consider this a stop?
		// shouldn't we just stop the repeater and wait until mouseup before
		// we trigger the stop event?
		"mouseleave .ui-spinner-button": "_stop"
	},

	_draw: function() {
		var uiSpinner = this.uiSpinner = this.element
			.addClass( "ui-spinner-input" )
			.attr( "autocomplete", "off" )
			.wrap( this._uiSpinnerHtml() )
			.parent()
				// add buttons
				.append( this._buttonHtml() );

		this.element.attr( "role", "spinbutton" );

		// button bindings
		this.buttons = uiSpinner.find( ".ui-spinner-button" )
			.attr( "tabIndex", -1 )
			.button()
			.removeClass( "ui-corner-all" );

		// IE 6 doesn't understand height: 50% for the buttons
		// unless the wrapper has an explicit height
		if ( this.buttons.height() > Math.ceil( uiSpinner.height() * 0.5 ) &&
				uiSpinner.height() > 0 ) {
			uiSpinner.height( uiSpinner.height() );
		}

		// disable spinner if element was already disabled
		if ( this.options.disabled ) {
			this.disable();
		}
	},

	_keydown: function( event ) {
		var options = this.options,
			keyCode = $.ui.keyCode;

		switch ( event.keyCode ) {
		case keyCode.UP:
			this._repeat( null, 1, event );
			return true;
		case keyCode.DOWN:
			this._repeat( null, -1, event );
			return true;
		case keyCode.PAGE_UP:
			this._repeat( null, options.page, event );
			return true;
		case keyCode.PAGE_DOWN:
			this._repeat( null, -options.page, event );
			return true;
		}

		return false;
	},

	_uiSpinnerHtml: function() {
		return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
	},

	_buttonHtml: function() {
		return "" +
			"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>" +
				"<span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" +
			"</a>" +
			"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" +
				"<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" +
			"</a>";
	},

	_start: function( event ) {
		if ( !this.spinning && this._trigger( "start", event ) === false ) {
			return false;
		}

		if ( !this.counter ) {
			this.counter = 1;
		}
		this.spinning = true;
		return true;
	},

	_repeat: function( i, steps, event ) {
		i = i || 500;

		clearTimeout( this.timer );
		this.timer = this._delay(function() {
			this._repeat( 40, steps, event );
		}, i );

		this._spin( steps * this.options.step, event );
	},

	_spin: function( step, event ) {
		var value = this.value() || 0;

		if ( !this.counter ) {
			this.counter = 1;
		}

		value = this._adjustValue( value + step * this._increment( this.counter ) );

		if ( !this.spinning || this._trigger( "spin", event, { value: value } ) !== false) {
			this._value( value );
			this.counter++;
		}
	},

	_increment: function( i ) {
		var incremental = this.options.incremental;

		if ( incremental ) {
			return $.isFunction( incremental ) ?
				incremental( i ) :
				Math.floor( i * i * i / 50000 - i * i / 500 + 17 * i / 200 + 1 );
		}

		return 1;
	},

	_precision: function() {
		var precision = this._precisionOf( this.options.step );
		if ( this.options.min !== null ) {
			precision = Math.max( precision, this._precisionOf( this.options.min ) );
		}
		return precision;
	},

	_precisionOf: function( num ) {
		var str = num.toString(),
			decimal = str.indexOf( "." );
		return decimal === -1 ? 0 : str.length - decimal - 1;
	},

	_adjustValue: function( value ) {
		var base, aboveMin,
			options = this.options;

		// make sure we're at a valid step
		// - find out where we are relative to the base (min or 0)
		base = options.min !== null ? options.min : 0;
		aboveMin = value - base;
		// - round to the nearest step
		aboveMin = Math.round(aboveMin / options.step) * options.step;
		// - rounding is based on 0, so adjust back to our base
		value = base + aboveMin;

		// fix precision from bad JS floating point math
		value = parseFloat( value.toFixed( this._precision() ) );

		// clamp the value
		if ( options.max !== null && value > options.max) {
			return options.max;
		}
		if ( options.min !== null && value < options.min ) {
			return options.min;
		}

		return value;
	},

	_stop: function( event ) {
		if ( !this.spinning ) {
			return;
		}

		clearTimeout( this.timer );
		clearTimeout( this.mousewheelTimer );
		this.counter = 0;
		this.spinning = false;
		this._trigger( "stop", event );
	},

	_setOption: function( key, value ) {
		if ( key === "culture" || key === "numberFormat" ) {
			var prevValue = this._parse( this.element.val() );
			this.options[ key ] = value;
			this.element.val( this._format( prevValue ) );
			return;
		}

		if ( key === "max" || key === "min" || key === "step" ) {
			if ( typeof value === "string" ) {
				value = this._parse( value );
			}
		}
		if ( key === "icons" ) {
			this.buttons.first().find( ".ui-icon" )
				.removeClass( this.options.icons.up )
				.addClass( value.up );
			this.buttons.last().find( ".ui-icon" )
				.removeClass( this.options.icons.down )
				.addClass( value.down );
		}

		this._super( key, value );

		if ( key === "disabled" ) {
			this.widget().toggleClass( "ui-state-disabled", !!value );
			this.element.prop( "disabled", !!value );
			this.buttons.button( value ? "disable" : "enable" );
		}
	},

	_setOptions: spinner_modifier(function( options ) {
		this._super( options );
	}),

	_parse: function( val ) {
		if ( typeof val === "string" && val !== "" ) {
			val = window.Globalize && this.options.numberFormat ?
				Globalize.parseFloat( val, 10, this.options.culture ) : +val;
		}
		return val === "" || isNaN( val ) ? null : val;
	},

	_format: function( value ) {
		if ( value === "" ) {
			return "";
		}
		return window.Globalize && this.options.numberFormat ?
			Globalize.format( value, this.options.numberFormat, this.options.culture ) :
			value;
	},

	_refresh: function() {
		this.element.attr({
			"aria-valuemin": this.options.min,
			"aria-valuemax": this.options.max,
			// TODO: what should we do with values that can't be parsed?
			"aria-valuenow": this._parse( this.element.val() )
		});
	},

	isValid: function() {
		var value = this.value();

		// null is invalid
		if ( value === null ) {
			return false;
		}

		// if value gets adjusted, it's invalid
		return value === this._adjustValue( value );
	},

	// update the value without triggering change
	_value: function( value, allowAny ) {
		var parsed;
		if ( value !== "" ) {
			parsed = this._parse( value );
			if ( parsed !== null ) {
				if ( !allowAny ) {
					parsed = this._adjustValue( parsed );
				}
				value = this._format( parsed );
			}
		}
		this.element.val( value );
		this._refresh();
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-spinner-input" )
			.prop( "disabled", false )
			.removeAttr( "autocomplete" )
			.removeAttr( "role" )
			.removeAttr( "aria-valuemin" )
			.removeAttr( "aria-valuemax" )
			.removeAttr( "aria-valuenow" );
		this.uiSpinner.replaceWith( this.element );
	},

	stepUp: spinner_modifier(function( steps ) {
		this._stepUp( steps );
	}),
	_stepUp: function( steps ) {
		if ( this._start() ) {
			this._spin( (steps || 1) * this.options.step );
			this._stop();
		}
	},

	stepDown: spinner_modifier(function( steps ) {
		this._stepDown( steps );
	}),
	_stepDown: function( steps ) {
		if ( this._start() ) {
			this._spin( (steps || 1) * -this.options.step );
			this._stop();
		}
	},

	pageUp: spinner_modifier(function( pages ) {
		this._stepUp( (pages || 1) * this.options.page );
	}),

	pageDown: spinner_modifier(function( pages ) {
		this._stepDown( (pages || 1) * this.options.page );
	}),

	value: function( newVal ) {
		if ( !arguments.length ) {
			return this._parse( this.element.val() );
		}
		spinner_modifier( this._value ).call( this, newVal );
	},

	widget: function() {
		return this.uiSpinner;
	}
});


/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */


var tabs = $.widget( "ui.tabs", {
	version: "1.11.4",
	delay: 300,
	options: {
		active: null,
		collapsible: false,
		event: "click",
		heightStyle: "content",
		hide: null,
		show: null,

		// callbacks
		activate: null,
		beforeActivate: null,
		beforeLoad: null,
		load: null
	},

	_isLocal: (function() {
		var rhash = /#.*$/;

		return function( anchor ) {
			var anchorUrl, locationUrl;

			// support: IE7
			// IE7 doesn't normalize the href property when set via script (#9317)
			anchor = anchor.cloneNode( false );

			anchorUrl = anchor.href.replace( rhash, "" );
			locationUrl = location.href.replace( rhash, "" );

			// decoding may throw an error if the URL isn't UTF-8 (#9518)
			try {
				anchorUrl = decodeURIComponent( anchorUrl );
			} catch ( error ) {}
			try {
				locationUrl = decodeURIComponent( locationUrl );
			} catch ( error ) {}

			return anchor.hash.length > 1 && anchorUrl === locationUrl;
		};
	})(),

	_create: function() {
		var that = this,
			options = this.options;

		this.running = false;

		this.element
			.addClass( "ui-tabs ui-widget ui-widget-content ui-corner-all" )
			.toggleClass( "ui-tabs-collapsible", options.collapsible );

		this._processTabs();
		options.active = this._initialActive();

		// Take disabling tabs via class attribute from HTML
		// into account and update option properly.
		if ( $.isArray( options.disabled ) ) {
			options.disabled = $.unique( options.disabled.concat(
				$.map( this.tabs.filter( ".ui-state-disabled" ), function( li ) {
					return that.tabs.index( li );
				})
			) ).sort();
		}

		// check for length avoids error when initializing empty list
		if ( this.options.active !== false && this.anchors.length ) {
			this.active = this._findActive( options.active );
		} else {
			this.active = $();
		}

		this._refresh();

		if ( this.active.length ) {
			this.load( options.active );
		}
	},

	_initialActive: function() {
		var active = this.options.active,
			collapsible = this.options.collapsible,
			locationHash = location.hash.substring( 1 );

		if ( active === null ) {
			// check the fragment identifier in the URL
			if ( locationHash ) {
				this.tabs.each(function( i, tab ) {
					if ( $( tab ).attr( "aria-controls" ) === locationHash ) {
						active = i;
						return false;
					}
				});
			}

			// check for a tab marked active via a class
			if ( active === null ) {
				active = this.tabs.index( this.tabs.filter( ".ui-tabs-active" ) );
			}

			// no active tab, set to false
			if ( active === null || active === -1 ) {
				active = this.tabs.length ? 0 : false;
			}
		}

		// handle numbers: negative, out of range
		if ( active !== false ) {
			active = this.tabs.index( this.tabs.eq( active ) );
			if ( active === -1 ) {
				active = collapsible ? false : 0;
			}
		}

		// don't allow collapsible: false and active: false
		if ( !collapsible && active === false && this.anchors.length ) {
			active = 0;
		}

		return active;
	},

	_getCreateEventData: function() {
		return {
			tab: this.active,
			panel: !this.active.length ? $() : this._getPanelForTab( this.active )
		};
	},

	_tabKeydown: function( event ) {
		var focusedTab = $( this.document[0].activeElement ).closest( "li" ),
			selectedIndex = this.tabs.index( focusedTab ),
			goingForward = true;

		if ( this._handlePageNav( event ) ) {
			return;
		}

		switch ( event.keyCode ) {
			case $.ui.keyCode.RIGHT:
			case $.ui.keyCode.DOWN:
				selectedIndex++;
				break;
			case $.ui.keyCode.UP:
			case $.ui.keyCode.LEFT:
				goingForward = false;
				selectedIndex--;
				break;
			case $.ui.keyCode.END:
				selectedIndex = this.anchors.length - 1;
				break;
			case $.ui.keyCode.HOME:
				selectedIndex = 0;
				break;
			case $.ui.keyCode.SPACE:
				// Activate only, no collapsing
				event.preventDefault();
				clearTimeout( this.activating );
				this._activate( selectedIndex );
				return;
			case $.ui.keyCode.ENTER:
				// Toggle (cancel delayed activation, allow collapsing)
				event.preventDefault();
				clearTimeout( this.activating );
				// Determine if we should collapse or activate
				this._activate( selectedIndex === this.options.active ? false : selectedIndex );
				return;
			default:
				return;
		}

		// Focus the appropriate tab, based on which key was pressed
		event.preventDefault();
		clearTimeout( this.activating );
		selectedIndex = this._focusNextTab( selectedIndex, goingForward );

		// Navigating with control/command key will prevent automatic activation
		if ( !event.ctrlKey && !event.metaKey ) {

			// Update aria-selected immediately so that AT think the tab is already selected.
			// Otherwise AT may confuse the user by stating that they need to activate the tab,
			// but the tab will already be activated by the time the announcement finishes.
			focusedTab.attr( "aria-selected", "false" );
			this.tabs.eq( selectedIndex ).attr( "aria-selected", "true" );

			this.activating = this._delay(function() {
				this.option( "active", selectedIndex );
			}, this.delay );
		}
	},

	_panelKeydown: function( event ) {
		if ( this._handlePageNav( event ) ) {
			return;
		}

		// Ctrl+up moves focus to the current tab
		if ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {
			event.preventDefault();
			this.active.focus();
		}
	},

	// Alt+page up/down moves focus to the previous/next tab (and activates)
	_handlePageNav: function( event ) {
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {
			this._activate( this._focusNextTab( this.options.active - 1, false ) );
			return true;
		}
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {
			this._activate( this._focusNextTab( this.options.active + 1, true ) );
			return true;
		}
	},

	_findNextTab: function( index, goingForward ) {
		var lastTabIndex = this.tabs.length - 1;

		function constrain() {
			if ( index > lastTabIndex ) {
				index = 0;
			}
			if ( index < 0 ) {
				index = lastTabIndex;
			}
			return index;
		}

		while ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {
			index = goingForward ? index + 1 : index - 1;
		}

		return index;
	},

	_focusNextTab: function( index, goingForward ) {
		index = this._findNextTab( index, goingForward );
		this.tabs.eq( index ).focus();
		return index;
	},

	_setOption: function( key, value ) {
		if ( key === "active" ) {
			// _activate() will handle invalid values and update this.options
			this._activate( value );
			return;
		}

		if ( key === "disabled" ) {
			// don't use the widget factory's disabled handling
			this._setupDisabled( value );
			return;
		}

		this._super( key, value);

		if ( key === "collapsible" ) {
			this.element.toggleClass( "ui-tabs-collapsible", value );
			// Setting collapsible: false while collapsed; open first panel
			if ( !value && this.options.active === false ) {
				this._activate( 0 );
			}
		}

		if ( key === "event" ) {
			this._setupEvents( value );
		}

		if ( key === "heightStyle" ) {
			this._setupHeightStyle( value );
		}
	},

	_sanitizeSelector: function( hash ) {
		return hash ? hash.replace( /[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&" ) : "";
	},

	refresh: function() {
		var options = this.options,
			lis = this.tablist.children( ":has(a[href])" );

		// get disabled tabs from class attribute from HTML
		// this will get converted to a boolean if needed in _refresh()
		options.disabled = $.map( lis.filter( ".ui-state-disabled" ), function( tab ) {
			return lis.index( tab );
		});

		this._processTabs();

		// was collapsed or no tabs
		if ( options.active === false || !this.anchors.length ) {
			options.active = false;
			this.active = $();
		// was active, but active tab is gone
		} else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {
			// all remaining tabs are disabled
			if ( this.tabs.length === options.disabled.length ) {
				options.active = false;
				this.active = $();
			// activate previous tab
			} else {
				this._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );
			}
		// was active, active tab still exists
		} else {
			// make sure active index is correct
			options.active = this.tabs.index( this.active );
		}

		this._refresh();
	},

	_refresh: function() {
		this._setupDisabled( this.options.disabled );
		this._setupEvents( this.options.event );
		this._setupHeightStyle( this.options.heightStyle );

		this.tabs.not( this.active ).attr({
			"aria-selected": "false",
			"aria-expanded": "false",
			tabIndex: -1
		});
		this.panels.not( this._getPanelForTab( this.active ) )
			.hide()
			.attr({
				"aria-hidden": "true"
			});

		// Make sure one tab is in the tab order
		if ( !this.active.length ) {
			this.tabs.eq( 0 ).attr( "tabIndex", 0 );
		} else {
			this.active
				.addClass( "ui-tabs-active ui-state-active" )
				.attr({
					"aria-selected": "true",
					"aria-expanded": "true",
					tabIndex: 0
				});
			this._getPanelForTab( this.active )
				.show()
				.attr({
					"aria-hidden": "false"
				});
		}
	},

	_processTabs: function() {
		var that = this,
			prevTabs = this.tabs,
			prevAnchors = this.anchors,
			prevPanels = this.panels;

		this.tablist = this._getList()
			.addClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.attr( "role", "tablist" )

			// Prevent users from focusing disabled tabs via click
			.delegate( "> li", "mousedown" + this.eventNamespace, function( event ) {
				if ( $( this ).is( ".ui-state-disabled" ) ) {
					event.preventDefault();
				}
			})

			// support: IE <9
			// Preventing the default action in mousedown doesn't prevent IE
			// from focusing the element, so if the anchor gets focused, blur.
			// We don't have to worry about focusing the previously focused
			// element since clicking on a non-focusable element should focus
			// the body anyway.
			.delegate( ".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
				if ( $( this ).closest( "li" ).is( ".ui-state-disabled" ) ) {
					this.blur();
				}
			});

		this.tabs = this.tablist.find( "> li:has(a[href])" )
			.addClass( "ui-state-default ui-corner-top" )
			.attr({
				role: "tab",
				tabIndex: -1
			});

		this.anchors = this.tabs.map(function() {
				return $( "a", this )[ 0 ];
			})
			.addClass( "ui-tabs-anchor" )
			.attr({
				role: "presentation",
				tabIndex: -1
			});

		this.panels = $();

		this.anchors.each(function( i, anchor ) {
			var selector, panel, panelId,
				anchorId = $( anchor ).uniqueId().attr( "id" ),
				tab = $( anchor ).closest( "li" ),
				originalAriaControls = tab.attr( "aria-controls" );

			// inline tab
			if ( that._isLocal( anchor ) ) {
				selector = anchor.hash;
				panelId = selector.substring( 1 );
				panel = that.element.find( that._sanitizeSelector( selector ) );
			// remote tab
			} else {
				// If the tab doesn't already have aria-controls,
				// generate an id by using a throw-away element
				panelId = tab.attr( "aria-controls" ) || $( {} ).uniqueId()[ 0 ].id;
				selector = "#" + panelId;
				panel = that.element.find( selector );
				if ( !panel.length ) {
					panel = that._createPanel( panelId );
					panel.insertAfter( that.panels[ i - 1 ] || that.tablist );
				}
				panel.attr( "aria-live", "polite" );
			}

			if ( panel.length) {
				that.panels = that.panels.add( panel );
			}
			if ( originalAriaControls ) {
				tab.data( "ui-tabs-aria-controls", originalAriaControls );
			}
			tab.attr({
				"aria-controls": panelId,
				"aria-labelledby": anchorId
			});
			panel.attr( "aria-labelledby", anchorId );
		});

		this.panels
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.attr( "role", "tabpanel" );

		// Avoid memory leaks (#10056)
		if ( prevTabs ) {
			this._off( prevTabs.not( this.tabs ) );
			this._off( prevAnchors.not( this.anchors ) );
			this._off( prevPanels.not( this.panels ) );
		}
	},

	// allow overriding how to find the list for rare usage scenarios (#7715)
	_getList: function() {
		return this.tablist || this.element.find( "ol,ul" ).eq( 0 );
	},

	_createPanel: function( id ) {
		return $( "<div>" )
			.attr( "id", id )
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.data( "ui-tabs-destroy", true );
	},

	_setupDisabled: function( disabled ) {
		if ( $.isArray( disabled ) ) {
			if ( !disabled.length ) {
				disabled = false;
			} else if ( disabled.length === this.anchors.length ) {
				disabled = true;
			}
		}

		// disable tabs
		for ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {
			if ( disabled === true || $.inArray( i, disabled ) !== -1 ) {
				$( li )
					.addClass( "ui-state-disabled" )
					.attr( "aria-disabled", "true" );
			} else {
				$( li )
					.removeClass( "ui-state-disabled" )
					.removeAttr( "aria-disabled" );
			}
		}

		this.options.disabled = disabled;
	},

	_setupEvents: function( event ) {
		var events = {};
		if ( event ) {
			$.each( event.split(" "), function( index, eventName ) {
				events[ eventName ] = "_eventHandler";
			});
		}

		this._off( this.anchors.add( this.tabs ).add( this.panels ) );
		// Always prevent the default action, even when disabled
		this._on( true, this.anchors, {
			click: function( event ) {
				event.preventDefault();
			}
		});
		this._on( this.anchors, events );
		this._on( this.tabs, { keydown: "_tabKeydown" } );
		this._on( this.panels, { keydown: "_panelKeydown" } );

		this._focusable( this.tabs );
		this._hoverable( this.tabs );
	},

	_setupHeightStyle: function( heightStyle ) {
		var maxHeight,
			parent = this.element.parent();

		if ( heightStyle === "fill" ) {
			maxHeight = parent.height();
			maxHeight -= this.element.outerHeight() - this.element.height();

			this.element.siblings( ":visible" ).each(function() {
				var elem = $( this ),
					position = elem.css( "position" );

				if ( position === "absolute" || position === "fixed" ) {
					return;
				}
				maxHeight -= elem.outerHeight( true );
			});

			this.element.children().not( this.panels ).each(function() {
				maxHeight -= $( this ).outerHeight( true );
			});

			this.panels.each(function() {
				$( this ).height( Math.max( 0, maxHeight -
					$( this ).innerHeight() + $( this ).height() ) );
			})
			.css( "overflow", "auto" );
		} else if ( heightStyle === "auto" ) {
			maxHeight = 0;
			this.panels.each(function() {
				maxHeight = Math.max( maxHeight, $( this ).height( "" ).height() );
			}).height( maxHeight );
		}
	},

	_eventHandler: function( event ) {
		var options = this.options,
			active = this.active,
			anchor = $( event.currentTarget ),
			tab = anchor.closest( "li" ),
			clickedIsActive = tab[ 0 ] === active[ 0 ],
			collapsing = clickedIsActive && options.collapsible,
			toShow = collapsing ? $() : this._getPanelForTab( tab ),
			toHide = !active.length ? $() : this._getPanelForTab( active ),
			eventData = {
				oldTab: active,
				oldPanel: toHide,
				newTab: collapsing ? $() : tab,
				newPanel: toShow
			};

		event.preventDefault();

		if ( tab.hasClass( "ui-state-disabled" ) ||
				// tab is already loading
				tab.hasClass( "ui-tabs-loading" ) ||
				// can't switch durning an animation
				this.running ||
				// click on active header, but not collapsible
				( clickedIsActive && !options.collapsible ) ||
				// allow canceling activation
				( this._trigger( "beforeActivate", event, eventData ) === false ) ) {
			return;
		}

		options.active = collapsing ? false : this.tabs.index( tab );

		this.active = clickedIsActive ? $() : tab;
		if ( this.xhr ) {
			this.xhr.abort();
		}

		if ( !toHide.length && !toShow.length ) {
			$.error( "jQuery UI Tabs: Mismatching fragment identifier." );
		}

		if ( toShow.length ) {
			this.load( this.tabs.index( tab ), event );
		}
		this._toggle( event, eventData );
	},

	// handles show/hide for selecting tabs
	_toggle: function( event, eventData ) {
		var that = this,
			toShow = eventData.newPanel,
			toHide = eventData.oldPanel;

		this.running = true;

		function complete() {
			that.running = false;
			that._trigger( "activate", event, eventData );
		}

		function show() {
			eventData.newTab.closest( "li" ).addClass( "ui-tabs-active ui-state-active" );

			if ( toShow.length && that.options.show ) {
				that._show( toShow, that.options.show, complete );
			} else {
				toShow.show();
				complete();
			}
		}

		// start out by hiding, then showing, then completing
		if ( toHide.length && this.options.hide ) {
			this._hide( toHide, this.options.hide, function() {
				eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
				show();
			});
		} else {
			eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
			toHide.hide();
			show();
		}

		toHide.attr( "aria-hidden", "true" );
		eventData.oldTab.attr({
			"aria-selected": "false",
			"aria-expanded": "false"
		});
		// If we're switching tabs, remove the old tab from the tab order.
		// If we're opening from collapsed state, remove the previous tab from the tab order.
		// If we're collapsing, then keep the collapsing tab in the tab order.
		if ( toShow.length && toHide.length ) {
			eventData.oldTab.attr( "tabIndex", -1 );
		} else if ( toShow.length ) {
			this.tabs.filter(function() {
				return $( this ).attr( "tabIndex" ) === 0;
			})
			.attr( "tabIndex", -1 );
		}

		toShow.attr( "aria-hidden", "false" );
		eventData.newTab.attr({
			"aria-selected": "true",
			"aria-expanded": "true",
			tabIndex: 0
		});
	},

	_activate: function( index ) {
		var anchor,
			active = this._findActive( index );

		// trying to activate the already active panel
		if ( active[ 0 ] === this.active[ 0 ] ) {
			return;
		}

		// trying to collapse, simulate a click on the current active header
		if ( !active.length ) {
			active = this.active;
		}

		anchor = active.find( ".ui-tabs-anchor" )[ 0 ];
		this._eventHandler({
			target: anchor,
			currentTarget: anchor,
			preventDefault: $.noop
		});
	},

	_findActive: function( index ) {
		return index === false ? $() : this.tabs.eq( index );
	},

	_getIndex: function( index ) {
		// meta-function to give users option to provide a href string instead of a numerical index.
		if ( typeof index === "string" ) {
			index = this.anchors.index( this.anchors.filter( "[href$='" + index + "']" ) );
		}

		return index;
	},

	_destroy: function() {
		if ( this.xhr ) {
			this.xhr.abort();
		}

		this.element.removeClass( "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible" );

		this.tablist
			.removeClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.removeAttr( "role" );

		this.anchors
			.removeClass( "ui-tabs-anchor" )
			.removeAttr( "role" )
			.removeAttr( "tabIndex" )
			.removeUniqueId();

		this.tablist.unbind( this.eventNamespace );

		this.tabs.add( this.panels ).each(function() {
			if ( $.data( this, "ui-tabs-destroy" ) ) {
				$( this ).remove();
			} else {
				$( this )
					.removeClass( "ui-state-default ui-state-active ui-state-disabled " +
						"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel" )
					.removeAttr( "tabIndex" )
					.removeAttr( "aria-live" )
					.removeAttr( "aria-busy" )
					.removeAttr( "aria-selected" )
					.removeAttr( "aria-labelledby" )
					.removeAttr( "aria-hidden" )
					.removeAttr( "aria-expanded" )
					.removeAttr( "role" );
			}
		});

		this.tabs.each(function() {
			var li = $( this ),
				prev = li.data( "ui-tabs-aria-controls" );
			if ( prev ) {
				li
					.attr( "aria-controls", prev )
					.removeData( "ui-tabs-aria-controls" );
			} else {
				li.removeAttr( "aria-controls" );
			}
		});

		this.panels.show();

		if ( this.options.heightStyle !== "content" ) {
			this.panels.css( "height", "" );
		}
	},

	enable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === false ) {
			return;
		}

		if ( index === undefined ) {
			disabled = false;
		} else {
			index = this._getIndex( index );
			if ( $.isArray( disabled ) ) {
				disabled = $.map( disabled, function( num ) {
					return num !== index ? num : null;
				});
			} else {
				disabled = $.map( this.tabs, function( li, num ) {
					return num !== index ? num : null;
				});
			}
		}
		this._setupDisabled( disabled );
	},

	disable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === true ) {
			return;
		}

		if ( index === undefined ) {
			disabled = true;
		} else {
			index = this._getIndex( index );
			if ( $.inArray( index, disabled ) !== -1 ) {
				return;
			}
			if ( $.isArray( disabled ) ) {
				disabled = $.merge( [ index ], disabled ).sort();
			} else {
				disabled = [ index ];
			}
		}
		this._setupDisabled( disabled );
	},

	load: function( index, event ) {
		index = this._getIndex( index );
		var that = this,
			tab = this.tabs.eq( index ),
			anchor = tab.find( ".ui-tabs-anchor" ),
			panel = this._getPanelForTab( tab ),
			eventData = {
				tab: tab,
				panel: panel
			},
			complete = function( jqXHR, status ) {
				if ( status === "abort" ) {
					that.panels.stop( false, true );
				}

				tab.removeClass( "ui-tabs-loading" );
				panel.removeAttr( "aria-busy" );

				if ( jqXHR === that.xhr ) {
					delete that.xhr;
				}
			};

		// not remote
		if ( this._isLocal( anchor[ 0 ] ) ) {
			return;
		}

		this.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );

		// support: jQuery <1.8
		// jQuery <1.8 returns false if the request is canceled in beforeSend,
		// but as of 1.8, $.ajax() always returns a jqXHR object.
		if ( this.xhr && this.xhr.statusText !== "canceled" ) {
			tab.addClass( "ui-tabs-loading" );
			panel.attr( "aria-busy", "true" );

			this.xhr
				.done(function( response, status, jqXHR ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						panel.html( response );
						that._trigger( "load", event, eventData );

						complete( jqXHR, status );
					}, 1 );
				})
				.fail(function( jqXHR, status ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						complete( jqXHR, status );
					}, 1 );
				});
		}
	},

	_ajaxSettings: function( anchor, event, eventData ) {
		var that = this;
		return {
			url: anchor.attr( "href" ),
			beforeSend: function( jqXHR, settings ) {
				return that._trigger( "beforeLoad", event,
					$.extend( { jqXHR: jqXHR, ajaxSettings: settings }, eventData ) );
			}
		};
	},

	_getPanelForTab: function( tab ) {
		var id = $( tab ).attr( "aria-controls" );
		return this.element.find( this._sanitizeSelector( "#" + id ) );
	}
});


/*!
 * jQuery UI Tooltip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 */


var tooltip = $.widget( "ui.tooltip", {
	version: "1.11.4",
	options: {
		content: function() {
			// support: IE<9, Opera in jQuery <1.7
			// .text() can't accept undefined, so coerce to a string
			var title = $( this ).attr( "title" ) || "";
			// Escape title, since we're going from an attribute to raw HTML
			return $( "<a>" ).text( title ).html();
		},
		hide: true,
		// Disabled elements have inconsistent behavior across browsers (#8661)
		items: "[title]:not([disabled])",
		position: {
			my: "left top+15",
			at: "left bottom",
			collision: "flipfit flip"
		},
		show: true,
		tooltipClass: null,
		track: false,

		// callbacks
		close: null,
		open: null
	},

	_addDescribedBy: function( elem, id ) {
		var describedby = (elem.attr( "aria-describedby" ) || "").split( /\s+/ );
		describedby.push( id );
		elem
			.data( "ui-tooltip-id", id )
			.attr( "aria-describedby", $.trim( describedby.join( " " ) ) );
	},

	_removeDescribedBy: function( elem ) {
		var id = elem.data( "ui-tooltip-id" ),
			describedby = (elem.attr( "aria-describedby" ) || "").split( /\s+/ ),
			index = $.inArray( id, describedby );

		if ( index !== -1 ) {
			describedby.splice( index, 1 );
		}

		elem.removeData( "ui-tooltip-id" );
		describedby = $.trim( describedby.join( " " ) );
		if ( describedby ) {
			elem.attr( "aria-describedby", describedby );
		} else {
			elem.removeAttr( "aria-describedby" );
		}
	},

	_create: function() {
		this._on({
			mouseover: "open",
			focusin: "open"
		});

		// IDs of generated tooltips, needed for destroy
		this.tooltips = {};

		// IDs of parent tooltips where we removed the title attribute
		this.parents = {};

		if ( this.options.disabled ) {
			this._disable();
		}

		// Append the aria-live region so tooltips announce correctly
		this.liveRegion = $( "<div>" )
			.attr({
				role: "log",
				"aria-live": "assertive",
				"aria-relevant": "additions"
			})
			.addClass( "ui-helper-hidden-accessible" )
			.appendTo( this.document[ 0 ].body );
	},

	_setOption: function( key, value ) {
		var that = this;

		if ( key === "disabled" ) {
			this[ value ? "_disable" : "_enable" ]();
			this.options[ key ] = value;
			// disable element style changes
			return;
		}

		this._super( key, value );

		if ( key === "content" ) {
			$.each( this.tooltips, function( id, tooltipData ) {
				that._updateContent( tooltipData.element );
			});
		}
	},

	_disable: function() {
		var that = this;

		// close open tooltips
		$.each( this.tooltips, function( id, tooltipData ) {
			var event = $.Event( "blur" );
			event.target = event.currentTarget = tooltipData.element[ 0 ];
			that.close( event, true );
		});

		// remove title attributes to prevent native tooltips
		this.element.find( this.options.items ).addBack().each(function() {
			var element = $( this );
			if ( element.is( "[title]" ) ) {
				element
					.data( "ui-tooltip-title", element.attr( "title" ) )
					.removeAttr( "title" );
			}
		});
	},

	_enable: function() {
		// restore title attributes
		this.element.find( this.options.items ).addBack().each(function() {
			var element = $( this );
			if ( element.data( "ui-tooltip-title" ) ) {
				element.attr( "title", element.data( "ui-tooltip-title" ) );
			}
		});
	},

	open: function( event ) {
		var that = this,
			target = $( event ? event.target : this.element )
				// we need closest here due to mouseover bubbling,
				// but always pointing at the same event target
				.closest( this.options.items );

		// No element to show a tooltip for or the tooltip is already open
		if ( !target.length || target.data( "ui-tooltip-id" ) ) {
			return;
		}

		if ( target.attr( "title" ) ) {
			target.data( "ui-tooltip-title", target.attr( "title" ) );
		}

		target.data( "ui-tooltip-open", true );

		// kill parent tooltips, custom or native, for hover
		if ( event && event.type === "mouseover" ) {
			target.parents().each(function() {
				var parent = $( this ),
					blurEvent;
				if ( parent.data( "ui-tooltip-open" ) ) {
					blurEvent = $.Event( "blur" );
					blurEvent.target = blurEvent.currentTarget = this;
					that.close( blurEvent, true );
				}
				if ( parent.attr( "title" ) ) {
					parent.uniqueId();
					that.parents[ this.id ] = {
						element: this,
						title: parent.attr( "title" )
					};
					parent.attr( "title", "" );
				}
			});
		}

		this._registerCloseHandlers( event, target );
		this._updateContent( target, event );
	},

	_updateContent: function( target, event ) {
		var content,
			contentOption = this.options.content,
			that = this,
			eventType = event ? event.type : null;

		if ( typeof contentOption === "string" ) {
			return this._open( event, target, contentOption );
		}

		content = contentOption.call( target[0], function( response ) {

			// IE may instantly serve a cached response for ajax requests
			// delay this call to _open so the other call to _open runs first
			that._delay(function() {

				// Ignore async response if tooltip was closed already
				if ( !target.data( "ui-tooltip-open" ) ) {
					return;
				}

				// jQuery creates a special event for focusin when it doesn't
				// exist natively. To improve performance, the native event
				// object is reused and the type is changed. Therefore, we can't
				// rely on the type being correct after the event finished
				// bubbling, so we set it back to the previous value. (#8740)
				if ( event ) {
					event.type = eventType;
				}
				this._open( event, target, response );
			});
		});
		if ( content ) {
			this._open( event, target, content );
		}
	},

	_open: function( event, target, content ) {
		var tooltipData, tooltip, delayedShow, a11yContent,
			positionOption = $.extend( {}, this.options.position );

		if ( !content ) {
			return;
		}

		// Content can be updated multiple times. If the tooltip already
		// exists, then just update the content and bail.
		tooltipData = this._find( target );
		if ( tooltipData ) {
			tooltipData.tooltip.find( ".ui-tooltip-content" ).html( content );
			return;
		}

		// if we have a title, clear it to prevent the native tooltip
		// we have to check first to avoid defining a title if none exists
		// (we don't want to cause an element to start matching [title])
		//
		// We use removeAttr only for key events, to allow IE to export the correct
		// accessible attributes. For mouse events, set to empty string to avoid
		// native tooltip showing up (happens only when removing inside mouseover).
		if ( target.is( "[title]" ) ) {
			if ( event && event.type === "mouseover" ) {
				target.attr( "title", "" );
			} else {
				target.removeAttr( "title" );
			}
		}

		tooltipData = this._tooltip( target );
		tooltip = tooltipData.tooltip;
		this._addDescribedBy( target, tooltip.attr( "id" ) );
		tooltip.find( ".ui-tooltip-content" ).html( content );

		// Support: Voiceover on OS X, JAWS on IE <= 9
		// JAWS announces deletions even when aria-relevant="additions"
		// Voiceover will sometimes re-read the entire log region's contents from the beginning
		this.liveRegion.children().hide();
		if ( content.clone ) {
			a11yContent = content.clone();
			a11yContent.removeAttr( "id" ).find( "[id]" ).removeAttr( "id" );
		} else {
			a11yContent = content;
		}
		$( "<div>" ).html( a11yContent ).appendTo( this.liveRegion );

		function position( event ) {
			positionOption.of = event;
			if ( tooltip.is( ":hidden" ) ) {
				return;
			}
			tooltip.position( positionOption );
		}
		if ( this.options.track && event && /^mouse/.test( event.type ) ) {
			this._on( this.document, {
				mousemove: position
			});
			// trigger once to override element-relative positioning
			position( event );
		} else {
			tooltip.position( $.extend({
				of: target
			}, this.options.position ) );
		}

		tooltip.hide();

		this._show( tooltip, this.options.show );
		// Handle tracking tooltips that are shown with a delay (#8644). As soon
		// as the tooltip is visible, position the tooltip using the most recent
		// event.
		if ( this.options.show && this.options.show.delay ) {
			delayedShow = this.delayedShow = setInterval(function() {
				if ( tooltip.is( ":visible" ) ) {
					position( positionOption.of );
					clearInterval( delayedShow );
				}
			}, $.fx.interval );
		}

		this._trigger( "open", event, { tooltip: tooltip } );
	},

	_registerCloseHandlers: function( event, target ) {
		var events = {
			keyup: function( event ) {
				if ( event.keyCode === $.ui.keyCode.ESCAPE ) {
					var fakeEvent = $.Event(event);
					fakeEvent.currentTarget = target[0];
					this.close( fakeEvent, true );
				}
			}
		};

		// Only bind remove handler for delegated targets. Non-delegated
		// tooltips will handle this in destroy.
		if ( target[ 0 ] !== this.element[ 0 ] ) {
			events.remove = function() {
				this._removeTooltip( this._find( target ).tooltip );
			};
		}

		if ( !event || event.type === "mouseover" ) {
			events.mouseleave = "close";
		}
		if ( !event || event.type === "focusin" ) {
			events.focusout = "close";
		}
		this._on( true, target, events );
	},

	close: function( event ) {
		var tooltip,
			that = this,
			target = $( event ? event.currentTarget : this.element ),
			tooltipData = this._find( target );

		// The tooltip may already be closed
		if ( !tooltipData ) {

			// We set ui-tooltip-open immediately upon open (in open()), but only set the
			// additional data once there's actually content to show (in _open()). So even if the
			// tooltip doesn't have full data, we always remove ui-tooltip-open in case we're in
			// the period between open() and _open().
			target.removeData( "ui-tooltip-open" );
			return;
		}

		tooltip = tooltipData.tooltip;

		// disabling closes the tooltip, so we need to track when we're closing
		// to avoid an infinite loop in case the tooltip becomes disabled on close
		if ( tooltipData.closing ) {
			return;
		}

		// Clear the interval for delayed tracking tooltips
		clearInterval( this.delayedShow );

		// only set title if we had one before (see comment in _open())
		// If the title attribute has changed since open(), don't restore
		if ( target.data( "ui-tooltip-title" ) && !target.attr( "title" ) ) {
			target.attr( "title", target.data( "ui-tooltip-title" ) );
		}

		this._removeDescribedBy( target );

		tooltipData.hiding = true;
		tooltip.stop( true );
		this._hide( tooltip, this.options.hide, function() {
			that._removeTooltip( $( this ) );
		});

		target.removeData( "ui-tooltip-open" );
		this._off( target, "mouseleave focusout keyup" );

		// Remove 'remove' binding only on delegated targets
		if ( target[ 0 ] !== this.element[ 0 ] ) {
			this._off( target, "remove" );
		}
		this._off( this.document, "mousemove" );

		if ( event && event.type === "mouseleave" ) {
			$.each( this.parents, function( id, parent ) {
				$( parent.element ).attr( "title", parent.title );
				delete that.parents[ id ];
			});
		}

		tooltipData.closing = true;
		this._trigger( "close", event, { tooltip: tooltip } );
		if ( !tooltipData.hiding ) {
			tooltipData.closing = false;
		}
	},

	_tooltip: function( element ) {
		var tooltip = $( "<div>" )
				.attr( "role", "tooltip" )
				.addClass( "ui-tooltip ui-widget ui-corner-all ui-widget-content " +
					( this.options.tooltipClass || "" ) ),
			id = tooltip.uniqueId().attr( "id" );

		$( "<div>" )
			.addClass( "ui-tooltip-content" )
			.appendTo( tooltip );

		tooltip.appendTo( this.document[0].body );

		return this.tooltips[ id ] = {
			element: element,
			tooltip: tooltip
		};
	},

	_find: function( target ) {
		var id = target.data( "ui-tooltip-id" );
		return id ? this.tooltips[ id ] : null;
	},

	_removeTooltip: function( tooltip ) {
		tooltip.remove();
		delete this.tooltips[ tooltip.attr( "id" ) ];
	},

	_destroy: function() {
		var that = this;

		// close open tooltips
		$.each( this.tooltips, function( id, tooltipData ) {
			// Delegate to close method to handle common cleanup
			var event = $.Event( "blur" ),
				element = tooltipData.element;
			event.target = event.currentTarget = element[ 0 ];
			that.close( event, true );

			// Remove immediately; destroying an open tooltip doesn't use the
			// hide animation
			$( "#" + id ).remove();

			// Restore the title
			if ( element.data( "ui-tooltip-title" ) ) {
				// If the title attribute has changed since open(), don't restore
				if ( !element.attr( "title" ) ) {
					element.attr( "title", element.data( "ui-tooltip-title" ) );
				}
				element.removeData( "ui-tooltip-title" );
			}
		});
		this.liveRegion.remove();
	}
});



}));

/***/ }),
/* 12 */
/***/ (function(module, exports, __nested_webpack_require_1019865__) {

var api = __nested_webpack_require_1019865__(2);
            var content = __nested_webpack_require_1019865__(13);

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);

var exported = content.locals ? content.locals : {};



module.exports = exported;

/***/ }),
/* 13 */
/***/ (function(module, exports, __nested_webpack_require_1020404__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __nested_webpack_require_1020404__(3);
var ___CSS_LOADER_GET_URL_IMPORT___ = __nested_webpack_require_1020404__(7);
var ___CSS_LOADER_URL_IMPORT_0___ = __nested_webpack_require_1020404__(14);
var ___CSS_LOADER_URL_IMPORT_1___ = __nested_webpack_require_1020404__(15);
var ___CSS_LOADER_URL_IMPORT_2___ = __nested_webpack_require_1020404__(16);
var ___CSS_LOADER_URL_IMPORT_3___ = __nested_webpack_require_1020404__(17);
var ___CSS_LOADER_URL_IMPORT_4___ = __nested_webpack_require_1020404__(18);
var ___CSS_LOADER_URL_IMPORT_5___ = __nested_webpack_require_1020404__(19);
var ___CSS_LOADER_URL_IMPORT_6___ = __nested_webpack_require_1020404__(20);
var ___CSS_LOADER_URL_IMPORT_7___ = __nested_webpack_require_1020404__(21);
var ___CSS_LOADER_URL_IMPORT_8___ = __nested_webpack_require_1020404__(22);
var ___CSS_LOADER_URL_IMPORT_9___ = __nested_webpack_require_1020404__(23);
var ___CSS_LOADER_URL_IMPORT_10___ = __nested_webpack_require_1020404__(24);
var ___CSS_LOADER_URL_IMPORT_11___ = __nested_webpack_require_1020404__(25);
var ___CSS_LOADER_URL_IMPORT_12___ = __nested_webpack_require_1020404__(26);
var ___CSS_LOADER_URL_IMPORT_13___ = __nested_webpack_require_1020404__(27);
exports = ___CSS_LOADER_API_IMPORT___(false);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);
var ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);
var ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);
var ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);
var ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);
var ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);
var ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);
var ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);
var ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);
var ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);
var ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);
var ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);
var ___CSS_LOADER_URL_REPLACEMENT_12___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_12___);
var ___CSS_LOADER_URL_REPLACEMENT_13___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_13___);
// Module
exports.push([module.i, "/*! jQuery UI - v1.11.4 - 2015-03-11\n* http://jqueryui.com\n* Includes: core.css, accordion.css, autocomplete.css, button.css, datepicker.css, dialog.css, draggable.css, menu.css, progressbar.css, resizable.css, selectable.css, selectmenu.css, slider.css, sortable.css, spinner.css, tabs.css, tooltip.css, theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?ffDefault=Trebuchet%20MS%2CTahoma%2CVerdana%2CArial%2Csans-serif&fwDefault=bold&fsDefault=1.1em&cornerRadius=4px&bgColorHeader=f6a828&bgTextureHeader=gloss_wave&bgImgOpacityHeader=35&borderColorHeader=e78f08&fcHeader=ffffff&iconColorHeader=ffffff&bgColorContent=eeeeee&bgTextureContent=highlight_soft&bgImgOpacityContent=100&borderColorContent=dddddd&fcContent=333333&iconColorContent=222222&bgColorDefault=f6f6f6&bgTextureDefault=glass&bgImgOpacityDefault=100&borderColorDefault=cccccc&fcDefault=1c94c4&iconColorDefault=ef8c08&bgColorHover=fdf5ce&bgTextureHover=glass&bgImgOpacityHover=100&borderColorHover=fbcb09&fcHover=c77405&iconColorHover=ef8c08&bgColorActive=ffffff&bgTextureActive=glass&bgImgOpacityActive=65&borderColorActive=fbd850&fcActive=eb8f00&iconColorActive=ef8c08&bgColorHighlight=ffe45c&bgTextureHighlight=highlight_soft&bgImgOpacityHighlight=75&borderColorHighlight=fed22f&fcHighlight=363636&iconColorHighlight=228ef1&bgColorError=b81900&bgTextureError=diagonals_thick&bgImgOpacityError=18&borderColorError=cd0a0a&fcError=ffffff&iconColorError=ffd27a&bgColorOverlay=666666&bgTextureOverlay=diagonals_thick&bgImgOpacityOverlay=20&opacityOverlay=50&bgColorShadow=000000&bgTextureShadow=flat&bgImgOpacityShadow=10&opacityShadow=20&thicknessShadow=5px&offsetTopShadow=-5px&offsetLeftShadow=-5px&cornerRadiusShadow=5px\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\n\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-clearfix {\n\tmin-height: 0; /* support: IE7 */\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n}\n\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n.ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tmin-height: 0; /* support: IE7 */\n\tfont-size: 100%;\n}\n.ui-accordion .ui-accordion-icons {\n\tpadding-left: 2.2em;\n}\n.ui-accordion .ui-accordion-icons .ui-accordion-icons {\n\tpadding-left: 2.2em;\n}\n.ui-accordion .ui-accordion-header .ui-accordion-header-icon {\n\tposition: absolute;\n\tleft: .5em;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n.ui-button {\n\tdisplay: inline-block;\n\tposition: relative;\n\tpadding: 0;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\toverflow: visible; /* removes extra width in IE */\n}\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n\twidth: 2.2em;\n}\n/* button elements seem to need a little more width */\nbutton.ui-button-icon-only {\n\twidth: 2.4em;\n}\n.ui-button-icons-only {\n\twidth: 3.4em;\n}\nbutton.ui-button-icons-only {\n\twidth: 3.7em;\n}\n\n/* button text element */\n.ui-button .ui-button-text {\n\tdisplay: block;\n\tline-height: normal;\n}\n.ui-button-text-only .ui-button-text {\n\tpadding: .4em 1em;\n}\n.ui-button-icon-only .ui-button-text,\n.ui-button-icons-only .ui-button-text {\n\tpadding: .4em;\n\ttext-indent: -9999999px;\n}\n.ui-button-text-icon-primary .ui-button-text,\n.ui-button-text-icons .ui-button-text {\n\tpadding: .4em 1em .4em 2.1em;\n}\n.ui-button-text-icon-secondary .ui-button-text,\n.ui-button-text-icons .ui-button-text {\n\tpadding: .4em 2.1em .4em 1em;\n}\n.ui-button-text-icons .ui-button-text {\n\tpadding-left: 2.1em;\n\tpadding-right: 2.1em;\n}\n/* no icon support for input elements, provide padding by default */\ninput.ui-button {\n\tpadding: .4em 1em;\n}\n\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon,\n.ui-button-text-icon-primary .ui-icon,\n.ui-button-text-icon-secondary .ui-icon,\n.ui-button-text-icons .ui-icon,\n.ui-button-icons-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-button-icon-only .ui-icon {\n\tleft: 50%;\n\tmargin-left: -8px;\n}\n.ui-button-text-icon-primary .ui-button-icon-primary,\n.ui-button-text-icons .ui-button-icon-primary,\n.ui-button-icons-only .ui-button-icon-primary {\n\tleft: .5em;\n}\n.ui-button-text-icon-secondary .ui-button-icon-secondary,\n.ui-button-text-icons .ui-button-icon-secondary,\n.ui-button-icons-only .ui-button-icon-secondary {\n\tright: .5em;\n}\n\n/* button sets */\n.ui-buttonset {\n\tmargin-right: 7px;\n}\n.ui-buttonset .ui-button {\n\tmargin-left: 0;\n\tmargin-right: -.3em;\n}\n\n/* workarounds */\n/* reset extra padding in Firefox, see h5bp.com/l */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n\n/* RTL support */\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n.ui-dialog {\n\toverflow: hidden;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n.ui-dialog .ui-resizable-se {\n\twidth: 12px;\n\theight: 12px;\n\tright: -5px;\n\tbottom: -5px;\n\tbackground-position: 16px 16px;\n}\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n.ui-draggable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: none;\n}\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n.ui-menu .ui-menu-item {\n\tposition: relative;\n\tmargin: 0;\n\tpadding: 3px 1em 3px .4em;\n\tcursor: pointer;\n\tmin-height: 0; /* support: IE7 */\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\");\n}\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n\n/* icon support */\n.ui-menu-icons {\n\tposition: relative;\n}\n.ui-menu-icons .ui-menu-item {\n\tpadding-left: 2em;\n}\n\n/* left-aligned */\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url(\"data:image/gif;base64,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\");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n.ui-resizable {\n\tposition: relative;\n}\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n.ui-selectable {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\t/* Support: IE7 */\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n.ui-selectmenu-button {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tposition: relative;\n\ttext-decoration: none;\n\tcursor: pointer;\n}\n.ui-selectmenu-button span.ui-icon {\n\tright: 0.5em;\n\tleft: auto;\n\tmargin-top: -8px;\n\tposition: absolute;\n\ttop: 50%;\n}\n.ui-selectmenu-button span.ui-selectmenu-text {\n\ttext-align: left;\n\tpadding: 0.4em 2.1em 0.4em 1em;\n\tdisplay: block;\n\tline-height: 1.4;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n.ui-sortable-handle {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 22px;\n}\n.ui-spinner-button {\n\twidth: 16px;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n\tborder-top: none;\n\tborder-bottom: none;\n\tborder-right: none;\n}\n/* vertically center icon */\n.ui-spinner .ui-icon {\n\tposition: absolute;\n\tmargin-top: -8px;\n\ttop: 50%;\n\tleft: 0;\n}\n.ui-spinner-up {\n\ttop: 0;\n}\n.ui-spinner-down {\n\tbottom: 0;\n}\n\n/* TR overrides */\n.ui-spinner .ui-icon-triangle-1-s {\n\t/* need to fix icons sprite */\n\tbackground-position: -65px -16px;\n}\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as \"fixed\") */\n\tpadding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n\t-webkit-box-shadow: 0 0 5px #aaa;\n\tbox-shadow: 0 0 5px #aaa;\n}\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n\n/* Component containers\n----------------------------------*/\n.ui-widget {\n\tfont-family: Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;\n\tfont-size: 1.1em;\n}\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;\n\tfont-size: 1em;\n}\n.ui-widget-content {\n\tborder: 1px solid #dddddd;\n\tbackground: #eeeeee url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ") 50% top repeat-x;\n\tcolor: #333333;\n}\n.ui-widget-content a {\n\tcolor: #333333;\n}\n.ui-widget-header {\n\tborder: 1px solid #e78f08;\n\tbackground: #f6a828 url(" + ___CSS_LOADER_URL_REPLACEMENT_1___ + ") 50% 50% repeat-x;\n\tcolor: #ffffff;\n\tfont-weight: bold;\n}\n.ui-widget-header a {\n\tcolor: #ffffff;\n}\n\n/* Interaction states\n----------------------------------*/\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default {\n\tborder: 1px solid #cccccc;\n\tbackground: #f6f6f6 url(" + ___CSS_LOADER_URL_REPLACEMENT_2___ + ") 50% 50% repeat-x;\n\tfont-weight: bold;\n\tcolor: #1c94c4;\n}\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited {\n\tcolor: #1c94c4;\n\ttext-decoration: none;\n}\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus {\n\tborder: 1px solid #fbcb09;\n\tbackground: #fdf5ce url(" + ___CSS_LOADER_URL_REPLACEMENT_3___ + ") 50% 50% repeat-x;\n\tfont-weight: bold;\n\tcolor: #c77405;\n}\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited {\n\tcolor: #c77405;\n\ttext-decoration: none;\n}\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active {\n\tborder: 1px solid #fbd850;\n\tbackground: #ffffff url(" + ___CSS_LOADER_URL_REPLACEMENT_4___ + ") 50% 50% repeat-x;\n\tfont-weight: bold;\n\tcolor: #eb8f00;\n}\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #eb8f00;\n\ttext-decoration: none;\n}\n\n/* Interaction Cues\n----------------------------------*/\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #fed22f;\n\tbackground: #ffe45c url(" + ___CSS_LOADER_URL_REPLACEMENT_5___ + ") 50% top repeat-x;\n\tcolor: #363636;\n}\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #363636;\n}\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #cd0a0a;\n\tbackground: #b81900 url(" + ___CSS_LOADER_URL_REPLACEMENT_6___ + ") 50% 50% repeat;\n\tcolor: #ffffff;\n}\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #ffffff;\n}\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #ffffff;\n}\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_7___ + ");\n}\n.ui-widget-header .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_8___ + ");\n}\n.ui-state-default .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ");\n}\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ");\n}\n.ui-state-active .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ");\n}\n.ui-state-highlight .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_10___ + ");\n}\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_11___ + ");\n}\n\n/* positioning */\n.ui-icon-blank { background-position: 16px 16px; }\n.ui-icon-carat-1-n { background-position: 0 0; }\n.ui-icon-carat-1-ne { background-position: -16px 0; }\n.ui-icon-carat-1-e { background-position: -32px 0; }\n.ui-icon-carat-1-se { background-position: -48px 0; }\n.ui-icon-carat-1-s { background-position: -64px 0; }\n.ui-icon-carat-1-sw { background-position: -80px 0; }\n.ui-icon-carat-1-w { background-position: -96px 0; }\n.ui-icon-carat-1-nw { background-position: -112px 0; }\n.ui-icon-carat-2-n-s { background-position: -128px 0; }\n.ui-icon-carat-2-e-w { background-position: -144px 0; }\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n.ui-icon-triangle-1-s { background-position: -64px -16px; }\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n.ui-icon-arrow-1-s { background-position: -64px -32px; }\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n.ui-icon-arrowthick-1-n { background-position: 0 -48px; }\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n.ui-icon-extlink { background-position: -32px -80px; }\n.ui-icon-newwin { background-position: -48px -80px; }\n.ui-icon-refresh { background-position: -64px -80px; }\n.ui-icon-shuffle { background-position: -80px -80px; }\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n.ui-icon-folder-open { background-position: -16px -96px; }\n.ui-icon-document { background-position: -32px -96px; }\n.ui-icon-document-b { background-position: -48px -96px; }\n.ui-icon-note { background-position: -64px -96px; }\n.ui-icon-mail-closed { background-position: -80px -96px; }\n.ui-icon-mail-open { background-position: -96px -96px; }\n.ui-icon-suitcase { background-position: -112px -96px; }\n.ui-icon-comment { background-position: -128px -96px; }\n.ui-icon-person { background-position: -144px -96px; }\n.ui-icon-print { background-position: -160px -96px; }\n.ui-icon-trash { background-position: -176px -96px; }\n.ui-icon-locked { background-position: -192px -96px; }\n.ui-icon-unlocked { background-position: -208px -96px; }\n.ui-icon-bookmark { background-position: -224px -96px; }\n.ui-icon-tag { background-position: -240px -96px; }\n.ui-icon-home { background-position: 0 -112px; }\n.ui-icon-flag { background-position: -16px -112px; }\n.ui-icon-calendar { background-position: -32px -112px; }\n.ui-icon-cart { background-position: -48px -112px; }\n.ui-icon-pencil { background-position: -64px -112px; }\n.ui-icon-clock { background-position: -80px -112px; }\n.ui-icon-disk { background-position: -96px -112px; }\n.ui-icon-calculator { background-position: -112px -112px; }\n.ui-icon-zoomin { background-position: -128px -112px; }\n.ui-icon-zoomout { background-position: -144px -112px; }\n.ui-icon-search { background-position: -160px -112px; }\n.ui-icon-wrench { background-position: -176px -112px; }\n.ui-icon-gear { background-position: -192px -112px; }\n.ui-icon-heart { background-position: -208px -112px; }\n.ui-icon-star { background-position: -224px -112px; }\n.ui-icon-link { background-position: -240px -112px; }\n.ui-icon-cancel { background-position: 0 -128px; }\n.ui-icon-plus { background-position: -16px -128px; }\n.ui-icon-plusthick { background-position: -32px -128px; }\n.ui-icon-minus { background-position: -48px -128px; }\n.ui-icon-minusthick { background-position: -64px -128px; }\n.ui-icon-close { background-position: -80px -128px; }\n.ui-icon-closethick { background-position: -96px -128px; }\n.ui-icon-key { background-position: -112px -128px; }\n.ui-icon-lightbulb { background-position: -128px -128px; }\n.ui-icon-scissors { background-position: -144px -128px; }\n.ui-icon-clipboard { background-position: -160px -128px; }\n.ui-icon-copy { background-position: -176px -128px; }\n.ui-icon-contact { background-position: -192px -128px; }\n.ui-icon-image { background-position: -208px -128px; }\n.ui-icon-video { background-position: -224px -128px; }\n.ui-icon-script { background-position: -240px -128px; }\n.ui-icon-alert { background-position: 0 -144px; }\n.ui-icon-info { background-position: -16px -144px; }\n.ui-icon-notice { background-position: -32px -144px; }\n.ui-icon-help { background-position: -48px -144px; }\n.ui-icon-check { background-position: -64px -144px; }\n.ui-icon-bullet { background-position: -80px -144px; }\n.ui-icon-radio-on { background-position: -96px -144px; }\n.ui-icon-radio-off { background-position: -112px -144px; }\n.ui-icon-pin-w { background-position: -128px -144px; }\n.ui-icon-pin-s { background-position: -144px -144px; }\n.ui-icon-play { background-position: 0 -160px; }\n.ui-icon-pause { background-position: -16px -160px; }\n.ui-icon-seek-next { background-position: -32px -160px; }\n.ui-icon-seek-prev { background-position: -48px -160px; }\n.ui-icon-seek-end { background-position: -64px -160px; }\n.ui-icon-seek-start { background-position: -80px -160px; }\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n.ui-icon-seek-first { background-position: -80px -160px; }\n.ui-icon-stop { background-position: -96px -160px; }\n.ui-icon-eject { background-position: -112px -160px; }\n.ui-icon-volume-off { background-position: -128px -160px; }\n.ui-icon-volume-on { background-position: -144px -160px; }\n.ui-icon-power { background-position: 0 -176px; }\n.ui-icon-signal-diag { background-position: -16px -176px; }\n.ui-icon-signal { background-position: -32px -176px; }\n.ui-icon-battery-0 { background-position: -48px -176px; }\n.ui-icon-battery-1 { background-position: -64px -176px; }\n.ui-icon-battery-2 { background-position: -80px -176px; }\n.ui-icon-battery-3 { background-position: -96px -176px; }\n.ui-icon-circle-plus { background-position: 0 -192px; }\n.ui-icon-circle-minus { background-position: -16px -192px; }\n.ui-icon-circle-close { background-position: -32px -192px; }\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n.ui-icon-circle-check { background-position: -208px -192px; }\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n\n/* Misc visuals\n----------------------------------*/\n\n/* Corner radius */\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 4px;\n}\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 4px;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 4px;\n}\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 4px;\n}\n\n/* Overlays */\n.ui-widget-overlay {\n\tbackground: #666666 url(" + ___CSS_LOADER_URL_REPLACEMENT_12___ + ") 50% 50% repeat;\n\topacity: .5;\n\tfilter: Alpha(Opacity=50); /* support: IE8 */\n}\n.ui-widget-shadow {\n\tmargin: -5px 0 0 -5px;\n\tpadding: 5px;\n\tbackground: #000000 url(" + ___CSS_LOADER_URL_REPLACEMENT_13___ + ") 50% 50% repeat-x;\n\topacity: .2;\n\tfilter: Alpha(Opacity=20); /* support: IE8 */\n\tborder-radius: 5px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAABkEAAAAAAy19n/AAAAAmJLR0T//xSrMc0AAAAJcEhZcwAAAEgAAABIAEbJaz4AAABYSURBVBjTxcK9DUBAAIDRjxk0dBQaE4gR7KFVM4rEDBIjEKVV7s79OZ0teHk8FR/NCAehJ6TcK3eD3/EtbsPV2AVbYmZMgh7RMdfAFaEmVIE8kR0yR4gfv1IulNTJHsTLAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE1LTAzLTExVDA4OjQ5OjM0LTA3OjAwnOkHBQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNS0wMy0xMVQwODo0OTozNC0wNzowMO20v7kAAAAASUVORK5CYII=");

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAGQEAAAAAAao4lEAAAAAmJLR0T//xSrMc0AAAAJcEhZcwAAAEgAAABIAEbJaz4AAABISURBVDjLY/g1mWEUjSKqo2/fGL5LMXzPYfh+nOGHFsOPBQw/xRh+TmX4JcLwq4vhNwPD71yG3xcZ/igx/Ilk+JM0ikYRMQgA8pJH3iOhTlAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzQtMDc6MDCc6QcFAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM0LTA3OjAw7bS/uQAAAABJRU5ErkJggg==");

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAGQEAIAAACwqkHPAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAmklEQVRIx+3PPwsBARgH4N/7s0gmXZSuKMvNdl/AV2A1X1ltzBaf5UazEp3RpKujFMV0uT/dy6cQwzs98wPdZVk8IwAAhmEYxrdBWSZJGFKq4smGaGDENeFgwgfREp8d6Ph1OEZEWxaVOXSVRieHcGXJALrNnvEQes6nlz20yO9Xl9IUn128e0VwS4k6BvQIoob+X6QNwzB+yAca/jJVRVy4gQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wMy0xMVQwODo0OTozNS0wNzowMDqeDLEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDBLw7QNAAAAAElFTkSuQmCC");

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAGQAQAAAABHIzd2AAAAAmJLR0QAAd2KE6QAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAARSURBVCjPY2hgGIWjcBTigACVaMgB0zSxaQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wMy0xMVQwODo0OTozNC0wNzowMJzpBwUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDMtMTFUMDg6NDk6MzQtMDc6MDDttL+5AAAAAElFTkSuQmCC");

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAABkEAIAAACY3hF0AAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAhklEQVQoz+WQMQrCUBBEH1NaCzaxTc7iHcwhcoiktP6kS8BK8BIWHkYQrM1mLD5Bb6Bg9Xg7syws9mNztADgj3CjFbifk4A+0od1UWDfr2kloJkGgZsYBdRTKfB+qgTOtgzrqHJWCtg9T++9pdnEIHAb22yjwPk6XRQCzvNa4IsP3//ST+MF5uU/iXGyfBoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDA6ngyxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM1LTA3OjAwS8O0DQAAAABJRU5ErkJggg==");

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoEAIAAABTDPN5AAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAA4ElEQVRo3u3YMQoCMRBG4c02XkCQLcXKwsN5Eq+znScRa8FasLP4q0DGZASLecmr0mSHr9tMuh5Pr91+MnpfnofHfXK2OW9v9jdb+t/cuR+qCaZSC2A2NQP3QFVpXZfFfy0iVc3eC3GpmusAR6fq3ARmUJvAJGoFzKOaYCq1AGZTM3APVJW+v5ZIVOX+8YhL1dwfwRGpOrvBcalucHSqA8ygNoFJ1AqYRzXBVGoBzKZm4B6oauy0uNSx06JTm8AkagXMo5pgKrUAZlMzcA9UNXZaXOrYadGpbnB0qgPMoKoPsn/eaLRwj54AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDA6ngyxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM1LTA3OjAwS8O0DQAAAABJRU5ErkJggg==");

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAADwCAMAAADYSUr5AAABDlBMVEUijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEijvEzfqCuAAAAWXRSTlMAGRAzBAhQv4KZLyJVcUBmYBoTMswNITwWQkhLIB5aIycxUyyFNIeAw2rIz8Y4RRy8uL58q7WljKqorR+yKf0BnlEk7woGAgOPomKUSqCvbd+cR2M/b3+RaPlAXvEAAAABYktHRACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAAPZElEQVR42u1dC2PbthEGyUiq6ZiSXblLE6ex1mTO5iXZq+u6ro3abG26pOkSd13v//+RAXzhcIeHWMoUbeOTLesIEMB9PIB3ACgLERERMQIkkOy6CTvWH0bOQO/mJeDXP8EMqMzDEkIsEBRMAmh7jHSVmuAjAKwC8FRAzi8/DmoS1AI5AQltj5FOryAjgJ7OK2CZkwEZYO23q+BJ5wwKkttfui1z4s20VTAL5k2kF5hbiPcKcwvwNGB4C7CTwproI4CdDcxEPKUTExx+DNiAj0u9C9AuNPxdYOe46Y5QRERERERExIhx6Z7gjv2ghEVrQJ33hJ5BsxsBfsIq8M0HsAkhWfqglFgawAhgGWh2M1xMWAWUAE90qUofMhhi7be32JNsmVFJPKeLwBQglAQMNh3ALVjYbNaI1jaYD0jM0nw9atcWYEXiaXH/+QDeQ3Y6BoRx3e8CERERERERERG7Qz/HP+iaBsvvHXj0LAD4cip0yN27fXw7AGtQoDTwH+HqkWTgWczTwZVmr8DbAEuqv35bCT6CWDorjGnAqwOSCI7EhlFWHjkBXIkb1M/DZQgRwCeAwK9B+HRPFlPBOjeZ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");

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,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");

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoEAAAAAD5BTvyAAAAAmJLR0T//xSrMc0AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAB6SURBVEjH7dXLEYAgDEVRqk0HNmpFMgxi+Lnw3Z0hSzJnmZuO8x6b3vPn530vsVwDKa6CHFdAkssgyy1AjTNLLDeAOteBBOdAhmsgxVWQ4wpIchlkuQ34nXPni+EWoMZNoMoNoM51IMFFU3QumqJz0RSdi6bo3C+bcgHap6IryOSd+AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wMy0xMVQwODo0OTozNS0wNzowMDqeDLEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDBLw7QNAAAAAElFTkSuQmCC");

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony default export */ __webpack_exports__["default"] = ("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAABkAQAAAADcH0/XAAAAAmJLR0QAAd2KE6QAAAAJcEhZcwAAAEgAAABIAEbJaz4AAAAPSURBVCjPY2AYBaOA+gAAAlgAAXU2hncAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDMtMTFUMDg6NDk6MzUtMDc6MDA6ngyxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTAzLTExVDA4OjQ5OjM1LTA3OjAwS8O0DQAAAABJRU5ErkJggg==");

/***/ }),
/* 28 */
/***/ (function(module, exports, __nested_webpack_require_1110685__) {

/* WEBPACK VAR INJECTION */(function(jQuery) {/*!
 * jQuery BBQ: Back Button & Query Library - v1.3pre - 8/26/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Script: jQuery BBQ: Back Button & Query Library
//
// *Version: 1.3pre, Last updated: 8/26/2010*
// 
// Project Home - http://benalman.com/projects/jquery-bbq-plugin/
// GitHub       - http://github.com/cowboy/jquery-bbq/
// Source       - http://github.com/cowboy/jquery-bbq/raw/master/jquery.ba-bbq.js
// (Minified)   - http://github.com/cowboy/jquery-bbq/raw/master/jquery.ba-bbq.min.js (2.2kb gzipped)
// 
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// Basic AJAX     - http://benalman.com/code/projects/jquery-bbq/examples/fragment-basic/
// Advanced AJAX  - http://benalman.com/code/projects/jquery-bbq/examples/fragment-advanced/
// jQuery UI Tabs - http://benalman.com/code/projects/jquery-bbq/examples/fragment-jquery-ui-tabs/
// Deparam        - http://benalman.com/code/projects/jquery-bbq/examples/deparam/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,
//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.
// Unit Tests      - http://benalman.com/code/projects/jquery-bbq/unit/
// 
// About: Release History
// 
// 1.3pre - (8/26/2010) Integrated <jQuery hashchange event> v1.3, which adds
//         document.title and document.domain support in IE6/7, BlackBerry
//         support, better Iframe hiding for accessibility reasons, and the new
//         <jQuery.fn.hashchange> "shortcut" method. Added the
//         <jQuery.param.sorted> method which reduces the possibility of
//         extraneous hashchange event triggering. Added the
//         <jQuery.param.fragment.ajaxCrawlable> method which can be used to
//         enable Google "AJAX Crawlable mode."
// 1.2.1 - (2/17/2010) Actually fixed the stale window.location Safari bug from
//         <jQuery hashchange event> in BBQ, which was the main reason for the
//         previous release!
// 1.2   - (2/16/2010) Integrated <jQuery hashchange event> v1.2, which fixes a
//         Safari bug, the event can now be bound before DOM ready, and IE6/7
//         page should no longer scroll when the event is first bound. Also
//         added the <jQuery.param.fragment.noEscape> method, and reworked the
//         <hashchange event (BBQ)> internal "add" method to be compatible with
//         changes made to the jQuery 1.4.2 special events API.
// 1.1.1 - (1/22/2010) Integrated <jQuery hashchange event> v1.1, which fixes an
//         obscure IE8 EmulateIE7 meta tag compatibility mode bug.
// 1.1   - (1/9/2010) Broke out the jQuery BBQ event.special <hashchange event>
//         functionality into a separate plugin for users who want just the
//         basic event & back button support, without all the extra awesomeness
//         that BBQ provides. This plugin will be included as part of jQuery BBQ,
//         but also be available separately. See <jQuery hashchange event>
//         plugin for more information. Also added the <jQuery.bbq.removeState>
//         method and added additional <jQuery.deparam> examples.
// 1.0.3 - (12/2/2009) Fixed an issue in IE 6 where location.search and
//         location.hash would report incorrectly if the hash contained the ?
//         character. Also <jQuery.param.querystring> and <jQuery.param.fragment>
//         will no longer parse params out of a URL that doesn't contain ? or #,
//         respectively.
// 1.0.2 - (10/10/2009) Fixed an issue in IE 6/7 where the hidden IFRAME caused
//         a "This page contains both secure and nonsecure items." warning when
//         used on an https:// page.
// 1.0.1 - (10/7/2009) Fixed an issue in IE 8. Since both "IE7" and "IE8
//         Compatibility View" modes erroneously report that the browser
//         supports the native window.onhashchange event, a slightly more
//         robust test needed to be added.
// 1.0   - (10/2/2009) Initial release

(function($,window){
  '$:nomunge'; // Used by YUI compressor.
  
  // Some convenient shortcuts.
  var undefined,
    aps = Array.prototype.slice,
    decode = decodeURIComponent,
    
    // Method / object references.
    jq_param = $.param,
    jq_param_sorted,
    jq_param_fragment,
    jq_deparam,
    jq_deparam_fragment,
    jq_bbq = $.bbq = $.bbq || {},
    jq_bbq_pushState,
    jq_bbq_getState,
    jq_elemUrlAttr,
    special = $.event.special,
    
    // Reused strings.
    str_hashchange = 'hashchange',
    str_querystring = 'querystring',
    str_fragment = 'fragment',
    str_elemUrlAttr = 'elemUrlAttr',
    str_href = 'href',
    str_src = 'src',
    
    // Reused RegExp.
    re_params_querystring = /^.*\?|#.*$/g,
    re_params_fragment,
    re_fragment,
    re_no_escape,
    
    ajax_crawlable,
    fragment_prefix,
    
    // Used by jQuery.elemUrlAttr.
    elemUrlAttr_cache = {};
  
  // A few commonly used bits, broken out to help reduce minified file size.
  
  function is_string( arg ) {
    return typeof arg === 'string';
  };
  
  // Why write the same function twice? Let's curry! Mmmm, curry..
  
  function curry( func ) {
    var args = aps.call( arguments, 1 );
    
    return function() {
      return func.apply( this, args.concat( aps.call( arguments ) ) );
    };
  };
  
  // Get location.hash (or what you'd expect location.hash to be) sans any
  // leading #. Thanks for making this necessary, Firefox!
  function get_fragment( url ) {
    return url.replace( re_fragment, '$2' );
  };
  
  // Get location.search (or what you'd expect location.search to be) sans any
  // leading #. Thanks for making this necessary, IE6!
  function get_querystring( url ) {
    return url.replace( /(?:^[^?#]*\?([^#]*).*$)?.*/, '$1' );
  };
  
  // Section: Param (to string)
  // 
  // Method: jQuery.param.querystring
  // 
  // Retrieve the query string from a URL or if no arguments are passed, the
  // current window.location.href.
  // 
  // Usage:
  // 
  // > jQuery.param.querystring( [ url ] );
  // 
  // Arguments:
  // 
  //  url - (String) A URL containing query string params to be parsed. If url
  //    is not passed, the current window.location.href is used.
  // 
  // Returns:
  // 
  //  (String) The parsed query string, with any leading "?" removed.
  //
  
  // Method: jQuery.param.querystring (build url)
  // 
  // Merge a URL, with or without pre-existing query string params, plus any
  // object, params string or URL containing query string params into a new URL.
  // 
  // Usage:
  // 
  // > jQuery.param.querystring( url, params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  url - (String) A valid URL for params to be merged into. This URL may
  //    contain a query string and/or fragment (hash).
  //  params - (String) A params string or URL containing query string params to
  //    be merged into url.
  //  params - (Object) A params object to be merged into url.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  // 
  //    * 0: params in the params argument will override any query string
  //         params in url.
  //    * 1: any query string params in url will override params in the params
  //         argument.
  //    * 2: params argument will completely replace any query string in url.
  // 
  // Returns:
  // 
  //  (String) A URL with a urlencoded query string in the format '?a=b&c=d&e=f'.
  
  // Method: jQuery.param.fragment
  // 
  // Retrieve the fragment (hash) from a URL or if no arguments are passed, the
  // current window.location.href.
  // 
  // Usage:
  // 
  // > jQuery.param.fragment( [ url ] );
  // 
  // Arguments:
  // 
  //  url - (String) A URL containing fragment (hash) params to be parsed. If
  //    url is not passed, the current window.location.href is used.
  // 
  // Returns:
  // 
  //  (String) The parsed fragment (hash) string, with any leading "#" removed.
  
  // Method: jQuery.param.fragment (build url)
  // 
  // Merge a URL, with or without pre-existing fragment (hash) params, plus any
  // object, params string or URL containing fragment (hash) params into a new
  // URL.
  // 
  // Usage:
  // 
  // > jQuery.param.fragment( url, params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  url - (String) A valid URL for params to be merged into. This URL may
  //    contain a query string and/or fragment (hash).
  //  params - (String) A params string or URL containing fragment (hash) params
  //    to be merged into url.
  //  params - (Object) A params object to be merged into url.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  // 
  //    * 0: params in the params argument will override any fragment (hash)
  //         params in url.
  //    * 1: any fragment (hash) params in url will override params in the
  //         params argument.
  //    * 2: params argument will completely replace any query string in url.
  // 
  // Returns:
  // 
  //  (String) A URL with a urlencoded fragment (hash) in the format '#a=b&c=d&e=f'.
  
  function jq_param_sub( is_fragment, get_func, url, params, merge_mode ) {
    var result,
      qs,
      matches,
      url_params,
      hash;
    
    if ( params !== undefined ) {
      // Build URL by merging params into url string.
      
      // matches[1] = url part that precedes params, not including trailing ?/#
      // matches[2] = params, not including leading ?/#
      // matches[3] = if in 'querystring' mode, hash including leading #, otherwise ''
      matches = url.match( is_fragment ? re_fragment : /^([^#?]*)\??([^#]*)(#?.*)/ );
      
      // Get the hash if in 'querystring' mode, and it exists.
      hash = matches[3] || '';
      
      if ( merge_mode === 2 && is_string( params ) ) {
        // If merge_mode is 2 and params is a string, merge the fragment / query
        // string into the URL wholesale, without converting it into an object.
        qs = params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' );
        
      } else {
        // Convert relevant params in url to object.
        url_params = jq_deparam( matches[2] );
        
        params = is_string( params )
          
          // Convert passed params string into object.
          ? jq_deparam[ is_fragment ? str_fragment : str_querystring ]( params )
          
          // Passed params object.
          : params;
        
        qs = merge_mode === 2 ? params                              // passed params replace url params
          : merge_mode === 1  ? $.extend( {}, params, url_params )  // url params override passed params
          : $.extend( {}, url_params, params );                     // passed params override url params
        
        // Convert params object into a sorted params string.
        qs = jq_param_sorted( qs );
        
        // Unescape characters specified via $.param.noEscape. Since only hash-
        // history users have requested this feature, it's only enabled for
        // fragment-related params strings.
        if ( is_fragment ) {
          qs = qs.replace( re_no_escape, decode );
        }
      }
      
      // Build URL from the base url, querystring and hash. In 'querystring'
      // mode, ? is only added if a query string exists. In 'fragment' mode, #
      // is always added.
      result = matches[1] + ( is_fragment ? fragment_prefix : qs || !matches[1] ? '?' : '' ) + qs + hash;
      
    } else {
      // If URL was passed in, parse params from URL string, otherwise parse
      // params from window.location.href.
      result = get_func( url !== undefined ? url : location.href );
    }
    
    return result;
  };
  
  jq_param[ str_querystring ]                  = curry( jq_param_sub, 0, get_querystring );
  jq_param[ str_fragment ] = jq_param_fragment = curry( jq_param_sub, 1, get_fragment );
  
  // Method: jQuery.param.sorted
  // 
  // Returns a params string equivalent to that returned by the internal
  // jQuery.param method, but sorted, which makes it suitable for use as a
  // cache key.
  // 
  // For example, in most browsers jQuery.param({z:1,a:2}) returns "z=1&a=2"
  // and jQuery.param({a:2,z:1}) returns "a=2&z=1". Even though both the
  // objects being serialized and the resulting params strings are equivalent,
  // if these params strings were set into the location.hash fragment
  // sequentially, the hashchange event would be triggered unnecessarily, since
  // the strings are different (even though the data described by them is the
  // same). By sorting the params string, unecessary hashchange event triggering
  // can be avoided.
  // 
  // Usage:
  // 
  // > jQuery.param.sorted( obj [, traditional ] );
  // 
  // Arguments:
  // 
  //  obj - (Object) An object to be serialized.
  //  traditional - (Boolean) Params deep/shallow serialization mode. See the
  //    documentation at http://api.jquery.com/jQuery.param/ for more detail.
  // 
  // Returns:
  // 
  //  (String) A sorted params string.
  
  jq_param.sorted = jq_param_sorted = function( a, traditional ) {
    var arr = [],
      obj = {};
    
    $.each( jq_param( a, traditional ).split( '&' ), function(i,v){
      var key = v.replace( /(?:%5B|=).*$/, '' ),
        key_obj = obj[ key ];
      
      if ( !key_obj ) {
        key_obj = obj[ key ] = [];
        arr.push( key );
      }
      
      key_obj.push( v );
    });
    
    return $.map( arr.sort(), function(v){
      return obj[ v ];
    }).join( '&' );
  };
  
  // Method: jQuery.param.fragment.noEscape
  // 
  // Specify characters that will be left unescaped when fragments are created
  // or merged using <jQuery.param.fragment>, or when the fragment is modified
  // using <jQuery.bbq.pushState>. This option only applies to serialized data
  // object fragments, and not set-as-string fragments. Does not affect the
  // query string. Defaults to ",/" (comma, forward slash).
  // 
  // Note that this is considered a purely aesthetic option, and will help to
  // create URLs that "look pretty" in the address bar or bookmarks, without
  // affecting functionality in any way. That being said, be careful to not
  // unescape characters that are used as delimiters or serve a special
  // purpose, such as the "#?&=+" (octothorpe, question mark, ampersand,
  // equals, plus) characters.
  // 
  // Usage:
  // 
  // > jQuery.param.fragment.noEscape( [ chars ] );
  // 
  // Arguments:
  // 
  //  chars - (String) The characters to not escape in the fragment. If
  //    unspecified, defaults to empty string (escape all characters).
  // 
  // Returns:
  // 
  //  Nothing.
  
  jq_param_fragment.noEscape = function( chars ) {
    chars = chars || '';
    var arr = $.map( chars.split(''), encodeURIComponent );
    re_no_escape = new RegExp( arr.join('|'), 'g' );
  };
  
  // A sensible default. These are the characters people seem to complain about
  // "uglifying up the URL" the most.
  jq_param_fragment.noEscape( ',/' );
  
  // Method: jQuery.param.fragment.ajaxCrawlable
  // 
  // TODO: DESCRIBE
  // 
  // Usage:
  // 
  // > jQuery.param.fragment.ajaxCrawlable( [ state ] );
  // 
  // Arguments:
  // 
  //  state - (Boolean) TODO: DESCRIBE
  // 
  // Returns:
  // 
  //  (Boolean) The current ajaxCrawlable state.
  
  jq_param_fragment.ajaxCrawlable = function( state ) {
    if ( state !== undefined ) {
      if ( state ) {
        re_params_fragment = /^.*(?:#!|#)/;
        re_fragment = /^([^#]*)(?:#!|#)?(.*)$/;
        fragment_prefix = '#!';
      } else {
        re_params_fragment = /^.*#/;
        re_fragment = /^([^#]*)#?(.*)$/;
        fragment_prefix = '#';
      }
      ajax_crawlable = !!state;
    }
    
    return ajax_crawlable;
  };
  
  jq_param_fragment.ajaxCrawlable( 0 );
  
  // Section: Deparam (from string)
  // 
  // Method: jQuery.deparam
  // 
  // Deserialize a params string into an object, optionally coercing numbers,
  // booleans, null and undefined values; this method is the counterpart to the
  // internal jQuery.param method.
  // 
  // Usage:
  // 
  // > jQuery.deparam( params [, coerce ] );
  // 
  // Arguments:
  // 
  //  params - (String) A params string to be parsed.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false if omitted.
  // 
  // Returns:
  // 
  //  (Object) An object representing the deserialized params string.
  
  $.deparam = jq_deparam = function( params, coerce ) {
    var obj = {},
      coerce_types = { 'true': !0, 'false': !1, 'null': null };
    
    // Iterate over all name=value pairs.
    $.each( params.replace( /\+/g, ' ' ).split( '&' ), function(j,v){
      var param = v.split( '=' ),
        key = decode( param[0] ),
        val,
        cur = obj,
        i = 0,
        
        // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it
        // into its component parts.
        keys = key.split( '][' ),
        keys_last = keys.length - 1;
      
      // If the first keys part contains [ and the last ends with ], then []
      // are correctly balanced.
      if ( /\[/.test( keys[0] ) && /\]$/.test( keys[ keys_last ] ) ) {
        // Remove the trailing ] from the last keys part.
        keys[ keys_last ] = keys[ keys_last ].replace( /\]$/, '' );
        
        // Split first keys part into two parts on the [ and add them back onto
        // the beginning of the keys array.
        keys = keys.shift().split('[').concat( keys );
        
        keys_last = keys.length - 1;
      } else {
        // Basic 'foo' style key.
        keys_last = 0;
      }
      
      // Are we dealing with a name=value pair, or just a name?
      if ( param.length === 2 ) {
        val = decode( param[1] );
        
        // Coerce values.
        if ( coerce ) {
          val = val && !isNaN(val)            ? +val              // number
            : val === 'undefined'             ? undefined         // undefined
            : coerce_types[val] !== undefined ? coerce_types[val] // true, false, null
            : val;                                                // string
        }
        
        if ( keys_last ) {
          // Complex key, build deep object structure based on a few rules:
          // * The 'cur' pointer starts at the object top-level.
          // * [] = array push (n is set to array length), [n] = array if n is 
          //   numeric, otherwise object.
          // * If at the last keys part, set the value.
          // * For each keys part, if the current level is undefined create an
          //   object or array based on the type of the next keys part.
          // * Move the 'cur' pointer to the next level.
          // * Rinse & repeat.
          for ( ; i <= keys_last; i++ ) {
            key = keys[i] === '' ? cur.length : keys[i];
            cur = cur[key] = i < keys_last
              ? cur[key] || ( keys[i+1] && isNaN( keys[i+1] ) ? {} : [] )
              : val;
          }
          
        } else {
          // Simple key, even simpler rules, since only scalars and shallow
          // arrays are allowed.
          
          if ( $.isArray( obj[key] ) ) {
            // val is already an array, so push on the next value.
            obj[key].push( val );
            
          } else if ( obj[key] !== undefined ) {
            // val isn't an array, but since a second value has been specified,
            // convert val into an array.
            obj[key] = [ obj[key], val ];
            
          } else {
            // val is a scalar.
            obj[key] = val;
          }
        }
        
      } else if ( key ) {
        // No value was defined, so set something meaningful.
        obj[key] = coerce
          ? undefined
          : '';
      }
    });
    
    return obj;
  };
  
  // Method: jQuery.deparam.querystring
  // 
  // Parse the query string from a URL or the current window.location.href,
  // deserializing it into an object, optionally coercing numbers, booleans,
  // null and undefined values.
  // 
  // Usage:
  // 
  // > jQuery.deparam.querystring( [ url ] [, coerce ] );
  // 
  // Arguments:
  // 
  //  url - (String) An optional params string or URL containing query string
  //    params to be parsed. If url is omitted, the current
  //    window.location.href is used.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false if omitted.
  // 
  // Returns:
  // 
  //  (Object) An object representing the deserialized params string.
  
  // Method: jQuery.deparam.fragment
  // 
  // Parse the fragment (hash) from a URL or the current window.location.href,
  // deserializing it into an object, optionally coercing numbers, booleans,
  // null and undefined values.
  // 
  // Usage:
  // 
  // > jQuery.deparam.fragment( [ url ] [, coerce ] );
  // 
  // Arguments:
  // 
  //  url - (String) An optional params string or URL containing fragment (hash)
  //    params to be parsed. If url is omitted, the current window.location.href
  //    is used.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false if omitted.
  // 
  // Returns:
  // 
  //  (Object) An object representing the deserialized params string.
  
  function jq_deparam_sub( is_fragment, url_or_params, coerce ) {
    if ( url_or_params === undefined || typeof url_or_params === 'boolean' ) {
      // url_or_params not specified.
      coerce = url_or_params;
      url_or_params = jq_param[ is_fragment ? str_fragment : str_querystring ]();
    } else {
      url_or_params = is_string( url_or_params )
        ? url_or_params.replace( is_fragment ? re_params_fragment : re_params_querystring, '' )
        : url_or_params;
    }
    
    return jq_deparam( url_or_params, coerce );
  };
  
  jq_deparam[ str_querystring ]                    = curry( jq_deparam_sub, 0 );
  jq_deparam[ str_fragment ] = jq_deparam_fragment = curry( jq_deparam_sub, 1 );
  
  // Section: Element manipulation
  // 
  // Method: jQuery.elemUrlAttr
  // 
  // Get the internal "Default URL attribute per tag" list, or augment the list
  // with additional tag-attribute pairs, in case the defaults are insufficient.
  // 
  // In the <jQuery.fn.querystring> and <jQuery.fn.fragment> methods, this list
  // is used to determine which attribute contains the URL to be modified, if
  // an "attr" param is not specified.
  // 
  // Default Tag-Attribute List:
  // 
  //  a      - href
  //  base   - href
  //  iframe - src
  //  img    - src
  //  input  - src
  //  form   - action
  //  link   - href
  //  script - src
  // 
  // Usage:
  // 
  // > jQuery.elemUrlAttr( [ tag_attr ] );
  // 
  // Arguments:
  // 
  //  tag_attr - (Object) An object containing a list of tag names and their
  //    associated default attribute names in the format { tag: 'attr', ... } to
  //    be merged into the internal tag-attribute list.
  // 
  // Returns:
  // 
  //  (Object) An object containing all stored tag-attribute values.
  
  // Only define function and set defaults if function doesn't already exist, as
  // the urlInternal plugin will provide this method as well.
  $[ str_elemUrlAttr ] || ($[ str_elemUrlAttr ] = function( obj ) {
    return $.extend( elemUrlAttr_cache, obj );
  })({
    a: str_href,
    base: str_href,
    iframe: str_src,
    img: str_src,
    input: str_src,
    form: 'action',
    link: str_href,
    script: str_src
  });
  
  jq_elemUrlAttr = $[ str_elemUrlAttr ];
  
  // Method: jQuery.fn.querystring
  // 
  // Update URL attribute in one or more elements, merging the current URL (with
  // or without pre-existing query string params) plus any params object or
  // string into a new URL, which is then set into that attribute. Like
  // <jQuery.param.querystring (build url)>, but for all elements in a jQuery
  // collection.
  // 
  // Usage:
  // 
  // > jQuery('selector').querystring( [ attr, ] params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  attr - (String) Optional name of an attribute that will contain a URL to
  //    merge params or url into. See <jQuery.elemUrlAttr> for a list of default
  //    attributes.
  //  params - (Object) A params object to be merged into the URL attribute.
  //  params - (String) A URL containing query string params, or params string
  //    to be merged into the URL attribute.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  //    
  //    * 0: params in the params argument will override any params in attr URL.
  //    * 1: any params in attr URL will override params in the params argument.
  //    * 2: params argument will completely replace any query string in attr
  //         URL.
  // 
  // Returns:
  // 
  //  (jQuery) The initial jQuery collection of elements, but with modified URL
  //  attribute values.
  
  // Method: jQuery.fn.fragment
  // 
  // Update URL attribute in one or more elements, merging the current URL (with
  // or without pre-existing fragment/hash params) plus any params object or
  // string into a new URL, which is then set into that attribute. Like
  // <jQuery.param.fragment (build url)>, but for all elements in a jQuery
  // collection.
  // 
  // Usage:
  // 
  // > jQuery('selector').fragment( [ attr, ] params [, merge_mode ] );
  // 
  // Arguments:
  // 
  //  attr - (String) Optional name of an attribute that will contain a URL to
  //    merge params into. See <jQuery.elemUrlAttr> for a list of default
  //    attributes.
  //  params - (Object) A params object to be merged into the URL attribute.
  //  params - (String) A URL containing fragment (hash) params, or params
  //    string to be merged into the URL attribute.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified, and is as-follows:
  //    
  //    * 0: params in the params argument will override any params in attr URL.
  //    * 1: any params in attr URL will override params in the params argument.
  //    * 2: params argument will completely replace any fragment (hash) in attr
  //         URL.
  // 
  // Returns:
  // 
  //  (jQuery) The initial jQuery collection of elements, but with modified URL
  //  attribute values.
  
  function jq_fn_sub( mode, force_attr, params, merge_mode ) {
    if ( !is_string( params ) && typeof params !== 'object' ) {
      // force_attr not specified.
      merge_mode = params;
      params = force_attr;
      force_attr = undefined;
    }
    
    return this.each(function(){
      var that = $(this),
        
        // Get attribute specified, or default specified via $.elemUrlAttr.
        attr = force_attr || jq_elemUrlAttr()[ ( this.nodeName || '' ).toLowerCase() ] || '',
        
        // Get URL value.
        url = attr && that.attr( attr ) || '';
      
      // Update attribute with new URL.
      that.attr( attr, jq_param[ mode ]( url, params, merge_mode ) );
    });
    
  };
  
  $.fn[ str_querystring ] = curry( jq_fn_sub, str_querystring );
  $.fn[ str_fragment ]    = curry( jq_fn_sub, str_fragment );
  
  // Section: History, hashchange event
  // 
  // Method: jQuery.bbq.pushState
  // 
  // Adds a 'state' into the browser history at the current position, setting
  // location.hash and triggering any bound <hashchange event> callbacks
  // (provided the new state is different than the previous state).
  // 
  // If no arguments are passed, an empty state is created, which is just a
  // shortcut for jQuery.bbq.pushState( {}, 2 ).
  // 
  // Usage:
  // 
  // > jQuery.bbq.pushState( [ params [, merge_mode ] ] );
  // 
  // Arguments:
  // 
  //  params - (String) A serialized params string or a hash string beginning
  //    with # to merge into location.hash.
  //  params - (Object) A params object to merge into location.hash.
  //  merge_mode - (Number) Merge behavior defaults to 0 if merge_mode is not
  //    specified (unless a hash string beginning with # is specified, in which
  //    case merge behavior defaults to 2), and is as-follows:
  // 
  //    * 0: params in the params argument will override any params in the
  //         current state.
  //    * 1: any params in the current state will override params in the params
  //         argument.
  //    * 2: params argument will completely replace current state.
  // 
  // Returns:
  // 
  //  Nothing.
  // 
  // Additional Notes:
  // 
  //  * Setting an empty state may cause the browser to scroll.
  //  * Unlike the fragment and querystring methods, if a hash string beginning
  //    with # is specified as the params agrument, merge_mode defaults to 2.
  
  jq_bbq.pushState = jq_bbq_pushState = function( params, merge_mode ) {
    if ( is_string( params ) && /^#/.test( params ) && merge_mode === undefined ) {
      // Params string begins with # and merge_mode not specified, so completely
      // overwrite window.location.hash.
      merge_mode = 2;
    }
    
    var has_args = params !== undefined,
      // Merge params into window.location using $.param.fragment.
      url = jq_param_fragment( location.href,
        has_args ? params : {}, has_args ? merge_mode : 2 );
    
    // Set new window.location.href. Note that Safari 3 & Chrome barf on
    // location.hash = '#' so the entire URL is set.
    location.href = url;
  };
  
  // Method: jQuery.bbq.getState
  // 
  // Retrieves the current 'state' from the browser history, parsing
  // location.hash for a specific key or returning an object containing the
  // entire state, optionally coercing numbers, booleans, null and undefined
  // values.
  // 
  // Usage:
  // 
  // > jQuery.bbq.getState( [ key ] [, coerce ] );
  // 
  // Arguments:
  // 
  //  key - (String) An optional state key for which to return a value.
  //  coerce - (Boolean) If true, coerces any numbers or true, false, null, and
  //    undefined to their actual value. Defaults to false.
  // 
  // Returns:
  // 
  //  (Anything) If key is passed, returns the value corresponding with that key
  //    in the location.hash 'state', or undefined. If not, an object
  //    representing the entire 'state' is returned.
  
  jq_bbq.getState = jq_bbq_getState = function( key, coerce ) {
    return key === undefined || typeof key === 'boolean'
      ? jq_deparam_fragment( key ) // 'key' really means 'coerce' here
      : jq_deparam_fragment( coerce )[ key ];
  };
  
  // Method: jQuery.bbq.removeState
  // 
  // Remove one or more keys from the current browser history 'state', creating
  // a new state, setting location.hash and triggering any bound
  // <hashchange event> callbacks (provided the new state is different than
  // the previous state).
  // 
  // If no arguments are passed, an empty state is created, which is just a
  // shortcut for jQuery.bbq.pushState( {}, 2 ).
  // 
  // Usage:
  // 
  // > jQuery.bbq.removeState( [ key [, key ... ] ] );
  // 
  // Arguments:
  // 
  //  key - (String) One or more key values to remove from the current state,
  //    passed as individual arguments.
  //  key - (Array) A single array argument that contains a list of key values
  //    to remove from the current state.
  // 
  // Returns:
  // 
  //  Nothing.
  // 
  // Additional Notes:
  // 
  //  * Setting an empty state may cause the browser to scroll.
  
  jq_bbq.removeState = function( arr ) {
    var state = {};
    
    // If one or more arguments is passed..
    if ( arr !== undefined ) {
      
      // Get the current state.
      state = jq_bbq_getState();
      
      // For each passed key, delete the corresponding property from the current
      // state.
      $.each( $.isArray( arr ) ? arr : arguments, function(i,v){
        delete state[ v ];
      });
    }
    
    // Set the state, completely overriding any existing state.
    jq_bbq_pushState( state, 2 );
  };
  
  // Event: hashchange event (BBQ)
  // 
  // Usage in jQuery 1.4 and newer:
  // 
  // In jQuery 1.4 and newer, the event object passed into any hashchange event
  // callback is augmented with a copy of the location.hash fragment at the time
  // the event was triggered as its event.fragment property. In addition, the
  // event.getState method operates on this property (instead of location.hash)
  // which allows this fragment-as-a-state to be referenced later, even after
  // window.location may have changed.
  // 
  // Note that event.fragment and event.getState are not defined according to
  // W3C (or any other) specification, but will still be available whether or
  // not the hashchange event exists natively in the browser, because of the
  // utility they provide.
  // 
  // The event.fragment property contains the output of <jQuery.param.fragment>
  // and the event.getState method is equivalent to the <jQuery.bbq.getState>
  // method.
  // 
  // > $(window).bind( 'hashchange', function( event ) {
  // >   var hash_str = event.fragment,
  // >     param_obj = event.getState(),
  // >     param_val = event.getState( 'param_name' ),
  // >     param_val_coerced = event.getState( 'param_name', true );
  // >   ...
  // > });
  // 
  // Usage in jQuery 1.3.2:
  // 
  // In jQuery 1.3.2, the event object cannot to be augmented as in jQuery 1.4+,
  // so the fragment state isn't bound to the event object and must instead be
  // parsed using the <jQuery.param.fragment> and <jQuery.bbq.getState> methods.
  // 
  // > $(window).bind( 'hashchange', function( event ) {
  // >   var hash_str = $.param.fragment(),
  // >     param_obj = $.bbq.getState(),
  // >     param_val = $.bbq.getState( 'param_name' ),
  // >     param_val_coerced = $.bbq.getState( 'param_name', true );
  // >   ...
  // > });
  // 
  // Additional Notes:
  // 
  // * Due to changes in the special events API, jQuery BBQ v1.2 or newer is
  //   required to enable the augmented event object in jQuery 1.4.2 and newer.
  // * See <jQuery hashchange event> for more detailed information.
  
  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {
    
    // Augmenting the event object with the .fragment property and .getState
    // method requires jQuery 1.4 or newer. Note: with 1.3.2, everything will
    // work, but the event won't be augmented)
    add: function( handleObj ) {
      var old_handler;
      
      function new_handler(e) {
        // e.fragment is set to the value of location.hash (with any leading #
        // removed) at the time the event is triggered.
        var hash = e[ str_fragment ] = jq_param_fragment();
        
        // e.getState() works just like $.bbq.getState(), but uses the
        // e.fragment property stored on the event object.
        e.getState = function( key, coerce ) {
          return key === undefined || typeof key === 'boolean'
            ? jq_deparam( hash, key ) // 'key' really means 'coerce' here
            : jq_deparam( hash, coerce )[ key ];
        };
        
        old_handler.apply( this, arguments );
      };
      
      // This may seem a little complicated, but it normalizes the special event
      // .add method between jQuery 1.4/1.4.1 and 1.4.2+
      if ( $.isFunction( handleObj ) ) {
        // 1.4, 1.4.1
        old_handler = handleObj;
        return new_handler;
      } else {
        // 1.4.2+
        old_handler = handleObj.handler;
        handleObj.handler = new_handler;
      }
    }
    
  });
  
})(jQuery,this);

/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

// Script: jQuery hashchange event
//
// *Version: 1.3, Last updated: 7/21/2010*
// 
// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/
// GitHub       - http://github.com/cowboy/jquery-hashchange/
// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js
// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)
// 
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/
// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,
//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.
// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/
// 
// About: Known issues
// 
// While this jQuery hashchange event implementation is quite stable and
// robust, there are a few unfortunate browser bugs surrounding expected
// hashchange event-based behaviors, independent of any JavaScript
// window.onhashchange abstraction. See the following examples for more
// information:
// 
// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/
// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/
// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/
// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/
// 
// Also note that should a browser natively support the window.onhashchange 
// event, but not report that it does, the fallback polling loop will be used.
// 
// About: Release History
// 
// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more
//         "removable" for mobile-only development. Added IE6/7 document.title
//         support. Attempted to make Iframe as hidden as possible by using
//         techniques from http://www.paciellogroup.com/blog/?p=604. Added 
//         support for the "shortcut" format $(window).hashchange( fn ) and
//         $(window).hashchange() like jQuery provides for built-in events.
//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and
//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>
//         and <jQuery.fn.hashchange.src> properties plus document-domain.html
//         file to address access denied issues when setting document.domain in
//         IE6/7.
// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin
//         from a page on another domain would cause an error in Safari 4. Also,
//         IE6/7 Iframe is now inserted after the body (this actually works),
//         which prevents the page from scrolling when the event is first bound.
//         Event can also now be bound before DOM ready, but it won't be usable
//         before then in IE6/7.
// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug
//         where browser version is incorrectly reported as 8.0, despite
//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.
// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special
//         window.onhashchange functionality into a separate plugin for users
//         who want just the basic event & back button support, without all the
//         extra awesomeness that BBQ provides. This plugin will be included as
//         part of jQuery BBQ, but also be available separately.

(function($,window,undefined){
  '$:nomunge'; // Used by YUI compressor.
  
  // Reused string.
  var str_hashchange = 'hashchange',
    
    // Method / object references.
    doc = document,
    fake_onhashchange,
    special = $.event.special,
    
    // Does the browser support window.onhashchange? Note that IE8 running in
    // IE7 compatibility mode reports true for 'onhashchange' in window, even
    // though the event isn't supported, so also test document.documentMode.
    doc_mode = doc.documentMode,
    supports_onhashchange = 'on' + str_hashchange in window && ( doc_mode === undefined || doc_mode > 7 );
  
  // Get location.hash (or what you'd expect location.hash to be) sans any
  // leading #. Thanks for making this necessary, Firefox!
  function get_fragment( url ) {
    url = url || location.href;
    return '#' + url.replace( /^[^#]*#?(.*)$/, '$1' );
  };
  
  // Method: jQuery.fn.hashchange
  // 
  // Bind a handler to the window.onhashchange event or trigger all bound
  // window.onhashchange event handlers. This behavior is consistent with
  // jQuery's built-in event handlers.
  // 
  // Usage:
  // 
  // > jQuery(window).hashchange( [ handler ] );
  // 
  // Arguments:
  // 
  //  handler - (Function) Optional handler to be bound to the hashchange
  //    event. This is a "shortcut" for the more verbose form:
  //    jQuery(window).bind( 'hashchange', handler ). If handler is omitted,
  //    all bound window.onhashchange event handlers will be triggered. This
  //    is a shortcut for the more verbose
  //    jQuery(window).trigger( 'hashchange' ). These forms are described in
  //    the <hashchange event> section.
  // 
  // Returns:
  // 
  //  (jQuery) The initial jQuery collection of elements.
  
  // Allow the "shortcut" format $(elem).hashchange( fn ) for binding and
  // $(elem).hashchange() for triggering, like jQuery does for built-in events.
  $.fn[ str_hashchange ] = function( fn ) {
    return fn ? this.bind( str_hashchange, fn ) : this.trigger( str_hashchange );
  };
  
  // Property: jQuery.fn.hashchange.delay
  // 
  // The numeric interval (in milliseconds) at which the <hashchange event>
  // polling loop executes. Defaults to 50.
  
  // Property: jQuery.fn.hashchange.domain
  // 
  // If you're setting document.domain in your JavaScript, and you want hash
  // history to work in IE6/7, not only must this property be set, but you must
  // also set document.domain BEFORE jQuery is loaded into the page. This
  // property is only applicable if you are supporting IE6/7 (or IE8 operating
  // in "IE7 compatibility" mode).
  // 
  // In addition, the <jQuery.fn.hashchange.src> property must be set to the
  // path of the included "document-domain.html" file, which can be renamed or
  // modified if necessary (note that the document.domain specified must be the
  // same in both your main JavaScript as well as in this file).
  // 
  // Usage:
  // 
  // jQuery.fn.hashchange.domain = document.domain;
  
  // Property: jQuery.fn.hashchange.src
  // 
  // If, for some reason, you need to specify an Iframe src file (for example,
  // when setting document.domain as in <jQuery.fn.hashchange.domain>), you can
  // do so using this property. Note that when using this property, history
  // won't be recorded in IE6/7 until the Iframe src file loads. This property
  // is only applicable if you are supporting IE6/7 (or IE8 operating in "IE7
  // compatibility" mode).
  // 
  // Usage:
  // 
  // jQuery.fn.hashchange.src = 'path/to/file.html';
  
  $.fn[ str_hashchange ].delay = 50;
  /*
  $.fn[ str_hashchange ].domain = null;
  $.fn[ str_hashchange ].src = null;
  */
  
  // Event: hashchange event
  // 
  // Fired when location.hash changes. In browsers that support it, the native
  // HTML5 window.onhashchange event is used, otherwise a polling loop is
  // initialized, running every <jQuery.fn.hashchange.delay> milliseconds to
  // see if the hash has changed. In IE6/7 (and IE8 operating in "IE7
  // compatibility" mode), a hidden Iframe is created to allow the back button
  // and hash-based history to work.
  // 
  // Usage as described in <jQuery.fn.hashchange>:
  // 
  // > // Bind an event handler.
  // > jQuery(window).hashchange( function(e) {
  // >   var hash = location.hash;
  // >   ...
  // > });
  // > 
  // > // Manually trigger the event handler.
  // > jQuery(window).hashchange();
  // 
  // A more verbose usage that allows for event namespacing:
  // 
  // > // Bind an event handler.
  // > jQuery(window).bind( 'hashchange', function(e) {
  // >   var hash = location.hash;
  // >   ...
  // > });
  // > 
  // > // Manually trigger the event handler.
  // > jQuery(window).trigger( 'hashchange' );
  // 
  // Additional Notes:
  // 
  // * The polling loop and Iframe are not created until at least one handler
  //   is actually bound to the 'hashchange' event.
  // * If you need the bound handler(s) to execute immediately, in cases where
  //   a location.hash exists on page load, via bookmark or page refresh for
  //   example, use jQuery(window).hashchange() or the more verbose 
  //   jQuery(window).trigger( 'hashchange' ).
  // * The event can be bound before DOM ready, but since it won't be usable
  //   before then in IE6/7 (due to the necessary Iframe), recommended usage is
  //   to bind it inside a DOM ready handler.
  
  // Override existing $.event.special.hashchange methods (allowing this plugin
  // to be defined after jQuery BBQ in BBQ's source code).
  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {
    
    // Called only when the first 'hashchange' event is bound to window.
    setup: function() {
      // If window.onhashchange is supported natively, there's nothing to do..
      if ( supports_onhashchange ) { return false; }
      
      // Otherwise, we need to create our own. And we don't want to call this
      // until the user binds to the event, just in case they never do, since it
      // will create a polling loop and possibly even a hidden Iframe.
      $( fake_onhashchange.start );
    },
    
    // Called only when the last 'hashchange' event is unbound from window.
    teardown: function() {
      // If window.onhashchange is supported natively, there's nothing to do..
      if ( supports_onhashchange ) { return false; }
      
      // Otherwise, we need to stop ours (if possible).
      $( fake_onhashchange.stop );
    }
    
  });
  
  // fake_onhashchange does all the work of triggering the window.onhashchange
  // event for browsers that don't natively support it, including creating a
  // polling loop to watch for hash changes and in IE 6/7 creating a hidden
  // Iframe to enable back and forward.
  fake_onhashchange = (function(){
    var self = {},
      timeout_id,
      
      // Remember the initial hash so it doesn't get triggered immediately.
      last_hash = get_fragment(),
      
      fn_retval = function(val){ return val; },
      history_set = fn_retval,
      history_get = fn_retval;
    
    // Start the polling loop.
    self.start = function() {
      timeout_id || poll();
    };
    
    // Stop the polling loop.
    self.stop = function() {
      timeout_id && clearTimeout( timeout_id );
      timeout_id = undefined;
    };
    
    // This polling loop checks every $.fn.hashchange.delay milliseconds to see
    // if location.hash has changed, and triggers the 'hashchange' event on
    // window when necessary.
    function poll() {
      var hash = get_fragment(),
        history_hash = history_get( last_hash );
      
      if ( hash !== last_hash ) {
        history_set( last_hash = hash, history_hash );
        
        $(window).trigger( str_hashchange );
        
      } else if ( history_hash !== last_hash ) {
        location.href = location.href.replace( /#.*/, '' ) + history_hash;
      }
      
      timeout_id = setTimeout( poll, $.fn[ str_hashchange ].delay );
    };
    
    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv
    // vvvvvvvvvvvvvvvvvvv REMOVE IF NOT SUPPORTING IE6/7/8 vvvvvvvvvvvvvvvvvvv
    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv

    // snippet removed by pgbovine

    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    // ^^^^^^^^^^^^^^^^^^^ REMOVE IF NOT SUPPORTING IE6/7/8 ^^^^^^^^^^^^^^^^^^^
    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    
    return self;
  })();
  
})(jQuery,this);

/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_1110685__(0)))

/***/ }),
/* 29 */
/***/ (function(module, exports, __nested_webpack_require_1160188__) {

var api = __nested_webpack_require_1160188__(2);
            var content = __nested_webpack_require_1160188__(30);

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);

var exported = content.locals ? content.locals : {};



module.exports = exported;

/***/ }),
/* 30 */
/***/ (function(module, exports, __nested_webpack_require_1160727__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __nested_webpack_require_1160727__(3);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/*\n\nOnline Python Tutor\nhttps://github.com/pgbovine/OnlinePythonTutor/\n\nCopyright (C) Philip J. Guo (philip@pgbovine.net)\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n/* Most recent color scheme redesign on 2012-08-19 */\n\n/* To prevent CSS namespace clashes, prefix all rules with:\n     div.ExecutionVisualizer\n*/\n\n\n/* reset some styles to nullify effects of existing stylesheets\n   e.g., http://meyerweb.com/eric/tools/css/reset/\n*/\ndiv.ExecutionVisualizer {\n  /* none for now */\n}\n\ndiv.ExecutionVisualizer table.visualizer {\n  font-family: verdana, arial, helvetica, sans-serif;\n  font-size: 10pt;\n  margin-bottom: 10px;\n}\n\ndiv.ExecutionVisualizer table.visualizer td.vizLayoutTd {\n  vertical-align: top;\n}\n\ndiv.ExecutionVisualizer td#stack_td,\ndiv.ExecutionVisualizer td#heap_td {\n  vertical-align:top;\n  font-size: 10pt; /* don't make fonts in the heap so big! */\n}\n\ndiv.ExecutionVisualizer #dataViz {\n  /*margin-left: 25px;*/\n}\n\ndiv.ExecutionVisualizer #selectiveHideStatus {\n  /*margin-left: 25px;*/\n  font-size: 9pt;\n  margin-bottom: 15px;\n  margin-left: 13px;\n}\n\n/*\ndiv.ExecutionVisualizer div#codeDisplayDiv {\n  width: 550px;\n}\n*/\n\ndiv.ExecutionVisualizer div#pyCodeOutputDiv {\n  /*max-width: 550px;*/\n  max-height: 460px;\n  /*max-height: 620px;*/\n  overflow: auto;\n  /*margin-bottom: 4px;*/\n\n  margin-left: auto;\n  margin-right: auto;\n}\n\ndiv.ExecutionVisualizer table#pyCodeOutput {\n  font-family: Andale mono, monospace;\n  /*font-size:12pt;*/\n  font-size:11pt;\n  line-height:1.1em;\n\n  border-collapse: separate; /* some crazy CSS voodoo that needs to be\n                                there so that SVG arrows to the left\n                                of the code line up vertically in Chrome */\n  border-spacing: 0px;\n  border-top: 1px solid #bbb;\n  padding-top: 3px;\n  border-bottom: 1px solid #bbb;\n  /*margin-top: 6px;*/\n  margin: 6px auto; /* Center code in its pane */\n}\n\n/* don't wrap lines within code output ... FORCE scrollbars to appear */\ndiv.ExecutionVisualizer table#pyCodeOutput td {\n  white-space: nowrap;\n  vertical-align: middle; /* explicitly force, to override external CSS conflicts */\n}\n\ndiv.ExecutionVisualizer #leftCodeGutterSVG {\n  width: 18px;\n  min-width: 18px; /* make sure it doesn't squash too thin */\n  height: 0px; /* programmatically set this later ... IE needs this to\n                  be 0 or it defaults to something arbitrary and gross */\n}\n\ndiv.ExecutionVisualizer #prevLegendArrowSVG,\ndiv.ExecutionVisualizer #curLegendArrowSVG {\n  width: 18px;\n  height: 10px;\n}\n\ndiv.ExecutionVisualizer .arrow {\n  font-size: 16pt;\n}\n\ndiv.ExecutionVisualizer table#pyCodeOutput .lineNo {\n  color: #aaa;\n  padding: 0.2em;\n  padding-left: 0.3em;\n  padding-right: 0.5em;\n  text-align: right;\n}\n\ndiv.ExecutionVisualizer table#pyCodeOutput .cod {\n  /*font-weight: bold;*/\n  margin-left: 3px;\n  padding-left: 7px;\n  text-align: left; /* necessary or else doesn't work properly in IE */\n}\n\ndiv.ExecutionVisualizer div#progOutputs {\n  margin-left: 13px; /* line up with heap visualizations */\n  margin-bottom: 3px;\n}\n\ndiv.ExecutionVisualizer div#legendDiv {\n  padding: 0px;\n  text-align: left;\n  color: #666;\n  font-size: 9pt;\n}\n\ndiv.ExecutionVisualizer div#editCodeLinkDiv {\n  text-align: center;\n  /*\n  margin-top: 12px;\n  margin-bottom: 4px;\n  */\n  margin: 8px auto;\n  font-size: 11pt;\n}\n\ndiv.ExecutionVisualizer div#annotateLinkDiv {\n  /*text-align: left;*/\n  margin-top: 0px;\n  margin-bottom: 12px;\n  /*\n  margin-left: auto;\n  margin-right: auto;\n  */\n}\n\ndiv.ExecutionVisualizer div#stepAnnotationDiv {\n  margin-bottom: 12px;\n}\n\ndiv.ExecutionVisualizer textarea#stepAnnotationEditor,\ndiv.ExecutionVisualizer textarea#vizTitleEditor,\ndiv.ExecutionVisualizer textarea#vizDescriptionEditor {\n  border: 1px solid #999999;\n  padding: 4px;\n\n  overflow: auto; /* to look pretty on IE */\n  /* make sure textarea doesn't grow and stretch */\n  resize: none;\n}\n\n\ndiv.ExecutionVisualizer #errorOutput {\n  color: #e93f34; /* should match brightRed JavaScript variable */\n  font-size: 11pt;\n  padding-top: 2px;\n  line-height: 1.5em;\n  margin-bottom: 4px;\n}\n\n/* VCR control buttons for stepping through execution */\n\ndiv.ExecutionVisualizer #vcrControls {\n  margin-top: 15px;\n  margin-bottom: 6px;\n  /*width: 100%;*/\n  text-align: center;\n}\n\ndiv.ExecutionVisualizer #vcrControls button {\n  margin-left: 2px;\n  margin-right: 2px;\n}\n\ndiv.ExecutionVisualizer #curInstr {\n  text-align: center;\n}\n\ndiv.ExecutionVisualizer #pyStdout {\n  border: 1px solid #999999;\n  font-size: 10pt;\n  padding: 3px;\n  font-family: Andale mono, monospace;\n\n  overflow: auto; /* to look pretty on IE */\n  /* make sure textarea doesn't grow and stretch */\n  resize: none;\n}\n\n\ndiv.ExecutionVisualizer .vizFrame {\n  margin-bottom: 20px;\n  padding-left: 8px;\n  border-left: 2px solid #cccccc;\n}\n\n\n/* Rendering of primitive types */\n\ndiv.ExecutionVisualizer .importedObj {\n  font-size: 8pt;\n}\n\ndiv.ExecutionVisualizer .nullObj {\n/*  font-size: 8pt; */\n}\n\ndiv.ExecutionVisualizer .stringObj,\ndiv.ExecutionVisualizer .customObj,\ndiv.ExecutionVisualizer .funcObj {\n  font-family: Andale mono, monospace;\n  white-space: nowrap;\n}\n\ndiv.ExecutionVisualizer .funcCode {\n  font-size: 8pt;\n}\n\ndiv.ExecutionVisualizer .retval {\n  font-size: 9pt;\n}\n\ndiv.ExecutionVisualizer .stackFrame .retval {\n  color: #e93f34; /* highlight non-zombie stack frame return values -\n                     should match brightRed JavaScript variable */\n}\n\n/* Rendering of basic compound types */\n\ndiv.ExecutionVisualizer table.listTbl,\ndiv.ExecutionVisualizer table.tupleTbl,\ndiv.ExecutionVisualizer table.setTbl {\n  background-color: #ffffc6;\n}\n\n\ndiv.ExecutionVisualizer table.listTbl {\n  border: 0px solid black;\n  border-spacing: 0px;\n}\n\ndiv.ExecutionVisualizer table.listTbl td.listHeader,\ndiv.ExecutionVisualizer table.tupleTbl td.tupleHeader {\n  padding-left: 4px;\n  padding-top: 2px;\n  padding-bottom: 3px;\n  font-size: 8pt;\n  color: #777;\n  text-align: left;\n  border-left: 1px solid #555555;\n}\n\ndiv.ExecutionVisualizer table.tupleTbl {\n  border-spacing: 0px;\n  color: black;\n\n  border-bottom: 1px solid #555555; /* must match td.tupleHeader border */\n  border-top: 1px solid #555555; /* must match td.tupleHeader border */\n  border-right: 1px solid #555555; /* must match td.tupleHeader border */\n}\n\n\ndiv.ExecutionVisualizer table.listTbl td.listElt {\n  border-bottom: 1px solid #555555; /* must match td.listHeader border */\n  border-left: 1px solid #555555; /* must match td.listHeader border */\n}\n\n\n/* for C and C++ visualizations */\n\n/* make this slightly more compact than listTbl since arrays can be\n   rendered on the stack so we want to kinda conserve space */\ndiv.ExecutionVisualizer table.cArrayTbl {\n  background-color: #ffffc6;\n  padding-left: 0px;\n  padding-top: 0px;\n  padding-bottom: 0px;\n  font-size: 8pt;\n  color: #777;\n  text-align: left;\n  border: 0px solid black;\n  border-spacing: 0px;\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cArrayHeader {\n  padding-left: 5px;\n  padding-top: 0px;\n  padding-bottom: 2px;\n  font-size: 6pt;\n  color: #777;\n  text-align: left;\n  border-bottom: 0px solid black; /* override whatever we're nested in */\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cArrayElt {\n  border-bottom: 1px solid #888;\n  border-left: 1px solid #888;\n  border-top: 0px solid black;\n  color: black;\n\n  padding-top: 2px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 4px;\n  vertical-align: bottom;\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cMultidimArrayHeader {\n  padding-left: 5px;\n  padding-right: 5px;\n  padding-top: 1px;\n  padding-bottom: 3px;\n  font-size: 6pt;\n  color: #777;\n  text-align: left;\n  border-top: 1px solid #888;\n  border-left: 1px solid #888;\n  border-bottom: 0px solid black; /* override whatever we're nested in */\n}\n\ndiv.ExecutionVisualizer table.cArrayTbl td.cMultidimArrayElt {\n  border-left: 1px solid #888;\n  color: black;\n  padding-top: 1px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: bottom;\n}\n\n\ndiv.ExecutionVisualizer .cdataHeader {\n  font-size: 6pt;\n  color: #555;\n  padding-bottom: 2px;\n}\n\ndiv.ExecutionVisualizer .cdataElt {\n  font-size: 10pt;\n}\n\ndiv.ExecutionVisualizer .cdataUninit {\n  color: #888;\n}\n\n\ndiv.ExecutionVisualizer table.tupleTbl td.tupleElt {\n  border-left: 1px solid #555555; /* must match td.tupleHeader border */\n}\n\ndiv.ExecutionVisualizer table.customObjTbl {\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n}\n\ndiv.ExecutionVisualizer table.customObjTbl td.customObjElt {\n  padding: 5px;\n  font-size: 9pt; /* make this smaller */\n}\n\ndiv.ExecutionVisualizer table.listTbl td.listElt,\ndiv.ExecutionVisualizer table.tupleTbl td.tupleElt {\n  padding-top: 0px;\n  padding-bottom: 8px;\n  padding-left: 10px;\n  padding-right: 10px;\n  vertical-align: bottom;\n}\n\ndiv.ExecutionVisualizer table.setTbl {\n  border: 1px solid #555555;\n  border-spacing: 0px;\n  text-align: center;\n}\n\ndiv.ExecutionVisualizer table.setTbl td.setElt {\n  padding: 8px;\n}\n\n\ndiv.ExecutionVisualizer table.dictTbl,\ndiv.ExecutionVisualizer table.instTbl,\ndiv.ExecutionVisualizer table.classTbl {\n  border-spacing: 1px;\n}\n\ndiv.ExecutionVisualizer table.dictTbl td.dictKey,\ndiv.ExecutionVisualizer table.instTbl td.instKey,\ndiv.ExecutionVisualizer table.classTbl td.classKey {\n  background-color: #faebbf;\n}\n\ndiv.ExecutionVisualizer table.dictTbl td.dictVal,\ndiv.ExecutionVisualizer table.instTbl td.instVal,\ndiv.ExecutionVisualizer table.classTbl td.classVal,\ndiv.ExecutionVisualizer td.funcCod {\n  background-color: #ffffc6;\n}\n\n\ndiv.ExecutionVisualizer table.dictTbl td.dictKey,\ndiv.ExecutionVisualizer table.instTbl td.instKey,\ndiv.ExecutionVisualizer table.classTbl td.classKey {\n  padding-top: 6px /*15px*/;\n  padding-bottom: 6px;\n  padding-left: 10px;\n  padding-right: 4px;\n\n  text-align: right;\n}\n\ndiv.ExecutionVisualizer table.dictTbl td.dictVal,\ndiv.ExecutionVisualizer table.instTbl td.instVal,\ndiv.ExecutionVisualizer table.classTbl td.classVal {\n  padding-top: 6px; /*15px*/;\n  padding-bottom: 6px;\n  padding-right: 10px;\n  padding-left: 4px;\n}\n\ndiv.ExecutionVisualizer td.funcCod {\n  padding-left: 4px;\n}\n\ndiv.ExecutionVisualizer table.classTbl td,\ndiv.ExecutionVisualizer table.instTbl td {\n  border-bottom: 1px #888 solid;\n}\n\ndiv.ExecutionVisualizer table.classTbl td.classVal,\ndiv.ExecutionVisualizer table.instTbl td.instVal {\n  border-left: 1px #888 solid;\n}\n\ndiv.ExecutionVisualizer table.classTbl,\ndiv.ExecutionVisualizer table.funcTbl {\n  border-collapse: collapse;\n  border: 1px #888 solid;\n}\n\n/* only add a border to dicts if they're embedded within another object */\ndiv.ExecutionVisualizer td.listElt table.dictTbl,\ndiv.ExecutionVisualizer td.tupleElt table.dictTbl,\ndiv.ExecutionVisualizer td.dictVal table.dictTbl,\ndiv.ExecutionVisualizer td.instVal table.dictTbl,\ndiv.ExecutionVisualizer td.classVal table.dictTbl {\n  border: 1px #888 solid;\n}\n\ndiv.ExecutionVisualizer .objectIdLabel {\n  font-size: 8pt;\n  color: #444;\n  margin-bottom: 2px;\n}\n\ndiv.ExecutionVisualizer .typeLabel {\n  font-size: 8pt;\n  color: #555;\n  margin-bottom: 2px;\n}\n\ndiv.ExecutionVisualizer div#stack,\ndiv.ExecutionVisualizer div#globals_area {\n  padding-left: 10px;\n  padding-right: 30px;\n\n  /* no longer necessary ... */\n  /*float: left;*/\n  /* border-right: 1px dashed #bbbbbb; */\n}\n\ndiv.ExecutionVisualizer div.stackFrame,\ndiv.ExecutionVisualizer div.zombieStackFrame {\n  background-color: #ffffff;\n  margin-bottom: 15px;\n  padding: 2px;\n  padding-left: 6px;\n  padding-right: 6px;\n  padding-bottom: 4px;\n  font-size: 10pt;\n}\n\ndiv.ExecutionVisualizer div.zombieStackFrame {\n  border-left: 1px dotted #aaa;\n  /*color: #c0c0c0;*/\n  color: #a0a0a0;\n}\n\ndiv.ExecutionVisualizer div.highlightedStackFrame {\n  background-color: #e2ebf6;\n  /*background-color: #d7e7fb;*/\n\n  /*background-color: #c0daf8;*/\n  /*background-color: #9eeaff #c5dfea;*/\n}\n\ndiv.ExecutionVisualizer div.stackFrame,\ndiv.ExecutionVisualizer div.highlightedStackFrame {\n  border-left: 1px solid #a6b3b6;\n}\n\n\ndiv.ExecutionVisualizer div.stackFrameHeader {\n  font-family: Andale mono, monospace;\n  font-size: 10pt;\n  margin-top: 4px;\n  margin-bottom: 3px;\n  white-space: nowrap;\n}\n\ndiv.ExecutionVisualizer td.stackFrameVar {\n  text-align: right;\n  padding-right: 8px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n\ndiv.ExecutionVisualizer td.stackFrameValue {\n  text-align: left;\n  border-bottom: 1px solid #aaaaaa;\n  border-left: 1px solid #aaaaaa;\n\n  vertical-align: middle;\n\n  padding-top: 3px;\n  padding-left: 3px;\n  padding-bottom: 3px;\n}\n\ndiv.ExecutionVisualizer .stackFrameVarTable tr {\n\n}\n\ndiv.ExecutionVisualizer .stackFrameVarTable {\n  text-align: right;\n  padding-top: 3px;\n\n  /* right-align the table */\n  margin-left: auto;\n  margin-right: 0px;\n\n  /* hack to counteract possible nasty CSS reset styles from parent divs */\n  border-collapse: separate;\n  border-spacing: 2px;\n}\n\ndiv.ExecutionVisualizer div#heap {\n  float: left;\n  padding-left: 30px;\n}\n\ndiv.ExecutionVisualizer td.toplevelHeapObject {\n  /* needed for d3 to do transitions */\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  /*\n  border: 2px dotted white;\n  border-color: white;\n  */\n}\n\ndiv.ExecutionVisualizer table.heapRow {\n  margin-bottom: 10px;\n}\n\ndiv.ExecutionVisualizer div.heapObject {\n  padding-left: 2px; /* leave a TINY amount of room for connector endpoints */\n}\n\ndiv.ExecutionVisualizer div.heapPrimitive {\n  padding-left: 4px; /* leave some more room for connector endpoints */\n}\n\ndiv.ExecutionVisualizer div#stackHeader {\n  margin-bottom: 15px;\n  text-align: right;\n}\n\ndiv.ExecutionVisualizer div#heapHeader {\n  /*margin-top: 2px;\n  margin-bottom: 13px;*/\n  margin-bottom: 15px;\n}\n\ndiv.ExecutionVisualizer div#langDisplayDiv {\n  text-align: center;\n  margin-top: 2pt;\n  margin-bottom: 3pt;\n}\n\ndiv.ExecutionVisualizer div#langDisplayDiv,\ndiv.ExecutionVisualizer div#stackHeader,\ndiv.ExecutionVisualizer div#heapHeader {\n  color: #333333;\n  font-size: 10pt;\n}\n\ndiv.ExecutionVisualizer #executionSlider {\n  /* if you set 'width', then it looks ugly when you dynamically resize */\n  margin-top: 15px;\n  margin-bottom: 5px;\n\n  /* DON'T center this, since we need breakpoints in executionSliderFooter to be well aligned */\n  width: 98%;\n}\n\ndiv.ExecutionVisualizer #executionSliderCaption {\n  font-size: 8pt;\n  color: #666666;\n  margin-top: 15px;\n}\n\ndiv.ExecutionVisualizer #executionSliderFooter {\n  margin-top: -7px; /* make it butt up against #executionSlider */\n}\n\ndiv.ExecutionVisualizer #codeFooterDocs,\ndiv.ExecutionVisualizer #printOutputDocs {\n  margin-bottom: 3px;\n  font-size: 8pt;\n  color: #666;\n}\n\ndiv.ExecutionVisualizer #codeFooterDocs {\n  margin-top: 5px;\n  margin-bottom: 12px;\n  width: 95%;\n}\n\n/* darken slider handle a bit */\ndiv.ExecutionVisualizer .ui-slider .ui-slider-handle {\n  border: 1px solid #999;\n}\n\n\n/* for annotation bubbles */\n\n/* For styling tricks, see: http://css-tricks.com/textarea-tricks/ */\ntextarea.bubbleInputText {\n  border: 1px solid #ccc;\n  outline: none;\n  overflow: auto; /* to look pretty on IE */\n\n  /* make sure textarea doesn't grow and stretch the enclosing bubble */\n  resize: none;\n  width: 225px;\n  max-width: 225px;\n  height: 35px;\n  max-height: 35px;\n}\n\ndiv.ExecutionVisualizer .annotationText,\ndiv.ExecutionVisualizer .vizDescriptionText {\n  font-family: verdana, arial, helvetica, sans-serif;\n  font-size: 11pt;\n  line-height: 1.5em;\n}\n\ndiv.ExecutionVisualizer .vizTitleText {\n  font-family: verdana, arial, helvetica, sans-serif;\n  font-size: 16pt;\n  margin-bottom: 12pt;\n}\n\ndiv.ExecutionVisualizer div#vizHeader {\n  margin-bottom: 10px;\n  width: 700px;\n  max-width: 700px;\n}\n\n/* prev then curr, so curr gets precedence when both apply */\ndiv.ExecutionVisualizer .highlight-prev {\n  background-color: #F0F0EA;\n}\n\ndiv.ExecutionVisualizer .highlight-cur {\n  background-color: #FFFF66;\n}\n\ndiv.ExecutionVisualizer .highlight-legend {\n  padding: 2px;\n}\n\n/* resizing sliders from David Pritchard */\n.ui-resizable-e {\n  background-color: #dddddd;\n  width: 1px;\n  border: 3px solid white;\n}\n\n.ui-resizable-e:hover {\n  border-color: #dddddd;\n}\n\ndiv.ExecutionVisualizer a,\ndiv.ExecutionVisualizer a:visited,\ndiv.ExecutionVisualizer a:hover {\n  color: #3D58A2;\n}\n\ndiv.ExecutionVisualizer div#rawUserInputDiv {\n  padding: 5px;\n  width: 95%;\n  margin: 5px auto;\n  text-align: center;\n  border: 1px #e93f34 solid;\n}\n\n/* for pyCrazyMode */\n\n/* prev then curr, so curr gets precedence when both apply */\ndiv.ExecutionVisualizer .pycrazy-highlight-prev {\n  background-color: #eeeeee; /*#F0F0EA;*/\n  /*\n  text-decoration: none;\n  border-bottom: 1px solid #dddddd;\n  */\n}\n\ndiv.ExecutionVisualizer .pycrazy-highlight-cur {\n  background-color: #FFFF66;\n  /* aligned slightly higher than border-bottom */\n  /*\n  text-decoration: none;\n  border-bottom: 1px solid #e93f34;\n  */\n}\n\ndiv.ExecutionVisualizer .pycrazy-highlight-prev-and-cur {\n  background-color: #FFFF66;\n\n  text-decoration: none;\n  border-bottom: 1px solid #999999;\n}\n\n\n#optTabularView thead.stepTableThead {\n  background-color: #bbb;\n}\n\n#optTabularView tbody.stepTableTbody {\n}\n\n#optTabularView td.stepTableTd {\n  padding: 3px 10px;\n}\n\n#uiControlsPane {\n  font-size: 8pt;\n}\n\n\n/* BEGIN Java frontend by David Pritchard and Will Gwozdz */\n\n/* stack and queue css by Will Gwozdz */\ndiv.ExecutionVisualizer table.queueTbl,\ndiv.ExecutionVisualizer table.stackTbl {\n  background-color: #ffffc6;\n}\n\ndiv.ExecutionVisualizer table.queueTbl,\ndiv.ExecutionVisualizer table.stackTbl {\n  border: 0px solid black;\n  border-spacing: 0px;\n}\n\ndiv.ExecutionVisualizer table.stackTbl td.stackElt,\ndiv.ExecutionVisualizer table.queueTbl td.queueElt {\n  padding-left: 8px;\n  padding-right: 8px;\n  padding-top: 2px;\n  padding-bottom: 3px;\n  border-top: 1px solid #555555;\n  border-bottom: 1px solid #555555;\n  border-left: 1px dashed #555555;\n}\n\ndiv.ExecutionVisualizer table.stackTbl td.stackFElt,\ndiv.ExecutionVisualizer table.queueTbl td.queueFElt {\n  background-color: white;\n  border-top: 1px solid #555555;\n  border-bottom: 1px solid #555555;\n}\n\ndiv.ExecutionVisualizer table.stackTbl td.stackLElt {\n  background-color: white;\n  border-left: 1px solid #555555;\n}\n\ndiv.ExecutionVisualizer table.queueTbl td.queueLElt {\n  background-color: white;\n  border-top: 1px solid#555555;\n  border-bottom: 1px solid #555555;\n  border-left: 1px dashed #555555;\n}\n\n/* This ensures a border is drawn around a dict\n   if its nested in another object. */\ndiv.ExecutionVisualizer td.stackElt table.dictTbl,\ndiv.ExecutionVisualizer td.stackLElt table.dictTbl,\ndiv.ExecutionVisualizer td.stackFElt table.dictTbl,\ndiv.ExecutionVisualizer td.queueElt table.dictTbl,\ndiv.ExecutionVisualizer td.queueLElt table.dictTbl,\ndiv.ExecutionVisualizer td.queueFElt table.dictTbl {\n  border: 1px #888 solid;\n}\n\n.symbolic {\n  font-size: 18pt;\n}\n\n/* END Java frontend by David Pritchard and Will Gwozdz */\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */,
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */,
/* 57 */,
/* 58 */,
/* 59 */,
/* 60 */,
/* 61 */,
/* 62 */,
/* 63 */,
/* 64 */,
/* 65 */,
/* 66 */,
/* 67 */,
/* 68 */,
/* 69 */,
/* 70 */,
/* 71 */,
/* 72 */,
/* 73 */,
/* 74 */,
/* 75 */,
/* 76 */,
/* 77 */,
/* 78 */,
/* 79 */,
/* 80 */,
/* 81 */,
/* 82 */,
/* 83 */,
/* 84 */,
/* 85 */,
/* 86 */,
/* 87 */
/***/ (function(module, exports, __nested_webpack_require_1182233__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {
// Python Tutor: https://github.com/pgbovine/OnlinePythonTutor/
// Copyright (C) Philip Guo (philip@pgbovine.net)
// LICENSE: https://github.com/pgbovine/OnlinePythonTutor/blob/master/LICENSE.txt
Object.defineProperty(exports, "__esModule", { value: true });
// see ../pytutor-embed-demo.html for how to use this file
var pytutor_1 = __nested_webpack_require_1182233__(4);
var allVisualizers = [];
function redrawAllVisualizerArrows() {
    $.each(allVisualizers, function (i, v) {
        //console.log("redrawConnectors:", v);
        v.redrawConnectors();
    });
    //console.log("DONE redrawAllVisualizerArrows");
}
// creates a ExecutionVisualizer representing trace and adds it to page at divId
// returns the newly-created ExecutionVisualizer object
function addVisualizerToPage(trace, divId, params) {
    if (!params) {
        params = {};
    }
    if (params.embeddedMode === undefined) {
        params.embeddedMode = true;
    }
    if (params.editCodeBaseURL === undefined) {
        params.editCodeBaseURL = 'http://pythontutor.com/visualize.html';
    }
    // When some div in your webpage (such as a visualizer div) expands in height,
    // it will "push down" all divs below it, but the SVG arrows rendered by
    // jsPlumb WILL NOT MOVE. Thus, they will be in the incorrect location unless
    // you call redrawAllConnectors().
    //
    // We use the "heightChangeCallback" optional parameter to force redraw
    // of all SVG arrows of ALL visualizers, whenever the height of one changes.
    //
    // Alternatively, here is one jQuery plugin that you can use to detect
    // div height changes: http://benalman.com/projects/jquery-resize-plugin/
    //
    // A related trick you can implement is to make a div never shrink in height
    // once it's grown; that way, you can avoid lots of jarring jumps and
    // (inefficient) redraws.
    params.heightChangeCallback = redrawAllVisualizerArrows;
    var ret = new pytutor_1.ExecutionVisualizer(divId, trace, params);
    allVisualizers.push(ret);
    redrawAllVisualizerArrows();
    // Call redrawConnectors() on all visualizers whenever the window is resized,
    // since HTML elements might have moved during a resize. The SVG arrows rendered
    // by jsPlumb don't automatically get re-drawn in their new positions unless
    // redrawConnectors() is called.
    //
    // detach the handler first so that we don't have redundant multiple handlers:
    $(window).off('resize').resize(redrawAllVisualizerArrows);
    return ret;
}
// loads trace from a JSON-formatted file and then adds it to the page in divId;
// returns the newly-created ExecutionVisualizer object
function createVisualizerFromJSON(jsonURL, divId, params) {
    if (params === void 0) { params = undefined; }
    $.get(jsonURL, {}, function (trace) {
        //console.log(trace);
        addVisualizerToPage(trace, divId, params);
    }, 'json');
}
// looks for all div.pytutorVisualizer on the current page, extracts
// data-tracefile and data-params attributes from each, and then populates
// each one using createVisualizerFromJSON()
function createAllVisualizersFromHtmlAttrs() {
    //console.log('createAllVisualizersFromHtmlAttrs');
    $('div.pytutorVisualizer').each(function (i, e) {
        var jsonURL = $(e).attr('data-tracefile');
        var divId = $(e).attr('id');
        var paramsText = $(e).attr('data-params');
        //console.log(jsonURL, divId, paramsText);
        try {
            var params = JSON.parse(paramsText);
            createVisualizerFromJSON(jsonURL, divId, params);
        }
        catch (err) {
            createVisualizerFromJSON(jsonURL, divId); // ignore params if we can't parse it
        }
    });
}
// export globally -- hacky!!!
window.addVisualizerToPage = addVisualizerToPage;
window.createVisualizerFromJSON = createVisualizerFromJSON;
window.createAllVisualizersFromHtmlAttrs = createAllVisualizersFromHtmlAttrs;

/* WEBPACK VAR INJECTION */}.call(exports, __nested_webpack_require_1182233__(0)))

/***/ })
/******/ ]);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVuZXN0b25lX2NvZGVsZW5zX2pzX3B5dHV0b3ItZW1iZWRfYnVuZGxlX2pzLjVhYjMzODQ1YTY5NDk1Y2UuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDhCQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSw4QkFBbUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDhCQUFtQjtBQUM3QjtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0I7QUFDQTtBQUNBLFVBQVUsOEJBQW1CO0FBQzdCLGVBQWUsOEJBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0I7QUFDQSxvQ0FBb0MsNEJBQTRCO0FBQ2hFLDBDQUEwQztBQUMxQyxXQUFXLDhCQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsOEJBQW1CLGtDQUFrQztBQUMvRDtBQUNBO0FBQ0EsVUFBVSw4QkFBbUI7QUFDN0I7QUFDQTtBQUNBLGlCQUFpQiw4QkFBbUIsQ0FBQyw4QkFBbUI7QUFDeEQsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrQkFBbUI7O0FBRXBELGdFQUFnRTtBQUNoRSxlQUFlLGFBQWEsdUdBQXVHLDJFQUEyRSxZQUFZLE1BQU0sc0RBQXNELGFBQWEsNEZBQTRGLG9FQUFvRSxnQkFBZ0IsT0FBTyxnQ0FBZ0MseURBQXlELDhCQUE4QiwwQkFBMEIsZ0ZBQWdGLHdCQUF3QixrQkFBa0IsbURBQW1ELG9CQUFvQixpQkFBaUIsNERBQTRELHVCQUF1QixvQ0FBb0MsMkJBQTJCLGtCQUFrQixzQkFBc0IsaUJBQWlCLCtDQUErQyxxQkFB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QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQywyQkFBMkI7QUFDM0IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyw0QkFBNEI7QUFDNUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtB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LG9DQUFvQywyREFBMkQ7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0QsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FB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LEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVUsaUNBQWlDO0FBQzNDO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0Esc0NBQXNDO0FBQ3RDLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckMsd0NBQXdDO0FBQ3hDLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsa0JBQWtCLFdBQVcsWUFBWSxnQkFBZ0IsMkJBQTJCLFdBQVc7QUFDdEk7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGlCQUFpQjtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsZUFBZTtBQUNwRCxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBDQUEwQyxtQkFBbUI7O0FBRTdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEI7QUFDN0Q7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxhQUFhO0FBQ2hELEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQ0FBa0Msb0JBQW9CO0FBQ3RELEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLHNEQUFzRDtBQUN0RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvREFBb0QsYUFBYTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUEscURBQXFELGFBQWE7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixhQUFhO0FBQzlCLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EscUNBQXFDLDBCQUEwQjtBQUMvRDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEMsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxpQkFBaUIsY0FBYyxxQkFBcUI7O0FBRXBEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2Qix5QkFBeUI7QUFDekIsNEJBQTRCO0FBQzVCLGtDQUFrQztBQUNsQyx5QkFBeUI7QUFDekIsd0NBQXdDO0FBQ3hDLDZDQUE2QztBQUM3Qyw2Q0FBNkM7QUFDN0MsK0NBQStDO0FBQy9DLDZDQUE2QztBQUM3QyxnREFBZ0Q7QUFDaEQseURBQXlEO0FBQ3pELG1EQUFtRDtBQUNuRCxzREFBc0Q7QUFDdEQscUJBQXFCO0FBQ3JCLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0Qyw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdCQUFnQjtBQUM3QztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakUsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHNEQUFzRDtBQUNsRTtBQUNBO0FBQ0EsT0FBTyxtREFBbUQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGFBQWEsV0FBVztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isd0JBQXdCO0FBQzlDLHVCQUF1QiwyQkFBMkI7QUFDbEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwyQ0FBMkMsR0FBRztBQUNuRSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0MsdUJBQXVCLGtDQUFrQztBQUN6RCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJDQUEyQyxHQUFHO0FBQ25FO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlDQUFpQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQSxvQkFBb0I7QUFDcEI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsSUFBSSxrREFBa0Q7QUFDdEQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBLHdGQUF3RjtBQUN4RjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLCtDQUErQztBQUMvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVEQUF1RDtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLG9EQUFvRDs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsZ0NBQWdDO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsZ0RBQWdEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRSxJQUFJO0FBQ0osaUNBQWlDO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1QkFBdUI7QUFDeEQ7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDZCQUE2QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQix5QkFBeUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvQkFBb0I7QUFDcEM7QUFDQTtBQUNBLGlCQUFpQixvQkFBb0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLGtFQUFrRTtBQUNsRSwyREFBMkQsa0JBQWtCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTLFNBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsMEZBQTBGO0FBQzFGO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCLFVBQVU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVMsU0FBUztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RztBQUM3RztBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJFQUEyRTtBQUMzRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0EsbUJBQW1CO0FBQ25CLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FB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QTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0I7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEI7QUFDNUIsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLHNCQUFzQjtBQUN6RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFVBQVUsK0NBQStDOztBQUV6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBOztBQUVBLCtEQUErRDs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0EsWUFBWTtBQUNaLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDRFQUE0RTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyx1QkFBdUIsSUFBSTtBQUM5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLHdDQUF3QztBQUM3RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDJCQUEyQjtBQUNqQztBQUNBO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxVQUFVLGlCQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGdDQUFnQztBQUNqRixPQUFPLDZCQUE2QjtBQUNwQyxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQixjQUFjOztBQUU3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixrRkFBa0Y7O0FBRTFHOztBQUVBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixJQUFJLFlBQVksSUFBSSxZQUFZLElBQUk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsNkJBQTZCOztBQUU3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsc0JBQXNCOztBQUVoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlO0FBQ2Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLFdBQVcsUUFBUTtBQUNqQztBQUNBOztBQUVBLGVBQWUsWUFBWSxRQUFRO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9COztBQUVwQjtBQUNBLGtEQUFrRDs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsVUFBVSxTQUFTO0FBQ3BDLGlCQUFpQixVQUFVLFNBQVM7QUFDcEMsb0JBQW9CLG9EQUFvRDs7QUFFeEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUMsYUFBYTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLHNDQUFzQyxpQkFBaUI7QUFDdkQsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osd0JBQXdCO0FBQ3hCO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxhQUFhOztBQUVqRDtBQUNBLHFDQUFxQyxhQUFhO0FBQ2xEOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsV0FBVztBQUNYLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLGlCQUFpQjtBQUNyRDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsa0JBQWtCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsbUJBQW1CLGdDQUFnQztBQUNuRDs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHdCQUF3QjtBQUN6RjtBQUNBO0FBQ0Esb0RBQW9ELDhDQUE4QyxJQUFJLG9DQUFvQztBQUMxSTtBQUNBLE9BQU87QUFDUDtBQUNBLGlFQUFpRSw4QkFBOEI7QUFDL0Y7QUFDQTtBQUNBLG9EQUFvRCwrQ0FBK0MsSUFBSSxvQ0FBb0M7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBOEQseUJBQXlCO0FBQ3ZGO0FBQ0E7QUFDQSxpREFBaUQsbUNBQW1DLElBQUksb0NBQW9DO0FBQzVIO0FBQ0E7QUFDQSw4REFBOEQsMEJBQTBCO0FBQ3hGO0FBQ0E7QUFDQSxpREFBaUQsb0NBQW9DLElBQUksb0NBQW9DO0FBQzdIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVCQUF1Qjs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQ0FBMEM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHlDQUF5QyxrQ0FBa0M7QUFDM0U7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLFFBQVE7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7O0FBRUEsbUJBQW1CLGNBQWM7O0FBRWpDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSwwQkFBMEIsOERBQThEO0FBQ3hGOztBQUVBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7O0FBRXBEO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxRQUFRO0FBQzVDO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUdBQWlHLCtDQUErQzs7QUFFaEo7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBOztBQUVBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9HQUFvRyx3QkFBd0I7QUFDNUg7O0FBRUEsa0NBQWtDO0FBQ2xDLG9DQUFvQyxRQUFRO0FBQzVDO0FBQ0EsNkJBQTZCLFFBQVE7QUFDckM7QUFDQTtBQUNBLHlHQUF5Ryx3QkFBd0I7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0IsUUFBUTtBQUN2QztBQUNBOztBQUVBLDhDQUE4QyxtQkFBbUI7QUFDakU7O0FBRUEsc0RBQXNEOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQ0FBa0MsUUFBUTtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUI7QUFDdkIsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDLFFBQVE7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osWUFBWTtBQUNaOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsa0VBQWtFO0FBQzVHO0FBQ0E7QUFDQSwwQ0FBMEMsaURBQWlELEdBQUc7QUFDOUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsaURBQWlEO0FBQzVGLHdDQUF3Qyx5QkFBeUIsdURBQXVEO0FBQ3hILHdDQUF3Qyx5QkFBeUIsc0RBQXNEO0FBQ3ZIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5REFBeUQsZUFBZTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsZ0RBQWdELGFBQWEsRUFBRTtBQUMvRCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseUJBQXlCLHlCQUF5QjtBQUNsRCwyQkFBMkIsMkJBQTJCOztBQUV0RDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQ0FBc0M7QUFDdkQ7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsZ0NBQWdDOztBQUVoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUEsa0NBQWtDLG1CQUFtQjtBQUNyRCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFF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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDLHdCQUF3Qiw0Q0FBNEM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQsdUJBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsbUJBQW1CO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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bmVzdG9uZS9jb2RlbGVucy9qcy9weXR1dG9yLWVtYmVkLmJ1bmRsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gODcpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohIGpRdWVyeSB2My4wLjAgfCAoYykgalF1ZXJ5IEZvdW5kYXRpb24gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbiFmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO1wib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1hLmRvY3VtZW50P2IoYSwhMCk6ZnVuY3Rpb24oYSl7aWYoIWEuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiKTtyZXR1cm4gYihhKX06YihhKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPU9iamVjdC5nZXRQcm90b3R5cGVPZixmPWMuc2xpY2UsZz1jLmNvbmNhdCxoPWMucHVzaCxpPWMuaW5kZXhPZixqPXt9LGs9ai50b1N0cmluZyxsPWouaGFzT3duUHJvcGVydHksbT1sLnRvU3RyaW5nLG49bS5jYWxsKE9iamVjdCksbz17fTtmdW5jdGlvbiBwKGEsYil7Yj1ifHxkO3ZhciBjPWIuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtjLnRleHQ9YSxiLmhlYWQuYXBwZW5kQ2hpbGQoYykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX12YXIgcT1cIjMuMC4wXCIscj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgci5mbi5pbml0KGEsYil9LHM9L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHQ9L14tbXMtLyx1PS8tKFthLXpdKS9nLHY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtyLmZuPXIucHJvdG90eXBlPXtqcXVlcnk6cSxjb25zdHJ1Y3RvcjpyLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpmLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1yLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYn0sZWFjaDpmdW5jdGlvbihhKXtyZXR1cm4gci5lYWNoKHRoaXMsYSl9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soci5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhmLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOmgsc29ydDpjLnNvcnQsc3BsaWNlOmMuc3BsaWNlfSxyLmV4dGVuZD1yLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnPWFyZ3VtZW50c1swXXx8e30saD0xLGk9YXJndW1lbnRzLmxlbmd0aCxqPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksXCJvYmplY3RcIj09dHlwZW9mIGd8fHIuaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oYT1hcmd1bWVudHNbaF0pKWZvcihiIGluIGEpYz1nW2JdLGQ9YVtiXSxnIT09ZCYmKGomJmQmJihyLmlzUGxhaW5PYmplY3QoZCl8fChlPXIuaXNBcnJheShkKSkpPyhlPyhlPSExLGY9YyYmci5pc0FycmF5KGMpP2M6W10pOmY9YyYmci5pc1BsYWluT2JqZWN0KGMpP2M6e30sZ1tiXT1yLmV4dGVuZChqLGYsZCkpOnZvaWQgMCE9PWQmJihnW2JdPWQpKTtyZXR1cm4gZ30sci5leHRlbmQoe2V4cGFuZG86XCJqUXVlcnlcIisocStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcihhKX0sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1yLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7dmFyIGI9ci50eXBlKGEpO3JldHVybihcIm51bWJlclwiPT09Ynx8XCJzdHJpbmdcIj09PWIpJiYhaXNOYU4oYS1wYXJzZUZsb2F0KGEpKX0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBhJiZcIltvYmplY3QgT2JqZWN0XVwiPT09ay5jYWxsKGEpPyhiPWUoYSkpPyhjPWwuY2FsbChiLFwiY29uc3RydWN0b3JcIikmJmIuY29uc3RydWN0b3IsXCJmdW5jdGlvblwiPT10eXBlb2YgYyYmbS5jYWxsKGMpPT09bik6ITA6ITF9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hK1wiXCI6XCJvYmplY3RcIj09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGE/altrLmNhbGwoYSldfHxcIm9iamVjdFwiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3AoYSl9LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHQsXCJtcy1cIikucmVwbGFjZSh1LHYpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYodyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOihhK1wiXCIpLnJlcGxhY2UocyxcIlwiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJih3KE9iamVjdChhKSk/ci5tZXJnZShjLFwic3RyaW5nXCI9PXR5cGVvZiBhP1thXTphKTpoLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aS5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj0wLGg9W107aWYodyhhKSlmb3IoZD1hLmxlbmd0aDtkPmY7ZisrKWU9YihhW2ZdLGYsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGYgaW4gYSllPWIoYVtmXSxmLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZy5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBiJiYoYz1hW2JdLGI9YSxhPWMpLHIuaXNGdW5jdGlvbihhKT8oZD1mLmNhbGwoYXJndW1lbnRzLDIpLGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShifHx0aGlzLGQuY29uY2F0KGYuY2FsbChhcmd1bWVudHMpKSl9LGUuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxyLmd1aWQrKyxlKTp2b2lkIDB9LG5vdzpEYXRlLm5vdyxzdXBwb3J0Om99KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihyLmZuW1N5bWJvbC5pdGVyYXRvcl09Y1tTeW1ib2wuaXRlcmF0b3JdKSxyLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe2pbXCJbb2JqZWN0IFwiK2IrXCJdXCJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHcoYSl7dmFyIGI9ISFhJiZcImxlbmd0aFwiaW4gYSYmYS5sZW5ndGgsYz1yLnR5cGUoYSk7cmV0dXJuXCJmdW5jdGlvblwiPT09Y3x8ci5pc1dpbmRvdyhhKT8hMTpcImFycmF5XCI9PT1jfHwwPT09Ynx8XCJudW1iZXJcIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHg9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT1cInNpenpsZVwiKzEqbmV3IERhdGUsdj1hLmRvY3VtZW50LHc9MCx4PTAseT1oYSgpLHo9aGEoKSxBPWhhKCksQj1mdW5jdGlvbihhLGIpe3JldHVybiBhPT09YiYmKGw9ITApLDB9LEM9e30uaGFzT3duUHJvcGVydHksRD1bXSxFPUQucG9wLEY9RC5wdXNoLEc9RC5wdXNoLEg9RC5zbGljZSxJPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxKPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixLPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixMPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFx4MDAtXFxcXHhhMF0pK1wiLE09XCJcXFxcW1wiK0srXCIqKFwiK0wrXCIpKD86XCIrSytcIiooWypeJHwhfl0/PSlcIitLK1wiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIrTCtcIikpfClcIitLK1wiKlxcXFxdXCIsTj1cIjooXCIrTCtcIikoPzpcXFxcKCgoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXwoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIrTStcIikqKXwuKilcXFxcKXwpXCIsTz1uZXcgUmVnRXhwKEsrXCIrXCIsXCJnXCIpLFA9bmV3IFJlZ0V4cChcIl5cIitLK1wiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIitLK1wiKyRcIixcImdcIiksUT1uZXcgUmVnRXhwKFwiXlwiK0srXCIqLFwiK0srXCIqXCIpLFI9bmV3IFJlZ0V4cChcIl5cIitLK1wiKihbPit+XXxcIitLK1wiKVwiK0srXCIqXCIpLFM9bmV3IFJlZ0V4cChcIj1cIitLK1wiKihbXlxcXFxdJ1xcXCJdKj8pXCIrSytcIipcXFxcXVwiLFwiZ1wiKSxUPW5ldyBSZWdFeHAoTiksVT1uZXcgUmVnRXhwKFwiXlwiK0wrXCIkXCIpLFY9e0lEOm5ldyBSZWdFeHAoXCJeIyhcIitMK1wiKVwiKSxDTEFTUzpuZXcgUmVnRXhwKFwiXlxcXFwuKFwiK0wrXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIitMK1wifFsqXSlcIiksQVRUUjpuZXcgUmVnRXhwKFwiXlwiK00pLFBTRVVETzpuZXcgUmVnRXhwKFwiXlwiK04pLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK0srXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIitLK1wiKig/OihbKy1dfClcIitLK1wiKihcXFxcZCspfCkpXCIrSytcIipcXFxcKXwpXCIsXCJpXCIpLGJvb2w6bmV3IFJlZ0V4cChcIl4oPzpcIitKK1wiKSRcIixcImlcIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoXCJeXCIrSytcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIrSytcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrSytcIipcXFxcKXwpKD89W14tXXwkKVwiLFwiaVwiKX0sVz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFg9L15oXFxkJC9pLFk9L15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxaPS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLCQ9L1srfl0vLF89bmV3IFJlZ0V4cChcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiK0srXCI/fChcIitLK1wiKXwuKVwiLFwiaWdcIiksYWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiMHhcIitiLTY1NTM2O3JldHVybiBkIT09ZHx8Yz9iOjA+ZD9TdHJpbmcuZnJvbUNoYXJDb2RlKGQrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoZD4+MTB8NTUyOTYsMTAyMyZkfDU2MzIwKX0sYmE9LyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csY2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIlxceDAwXCI9PT1hP1wiXFx1ZmZmZFwiOmEuc2xpY2UoMCwtMSkrXCJcXFxcXCIrYS5jaGFyQ29kZUF0KGEubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KStcIiBcIjpcIlxcXFxcIithfSxkYT1mdW5jdGlvbigpe20oKX0sZWE9dGEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0se2RpcjpcInBhcmVudE5vZGVcIixuZXh0OlwibGVnZW5kXCJ9KTt0cnl7Ry5hcHBseShEPUguY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRFt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChmYSl7Rz17YXBwbHk6RC5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtGLmFwcGx5KGEsSC5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZ2EoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscz1iJiZiLm93bmVyRG9jdW1lbnQsdz1iP2Iubm9kZVR5cGU6OTtpZihkPWR8fFtdLFwic3RyaW5nXCIhPXR5cGVvZiBhfHwhYXx8MSE9PXcmJjkhPT13JiYxMSE9PXcpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT13JiYobD1aLmV4ZWMoYSkpKWlmKGY9bFsxXSl7aWYoOT09PXcpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZihzJiYoaj1zLmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihsWzJdKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1sWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErXCIgXCJdJiYoIXF8fCFxLnRlc3QoYSkpKXtpZigxIT09dylzPWIscj1hO2Vsc2UgaWYoXCJvYmplY3RcIiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7KGs9Yi5nZXRBdHRyaWJ1dGUoXCJpZFwiKSk/az1rLnJlcGxhY2UoYmEsY2EpOmIuc2V0QXR0cmlidXRlKFwiaWRcIixrPXUpLG89ZyhhKSxoPW8ubGVuZ3RoO3doaWxlKGgtLSlvW2hdPVwiI1wiK2srXCIgXCIrc2Eob1toXSk7cj1vLmpvaW4oXCIsXCIpLHM9JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxifWlmKHIpdHJ5e3JldHVybiBHLmFwcGx5KGQscy5xdWVyeVNlbGVjdG9yQWxsKHIpKSxkfWNhdGNoKHgpe31maW5hbGx5e2s9PT11JiZiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFAsXCIkMVwiKSxiLGQsZSl9ZnVuY3Rpb24gaGEoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjK1wiIFwiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYytcIiBcIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBpYShhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGphKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO3RyeXtyZXR1cm4hIWEoYil9Y2F0Y2goYyl7cmV0dXJuITF9ZmluYWxseXtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPW51bGx9fWZ1bmN0aW9uIGthKGEsYil7dmFyIGM9YS5zcGxpdChcInxcIiksZT1jLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24gbGEoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiZhLnNvdXJjZUluZGV4LWIuc291cmNlSW5kZXg7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oXCJpbnB1dFwiPT09Y3x8XCJidXR0b25cIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuXCJsYWJlbFwiaW4gYiYmYi5kaXNhYmxlZD09PWF8fFwiZm9ybVwiaW4gYiYmYi5kaXNhYmxlZD09PWF8fFwiZm9ybVwiaW4gYiYmYi5kaXNhYmxlZD09PSExJiYoYi5pc0Rpc2FibGVkPT09YXx8Yi5pc0Rpc2FibGVkIT09IWEmJihcImxhYmVsXCJpbiBifHwhZWEoYikpIT09YSl9fWZ1bmN0aW9uIHBhKGEpe3JldHVybiBpYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixpYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWdhLnN1cHBvcnQ9e30sZj1nYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxtPWdhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLHYhPT1uJiYoZT1uLmRlZmF1bHRWaWV3KSYmZS50b3AhPT1lJiYoZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGRhLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixkYSkpLGMuYXR0cmlidXRlcz1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9XCJpXCIsIWEuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1qYShmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChuLmNyZWF0ZUNvbW1lbnQoXCJcIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGh9KSxjLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9WS50ZXN0KG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksYy5nZXRCeUlkPWphKGZ1bmN0aW9uKGEpe3JldHVybiBvLmFwcGVuZENoaWxkKGEpLmlkPXUsIW4uZ2V0RWxlbWVudHNCeU5hbWV8fCFuLmdldEVsZW1lbnRzQnlOYW1lKHUpLmxlbmd0aH0pLGMuZ2V0QnlJZD8oZC5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGM/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKF8sYWEpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKF8sYWEpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gYyYmYy52YWx1ZT09PWJ9fSksZC5maW5kLlRBRz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpjLnFzYT9iLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZihcIipcIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmcD9iLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYSk6dm9pZCAwfSxyPVtdLHE9W10sKGMucXNhPVkudGVzdChuLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGphKGZ1bmN0aW9uKGEpe28uYXBwZW5kQ2hpbGQoYSkuaW5uZXJIVE1MPVwiPGEgaWQ9J1wiK3UrXCInPjwvYT48c2VsZWN0IGlkPSdcIit1K1wiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCIsYS5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoJiZxLnB1c2goXCJbKl4kXT1cIitLK1wiKig/OicnfFxcXCJcXFwiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8cS5wdXNoKFwiXFxcXFtcIitLK1wiKig/OnZhbHVlfFwiK0orXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIltpZH49XCIrdStcIi1dXCIpLmxlbmd0aHx8cS5wdXNoKFwifj1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxxLnB1c2goXCI6Y2hlY2tlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhI1wiK3UrXCIrKlwiKS5sZW5ndGh8fHEucHVzaChcIi4jLitbK35dXCIpfSksamEoZnVuY3Rpb24oYSl7YS5pbm5lckhUTUw9XCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZxLnB1c2goXCJuYW1lXCIrSytcIipbKl4kfCF+XT89XCIpLDIhPT1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGgmJnEucHVzaChcIjplbmFibGVkXCIsXCI6ZGlzYWJsZWRcIiksby5hcHBlbmRDaGlsZChhKS5kaXNhYmxlZD0hMCwyIT09YS5xdWVyeVNlbGVjdG9yQWxsKFwiOmRpc2FibGVkXCIpLmxlbmd0aCYmcS5wdXNoKFwiOmVuYWJsZWRcIixcIjpkaXNhYmxlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpLHEucHVzaChcIiwuKjpcIil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVkudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmamEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSxcIipcIikscy5jYWxsKGEsXCJbcyE9JyddOnhcIiksci5wdXNoKFwiIT1cIixOKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKFwifFwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oXCJ8XCIpKSxiPVkudGVzdChvLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx0PWJ8fFkudGVzdChvLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LEI9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PW58fGEub3duZXJEb2N1bWVudD09PXYmJnQodixhKT8tMTpiPT09bnx8Yi5vd25lckRvY3VtZW50PT09diYmdCh2LGIpPzE6az9JKGssYSktSShrLGIpOjA6NCZkPy0xOjEpfTpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBsPSEwLDA7dmFyIGMsZD0wLGU9YS5wYXJlbnROb2RlLGY9Yi5wYXJlbnROb2RlLGc9W2FdLGg9W2JdO2lmKCFlfHwhZilyZXR1cm4gYT09PW4/LTE6Yj09PW4/MTplPy0xOmY/MTprP0koayxhKS1JKGssYik6MDtpZihlPT09ZilyZXR1cm4gbGEoYSxiKTtjPWE7d2hpbGUoYz1jLnBhcmVudE5vZGUpZy51bnNoaWZ0KGMpO2M9Yjt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7d2hpbGUoZ1tkXT09PWhbZF0pZCsrO3JldHVybiBkP2xhKGdbZF0saFtkXSk6Z1tkXT09PXY/LTE6aFtkXT09PXY/MTowfSxuKTpufSxnYS5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGdhKGEsbnVsbCxudWxsLGIpfSxnYS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtpZigoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSksYj1iLnJlcGxhY2UoUyxcIj0nJDEnXVwiKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYitcIiBcIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGdhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGdhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZ2EuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkMuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGdhLmVzY2FwZT1mdW5jdGlvbihhKXtyZXR1cm4oYStcIlwiKS5yZXBsYWNlKGJhLGNhKX0sZ2EuZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIrYSl9LGdhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1nYS5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9XCJcIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS50ZXh0Q29udGVudClyZXR1cm4gYS50ZXh0Q29udGVudDtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpYys9ZShhKX1lbHNlIGlmKDM9PT1mfHw0PT09ZilyZXR1cm4gYS5ub2RlVmFsdWV9ZWxzZSB3aGlsZShiPWFbZCsrXSljKz1lKGIpO3JldHVybiBjfSxkPWdhLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmlhLG1hdGNoOlYsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOntcIj5cIjp7ZGlyOlwicGFyZW50Tm9kZVwiLGZpcnN0OiEwfSxcIiBcIjp7ZGlyOlwicGFyZW50Tm9kZVwifSxcIitcIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCIsZmlyc3Q6ITB9LFwiflwiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoXyxhYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShfLGFhKSxcIn49XCI9PT1hWzJdJiYoYVszXT1cIiBcIithWzNdK1wiIFwiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSxcIm50aFwiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxnYS5lcnJvcihhWzBdKSxhWzRdPSsoYVs0XT9hWzVdKyhhWzZdfHwxKToyKihcImV2ZW5cIj09PWFbM118fFwib2RkXCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8XCJvZGRcIj09PWFbM10pKTphWzNdJiZnYS5lcnJvcihhWzBdKSxhfSxQU0VVRE86ZnVuY3Rpb24oYSl7dmFyIGIsYz0hYVs2XSYmYVsyXTtyZXR1cm4gVi5DSElMRC50ZXN0KGFbMF0pP251bGw6KGFbM10/YVsyXT1hWzRdfHxhWzVdfHxcIlwiOmMmJlQudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZihcIilcIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShfLGFhKS50b0xvd2VyQ2FzZSgpO3JldHVyblwiKlwiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYStcIiBcIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoXCIoXnxcIitLK1wiKVwiK2ErXCIoXCIrSytcInwkKVwiKSkmJnkoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWdhLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT9cIiE9XCI9PT1iOmI/KGUrPVwiXCIsXCI9XCI9PT1iP2U9PT1jOlwiIT1cIj09PWI/ZSE9PWM6XCJePVwiPT09Yj9jJiYwPT09ZS5pbmRleE9mKGMpOlwiKj1cIj09PWI/YyYmZS5pbmRleE9mKGMpPi0xOlwiJD1cIj09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09YzpcIn49XCI9PT1iPyhcIiBcIitlLnJlcGxhY2UoTyxcIiBcIikrXCIgXCIpLmluZGV4T2YoYyk+LTE6XCJ8PVwiPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YytcIi1cIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPVwibnRoXCIhPT1hLnNsaWNlKDAsMyksZz1cImxhc3RcIiE9PWEuc2xpY2UoLTQpLGg9XCJvZi10eXBlXCI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz9cIm5leHRTaWJsaW5nXCI6XCJwcmV2aW91c1NpYmxpbmdcIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaCx0PSExO2lmKHEpe2lmKGYpe3doaWxlKHApe209Yjt3aGlsZShtPW1bcF0paWYoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKXJldHVybiExO289cD1cIm9ubHlcIj09PWEmJiFvJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnMpe209cSxsPW1bdV18fChtW3VdPXt9KSxrPWxbbS51bmlxdWVJRF18fChsW20udW5pcXVlSURdPXt9KSxqPWtbYV18fFtdLG49alswXT09PXcmJmpbMV0sdD1uJiZqWzJdLG09biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKDE9PT1tLm5vZGVUeXBlJiYrK3QmJm09PT1iKXtrW2FdPVt3LG4sdF07YnJlYWt9fWVsc2UgaWYocyYmKG09YixsPW1bdV18fChtW3VdPXt9KSxrPWxbbS51bmlxdWVJRF18fChsW20udW5pcXVlSURdPXt9KSxqPWtbYV18fFtdLG49alswXT09PXcmJmpbMV0sdD1uKSx0PT09ITEpd2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoKGg/bS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09cjoxPT09bS5ub2RlVHlwZSkmJisrdCYmKHMmJihsPW1bdV18fChtW3VdPXt9KSxrPWxbbS51bmlxdWVJRF18fChsW20udW5pcXVlSURdPXt9KSxrW2FdPVt3LHRdKSxtPT09YikpYnJlYWs7cmV0dXJuIHQtPWUsdD09PWR8fHQlZD09PTAmJnQvZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGdhLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSxcIlwiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2lhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1JKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmlhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShQLFwiJDFcIikpO3JldHVybiBkW3VdP2lhKGZ1bmN0aW9uKGEsYixjLGUpe3ZhciBmLGc9ZChhLG51bGwsZSxbXSksaD1hLmxlbmd0aDt3aGlsZShoLS0pKGY9Z1toXSkmJihhW2hdPSEoYltoXT1mKSl9KTpmdW5jdGlvbihhLGUsZil7cmV0dXJuIGJbMF09YSxkKGIsbnVsbCxmLGMpLGJbMF09bnVsbCwhYy5wb3AoKX19KSxoYXM6aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBnYShhLGIpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShfLGFhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzppYShmdW5jdGlvbihhKXtyZXR1cm4gVS50ZXN0KGF8fFwiXCIpfHxnYS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKF8sYWEpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpfHxiLmdldEF0dHJpYnV0ZShcImxhbmdcIikpcmV0dXJuIGM9Yy50b0xvd2VyQ2FzZSgpLGM9PT1hfHwwPT09Yy5pbmRleE9mKGErXCItXCIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6b2EoITEpLGRpc2FibGVkOm9hKCEwKSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiYhIWEuY2hlY2tlZHx8XCJvcHRpb25cIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmXCJidXR0b25cIj09PWEudHlwZXx8XCJidXR0b25cIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuXCJpbnB1dFwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6cGEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OnBhKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpwYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOnBhKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6cGEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpwYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bWEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bmEoYik7ZnVuY3Rpb24gcmEoKXt9cmEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyByYSxnPWdhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErXCIgXCJdO2lmKGspcmV0dXJuIGI/MDprLnNsaWNlKDApO2g9YSxpPVtdLGo9ZC5wcmVGaWx0ZXI7d2hpbGUoaCl7YyYmIShlPVEuZXhlYyhoKSl8fChlJiYoaD1oLnNsaWNlKGVbMF0ubGVuZ3RoKXx8aCksaS5wdXNoKGY9W10pKSxjPSExLChlPVIuZXhlYyhoKSkmJihjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTplWzBdLnJlcGxhY2UoUCxcIiBcIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9VltnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2dhLmVycm9yKGEpOnooYSxpKS5zbGljZSgwKX07ZnVuY3Rpb24gc2EoYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aCxkPVwiXCI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHRhKGEsYixjKXt2YXIgZD1iLmRpcixlPWIubmV4dCxmPWV8fGQsZz1jJiZcInBhcmVudE5vZGVcIj09PWYsaD14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGUpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZylyZXR1cm4gYShiLGMsZSl9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbT1bdyxoXTtpZihpKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxnKSYmYShiLGMsaSkpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGcpaWYobD1iW3VdfHwoYlt1XT17fSksaz1sW2IudW5pcXVlSURdfHwobFtiLnVuaXF1ZUlEXT17fSksZSYmZT09PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSliPWJbZF18fGI7ZWxzZXtpZigoaj1rW2ZdKSYmalswXT09PXcmJmpbMV09PT1oKXJldHVybiBtWzJdPWpbMl07aWYoa1tmXT1tLG1bMl09YShiLGMsaSkpcmV0dXJuITB9fX1mdW5jdGlvbiB1YShhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWdhKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB3YShhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoYyYmIWMoZixkLGUpfHwoZy5wdXNoKGYpLGomJmIucHVzaChoKSkpO3JldHVybiBnfWZ1bmN0aW9uIHhhKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXhhKGQpKSxlJiYhZVt1XSYmKGU9eGEoZSxmKSksaWEoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dmEoYnx8XCIqXCIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp3YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9d2EocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0koZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXdhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpHLmFwcGx5KGcscil9KX1mdW5jdGlvbiB5YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlW1wiIFwiXSxpPWc/MTowLGs9dGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSxoLCEwKSxsPXRhKGZ1bmN0aW9uKGEpe3JldHVybiBJKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXt2YXIgZT0hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKTtyZXR1cm4gYj1udWxsLGV9XTtmPmk7aSsrKWlmKGM9ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3RhKHVhKG0pLGMpXTtlbHNle2lmKGM9ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJyZWFrO3JldHVybiB4YShpPjEmJnVhKG0pLGk+MSYmc2EoYS5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWFbaS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShQLFwiJDFcIiksYyxlPmkmJnlhKGEuc2xpY2UoaSxlKSksZj5lJiZ5YShhPWEuc2xpY2UoZSkpLGY+ZSYmc2EoYSkpfW0ucHVzaChjKX1yZXR1cm4gdWEobSl9ZnVuY3Rpb24gemEoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbyxxLHI9MCxzPVwiMFwiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKFwiKlwiLGspLHk9dys9bnVsbD09dj8xOk1hdGgucmFuZG9tKCl8fC4xLHo9eC5sZW5ndGg7Zm9yKGsmJihqPWc9PT1ufHxnfHxrKTtzIT09eiYmbnVsbCE9KGw9eFtzXSk7cysrKXtpZihlJiZsKXtvPTAsZ3x8bC5vd25lckRvY3VtZW50PT09bnx8KG0obCksaD0hcCk7d2hpbGUocT1hW28rK10paWYocShsLGd8fG4saCkpe2kucHVzaChsKTticmVha31rJiYodz15KX1jJiYoKGw9IXEmJmwpJiZyLS0sZiYmdC5wdXNoKGwpKX1pZihyKz1zLGMmJnMhPT1yKXtvPTA7d2hpbGUocT1iW28rK10pcSh0LHUsZyxoKTtpZihmKXtpZihyPjApd2hpbGUocy0tKXRbc118fHVbc118fCh1W3NdPUUuY2FsbChpKSk7dT13YSh1KX1HLmFwcGx5KGksdSksayYmIWYmJnUubGVuZ3RoPjAmJnIrYi5sZW5ndGg+MSYmZ2EudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9eSxqPXYpLHR9O3JldHVybiBjP2lhKGYpOmZ9cmV0dXJuIGg9Z2EuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPUFbYStcIiBcIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9eWEoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHphKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1nYS5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGksaixrLGwsbSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiZcIklEXCI9PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNbMF0ucmVwbGFjZShfLGFhKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9Vi5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoXyxhYSksJC50ZXN0KGpbMF0udHlwZSkmJnFhKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZzYShqKSwhYSlyZXR1cm4gRy5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8JC50ZXN0KGEpJiZxYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdChcIlwiKS5zb3J0KEIpLmpvaW4oXCJcIik9PT11LGMuZGV0ZWN0RHVwbGljYXRlcz0hIWwsbSgpLGMuc29ydERldGFjaGVkPWphKGZ1bmN0aW9uKGEpe3JldHVybiAxJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obi5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIikpfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGEgaHJlZj0nIyc+PC9hPlwiLFwiI1wiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIil9KXx8a2EoXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphLmdldEF0dHJpYnV0ZShiLFwidHlwZVwiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmphKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxrYShcInZhbHVlXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHxcImlucHV0XCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksamEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8a2EoSixmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOmFbYl09PT0hMD9iLnRvTG93ZXJDYXNlKCk6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZC5zcGVjaWZpZWQ/ZC52YWx1ZTpudWxsfSksZ2F9KGEpO3IuZmluZD14LHIuZXhwcj14LnNlbGVjdG9ycyxyLmV4cHJbXCI6XCJdPXIuZXhwci5wc2V1ZG9zLHIudW5pcXVlU29ydD1yLnVuaXF1ZT14LnVuaXF1ZVNvcnQsci50ZXh0PXguZ2V0VGV4dCxyLmlzWE1MRG9jPXguaXNYTUwsci5jb250YWlucz14LmNvbnRhaW5zLHIuZXNjYXBlU2VsZWN0b3I9eC5lc2NhcGU7dmFyIHk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJnIoYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSx6PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfSxBPXIuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsQj0vXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSxDPS9eLlteOiNcXFtcXC4sXSokLztmdW5jdGlvbiBEKGEsYixjKXtpZihyLmlzRnVuY3Rpb24oYikpcmV0dXJuIHIuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuISFiLmNhbGwoYSxkLGEpIT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIHIuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBhPT09YiE9PWN9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7aWYoQy50ZXN0KGIpKXJldHVybiByLmZpbHRlcihiLGEsYyk7Yj1yLmZpbHRlcihiLGEpfXJldHVybiByLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gaS5jYWxsKGIsYSk+LTEhPT1jJiYxPT09YS5ub2RlVHlwZX0pfXIuZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT1cIjpub3QoXCIrYStcIilcIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9yLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOnIuZmluZC5tYXRjaGVzKGEsci5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxyLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5sZW5ndGgsZT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhyKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihyLmNvbnRhaW5zKGVbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGM9dGhpcy5wdXNoU3RhY2soW10pLGI9MDtkPmI7YisrKXIuZmluZChhLGVbYl0sYyk7cmV0dXJuIGQ+MT9yLnVuaXF1ZVNvcnQoYyk6Y30sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhEKHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhEKHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISFEKHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGEmJkEudGVzdChhKT9yKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIEUsRj0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxHPXIuZm4uaW5pdD1mdW5jdGlvbihhLGIsYyl7dmFyIGUsZjtpZighYSlyZXR1cm4gdGhpcztpZihjPWN8fEUsXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGU9XCI8XCI9PT1hWzBdJiZcIj5cIj09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Ri5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIHI/YlswXTpiLHIubWVyZ2UodGhpcyxyLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSxCLnRlc3QoZVsxXSkmJnIuaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKXIuaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfXJldHVybiBmPWQuZ2V0RWxlbWVudEJ5SWQoZVsyXSksZiYmKHRoaXNbMF09Zix0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpyLmlzRnVuY3Rpb24oYSk/dm9pZCAwIT09Yy5yZWFkeT9jLnJlYWR5KGEpOmEocik6ci5tYWtlQXJyYXkoYSx0aGlzKX07Ry5wcm90b3R5cGU9ci5mbixFPXIoZCk7dmFyIEg9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sST17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtyLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPXIoYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYoci5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9XCJzdHJpbmdcIiE9dHlwZW9mIGEmJnIoYSk7aWYoIUEudGVzdChhKSlmb3IoO2U+ZDtkKyspZm9yKGM9dGhpc1tkXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZihjLm5vZGVUeXBlPDExJiYoZz9nLmluZGV4KGMpPi0xOjE9PT1jLm5vZGVUeXBlJiZyLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXtmLnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubGVuZ3RoPjE/ci51bmlxdWVTb3J0KGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT10eXBlb2YgYT9pLmNhbGwocihhKSx0aGlzWzBdKTppLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHIudW5pcXVlU29ydChyLm1lcmdlKHRoaXMuZ2V0KCkscihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBKKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1yLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHkoYSxcInBhcmVudE5vZGVcIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gSihhLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEooYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4geShhLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4geShhLFwibmV4dFNpYmxpbmdcIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4geShhLFwicHJldmlvdXNTaWJsaW5nXCIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiB6KChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4geihhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fHIubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPXIubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPXIuZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihJW2FdfHxyLnVuaXF1ZVNvcnQoZSksSC50ZXN0KGEpJiZlLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIEs9L1xcUysvZztmdW5jdGlvbiBMKGEpe3ZhciBiPXt9O3JldHVybiByLmVhY2goYS5tYXRjaChLKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1yLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0woYSk6ci5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZj1bXSxnPVtdLGg9LTEsaT1mdW5jdGlvbigpe2ZvcihlPWEub25jZSxkPWI9ITA7Zy5sZW5ndGg7aD0tMSl7Yz1nLnNoaWZ0KCk7d2hpbGUoKytoPGYubGVuZ3RoKWZbaF0uYXBwbHkoY1swXSxjWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlJiYoaD1mLmxlbmd0aCxjPSExKX1hLm1lbW9yeXx8KGM9ITEpLGI9ITEsZSYmKGY9Yz9bXTpcIlwiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7ci5lYWNoKGIsZnVuY3Rpb24oYixjKXtyLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJlwic3RyaW5nXCIhPT1yLnR5cGUoYykmJmQoYyl9KX0oYXJndW1lbnRzKSxjJiYhYiYmaSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gci5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPXIuaW5BcnJheShiLGYsYykpPi0xKWYuc3BsaWNlKGMsMSksaD49YyYmaC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP3IuaW5BcnJheShhLGYpPi0xOmYubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihmPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxmPWM9XCJcIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFmfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxjfHxifHwoZj1jPVwiXCIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhZX0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gZXx8KGM9Y3x8W10sYz1bYSxjLnNsaWNlP2Muc2xpY2UoKTpjXSxnLnB1c2goYyksYnx8aSgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGouZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFkfX07cmV0dXJuIGp9O2Z1bmN0aW9uIE0oYSl7cmV0dXJuIGF9ZnVuY3Rpb24gTihhKXt0aHJvdyBhfWZ1bmN0aW9uIE8oYSxiLGMpe3ZhciBkO3RyeXthJiZyLmlzRnVuY3Rpb24oZD1hLnByb21pc2UpP2QuY2FsbChhKS5kb25lKGIpLmZhaWwoYyk6YSYmci5pc0Z1bmN0aW9uKGQ9YS50aGVuKT9kLmNhbGwoYSxiLGMpOmIuY2FsbCh2b2lkIDAsYSl9Y2F0Y2goYSl7Yy5jYWxsKHZvaWQgMCxhKX19ci5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGIpe3ZhciBjPVtbXCJub3RpZnlcIixcInByb2dyZXNzXCIsci5DYWxsYmFja3MoXCJtZW1vcnlcIiksci5DYWxsYmFja3MoXCJtZW1vcnlcIiksMl0sW1wicmVzb2x2ZVwiLFwiZG9uZVwiLHIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksci5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSwwLFwicmVzb2x2ZWRcIl0sW1wicmVqZWN0XCIsXCJmYWlsXCIsci5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxyLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLDEsXCJyZWplY3RlZFwiXV0sZD1cInBlbmRpbmdcIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBkfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZi5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LFwiY2F0Y2hcIjpmdW5jdGlvbihhKXtyZXR1cm4gZS50aGVuKG51bGwsYSl9LHBpcGU6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIHIuRGVmZXJyZWQoZnVuY3Rpb24oYil7ci5lYWNoKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1yLmlzRnVuY3Rpb24oYVtkWzRdXSkmJmFbZFs0XV07ZltkWzFdXShmdW5jdGlvbigpe3ZhciBhPWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJnIuaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLnByb2dyZXNzKGIubm90aWZ5KS5kb25lKGIucmVzb2x2ZSkuZmFpbChiLnJlamVjdCk6YltkWzBdK1wiV2l0aFwiXSh0aGlzLGU/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0sdGhlbjpmdW5jdGlvbihiLGQsZSl7dmFyIGY9MDtmdW5jdGlvbiBnKGIsYyxkLGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBoPXRoaXMsaT1hcmd1bWVudHMsaj1mdW5jdGlvbigpe3ZhciBhLGo7aWYoIShmPmIpKXtpZihhPWQuYXBwbHkoaCxpKSxhPT09Yy5wcm9taXNlKCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiKTtqPWEmJihcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYSkmJmEudGhlbixyLmlzRnVuY3Rpb24oaik/ZT9qLmNhbGwoYSxnKGYsYyxNLGUpLGcoZixjLE4sZSkpOihmKyssai5jYWxsKGEsZyhmLGMsTSxlKSxnKGYsYyxOLGUpLGcoZixjLE0sYy5ub3RpZnlXaXRoKSkpOihkIT09TSYmKGg9dm9pZCAwLGk9W2FdKSwoZXx8Yy5yZXNvbHZlV2l0aCkoaCxpKSl9fSxrPWU/ajpmdW5jdGlvbigpe3RyeXtqKCl9Y2F0Y2goYSl7ci5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZyLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soYSxrLnN0YWNrVHJhY2UpLGIrMT49ZiYmKGQhPT1OJiYoaD12b2lkIDAsaT1bYV0pLGMucmVqZWN0V2l0aChoLGkpKX19O2I/aygpOihyLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKGsuc3RhY2tUcmFjZT1yLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxhLnNldFRpbWVvdXQoaykpfX1yZXR1cm4gci5EZWZlcnJlZChmdW5jdGlvbihhKXtjWzBdWzNdLmFkZChnKDAsYSxyLmlzRnVuY3Rpb24oZSk/ZTpNLGEubm90aWZ5V2l0aCkpLGNbMV1bM10uYWRkKGcoMCxhLHIuaXNGdW5jdGlvbihiKT9iOk0pKSxjWzJdWzNdLmFkZChnKDAsYSxyLmlzRnVuY3Rpb24oZCk/ZDpOKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/ci5leHRlbmQoYSxlKTplfX0sZj17fTtyZXR1cm4gci5lYWNoKGMsZnVuY3Rpb24oYSxiKXt2YXIgZz1iWzJdLGg9Yls1XTtlW2JbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7ZD1ofSxjWzMtYV1bMl0uZGlzYWJsZSxjWzBdWzJdLmxvY2spLGcuYWRkKGJbM10uZmlyZSksZltiWzBdXT1mdW5jdGlvbigpe3JldHVybiBmW2JbMF0rXCJXaXRoXCJdKHRoaXM9PT1mP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZltiWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZS5wcm9taXNlKGYpLGImJmIuY2FsbChmLGYpLGZ9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9YXJndW1lbnRzLmxlbmd0aCxjPWIsZD1BcnJheShjKSxlPWYuY2FsbChhcmd1bWVudHMpLGc9ci5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2RbYV09dGhpcyxlW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9mLmNhbGwoYXJndW1lbnRzKTpjLC0tYnx8Zy5yZXNvbHZlV2l0aChkLGUpfX07aWYoMT49YiYmKE8oYSxnLmRvbmUoaChjKSkucmVzb2x2ZSxnLnJlamVjdCksXCJwZW5kaW5nXCI9PT1nLnN0YXRlKCl8fHIuaXNGdW5jdGlvbihlW2NdJiZlW2NdLnRoZW4pKSlyZXR1cm4gZy50aGVuKCk7d2hpbGUoYy0tKU8oZVtjXSxoKGMpLGcucmVqZWN0KTtyZXR1cm4gZy5wcm9taXNlKCl9fSk7dmFyIFA9L14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87ci5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWZ1bmN0aW9uKGIsYyl7YS5jb25zb2xlJiZhLmNvbnNvbGUud2FybiYmYiYmUC50ZXN0KGIubmFtZSkmJmEuY29uc29sZS53YXJuKFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIrYi5tZXNzYWdlLGIuc3RhY2ssYyl9O3ZhciBRPXIuRGVmZXJyZWQoKTtyLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBRLnRoZW4oYSksdGhpc30sci5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/ci5yZWFkeVdhaXQrKzpyLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLXIucmVhZHlXYWl0OnIuaXNSZWFkeSl8fChyLmlzUmVhZHk9ITAsYSE9PSEwJiYtLXIucmVhZHlXYWl0PjB8fFEucmVzb2x2ZVdpdGgoZCxbcl0pKX19KSxyLnJlYWR5LnRoZW49US50aGVuO2Z1bmN0aW9uIFIoKXtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsUiksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLFIpLHIucmVhZHkoKX1cImNvbXBsZXRlXCI9PT1kLnJlYWR5U3RhdGV8fFwibG9hZGluZ1wiIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/YS5zZXRUaW1lb3V0KHIucmVhZHkpOihkLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsUiksYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLFIpKTt2YXIgUz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKFwib2JqZWN0XCI9PT1yLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylTKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLHIuaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7XG5yZXR1cm4gai5jYWxsKHIoYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sVD1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIFUoKXt0aGlzLmV4cGFuZG89ci5leHBhbmRvK1UudWlkKyt9VS51aWQ9MSxVLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiBifHwoYj17fSxUKGEpJiYoYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YjpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSkpKSxifSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5jYWNoZShhKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYillW3IuY2FtZWxDYXNlKGIpXT1jO2Vsc2UgZm9yKGQgaW4gYillW3IuY2FtZWxDYXNlKGQpXT1iW2RdO3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwPT09Yj90aGlzLmNhY2hlKGEpOmFbdGhpcy5leHBhbmRvXSYmYVt0aGlzLmV4cGFuZG9dW3IuY2FtZWxDYXNlKGIpXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmXCJzdHJpbmdcIj09dHlwZW9mIGImJnZvaWQgMD09PWM/dGhpcy5nZXQoYSxiKToodGhpcy5zZXQoYSxiLGMpLHZvaWQgMCE9PWM/YzpiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09ZCl7aWYodm9pZCAwIT09Yil7ci5pc0FycmF5KGIpP2I9Yi5tYXAoci5jYW1lbENhc2UpOihiPXIuY2FtZWxDYXNlKGIpLGI9YiBpbiBkP1tiXTpiLm1hdGNoKEspfHxbXSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGRbYltjXV19KHZvaWQgMD09PWJ8fHIuaXNFbXB0eU9iamVjdChkKSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGFbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWFbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09YiYmIXIuaXNFbXB0eU9iamVjdChiKX19O3ZhciBWPW5ldyBVLFc9bmV3IFUsWD0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sWT0vW0EtWl0vZztmdW5jdGlvbiBaKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPVwiZGF0YS1cIitiLnJlcGxhY2UoWSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksXCJzdHJpbmdcIj09dHlwZW9mIGMpe3RyeXtjPVwidHJ1ZVwiPT09Yz8hMDpcImZhbHNlXCI9PT1jPyExOlwibnVsbFwiPT09Yz9udWxsOitjK1wiXCI9PT1jPytjOlgudGVzdChjKT9KU09OLnBhcnNlKGMpOmN9Y2F0Y2goZSl7fVcuc2V0KGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfXIuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBXLmhhc0RhdGEoYSl8fFYuaGFzRGF0YShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFcuYWNjZXNzKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe1cucmVtb3ZlKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gVi5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe1YucmVtb3ZlKGEsYil9fSksci5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1XLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIVYuZ2V0KGYsXCJoYXNEYXRhQXR0cnNcIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZihcImRhdGEtXCIpJiYoZD1yLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxaKGYsZCxlW2RdKSkpO1Yuc2V0KGYsXCJoYXNEYXRhQXR0cnNcIiwhMCl9cmV0dXJuIGV9cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Vy5zZXQodGhpcyxhKX0pOlModGhpcyxmdW5jdGlvbihiKXt2YXIgYztpZihmJiZ2b2lkIDA9PT1iKXtpZihjPVcuZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVooZixhKSx2b2lkIDAhPT1jKXJldHVybiBjfWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Vy5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1cucmVtb3ZlKHRoaXMsYSl9KX19KSxyLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPVYuZ2V0KGEsYiksYyYmKCFkfHxyLmlzQXJyYXkoYyk/ZD1WLmFjY2VzcyhhLGIsci5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPXIucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9ci5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtyLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBWLmdldChhLGMpfHxWLmFjY2VzcyhhLGMse2VtcHR5OnIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7Vi5yZW1vdmUoYSxbYitcInF1ZXVlXCIsY10pfSl9KX19KSxyLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP3IucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9ci5xdWV1ZSh0aGlzLGEsYik7ci5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmci5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ci5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9ci5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9Vi5nZXQoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgJD0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsXz1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIiskK1wiKShbYS16JV0qKSRcIixcImlcIiksYWE9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLGJhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSxcIm5vbmVcIj09PWEuc3R5bGUuZGlzcGxheXx8XCJcIj09PWEuc3R5bGUuZGlzcGxheSYmci5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSkmJlwibm9uZVwiPT09ci5jc3MoYSxcImRpc3BsYXlcIil9LGNhPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTtmdW5jdGlvbiBkYShhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gci5jc3MoYSxiLFwiXCIpfSxpPWgoKSxqPWMmJmNbM118fChyLmNzc051bWJlcltiXT9cIlwiOlwicHhcIiksaz0oci5jc3NOdW1iZXJbYl18fFwicHhcIiE9PWomJitpKSYmXy5leGVjKHIuY3NzKGEsYikpO2lmKGsmJmtbM10hPT1qKXtqPWp8fGtbM10sYz1jfHxbXSxrPStpfHwxO2RvIGY9Znx8XCIuNVwiLGsvPWYsci5zdHlsZShhLGIsaytqKTt3aGlsZShmIT09KGY9aCgpL2kpJiYxIT09ZiYmLS1nKX1yZXR1cm4gYyYmKGs9K2t8fCtpfHwwLGU9Y1sxXT9rKyhjWzFdKzEpKmNbMl06K2NbMl0sZCYmKGQudW5pdD1qLGQuc3RhcnQ9ayxkLmVuZD1lKSksZX12YXIgZWE9e307ZnVuY3Rpb24gZmEoYSl7dmFyIGIsYz1hLm93bmVyRG9jdW1lbnQsZD1hLm5vZGVOYW1lLGU9ZWFbZF07cmV0dXJuIGU/ZTooYj1jLmJvZHkuYXBwZW5kQ2hpbGQoYy5jcmVhdGVFbGVtZW50KGQpKSxlPXIuY3NzKGIsXCJkaXNwbGF5XCIpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxcIm5vbmVcIj09PWUmJihlPVwiYmxvY2tcIiksZWFbZF09ZSxlKX1mdW5jdGlvbiBnYShhLGIpe2Zvcih2YXIgYyxkLGU9W10sZj0wLGc9YS5sZW5ndGg7Zz5mO2YrKylkPWFbZl0sZC5zdHlsZSYmKGM9ZC5zdHlsZS5kaXNwbGF5LGI/KFwibm9uZVwiPT09YyYmKGVbZl09Vi5nZXQoZCxcImRpc3BsYXlcIil8fG51bGwsZVtmXXx8KGQuc3R5bGUuZGlzcGxheT1cIlwiKSksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmYmEoZCkmJihlW2ZdPWZhKGQpKSk6XCJub25lXCIhPT1jJiYoZVtmXT1cIm5vbmVcIixWLnNldChkLFwiZGlzcGxheVwiLGMpKSk7Zm9yKGY9MDtnPmY7ZisrKW51bGwhPWVbZl0mJihhW2ZdLnN0eWxlLmRpc3BsYXk9ZVtmXSk7cmV0dXJuIGF9ci5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gZ2EodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2EodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtiYSh0aGlzKT9yKHRoaXMpLnNob3coKTpyKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBoYT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxpYT0vPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSspL2ksamE9L14kfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxrYT17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2thLm9wdGdyb3VwPWthLm9wdGlvbixrYS50Ym9keT1rYS50Zm9vdD1rYS5jb2xncm91cD1rYS5jYXB0aW9uPWthLnRoZWFkLGthLnRoPWthLnRkO2Z1bmN0aW9uIGxhKGEsYil7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHxcIipcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8XCIqXCIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZyLm5vZGVOYW1lKGEsYik/ci5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBtYShhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylWLnNldChhW2NdLFwiZ2xvYmFsRXZhbFwiLCFifHxWLmdldChiW2NdLFwiZ2xvYmFsRXZhbFwiKSl9dmFyIG5hPS88fCYjP1xcdys7LztmdW5jdGlvbiBvYShhLGIsYyxkLGUpe2Zvcih2YXIgZixnLGgsaSxqLGssbD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPVtdLG49MCxvPWEubGVuZ3RoO28+bjtuKyspaWYoZj1hW25dLGZ8fDA9PT1mKWlmKFwib2JqZWN0XCI9PT1yLnR5cGUoZikpci5tZXJnZShtLGYubm9kZVR5cGU/W2ZdOmYpO2Vsc2UgaWYobmEudGVzdChmKSl7Zz1nfHxsLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudChcImRpdlwiKSksaD0oaWEuZXhlYyhmKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCksaT1rYVtoXXx8a2EuX2RlZmF1bHQsZy5pbm5lckhUTUw9aVsxXStyLmh0bWxQcmVmaWx0ZXIoZikraVsyXSxrPWlbMF07d2hpbGUoay0tKWc9Zy5sYXN0Q2hpbGQ7ci5tZXJnZShtLGcuY2hpbGROb2RlcyksZz1sLmZpcnN0Q2hpbGQsZy50ZXh0Q29udGVudD1cIlwifWVsc2UgbS5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZikpO2wudGV4dENvbnRlbnQ9XCJcIixuPTA7d2hpbGUoZj1tW24rK10paWYoZCYmci5pbkFycmF5KGYsZCk+LTEpZSYmZS5wdXNoKGYpO2Vsc2UgaWYoaj1yLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxnPWxhKGwuYXBwZW5kQ2hpbGQoZiksXCJzY3JpcHRcIiksaiYmbWEoZyksYyl7az0wO3doaWxlKGY9Z1trKytdKWphLnRlc3QoZi50eXBlfHxcIlwiKSYmYy5wdXNoKGYpfXJldHVybiBsfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9YS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGM9ZC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxjLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksYy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLGIuYXBwZW5kQ2hpbGQoYyksby5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLG8ubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgcGE9ZC5kb2N1bWVudEVsZW1lbnQscWE9L15rZXkvLHJhPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxzYT0vXihbXi5dKikoPzpcXC4oLispfCkvO2Z1bmN0aW9uIHRhKCl7cmV0dXJuITB9ZnVuY3Rpb24gdWEoKXtyZXR1cm4hMX1mdW5jdGlvbiB2YSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gd2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoXCJvYmplY3RcIj09dHlwZW9mIGIpe1wic3RyaW5nXCIhPXR5cGVvZiBjJiYoZD1kfHxjLGM9dm9pZCAwKTtmb3IoaCBpbiBiKXdhKGEsaCxjLGQsYltoXSxmKTtyZXR1cm4gYX1pZihudWxsPT1kJiZudWxsPT1lPyhlPWMsZD1jPXZvaWQgMCk6bnVsbD09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9dWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gcigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1yLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe3IuZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1yLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG8scCxxPVYuZ2V0KGEpO2lmKHEpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGUmJnIuZmluZC5tYXRjaGVzU2VsZWN0b3IocGEsZSksYy5ndWlkfHwoYy5ndWlkPXIuZ3VpZCsrKSwoaT1xLmV2ZW50cyl8fChpPXEuZXZlbnRzPXt9KSwoZz1xLmhhbmRsZSl8fChnPXEuaGFuZGxlPWZ1bmN0aW9uKGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiByJiZyLmV2ZW50LnRyaWdnZXJlZCE9PWIudHlwZT9yLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9KSxiPShifHxcIlwiKS5tYXRjaChLKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9c2EuZXhlYyhiW2pdKXx8W10sbj1wPWhbMV0sbz0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxuJiYobD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LG49KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG4sbD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LGs9ci5leHRlbmQoe3R5cGU6bixvcmlnVHlwZTpwLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmci5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpvLmpvaW4oXCIuXCIpfSxmKSwobT1pW25dKXx8KG09aVtuXT1bXSxtLmRlbGVnYXRlQ291bnQ9MCxsLnNldHVwJiZsLnNldHVwLmNhbGwoYSxkLG8sZykhPT0hMXx8YS5hZGRFdmVudExpc3RlbmVyJiZhLmFkZEV2ZW50TGlzdGVuZXIobixnKSksbC5hZGQmJihsLmFkZC5jYWxsKGEsayksay5oYW5kbGVyLmd1aWR8fChrLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsayk6bS5wdXNoKGspLHIuZXZlbnQuZ2xvYmFsW25dPSEwKX19LHJlbW92ZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvLHAscT1WLmhhc0RhdGEoYSkmJlYuZ2V0KGEpO2lmKHEmJihpPXEuZXZlbnRzKSl7Yj0oYnx8XCJcIikubWF0Y2goSyl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPXNhLmV4ZWMoYltqXSl8fFtdLG49cD1oWzFdLG89KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbil7bD1yLmV2ZW50LnNwZWNpYWxbbl18fHt9LG49KGQ/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG4sbT1pW25dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitvLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcCE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoXCIqKlwiIT09ZHx8IWsuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxrLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGspKTtnJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxvLHEuaGFuZGxlKSE9PSExfHxyLnJlbW92ZUV2ZW50KGEsbixxLmhhbmRsZSksZGVsZXRlIGlbbl0pfWVsc2UgZm9yKG4gaW4gaSlyLmV2ZW50LnJlbW92ZShhLG4rYltqXSxjLGQsITApO3IuaXNFbXB0eU9iamVjdChpKSYmVi5yZW1vdmUoYSxcImhhbmRsZSBldmVudHNcIil9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXt2YXIgYj1yLmV2ZW50LmZpeChhKSxjLGQsZSxmLGcsaCxpPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxqPShWLmdldCh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXXx8W10saz1yLmV2ZW50LnNwZWNpYWxbYi50eXBlXXx8e307Zm9yKGlbMF09YixjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylpW2NdPWFyZ3VtZW50c1tjXTtpZihiLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGIpIT09ITEpe2g9ci5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYixqKSxjPTA7d2hpbGUoKGY9aFtjKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7Yi5jdXJyZW50VGFyZ2V0PWYuZWxlbSxkPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tkKytdKSYmIWIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSliLnJuYW1lc3BhY2UmJiFiLnJuYW1lc3BhY2UudGVzdChnLm5hbWVzcGFjZSl8fChiLmhhbmRsZU9iaj1nLGIuZGF0YT1nLmRhdGEsZT0oKHIuZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZSYmKGIucmVzdWx0PWUpPT09ITEmJihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGIpLGIucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKFwiY2xpY2tcIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPT10aGlzO2k9aS5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1pLm5vZGVUeXBlJiYoaS5kaXNhYmxlZCE9PSEwfHxcImNsaWNrXCIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yK1wiIFwiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P3IoZSx0aGlzKS5pbmRleChpKT4tMTpyLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30sYWRkUHJvcDpmdW5jdGlvbihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLkV2ZW50LnByb3RvdHlwZSxhLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ci5pc0Z1bmN0aW9uKGIpP2Z1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudD9iKHRoaXMub3JpZ2luYWxFdmVudCk6dm9pZCAwfTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQ/dGhpcy5vcmlnaW5hbEV2ZW50W2FdOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGEse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KX19KX0sZml4OmZ1bmN0aW9uKGEpe3JldHVybiBhW3IuZXhwYW5kb10/YTpuZXcgci5FdmVudChhKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT12YSgpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT12YSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZTpcImZvY3Vzb3V0XCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuXCJjaGVja2JveFwiPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZyLm5vZGVOYW1lKHRoaXMsXCJpbnB1dFwiKT8odGhpcy5jbGljaygpLCExKTp2b2lkIDB9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe3JldHVybiByLm5vZGVOYW1lKGEudGFyZ2V0LFwiYVwiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19fSxyLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMpfSxyLkV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiByLkV2ZW50PyhhJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJmEucmV0dXJuVmFsdWU9PT0hMT90YTp1YSx0aGlzLnRhcmdldD1hLnRhcmdldCYmMz09PWEudGFyZ2V0Lm5vZGVUeXBlP2EudGFyZ2V0LnBhcmVudE5vZGU6YS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWEuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9YS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9YSxiJiZyLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxyLm5vdygpLHZvaWQodGhpc1tyLmV4cGFuZG9dPSEwKSk6bmV3IHIuRXZlbnQoYSxiKX0sci5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnIuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOnVhLGlzUHJvcGFnYXRpb25TdG9wcGVkOnVhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOnVhLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXRhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXRhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD10YSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sci5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLFwiY2hhclwiOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYnV0dG9uO3JldHVybiBudWxsPT1hLndoaWNoJiZxYS50ZXN0KGEudHlwZSk/bnVsbCE9YS5jaGFyQ29kZT9hLmNoYXJDb2RlOmEua2V5Q29kZTohYS53aGljaCYmdm9pZCAwIT09YiYmcmEudGVzdChhLnR5cGUpPzEmYj8xOjImYj8zOjQmYj8yOjA6YS53aGljaH19LHIuZXZlbnQuYWRkUHJvcCksci5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7ci5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4gZSYmKGU9PT1kfHxyLmNvbnRhaW5zKGQsZSkpfHwoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxyLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHdhKHRoaXMsYSxiLGMsZCl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gd2EodGhpcyxhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmoscihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZStcIi5cIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoZSBpbiBhKXRoaXMub2ZmKGUsYixhW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gYiE9PSExJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPXVhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciB4YT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSx5YT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSx6YT0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLEFhPS9edHJ1ZVxcLyguKikvLEJhPS9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztmdW5jdGlvbiBDYShhLGIpe3JldHVybiByLm5vZGVOYW1lKGEsXCJ0YWJsZVwiKSYmci5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsXCJ0clwiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGJvZHlcIilbMF18fGE6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKStcIi9cIithLnR5cGUsYX1mdW5jdGlvbiBFYShhKXt2YXIgYj1BYS5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGF9ZnVuY3Rpb24gRmEoYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqO2lmKDE9PT1iLm5vZGVUeXBlKXtpZihWLmhhc0RhdGEoYSkmJihmPVYuYWNjZXNzKGEpLGc9Vi5zZXQoYixmKSxqPWYuZXZlbnRzKSl7ZGVsZXRlIGcuaGFuZGxlLGcuZXZlbnRzPXt9O2ZvcihlIGluIGopZm9yKGM9MCxkPWpbZV0ubGVuZ3RoO2Q+YztjKyspci5ldmVudC5hZGQoYixlLGpbZV1bY10pfVcuaGFzRGF0YShhKSYmKGg9Vy5hY2Nlc3MoYSksaT1yLmV4dGVuZCh7fSxoKSxXLnNldChiLGkpKX19ZnVuY3Rpb24gR2EoYSxiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XCJpbnB1dFwiPT09YyYmaGEudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6XCJpbnB1dFwiIT09YyYmXCJ0ZXh0YXJlYVwiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX1mdW5jdGlvbiBIYShhLGIsYyxkKXtiPWcuYXBwbHkoW10sYik7dmFyIGUsZixoLGksaixrLGw9MCxtPWEubGVuZ3RoLG49bS0xLHE9YlswXSxzPXIuaXNGdW5jdGlvbihxKTtpZihzfHxtPjEmJlwic3RyaW5nXCI9PXR5cGVvZiBxJiYhby5jaGVja0Nsb25lJiZ6YS50ZXN0KHEpKXJldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9YS5lcShlKTtzJiYoYlswXT1xLmNhbGwodGhpcyxlLGYuaHRtbCgpKSksSGEoZixiLGMsZCl9KTtpZihtJiYoZT1vYShiLGFbMF0ub3duZXJEb2N1bWVudCwhMSxhLGQpLGY9ZS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT1mKSxmfHxkKSl7Zm9yKGg9ci5tYXAobGEoZSxcInNjcmlwdFwiKSxEYSksaT1oLmxlbmd0aDttPmw7bCsrKWo9ZSxsIT09biYmKGo9ci5jbG9uZShqLCEwLCEwKSxpJiZyLm1lcmdlKGgsbGEoaixcInNjcmlwdFwiKSkpLGMuY2FsbChhW2xdLGosbCk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsci5tYXAoaCxFYSksbD0wO2k+bDtsKyspaj1oW2xdLGphLnRlc3Qoai50eXBlfHxcIlwiKSYmIVYuYWNjZXNzKGosXCJnbG9iYWxFdmFsXCIpJiZyLmNvbnRhaW5zKGssaikmJihqLnNyYz9yLl9ldmFsVXJsJiZyLl9ldmFsVXJsKGouc3JjKTpwKGoudGV4dENvbnRlbnQucmVwbGFjZShCYSxcIlwiKSxrKSl9cmV0dXJuIGF9ZnVuY3Rpb24gSWEoYSxiLGMpe2Zvcih2YXIgZCxlPWI/ci5maWx0ZXIoYixhKTphLGY9MDtudWxsIT0oZD1lW2ZdKTtmKyspY3x8MSE9PWQubm9kZVR5cGV8fHIuY2xlYW5EYXRhKGxhKGQpKSxkLnBhcmVudE5vZGUmJihjJiZyLmNvbnRhaW5zKGQub3duZXJEb2N1bWVudCxkKSYmbWEobGEoZCxcInNjcmlwdFwiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1yLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHhhLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNsb25lTm9kZSghMCksaT1yLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZighKG8ubm9DbG9uZUNoZWNrZWR8fDEhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGV8fHIuaXNYTUxEb2MoYSkpKWZvcihnPWxhKGgpLGY9bGEoYSksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKylHYShmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxsYShhKSxnPWd8fGxhKGgpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspRmEoZltkXSxnW2RdKTtlbHNlIEZhKGEsaCk7cmV0dXJuIGc9bGEoaCxcInNjcmlwdFwiKSxnLmxlbmd0aD4wJiZtYShnLCFpJiZsYShhLFwic2NyaXB0XCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZCxlPXIuZXZlbnQuc3BlY2lhbCxmPTA7dm9pZCAwIT09KGM9YVtmXSk7ZisrKWlmKFQoYykpe2lmKGI9Y1tWLmV4cGFuZG9dKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cyllW2RdP3IuZXZlbnQucmVtb3ZlKGMsZCk6ci5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO2NbVi5leHBhbmRvXT12b2lkIDB9Y1tXLmV4cGFuZG9dJiYoY1tXLmV4cGFuZG9dPXZvaWQgMCl9fX0pLHIuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSwhMCl9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gSWEodGhpcyxhKX0sdGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3IudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHwodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiBIYSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9Q2EodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihyLmNsZWFuRGF0YShsYShhLCExKSksYS50ZXh0Q29udGVudD1cIlwiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiByLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBTKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiYheWEudGVzdChhKSYmIWthWyhpYS5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9ci5odG1sUHJlZmlsdGVyKGEpO3RyeXtmb3IoO2Q+YztjKyspYj10aGlzW2NdfHx7fSwxPT09Yi5ub2RlVHlwZSYmKHIuY2xlYW5EYXRhKGxhKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGFyZW50Tm9kZTtyLmluQXJyYXkodGhpcyxhKTwwJiYoci5jbGVhbkRhdGEobGEodGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxyLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtyLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9cihhKSxmPWUubGVuZ3RoLTEsZz0wO2Y+PWc7ZysrKWM9Zz09PWY/dGhpczp0aGlzLmNsb25lKCEwKSxyKGVbZ10pW2JdKGMpLGguYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIEphPS9ebWFyZ2luLyxLYT1uZXcgUmVnRXhwKFwiXihcIiskK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLExhPWZ1bmN0aW9uKGIpe3ZhciBjPWIub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gYyYmYy5vcGVuZXJ8fChjPWEpLGMuZ2V0Q29tcHV0ZWRTdHlsZShiKX07IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGkpe2kuc3R5bGUuY3NzVGV4dD1cImJveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJVwiLGkuaW5uZXJIVE1MPVwiXCIscGEuYXBwZW5kQ2hpbGQoaCk7dmFyIGI9YS5nZXRDb21wdXRlZFN0eWxlKGkpO2M9XCIxJVwiIT09Yi50b3AsZz1cIjJweFwiPT09Yi5tYXJnaW5MZWZ0LGU9XCI0cHhcIj09PWIud2lkdGgsaS5zdHlsZS5tYXJnaW5SaWdodD1cIjUwJVwiLGY9XCI0cHhcIj09PWIubWFyZ2luUmlnaHQscGEucmVtb3ZlQ2hpbGQoaCksaT1udWxsfX12YXIgYyxlLGYsZyxoPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLnN0eWxlJiYoaS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsaS5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsby5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09aS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxoLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O3BhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGguYXBwZW5kQ2hpbGQoaSksci5leHRlbmQobyx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBiKCksY30sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGV9LHBpeGVsTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYigpLGZ9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBiKCksZ319KSl9KCk7ZnVuY3Rpb24gTWEoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxMYShhKSxjJiYoZz1jLmdldFByb3BlcnR5VmFsdWUoYil8fGNbYl0sXCJcIiE9PWd8fHIuY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1yLnN0eWxlKGEsYikpLCFvLnBpeGVsTWFyZ2luUmlnaHQoKSYmS2EudGVzdChnKSYmSmEudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSksdm9pZCAwIT09Zz9nK1wiXCI6Z31mdW5jdGlvbiBOYShhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX12YXIgT2E9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFBhPXtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSxRYT17bGV0dGVyU3BhY2luZzpcIjBcIixmb250V2VpZ2h0OlwiNDAwXCJ9LFJhPVtcIldlYmtpdFwiLFwiTW96XCIsXCJtc1wiXSxTYT1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGU7ZnVuY3Rpb24gVGEoYSl7aWYoYSBpbiBTYSlyZXR1cm4gYTt2YXIgYj1hWzBdLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPVJhLmxlbmd0aDt3aGlsZShjLS0paWYoYT1SYVtjXStiLGEgaW4gU2EpcmV0dXJuIGF9ZnVuY3Rpb24gVWEoYSxiLGMpe3ZhciBkPV8uZXhlYyhiKTtyZXR1cm4gZD9NYXRoLm1heCgwLGRbMl0tKGN8fDApKSsoZFszXXx8XCJweFwiKTpifWZ1bmN0aW9uIFZhKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD9cImJvcmRlclwiOlwiY29udGVudFwiKT80Olwid2lkdGhcIj09PWI/MTowLGc9MDs0PmY7Zis9MilcIm1hcmdpblwiPT09YyYmKGcrPXIuY3NzKGEsYythYVtmXSwhMCxlKSksZD8oXCJjb250ZW50XCI9PT1jJiYoZy09ci5jc3MoYSxcInBhZGRpbmdcIithYVtmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1yLmNzcyhhLFwiYm9yZGVyXCIrYWFbZl0rXCJXaWR0aFwiLCEwLGUpKSk6KGcrPXIuY3NzKGEsXCJwYWRkaW5nXCIrYWFbZl0sITAsZSksXCJwYWRkaW5nXCIhPT1jJiYoZys9ci5jc3MoYSxcImJvcmRlclwiK2FhW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIFdhKGEsYixjKXt2YXIgZCxlPSEwLGY9TGEoYSksZz1cImJvcmRlci1ib3hcIj09PXIuY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKTtpZihhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoZD1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2JdKSwwPj1kfHxudWxsPT1kKXtpZihkPU1hKGEsYixmKSwoMD5kfHxudWxsPT1kKSYmKGQ9YS5zdHlsZVtiXSksS2EudGVzdChkKSlyZXR1cm4gZDtlPWcmJihvLmJveFNpemluZ1JlbGlhYmxlKCl8fGQ9PT1hLnN0eWxlW2JdKSxkPXBhcnNlRmxvYXQoZCl8fDB9cmV0dXJuIGQrVmEoYSxiLGN8fChnP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLGUsZikrXCJweFwifXIuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9TWEoYSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PWM/XCIxXCI6Y319fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7XCJmbG9hdFwiOlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1yLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9ci5jc3NQcm9wc1toXXx8KHIuY3NzUHJvcHNbaF09VGEoaCl8fGgpLGc9ci5jc3NIb29rc1tiXXx8ci5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJlwiZ2V0XCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsXCJzdHJpbmdcIj09PWYmJihlPV8uZXhlYyhjKSkmJmVbMV0mJihjPWRhKGEsYixlKSxmPVwibnVtYmVyXCIpLG51bGwhPWMmJmM9PT1jJiYoXCJudW1iZXJcIj09PWYmJihjKz1lJiZlWzNdfHwoci5jc3NOdW1iZXJbaF0/XCJcIjpcInB4XCIpKSxvLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PWN8fDAhPT1iLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoaVtiXT1cImluaGVyaXRcIiksZyYmXCJzZXRcImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSl8fChpW2JdPWMpKSx2b2lkIDApfX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPXIuY2FtZWxDYXNlKGIpO3JldHVybiBiPXIuY3NzUHJvcHNbaF18fChyLmNzc1Byb3BzW2hdPVRhKGgpfHxoKSxnPXIuY3NzSG9va3NbYl18fHIuY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihlPU1hKGEsYixkKSksXCJub3JtYWxcIj09PWUmJmIgaW4gUWEmJihlPVFhW2JdKSxcIlwiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8aXNGaW5pdGUoZik/Znx8MDplKTplfX0pLHIuZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7ci5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz8hT2EudGVzdChyLmNzcyhhLFwiZGlzcGxheVwiKSl8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/V2EoYSxiLGQpOmNhKGEsUGEsZnVuY3Rpb24oKXtyZXR1cm4gV2EoYSxiLGQpfSk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGY9ZCYmTGEoYSksZz1kJiZWYShhLGIsZCxcImJvcmRlci1ib3hcIj09PXIuY3NzKGEsXCJib3hTaXppbmdcIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9Xy5leGVjKGMpKSYmXCJweFwiIT09KGVbM118fFwicHhcIikmJihhLnN0eWxlW2JdPWMsYz1yLmNzcyhhLGIpKSxVYShhLGMsZyl9fX0pLHIuY3NzSG9va3MubWFyZ2luTGVmdD1OYShvLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KE1hKGEsXCJtYXJnaW5MZWZ0XCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWNhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIjp2b2lkIDB9KSxyLmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihhLGIpe3IuY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj1cInN0cmluZ1wiPT10eXBlb2YgYz9jLnNwbGl0KFwiIFwiKTpbY107ND5kO2QrKyllW2ErYWFbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sSmEudGVzdChhKXx8KHIuY3NzSG9va3NbYStiXS5zZXQ9VWEpfSksci5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBTKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYoci5pc0FycmF5KGIpKXtmb3IoZD1MYShhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1yLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/ci5zdHlsZShhLGIsYyk6ci5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9fSk7ZnVuY3Rpb24gWGEoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFhhLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9ci5Ud2Vlbj1YYSxYYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlhhLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fHIuZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwoci5jc3NOdW1iZXJbY10/XCJcIjpcInB4XCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgYT1YYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6WGEucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGEpe3ZhciBiLGM9WGEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz1iPXIuZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPWI9YSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxjJiZjLnNldD9jLnNldCh0aGlzKTpYYS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxYYS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9WGEucHJvdG90eXBlLFhhLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gMSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbCE9YS5lbGVtW2EucHJvcF0mJm51bGw9PWEuZWxlbS5zdHlsZVthLnByb3BdP2EuZWxlbVthLnByb3BdOihiPXIuY3NzKGEuZWxlbSxhLnByb3AsXCJcIiksYiYmXCJhdXRvXCIhPT1iP2I6MCl9LHNldDpmdW5jdGlvbihhKXtyLmZ4LnN0ZXBbYS5wcm9wXT9yLmZ4LnN0ZXBbYS5wcm9wXShhKToxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsPT1hLmVsZW0uc3R5bGVbci5jc3NQcm9wc1thLnByb3BdXSYmIXIuY3NzSG9va3NbYS5wcm9wXT9hLmVsZW1bYS5wcm9wXT1hLm5vdzpyLnN0eWxlKGEuZWxlbSxhLnByb3AsYS5ub3crYS51bml0KX19fSxYYS5wcm9wSG9va3Muc2Nyb2xsVG9wPVhhLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYSl7YS5lbGVtLm5vZGVUeXBlJiZhLmVsZW0ucGFyZW50Tm9kZSYmKGEuZWxlbVthLnByb3BdPWEubm93KX19LHIuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN3aW5nOmZ1bmN0aW9uKGEpe3JldHVybi41LU1hdGguY29zKGEqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6XCJzd2luZ1wifSxyLmZ4PVhhLnByb3RvdHlwZS5pbml0LHIuZnguc3RlcD17fTt2YXIgWWEsWmEsJGE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLF9hPS9xdWV1ZUhvb2tzJC87ZnVuY3Rpb24gYWIoKXtaYSYmKGEucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFiKSxyLmZ4LnRpY2soKSl9ZnVuY3Rpb24gYmIoKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7WWE9dm9pZCAwfSksWWE9ci5ub3coKX1mdW5jdGlvbiBjYihhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPWFhW2RdLGVbXCJtYXJnaW5cIitjXT1lW1wicGFkZGluZ1wiK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIGRiKGEsYixjKXtmb3IodmFyIGQsZT0oZ2IudHdlZW5lcnNbYl18fFtdKS5jb25jYXQoZ2IudHdlZW5lcnNbXCIqXCJdKSxmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGQ9ZVtmXS5jYWxsKGMsYixhKSlyZXR1cm4gZH1mdW5jdGlvbiBlYihhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPVwid2lkdGhcImluIGJ8fFwiaGVpZ2h0XCJpbiBiLG09dGhpcyxuPXt9LG89YS5zdHlsZSxwPWEubm9kZVR5cGUmJmJhKGEpLHE9Vi5nZXQoYSxcImZ4c2hvd1wiKTtjLnF1ZXVlfHwoZz1yLl9xdWV1ZUhvb2tzKGEsXCJmeFwiKSxudWxsPT1nLnVucXVldWVkJiYoZy51bnF1ZXVlZD0wLGg9Zy5lbXB0eS5maXJlLGcuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2cudW5xdWV1ZWR8fGgoKX0pLGcudW5xdWV1ZWQrKyxtLmFsd2F5cyhmdW5jdGlvbigpe20uYWx3YXlzKGZ1bmN0aW9uKCl7Zy51bnF1ZXVlZC0tLHIucXVldWUoYSxcImZ4XCIpLmxlbmd0aHx8Zy5lbXB0eS5maXJlKCl9KX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSwkYS50ZXN0KGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fFwidG9nZ2xlXCI9PT1lLGU9PT0ocD9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1uW2RdPXEmJnFbZF18fHIuc3R5bGUoYSxkKX1pZihpPSFyLmlzRW1wdHlPYmplY3QoYiksaXx8IXIuaXNFbXB0eU9iamVjdChuKSl7bCYmMT09PWEubm9kZVR5cGUmJihjLm92ZXJmbG93PVtvLm92ZXJmbG93LG8ub3ZlcmZsb3dYLG8ub3ZlcmZsb3dZXSxqPXEmJnEuZGlzcGxheSxudWxsPT1qJiYoaj1WLmdldChhLFwiZGlzcGxheVwiKSksaz1yLmNzcyhhLFwiZGlzcGxheVwiKSxcIm5vbmVcIj09PWsmJihqP2s9ajooZ2EoW2FdLCEwKSxqPWEuc3R5bGUuZGlzcGxheXx8aixrPXIuY3NzKGEsXCJkaXNwbGF5XCIpLGdhKFthXSkpKSwoXCJpbmxpbmVcIj09PWt8fFwiaW5saW5lLWJsb2NrXCI9PT1rJiZudWxsIT1qKSYmXCJub25lXCI9PT1yLmNzcyhhLFwiZmxvYXRcIikmJihpfHwobS5kb25lKGZ1bmN0aW9uKCl7by5kaXNwbGF5PWp9KSxudWxsPT1qJiYoaz1vLmRpc3BsYXksaj1cIm5vbmVcIj09PWs/XCJcIjprKSksby5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpKSxjLm92ZXJmbG93JiYoby5vdmVyZmxvdz1cImhpZGRlblwiLG0uYWx3YXlzKGZ1bmN0aW9uKCl7by5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLG8ub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0sby5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKSxpPSExO2ZvcihkIGluIG4paXx8KHE/XCJoaWRkZW5cImluIHEmJihwPXEuaGlkZGVuKTpxPVYuYWNjZXNzKGEsXCJmeHNob3dcIix7ZGlzcGxheTpqfSksZiYmKHEuaGlkZGVuPSFwKSxwJiZnYShbYV0sITApLG0uZG9uZShmdW5jdGlvbigpe3B8fGdhKFthXSksVi5yZW1vdmUoYSxcImZ4c2hvd1wiKTtmb3IoZCBpbiBuKXIuc3R5bGUoYSxkLG5bZF0pfSkpLGk9ZGIocD9xW2RdOjAsZCxtKSxkIGluIHF8fChxW2RdPWkuc3RhcnQscCYmKGkuZW5kPWkuc3RhcnQsaS5zdGFydD0wKSl9fWZ1bmN0aW9uIGZiKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9ci5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxyLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPXIuY3NzSG9va3NbZF0sZyYmXCJleHBhbmRcImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBnYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1nYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPXIuRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPVlhfHxiYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpyLmV4dGVuZCh7fSxiKSxvcHRzOnIuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpyLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOllhfHxiYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ci5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihmYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9Z2IucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIHIuaXNGdW5jdGlvbihkLnN0b3ApJiYoci5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPXIucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiByLm1hcChrLGRiLGopLHIuaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLHIuZngudGltZXIoci5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9ci5BbmltYXRpb249ci5leHRlbmQoZ2Ise3R3ZWVuZXJzOntcIipcIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYik7cmV0dXJuIGRhKGMuZWxlbSxhLF8uZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtyLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVtcIipcIl0pOmE9YS5tYXRjaChLKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sZ2IudHdlZW5lcnNbY109Z2IudHdlZW5lcnNbY118fFtdLGdiLnR3ZWVuZXJzW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcnM6W2ViXSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP2diLnByZWZpbHRlcnMudW5zaGlmdChhKTpnYi5wcmVmaWx0ZXJzLnB1c2goYSl9fSksci5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGU9YSYmXCJvYmplY3RcIj09dHlwZW9mIGE/ci5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxyLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIXIuaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIHIuZngub2ZmfHxkLmhpZGRlbj9lLmR1cmF0aW9uPTA6ZS5kdXJhdGlvbj1cIm51bWJlclwiPT10eXBlb2YgZS5kdXJhdGlvbj9lLmR1cmF0aW9uOmUuZHVyYXRpb24gaW4gci5meC5zcGVlZHM/ci5meC5zcGVlZHNbZS5kdXJhdGlvbl06ci5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZS5xdWV1ZSYmZS5xdWV1ZSE9PSEwfHwoZS5xdWV1ZT1cImZ4XCIpLGUub2xkPWUuY29tcGxldGUsZS5jb21wbGV0ZT1mdW5jdGlvbigpe3IuaXNGdW5jdGlvbihlLm9sZCkmJmUub2xkLmNhbGwodGhpcyksZS5xdWV1ZSYmci5kZXF1ZXVlKHRoaXMsZS5xdWV1ZSl9LGV9LHIuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKGJhKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYSxjLGQpfSxhbmltYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXIuaXNFbXB0eU9iamVjdChhKSxmPXIuc3BlZWQoYixjLGQpLGc9ZnVuY3Rpb24oKXt2YXIgYj1nYih0aGlzLHIuZXh0ZW5kKHt9LGEpLGYpOyhlfHxWLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYz1iLGI9YSxhPXZvaWQgMCksYiYmYSE9PSExJiZ0aGlzLnF1ZXVlKGF8fFwiZnhcIixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhK1wicXVldWVIb29rc1wiLGY9ci50aW1lcnMsZz1WLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZfYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxyLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPVYuZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9ci50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLHIucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksci5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPXIuZm5bYl07ci5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoY2IoYiwhMCksYSxkLGUpfX0pLHIuZWFjaCh7c2xpZGVEb3duOmNiKFwic2hvd1wiKSxzbGlkZVVwOmNiKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpjYihcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7ci5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxyLnRpbWVycz1bXSxyLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1yLnRpbWVycztmb3IoWWE9ci5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxyLmZ4LnN0b3AoKSxZYT12b2lkIDB9LHIuZngudGltZXI9ZnVuY3Rpb24oYSl7ci50aW1lcnMucHVzaChhKSxhKCk/ci5meC5zdGFydCgpOnIudGltZXJzLnBvcCgpfSxyLmZ4LmludGVydmFsPTEzLHIuZnguc3RhcnQ9ZnVuY3Rpb24oKXtaYXx8KFphPWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lP2EucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFiKTphLnNldEludGVydmFsKHIuZngudGljayxyLmZ4LmludGVydmFsKSl9LHIuZnguc3RvcD1mdW5jdGlvbigpe2EuY2FuY2VsQW5pbWF0aW9uRnJhbWU/YS5jYW5jZWxBbmltYXRpb25GcmFtZShaYSk6YS5jbGVhckludGVydmFsKFphKSxaYT1udWxsfSxyLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxyLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9ci5meD9yLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8XCJmeFwiLHRoaXMucXVldWUoYyxmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2V0VGltZW91dChjLGIpO2Quc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJUaW1lb3V0KGUpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9ZC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsby5jaGVja09uPVwiXCIhPT1hLnZhbHVlLG8ub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGEudmFsdWU9XCJ0XCIsYS50eXBlPVwicmFkaW9cIixvLnJhZGlvVmFsdWU9XCJ0XCI9PT1hLnZhbHVlfSgpO3ZhciBoYixpYj1yLmV4cHIuYXR0ckhhbmRsZTtyLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBTKHRoaXMsci5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtyLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLHIuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmdldEF0dHJpYnV0ZT9yLnByb3AoYSxiLGMpOigxPT09ZiYmci5pc1hNTERvYyhhKXx8KGU9ci5hdHRySG9va3NbYi50b0xvd2VyQ2FzZSgpXXx8KHIuZXhwci5tYXRjaC5ib29sLnRlc3QoYik/aGI6dm9pZCAwKSksdm9pZCAwIT09Yz9udWxsPT09Yz92b2lkIHIucmVtb3ZlQXR0cihhLGIpOmUmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6KGEuc2V0QXR0cmlidXRlKGIsYytcIlwiKSxjKTplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6KGQ9ci5maW5kLmF0dHIoYSxiKSxudWxsPT1kP3ZvaWQgMDpkKSl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIW8ucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09YiYmci5ub2RlTmFtZShhLFwiaW5wdXRcIikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZT1iJiZiLm1hdGNoKEspO2lmKGUmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZVtkKytdKWEucmVtb3ZlQXR0cmlidXRlKGMpO1xufX0pLGhiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/ci5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sci5lYWNoKHIuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPWliW2JdfHxyLmZpbmQuYXR0cjtpYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZixnPWIudG9Mb3dlckNhc2UoKTtyZXR1cm4gZHx8KGY9aWJbZ10saWJbZ109ZSxlPW51bGwhPWMoYSxiLGQpP2c6bnVsbCxpYltnXT1mKSxlfX0pO3ZhciBqYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGtiPS9eKD86YXxhcmVhKSQvaTtyLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBTKHRoaXMsci5wcm9wLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tyLnByb3BGaXhbYV18fGFdfSl9fSksci5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZyLmlzWE1MRG9jKGEpfHwoYj1yLnByb3BGaXhbYl18fGIsZT1yLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiZcInNldFwiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXIuZmluZC5hdHRyKGEsXCJ0YWJpbmRleFwiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTpqYi50ZXN0KGEubm9kZU5hbWUpfHxrYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifX0pLG8ub3B0U2VsZWN0ZWR8fChyLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksci5lYWNoKFtcInRhYkluZGV4XCIsXCJyZWFkT25seVwiLFwibWF4TGVuZ3RoXCIsXCJjZWxsU3BhY2luZ1wiLFwiY2VsbFBhZGRpbmdcIixcInJvd1NwYW5cIixcImNvbFNwYW5cIixcInVzZU1hcFwiLFwiZnJhbWVCb3JkZXJcIixcImNvbnRlbnRFZGl0YWJsZVwiXSxmdW5jdGlvbigpe3IucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgbGI9L1tcXHRcXHJcXG5cXGZdL2c7ZnVuY3Rpb24gbWIoYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifXIuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYoci5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7cih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLG1iKHRoaXMpKSl9KTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEspfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPW1iKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGxiLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZihcIiBcIitmK1wiIFwiKTwwJiYoZCs9ZitcIiBcIik7aD1yLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixoKX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihyLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtyKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsbWIodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoXCJjbGFzc1wiLFwiXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goSyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9bWIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKFwiIFwiK2UrXCIgXCIpLnJlcGxhY2UobGIsXCIgXCIpKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKFwiIFwiK2YrXCIgXCIpPi0xKWQ9ZC5yZXBsYWNlKFwiIFwiK2YrXCIgXCIsXCIgXCIpO2g9ci50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6ci5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtyKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsbWIodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZihcInN0cmluZ1wiPT09Yyl7ZD0wLGU9cih0aGlzKSxmPWEubWF0Y2goSyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Ugdm9pZCAwIT09YSYmXCJib29sZWFuXCIhPT1jfHwoYj1tYih0aGlzKSxiJiZWLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYnx8YT09PSExP1wiXCI6Vi5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQ9MDtiPVwiIFwiK2ErXCIgXCI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJihcIiBcIittYihjKStcIiBcIikucmVwbGFjZShsYixcIiBcIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgbmI9L1xcci9nLG9iPS9bXFx4MjBcXHRcXHJcXG5cXGZdKy9nO3IuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZD1yLmlzRnVuY3Rpb24oYSksdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBlOzE9PT10aGlzLm5vZGVUeXBlJiYoZT1kP2EuY2FsbCh0aGlzLGMscih0aGlzKS52YWwoKSk6YSxudWxsPT1lP2U9XCJcIjpcIm51bWJlclwiPT10eXBlb2YgZT9lKz1cIlwiOnIuaXNBcnJheShlKSYmKGU9ci5tYXAoZSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9cIlwiOmErXCJcIn0pKSxiPXIudmFsSG9va3NbdGhpcy50eXBlXXx8ci52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwic2V0XCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGUsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1yLnZhbEhvb2tzW2UudHlwZV18fHIudmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcImdldFwiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZSxcInZhbHVlXCIpKT9jOihjPWUudmFsdWUsXCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5yZXBsYWNlKG5iLFwiXCIpOm51bGw9PWM/XCJcIjpjKX19fSksci5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1yLmZpbmQuYXR0cihhLFwidmFsdWVcIik7cmV0dXJuIG51bGwhPWI/YjpyLnRyaW0oci50ZXh0KGEpKS5yZXBsYWNlKG9iLFwiIFwiKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGUsZz1mP251bGw6W10saD1mP2UrMTpkLmxlbmd0aCxpPTA+ZT9oOmY/ZTowO2g+aTtpKyspaWYoYz1kW2ldLChjLnNlbGVjdGVkfHxpPT09ZSkmJiFjLmRpc2FibGVkJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IXIubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPXIoYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1yLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9ci5pbkFycmF5KHIudmFsSG9va3Mub3B0aW9uLmdldChkKSxmKT4tMSkmJihjPSEwKTtyZXR1cm4gY3x8KGEuc2VsZWN0ZWRJbmRleD0tMSksZn19fX0pLHIuZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtyLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gci5pc0FycmF5KGIpP2EuY2hlY2tlZD1yLmluQXJyYXkocihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxvLmNoZWNrT258fChyLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik/XCJvblwiOmEudmFsdWV9KX0pO3ZhciBwYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87ci5leHRlbmQoci5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZyxoLGksaixrLG0sbixvPVtlfHxkXSxwPWwuY2FsbChiLFwidHlwZVwiKT9iLnR5cGU6YixxPWwuY2FsbChiLFwibmFtZXNwYWNlXCIpP2IubmFtZXNwYWNlLnNwbGl0KFwiLlwiKTpbXTtpZihoPWk9ZT1lfHxkLDMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmIXBiLnRlc3QocCtyLmV2ZW50LnRyaWdnZXJlZCkmJihwLmluZGV4T2YoXCIuXCIpPi0xJiYocT1wLnNwbGl0KFwiLlwiKSxwPXEuc2hpZnQoKSxxLnNvcnQoKSksaz1wLmluZGV4T2YoXCI6XCIpPDAmJlwib25cIitwLGI9YltyLmV4cGFuZG9dP2I6bmV3IHIuRXZlbnQocCxcIm9iamVjdFwiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9cS5qb2luKFwiLlwiKSxiLnJuYW1lc3BhY2U9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Euam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZSksYz1udWxsPT1jP1tiXTpyLm1ha2VBcnJheShjLFtiXSksbj1yLmV2ZW50LnNwZWNpYWxbcF18fHt9LGZ8fCFuLnRyaWdnZXJ8fG4udHJpZ2dlci5hcHBseShlLGMpIT09ITEpKXtpZighZiYmIW4ubm9CdWJibGUmJiFyLmlzV2luZG93KGUpKXtmb3Ioaj1uLmRlbGVnYXRlVHlwZXx8cCxwYi50ZXN0KGorcCl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlvLnB1c2goaCksaT1oO2k9PT0oZS5vd25lckRvY3VtZW50fHxkKSYmby5wdXNoKGkuZGVmYXVsdFZpZXd8fGkucGFyZW50V2luZG93fHxhKX1nPTA7d2hpbGUoKGg9b1tnKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zz4xP2o6bi5iaW5kVHlwZXx8cCxtPShWLmdldChoLFwiZXZlbnRzXCIpfHx7fSlbYi50eXBlXSYmVi5nZXQoaCxcImhhbmRsZVwiKSxtJiZtLmFwcGx5KGgsYyksbT1rJiZoW2tdLG0mJm0uYXBwbHkmJlQoaCkmJihiLnJlc3VsdD1tLmFwcGx5KGgsYyksYi5yZXN1bHQ9PT0hMSYmYi5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gYi50eXBlPXAsZnx8Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8bi5fZGVmYXVsdCYmbi5fZGVmYXVsdC5hcHBseShvLnBvcCgpLGMpIT09ITF8fCFUKGUpfHxrJiZyLmlzRnVuY3Rpb24oZVtwXSkmJiFyLmlzV2luZG93KGUpJiYoaT1lW2tdLGkmJihlW2tdPW51bGwpLHIuZXZlbnQudHJpZ2dlcmVkPXAsZVtwXSgpLHIuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxpJiYoZVtrXT1pKSksYi5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ci5leHRlbmQobmV3IHIuRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwfSk7ci5ldmVudC50cmlnZ2VyKGQsbnVsbCxiKX19KSxyLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtyLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9yLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KSxyLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7ci5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksci5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pLG8uZm9jdXNpbj1cIm9uZm9jdXNpblwiaW4gYSxvLmZvY3VzaW58fHIuZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSl7ci5ldmVudC5zaW11bGF0ZShiLGEudGFyZ2V0LHIuZXZlbnQuZml4KGEpKX07ci5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPVYuYWNjZXNzKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksVi5hY2Nlc3MoZCxiLChlfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1WLmFjY2VzcyhkLGIpLTE7ZT9WLmFjY2VzcyhkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLFYucmVtb3ZlKGQsYikpfX19KTt2YXIgcWI9YS5sb2NhdGlvbixyYj1yLm5vdygpLHNiPS9cXD8vO3IucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGM7aWYoIWJ8fFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtjPShuZXcgYS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhiLFwidGV4dC94bWxcIil9Y2F0Y2goZCl7Yz12b2lkIDB9cmV0dXJuIGMmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RofHxyLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK2IpLGN9O3ZhciB0Yj0vXFxbXFxdJC8sdWI9L1xccj9cXG4vZyx2Yj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksd2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlO2lmKHIuaXNBcnJheShiKSlyLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fHRiLnRlc3QoYSk/ZChhLGUpOnhiKGErXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6XCJcIikrXCJdXCIsZSxjLGQpfSk7ZWxzZSBpZihjfHxcIm9iamVjdFwiIT09ci50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpeGIoYStcIltcIitlK1wiXVwiLGJbZV0sYyxkKX1yLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9ci5pc0Z1bmN0aW9uKGIpP2IoKTpiO2RbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQobnVsbD09Yz9cIlwiOmMpfTtpZihyLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhci5pc1BsYWluT2JqZWN0KGEpKXIuZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpeGIoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIil9LHIuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gci5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXIucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/ci5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhcih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmd2IudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXZiLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFoYS50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPXIodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PWM/bnVsbDpyLmlzQXJyYXkoYyk/ci5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKHViLFwiXFxyXFxuXCIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UodWIsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSk7dmFyIHliPS8lMjAvZyx6Yj0vIy4qJC8sQWI9LyhbPyZdKV89W14mXSovLEJiPS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20sQ2I9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sRGI9L14oPzpHRVR8SEVBRCkkLyxFYj0vXlxcL1xcLy8sRmI9e30sR2I9e30sSGI9XCIqL1wiLmNvbmNhdChcIipcIiksSWI9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTtJYi5ocmVmPXFiLmhyZWY7ZnVuY3Rpb24gSmIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWIsYj1cIipcIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEspfHxbXTtpZihyLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pXCIrXCI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fFwiKlwiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gS2IoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09R2I7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxyLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbXCIqXCJdJiZnKFwiKlwiKX1mdW5jdGlvbiBMYihhLGIpe3ZhciBjLGQsZT1yLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZyLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24gTWIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKFwiKlwiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZCYmKGQ9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZStcIiBcIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gTmIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZihcIipcIj09PWYpZj1pO2Vsc2UgaWYoXCIqXCIhPT1pJiZpIT09Zil7aWYoZz1qW2krXCIgXCIrZl18fGpbXCIqIFwiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KFwiIFwiKSxoWzFdPT09ZiYmKGc9altpK1wiIFwiK2hbMF1dfHxqW1wiKiBcIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbXCJ0aHJvd3NcIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmc/bDpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitpK1wiIHRvIFwiK2Z9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTpifX1yLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6cWIuaHJlZix0eXBlOlwiR0VUXCIsaXNMb2NhbDpDYi50ZXN0KHFiLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixhY2NlcHRzOntcIipcIjpIYix0ZXh0OlwidGV4dC9wbGFpblwiLGh0bWw6XCJ0ZXh0L2h0bWxcIix4bWw6XCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsanNvbjpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwifSxjb250ZW50czp7eG1sOi9cXGJ4bWxcXGIvLGh0bWw6L1xcYmh0bWwvLGpzb246L1xcYmpzb25cXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOlwicmVzcG9uc2VYTUxcIix0ZXh0OlwicmVzcG9uc2VUZXh0XCIsanNvbjpcInJlc3BvbnNlSlNPTlwifSxjb252ZXJ0ZXJzOntcIiogdGV4dFwiOlN0cmluZyxcInRleHQgaHRtbFwiOiEwLFwidGV4dCBqc29uXCI6SlNPTi5wYXJzZSxcInRleHQgeG1sXCI6ci5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/TGIoTGIoYSxyLmFqYXhTZXR0aW5ncyksYik6TGIoci5hamF4U2V0dGluZ3MsYSl9LGFqYXhQcmVmaWx0ZXI6SmIoRmIpLGFqYXhUcmFuc3BvcnQ6SmIoR2IpLGFqYXg6ZnVuY3Rpb24oYixjKXtcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZSxmLGcsaCxpLGosayxsLG0sbixvPXIuYWpheFNldHVwKHt9LGMpLHA9by5jb250ZXh0fHxvLHE9by5jb250ZXh0JiYocC5ub2RlVHlwZXx8cC5qcXVlcnkpP3IocCk6ci5ldmVudCxzPXIuRGVmZXJyZWQoKSx0PXIuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksdT1vLnN0YXR1c0NvZGV8fHt9LHY9e30sdz17fSx4PVwiY2FuY2VsZWRcIix5PXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoayl7aWYoIWgpe2g9e307d2hpbGUoYj1CYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWsmJihhPXdbYS50b0xvd2VyQ2FzZSgpXT13W2EudG9Mb3dlckNhc2UoKV18fGEsdlthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1rJiYoby5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoayl5LmFsd2F5cyhhW3kuc3RhdHVzXSk7ZWxzZSBmb3IoYiBpbiBhKXVbYl09W3VbYl0sYVtiXV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHg7cmV0dXJuIGUmJmUuYWJvcnQoYiksQSgwLGIpLHRoaXN9fTtpZihzLnByb21pc2UoeSksby51cmw9KChifHxvLnVybHx8cWIuaHJlZikrXCJcIikucmVwbGFjZShFYixxYi5wcm90b2NvbCtcIi8vXCIpLG8udHlwZT1jLm1ldGhvZHx8Yy50eXBlfHxvLm1ldGhvZHx8by50eXBlLG8uZGF0YVR5cGVzPShvLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChLKXx8W1wiXCJdLG51bGw9PW8uY3Jvc3NEb21haW4pe2o9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTt0cnl7ai5ocmVmPW8udXJsLGouaHJlZj1qLmhyZWYsby5jcm9zc0RvbWFpbj1JYi5wcm90b2NvbCtcIi8vXCIrSWIuaG9zdCE9ai5wcm90b2NvbCtcIi8vXCIrai5ob3N0fWNhdGNoKHope28uY3Jvc3NEb21haW49ITB9fWlmKG8uZGF0YSYmby5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIG8uZGF0YSYmKG8uZGF0YT1yLnBhcmFtKG8uZGF0YSxvLnRyYWRpdGlvbmFsKSksS2IoRmIsbyxjLHkpLGspcmV0dXJuIHk7bD1yLmV2ZW50JiZvLmdsb2JhbCxsJiYwPT09ci5hY3RpdmUrKyYmci5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLG8udHlwZT1vLnR5cGUudG9VcHBlckNhc2UoKSxvLmhhc0NvbnRlbnQ9IURiLnRlc3Qoby50eXBlKSxmPW8udXJsLnJlcGxhY2UoemIsXCJcIiksby5oYXNDb250ZW50P28uZGF0YSYmby5wcm9jZXNzRGF0YSYmMD09PShvLmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiYoby5kYXRhPW8uZGF0YS5yZXBsYWNlKHliLFwiK1wiKSk6KG49by51cmwuc2xpY2UoZi5sZW5ndGgpLG8uZGF0YSYmKGYrPShzYi50ZXN0KGYpP1wiJlwiOlwiP1wiKStvLmRhdGEsZGVsZXRlIG8uZGF0YSksby5jYWNoZT09PSExJiYoZj1mLnJlcGxhY2UoQWIsXCJcIiksbj0oc2IudGVzdChmKT9cIiZcIjpcIj9cIikrXCJfPVwiK3JiKysgK24pLG8udXJsPWYrbiksby5pZk1vZGlmaWVkJiYoci5sYXN0TW9kaWZpZWRbZl0mJnkuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsci5sYXN0TW9kaWZpZWRbZl0pLHIuZXRhZ1tmXSYmeS5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLHIuZXRhZ1tmXSkpLChvLmRhdGEmJm8uaGFzQ29udGVudCYmby5jb250ZW50VHlwZSE9PSExfHxjLmNvbnRlbnRUeXBlKSYmeS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsby5jb250ZW50VHlwZSkseS5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsby5kYXRhVHlwZXNbMF0mJm8uYWNjZXB0c1tvLmRhdGFUeXBlc1swXV0/by5hY2NlcHRzW28uZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1vLmRhdGFUeXBlc1swXT9cIiwgXCIrSGIrXCI7IHE9MC4wMVwiOlwiXCIpOm8uYWNjZXB0c1tcIipcIl0pO2ZvcihtIGluIG8uaGVhZGVycyl5LnNldFJlcXVlc3RIZWFkZXIobSxvLmhlYWRlcnNbbV0pO2lmKG8uYmVmb3JlU2VuZCYmKG8uYmVmb3JlU2VuZC5jYWxsKHAseSxvKT09PSExfHxrKSlyZXR1cm4geS5hYm9ydCgpO2lmKHg9XCJhYm9ydFwiLHQuYWRkKG8uY29tcGxldGUpLHkuZG9uZShvLnN1Y2Nlc3MpLHkuZmFpbChvLmVycm9yKSxlPUtiKEdiLG8sYyx5KSl7aWYoeS5yZWFkeVN0YXRlPTEsbCYmcS50cmlnZ2VyKFwiYWpheFNlbmRcIixbeSxvXSksaylyZXR1cm4geTtvLmFzeW5jJiZvLnRpbWVvdXQ+MCYmKGk9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eS5hYm9ydChcInRpbWVvdXRcIil9LG8udGltZW91dCkpO3RyeXtrPSExLGUuc2VuZCh2LEEpfWNhdGNoKHope2lmKGspdGhyb3cgejtBKC0xLHopfX1lbHNlIEEoLTEsXCJObyBUcmFuc3BvcnRcIik7ZnVuY3Rpb24gQShiLGMsZCxoKXt2YXIgaixtLG4sdix3LHg9YztrfHwoaz0hMCxpJiZhLmNsZWFyVGltZW91dChpKSxlPXZvaWQgMCxnPWh8fFwiXCIseS5yZWFkeVN0YXRlPWI+MD80OjAsaj1iPj0yMDAmJjMwMD5ifHwzMDQ9PT1iLGQmJih2PU1iKG8seSxkKSksdj1OYihvLHYseSxqKSxqPyhvLmlmTW9kaWZpZWQmJih3PXkuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpLHcmJihyLmxhc3RNb2RpZmllZFtmXT13KSx3PXkuZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpLHcmJihyLmV0YWdbZl09dykpLDIwND09PWJ8fFwiSEVBRFwiPT09by50eXBlP3g9XCJub2NvbnRlbnRcIjozMDQ9PT1iP3g9XCJub3Rtb2RpZmllZFwiOih4PXYuc3RhdGUsbT12LmRhdGEsbj12LmVycm9yLGo9IW4pKToobj14LCFiJiZ4fHwoeD1cImVycm9yXCIsMD5iJiYoYj0wKSkpLHkuc3RhdHVzPWIseS5zdGF0dXNUZXh0PShjfHx4KStcIlwiLGo/cy5yZXNvbHZlV2l0aChwLFttLHgseV0pOnMucmVqZWN0V2l0aChwLFt5LHgsbl0pLHkuc3RhdHVzQ29kZSh1KSx1PXZvaWQgMCxsJiZxLnRyaWdnZXIoaj9cImFqYXhTdWNjZXNzXCI6XCJhamF4RXJyb3JcIixbeSxvLGo/bTpuXSksdC5maXJlV2l0aChwLFt5LHhdKSxsJiYocS50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW3ksb10pLC0tci5hY3RpdmV8fHIuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9cmV0dXJuIHl9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiByLmdldChhLGIsYyxcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiByLmdldChhLHZvaWQgMCxiLFwic2NyaXB0XCIpfX0pLHIuZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oYSxiKXtyW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiByLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxyLmFqYXgoci5leHRlbmQoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9LHIuaXNQbGFpbk9iamVjdChhKSYmYSkpfX0pLHIuX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIHIuYWpheCh7dXJsOmEsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwic2NyaXB0XCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLFwidGhyb3dzXCI6ITB9KX0sci5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIHRoaXNbMF0mJihyLmlzRnVuY3Rpb24oYSkmJihhPWEuY2FsbCh0aGlzWzBdKSksYj1yKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdEVsZW1lbnRDaGlsZClhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcykpLHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gci5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtyKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1yKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPXIuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3IodGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXJlbnQoYSkubm90KFwiYm9keVwiKS5lYWNoKGZ1bmN0aW9uKCl7cih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSksdGhpc319KSxyLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIXIuZXhwci5wc2V1ZG9zLnZpc2libGUoYSl9LHIuZXhwci5wc2V1ZG9zLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuISEoYS5vZmZzZXRXaWR0aHx8YS5vZmZzZXRIZWlnaHR8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpfSxyLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBPYj17MDoyMDAsMTIyMzoyMDR9LFBiPXIuYWpheFNldHRpbmdzLnhocigpO28uY29ycz0hIVBiJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gUGIsby5hamF4PVBiPSEhUGIsci5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIG8uY29yc3x8UGImJiFiLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaD1iLnhocigpO2lmKGgub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpLGIueGhyRmllbGRzKWZvcihnIGluIGIueGhyRmllbGRzKWhbZ109Yi54aHJGaWVsZHNbZ107Yi5taW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSksYi5jcm9zc0RvbWFpbnx8ZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChlW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihnIGluIGUpaC5zZXRSZXF1ZXN0SGVhZGVyKGcsZVtnXSk7Yz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYz1kPWgub25sb2FkPWgub25lcnJvcj1oLm9uYWJvcnQ9aC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxcImFib3J0XCI9PT1hP2guYWJvcnQoKTpcImVycm9yXCI9PT1hP1wibnVtYmVyXCIhPXR5cGVvZiBoLnN0YXR1cz9mKDAsXCJlcnJvclwiKTpmKGguc3RhdHVzLGguc3RhdHVzVGV4dCk6ZihPYltoLnN0YXR1c118fGguc3RhdHVzLGguc3RhdHVzVGV4dCxcInRleHRcIiE9PShoLnJlc3BvbnNlVHlwZXx8XCJ0ZXh0XCIpfHxcInN0cmluZ1wiIT10eXBlb2YgaC5yZXNwb25zZVRleHQ/e2JpbmFyeTpoLnJlc3BvbnNlfTp7dGV4dDpoLnJlc3BvbnNlVGV4dH0saC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0saC5vbmxvYWQ9YygpLGQ9aC5vbmVycm9yPWMoXCJlcnJvclwiKSx2b2lkIDAhPT1oLm9uYWJvcnQ/aC5vbmFib3J0PWQ6aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiZhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiZkKCl9KX0sYz1jKFwiYWJvcnRcIik7dHJ5e2guc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCl9Y2F0Y2goaSl7aWYoYyl0aHJvdyBpfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fTp2b2lkIDB9KSxyLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oYSl7YS5jcm9zc0RvbWFpbiYmKGEuY29udGVudHMuc2NyaXB0PSExKX0pLHIuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGEpe3JldHVybiByLmdsb2JhbEV2YWwoYSksYX19fSksci5hamF4UHJlZmlsdGVyKFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9XCJHRVRcIil9KSxyLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjO3JldHVybntzZW5kOmZ1bmN0aW9uKGUsZil7Yj1yKFwiPHNjcmlwdD5cIikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oXCJsb2FkIGVycm9yXCIsYz1mdW5jdGlvbihhKXtiLnJlbW92ZSgpLGM9bnVsbCxhJiZmKFwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwLGEudHlwZSl9KSxkLmhlYWQuYXBwZW5kQ2hpbGQoYlswXSl9LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX19fSk7dmFyIFFiPVtdLFJiPS8oPSlcXD8oPz0mfCQpfFxcP1xcPy87ci5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9UWIucG9wKCl8fHIuZXhwYW5kbytcIl9cIityYisrO3JldHVybiB0aGlzW2FdPSEwLGF9fSksci5hamF4UHJlZmlsdGVyKFwianNvbiBqc29ucFwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaD1iLmpzb25wIT09ITEmJihSYi50ZXN0KGIudXJsKT9cInVybFwiOlwic3RyaW5nXCI9PXR5cGVvZiBiLmRhdGEmJjA9PT0oYi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmUmIudGVzdChiLmRhdGEpJiZcImRhdGFcIik7cmV0dXJuIGh8fFwianNvbnBcIj09PWIuZGF0YVR5cGVzWzBdPyhlPWIuanNvbnBDYWxsYmFjaz1yLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaD9iW2hdPWJbaF0ucmVwbGFjZShSYixcIiQxXCIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShzYi50ZXN0KGIudXJsKT9cIiZcIjpcIj9cIikrYi5qc29ucCtcIj1cIitlKSxiLmNvbnZlcnRlcnNbXCJzY3JpcHQganNvblwiXT1mdW5jdGlvbigpe3JldHVybiBnfHxyLmVycm9yKGUrXCIgd2FzIG5vdCBjYWxsZWRcIiksZ1swXX0sYi5kYXRhVHlwZXNbMF09XCJqc29uXCIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP3IoYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssUWIucHVzaChlKSksZyYmci5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSxcInNjcmlwdFwiKTp2b2lkIDB9KSxvLmNyZWF0ZUhUTUxEb2N1bWVudD1mdW5jdGlvbigpe3ZhciBhPWQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmJvZHk7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxyLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuW107XCJib29sZWFuXCI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpO3ZhciBlLGYsZztyZXR1cm4gYnx8KG8uY3JlYXRlSFRNTERvY3VtZW50PyhiPWQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLGU9Yi5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKSxlLmhyZWY9ZC5sb2NhdGlvbi5ocmVmLGIuaGVhZC5hcHBlbmRDaGlsZChlKSk6Yj1kKSxmPUIuZXhlYyhhKSxnPSFjJiZbXSxmP1tiLmNyZWF0ZUVsZW1lbnQoZlsxXSldOihmPW9hKFthXSxiLGcpLGcmJmcubGVuZ3RoJiZyKGcpLnJlbW92ZSgpLHIubWVyZ2UoW10sZi5jaGlsZE5vZGVzKSl9LHIuZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+LTEmJihkPXIudHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksci5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZT1cIlBPU1RcIiksZy5sZW5ndGg+MCYmci5hamF4KHt1cmw6YSx0eXBlOmV8fFwiR0VUXCIsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9yKFwiPGRpdj5cIikuYXBwZW5kKHIucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sci5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oYSxiKXtyLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksci5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHIuZ3JlcChyLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gU2IoYSl7cmV0dXJuIHIuaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31yLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPXIuY3NzKGEsXCJwb3NpdGlvblwiKSxsPXIoYSksbT17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1yLmNzcyhhLFwidG9wXCIpLGk9ci5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJihmK2kpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxyLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsci5leHRlbmQoe30saCkpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLFwidXNpbmdcImluIGI/Yi51c2luZy5jYWxsKGEsbSk6bC5jc3MobSl9fSxyLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWE/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oYil7ci5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO3ZhciBiLGMsZCxlLGY9dGhpc1swXTtpZihmKXJldHVybiBmLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhkPWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZC53aWR0aHx8ZC5oZWlnaHQ/KGU9Zi5vd25lckRvY3VtZW50LGM9U2IoZSksYj1lLmRvY3VtZW50RWxlbWVudCx7dG9wOmQudG9wK2MucGFnZVlPZmZzZXQtYi5jbGllbnRUb3AsbGVmdDpkLmxlZnQrYy5wYWdlWE9mZnNldC1iLmNsaWVudExlZnR9KTpkKTp7dG9wOjAsbGVmdDowfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9dGhpc1swXSxkPXt0b3A6MCxsZWZ0OjB9O3JldHVyblwiZml4ZWRcIj09PXIuY3NzKGMsXCJwb3NpdGlvblwiKT9iPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksci5ub2RlTmFtZShhWzBdLFwiaHRtbFwiKXx8KGQ9YS5vZmZzZXQoKSksZD17dG9wOmQudG9wK3IuY3NzKGFbMF0sXCJib3JkZXJUb3BXaWR0aFwiLCEwKSxsZWZ0OmQubGVmdCtyLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApfSkse3RvcDpiLnRvcC1kLnRvcC1yLmNzcyhjLFwibWFyZ2luVG9wXCIsITApLGxlZnQ6Yi5sZWZ0LWQubGVmdC1yLmNzcyhjLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiZcInN0YXRpY1wiPT09ci5jc3MoYSxcInBvc2l0aW9uXCIpKWE9YS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGF8fHBhfSl9fSksci5lYWNoKHtzY3JvbGxMZWZ0OlwicGFnZVhPZmZzZXRcIixzY3JvbGxUb3A6XCJwYWdlWU9mZnNldFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPVwicGFnZVlPZmZzZXRcIj09PWI7ci5mblthXT1mdW5jdGlvbihkKXtyZXR1cm4gUyh0aGlzLGZ1bmN0aW9uKGEsZCxlKXt2YXIgZj1TYihhKTtyZXR1cm4gdm9pZCAwPT09ZT9mP2ZbYl06YVtkXTp2b2lkKGY/Zi5zY3JvbGxUbyhjP2YucGFnZVhPZmZzZXQ6ZSxjP2U6Zi5wYWdlWU9mZnNldCk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgpfX0pLHIuZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSxiKXtyLmNzc0hvb2tzW2JdPU5hKG8ucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPU1hKGEsYiksS2EudGVzdChjKT9yKGEpLnBvc2l0aW9uKClbYl0rXCJweFwiOmMpOnZvaWQgMH0pfSksci5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7ci5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIithLGNvbnRlbnQ6YixcIlwiOlwib3V0ZXJcIithfSxmdW5jdGlvbihjLGQpe3IuZm5bZF09ZnVuY3Rpb24oZSxmKXt2YXIgZz1hcmd1bWVudHMubGVuZ3RoJiYoY3x8XCJib29sZWFuXCIhPXR5cGVvZiBlKSxoPWN8fChlPT09ITB8fGY9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBTKHRoaXMsZnVuY3Rpb24oYixjLGUpe3ZhciBmO3JldHVybiByLmlzV2luZG93KGIpPzA9PT1kLmluZGV4T2YoXCJvdXRlclwiKT9iW1wiaW5uZXJcIithXTpiLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2FdOjk9PT1iLm5vZGVUeXBlPyhmPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVtcInNjcm9sbFwiK2FdLGZbXCJzY3JvbGxcIithXSxiLmJvZHlbXCJvZmZzZXRcIithXSxmW1wib2Zmc2V0XCIrYV0sZltcImNsaWVudFwiK2FdKSk6dm9pZCAwPT09ZT9yLmNzcyhiLGMsaCk6ci5zdHlsZShiLGMsZSxoKX0sYixnP2U6dm9pZCAwLGcpfX0pfSksci5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsXCIqKlwiKTp0aGlzLm9mZihiLGF8fFwiKipcIixjKX19KSxyLnBhcnNlSlNPTj1KU09OLnBhcnNlLFwiZnVuY3Rpb25cIj09XCJmdW5jdGlvblwiJiZfX3dlYnBhY2tfcmVxdWlyZV9fKDgpJiYhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAoZnVuY3Rpb24oKXtyZXR1cm4gcn0pLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pLFxuXHRcdFx0XHRfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyAhPT0gdW5kZWZpbmVkICYmIChtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fKSk7dmFyIFRiPWEualF1ZXJ5LFViPWEuJDtyZXR1cm4gci5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1yJiYoYS4kPVViKSxiJiZhLmpRdWVyeT09PXImJihhLmpRdWVyeT1UYikscn0sYnx8KGEualF1ZXJ5PWEuJD1yKSxyfSk7XG5cblxuLyoqKi8gfSksXG4vKiAxICovLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSAgdHJ1ZSA/IF9fd2VicGFja19yZXF1aXJlX18ubmMgOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59O1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn1cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKCQsIGpRdWVyeSkge1xuLy8gUHl0aG9uIFR1dG9yOiBodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvXG4vLyBDb3B5cmlnaHQgKEMpIFBoaWxpcCBHdW8gKHBoaWxpcEBwZ2JvdmluZS5uZXQpXG4vLyBMSUNFTlNFOiBodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIFRPRE86XG5cbi0gc3Vic3RpdHV0ZSBpbiBhIG5vbi1saXZlIHZlcnNpb24gb2YgdGhlIGxpdmUgZWRpdG9yIGZyb20gb3B0LWxpdmUuanNcbiAgaW4gYWRkaXRpb24gdG8gdGhlIGphbmt5IGN1cnJlbnQgdmVyc2lvbiBvZiB0aGUgZWRpdG9yXG5cbiovXG4vKiBweXR1dG9yIGNvZGluZyBnb3RjaGFzOlxuXG4tICpORVZFUiogdXNlIHJhdyAkKF9fKSBvciBkMy5zZWxlY3QoX18pIHN0YXRlbWVudHMgdG8gc2VsZWN0IERPTSBlbGVtZW50cy5cblxuICAqQUxXQVlTKiB1c2UgbXlWaXouZG9tUm9vdCBvciBteVZpei5kb21Sb290RDMgZm9yIGpRdWVyeSBhbmQgRDMsIHJlc3BlY3RpdmVseS5cblxuICBPdGhlcndpc2UgdGhpbmdzIHdpbGwgYnJlYWsgaW4gd2VpcmQgd2F5cyB3aGVuIHlvdSBoYXZlIG1vcmUgdGhhbiBvbmVcbiAgdmlzdWFsaXphdGlvbiBlbWJlZGRlZCB3aXRoaW4gYSB3ZWJwYWdlLCBkdWUgdG8gbXVsdGlwbGUgbWF0Y2hlcyBpblxuICB0aGUgZ2xvYmFsIG5hbWVzcGFjZS5cblxuICBCeSBkb2luZyBteVZpei5kb21Sb290IC8gLmRvbVJvb3REMywgeW91J3JlIGd1YXJhbnRlZWQgdG8gc2VsZWN0IERPTSBlbGVtZW50c1xuICB3aXRoaW4gdGhlIGN1cnJlbnQgRXhlY3V0aW9uVmlzdWFsaXplciBvYmplY3RcblxuLSBhbHdheXMgdXNlIGdlbmVyYXRlSUQgYW5kIGdlbmVyYXRlSGVhcE9iaklEIHRvIGdlbmVyYXRlIHVuaXF1ZSBDU1NcbiAgSURzLCBvciBlbHNlIHRoaW5ncyB3aWxsIGJyZWFrIHdoZW4gbXVsdGlwbGUgRXhlY3V0aW9uVmlzdWFsaXplclxuICBpbnN0YW5jZXMgYXJlIG9uIGEgd2VicGFnZVxuXG4qL1xuX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbl9fd2VicGFja19yZXF1aXJlX18oMCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsgLy8gRE8gTk9UIFVQR1JBREUgQUJPVkUgMS4zLjEwIE9SIEVMU0UgQlJFQUtBR0UgV0lMTCBPQ0NVUlxuX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcbl9fd2VicGFja19yZXF1aXJlX18oMjgpOyAvLyBjb250YWlucyBzbGlnaHQgcGdib3ZpbmUgbW9kaWZpY2F0aW9uc1xuX193ZWJwYWNrX3JlcXVpcmVfXyg2KTsgLy8gZm9yICQuZG9UaW1lb3V0XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtcbnZhciBmb290ZXJfaHRtbF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbmV4cG9ydHMuU1ZHX0FSUk9XX1BPTFlHT04gPSAnMCwzIDEyLDMgMTIsMCAxOCw1IDEyLDEwIDEyLDcgMCw3JztcbnZhciBTVkdfQVJST1dfSEVJR0hUID0gMTA7IC8vIG11c3QgbWF0Y2ggaGVpZ2h0IG9mIFNWR19BUlJPV19QT0xZR09OXG4vKiBjb2xvcnMgLSBzZWUgcHl0dXRvci5jc3MgZm9yIG1vcmUgY29sb3JzICovXG5leHBvcnRzLmJyaWdodFJlZCA9ICcjZTkzZjM0JztcbnZhciBjb25uZWN0b3JCYXNlQ29sb3IgPSAnIzAwNTU4Myc7XG52YXIgY29ubmVjdG9ySGlnaGxpZ2h0Q29sb3IgPSBleHBvcnRzLmJyaWdodFJlZDtcbnZhciBjb25uZWN0b3JJbmFjdGl2ZUNvbG9yID0gJyNjY2NjY2MnO1xudmFyIGVycm9yQ29sb3IgPSBleHBvcnRzLmJyaWdodFJlZDtcbnZhciBicmVha3BvaW50Q29sb3IgPSBleHBvcnRzLmJyaWdodFJlZDtcbi8vIFVuaWNvZGUgYXJyb3cgdHlwZXM6ICdcXHUyMWQyJywgJ1xcdTIxZjAnLCAnXFx1MjkwNydcbmV4cG9ydHMuZGFya0Fycm93Q29sb3IgPSBleHBvcnRzLmJyaWdodFJlZDtcbmV4cG9ydHMubGlnaHRBcnJvd0NvbG9yID0gJyNjOWU2Y2EnO1xudmFyIGhlYXBQdHJTcmNSRSA9IC9fX2hlYXBfcG9pbnRlcl9zcmNfLztcbnZhciByaWdodHdhcmROdWRnZUhhY2sgPSB0cnVlOyAvLyBzdWdnZXN0ZWQgYnkgSm9obiBEZU5lcm8sIHRvZ2dsZSB3aXRoIGdsb2JhbFxuLy8gcmV0dXJucyBhIGxpc3Qgb2YgbGVuZ3RoIGEubGVuZ3RoICogYi5sZW5ndGggd2l0aCBlbGVtZW50cyBmcm9tIGJvdGhcbi8vIG1peGVkLiB0aGUgZWxlbWVudHMgb2YgYSBhbmQgYiBzaG91bGQgYmUgcHJpbWl0aXZlcywgYnV0IGlmIHRoZSBmaXJzdCBlbGVtZW50XG4vLyBpcyBhIGxpc3QsIGl0IGZsYXR0ZW5zIGl0LiBlLmcuLDpcbi8vICAgbXVsdGlwbHlMaXN0cyhbMSwgMiwgM10sIFs0LCA1XSkgLT4gW1sxLDRdLCBbMSw1XSwgWzIsNF0sIFsyLDVdLCBbMyw0XSwgWzMsNV1dXG5mdW5jdGlvbiBtdWx0aXBseUxpc3RzKGEsIGIpIHtcbiAgICB2YXIgcmV0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGVsdCA9IGFbaV07XG4gICAgICAgICAgICAvLyBmbGF0dGVuIGxpc3RcbiAgICAgICAgICAgIGlmICgkLmlzQXJyYXkoZWx0KSkge1xuICAgICAgICAgICAgICAgIHJldC5wdXNoKGVsdC5jb25jYXQoYltqXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0LnB1c2goW2VsdCwgYltqXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG4vLyBCRUdJTiB1dGlsaXRpZXMgZm9yIHNlbGVjdGl2ZWx5IGhpZGluZyB2YXJpYWJsZXNcbi8vIHVzZSBodG1sc3BlY2lhbGNoYXJzIHRvIGVzY2FwZSBjb250ZW50cyBiZWZvcmUgcHJpbnRpbmcgdG8gSFRNTCxcbi8vIHRoZW4gVU5ETyAmbmJzcDsgLT4gJyAnIHNpbmNlIHdlIHdhbnQgc3BhY2VzIHRvIG5pY2VseSBsaW5lLXdyYXBcbi8vIGluc3RlYWQgb2YgYmVpbmcgbm9uLWJyZWFraW5nXG5mdW5jdGlvbiB2YXJsaXN0VG9IdG1sKGxzdCkge1xuICAgIHJldHVybiBodG1sc3BlY2lhbGNoYXJzKGxzdC5qb2luKFwiLCBcIikpLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpO1xufVxuLy8gdGFrZSBhIHN0cmluZyBvZiBzb21ldGhpbmcgdG8gaGlkZSwgcmVwbGFjZSBuZXdsaW5lcyB3aXRoICcsJ1xuLy8gc28gdXNlcnMgY2FuIGNvbnZlbmllbnRseSB1c2UgbmV3bGluZXMgYXMgZGVsaW1pdGVycywgdGhlbiBzcGxpdFxuLy8gYnkgJywnLCBmaWx0ZXIgb3V0IGVtcHR5IGVudHJpZXMsIGFuZCByZXR1cm4gdHJpbW1lZCBvbmVzOlxuZnVuY3Rpb24gcHJvY2Vzc0hpZGVTdHJpbmcocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1xcbi9nLCAnLCcpXG4gICAgICAgIC5zcGxpdCgnLCcpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUudHJpbSgpLmxlbmd0aCA+IDA7IH0pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUudHJpbSgpOyB9KTtcbn1cbi8vIEVORCB1dGlsaXRpZXMgZm9yIHNlbGVjdGl2ZWx5IGhpZGluZyB2YXJpYWJsZXNcbnZhciBuZXdsaW5lQWxsUmVnZXggPSBuZXcgUmVnRXhwKCdcXG4nLCAnZycpO1xudmFyIGRvdWJsZVF1b3RlQWxsUmVnZXggPSBuZXcgUmVnRXhwKCdcXFwiJywgJ2cnKTtcbnZhciB0YWJBbGxSZWdleCA9IG5ldyBSZWdFeHAoXCJcXHRcIiwgJ2cnKTtcbi8vIHRoZSBtYWluIGV2ZW50IVxudmFyIEV4ZWN1dGlvblZpc3VhbGl6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLy8gQ29uc3RydWN0b3Igd2l0aCBhbiBldmVyLWdyb3dpbmcgZmVhdHVyZS1jcmVwcGVkIGxpc3Qgb2Ygb3B0aW9ucyA6KVxuICAgIC8vIGRvbVJvb3RJRCBpcyB0aGUgc3RyaW5nIElEIG9mIHRoZSByb290IGVsZW1lbnQgd2hlcmUgdG8gcmVuZGVyIHRoaXMgaW5zdGFuY2VcbiAgICAvL1xuICAgIC8vIGRhdCBpcyBkYXRhIHJldHVybmVkIGJ5IHRoZSBQeXRob24gVHV0b3IgYmFja2VuZCBjb25zaXN0aW5nIG9mIHR3byBmaWVsZHM6XG4gICAgLy8gICBjb2RlICAtIHN0cmluZyBvZiBleGVjdXRlZCBjb2RlXG4gICAgLy8gICB0cmFjZSAtIGEgZnVsbCBleGVjdXRpb24gdHJhY2VcbiAgICAvL1xuICAgIC8vIHBhcmFtcyBpcyBhbiBvYmplY3QgY29udGFpbmluZyBvcHRpb25hbCBwYXJhbWV0ZXJzLCBzdWNoIGFzOlxuICAgIC8vICAganVtcFRvRW5kIC0gaWYgbm9uLW51bGwsIGp1bXAgdG8gdGhlIHZlcnkgZW5kIG9mIGV4ZWN1dGlvbiBpZlxuICAgIC8vICAgICAgICAgICAgICAgdGhlcmUncyBubyBlcnJvciwgb3IgaWYgdGhlcmUncyBhbiBlcnJvciwganVtcCB0byB0aGVcbiAgICAvLyAgICAgICAgICAgICAgIEZJUlNUIEVOVFJZIHdpdGggYW4gZXJyb3JcbiAgICAvLyAgIHN0YXJ0aW5nSW5zdHJ1Y3Rpb24gLSB0aGUgKHplcm8taW5kZXhlZCkgZXhlY3V0aW9uIHBvaW50IHRvIGRpc3BsYXkgdXBvbiByZW5kZXJpbmdcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0aGlzIGlzIHNldCwgdGhlbiBpdCAqb3ZlcnJpZGVzKiBqdW1wVG9FbmRcbiAgICAvLyAgIGNvZGVEaXZIZWlnaHQgLSBtYXhpbXVtIGhlaWdodCBvZiAjcHlDb2RlT3V0cHV0RGl2IChpbiBpbnRlZ2VyIHBpeGVscylcbiAgICAvLyAgIGNvZGVEaXZXaWR0aCAgLSBtYXhpbXVtIHdpZHRoICBvZiAjcHlDb2RlT3V0cHV0RGl2IChpbiBpbnRlZ2VyIHBpeGVscylcbiAgICAvLyAgIGVkaXRDb2RlQmFzZVVSTCAtIHRoZSBiYXNlIFVSTCB0byB2aXNpdCB3aGVuIHRoZSB1c2VyIGNsaWNrcyAnRWRpdCBjb2RlJyAoaWYgbnVsbCwgdGhlbiAnRWRpdCBjb2RlJyBsaW5rIGhpZGRlbilcbiAgICAvLyAgIGVtYmVkZGVkTW9kZSAgICAgICAgIC0gc2hvcnRjdXQgZm9yIGNvZGVEaXZXaWR0aD1ERUZBVUxUX0VNQkVEREVEX0NPREVfRElWX1dJRFRILFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZURpdkhlaWdodD1ERUZBVUxUX0VNQkVEREVEX0NPREVfRElWX0hFSUdIVFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAoYW5kIGhpZGUgYSBidW5jaCBvZiBvdGhlciBzdHVmZiAmIGRvbid0IGFjdGl2YXRlIGtleWJvYXJkIHNob3J0Y3V0cyEpXG4gICAgLy8gICBkaXNhYmxlSGVhcE5lc3RpbmcgICAtIGlmIHRydWUsIHRoZW4gcmVuZGVyIGFsbCBoZWFwIG9iamVjdHMgYXQgdGhlIHRvcCBsZXZlbCAoaS5lLiwgbm8gbmVzdGVkIG9iamVjdHMpXG4gICAgLy8gICBhbHdheXNOZXN0VHlwZXMgICAgICAtIGlmIG5vbi1udWxsLCBhIGxpc3Qgb2YgdHlwZSBuYW1lcyB0byBBTFdBWVMgbmVzdCB3aXRoaW4gaGVhcCBvYmplY3RzXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIChzdXBlcnNlZGVzIGRpc2FibGVIZWFwTmVzdGluZywgZGVmYXVsdHMgdG8gREVGQVVMVF9BTFdBWVNfTkVTVF9UWVBFUylcbiAgICAvLyAgIGRyYXdQYXJlbnRQb2ludGVycyAgIC0gaWYgdHJ1ZSwgdGhlbiBkcmF3IGVudmlyb25tZW50IGRpYWdyYW0gcGFyZW50IHBvaW50ZXJzIGZvciBhbGwgZnJhbWVzXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIFdBUk5JTkc6IHRoZXJlIGFyZSBoYXJkLXRvLWRlYnVnIE1FTU9SWSBMRUFLUyBhc3NvY2lhdGVkIHdpdGggYWN0aXZhdGluZyB0aGlzIG9wdGlvblxuICAgIC8vICAgdGV4dHVhbE1lbW9yeUxhYmVscyAgLSByZW5kZXIgcmVmZXJlbmNlcyB1c2luZyB0ZXh0dWFsIG1lbW9yeSBsYWJlbHMgcmF0aGVyIHRoYW4gYXMganNQbHVtYiBhcnJvd3MuXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgaXMgZ29vZCBmb3Igc2xvdyBicm93c2VycyBvciB3aGVuIHVzZWQgd2l0aCBkaXNhYmxlSGVhcE5lc3RpbmdcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gcHJldmVudCBcImFycm93IG92ZXJsb2FkXCJcbiAgICAvLyAgIHVwZGF0ZU91dHB1dENhbGxiYWNrIC0gZnVuY3Rpb24gdG8gY2FsbCAod2l0aCAndGhpcycgYXMgcGFyYW1ldGVyKVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuZXZlciB0aGlzLnVwZGF0ZU91dHB1dCgpIGlzIGNhbGxlZFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAoQkVGT1JFIHJlbmRlcmluZyB0aGUgb3V0cHV0IGRpc3BsYXkpXG4gICAgLy8gICBoZWlnaHRDaGFuZ2VDYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGNhbGwgKHdpdGggJ3RoaXMnIGFzIHBhcmFtZXRlcilcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbmV2ZXIgdGhlIEhFSUdIVCBvZiAjZGF0YVZpeiBjaGFuZ2VzXG4gICAgLy8gICB2ZXJ0aWNhbFN0YWNrIC0gaWYgdHJ1ZSwgdGhlbiBzdGFjayBjb2RlIGRpc3BsYXkgT04gVE9QIG9mIHZpc3VhbGl6YXRpb25cbiAgICAvLyAgICAgICAgICAgICAgICAgICAoZWxzZSBwbGFjZSBzaWRlLWJ5LXNpZGUpXG4gICAgLy8gICB2aXN1YWxpemVySWRPdmVycmlkZSAtIG92ZXJyaWRlIHZpc3VhbGl6ZXIgSUQgaW5zdGVhZCBvZiBhdXRvLWFzc2lnbmluZyBpdFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAoQkUgQ0FSRUZVTCBBQk9VVCBOT1QgSEFWSU5HIERVUExJQ0FURSBJRHMgT04gVEhFIFNBTUUgUEFHRSxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIE9SIEVMU0UgQVJST1dTIEFORCBPVEhFUiBTVFVGRiBXSUxMIEdPIEhBWVdJUkUhKVxuICAgIC8vICAgZXhlY3V0ZUNvZGVXaXRoUmF3SW5wdXRGdW5jIC0gZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHlvdSB3YW50IHRvIHJlLWV4ZWN1dGUgdGhlIGdpdmVuIHByb2dyYW1cbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggc29tZSBuZXcgdXNlciBpbnB1dCAoc29tZXdoYXQgaGFja3khKVxuICAgIC8vICAgY29tcGFjdEZ1bmNMYWJlbHMgLSByZW5kZXIgZnVuY3Rpb25zIHdpdGggYSAnZnVuYycgcHJlZml4IGFuZCBubyB0eXBlIGxhYmVsXG4gICAgLy8gICBzaG93QWxsRnJhbWVMYWJlbHMgLSBkaXNwbGF5IGZyYW1lIGFuZCBwYXJlbnQgZnJhbWUgbGFiZWxzIGZvciBhbGwgZnVuY3Rpb25zIChkZWZhdWx0OiBmYWxzZSlcbiAgICAvLyAgIGhpZGVDb2RlIC0gaGlkZSB0aGUgY29kZSBkaXNwbGF5IGFuZCBzaG93IG9ubHkgdGhlIGRhdGEgc3RydWN0dXJlIHZpelxuICAgIC8vICAgbGFuZyAtIHRvIHJlbmRlciBsYWJlbHMgaW4gYSBzdHlsZSBhcHByb3ByaWF0ZSBmb3Igb3RoZXIgbGFuZ3VhZ2VzLFxuICAgIC8vICAgICAgICAgIGFuZCB0byBkaXNwbGF5IHRoZSBwcm9wZXIgbGFuZ3VhZ2UgaW4gbGFuZ0Rpc3BsYXlEaXY6XG4gICAgLy8gICAgICAgICAgJ3B5MicgZm9yIFB5dGhvbiAyLCAncHkzJyBmb3IgUHl0aG9uIDMsICdqcycgZm9yIEphdmFTY3JpcHQsICdqYXZhJyBmb3IgSmF2YSxcbiAgICAvLyAgICAgICAgICAndHMnIGZvciBUeXBlU2NyaXB0LCAncnVieScgZm9yIFJ1YnksICdjJyBmb3IgQywgJ2NwcCcgZm9yIEMrK1xuICAgIC8vICAgICAgICAgICdweTNhbmFjb25kYScgZm9yIFB5dGhvbiAzIHdpdGggQW5hY29uZGFcbiAgICAvLyAgICAgICAgICBbZGVmYXVsdCBpcyBQeXRob24tc3R5bGUgbGFiZWxzXVxuICAgIGZ1bmN0aW9uIEV4ZWN1dGlvblZpc3VhbGl6ZXIoZG9tUm9vdElELCBkYXQsIHBhcmFtcykge1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9O1xuICAgICAgICAvLyBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICAgIC8vICAgJ3RleHQnIC0gdGhlIHRleHQgb2YgdGhlIGxpbmUgb2YgY29kZVxuICAgICAgICAvLyAgICdsaW5lTnVtYmVyJyAtIG9uZS1pbmRleGVkIChhbHdheXMgdGhlIGFycmF5IGluZGV4ICsgMSlcbiAgICAgICAgLy8gICAnZXhlY3V0aW9uUG9pbnRzJyAtIGFuIG9yZGVyZWQgYXJyYXkgb2YgemVyby1pbmRleGVkIGV4ZWN1dGlvbiBwb2ludHMgd2hlcmUgdGhpcyBsaW5lIHdhcyBleGVjdXRlZFxuICAgICAgICAvLyAgICdicmVha3BvaW50SGVyZScgLSBoYXMgYSBicmVha3BvaW50IGJlZW4gc2V0IGhlcmU/XG4gICAgICAgIHRoaXMuY29kZU91dHB1dExpbmVzID0gW107XG4gICAgICAgIHRoaXMuY3VySW5zdHIgPSAwO1xuICAgICAgICAvLyBBUEkgZm9yIGFkZGluZyBhIGhvb2ssIGNyZWF0ZWQgYnkgRGF2aWQgUHJpdGNoYXJkXG4gICAgICAgIC8vIGtleXMsIGhvb2sgbmFtZXM7IHZhbHVlcywgbGlzdCBvZiBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5weXR1dG9yX2hvb2tzID0ge307XG4gICAgICAgIC8vIHRydWUgaWZmIHRyYWNlIGVuZGVkIHByZW1hdHVyZWx5IHNpbmNlIG1heGltdW0gaW5zdHJ1Y3Rpb24gbGltaXQgaGFzXG4gICAgICAgIC8vIGJlZW4gcmVhY2hlZFxuICAgICAgICB0aGlzLmluc3RyTGltaXRSZWFjaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUmVuZGVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5icmVha3BvaW50cyA9IGQzLm1hcCgpOyAvLyBzZXQgb2YgZXhlY3V0aW9uIHBvaW50cyB0byBzZXQgYXMgYnJlYWtwb2ludHNcbiAgICAgICAgdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QgPSBbXTsgLy8gc29ydGVkIGFuZCBzeW5jZWQgd2l0aCBicmVha3BvaW50c1xuICAgICAgICB0aGlzLmN1cklucHV0Q29kZSA9IGRhdC5jb2RlLnJ0cmltKCk7IC8vIGtpbGwgdHJhaWxpbmcgc3BhY2VzXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICB0aGlzLmN1clRyYWNlID0gZGF0LnRyYWNlO1xuICAgICAgICAvLyBwb3N0cHJvY2VzcyB0aGUgdHJhY2VcbiAgICAgICAgaWYgKHRoaXMuY3VyVHJhY2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGxhc3RFbnRyeSA9IHRoaXMuY3VyVHJhY2VbdGhpcy5jdXJUcmFjZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBmaW5hbCBlbnRyeSBpcyByYXdfaW5wdXQgb3IgbW91c2VfaW5wdXQsIHRoZW4gdHJpbSBpdCBmcm9tIHRoZSB0cmFjZSBhbmRcbiAgICAgICAgICAgIC8vIHNldCBhIGZsYWcgdG8gcHJvbXB0IGZvciB1c2VyIGlucHV0IHdoZW4gZXhlY3V0aW9uIGFkdmFuY2VzIHRvIHRoZVxuICAgICAgICAgICAgLy8gZW5kIG9mIHRoZSB0cmFjZVxuICAgICAgICAgICAgaWYgKGxhc3RFbnRyeS5ldmVudCA9PT0gJ3Jhd19pbnB1dCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb21wdEZvclVzZXJJbnB1dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VySW5wdXRQcm9tcHRTdHIgPSBodG1sc3BlY2lhbGNoYXJzKGxhc3RFbnRyeS5wcm9tcHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyVHJhY2UucG9wKCk7IC8vIGtpbGwgbGFzdCBlbnRyeSBzbyB0aGF0IGl0IGRvZXNuJ3QgZ2V0IGRpc3BsYXllZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFzdEVudHJ5LmV2ZW50ID09PSAnbW91c2VfaW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9tcHRGb3JNb3VzZUlucHV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJJbnB1dFByb21wdFN0ciA9IGh0bWxzcGVjaWFsY2hhcnMobGFzdEVudHJ5LnByb21wdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJUcmFjZS5wb3AoKTsgLy8ga2lsbCBsYXN0IGVudHJ5IHNvIHRoYXQgaXQgZG9lc24ndCBnZXQgZGlzcGxheWVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0RW50cnkuZXZlbnQgPT09ICdpbnN0cnVjdGlvbl9saW1pdF9yZWFjaGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJMaW1pdFJlYWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJMaW1pdFJlYWNoZWRXYXJuaW5nTXNnID0gbGFzdEVudHJ5LmV4Y2VwdGlvbl9tc2c7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJUcmFjZS5wb3AoKTsgLy8gcG9zdHByb2Nlc3MgdG8ga2lsbCBsYXN0IGVudHJ5XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgeW91IGhhdmUgbXVsdGlwbGUgRXhlY3V0aW9uVmlzdWFsaXplciBvbiBhIHBhZ2UsIHRoZWlyIElEc1xuICAgICAgICAvLyBiZXR0ZXIgYmUgdW5pcXVlIG9yIGVsc2UgeW91J2xsIHJ1biBpbnRvIHJlbmRlcmluZyBwcm9ibGVtc1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMudmlzdWFsaXplcklkT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsaXplcklEID0gdGhpcy5wYXJhbXMudmlzdWFsaXplcklkT3ZlcnJpZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbGl6ZXJJRCA9IEV4ZWN1dGlvblZpc3VhbGl6ZXIuY3VyVmlzdWFsaXplcklEO1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMudmlzdWFsaXplcklEID4gMCk7XG4gICAgICAgICAgICBFeGVjdXRpb25WaXN1YWxpemVyLmN1clZpc3VhbGl6ZXJJRCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNhbml0aXplIHRvIGF2b2lkIG5hc3R5ICd1bmRlZmluZWQnIHN0YXRlc1xuICAgICAgICB0aGlzLnBhcmFtcy5kaXNhYmxlSGVhcE5lc3RpbmcgPSAodGhpcy5wYXJhbXMuZGlzYWJsZUhlYXBOZXN0aW5nID09PSB0cnVlKTtcbiAgICAgICAgdGhpcy5wYXJhbXMuZHJhd1BhcmVudFBvaW50ZXJzID0gKHRoaXMucGFyYW1zLmRyYXdQYXJlbnRQb2ludGVycyA9PT0gdHJ1ZSk7XG4gICAgICAgIHRoaXMucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMgPSAodGhpcy5wYXJhbXMudGV4dHVhbE1lbW9yeUxhYmVscyA9PT0gdHJ1ZSk7XG4gICAgICAgIHRoaXMucGFyYW1zLnNob3dBbGxGcmFtZUxhYmVscyA9ICh0aGlzLnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMgPT09IHRydWUpO1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMuYWx3YXlzTmVzdFR5cGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyYW1zLmFsd2F5c05lc3RUeXBlcyA9IEV4ZWN1dGlvblZpc3VhbGl6ZXIuREVGQVVMVF9BTFdBWVNfTkVTVF9UWVBFUztcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQoJC5pc0FycmF5KHRoaXMucGFyYW1zLmFsd2F5c05lc3RUeXBlcykpO1xuICAgICAgICAvLyBpbnNlcnQgRXhlY3V0aW9uVmlzdWFsaXplciBpbnRvIGRvbVJvb3RJRCBpbiB0aGUgRE9NXG4gICAgICAgIHZhciB0bXBSb290ID0gJCgnIycgKyBkb21Sb290SUQpO1xuICAgICAgICB2YXIgdG1wUm9vdEQzID0gZDMuc2VsZWN0KCcjJyArIGRvbVJvb3RJRCk7XG4gICAgICAgIHRtcFJvb3QuaHRtbCgnPGRpdiBjbGFzcz1cIkV4ZWN1dGlvblZpc3VhbGl6ZXJcIj48L2Rpdj4nKTtcbiAgICAgICAgLy8gdGhlIHJvb3QgZWxlbWVudHMgZm9yIGpRdWVyeSBhbmQgRDMgc2VsZWN0aW9ucywgcmVzcGVjdGl2ZWx5LlxuICAgICAgICAvLyBBTFdBWVMgdXNlIHRoZXNlIGFuZCBuZXZlciB1c2UgcmF3ICQoX18pIG9yIGQzLnNlbGVjdChfXylcbiAgICAgICAgdGhpcy5kb21Sb290ID0gdG1wUm9vdC5maW5kKCdkaXYuRXhlY3V0aW9uVmlzdWFsaXplcicpO1xuICAgICAgICB0aGlzLmRvbVJvb3REMyA9IHRtcFJvb3REMy5zZWxlY3QoJ2Rpdi5FeGVjdXRpb25WaXN1YWxpemVyJyk7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5sYW5nID09PSAnamF2YScpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVKYXZhRnJvbnRlbmQoKTsgLy8gb2hoaGggeWVhaCEgZG8gdGhpcyBiZWZvcmUgaW5pdGlhbGl6aW5nIGNvZGVPdXRwdXRMaW5lcyAodWdoIG9yZGVyIGRlcGVuZGVuY3kpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy5jdXJJbnB1dENvZGUuc3BsaXQoJ1xcbicpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29kID0gbGluZXNbaV07XG4gICAgICAgICAgICB2YXIgbiA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBjb2QsXG4gICAgICAgICAgICAgICAgbGluZU51bWJlcjogaSArIDEsXG4gICAgICAgICAgICAgICAgZXhlY3V0aW9uUG9pbnRzOiBbXSxcbiAgICAgICAgICAgICAgICBicmVha3BvaW50SGVyZTogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5lYWNoKHRoaXMuY3VyVHJhY2UsIGZ1bmN0aW9uIChqLCBlbHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWx0LmxpbmUgPT09IG4ubGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBuLmV4ZWN1dGlvblBvaW50cy5wdXNoKGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBjb21tZW50IGNvbnRhaW5pbmcgJ2JyZWFrcG9pbnQnIGFuZCB0aGlzIGxpbmUgd2FzIGFjdHVhbGx5IGV4ZWN1dGVkLFxuICAgICAgICAgICAgLy8gdGhlbiBzZXQgYSBicmVha3BvaW50IG9uIHRoaXMgbGluZVxuICAgICAgICAgICAgdmFyIGJyZWFrcG9pbnRJbkNvbW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0b2tzID0gY29kLnNwbGl0KCcjJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMSAvKiBzdGFydCBhdCBpbmRleCAxLCBub3QgMCAqLzsgaiA8IHRva3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rc1tqXS5pbmRleE9mKCdicmVha3BvaW50JykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludEluQ29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJyZWFrcG9pbnRJbkNvbW1lbnQgJiYgbi5leGVjdXRpb25Qb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG4uYnJlYWtwb2ludEhlcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9CcmVha3BvaW50cyhuLmV4ZWN1dGlvblBvaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvZGVPdXRwdXRMaW5lcy5wdXNoKG4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJ5X2hvb2soXCJlbmRfY29uc3RydWN0b3JcIiwgeyBteVZpejogdGhpcyB9KTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTsgLy8gZ28gZm9yIGl0IVxuICAgIH1cbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5vYmpJbkFsd2F5c05lc3RUeXBlcyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKCFvYmopXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGFzc2VydCgkLmlzQXJyYXkob2JqKSk7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5hbHdheXNOZXN0VHlwZXMuaW5kZXhPZihvYmpbMF0pID49IDApIHtcbiAgICAgICAgICAgIC8vIGlzIHRoZSB0eXBlIG5hbWUgaW4gYWx3YXlzTmVzdFR5cGVzP1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JqLmxlbmd0aCA+PSAyICYmXG4gICAgICAgICAgICAob2JqWzBdID09ICdJTlNUQU5DRScgfHwgb2JqWzBdID09ICdJTlNUQU5DRV9QUFJJTlQnKSAmJlxuICAgICAgICAgICAgKHRoaXMucGFyYW1zLmFsd2F5c05lc3RUeXBlcy5pbmRleE9mKG9ialsxXSkgPj0gMCkpIHtcbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpcyB0aGlzIGFuIElOU1RBTkNFIHdpdGggdGhlIHR5cGUgbmFtZSAob2JqWzFdKSBpbiBhbHdheXNOZXN0VHlwZXM/XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gc2hvdWxkIHRoaXMgb2JqZWN0IGJlIG5lc3RlZCB3aXRoaW4gYW5vdGhlciBvbmU/XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUuc2hvdWxkTmVzdE9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5wYXJhbXMuZGlzYWJsZUhlYXBOZXN0aW5nIHx8IHRoaXMub2JqSW5BbHdheXNOZXN0VHlwZXMob2JqKSk7XG4gICAgfTtcbiAgICAvKiBBUEkgZm9yIGFkZGluZyBhIGhvb2ssIGNyZWF0ZWQgYnkgRGF2aWQgUHJpdGNoYXJkXG4gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2RhdmVhZ3BcbiAgXG4gICAgICBbdGhpcyBkb2N1bWVudGF0aW9uIGlzIGEgYml0IGRlcHJlY2F0ZWQgc2luY2UgUGhpbGlwIG1hZGUgdHJ5X2hvb2sgYVxuICAgICAgIG1ldGhvZCBvZiBFeGVjdXRpb25WaXN1YWxpemVyLCBidXQgdGhlIGdlbmVyYWwgaWRlYXMgcmVtYWluXVxuICBcbiAgICAgQW4gZXh0ZXJuYWwgdXNlciBzaG91bGQgY2FsbFxuICAgICAgIGFkZF9weXR1dG9yX2hvb2soXCJob29rX25hbWVfaGVyZVwiLCBmdW5jdGlvbihhcmdzKSB7Li4ufSlcbiAgICAgYXJncyB3aWxsIGJlIGEgamF2YXNjcmlwdCBvYmplY3Qgd2l0aCBzZXZlcmFsIG5hbWVkIHByb3BlcnRpZXM7XG4gICAgIHRoaXMgaXMgbWVhbnQgdG8gYmUgc2ltaWxhciB0byBQeXRob24ncyBrZXl3b3JkIGFyZ3VtZW50cy5cbiAgXG4gICAgIFRoZSBob29rZWQgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhbiBhcnJheSB3aG9zZSBmaXJzdCBlbGVtZW50IGlzIGEgYm9vbGVhbjpcbiAgICAgdHJ1ZSBpZiBpdCBjb21wbGV0ZWx5IGhhbmRsZWQgdGhlIHNpdHVhdGlvbiAobm8gZnVydGhlciBob29rc1xuICAgICBub3IgdGhlIGJhc2UgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCk7IGZhbHNlIG90aGVyd2lzZSAod2Fzbid0IGhhbmRsZWQpLlxuICAgICBJZiB0aGUgaG9vayBzZW1hbnRpY2FsbHkgcmVwcmVzZW50cyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBzb21ldGhpbmcsXG4gICAgIHRoZSBzZWNvbmQgdmFsdWUgb2YgdGhlIHJldHVybmVkIGFycmF5IGlzIHRoYXQgc2VtYW50aWMgcmV0dXJuIHZhbHVlLlxuICBcbiAgICAgRS5nLiBmb3IgdGhlIEphdmEgdmlzdWFsaXplciBhIHNpbXBsaWZpZWQgdmVyc2lvbiBvZiBhIGhvb2sgd2UgdXNlIGlzOlxuICBcbiAgICBhZGRfcHl0dXRvcl9ob29rKFxuICAgICAgXCJpc1ByaW1pdGl2ZVR5cGVcIixcbiAgICAgIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIG9iaiA9IGFyZ3Mub2JqOyAvLyB1bnBhY2tcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9ialswXSA9PSBcIkNIQVItTElURVJBTFwiKVxuICAgICAgICAgIHJldHVybiBbdHJ1ZSwgdHJ1ZV07IC8vIHllcyB3ZSBoYW5kbGVkIGl0LCB5ZXMgaXQncyBwcmltaXRpdmVcbiAgICAgICAgcmV0dXJuIFtmYWxzZV07IC8vIGRpZG4ndCBoYW5kbGUgaXQsIGxldCBzb21lb25lIGVsc2VcbiAgICAgIH0pO1xuICBcbiAgICAgSG9vayBjYWxsYmFja3MgY2FuIHJldHVybiBmYWxzZSBvciB1bmRlZmluZWQgKGkuZS4gbm8gcmV0dXJuXG4gICAgIHZhbHVlKSBpbiBsaWV1IG9mIFtmYWxzZV0uXG4gIFxuICAgICBOQjogSWYgbXVsdGlwbGUgZnVuY3Rpb25zIGFyZSBhZGRlZCB0byBhIGhvb2ssIHRoZSBvbGRlc3QgZ29lcyBmaXJzdC4gKi9cbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5hZGRfcHl0dXRvcl9ob29rID0gZnVuY3Rpb24gKGhvb2tfbmFtZSwgZnVuYykge1xuICAgICAgICBpZiAodGhpcy5weXR1dG9yX2hvb2tzW2hvb2tfbmFtZV0pXG4gICAgICAgICAgICB0aGlzLnB5dHV0b3JfaG9va3NbaG9va19uYW1lXS5wdXNoKGZ1bmMpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnB5dHV0b3JfaG9va3NbaG9va19uYW1lXSA9IFtmdW5jXTtcbiAgICB9O1xuICAgIC8qICBbdGhpcyBkb2N1bWVudGF0aW9uIGlzIGEgYml0IGRlcHJlY2F0ZWQgc2luY2UgUGhpbGlwIG1hZGUgdHJ5X2hvb2sgYVxuICAgICAgICAgbWV0aG9kIG9mIEV4ZWN1dGlvblZpc3VhbGl6ZXIsIGJ1dCB0aGUgZ2VuZXJhbCBpZGVhcyByZW1haW5dXG4gIFxuICAgIHRyeV9ob29rKGhvb2tfbmFtZSwgYXJncyk6IGhvdyB0aGUgaW50ZXJuYWwgY29kZWJhc2UgaW52b2tlcyBhIGhvb2suXG4gIFxuICAgIGFyZ3Mgd2lsbCBiZSBhIGphdmFzY3JpcHQgb2JqZWN0IHdpdGggc2V2ZXJhbCBuYW1lZCBwcm9wZXJ0aWVzO1xuICAgIHRoaXMgaXMgbWVhbnQgdG8gYmUgc2ltaWxhciB0byBQeXRob24ncyBrZXl3b3JkIGFyZ3VtZW50cy4gRS5nLixcbiAgXG4gICAgZnVuY3Rpb24gaXNQcmltaXRpdmVUeXBlKG9iaikge1xuICAgICAgdmFyIGhvb2tfcmVzdWx0ID0gdHJ5X2hvb2soXCJpc1ByaW1pdGl2ZVR5cGVcIiwge29iajpvYmp9KTtcbiAgICAgIGlmIChob29rX3Jlc3VsdFswXSkgcmV0dXJuIGhvb2tfcmVzdWx0WzFdO1xuICAgICAgLy8gZ28gb24gYXMgbm9ybWFsIGlmIHRoZSBob29rIGRpZG4ndCBoYW5kbGUgaXRcbiAgXG4gICAgQWx0aG91Z2ggYWRkX3B5dHV0b3JfaG9vayBhbGxvd3MgdGhlIGhvb2tlZCBmdW5jdGlvbiB0b1xuICAgIHJldHVybiBmYWxzZSBvciB1bmRlZmluZWQsIHRyeV9ob29rIHdpbGwgYWx3YXlzIHJldHVyblxuICAgIHNvbWV0aGluZyB3aXRoIHRoZSBzdHJpY3QgZm9ybWF0IFtmYWxzZV0sIFt0cnVlXSBvciBbdHJ1ZSwgLi4uXS4gKi9cbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS50cnlfaG9vayA9IGZ1bmN0aW9uIChob29rX25hbWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMucHl0dXRvcl9ob29rc1tob29rX25hbWVdKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHl0dXRvcl9ob29rc1tob29rX25hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gYXBwbHkgdy9vIFwidGhpc1wiLCBhbmQgcGFjayBzb2xlIGFyZyBpbnRvIGFycmF5IGFzIHJlcXVpcmVkIGJ5IGFwcGx5XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZWRfYW5kX3Jlc3VsdCA9IHRoaXMucHl0dXRvcl9ob29rc1tob29rX25hbWVdW2ldLmFwcGx5KG51bGwsIFthcmdzXSk7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZWRfYW5kX3Jlc3VsdCAmJiBoYW5kbGVkX2FuZF9yZXN1bHRbMF0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVkX2FuZF9yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmYWxzZV07XG4gICAgfTtcbiAgICAvLyBjcmVhdGUgYSB1bmlxdWUgSUQsIHdoaWNoIGlzIG9mdGVuIG5lY2Vzc2FyeSBzbyB0aGF0IGpzUGx1bWIgZG9lc24ndCBnZXQgY29uZnVzZWRcbiAgICAvLyBkdWUgdG8gbXVsdGlwbGUgRXhlY3V0aW9uVmlzdWFsaXplciBpbnN0YW5jZXMgYmVpbmcgZGlzcGxheWVkIHNpbXVsdGFuZW91c2x5XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUuZ2VuZXJhdGVJRCA9IGZ1bmN0aW9uIChvcmlnaW5hbF9pZCkge1xuICAgICAgICAvLyAoaXQncyBzYWZlciB0byBzdGFydCBuYW1lcyB3aXRoIGEgbGV0dGVyIHJhdGhlciB0aGFuIGEgbnVtYmVyKVxuICAgICAgICByZXR1cm4gJ3YnICsgdGhpcy52aXN1YWxpemVySUQgKyAnX18nICsgb3JpZ2luYWxfaWQ7XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmhhc1JlbmRlcmVkKSB7XG4gICAgICAgICAgICBhbGVydCgnRVJST1I6IFlvdSBzaG91bGQgb25seSBjYWxsIHJlbmRlcigpIE9OQ0Ugb24gYW4gRXhlY3V0aW9uVmlzdWFsaXplciBvYmplY3QuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy52ZXJ0aWNhbFN0YWNrKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuaHRtbCgnPHRhYmxlIGJvcmRlcj1cIjBcIiBjbGFzcz1cInZpc3VhbGl6ZXJcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBjbGFzcz1cInZpekxheW91dFRkXCIgaWQ9XCJ2aXpMYXlvdXRUZEZpcnN0XCJcIj48L3RkPjwvdHI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9XCJ2aXpMYXlvdXRUZFwiIGlkPVwidml6TGF5b3V0VGRTZWNvbmRcIj48L3RkPjwvdHI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290Lmh0bWwoJzx0YWJsZSBib3JkZXI9XCIwXCIgY2xhc3M9XCJ2aXN1YWxpemVyXCI+PHRyPlxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ2aXpMYXlvdXRUZFwiIGlkPVwidml6TGF5b3V0VGRGaXJzdFwiPjwvdGQ+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInZpekxheW91dFRkXCIgaWQ9XCJ2aXpMYXlvdXRUZFNlY29uZFwiPjwvdGQ+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPjwvdGFibGU+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIGEgY29udGFpbmVyIGZvciBhIHJlc2l6YWJsZSBzbGlkZXIgdG8gZW5jb21wYXNzXG4gICAgICAgIC8vIGJvdGggQ29kZURpc3BsYXkgYW5kIE5hdmlnYXRpb25Db250cm9sbGVyXG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjdml6TGF5b3V0VGRGaXJzdCcpLmFwcGVuZCgnPGRpdiBpZD1cImNvZEFuZE5hdlwiIHN0eWxlPVwid2lkdGg6IDU1MHB4O1wiLz4nKTtcbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLmRvbVJvb3QuZmluZCgnI3ZpekxheW91dFRkRmlyc3QgI2NvZEFuZE5hdicpO1xuICAgICAgICB2YXIgYmFzZUQzID0gdGhpcy5kb21Sb290RDMuc2VsZWN0KCcjdml6TGF5b3V0VGRGaXJzdCAjY29kQW5kTmF2Jyk7XG4gICAgICAgIHRoaXMuY29kRGlzcGxheSA9IG5ldyBDb2RlRGlzcGxheSh0aGlzLCBiYXNlLCBiYXNlRDMsIHRoaXMuY3VySW5wdXRDb2RlLCB0aGlzLnBhcmFtcy5sYW5nLCB0aGlzLnBhcmFtcy5lZGl0Q29kZUJhc2VVUkwpO1xuICAgICAgICB0aGlzLm5hdkNvbnRyb2xzID0gbmV3IE5hdmlnYXRpb25Db250cm9sbGVyKHRoaXMsIGJhc2UsIGJhc2VEMywgdGhpcy5jdXJUcmFjZS5sZW5ndGgpO1xuICAgICAgICBpZiAodGhpcy5wYXJhbXMuZW1iZWRkZWRNb2RlKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBvdmVycmlkZSBpZiB0aGV5J3ZlIGFscmVhZHkgYmVlbiBzZXQhXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuY29kZURpdldpZHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5jb2RlRGl2V2lkdGggPSBFeGVjdXRpb25WaXN1YWxpemVyLkRFRkFVTFRfRU1CRURERURfQ09ERV9ESVZfV0lEVEg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuY29kZURpdkhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuY29kZURpdkhlaWdodCA9IEV4ZWN1dGlvblZpc3VhbGl6ZXIuREVGQVVMVF9FTUJFRERFRF9DT0RFX0RJVl9IRUlHSFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgYW4gZXh0cmEgbGFiZWwgdG8gbGluayBiYWNrIHRvIHRoZSBtYWluIHNpdGUsIHNvIHRoYXQgdmlld2Vyc1xuICAgICAgICAgICAgLy8gb24gdGhlIGVtYmVkZGVkIHBhZ2Uga25vdyB0aGF0IHRoZXkncmUgc2VlaW5nIGFuIE9QVCB2aXN1YWxpemF0aW9uXG4gICAgICAgICAgICBiYXNlLmZpbmQoJyNjcmVkaXRzUGFuZScpLmh0bWwoJzxkaXYgc3R5bGU9XCJmb250LXNpemU6IDhwdDsgbWFyZ2luLXRvcDogNXB4OyBtYXJnaW4tYm90dG9tOiA1cHg7XCI+PGEgaHJlZj1cImh0dHA6Ly9weXRob250dXRvci5jb20vXCIgdGFyZ2V0PVwiX2JsYW5rXCIgc3R5bGU9XCJjb2xvcjogIzNENThBMjtcIj5QeXRob24gVHV0b3I8L2E+IGJ5IDxhIGhyZWY9XCJodHRwOi8vcGdib3ZpbmUubmV0L1wiIHRhcmdldD1cIl9ibGFua1wiIHN0eWxlPVwiY29sb3I6ICMzRDU4QTI7XCI+UGhpbGlwIEd1bzwvYT48L2Rpdj4nKTtcbiAgICAgICAgICAgIGJhc2UuZmluZCgnI2NvZGVGb290ZXJEb2NzJykuaGlkZSgpOyAvLyBjdXQgb3V0IGV4dHJhbmVvdXMgZG9jc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdCBlbm91Z2ggcm9vbSBmb3IgdGhlc2UgZXh0cmEgYnV0dG9ucyAuLi5cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvZGVEaXZXaWR0aCAmJlxuICAgICAgICAgICAgdGhpcy5wYXJhbXMuY29kZURpdldpZHRoIDwgNDcwKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2ptcEZpcnN0SW5zdHInKS5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2ptcExhc3RJbnN0cicpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJhbXMuY29kZURpdldpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2NvZEFuZE5hdicpLndpZHRoKHRoaXMucGFyYW1zLmNvZGVEaXZXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmNvZGVEaXZIZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcHlDb2RlT3V0cHV0RGl2JylcbiAgICAgICAgICAgICAgICAuY3NzKCdtYXgtaGVpZ2h0JywgdGhpcy5wYXJhbXMuY29kZURpdkhlaWdodCArICdweCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVuYWJsZSBsZWZ0LXJpZ2h0IGRyYWdnYWJsZSBwYW5lIHJlc2l6ZXIgKG9yaWdpbmFsbHkgZnJvbSBEYXZpZCBQcml0Y2hhcmQpXG4gICAgICAgIGJhc2UucmVzaXphYmxlKHtcbiAgICAgICAgICAgIGhhbmRsZXM6IFwiZVwiLFxuICAgICAgICAgICAgbWluV2lkdGg6IDEwMCxcbiAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRvbVJvb3QuZmluZChcIiNjb2RlRGlzcGxheURpdlwiKS5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpOyAvLyByZWRldGVybWluZSBoZWlnaHQgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgX3RoaXMubmF2Q29udHJvbHMucmVuZGVyU2xpZGVyQnJlYWtwb2ludHMoX3RoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0KTsgLy8gdXBkYXRlIGJyZWFrcG9pbnQgZGlzcGxheSBhY2NvcmRpbmdseSBvbiByZXNpemVcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGFyYW1zLnVwZGF0ZU91dHB1dENhbGxiYWNrKSAvLyByZXBvcnQgc2l6ZSBjaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucGFyYW1zLnVwZGF0ZU91dHB1dENhbGxiYWNrKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub3V0cHV0Qm94ID0gbmV3IFByb2dyYW1PdXRwdXRCb3godGhpcywgdGhpcy5kb21Sb290LmZpbmQoJyN2aXpMYXlvdXRUZFNlY29uZCcpLCB0aGlzLnBhcmFtcy5lbWJlZGRlZE1vZGUgPyAnNDVweCcgOiBudWxsKTtcbiAgICAgICAgdGhpcy5kYXRhVml6ID0gbmV3IERhdGFWaXN1YWxpemVyKHRoaXMsIHRoaXMuZG9tUm9vdC5maW5kKCcjdml6TGF5b3V0VGRTZWNvbmQnKSwgdGhpcy5kb21Sb290RDMuc2VsZWN0KCcjdml6TGF5b3V0VGRTZWNvbmQnKSk7XG4gICAgICAgIG15Vml6Lm5hdkNvbnRyb2xzLnNob3dFcnJvcih0aGlzLmluc3RyTGltaXRSZWFjaGVkV2FybmluZ01zZyk7XG4gICAgICAgIG15Vml6Lm5hdkNvbnRyb2xzLnNldHVwU2xpZGVyKHRoaXMuY3VyVHJhY2UubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy5qdW1wVG9FbmQgPSBmYWxzZTsgLy8gb3ZlcnJpZGUhIG1ha2Ugc3VyZSB0byBoYW5kbGUgRklSU1RcbiAgICAgICAgICAgIC8vIHdlaXJkIHNwZWNpYWwgY2FzZSBmb3Igc29tZXRoaW5nIGxpa2U6XG4gICAgICAgICAgICAvLyBlPXJhd19pbnB1dChyYXdfaW5wdXQoXCJFbnRlciBzb21ldGhpbmc6XCIpKVxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnN0YXJ0aW5nSW5zdHJ1Y3Rpb24gPT0gdGhpcy5jdXJUcmFjZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmYWlsLXNvZnQgd2l0aCBvdXQtb2YtYm91bmRzIHN0YXJ0aW5nSW5zdHJ1Y3Rpb24gdmFsdWVzOlxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLnN0YXJ0aW5nSW5zdHJ1Y3Rpb24gPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbiA+PSB0aGlzLmN1clRyYWNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnN0YXJ0aW5nSW5zdHJ1Y3Rpb24gPSB0aGlzLmN1clRyYWNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NlcnQoMCA8PSB0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuc3RhcnRpbmdJbnN0cnVjdGlvbiA8IHRoaXMuY3VyVHJhY2UubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuY3VySW5zdHIgPSB0aGlzLnBhcmFtcy5zdGFydGluZ0luc3RydWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5qdW1wVG9FbmQpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEVycm9yU3RlcCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmN1clRyYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmN1clRyYWNlW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlLmV2ZW50ID09ICdleGNlcHRpb24nIHx8IGUuZXZlbnQgPT0gJ3VuY2F1Z2h0X2V4Y2VwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RFcnJvclN0ZXAgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgdG8gZmlyc3QgZXJyb3Igc3RlcCBpZiByZWxldmFudCBzaW5jZSB0aGF0J3MgbW9yZSBpbmZvcm1hdGl2ZVxuICAgICAgICAgICAgLy8gdGhhbiBzaW1wbHkganVtcGluZyB0byB0aGUgdmVyeSBlbmRcbiAgICAgICAgICAgIGlmIChmaXJzdEVycm9yU3RlcCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJJbnN0ciA9IGZpcnN0RXJyb3JTdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJJbnN0ciA9IHRoaXMuY3VyVHJhY2UubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wYXJhbXMuaGlkZUNvZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjdml6TGF5b3V0VGRGaXJzdCcpLmhpZGUoKTsgLy8gZ2lnYW50aWMgaGFjayFcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFWaXoucHJlY29tcHV0ZUN1clRyYWNlTGF5b3V0cygpO1xuICAgICAgICBpZiAoIXRoaXMucGFyYW1zLmhpZGVDb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmNvZERpc3BsYXkucmVuZGVyUHlDb2RlT3V0cHV0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVPdXRwdXQoKTtcbiAgICAgICAgdGhpcy5yZWRyYXdDb25uZWN0b3JzKCk7IC8vIGRvIHRoaXMgYXQgdGhlIGVuZFxuICAgICAgICB0aGlzLmhhc1JlbmRlcmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50cnlfaG9vayhcImVuZF9yZW5kZXJcIiwgeyBteVZpejogdGhpcyB9KTtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLl9nZXRTb3J0ZWRCcmVha3BvaW50c0xpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXQgPSBbXTtcbiAgICAgICAgdGhpcy5icmVha3BvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgICByZXQucHVzaChOdW1iZXIoaykpOyAvLyB0aGVzZSBzaG91bGQgYmUgTlVNQkVSUywgbm90IHN0cmluZ3NcbiAgICAgICAgfSk7XG4gICAgICAgIHJldC5zb3J0KGZ1bmN0aW9uICh4LCB5KSB7IHJldHVybiB4IC0geTsgfSk7IC8vIFdURiwgamF2YXNjcmlwdCBzb3J0IGlzIGxleGljb2dyYXBoaWMgYnkgZGVmYXVsdCFcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmFkZFRvQnJlYWtwb2ludHMgPSBmdW5jdGlvbiAoZXhlY3V0aW9uUG9pbnRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICQuZWFjaChleGVjdXRpb25Qb2ludHMsIGZ1bmN0aW9uIChpLCBlcCkge1xuICAgICAgICAgICAgX3RoaXMuYnJlYWtwb2ludHMuc2V0KGVwLCAxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0ID0gdGhpcy5fZ2V0U29ydGVkQnJlYWtwb2ludHNMaXN0KCk7IC8vIGtlZXAgc3luY2VkIVxuICAgIH07XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUucmVtb3ZlRnJvbUJyZWFrcG9pbnRzID0gZnVuY3Rpb24gKGV4ZWN1dGlvblBvaW50cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAkLmVhY2goZXhlY3V0aW9uUG9pbnRzLCBmdW5jdGlvbiAoaSwgZXApIHtcbiAgICAgICAgICAgIF90aGlzLmJyZWFrcG9pbnRzLnJlbW92ZShlcCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdCA9IHRoaXMuX2dldFNvcnRlZEJyZWFrcG9pbnRzTGlzdCgpOyAvLyBrZWVwIHN5bmNlZCFcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnNldEJyZWFrcG9pbnQgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICB0aGlzLmFkZFRvQnJlYWtwb2ludHMoZC5leGVjdXRpb25Qb2ludHMpO1xuICAgICAgICB0aGlzLm5hdkNvbnRyb2xzLnJlbmRlclNsaWRlckJyZWFrcG9pbnRzKHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0KTtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnVuc2V0QnJlYWtwb2ludCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRnJvbUJyZWFrcG9pbnRzKGQuZXhlY3V0aW9uUG9pbnRzKTtcbiAgICAgICAgdGhpcy5uYXZDb250cm9scy5yZW5kZXJTbGlkZXJCcmVha3BvaW50cyh0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdCk7XG4gICAgfTtcbiAgICAvLyBmaW5kIHRoZSBwcmV2aW91cy9uZXh0IGJyZWFrcG9pbnQgdG8gYyBvciByZXR1cm4gLTEgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmZpbmRQcmV2QnJlYWtwb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmN1ckluc3RyO1xuICAgICAgICBpZiAodGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldiA9IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0W2kgLSAxXTtcbiAgICAgICAgICAgICAgICB2YXIgY3VyID0gdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3RbaV07XG4gICAgICAgICAgICAgICAgaWYgKGMgPD0gcHJldilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgIGlmIChjdXIgPj0gYylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmaW5hbCBlZGdlIGNhc2U6XG4gICAgICAgICAgICB2YXIgbGFzdEVsdCA9IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0W3RoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgcmV0dXJuIChsYXN0RWx0IDwgYykgPyBsYXN0RWx0IDogLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmZpbmROZXh0QnJlYWtwb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmN1ckluc3RyO1xuICAgICAgICBpZiAodGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1c2FiaWxpdHkgaGFjazogaWYgeW91J3JlIGN1cnJlbnRseSBvbiBhIGJyZWFrcG9pbnQsIHRoZW5cbiAgICAgICAgLy8gc2luZ2xlLXN0ZXAgZm9yd2FyZCB0byB0aGUgbmV4dCBleGVjdXRpb24gcG9pbnQsIE5PVCB0aGUgbmV4dFxuICAgICAgICAvLyBicmVha3BvaW50LiBpdCdzIG9mdGVuIHVzZWZ1bCB0byBzZWUgd2hhdCBoYXBwZW5zIHdoZW4gdGhlIGxpbmVcbiAgICAgICAgLy8gYXQgYSBicmVha3BvaW50IGV4ZWN1dGVzLlxuICAgICAgICBlbHNlIGlmICgkLmluQXJyYXkoYywgdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3QubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1ciA9IHRoaXMuc29ydGVkQnJlYWtwb2ludHNMaXN0W2ldO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5zb3J0ZWRCcmVha3BvaW50c0xpc3RbaSArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChjIDwgY3VyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICAgICAgICAgIGlmIChjdXIgPD0gYyAmJiBjIDwgbmV4dCkgLy8gc3VidGxlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmluYWwgZWRnZSBjYXNlOlxuICAgICAgICAgICAgdmFyIGxhc3RFbHQgPSB0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdFt0aGlzLnNvcnRlZEJyZWFrcG9pbnRzTGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIHJldHVybiAobGFzdEVsdCA+IGMpID8gbGFzdEVsdCA6IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyByZXR1cm5zIHRydWUgaWYgYWN0aW9uIHN1Y2Nlc3NmdWxseSB0YWtlblxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnN0ZXBGb3J3YXJkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlWaXogPSB0aGlzO1xuICAgICAgICBpZiAobXlWaXouY3VySW5zdHIgPCBteVZpei5jdXJUcmFjZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIG5leHQgYnJlYWtwb2ludCwgdGhlbiBqdW1wIHRvIGl0IC4uLlxuICAgICAgICAgICAgaWYgKG15Vml6LnNvcnRlZEJyZWFrcG9pbnRzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRCcmVha3BvaW50ID0gbXlWaXouZmluZE5leHRCcmVha3BvaW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRCcmVha3BvaW50ICE9IC0xKVxuICAgICAgICAgICAgICAgICAgICBteVZpei5jdXJJbnN0ciA9IG5leHRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouY3VySW5zdHIgKz0gMTsgLy8gcHJldmVudCBcImdldHRpbmcgc3R1Y2tcIiBvbiBhIHNvbGl0YXJ5IGJyZWFrcG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG15Vml6LmN1ckluc3RyICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBteVZpei51cGRhdGVPdXRwdXQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyByZXR1cm5zIHRydWUgaWYgYWN0aW9uIHN1Y2Nlc3NmdWxseSB0YWtlblxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnN0ZXBCYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlWaXogPSB0aGlzO1xuICAgICAgICBpZiAobXlWaXouY3VySW5zdHIgPiAwKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByZXYgYnJlYWtwb2ludCwgdGhlbiBqdW1wIHRvIGl0IC4uLlxuICAgICAgICAgICAgaWYgKG15Vml6LnNvcnRlZEJyZWFrcG9pbnRzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZCcmVha3BvaW50ID0gbXlWaXouZmluZFByZXZCcmVha3BvaW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZCcmVha3BvaW50ICE9IC0xKVxuICAgICAgICAgICAgICAgICAgICBteVZpei5jdXJJbnN0ciA9IHByZXZCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouY3VySW5zdHIgLT0gMTsgLy8gcHJldmVudCBcImdldHRpbmcgc3R1Y2tcIiBvbiBhIHNvbGl0YXJ5IGJyZWFrcG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG15Vml6LmN1ckluc3RyIC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBteVZpei51cGRhdGVPdXRwdXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIGRpc3BsYXkgbmVlZHMgdG8gYmUgdXBkYXRlZFxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnVwZGF0ZU91dHB1dCA9IGZ1bmN0aW9uIChzbW9vdGhUcmFuc2l0aW9uKSB7XG4gICAgICAgIGlmIChzbW9vdGhUcmFuc2l0aW9uID09PSB2b2lkIDApIHsgc21vb3RoVHJhbnNpdGlvbiA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5oaWRlQ29kZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVPdXRwdXRNaW5pKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU91dHB1dEZ1bGwoc21vb3RoVHJhbnNpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRwdXRCb3gucmVuZGVyT3V0cHV0KHRoaXMuY3VyVHJhY2VbdGhpcy5jdXJJbnN0cl0uc3Rkb3V0KTtcbiAgICAgICAgdGhpcy50cnlfaG9vayhcImVuZF91cGRhdGVPdXRwdXRcIiwgeyBteVZpejogdGhpcyB9KTtcbiAgICB9O1xuICAgIC8vIGRvZXMgYSBMT1Qgb2Ygc3R1ZmYsIGNhbGxlZCBieSB1cGRhdGVPdXRwdXRcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLnByb3RvdHlwZS51cGRhdGVPdXRwdXRGdWxsID0gZnVuY3Rpb24gKHNtb290aFRyYW5zaXRpb24pIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuY3VyVHJhY2UpO1xuICAgICAgICBhc3NlcnQoIXRoaXMucGFyYW1zLmhpZGVDb2RlKTtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIC8vIHRoZXJlJ3Mgbm8gcG9pbnQgaW4gcmUtcmVuZGVyaW5nIGlmIHRoaXMgcGFuZSBpc24ndCBldmVuIHZpc2libGUgaW4gdGhlIGZpcnN0IHBsYWNlIVxuICAgICAgICBpZiAoIW15Vml6LmRvbVJvb3QuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBteVZpei51cGRhdGVMaW5lQW5kRXhjZXB0aW9uSW5mbygpOyAvLyB2ZXJ5IGltcG9ydGFudCB0byBjYWxsIHRoaXMgYmVmb3JlIHJlbmRlcmluZyBjb2RlIChhcmdoIG9yZGVyIGRlcGVuZGVuY3kpXG4gICAgICAgIHZhciBwcmV2RGF0YVZpekhlaWdodCA9IG15Vml6LmRhdGFWaXouaGVpZ2h0KCk7XG4gICAgICAgIHRoaXMuY29kRGlzcGxheS51cGRhdGVDb2RPdXRwdXQoc21vb3RoVHJhbnNpdGlvbik7XG4gICAgICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIGlmIG5lY2Vzc2FyeSAoQkVGT1JFIHJlbmRlcmluZylcbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLnVwZGF0ZU91dHB1dENhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcy51cGRhdGVPdXRwdXRDYWxsYmFjayh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxJbnN0cnMgPSB0aGlzLmN1clRyYWNlLmxlbmd0aDtcbiAgICAgICAgdmFyIGlzRmlyc3RJbnN0ciA9ICh0aGlzLmN1ckluc3RyID09IDApO1xuICAgICAgICB2YXIgaXNMYXN0SW5zdHIgPSAodGhpcy5jdXJJbnN0ciA9PSAodG90YWxJbnN0cnMgLSAxKSk7XG4gICAgICAgIHZhciBtc2cgPSBcIlN0ZXAgXCIgKyBTdHJpbmcodGhpcy5jdXJJbnN0ciArIDEpICsgXCIgb2YgXCIgKyBTdHJpbmcodG90YWxJbnN0cnMgLSAxKTtcbiAgICAgICAgaWYgKGlzTGFzdEluc3RyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9tcHRGb3JVc2VySW5wdXQgfHwgdGhpcy5wcm9tcHRGb3JNb3VzZUlucHV0KSB7XG4gICAgICAgICAgICAgICAgbXNnID0gJzxiPjxmb250IGNvbG9yPVwiJyArIGV4cG9ydHMuYnJpZ2h0UmVkICsgJ1wiPkVudGVyIHVzZXIgaW5wdXQ6PC9mb250PjwvYj4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pbnN0ckxpbWl0UmVhY2hlZCkge1xuICAgICAgICAgICAgICAgIG1zZyA9IFwiU3RlcCBsaW1pdCByZWFjaGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtc2cgPSBcIkRvbmUgcnVubmluZyAoXCIgKyBTdHJpbmcodG90YWxJbnN0cnMgLSAxKSArIFwiIHN0ZXBzKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmF2Q29udHJvbHMuc2V0VmNyQ29udHJvbHMobXNnLCBpc0ZpcnN0SW5zdHIsIGlzTGFzdEluc3RyKTtcbiAgICAgICAgdGhpcy5uYXZDb250cm9scy5zZXRTbGlkZXJWYWwodGhpcy5jdXJJbnN0cik7XG4gICAgICAgIC8vIHJlbmRlciBlcnJvciAoaWYgYXBwbGljYWJsZSk6XG4gICAgICAgIGlmIChteVZpei5jdXJMaW5lRXhjZXB0aW9uTXNnKSB7XG4gICAgICAgICAgICBpZiAobXlWaXouY3VyTGluZUV4Y2VwdGlvbk1zZyA9PT0gXCJVbmtub3duIGVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICBteVZpei5uYXZDb250cm9scy5zaG93RXJyb3IoJ1Vua25vd24gZXJyb3I6ICcgKyBmb290ZXJfaHRtbF8xLnVuc3VwcG9ydGVkRmVhdHVyZXNTdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlWaXoubmF2Q29udHJvbHMuc2hvd0Vycm9yKG15Vml6LmN1ckxpbmVFeGNlcHRpb25Nc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmluc3RyTGltaXRSZWFjaGVkKSB7IC8vIHVnbHksIEkga25vdyA6L1xuICAgICAgICAgICAgbXlWaXoubmF2Q29udHJvbHMuc2hvd0Vycm9yKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmFsbHksIHJlbmRlciBhbGwgb2YgdGhlIGRhdGEgc3RydWN0dXJlc1xuICAgICAgICB0aGlzLmRhdGFWaXoucmVuZGVyRGF0YVN0cnVjdHVyZXModGhpcy5jdXJJbnN0cik7XG4gICAgICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIGlmIG5lY2Vzc2FyeSAoQUZURVIgcmVuZGVyaW5nKVxuICAgICAgICBpZiAobXlWaXouZGF0YVZpei5oZWlnaHQoKSAhPSBwcmV2RGF0YVZpekhlaWdodCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyYW1zLmhlaWdodENoYW5nZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuaGVpZ2h0Q2hhbmdlQ2FsbGJhY2sodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTGFzdEluc3RyICYmXG4gICAgICAgICAgICBteVZpei5wYXJhbXMuZXhlY3V0ZUNvZGVXaXRoUmF3SW5wdXRGdW5jICYmXG4gICAgICAgICAgICBteVZpei5wcm9tcHRGb3JVc2VySW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMubmF2Q29udHJvbHMuc2hvd1VzZXJJbnB1dERpdigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uYXZDb250cm9scy5oaWRlVXNlcklucHV0RGl2KCk7XG4gICAgICAgIH1cbiAgICB9OyAvLyBlbmQgb2YgdXBkYXRlT3V0cHV0RnVsbFxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnVwZGF0ZU91dHB1dE1pbmkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLnBhcmFtcy5oaWRlQ29kZSk7XG4gICAgICAgIHRoaXMuZGF0YVZpei5yZW5kZXJEYXRhU3RydWN0dXJlcyh0aGlzLmN1ckluc3RyKTtcbiAgICB9O1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnJlbmRlclN0ZXAgPSBmdW5jdGlvbiAoc3RlcCkge1xuICAgICAgICBhc3NlcnQoMCA8PSBzdGVwKTtcbiAgICAgICAgYXNzZXJ0KHN0ZXAgPCB0aGlzLmN1clRyYWNlLmxlbmd0aCk7XG4gICAgICAgIC8vIGlnbm9yZSByZWR1bmRhbnQgY2FsbHNcbiAgICAgICAgaWYgKHRoaXMuY3VySW5zdHIgPT0gc3RlcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VySW5zdHIgPSBzdGVwO1xuICAgICAgICB0aGlzLnVwZGF0ZU91dHB1dCgpO1xuICAgIH07XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUucmVkcmF3Q29ubmVjdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kYXRhVml6LnJlZHJhd0Nvbm5lY3RvcnMoKTtcbiAgICB9O1xuICAgIC8vIEFsbCBvZiB0aGUgSmF2YSBmcm9udGVuZCBjb2RlIGluIHRoaXMgZnVuY3Rpb24gd2FzIHdyaXR0ZW4gYnkgRGF2aWRcbiAgICAvLyBQcml0Y2hhcmQgYW5kIFdpbGwgR3dvemR6LCBhbmQgaW50ZWdyYXRlZCBpbnRvIHB5dHV0b3IuanMgYnkgUGhpbGlwIEd1b1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmFjdGl2YXRlSmF2YUZyb250ZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldkxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1clRyYWNlLmZvckVhY2goZnVuY3Rpb24gKGUsIGkpIHtcbiAgICAgICAgICAgIC8vIHVnaCB0aGUgSmF2YSBiYWNrZW5kIGRvZXNuJ3QgYXR0YWNoIGxpbmUgbnVtYmVycyB0byBleGNlcHRpb25cbiAgICAgICAgICAgIC8vIGV2ZW50cywgc28ganVzdCB0YWtlIHRoZSBwcmV2aW91cyBsaW5lIG51bWJlciBhcyBvdXIgYmVzdCBndWVzc1xuICAgICAgICAgICAgaWYgKGUuZXZlbnQgPT09ICdleGNlcHRpb24nICYmICFlLmxpbmUpIHtcbiAgICAgICAgICAgICAgICBlLmxpbmUgPSBwcmV2TGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHN1cGVyIGhhY2sgYnkgUGhpbGlwIHRoYXQgcmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGUgc3RhY2sgc29cbiAgICAgICAgICAgIC8vIHRoYXQgaXQgZ3Jvd3MgRE9XTiBhbmQgcmVuZGVycyB0aGUgc2FtZSB3YXkgYXMgdGhlIFB5dGhvbiBhbmQgSlNcbiAgICAgICAgICAgIC8vIHZpc3VhbGl6ZXIgc3RhY2tzXG4gICAgICAgICAgICBpZiAoZS5zdGFja190b19yZW5kZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGUuc3RhY2tfdG9fcmVuZGVyLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZMaW5lID0gZS5saW5lO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwicmVuZGVyUHJpbWl0aXZlT2JqZWN0XCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gYXJncy5vYmosIGQzRG9tRWxlbWVudCA9IGFyZ3MuZDNEb21FbGVtZW50O1xuICAgICAgICAgICAgdmFyIHR5cCA9IHR5cGVvZiBvYmo7XG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgb2JqWzBdID09IFwiVk9JRFwiKSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJ2b2lkT2JqXCI+dm9pZDwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIEFycmF5ICYmIG9ialswXSA9PSBcIk5VTUJFUi1MSVRFUkFMXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBhY3R1YWxseSB0cmFuc21pdHRlZCBhcyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwibnVtYmVyT2JqXCI+JyArIG9ialsxXSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSAmJiBvYmpbMF0gPT0gXCJDSEFSLUxJVEVSQUxcIikge1xuICAgICAgICAgICAgICAgIHZhciBhc2MgPSBvYmpbMV0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgICAgICB2YXIgY2ggPSBvYmpbMV07XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdFxuICAgICAgICAgICAgICAgIHZhciBzaG93ID0gYXNjLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2hvdy5sZW5ndGggPCA0KVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCIwXCIgKyBzaG93O1xuICAgICAgICAgICAgICAgIHNob3cgPSBcIlxcXFx1XCIgKyBzaG93O1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PSBcIlxcblwiKVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcblwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwiXFxyXCIpXG4gICAgICAgICAgICAgICAgICAgIHNob3cgPSBcIlxcXFxyXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT0gXCJcXHRcIilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiXFxcXHRcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcIlxcYlwiKVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwiXFxmXCIpXG4gICAgICAgICAgICAgICAgICAgIHNob3cgPSBcIlxcXFxmXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2ggPT0gXCJcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IFwiXFxcXFxcJ1wiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwiXFxcIlwiKVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcXFxcIlwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwiXFxcXFwiKVxuICAgICAgICAgICAgICAgICAgICBzaG93ID0gXCJcXFxcXFxcXFwiO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFzYyA+PSAzMilcbiAgICAgICAgICAgICAgICAgICAgc2hvdyA9IGNoO1xuICAgICAgICAgICAgICAgIC8vIHN0cmluZ09iaiB0byBtYWtlIG1vbm9zcGFjZVxuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwic3RyaW5nT2JqXCI+XFwnJyArIHNob3cgKyAnXFwnPC9zcGFuPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBbZmFsc2VdOyAvLyB3ZSBkaWRuJ3QgaGFuZGxlIGl0XG4gICAgICAgICAgICByZXR1cm4gW3RydWVdOyAvLyB3ZSBoYW5kbGVkIGl0XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZF9weXR1dG9yX2hvb2soXCJpc1ByaW1pdGl2ZVR5cGVcIiwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBhcmdzLm9iajtcbiAgICAgICAgICAgIGlmICgob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgb2JqWzBdID09IFwiVk9JRFwiKVxuICAgICAgICAgICAgICAgIHx8IChvYmogaW5zdGFuY2VvZiBBcnJheSAmJiBvYmpbMF0gPT0gXCJOVU1CRVItTElURVJBTFwiKVxuICAgICAgICAgICAgICAgIHx8IChvYmogaW5zdGFuY2VvZiBBcnJheSAmJiBvYmpbMF0gPT0gXCJDSEFSLUxJVEVSQUxcIilcbiAgICAgICAgICAgICAgICB8fCAob2JqIGluc3RhbmNlb2YgQXJyYXkgJiYgb2JqWzBdID09IFwiRUxJREVcIikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCB0cnVlXTsgLy8gd2UgaGFuZGxlZCBpdCwgaXQncyBwcmltaXRpdmVcbiAgICAgICAgICAgIHJldHVybiBbZmFsc2VdOyAvLyBkaWRuJ3QgaGFuZGxlIGl0XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZF9weXR1dG9yX2hvb2soXCJlbmRfdXBkYXRlT3V0cHV0XCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgbXlWaXogPSBhcmdzLm15Vml6O1xuICAgICAgICAgICAgdmFyIGN1ckVudHJ5ID0gbXlWaXouY3VyVHJhY2VbbXlWaXouY3VySW5zdHJdO1xuICAgICAgICAgICAgaWYgKG15Vml6LnBhcmFtcy5zdGRpbiAmJiBteVZpei5wYXJhbXMuc3RkaW4gIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHZhciBzdGRpblBvc2l0aW9uID0gY3VyRW50cnkuc3RkaW5Qb3NpdGlvbiB8fCAwO1xuICAgICAgICAgICAgICAgIHZhciBzdGRpbkNvbnRlbnQgPSAnPHNwYW4gc3R5bGU9XCJjb2xvcjpsaWdodGdyYXk7dGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2hcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlSHRtbChteVZpei5wYXJhbXMuc3RkaW4uc3Vic3RyKDAsIHN0ZGluUG9zaXRpb24pKSArXG4gICAgICAgICAgICAgICAgICAgICc8L3NwYW4+JyArXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZUh0bWwobXlWaXoucGFyYW1zLnN0ZGluLnN1YnN0cihzdGRpblBvc2l0aW9uKSk7XG4gICAgICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjc3RkaW5TaG93JykuaHRtbChzdGRpbkNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtmYWxzZV07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZF9weXR1dG9yX2hvb2soXCJlbmRfcmVuZGVyXCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgbXlWaXogPSBhcmdzLm15Vml6O1xuICAgICAgICAgICAgaWYgKG15Vml6LnBhcmFtcy5zdGRpbiAmJiBteVZpei5wYXJhbXMuc3RkaW4gIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHZhciBzdGRpbkhUTUwgPSAnPGRpdiBpZD1cInN0ZGluV3JhcFwiPnN0ZGluOjxwcmUgaWQ9XCJzdGRpblNob3dcIiBzdHlsZT1cImJvcmRlcjoxcHggc29saWQgZ3JheVwiPjwvcHJlPjwvZGl2Pic7XG4gICAgICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjZGF0YVZpeicpLmFwcGVuZChzdGRpbkhUTUwpOyAvLyBUT0RPOiBsZWFreSBhYnN0cmFjdGlvbiB3aXRoICNkYXRhVml6XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBteVZpei5kb21Sb290LmZpbmQoJyMnICsgbXlWaXouZ2VuZXJhdGVJRCgnZ2xvYmFsc19oZWFkZXInKSkuaHRtbChcIlN0YXRpYyBmaWVsZHNcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZF9weXR1dG9yX2hvb2soXCJpc0xpbmVhck9iamVjdFwiLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIGhlYXBPYmogPSBhcmdzLmhlYXBPYmo7XG4gICAgICAgICAgICBpZiAoaGVhcE9ialswXSA9PSAnU1RBQ0snIHx8IGhlYXBPYmpbMF0gPT0gJ1FVRVVFJylcbiAgICAgICAgICAgICAgICByZXR1cm4gWyd0cnVlJywgJ3RydWUnXTtcbiAgICAgICAgICAgIHJldHVybiBbJ2ZhbHNlJ107XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZF9weXR1dG9yX2hvb2soXCJyZW5kZXJDb21wb3VuZE9iamVjdFwiLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIG9iaklEID0gYXJncy5vYmpJRDtcbiAgICAgICAgICAgIHZhciBkM0RvbUVsZW1lbnQgPSBhcmdzLmQzRG9tRWxlbWVudDtcbiAgICAgICAgICAgIHZhciBvYmogPSBhcmdzLm9iajtcbiAgICAgICAgICAgIHZhciB0eXBlTGFiZWxQcmVmaXggPSBhcmdzLnR5cGVMYWJlbFByZWZpeDtcbiAgICAgICAgICAgIHZhciBteVZpeiA9IGFyZ3MubXlWaXo7XG4gICAgICAgICAgICB2YXIgc3RlcE51bSA9IGFyZ3Muc3RlcE51bTtcbiAgICAgICAgICAgIGlmICghKG9ialswXSA9PSAnTElTVCcgfHwgb2JqWzBdID09ICdRVUVVRScgfHwgb2JqWzBdID09ICdTVEFDSycpKVxuICAgICAgICAgICAgICAgIHJldHVybiBbZmFsc2VdOyAvLyBkaWRuJ3QgaGFuZGxlXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBvYmpbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciB2aXNpYmxlTGFiZWwgPSB7IGxpc3Q6ICdhcnJheScsIHF1ZXVlOiAncXVldWUnLCBzdGFjazogJ3N0YWNrJyB9W2xhYmVsXTtcbiAgICAgICAgICAgIGlmIChvYmoubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArICdlbXB0eSAnICsgdmlzaWJsZUxhYmVsICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZV07IC8vaGFuZGxlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyB0eXBlTGFiZWxQcmVmaXggKyB2aXNpYmxlTGFiZWwgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCInICsgbGFiZWwgKyAnVGJsXCI+PC90YWJsZT4nKTtcbiAgICAgICAgICAgIHZhciB0YmwgPSBkM0RvbUVsZW1lbnQuY2hpbGRyZW4oJ3RhYmxlJyk7XG4gICAgICAgICAgICBpZiAob2JqWzBdID09ICdMSVNUJykge1xuICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPjx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJUciA9IHRibC5maW5kKCd0cjpmaXJzdCcpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50VHIgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgIC8vIGk6IGFjdHVhbCBpbmRleCBpbiBqc29uIG9iamVjdDsgaW5kOiBhcHBhcmVudCBpbmRleFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxLCBpbmQgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvYmpbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGlkZSA9IHZhbCBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbFswXSA9PSAnRUxJREUnO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgY29sdW1uIGFuZCB0aGVuIHBhc3MgaW4gdGhhdCBuZXdseS1hZGRlZCBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgZDNEb21FbGVtZW50IHRvIHRoZSByZWN1cnNpdmUgY2FsbCB0byBjaGlsZDpcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyVHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnSGVhZGVyXCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyVHIuZmluZCgndGQ6bGFzdCcpLmFwcGVuZChlbGlkZSA/IFwiJmhlbGxpcDtcIiA6IGluZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cIicgKyBsYWJlbCArICdFbHRcIj48L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3QodmFsLCBzdGVwTnVtLCBjb250ZW50VHIuZmluZCgndGQ6bGFzdCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFRyLmZpbmQoJ3RkOmxhc3QnKS5hcHBlbmQoXCImaGVsbGlwO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZCArPSB2YWxbMV07IC8vIHZhbFsxXSBpcyB0aGUgbnVtYmVyIG9mIGNlbGxzIHRvIHNraXBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gZW5kIG9mIExJU1QgaGFuZGxpbmdcbiAgICAgICAgICAgIC8vIFN0YWNrIGFuZCBRdWV1ZSBoYW5kbGluZyBjb2RlIGJ5IFdpbGwgR3dvemR6XG4gICAgICAgICAgICAvKiBUaGUgdGFibGUgcHJvZHVjZWQgZm9yIHN0YWNrcyBhbmQgcXVldWVzIGlzIGZvcm1lZCBzbGlnaHRseSBkaWZmZXJlbnRseSB0aGFuIHRoZSBvdGhlcnMsXG4gICAgICAgICAgIG1pc3NpbmcgdGhlIGhlYWRlciByb3cuIFR3byByb3dzIG1hZGUgdGhlIGRhc2hlZCBib3JkZXIgbm90IGxpbmUgdXAgcHJvcGVybHkgKi9cbiAgICAgICAgICAgIGlmIChvYmpbMF0gPT0gJ1NUQUNLJykge1xuICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPjx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50VHIgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cIicgKyBsYWJlbCArICdGRWx0XCI+JyArICc8c3BhbiBjbGFzcz1cInN0cmluZ09iaiBzeW1ib2xpY1wiPiYjODU5Njs8L3NwYW4+JyArICc8L3RkPicpO1xuICAgICAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uIChpbmQsIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCB0eXBlIHRhZyBhbmQgSUQgZW50cnlcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0VsdFwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdCh2YWwsIHN0ZXBOdW0sIGNvbnRlbnRUci5maW5kKCd0ZDpsYXN0JykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cIicgKyBsYWJlbCArICdMRWx0XCI+JyArICc8L3RkPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9ialswXSA9PSAnUVVFVUUnKSB7XG4gICAgICAgICAgICAgICAgdGJsLmFwcGVuZCgnPHRyPjwvdHI+PHRyPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRUciA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGFycm93cyBzaG93aW5nIGluL291dCBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnRkVsdFwiPicgKyAnPHNwYW4gY2xhc3M9XCJzdHJpbmdPYmogc3ltYm9saWNcIj4mIzg1OTI7PC9zcGFuPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24gKGluZCwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwIHR5cGUgdGFnIGFuZCBJRCBlbnRyeVxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnRWx0XCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KHZhbCwgc3RlcE51bSwgY29udGVudFRyLmZpbmQoJ3RkOmxhc3QnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29udGVudFRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiJyArIGxhYmVsICsgJ0xFbHRcIj4nICsgJzxzcGFuIGNsYXNzPVwic3RyaW5nT2JqIHN5bWJvbGljXCI+JiM4NTkyOzwvc3Bhbj48L3RkPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFt0cnVlXTsgLy8gZGlkIGhhbmRsZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGRfcHl0dXRvcl9ob29rKFwiZW5kX3JlbmRlckRhdGFTdHJ1Y3R1cmVzXCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICB2YXIgbXlWaXogPSBhcmdzLm15Vml6O1xuICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKFwidGQuaW5zdEtleTpjb250YWlucygnX19fTk9fTEFCRUwhX19fJylcIikuaGlkZSgpO1xuICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKFwiLnR5cGVMYWJlbDpjb250YWlucygnZGljdCcpXCIpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5odG1sKCkgPT0gJ2RpY3QnKVxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoJ3N5bWJvbCB0YWJsZScpO1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmh0bWwoKSA9PSAnZW1wdHkgZGljdCcpXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaHRtbCgnZW1wdHkgc3ltYm9sIHRhYmxlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGphdmEgc3ludGhldGljcyBjYXVzZSB0aGluZ3Mgd2hpY2ggamF2YXNjcmlwdCBkb2Vzbid0IGxpa2UgaW4gYW4gaWRcbiAgICAgICAgLy8gVkVSWSBpbXBvcnRhbnQgdG8gYmluZCh0aGlzKSBzbyB0aGF0IHdoZW4gaXQncyBjYWxsZWQsICd0aGlzJyBpcyB0aGlzIGN1cnJlbnQgb2JqZWN0XG4gICAgICAgIHZhciBvbGRfZ2VuZXJhdGVJRCA9IEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLmdlbmVyYXRlSUQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUlEID0gZnVuY3Rpb24gKG9yaWdpbmFsX2lkKSB7XG4gICAgICAgICAgICB2YXIgc2FuaXRpemVkID0gb3JpZ2luYWxfaWQucmVwbGFjZSgvW14wLTlhLXpBLVpfXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuICctJyArIG1hdGNoLmNoYXJDb2RlQXQoMCkgKyAnLSc7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9sZF9nZW5lcmF0ZUlEKHNhbml0aXplZCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHV0aWxpdHkgZnVuY3Rpb25zXG4gICAgICAgIHZhciBlbnRpdHlNYXAgPSB7XG4gICAgICAgICAgICBcIiZcIjogXCImYW1wO1wiLFxuICAgICAgICAgICAgXCI8XCI6IFwiJmx0O1wiLFxuICAgICAgICAgICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICAgICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICAgICAgICBcIidcIjogJyYjMzk7JyxcbiAgICAgICAgICAgIFwiL1wiOiAnJiN4MkY7J1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZXNjYXBlSHRtbCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLCBmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdHlNYXBbc107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8vIHVwZGF0ZSBmaWVsZHMgY29ycmVzcG9uZGluZyB0byB0aGUgY3VycmVudCBhbmQgcHJldmlvdXNseSBleGVjdXRlZCBsaW5lc1xuICAgIC8vIGluIHRoZSB0cmFjZSBzbyB0aGF0IHRoZXkgY2FuIGJlIHByb3Blcmx5IGhpZ2hsaWdodGVkOyBtdXN0IGNhbGwgYmVmb3JlXG4gICAgLy8gcmVuZGVyaW5nIGNvZGUgb3V0cHV0IChOQjogYXJnaCBwZXNreSBvcmRlcmluZyBkZXBlbmRlbmN5KVxuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIucHJvdG90eXBlLnVwZGF0ZUxpbmVBbmRFeGNlcHRpb25JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXlWaXogPSB0aGlzO1xuICAgICAgICB2YXIgdG90YWxJbnN0cnMgPSBteVZpei5jdXJUcmFjZS5sZW5ndGg7XG4gICAgICAgIHZhciBpc0xhc3RJbnN0ciA9IG15Vml6LmN1ckluc3RyID09PSAodG90YWxJbnN0cnMgLSAxKTtcbiAgICAgICAgbXlWaXouY3VyTGluZU51bWJlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgbXlWaXoucHJldkxpbmVOdW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIG15Vml6LmN1ckxpbmVJc1JldHVybiA9IHVuZGVmaW5lZDtcbiAgICAgICAgbXlWaXoucHJldkxpbmVJc1JldHVybiA9IHVuZGVmaW5lZDtcbiAgICAgICAgbXlWaXouY3VyTGluZUV4Y2VwdGlvbk1zZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgLyogaWYgaW5zdHJMaW1pdFJlYWNoZWQsIHRoZW4gdHJlYXQgbGlrZSBhIG5vcm1hbCBub24tdGVybWluYXRpbmcgbGluZSAqL1xuICAgICAgICB2YXIgaXNUZXJtaW5hdGVkID0gKCFteVZpei5pbnN0ckxpbWl0UmVhY2hlZCAmJiBpc0xhc3RJbnN0cik7XG4gICAgICAgIHZhciBjdXJMaW5lTnVtYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIHByZXZMaW5lTnVtYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGN1ckVudHJ5ID0gbXlWaXouY3VyVHJhY2VbbXlWaXouY3VySW5zdHJdO1xuICAgICAgICB2YXIgY3VySXNSZXR1cm4gPSAoY3VyRW50cnkuZXZlbnQgPT0gJ3JldHVybicpO1xuICAgICAgICB2YXIgcHJldklzUmV0dXJuID0gZmFsc2U7XG4gICAgICAgIGlmIChteVZpei5jdXJJbnN0ciA+IDApIHtcbiAgICAgICAgICAgIHByZXZMaW5lTnVtYmVyID0gbXlWaXouY3VyVHJhY2VbbXlWaXouY3VySW5zdHIgLSAxXS5saW5lO1xuICAgICAgICAgICAgcHJldklzUmV0dXJuID0gKG15Vml6LmN1clRyYWNlW215Vml6LmN1ckluc3RyIC0gMV0uZXZlbnQgPT0gJ3JldHVybicpO1xuICAgICAgICAgICAgLyoga2luZGEgbnV0c3kgaGFjazogaWYgdGhlIHByZXZpb3VzIGxpbmUgaXMgYSByZXR1cm4gbGluZSwgZG9uJ3RcbiAgICAgICAgICAgICAgIGhpZ2hsaWdodCBpdC4gaW5zdGVhZCwgaGlnaGxpZ2h0IHRoZSBsaW5lIGluIHRoZSBlbmNsb3NpbmdcbiAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRoYXQgY2FsbGVkIHRoaXMgb25lIChpLmUuLCB0aGUgY2FsbCBzaXRlKS4gZS5nLiw6XG4gICAgICBcbiAgICAgICAgICAgICAgIDEuIGRlZiBmb28obHN0KTpcbiAgICAgICAgICAgICAgIDIuICAgcmV0dXJuIGxlbihsc3QpXG4gICAgICAgICAgICAgICAzLlxuICAgICAgICAgICAgICAgNC4geSA9IGZvbyhbMSwyLDNdKVxuICAgICAgICAgICAgICAgNS4gcHJpbnQgeVxuICAgICAgXG4gICAgICAgICAgICAgICBJZiBwcmV2TGluZU51bWJlciBpcyAyIGFuZCBwcmV2SXNSZXR1cm4sIHRoZW4gY3VyTGluZU51bWJlciBpc1xuICAgICAgICAgICAgICAgNSwgc2luY2UgdGhhdCdzIHRoZSBsaW5lIHRoYXQgZXhlY3V0ZXMgcmlnaHQgYWZ0ZXIgbGluZSAyXG4gICAgICAgICAgICAgICBmaW5pc2hlcy4gSG93ZXZlciwgdGhpcyBsb29rcyBjb25mdXNpbmcgdG8gdGhlIHVzZXIgc2luY2Ugd2hhdFxuICAgICAgICAgICAgICAgYWN0dWFsbHkgaGFwcGVuZWQgaGVyZSB3YXMgdGhhdCB0aGUgcmV0dXJuIHZhbHVlIG9mIGZvbyB3YXNcbiAgICAgICAgICAgICAgIGFzc2lnbmVkIHRvIHkgb24gbGluZSA0LiBJIHdhbnQgdG8gaGF2ZSBwcmV2TGluZU51bWJlciBiZSBsaW5lXG4gICAgICAgICAgICAgICA0IHNvIHRoYXQgaXQgZ2V0cyBoaWdobGlnaHRlZC4gVGhlcmUncyBubyBpZGVhbCBzb2x1dGlvbiwgYnV0IElcbiAgICAgICAgICAgICAgIHRoaW5rIHRoYXQgbG9va3MgbW9yZSBzZW5zaWJsZSwgc2luY2UgbGluZSA0IHdhcyB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgICAgIGxpbmUgdGhhdCBleGVjdXRlZCAqaW4gdGhpcyBmdW5jdGlvbidzIGZyYW1lKi5cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAocHJldklzUmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IG15Vml6LmN1ckluc3RyIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0U3RhY2sgPSBteVZpei5jdXJUcmFjZVtpZHhdLnN0YWNrX3RvX3JlbmRlcjtcbiAgICAgICAgICAgICAgICAvLyByZXRTdGFjay5sZW5ndGggPT0gMCBpbiByYXJlIGNhc2VzIHN1Y2ggYXMgaW5zaWRlIG9mIGFuXG4gICAgICAgICAgICAgICAgLy8gZXhlYygpIHN0YXRlbWVudC4gI3dlaXJkXG4gICAgICAgICAgICAgICAgaWYgKHJldFN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldEZyYW1lSWQgPSByZXRTdGFja1tyZXRTdGFjay5sZW5ndGggLSAxXS5mcmFtZV9pZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGdvIGJhY2t3YXJkcyB1bnRpbCB3ZSBmaW5kIGEgJ2NhbGwnIHRvIHRoaXMgZnJhbWVcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBteVZpei5jdXJUcmFjZVtpZHhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmV2ZW50ID09ICdjYWxsJyAmJiBlbnRyeS5zdGFja190b19yZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9wRnJhbWUgPSBlbnRyeS5zdGFja190b19yZW5kZXJbZW50cnkuc3RhY2tfdG9fcmVuZGVyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3BGcmFtZS5mcmFtZV9pZCA9PSByZXRGcmFtZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBET05FLCB3ZSBmb3VuZCB0aGUgY2FsbCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoaXMgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IGlkeCBpcyB0aGUgaW5kZXggb2YgdGhlICdjYWxsJyBlbnRyeS4gd2UgbmVlZCB0byBmaW5kIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBlbnRyeSBiZWZvcmUgdGhhdCwgd2hpY2ggaXMgdGhlIGluc3RydWN0aW9uIGJlZm9yZSB0aGUgY2FsbC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVEhBVCdzIHRoZSBsaW5lIG9mIHRoZSBjYWxsIHNpdGUuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGluZ0VudHJ5ID0gbXlWaXouY3VyVHJhY2VbaWR4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2TGluZU51bWJlciA9IGNhbGxpbmdFbnRyeS5saW5lOyAvLyBXT09IT08hISFcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZJc1JldHVybiA9IGZhbHNlOyAvLyB0aGlzIGlzIG5vdyBhIGNhbGwgc2l0ZSwgbm90IGEgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIGlmIChjdXJFbnRyeS5ldmVudCA9PT0gJ2V4Y2VwdGlvbicgfHwgY3VyRW50cnkuZXZlbnQgPT09ICd1bmNhdWdodF9leGNlcHRpb24nKSB7XG4gICAgICAgICAgICBhc3NlcnQoY3VyRW50cnkuZXhjZXB0aW9uX21zZyk7XG4gICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICBteVZpei5jdXJMaW5lRXhjZXB0aW9uTXNnID0gY3VyRW50cnkuZXhjZXB0aW9uX21zZztcbiAgICAgICAgfVxuICAgICAgICBjdXJMaW5lTnVtYmVyID0gY3VyRW50cnkubGluZTtcbiAgICAgICAgLy8gZWRnZSBjYXNlIGZvciB0aGUgZmluYWwgaW5zdHJ1Y3Rpb24gOjBcbiAgICAgICAgaWYgKGlzVGVybWluYXRlZCAmJiAhaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IHNob3cgcmVkdW5kYW50IGFycm93cyBvbiB0aGUgc2FtZSBsaW5lIHdoZW4gdGVybWluYXRlZCAuLi5cbiAgICAgICAgICAgIGlmIChwcmV2TGluZU51bWJlciA9PSBjdXJMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgY3VyTGluZU51bWJlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoZXNlIGZpZWxkcyB0byBteVZpeiwgd2hpY2ggaXMgdGhlIHBvaW50IG9mIHRoaXMgZnVuY3Rpb24hXG4gICAgICAgIG15Vml6LmN1ckxpbmVOdW1iZXIgPSBjdXJMaW5lTnVtYmVyO1xuICAgICAgICBteVZpei5wcmV2TGluZU51bWJlciA9IHByZXZMaW5lTnVtYmVyO1xuICAgICAgICBteVZpei5jdXJMaW5lSXNSZXR1cm4gPSBjdXJJc1JldHVybjtcbiAgICAgICAgbXlWaXoucHJldkxpbmVJc1JldHVybiA9IHByZXZJc1JldHVybjtcbiAgICAgICAgbXlWaXoucmVuZGVyUXVlc3Rpb25NYXliZSgpO1xuICAgIH07XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUuaXNPdXRwdXRMaW5lVmlzaWJsZUZvckJ1YmJsZXMgPSBmdW5jdGlvbiAobGluZURpdklEKSB7XG4gICAgICAgIHZhciBwY29kID0gdGhpcy5kb21Sb290LmZpbmQoJyNweUNvZGVPdXRwdXREaXYnKTtcbiAgICAgICAgdmFyIGxpbmVOb1RkID0gJCgnIycgKyBsaW5lRGl2SUQpO1xuICAgICAgICB2YXIgTE8gPSBsaW5lTm9UZC5vZmZzZXQoKS50b3A7XG4gICAgICAgIHZhciBQTyA9IHBjb2Qub2Zmc2V0KCkudG9wO1xuICAgICAgICB2YXIgU1QgPSBwY29kLnNjcm9sbFRvcCgpO1xuICAgICAgICB2YXIgSCA9IHBjb2QuaGVpZ2h0KCk7XG4gICAgICAgIC8vIGFkZCBhIGZldyBwaXhlbHMgb2YgZnVkZ2UgZmFjdG9yIG9uIHRoZSBib3R0b20gZW5kIGR1ZSB0byBib3R0b20gc2Nyb2xsYmFyXG4gICAgICAgIHJldHVybiAoUE8gPD0gTE8pICYmIChMTyA8IChQTyArIEggLSAyNSkpO1xuICAgIH07XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5wcm90b3R5cGUucmVuZGVyUXVlc3Rpb25NYXliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYm5tXG4gICAgICAgIGlmICh0aGlzLmN1ckluc3RyIDwgMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGN1ckVudHJ5ID0gdGhpcy5jdXJUcmFjZVt0aGlzLmN1ckluc3RyIC0gMV07XG4gICAgICAgIGlmIChjdXJFbnRyeS5xdWVzdGlvbikge1xuICAgICAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICAgICAgICAgIHZhciBhbnMgPSBwcm9tcHQoY3VyRW50cnkucXVlc3Rpb24udGV4dCk7XG4gICAgICAgICAgICAgICAgdmFyIGFuc3dlciA9IGN1ckVudHJ5LnF1ZXN0aW9uLmNvcnJlY3Q7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gYW5zd2VyLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgY29ycmVjdEFucyA9IHRoaXMuY3VyVHJhY2VbdGhpcy5jdXJJbnN0cl07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0QW5zID0gY29ycmVjdEFuc1thdHRyc1tqXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbnMubGVuZ3RoID4gMCAmJiBhbnMgPT0gY29ycmVjdEFucykge1xuICAgICAgICAgICAgICAgICAgICBhbGVydCgnQ29ycmVjdCcpO1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY3VzdG9tIGV2ZW50IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBzdWNrIGluIGFsbCBvZiBydW5lc3RvbmVcbiAgICAgICAgICAgICAgICAgICAgLy8gY29kZWxlbnMuanMgIGhhcyBjb2RlIHRoYXQgYmluZHMgdG8gdGhpcyBldmVudCBhbmQgZ2VuZXJhdGVzIHRoZSBjYWxsIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29yZCB0aGUgYW5zd2VyLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBDdXN0b21FdmVudChcImNvZGVsZW5zOmFuc3dlclwiLCB7IGRldGFpbDogeyBkaXZpZDogJCh0aGlzLmRvbVJvb3QpLmNsb3Nlc3QoXCIucHl0dXRvclZpc3VhbGl6ZXJcIilbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXI6IGFuc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSAhY29uZmlybShjdXJFbnRyeS5xdWVzdGlvbi5mZWVkYmFjayArIFwiXFxuQ2xpY2sgT0sgdG8gdHJ5IGFnYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBDdXN0b21FdmVudChcImNvZGVsZW5zOmFuc3dlclwiLCB7IGRldGFpbDogeyBkaXZpZDogJCh0aGlzLmRvbVJvb3QpLmNsb3Nlc3QoXCIucHl0dXRvclZpc3VhbGl6ZXJcIilbMF0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyOiBhbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFeGVjdXRpb25WaXN1YWxpemVyLmN1clZpc3VhbGl6ZXJJRCA9IDE7XG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5ERUZBVUxUX0VNQkVEREVEX0NPREVfRElWX1dJRFRIID0gMzUwO1xuICAgIEV4ZWN1dGlvblZpc3VhbGl6ZXIuREVGQVVMVF9FTUJFRERFRF9DT0RFX0RJVl9IRUlHSFQgPSA0MDA7XG4gICAgLy8gYWx3YXlzIG5lc3QgdmFsdWVzIG9mIHRoZXNlIHR5cGVzIHdpdGhpbiBvYmplY3RzIHRvIG1ha2UgdGhlXG4gICAgLy8gdmlzdWFsaXphdGlvbiBsb29rIGNsZWFuZXI6XG4gICAgLy8gLSBmdW5jdGlvbnMgc2hvdWxkIGJlIG5lc3RlZCB3aXRoaW4gaGVhcCBvYmplY3RzIHNpbmNlIHRoYXQncyBhIG1vcmVcbiAgICAvLyAgIGludHVpdGl2ZSByZW5kZXJpbmcgZm9yIG1ldGhvZHMgKGkuZS4sIGZ1bmN0aW9ucyB3aXRoaW4gb2JqZWN0cylcbiAgICAvLyAtIGxvdHMgb2Ygc3BlY2lhbCBjYXNlcyBmb3IgZnVuY3Rpb24vcHJvcGVydHktbGlrZSBweXRob24gdHlwZXMgdGhhdCB3ZSBzaG91bGQgaW5saW5lXG4gICAgRXhlY3V0aW9uVmlzdWFsaXplci5ERUZBVUxUX0FMV0FZU19ORVNUX1RZUEVTID0gWydGVU5DVElPTicsICdKU19GVU5DVElPTicsXG4gICAgICAgICdwcm9wZXJ0eScsICdjbGFzc21ldGhvZCcsICdzdGF0aWNtZXRob2QnLCAnYnVpbHRpbl9mdW5jdGlvbl9vcl9tZXRob2QnLFxuICAgICAgICAnbWVtYmVyX2Rlc2NyaXB0b3InLCAnZ2V0c2V0X2Rlc2NyaXB0b3InLCAnbWV0aG9kX2Rlc2NyaXB0b3InLCAnd3JhcHBlcl9kZXNjcmlwdG9yJ107XG4gICAgcmV0dXJuIEV4ZWN1dGlvblZpc3VhbGl6ZXI7XG59KCkpOyAvLyBFTkQgY2xhc3MgRXhlY3V0aW9uVmlzdWFsaXplclxuZXhwb3J0cy5FeGVjdXRpb25WaXN1YWxpemVyID0gRXhlY3V0aW9uVmlzdWFsaXplcjtcbi8vIGltcGxlbWVudHMgdGhlIGRhdGEgc3RydWN0dXJlIHZpc3VhbGl6YXRpb24gZm9yIGFuIGVudGlyZSB0cmFjZVxudmFyIERhdGFWaXN1YWxpemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFWaXN1YWxpemVyKG93bmVyLCBkb21Sb290LCBkb21Sb290RDMpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHRoaXMub3duZXIucGFyYW1zO1xuICAgICAgICB0aGlzLmN1clRyYWNlID0gdGhpcy5vd25lci5jdXJUcmFjZTtcbiAgICAgICAgdGhpcy5kb21Sb290ID0gZG9tUm9vdDtcbiAgICAgICAgdGhpcy5kb21Sb290RDMgPSBkb21Sb290RDM7XG4gICAgICAgIHRoaXMuaGlkZVZhcnNTZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmhpZGVGaWVsZHNTZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdnZWRIZWFwT2JqZWN0Q1NTID0gZDMubWFwKCk7IC8vIHNlZSBhYm92ZSBmb3IgZGVzY3JpcHRpb25cbiAgICAgICAgdmFyIGNvZGVWaXpIVE1MID0gXCJcXG4gICAgICA8ZGl2IGlkPVxcXCJzZWxlY3RpdmVIaWRlU3RhdHVzXFxcIj48L2Rpdj5cXG4gICAgICA8ZGl2IGlkPVxcXCJkYXRhVml6XFxcIj5cXG4gICAgICAgICA8dGFibGUgaWQ9XFxcInN0YWNrSGVhcFRhYmxlXFxcIj5cXG4gICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgPHRkIGlkPVxcXCJzdGFja190ZFxcXCI+XFxuICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiZ2xvYmFsc19hcmVhXFxcIj5cXG4gICAgICAgICAgICAgICAgIDxkaXYgaWQ9XFxcInN0YWNrSGVhZGVyXFxcIj5cIiArIHRoaXMuZ2V0UmVhbExhYmVsKFwiRnJhbWVzXCIpICsgXCI8L2Rpdj5cXG4gICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJzdGFja1xcXCI+PC9kaXY+XFxuICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICAgIDx0ZCBpZD1cXFwiaGVhcF90ZFxcXCI+XFxuICAgICAgICAgICAgICAgPGRpdiBpZD1cXFwiaGVhcFxcXCI+XFxuICAgICAgICAgICAgICAgICA8ZGl2IGlkPVxcXCJoZWFwSGVhZGVyXFxcIj5cIiArIHRoaXMuZ2V0UmVhbExhYmVsKFwiT2JqZWN0c1wiKSArIFwiPC9kaXY+XFxuICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgIDwvdGQ+XFxuICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgIDwvdGFibGU+XFxuICAgICAgIDwvZGl2PlwiO1xuICAgICAgICB0aGlzLmRvbVJvb3QuYXBwZW5kKGNvZGVWaXpIVE1MKTtcbiAgICAgICAgLy8gY3JlYXRlIGEgcGVyc2lzdGVudCBnbG9iYWxzIGZyYW1lXG4gICAgICAgIC8vIChub3RlIHRoYXQgd2UgbmVlZCB0byBrZWVwICNnbG9iYWxzX2FyZWEgc2VwYXJhdGUgZnJvbSAjc3RhY2sgZm9yIGQzIHRvIHdvcmsgaXRzIG1hZ2ljKVxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiNnbG9iYWxzX2FyZWFcIikuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic3RhY2tGcmFtZVwiIGlkPVwiJ1xuICAgICAgICAgICAgKyB0aGlzLm93bmVyLmdlbmVyYXRlSUQoJ2dsb2JhbHMnKSArICdcIj48ZGl2IGlkPVwiJyArIHRoaXMub3duZXIuZ2VuZXJhdGVJRCgnZ2xvYmFsc19oZWFkZXInKVxuICAgICAgICAgICAgKyAnXCIgY2xhc3M9XCJzdGFja0ZyYW1lSGVhZGVyXCI+JyArIHRoaXMuZ2V0UmVhbExhYmVsKCdHbG9iYWwgZnJhbWUnKSArICc8L2Rpdj48dGFibGUgY2xhc3M9XCJzdGFja0ZyYW1lVmFyVGFibGVcIiBpZD1cIidcbiAgICAgICAgICAgICsgdGhpcy5vd25lci5nZW5lcmF0ZUlEKCdnbG9iYWxfdGFibGUnKSArICdcIj48L3RhYmxlPjwvZGl2PicpO1xuICAgICAgICB0aGlzLmpzUGx1bWJJbnN0YW5jZSA9IGpzUGx1bWIuZ2V0SW5zdGFuY2Uoe1xuICAgICAgICAgICAgRW5kcG9pbnQ6IFtcIkRvdFwiLCB7IHJhZGl1czogMyB9XSxcbiAgICAgICAgICAgIEVuZHBvaW50U3R5bGVzOiBbeyBmaWxsU3R5bGU6IGNvbm5lY3RvckJhc2VDb2xvciB9LCB7IGZpbGxzdHlsZTogbnVsbCB9IC8qIG1ha2UgcmlnaHQgZW5kcG9pbnQgaW52aXNpYmxlICovXSxcbiAgICAgICAgICAgIEFuY2hvcnM6IFtcIlJpZ2h0TWlkZGxlXCIsIFwiTGVmdE1pZGRsZVwiXSxcbiAgICAgICAgICAgIFBhaW50U3R5bGU6IHsgbGluZVdpZHRoOiAxLCBzdHJva2VTdHlsZTogY29ubmVjdG9yQmFzZUNvbG9yIH0sXG4gICAgICAgICAgICAvLyBGcm9tOiBodHRwOi8vanNwbHVtYi5naXRodWIuaW8vanNwbHVtYi9ob21lLmh0bWwjY29udGFpbmVyXG4gICAgICAgICAgICAvLyBcIkl0IGlzIHN0cm9uZ2x5IHJlY29tbWVuZGVkIHRoYXQgeW91IHNldCBhIENvbnRhaW5lciBiZWZvcmUgeW91IGJlZ2luIHBsdW1iaW5nLlwiXG4gICAgICAgICAgICAvLyAtIGlmIHlvdSBkb24ndCBkbyB0aGlzLCB0aGVuIGpzcGx1bWIgYXJyb3cgZWxlbWVudHMgd2lsbCBsaXZlIG5leHQgdG9cbiAgICAgICAgICAgIC8vICAgdGhlIGVsZW1lbnRzIHRoYXQgYW5jaG9yIHRoZW0sIHdoaWNoIElOVEVSQUNUUyBSRUFMTFkgUkVBTExZIEJBRExZXG4gICAgICAgICAgICAvLyAgIHdpdGggalF1ZXJ5IGRyYWdnYWJsZSBpbiB3ZWlyZCB3YXlzLiBzbyBzZXQgdGhpcy5kb21Sb290IGFzIGNvbnRhaW5lclxuICAgICAgICAgICAgQ29udGFpbmVyOiB0aGlzLmRvbVJvb3QsXG4gICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhpcyBkb2N1bWVudGF0aW9uIGNvdmVycyBhIG5ld2VyIHZlcnNpb24gb2YganNQbHVtYiwgYW5kXG4gICAgICAgICAgICAvLyB3ZSdyZSBzdGlsbCBvbiBhIHN1cGVyLW9sZCBqc1BsdW1iLTEuMy4xMCBpbiBsaWIvXG4gICAgICAgICAgICAvLyBodHRwczovL2RvY3MuanNwbHVtYnRvb2xraXQuY29tL3Rvb2xraXQvY3VycmVudC9hcnRpY2xlcy9jb25uZWN0b3JzLmh0bWxcbiAgICAgICAgICAgIENvbm5lY3RvcjogW1wiU3RhdGVNYWNoaW5lXCJdLFxuICAgICAgICAgICAgT3ZlcmxheXM6IFtbXCJBcnJvd1wiLCB7IGxlbmd0aDogMTAsIHdpZHRoOiA3LCBmb2xkYmFjazogMC41NSwgbG9jYXRpb246IDEgLyogMSA9IGRpc3BsYXkgYXQgdGFyZ2V0ICovIH1dXSxcbiAgICAgICAgICAgIEVuZHBvaW50SG92ZXJTdHlsZXM6IFt7IGZpbGxTdHlsZTogY29ubmVjdG9ySGlnaGxpZ2h0Q29sb3IgfSwgeyBmaWxsc3R5bGU6IG51bGwgfSAvKiBtYWtlIHJpZ2h0IGVuZHBvaW50IGludmlzaWJsZSAqL10sXG4gICAgICAgICAgICBIb3ZlclBhaW50U3R5bGU6IHsgbGluZVdpZHRoOiAxLCBzdHJva2VTdHlsZTogY29ubmVjdG9ySGlnaGxpZ2h0Q29sb3IgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbVJvb3QuZmluZCgnI2RhdGFWaXonKS5oZWlnaHQoKTtcbiAgICB9O1xuICAgIC8vIGNyZWF0ZSBhIHVuaXF1ZSBDU1MgSUQgZm9yIGEgaGVhcCBvYmplY3QsIHdoaWNoIHNob3VsZCBpbmNsdWRlIGJvdGhcbiAgICAvLyBpdHMgSUQgYW5kIHRoZSBjdXJyZW50IHN0ZXAgbnVtYmVyLiB0aGlzIGlzIG5lY2Vzc2FyeSBpZiB3ZSB3YW50IHRvXG4gICAgLy8gZGlzcGxheSB0aGUgc2FtZSBoZWFwIG9iamVjdCBhdCBtdWx0aXBsZSBleGVjdXRpb24gc3RlcHMuXG4gICAgLy9cbiAgICAvLyAyMDIwLTAyLTA1OiB3aHkgZG8gd2UgbmVlZCBzdGVwTnVtIGluIHRoZSBJRD8gd2hhdCBoYXBwZW5zIGlmIHdlXG4gICAgLy8gcmVtb3ZlIGl0PyBpdCBtYXkgYmUgbW9yZSBjb252ZW5pZW50IGlmIHdlIHJlbW92ZSBpdCBzaW5jZSB3ZSBjYW5cbiAgICAvLyB0aGVuIHRyYWNrIHRoZSBzdGF0ZSBvZiB0aGUgc2FtZSBvYmplY3QgYWNyb3NzIG11bHRpcGxlIGV4ZWN1dGlvbiBzdGVwc1xuICAgIC8vIHN1Y2ggYXMgaXRzIGxvY2F0aW9uIChpZiB0aGUgdXNlciBkcmFnZ2VkIGl0IHRvIGEgY3VzdG9tIGxvY2F0aW9uKVxuICAgIC8vIG9yIHdoZXRoZXIgaXQncyBoaWRkZW4gb3Igbm90LCBzaW5jZSBpdCB3aWxsIGhhdmUgdGhlIHNhbWUgQ1NTIElEXG4gICAgLy8gd2hlbiBpdCdzIGJlaW5nIHJlbmRlcmVkIGF0IGRpZmZlcmVudCBleGVjdXRpb24gc3RlcHMuIHdoYXQgbWlnaHQgZ28gd3Jvbmc/XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLmdlbmVyYXRlSGVhcE9iaklEID0gZnVuY3Rpb24gKG9iaklELCBzdGVwTnVtKSB7XG4gICAgICAgIC8vIDIwMjAtMDItMDUgLSByZW1vdmUgc3RlcE51bSBmcm9tIHJldHVybmVkIENTUyBJRCBhbmQgc2VlIHdoYXQgaGFwcGVuczpcbiAgICAgICAgLy9yZXR1cm4gdGhpcy5vd25lci5nZW5lcmF0ZUlEKCdoZWFwX29iamVjdF8nICsgb2JqSUQgKyAnX3MnICsgc3RlcE51bSk7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmdlbmVyYXRlSUQoJ2hlYXBfb2JqZWN0XycgKyBvYmpJRCk7XG4gICAgfTtcbiAgICAvLyBjdXN0b21pemUgbGFiZWxzIGZvciBlYWNoIGxhbmd1YWdlJ3MgcHJlZmVycmVkIHZvY2FidWxhcnlcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuZ2V0UmVhbExhYmVsID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtcy5sYW5nID09PSAnanMnIHx8IHRoaXMucGFyYW1zLmxhbmcgPT09ICd0cycgfHwgdGhpcy5wYXJhbXMubGFuZyA9PT0gJ3J1YnknKSB7XG4gICAgICAgICAgICBpZiAobGFiZWwgPT09ICdsaXN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnYXJyYXknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdpbnN0YW5jZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ29iamVjdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ1RydWUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cnVlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnRmFsc2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdmYWxzZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmxhbmcgPT09ICdqcycpIHtcbiAgICAgICAgICAgIGlmIChsYWJlbCA9PT0gJ2RpY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdNYXAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdzZXQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdTZXQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGFyYW1zLmxhbmcgPT09ICdydWJ5Jykge1xuICAgICAgICAgICAgaWYgKGxhYmVsID09PSAnZGljdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2hhc2gnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdzZXQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdTZXQnOyAvLyB0aGUgUnVieSBTZXQgY2xhc3MgaXMgY2FwaXRhbGl6ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdOb25lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbmlsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnR2xvYmFsIGZyYW1lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnR2xvYmFsIE9iamVjdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJhbXMubGFuZyA9PT0gJ2phdmEnKSB7XG4gICAgICAgICAgICBpZiAobGFiZWwgPT09ICdOb25lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYWJlbCA9PT0gJ1RydWUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cnVlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnRmFsc2UnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdmYWxzZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJhbXMubGFuZyA9PT0gJ2MnIHx8IHRoaXMucGFyYW1zLmxhbmcgPT09ICdjcHAnKSB7XG4gICAgICAgICAgICBpZiAobGFiZWwgPT09ICdHbG9iYWwgZnJhbWUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdHbG9iYWwgdmFyaWFibGVzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhYmVsID09PSAnRnJhbWVzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnU3RhY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFiZWwgPT09ICdPYmplY3RzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnSGVhcCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVmYXVsdCBmYWxsdGhyb3VnaCBjYXNlIGlmIG5vIG1hdGNoZXMgYWJvdmVcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH07XG4gICAgLy8gZm9yIG1hbmFnaW5nIHN0YXRlIHJlbGF0ZWQgdG8gcGVza3kganNQbHVtYiBjb25uZWN0b3JzLCBuZWVkIHRvIHJlc2V0XG4gICAgLy8gYmVmb3JlIGV2ZXJ5IGNhbGwgdG8gcmVuZGVyRGF0YVN0cnVjdHVyZXMsIG9yIGVsc2UgYWxsIGhlbGwgYnJlYWtzXG4gICAgLy8gbG9vc2UuIHllYWgsIHRoaXMgaXMga2x1ZGd5IGFuZCBzdGF0ZWZ1bCwgYnV0IGF0IGxlYXN0IGFsbCBvZiB0aGVcbiAgICAvLyByZWxldmFudCBzdGF0ZSBnZXRzIHNob3ZlZCBpbnRvIG9uZSB1bmlmaWVkIHBsYWNlXG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLnJlc2V0SnNQbHVtYk1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuanNQbHVtYk1hbmFnZXIgPSB7XG4gICAgICAgICAgICBoZWFwX3BvaW50ZXJfc3JjX2lkOiAxLFxuICAgICAgICAgICAgLy8gS2V5OiAgIENTUyBJRCBvZiB0aGUgZGl2IGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBzdGFjayBmcmFtZSB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gICAgICAgIChmb3Igc3RhY2stPmhlYXAgY29ubmVjdGlvbnMpIG9yIGhlYXAgb2JqZWN0IChmb3IgaGVhcC0+aGVhcCBjb25uZWN0aW9ucylcbiAgICAgICAgICAgIC8vICAgICAgICB0aGUgZm9ybWF0IGlzOiAnPHRoaXMudmlzdWFsaXplcklEPl9faGVhcF9wb2ludGVyX3NyY188c3JjIGlkPidcbiAgICAgICAgICAgIC8vIFZhbHVlOiBDU1MgSUQgb2YgdGhlIGRpdiBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgdmFsdWUgcmVuZGVyZWQgaW4gdGhlIGhlYXBcbiAgICAgICAgICAgIC8vICAgICAgICAodGhlIGZvcm1hdCBpcyBnaXZlbiBieSBnZW5lcmF0ZUhlYXBPYmpJRCgpKVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSByZWFzb24gd2UgbmVlZCB0byBwcmVwZW5kIHRoaXMudmlzdWFsaXplcklEIGlzIGJlY2F1c2UganNQbHVtYiBuZWVkc1xuICAgICAgICAgICAgLy8gR0xPQkFMTFkgVU5JUVVFIElEcyBmb3IgdXNlIGFzIGNvbm5lY3RvciBlbmRwb2ludHMuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVE9ETzoganNQbHVtYiBtaWdodCBiZSBhYmxlIHRvIGRpcmVjdGx5IHRha2UgRE9NIGVsZW1lbnRzIHJhdGhlclxuICAgICAgICAgICAgLy8gdGhhbiBJRHMsIHdoaWNoIG1ha2VzIHRoZSBhYm92ZSBwb2ludCBtb290LiBCdXQgbGV0J3MganVzdCBzdGlja1xuICAgICAgICAgICAgLy8gd2l0aCB0aGlzIGZvciBub3cgdW50aWwgSSB3YW50IHRvIG1ham9ybHkgcmVmYWN0b3IgOilcbiAgICAgICAgICAgIC8vIHRoZSBvbmx5IGVsZW1lbnRzIGluIHRoZXNlIHNldHMgYXJlIE5FVyBlbGVtZW50cyB0byBiZSByZW5kZXJlZCBpbiB0aGlzXG4gICAgICAgICAgICAvLyBwYXJ0aWN1bGFyIGNhbGwgdG8gcmVuZGVyRGF0YVN0cnVjdHVyZXMuXG4gICAgICAgICAgICBjb25uZWN0aW9uRW5kcG9pbnRJRHM6IGQzLm1hcCgpLFxuICAgICAgICAgICAgaGVhcENvbm5lY3Rpb25FbmRwb2ludElEczogZDMubWFwKCksXG4gICAgICAgICAgICAvLyBhbmFsb2dvdXMgdG8gY29ubmVjdGlvbkVuZHBvaW50SURzLCBleGNlcHQgZm9yIGVudmlyb25tZW50IHBhcmVudCBwb2ludGVyc1xuICAgICAgICAgICAgcGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEczogZDMubWFwKCksXG4gICAgICAgICAgICByZW5kZXJlZEhlYXBPYmplY3RJRHM6IGQzLm1hcCgpLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLy8gZ2V0cyBhbGwgZ2xvYmFsIGFuZCBsb2NhbCB2YXJpYWJsZSBuYW1lcyB1c2VkIGluIHRoaXMgcHJvZ3JhbVxuICAgIC8vIGV4ZWN1dGlvbiBhcyBpbmRpY2F0ZWQgYnkgdGhpcy5jdXJUcmFjZVxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5nZXRBbGxQcm9ncmFtVmFybmFtZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHZhciBhbGxWYXJuYW1lcyA9IFtdO1xuICAgICAgICAkLmVhY2godGhpcy5jdXJUcmFjZSwgZnVuY3Rpb24gKGksIGN1ckVudHJ5KSB7XG4gICAgICAgICAgICAkLmVhY2goY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzLCBmdW5jdGlvbiAoaSwgdmFybmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBlbmNvZGVkVmFybmFtZSA9IERhdGFWaXN1YWxpemVyLkdMT0JBTF9QUkVGSVggKyAnOicgKyB2YXJuYW1lO1xuICAgICAgICAgICAgICAgIGlmIChhbGxWYXJuYW1lcy5pbmRleE9mKGVuY29kZWRWYXJuYW1lKSA8IDApIHsgLy8gZG9uJ3QgaW5zZXJ0IGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgYWxsVmFybmFtZXMucHVzaChlbmNvZGVkVmFybmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkLmVhY2goY3VyRW50cnkuc3RhY2tfdG9fcmVuZGVyLCBmdW5jdGlvbiAoaSwgZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBzb21lIGZ1bmN0aW9ucyBhcmUgdW5uYW1lZCwgc28gdXNlIGEgcGxhY2Vob2xkZXI6XG4gICAgICAgICAgICAgICAgdmFyIGZ1bmNfcHJlZml4ID0gZnJhbWUuZnVuY19uYW1lID8gZnJhbWUuZnVuY19uYW1lIDogRGF0YVZpc3VhbGl6ZXIuVU5OQU1FRF9QUkVGSVg7XG4gICAgICAgICAgICAgICAgJC5lYWNoKGZyYW1lLm9yZGVyZWRfdmFybmFtZXMsIGZ1bmN0aW9uICh4eHgsIHZhcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuY29kZWRWYXJuYW1lID0gZnVuY19wcmVmaXggKyAnOicgKyB2YXJuYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsVmFybmFtZXMuaW5kZXhPZihlbmNvZGVkVmFybmFtZSkgPCAwKSB7IC8vIGRvbid0IGluc2VydCBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWYXJuYW1lcy5wdXNoKGVuY29kZWRWYXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWxsVmFybmFtZXM7XG4gICAgfTtcbiAgICAvLyBnZXRzIGFsbCBmaWVsZCBuYW1lcyBvZiBjbGFzc2VzLCBvYmplY3RzLCBkaWN0cywgQyBzdHJ1Y3RzLCBhbmQgYW55dGhpbmdcbiAgICAvLyBlbHNlIHRoYXQgaGFzIGF0dHJpYnV0ZS9maWVsZCBuYW1lcywgYXMgaW5kaWNhdGVkIGJ5IHRoaXMuY3VyVHJhY2VcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuZ2V0QWxsUHJvZ3JhbU9iamVjdEZpZWxkTmFtZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHZhciBhbGxGaWVsZG5hbWVzID0gW107XG4gICAgICAgIC8vIGNvcGllZCBmcm9tIHJlY3Vyc2VJbnRvQ1N0cnVjdEFycmF5IC4uLlxuICAgICAgICAvLyBzZWUgaW5zaWRlIGNvbW1lbnRzIGZvciBhbiBvcHRpbWl6YXRpb24gb3Bwb3J0dW5pdHk6XG4gICAgICAgIGZ1bmN0aW9uIHRyYXZlcnNlQ1N0cnVjdEFycmF5KHZhbCkge1xuICAgICAgICAgICAgaWYgKHZhbFswXSA9PSAnQ19TVFJVQ1QnKSB7XG4gICAgICAgICAgICAgICAgLy8gZ3JhYiBhbGwgZmllbGQgbmFtZXMgYW5kIGFkZCB0byBhbGxGaWVsZG5hbWVzXG4gICAgICAgICAgICAgICAgdmFyIHN0cnVjdE5hbWVfMSA9IHZhbFsyXSA/IHZhbFsyXSA6IERhdGFWaXN1YWxpemVyLlVOTkFNRURfUFJFRklYO1xuICAgICAgICAgICAgICAgICQuZWFjaCh2YWwsIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gdGhlc2UgaGF2ZSAzIGhlYWRlciBmaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGt2UGFpclswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuY29kZWRGaWVsZG5hbWUgPSBzdHJ1Y3ROYW1lXzEgKyAnOicgKyBmaWVsZE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxGaWVsZG5hbWVzLmluZGV4T2YoZW5jb2RlZEZpZWxkbmFtZSkgPCAwKSB7IC8vIGRvbid0IGluc2VydCBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxGaWVsZG5hbWVzLnB1c2goZW5jb2RlZEZpZWxkbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlY3Vyc2UgaW5zaWRlIGlmIG5lY2Vzc2FyeSAuLi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUT0RPOiBpZiB5b3UgcmVhbGx5IHdhbnQgdG8gbWFrZSB0aGlzIG1vcmUgZWZmaWNpZW50XG4gICAgICAgICAgICAvLyAoZXNwZWNpYWxseSBmb3IgaHVnZSBhcnJheXMpLCB5b3UgY2FuIHNpbXBseSB0cmF2ZXJzZSBpbnRvIHRoZVxuICAgICAgICAgICAgLy8gKmZpcnN0IGVsZW1lbnQqIG9mIENfQVJSQVkgb3IgQ19NVUxUSURJTUVOU0lPTkFMX0FSUkFZIHNpbmNlXG4gICAgICAgICAgICAvLyB0aGV5J3JlIHN1cHBvc2VkbHkgaG9tb2dlbmVvdXMsIHNvIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAvLyBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIHRoZSB0eXBlIG9mIGFsbCBvdGhlciBlbGVtZW50cyA6KVxuICAgICAgICAgICAgLy8gKGp1c3QgYmV3YXJlIG9mIHRoZSBjYXNlIG9mIGVtcHR5ICh6ZXJvLXNpemVkKSBhcnJheXMsIHRob3VnaClcbiAgICAgICAgICAgIGlmICh2YWxbMF0gPT09ICdDX0FSUkFZJykge1xuICAgICAgICAgICAgICAgICQuZWFjaCh2YWwsIGZ1bmN0aW9uIChpbmQsIGVsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gdGhlc2UgaGF2ZSAyIGhlYWRlciBmaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VDU3RydWN0QXJyYXkoZWx0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbFswXSA9PT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScgfHwgdmFsWzBdID09PSAnQ19TVFJVQ1QnKSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKHZhbCwgZnVuY3Rpb24gKGluZCwga3ZQYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyB0aGVzZSBoYXZlIDMgaGVhZGVyIGZpZWxkc1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZUNTdHJ1Y3RBcnJheShrdlBhaXJbMV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICQuZWFjaCh0aGlzLmN1clRyYWNlLCBmdW5jdGlvbiAoaSwgY3VyRW50cnkpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coaSwgY3VyRW50cnkpO1xuICAgICAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIHRoZSBoZWFwIGxvb2tpbmcgZm9yIHJlbGV2YW50IG9iamVjdHMgd2l0aCBmaWVsZHNcbiAgICAgICAgICAgIC8vIGV4cGVjdGVkIGZvcm1hdCBmcm9tIC4uL3BnX2VuY29kZXIucHlcbiAgICAgICAgICAgIC8vICMgICAqIGluc3RhbmNlIC0gWydJTlNUQU5DRScsIGNsYXNzIG5hbWUsIFthdHRyMSwgdmFsdWUxXSwgW2F0dHIyLCB2YWx1ZTJdLCAuLi4sIFthdHRyTiwgdmFsdWVOXV1cbiAgICAgICAgICAgIC8vICMgICAqIGluc3RhbmNlIHdpdGggbm9uLXRyaXZpYWwgX19zdHJfXyBkZWZpbmVkIC0gWydJTlNUQU5DRV9QUFJJTlQnLCBjbGFzcyBuYW1lLCA8X19zdHJfXyB2YWx1ZT4sIFthdHRyMSwgdmFsdWUxXSwgW2F0dHIyLCB2YWx1ZTJdLCAuLi4sIFthdHRyTiwgdmFsdWVOXV1cbiAgICAgICAgICAgIC8vICMgICAqIGNsYXNzICAgIC0gWydDTEFTUycsIGNsYXNzIG5hbWUsIFtsaXN0IG9mIHN1cGVyY2xhc3MgbmFtZXNdLCBbYXR0cjEsIHZhbHVlMV0sIFthdHRyMiwgdmFsdWUyXSwgLi4uLCBbYXR0ck4sIHZhbHVlTl1dXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYWxzbyBmb3IgamF2YXNjcmlwdCwgSlNfRlVOQ1RJT04gb2JqZWN0cyBtYXkgaGF2ZSBmdW5jUHJvcGVydGllc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFtOQjogd2UgZG9uJ3QgY291bnQgRElDVCBoZXJlIHNpbmNlIHRob3NlIGRvbid0IHRlY2huaWNhbGx5IGNvbnRhaW5cbiAgICAgICAgICAgIC8vICdmaWVsZHMnOyB0aGV5IGNvbnRhaW4gZGljdCBrZXlzLCB3aGljaCBkb24ndCBuZWNlc3NhcmlseSBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyBzdHJpbmdzLCBzbyBpdCdzIGNvbmZ1c2luZyB0byB0cnkgdG8gaWdub3JlIGEgbm9uLXN0cmluZyBkaWN0IGtleV1cbiAgICAgICAgICAgICQuZWFjaChjdXJFbnRyeS5oZWFwLCBmdW5jdGlvbiAoaywgb2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cCA9IG9ialswXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwID09ICdJTlNUQU5DRScgfHwgdHlwID09ICdJTlNUQU5DRV9QUFJJTlQnIHx8IHR5cCA9PSAnQ0xBU1MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IERhdGFWaXN1YWxpemVyLmdldENsYXNzSW5zdGFuY2VNZXRhZGF0YShvYmopLCBjbGFzc05hbWUgPSBfYVswXSwgaGVhZGVyTGVuZ3RoID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IGhlYWRlckxlbmd0aDsgaV8xIDwgb2JqLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBvYmpbaV8xXVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsYXNzTmFtZSBjYW4gcG9zc2libHkgYmUgbnVsbCAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmNvZGVkRmllbGRuYW1lID0gY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJzonICsgZmllbGROYW1lIDogZmllbGROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbEZpZWxkbmFtZXMuaW5kZXhPZihlbmNvZGVkRmllbGRuYW1lKSA8IDApIHsgLy8gZG9uJ3QgaW5zZXJ0IGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxGaWVsZG5hbWVzLnB1c2goZW5jb2RlZEZpZWxkbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwID09ICdKU19GVU5DVElPTicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmNQcm9wZXJ0aWVzID0gb2JqWzNdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmdW5jTmFtZSA9IG9ialsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwtY2FzZSBoYW5kbGluZzogcHJlZml4IHdpdGggZnVuY3Rpb24gbmFtZSBpZiBhcHByb3ByaWF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV8yID0gMDsgaV8yIDwgZnVuY1Byb3BlcnRpZXMubGVuZ3RoOyBpXzIrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBmdW5jUHJvcGVydGllc1tpXzJdWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bmNOYW1lIGNhbiBwb3NzaWJseSBiZSBlbXB0eSAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jb2RlZEZpZWxkbmFtZSA9IGZ1bmNOYW1lID8gZnVuY05hbWUgKyAnOicgKyBmaWVsZE5hbWUgOiBmaWVsZE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbEZpZWxkbmFtZXMuaW5kZXhPZihlbmNvZGVkRmllbGRuYW1lKSA8IDApIHsgLy8gZG9uJ3QgaW5zZXJ0IGR1cGxpY2F0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRmllbGRuYW1lcy5wdXNoKGVuY29kZWRGaWVsZG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXAgPT0gJ0NfQVJSQVknIHx8IHR5cCA9PSAnQ19NVUxUSURJTUVOU0lPTkFMX0FSUkFZJyB8fCB0eXAgPT0gJ0NfU1RSVUNUJykge1xuICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZUNTdHJ1Y3RBcnJheShvYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gQyBhbmQgQysrIG9iamVjdHMgY2FuIGV4aXN0IGRpcmVjdGx5IHdpdGhpbiB0aGUgZ2xvYmFsIGZyYW1lIG9yXG4gICAgICAgICAgICAvLyBzdGFjayBmcmFtZXMgKG5vdCBqdXN0IG9uIHRoZSBoZWFwKSwgc28gd2UgbmVlZCB0byB0cmF2ZXJzZVxuICAgICAgICAgICAgLy8gdGhyb3VnaCB0aG9zZSBhcyB3ZWxsXG4gICAgICAgICAgICBpZiAobWUuaXNDcHBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAkLmVhY2goY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzLCBmdW5jdGlvbiAoaSwgdmFybmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gY3VyRW50cnkuZ2xvYmFsc1t2YXJuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VDU3RydWN0QXJyYXkodmFsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIHRocnUgYWxsIHN0YWNrIGZyYW1lc1xuICAgICAgICAgICAgICAgICQuZWFjaChjdXJFbnRyeS5zdGFja190b19yZW5kZXIsIGZ1bmN0aW9uIChpLCBmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZnJhbWUub3JkZXJlZF92YXJuYW1lcywgZnVuY3Rpb24gKHh4eCwgdmFybmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IGZyYW1lLmVuY29kZWRfbG9jYWxzW3Zhcm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2VDU3RydWN0QXJyYXkodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWxsRmllbGRuYW1lcztcbiAgICB9O1xuICAgIC8vIHRoaXMgbWV0aG9kIGluaXRpYWxpemVzIGN1clRyYWNlTGF5b3V0c1xuICAgIC8vXG4gICAgLy8gUHJlLWNvbXB1dGUgdGhlIGxheW91dCBvZiB0b3AtbGV2ZWwgaGVhcCBvYmplY3RzIGZvciBBTEwgZXhlY3V0aW9uXG4gICAgLy8gcG9pbnRzIGFzIHNvb24gYXMgYSB0cmFjZSBpcyBmaXJzdCBsb2FkZWQuIFRoZSByZWFzb24gd2h5IHdlIHdhbnQgdG9cbiAgICAvLyBkbyB0aGlzIGlzIHNvIHRoYXQgd2hlbiB0aGUgdXNlciBzdGVwcyB0aHJvdWdoIGV4ZWN1dGlvbiBwb2ludHMsIHRoZVxuICAgIC8vIGhlYXAgb2JqZWN0cyBkb24ndCBcImppZ2dsZSBhcm91bmRcIiAoaS5lLiwgcHJlc2VydmluZyBwb3NpdGlvbmFsXG4gICAgLy8gaW52YXJpYW5jZSkuIEFsc28sIGlmIHdlIHNldCB1cCB0aGUgbGF5b3V0IG9iamVjdHMgcHJvcGVybHksIHRoZW4gd2VcbiAgICAvLyBjYW4gdGFrZSBmdWxsIGFkdmFudGFnZSBvZiBkMyB0byBwZXJmb3JtIHJlbmRlcmluZyBhbmQgdHJhbnNpdGlvbnMuXG4gICAgLy9cbiAgICAvLyAoYWxzbyBjYWxsIHRoaXMgZnVuY3Rpb24gd2hlbmV2ZXIgdGhlIHVzZXIgY2hvb3NlcyB0byBzZWxlY3RpdmVseVxuICAgIC8vICBoaWRlL3Nob3cgdmFyaWFibGVzL29iamVjdHMsIHNpbmNlIHdlIHdhbnQgdG8gZ2V0IHRoZSBsYXRlc3QgbGF5b3V0KVxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5wcmVjb21wdXRlQ3VyVHJhY2VMYXlvdXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdwcmVjb21wdXRlQ3VyVHJhY2VMYXlvdXRzJyk7XG4gICAgICAgIC8vIGN1clRyYWNlTGF5b3V0cyBpcyBhIGxpc3Qgb2YgdG9wLWxldmVsIGhlYXAgbGF5b3V0IFwib2JqZWN0c1wiIHdpdGggdGhlXG4gICAgICAgIC8vIHNhbWUgbGVuZ3RoIGFzIGN1clRyYWNlIGFmdGVyIGl0J3MgYmVlbiBmdWxseSBpbml0aWFsaXplZC4gRWFjaFxuICAgICAgICAvLyBlbGVtZW50IG9mIGN1clRyYWNlTGF5b3V0cyBpcyBjb21wdXRlZCBmcm9tIHRoZSBjb250ZW50cyBvZiBpdHNcbiAgICAgICAgLy8gaW1tZWRpYXRlIHByZWRlY2Vzc29yLCB0aHVzIGVuc3VyaW5nIHRoYXQgb2JqZWN0cyBkb24ndCBcImppZ2dsZVxuICAgICAgICAvLyBhcm91bmRcIiBiZXR3ZWVuIGNvbnNlY3V0aXZlIGV4ZWN1dGlvbiBwb2ludHMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEVhY2ggdG9wLWxldmVsIGhlYXAgbGF5b3V0IFwib2JqZWN0XCIgaXMgaXRzZWxmIGEgTElTVCBvZiBMSVNUUyBvZlxuICAgICAgICAvLyBvYmplY3QgSURzLCB3aGVyZSBlYWNoIGVsZW1lbnQgb2YgdGhlIG91dGVyIGxpc3QgcmVwcmVzZW50cyBhIHJvdyxcbiAgICAgICAgLy8gYW5kIGVhY2ggZWxlbWVudCBvZiB0aGUgaW5uZXIgbGlzdCByZXByZXNlbnRzIGNvbHVtbnMgd2l0aGluIGFcbiAgICAgICAgLy8gcGFydGljdWxhciByb3cuIEVhY2ggcm93IGNhbiBoYXZlIGEgZGlmZmVyZW50IG51bWJlciBvZiBjb2x1bW5zLiBNb3N0XG4gICAgICAgIC8vIHJvd3MgaGF2ZSBleGFjdGx5IE9ORSBjb2x1bW4gKHJlcHJlc2VudGluZyBPTkUgb2JqZWN0IElEKSwgYnV0IHJvd3NcbiAgICAgICAgLy8gY29udGFpbmluZyAxLUQgbGlua2VkIGRhdGEgc3RydWN0dXJlcyBoYXZlIG11bHRpcGxlIGNvbHVtbnMuIEVhY2hcbiAgICAgICAgLy8gaW5uZXIgbGlzdCBlbGVtZW50IGxvb2tzIHNvbWV0aGluZyBsaWtlIFsncm93MScsIDMsIDIsIDFdIHdoZXJlIHRoZVxuICAgICAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGEgdW5pcXVlIHJvdyBJRCB0YWcsIHdoaWNoIGlzIHVzZWQgYXMgYSBrZXkgZm9yIGQzIHRvXG4gICAgICAgIC8vIHByZXNlcnZlIFwib2JqZWN0IGNvbnN0YW5jeVwiIGZvciB1cGRhdGVzLCB0cmFuc2l0aW9ucywgZXRjLiBUaGUgcm93IElEXG4gICAgICAgIC8vIGlzIGRlcml2ZWQgZnJvbSB0aGUgRklSU1Qgb2JqZWN0IElEIGluc2VydGVkIGludG8gdGhlIHJvdy4gU2luY2UgYWxsXG4gICAgICAgIC8vIG9iamVjdCBJRHMgYXJlIHVuaXF1ZSwgYWxsIHJvdyBJRHMgd2lsbCBhbHNvIGJlIHVuaXF1ZS5cbiAgICAgICAgLyogVGhpcyBpcyBhIGdvb2QsIHNpbXBsZSBleGFtcGxlIHRvIHRlc3Qgd2hldGhlciBvYmplY3RzIFwiamlnZ2xlXCJcbiAgICBcbiAgICAgICAgeCA9IFsxLCBbMiwgWzMsIE5vbmVdXV1cbiAgICAgICAgeSA9IFs0LCBbNSwgWzYsIE5vbmVdXV1cbiAgICBcbiAgICAgICAgeFsxXVsxXSA9IHlbMV1cbiAgICBcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJUcmFjZUxheW91dHMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJUcmFjZUxheW91dHMucHVzaChbXSk7IC8vIHByZS1zZWVkIHdpdGggYW4gZW1wdHkgc2VudGluZWwgdG8gc2ltcGxpZnkgdGhlIGNvZGVcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIGFzc2VydCh0aGlzLmN1clRyYWNlICYmIHRoaXMuY3VyVHJhY2UubGVuZ3RoID4gMCk7XG4gICAgICAgICQuZWFjaCh0aGlzLmN1clRyYWNlLCBmdW5jdGlvbiAoaSwgY3VyRW50cnkpIHtcbiAgICAgICAgICAgIHZhciBwcmV2TGF5b3V0ID0gbXlWaXouY3VyVHJhY2VMYXlvdXRzW215Vml6LmN1clRyYWNlTGF5b3V0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIC8vIG1ha2UgYSBERUVQIENPUFkgb2YgcHJldkxheW91dCB0byB1c2UgYXMgdGhlIGJhc2lzIGZvciBjdXJMaW5lXG4gICAgICAgICAgICB2YXIgY3VyTGF5b3V0ID0gJC5leHRlbmQodHJ1ZSAvKiBkZWVwIGNvcHkgKi8sIFtdLCBwcmV2TGF5b3V0KTtcbiAgICAgICAgICAgIC8vIGluaXRpYWxpemUgd2l0aCBhbGwgSURzIGZyb20gY3VyTGF5b3V0XG4gICAgICAgICAgICB2YXIgaWRzVG9SZW1vdmUgPSBkMy5tYXAoKTtcbiAgICAgICAgICAgICQuZWFjaChjdXJMYXlvdXQsIGZ1bmN0aW9uIChpLCByb3cpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSAvKiBpZ25vcmUgcm93IElEIHRhZyAqLzsgaiA8IHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZHNUb1JlbW92ZS5zZXQocm93W2pdLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpZHNBbHJlYWR5TGFpZE91dCA9IGQzLm1hcCgpOyAvLyB0byBwcmV2ZW50IGluZmluaXRlIHJlY3Vyc2lvblxuICAgICAgICAgICAgZnVuY3Rpb24gY3VyTGF5b3V0SW5kZXhPZihpZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3VyTGF5b3V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBjdXJMYXlvdXRbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHJvdy5pbmRleE9mKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkgeyAvLyBpbmRleCBvZiAwIGlzIGltcG9zc2libGUgc2luY2UgaXQncyB0aGUgcm93IElEIHRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiByb3csIGluZGV4OiBpbmRleCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gaXNMaW5lYXJPYmooaGVhcE9iaikge1xuICAgICAgICAgICAgICAgIHZhciBob29rX3Jlc3VsdCA9IG15Vml6Lm93bmVyLnRyeV9ob29rKFwiaXNMaW5lYXJPYmpcIiwgeyBoZWFwT2JqOiBoZWFwT2JqIH0pO1xuICAgICAgICAgICAgICAgIGlmIChob29rX3Jlc3VsdFswXSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhvb2tfcmVzdWx0WzFdO1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFwT2JqWzBdID09ICdMSVNUJyB8fCBoZWFwT2JqWzBdID09ICdUVVBMRScgfHwgaGVhcE9ialswXSA9PSAnU0VUJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2VJbnRvT2JqZWN0KGlkLCBjdXJSb3csIG5ld1Jvdykge1xuICAgICAgICAgICAgICAgIC8vIGhldXJpc3RpYyBmb3IgbGF5aW5nIG91dCAxLUQgbGlua2VkIGRhdGEgc3RydWN0dXJlczogY2hlY2sgZm9yIGVuY2xvc2luZyBlbGVtZW50c1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgYXJlIHN0cnVjdHVyYWxseUVxdWl2YWxlbnQoKSBhbmQgdGhlbiBsYXkgdGhlbSBvdXQgYXMgc2libGluZ3MgaW4gdGhlIHNhbWUgXCJyb3dcIlxuICAgICAgICAgICAgICAgIHZhciBoZWFwT2JqID0gY3VyRW50cnkuaGVhcFtpZF07XG4gICAgICAgICAgICAgICAgaWYgKG15Vml6LmlzQ3BwTW9kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvZnRlbiB0aGlzIGFzc3VtcHRpb24gc2luY2UgQy1zdHlsZSBwb2ludGVycyBtaWdodCBub3QgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gdGhlIGhlYXA7IHRoZXkgY2FuIHBvaW50IHRvIGFueSBwaWVjZSBvZiBkYXRhIVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYXBPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KGhlYXBPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNMaW5lYXJPYmooaGVhcE9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGhlYXBPYmosIGZ1bmN0aW9uIChpbmQsIGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNraXAgdHlwZSB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZElEID0gZ2V0UmVmSUQoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5zdHJ1Y3R1cmFsbHlFcXVpdmFsZW50KGhlYXBPYmosIGN1ckVudHJ5LmhlYXBbY2hpbGRJRF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChjaGlsZElELCBjdXJSb3csIG5ld1Jvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFteVZpei5vd25lci5zaG91bGROZXN0T2JqZWN0KGN1ckVudHJ5LmhlYXBbY2hpbGRJRF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChjaGlsZElELCBbXSwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYXBPYmpbMF0gPT0gJ0RJQ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChoZWFwT2JqLCBmdW5jdGlvbiAoaW5kLCBjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwIHR5cGUgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGljdEtleSA9IGNoaWxkWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFteVZpei5pc1ByaW1pdGl2ZVR5cGUoZGljdEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5Q2hpbGRJRCA9IGdldFJlZklEKGRpY3RLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXoub3duZXIuc2hvdWxkTmVzdE9iamVjdChjdXJFbnRyeS5oZWFwW2tleUNoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoa2V5Q2hpbGRJRCwgW10sIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGljdFZhbCA9IGNoaWxkWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFteVZpei5pc1ByaW1pdGl2ZVR5cGUoZGljdFZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRJRCA9IGdldFJlZklEKGRpY3RWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5zdHJ1Y3R1cmFsbHlFcXVpdmFsZW50KGhlYXBPYmosIGN1ckVudHJ5LmhlYXBbY2hpbGRJRF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChjaGlsZElELCBjdXJSb3csIG5ld1Jvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFteVZpei5vd25lci5zaG91bGROZXN0T2JqZWN0KGN1ckVudHJ5LmhlYXBbY2hpbGRJRF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChjaGlsZElELCBbXSwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYXBPYmpbMF0gPT0gJ0lOU1RBTkNFJyB8fCBoZWFwT2JqWzBdID09ICdJTlNUQU5DRV9QUFJJTlQnIHx8IGhlYXBPYmpbMF0gPT0gJ0NMQVNTJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBEYXRhVmlzdWFsaXplci5nZXRDbGFzc0luc3RhbmNlTWV0YWRhdGEoaGVhcE9iaiksIGNsYXNzTmFtZV8xID0gX2FbMF0sIGhlYWRlckxlbmd0aF8xID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5lYWNoKGhlYXBPYmosIGZ1bmN0aW9uIChpbmQsIGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgaGVhZGVyTGVuZ3RoXzEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RLZXkgPSBjaGlsZFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVGaWVsZHNTZXQoY2xhc3NOYW1lXzEsIGluc3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncHJlY29tcHV0ZSBISURJTkcnLCBjbGFzc05hbWUsIGluc3RLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKGluc3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleUNoaWxkSUQgPSBnZXRSZWZJRChpbnN0S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW15Vml6Lm93bmVyLnNob3VsZE5lc3RPYmplY3QoY3VyRW50cnkuaGVhcFtrZXlDaGlsZElEXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0KGtleUNoaWxkSUQsIFtdLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RWYWwgPSBjaGlsZFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKGluc3RWYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkSUQgPSBnZXRSZWZJRChpbnN0VmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouc3RydWN0dXJhbGx5RXF1aXZhbGVudChoZWFwT2JqLCBjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoY2hpbGRJRCwgY3VyUm93LCBuZXdSb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghbXlWaXoub3duZXIuc2hvdWxkTmVzdE9iamVjdChjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXQoY2hpbGRJRCwgW10sIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFwT2JqWzBdID09ICdGVU5DVElPTicgfHwgaGVhcE9ialswXSA9PSAnSlNfRlVOQ1RJT04nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGEgUHl0aG9uIGZ1bmN0aW9uIG9iamVjdCBoYXMgYW4gb3B0aW9uYWwgZWxlbWVudCBhdCBpbmRleD0zXG4gICAgICAgICAgICAgICAgICAgIC8vICh6ZXJvLWluZGV4ZWQpIHRoYXQgcmVwcmVzZW50cyBkZWZhdWx0IGFyZyBuYW1lcy92YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gYSBKYXZhU2NyaXB0IGZ1bmN0aW9uIG9iamVjdCBoYXMgZnVuY1Byb3BlcnRpZXMgdGhhdCB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzZSBpbnRvIGluIG9yZGVyIHRvIHByZWNvbXB1dGUgdGhlaXIgbGF5b3V0c1xuICAgICAgICAgICAgICAgICAgICB2YXIgZnVuY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyB0cmF2ZXJzZSBpbnRvIGRlZmF1bHQgYXJndW1lbnQgdmFsdWVzIHRvIHByZWNvbXB1dGUgdGhlaXJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGF5b3V0cywgaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhcE9ialswXSA9PSAnRlVOQ1RJT04nICYmIGhlYXBPYmoubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY1Byb3BlcnRpZXMgPSBoZWFwT2JqWzNdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoZWFwT2JqWzBdID09ICdKU19GVU5DVElPTicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChoZWFwT2JqLmxlbmd0aCA9PSA1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmNQcm9wZXJ0aWVzID0gaGVhcE9ialszXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChmdW5jUHJvcGVydGllcy5sZW5ndGggPiAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmdW5jTmFtZV8xID0gaGVhcE9ialsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChmdW5jUHJvcGVydGllcywgZnVuY3Rpb24gKGluZCwga3ZQYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBjaGVjayB0aGlzIGZvciBKU19GVU5DVElPTiEgd2UncmUgb3ZlcmxvYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmdW5jUHJvcGVydGllcyB0byB1c2UgZm9yIGJvdGggRlVOQ1RJT04gYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSlNfRlVOQ1RJT04sIHdoaWNoIG1pZ2h0IGJlIGNvbmZ1c2luZyAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhcE9ialswXSA9PSAnSlNfRlVOQ1RJT04nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0S2V5ID0ga3ZQYWlyWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaW5IaWRlRmllbGRzU2V0KGZ1bmNOYW1lXzEsIGluc3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcmVjb21wdXRlIEhJRElORycsIGZ1bmNOYW1lLCBpbnN0S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb3B5L3Bhc3RlIGZyb20gSU5TVEFOQ0UvQ0xBU1MgY29kZSBhYm92ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0VmFsID0ga3ZQYWlyWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKGluc3RWYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZElEID0gZ2V0UmVmSUQoaW5zdFZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXoub3duZXIuc2hvdWxkTmVzdE9iamVjdChjdXJFbnRyeS5oZWFwW2NoaWxkSURdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0KGNoaWxkSUQsIFtdLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoaGVhcE9ialswXSA9PSAnQ19BUlJBWScpIHx8IChoZWFwT2JqWzBdID09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknKSB8fCAoaGVhcE9ialswXSA9PSAnQ19TVFJVQ1QnKSkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXRBbmRSZWN1cnNlKGhlYXBPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGEga3JhenkgZnVuY3Rpb24hXG4gICAgICAgICAgICAvLyBpZCAgICAgLSB0aGUgbmV3IG9iamVjdCBJRCB0byBiZSBpbnNlcnRlZCBzb21ld2hlcmUgaW4gY3VyTGF5b3V0XG4gICAgICAgICAgICAvLyAgICAgICAgICAoaWYgaXQncyBub3QgYWxyZWFkeSBpbiB0aGVyZSlcbiAgICAgICAgICAgIC8vIGN1clJvdyAtIGEgcm93IHdpdGhpbiBjdXJMYXlvdXQgd2hlcmUgbmV3IGxpbmtlZCBsaXN0XG4gICAgICAgICAgICAvLyAgICAgICAgICBlbGVtZW50cyBjYW4gYmUgYXBwZW5kZWQgb250byAobWlnaHQgYmUgbnVsbClcbiAgICAgICAgICAgIC8vIG5ld1JvdyAtIGEgbmV3IHJvdyB0aGF0IG1pZ2h0IGJlIHNwbGljZWQgaW50byBjdXJSb3cgb3IgYXBwZW5kZWRcbiAgICAgICAgICAgIC8vICAgICAgICAgIGFzIGEgbmV3IHJvdyBpbiBjdXJMYXlvdXRcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUN1ckxheW91dChpZCwgY3VyUm93LCBuZXdSb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAoaWRzQWxyZWFkeUxhaWRPdXQuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIFBVTlQhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJMYXlvdXRMb2MgPSBjdXJMYXlvdXRJbmRleE9mKGlkKTtcbiAgICAgICAgICAgICAgICB2YXIgYWxyZWFkeUxhaWRPdXQgPSBpZHNBbHJlYWR5TGFpZE91dC5oYXMoaWQpO1xuICAgICAgICAgICAgICAgIGlkc0FscmVhZHlMYWlkT3V0LnNldChpZCwgMSk7IC8vIHVuY29uZGl0aW9uYWxseSBzZXQgbm93XG4gICAgICAgICAgICAgICAgLy8gaWYgaWQgaXMgYWxyZWFkeSBpbiBjdXJMYXlvdXQgLi4uXG4gICAgICAgICAgICAgICAgaWYgKGN1ckxheW91dExvYykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRSb3cgPSBjdXJMYXlvdXRMb2Mucm93O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRJbmRleCA9IGN1ckxheW91dExvYy5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWRzVG9SZW1vdmUucmVtb3ZlKGlkKTsgLy8gdGhpcyBpZCBpcyBhbHJlYWR5IGFjY291bnRlZCBmb3IhXG4gICAgICAgICAgICAgICAgICAgIC8vIHZlcnkgc3VidGxlIC4uLiBpZiBpZCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGhhbmRsZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpdGVyYXRpb24sIHRoZW4gc3BsaWNlIG5ld1JvdyBpbnRvIGZvdW5kUm93LiBvdGhlcndpc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gKGxhdGVyKSBhcHBlbmQgbmV3Um93IG9udG8gY3VyTGF5b3V0IGFzIGEgdHJ1bHkgbmV3IHJvd1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlMYWlkT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGxpY2UgdGhlIGNvbnRlbnRzIG9mIG5ld1JvdyByaWdodCBCRUZPUkUgZm91bmRJbmRleC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIChUaGluayBhYm91dCB3aGVuIHlvdSdyZSB0cnlpbmcgdG8gaW5zZXJ0IGluIGlkPTMgaW50byBbJ3JvdzEnLCAyLCAxXVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHRvIHJlcHJlc2VudCBhIGxpbmtlZCBsaXN0IDMtPjItPjEuIFlvdSB3YW50IHRvIHNwbGljZSB0aGUgM1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGVudHJ5IHJpZ2h0IGJlZm9yZSB0aGUgMiB0byBmb3JtIFsncm93MScsIDMsIDIsIDFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jvdy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbZm91bmRJbmRleCwgMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBuZXdSb3cubGVuZ3RoOyBpKyspIHsgLy8gaWdub3JlIHJvdyBJRCB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG5ld1Jvd1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkc1RvUmVtb3ZlLnJlbW92ZShuZXdSb3dbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFJvdy5zcGxpY2UuYXBwbHkoZm91bmRSb3csIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBBTEwgZWxlbWVudHMgZnJvbSBuZXdSb3cgc2luY2UgdGhleSd2ZSBhbGwgYmVlbiBhY2NvdW50ZWQgZm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGJ1dCBkb24ndCByZWFzc2lnbiBpdCBhd2F5IHRvIGFuIGVtcHR5IGxpc3QsIHNpbmNlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENBTExFUiBjaGVja3MgaXRzIHZhbHVlLiBUT0RPOiBob3cgdG8gZ2V0IHJpZCBvZiB0aGlzIGdyb3NzIGhhY2s/IT8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Um93LnNwbGljZSgwLCBuZXdSb3cubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyByZWN1cnNlIHRvIGZpbmQgbW9yZSB0b3AtbGV2ZWwgbGlua2VkIGVudHJpZXMgdG8gYXBwZW5kIG9udG8gZm91bmRSb3dcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzZUludG9PYmplY3QoaWQsIGZvdW5kUm93LCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwdXNoIGlkIGludG8gbmV3Um93IC4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3Um93Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSb3cucHVzaCgncm93JyArIGlkKTsgLy8gdW5pcXVlIHJvdyBJRCAoc2luY2UgSURzIGFyZSB1bmlxdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3Um93LnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWN1cnNlIHRvIGZpbmQgbW9yZSB0b3AtbGV2ZWwgbGlua2VkIGVudHJpZXMgLi4uXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2VJbnRvT2JqZWN0KGlkLCBjdXJSb3csIG5ld1Jvdyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIG5ld1JvdyBoYXNuJ3QgYmVlbiBzcGxpY2VkIGludG8gYW4gZXhpc3Rpbmcgcm93IHlldCBkdXJpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBjaGlsZCByZWN1cnNpdmUgY2FsbCAuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jvdy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyUm93ICYmIGN1clJvdy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIG9udG8gdGhlIEVORCBvZiBjdXJSb3cgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBuZXdSb3cubGVuZ3RoOyBpKyspIHsgLy8gaWdub3JlIHJvdyBJRCB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyUm93LnB1c2gobmV3Um93W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgcHVzaCB0byBjdXJMYXlvdXQgYXMgYSBuZXcgcm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0aGlzIG1pZ2h0IG5vdCBhbHdheXMgbG9vayB0aGUgYmVzdCwgc2luY2Ugd2UgbWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGltZXMgd2FudCB0byBzcGxpY2UgbmV3Um93IGluIHRoZSBNSURETEUgb2ZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJMYXlvdXQuIENvbnNpZGVyIHRoaXMgZXhhbXBsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHggPSBbMSwyLDNdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geSA9IFs0LDUsNl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB4ID0gWzcsOCw5XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgdGhpcmQgbGluZSBpcyBleGVjdXRlZCwgdGhlIGFycm93cyBmb3IgeCBhbmQgeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgYmUgY3Jvc3NlZCAodWdseSEpIHNpbmNlIHRoZSBuZXcgcm93IGZvciB0aGUgWzcsOCw5XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9iamVjdCBpcyBwdXNoZWQgdG8gdGhlIGVuZCAoYm90dG9tKSBvZiBjdXJMYXlvdXQuIFRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3BlciBiZWhhdmlvciBpcyB0byBwdXNoIGl0IHRvIHRoZSBiZWdpbm5pbmcgb2ZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJMYXlvdXQgd2hlcmUgdGhlIG9sZCByb3cgZm9yICd4JyB1c2VkIHRvIGJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxheW91dC5wdXNoKCQuZXh0ZW5kKHRydWUgLyogbWFrZSBhIGRlZXAgY29weSAqLywgW10sIG5ld1JvdykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVnYXJkbGVzcywgbmV3Um93IGlzIG5vdyBhY2NvdW50ZWQgZm9yLCBzbyBjbGVhciBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBuZXdSb3cubGVuZ3RoOyBpKyspIHsgLy8gaWdub3JlIHJvdyBJRCB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHNUb1JlbW92ZS5yZW1vdmUobmV3Um93W2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Jvdy5zcGxpY2UoMCwgbmV3Um93Lmxlbmd0aCk7IC8vIGtpbGwgaXQhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDdXJMYXlvdXRBbmRSZWN1cnNlKGVsdCkge1xuICAgICAgICAgICAgICAgIGlmICghZWx0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGVhcmx5IGJhaWwgb3V0XG4gICAgICAgICAgICAgICAgaWYgKGlzSGVhcFJlZihlbHQsIGN1ckVudHJ5LmhlYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGdldFJlZklEKGVsdCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChpZCwgbnVsbCwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWN1cnNlSW50b0NTdHJ1Y3RBcnJheShlbHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJhdmVyc2UgaW5zaWRlIG9mIEMgc3RydWN0cyBhbmQgYXJyYXlzIHRvIGZpbmQgd2hldGhlciB0aGV5XG4gICAgICAgICAgICAvLyAocmVjdXJzaXZlbHkpIGNvbnRhaW4gYW55IHJlZmVyZW5jZXMgdG8gaGVhcCBvYmplY3RzIHdpdGhpblxuICAgICAgICAgICAgLy8gdGhlbXNlbHZlcy4gYmUgYWJsZSB0byBoYW5kbGUgYXJiaXRyYXJ5IG5lc3RpbmchXG4gICAgICAgICAgICBmdW5jdGlvbiByZWN1cnNlSW50b0NTdHJ1Y3RBcnJheSh2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsWzBdID09PSAnQ19BUlJBWScpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHZhbCwgZnVuY3Rpb24gKGluZCwgZWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kIDwgMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHRoZXNlIGhhdmUgMiBoZWFkZXIgZmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDdXJMYXlvdXRBbmRSZWN1cnNlKGVsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWxbMF0gPT09ICdDX01VTFRJRElNRU5TSU9OQUxfQVJSQVknIHx8IHZhbFswXSA9PT0gJ0NfU1RSVUNUJykge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2godmFsLCBmdW5jdGlvbiAoaW5kLCBrdlBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gdGhlc2UgaGF2ZSAzIGhlYWRlciBmaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxbMF0gPT09ICdDX1NUUlVDVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RydWN0TmFtZSA9IHZhbFsyXSA/IHZhbFsyXSA6IERhdGFWaXN1YWxpemVyLlVOTkFNRURfUFJFRklYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBrdlBhaXJbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG15Vml6LmluSGlkZUZpZWxkc1NldChzdHJ1Y3ROYW1lLCBmaWVsZE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3ByZWNvbXB1dGUgSElESU5HJywgc3RydWN0TmFtZSwgZmllbGROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBnZXQgb3V0IVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dEFuZFJlY3Vyc2Uoa3ZQYWlyWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGFsbCBnbG9iYWxzIGFuZCBvcmRlcmVkIHN0YWNrIGZyYW1lcyBhbmQgY2FsbCB1cGRhdGVDdXJMYXlvdXRcbiAgICAgICAgICAgICQuZWFjaChjdXJFbnRyeS5vcmRlcmVkX2dsb2JhbHMsIGZ1bmN0aW9uIChpLCB2YXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKG15Vml6LmluSGlkZVZhcnNTZXQoRGF0YVZpc3VhbGl6ZXIuR0xPQkFMX1BSRUZJWCwgdmFybmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncHJlY29tcHV0ZSBISURJTkcnLCBEYXRhVmlzdWFsaXplci5HTE9CQUxfUFJFRklYLCB2YXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBnZXQgb3V0IVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gY3VyRW50cnkuZ2xvYmFsc1t2YXJuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHsgLy8gbWlnaHQgbm90IGJlIGRlZmluZWQgYXQgdGhpcyBsaW5lLCB3aGljaCBpcyBPS0FZIVxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0cnkgdG8gdW5pZnkgdGhpcyBiZWhhdmlvciBiZXR3ZWVuIEMvQysrIGFuZCBvdGhlciBsYW5ndWFnZXM6XG4gICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5pc0NwcE1vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0QW5kUmVjdXJzZSh2YWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFteVZpei5pc1ByaW1pdGl2ZVR5cGUodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGdldFJlZklEKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ3VyTGF5b3V0KGlkLCBudWxsLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQuZWFjaChjdXJFbnRyeS5zdGFja190b19yZW5kZXIsIGZ1bmN0aW9uIChpLCBmcmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIHNvbWUgZnVuY3Rpb25zIGFyZSB1bm5hbWVkLCBzbyB1c2UgYSBwbGFjZWhvbGRlcjpcbiAgICAgICAgICAgICAgICB2YXIgZnVuY19wcmVmaXggPSBmcmFtZS5mdW5jX25hbWUgPyBmcmFtZS5mdW5jX25hbWUgOiBEYXRhVmlzdWFsaXplci5VTk5BTUVEX1BSRUZJWDtcbiAgICAgICAgICAgICAgICAkLmVhY2goZnJhbWUub3JkZXJlZF92YXJuYW1lcywgZnVuY3Rpb24gKHh4eCwgdmFybmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaW5IaWRlVmFyc1NldChmdW5jX3ByZWZpeCwgdmFybmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3ByZWNvbXB1dGUgSElESU5HJywgZnVuY19wcmVmaXgsIHZhcm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBnZXQgb3V0IVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBmcmFtZS5lbmNvZGVkX2xvY2Fsc1t2YXJuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdHJ5IHRvIHVuaWZ5IHRoaXMgYmVoYXZpb3IgYmV0d2VlbiBDL0MrKyBhbmQgb3RoZXIgbGFuZ3VhZ2VzOlxuICAgICAgICAgICAgICAgICAgICBpZiAobXlWaXouaXNDcHBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dEFuZFJlY3Vyc2UodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXlWaXouaXNQcmltaXRpdmVUeXBlKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBnZXRSZWZJRCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUN1ckxheW91dChpZCwgbnVsbCwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhyb3VnaCByZW1haW5pbmcgZWxlbWVudHMgb2YgaWRzVG9SZW1vdmUgYW5kIFJFTU9WRSB0aGVtIGZyb20gY3VyTGF5b3V0XG4gICAgICAgICAgICBpZHNUb1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uIChpZCwgeHh4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkSW50ID0gTnVtYmVyKGlkKTsgLy8ga2V5cyBhcmUgc3RvcmVkIGFzIHN0cmluZ3MsIHNvIGNvbnZlcnQhISFcbiAgICAgICAgICAgICAgICAkLmVhY2goY3VyTGF5b3V0LCBmdW5jdGlvbiAocm93bnVtLCByb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9IHJvdy5pbmRleE9mKGlkSW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA+IDApIHsgLy8gcmVtZW1iZXIgdGhhdCBpbmRleCAwIG9mIHRoZSByb3cgaXMgdGhlIHJvdyBJRCB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5zcGxpY2UoaW5kLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBub3cgcmVtb3ZlIGVtcHR5IHJvd3MgKGkuZS4sIHRob3NlIHdpdGggb25seSBhIHJvdyBJRCB0YWcpIGZyb20gY3VyTGF5b3V0XG4gICAgICAgICAgICBjdXJMYXlvdXQgPSBjdXJMYXlvdXQuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHsgcmV0dXJuIHJvdy5sZW5ndGggPiAxOyB9KTtcbiAgICAgICAgICAgIG15Vml6LmN1clRyYWNlTGF5b3V0cy5wdXNoKGN1ckxheW91dCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmN1clRyYWNlTGF5b3V0cy5zcGxpY2UoMCwgMSk7IC8vIHJlbW92ZSBzZWVkZWQgZW1wdHkgc2VudGluZWwgZWxlbWVudFxuICAgICAgICBhc3NlcnQodGhpcy5jdXJUcmFjZS5sZW5ndGggPT0gdGhpcy5jdXJUcmFjZUxheW91dHMubGVuZ3RoKTtcbiAgICB9O1xuICAgIC8vIGlzIHRoaXMgdmlzdWFsaXplciBpbiBDIG9yIEMrKyBtb2RlPyB0aGUgZXZlbnR1YWwgZ29hbCBpcyB0byByZW1vdmVcbiAgICAvLyB0aGlzIHNwZWNpYWwtY2FzZSBrbHVkZ2UgY2hlY2sgYWx0b2dldGhlciBhbmQgaGF2ZSB0aGUgZW50aXJlXG4gICAgLy8gY29kZWJhc2UgYmUgdW5pZmllZC4gYnV0IGZvciBub3csIGtlZXAgQy9DKysgc2VwYXJhdGUgYmVjYXVzZSBJIGRvbid0XG4gICAgLy8gd2FudCB0byByaXNrIHNjcmV3aW5nIHVwIHRoZSB2aXN1YWxpemF0aW9ucyBmb3IgdGhlIG90aGVyIGxhbmd1YWdlc1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5pc0NwcE1vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5wYXJhbXMubGFuZyA9PT0gJ2MnIHx8IHRoaXMucGFyYW1zLmxhbmcgPT09ICdjcHAnKTtcbiAgICB9O1xuICAgIC8vIGNvbXBhcmUgdHdvIEpTT04tZW5jb2RlZCBjb21wb3VuZCBvYmplY3RzIGZvciBzdHJ1Y3R1cmFsIGVxdWl2YWxlbmNlOlxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5zdHJ1Y3R1cmFsbHlFcXVpdmFsZW50ID0gZnVuY3Rpb24gKG9iajEsIG9iajIpIHtcbiAgICAgICAgLy8gcHVudCBpZiBlaXRoZXIgaXNuJ3QgYSBjb21wb3VuZCB0eXBlXG4gICAgICAgIGlmICh0aGlzLmlzUHJpbWl0aXZlVHlwZShvYmoxKSB8fCB0aGlzLmlzUHJpbWl0aXZlVHlwZShvYmoyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG11c3QgYmUgdGhlIHNhbWUgY29tcG91bmQgdHlwZVxuICAgICAgICBpZiAob2JqMVswXSAhPSBvYmoyWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXVzdCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cyBvciBmaWVsZHNcbiAgICAgICAgaWYgKG9iajEubGVuZ3RoICE9IG9iajIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yIGEgbGlzdCBvciB0dXBsZSwgc2FtZSBzaXplIChlLmcuLCBhIGNvbnMgY2VsbCBpcyBhIGxpc3QvdHVwbGUgb2Ygc2l6ZSAyKVxuICAgICAgICBpZiAob2JqMVswXSA9PSAnTElTVCcgfHwgb2JqMVswXSA9PSAnVFVQTEUnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdGFydGluZ0luZCA9IC0xO1xuICAgICAgICAgICAgaWYgKG9iajFbMF0gPT0gJ0RJQ1QnKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRpbmdJbmQgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob2JqMVswXSA9PSAnSU5TVEFOQ0UnKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRpbmdJbmQgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob2JqMVswXSA9PSAnSU5TVEFOQ0VfUFBSSU5UJykge1xuICAgICAgICAgICAgICAgIHN0YXJ0aW5nSW5kID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gcHVudCBvbiBhbGwgb3RoZXIgdHlwZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvYmoxZmllbGRzID0gZDMubWFwKCk7XG4gICAgICAgICAgICAvLyBmb3IgYSBkaWN0IG9yIG9iamVjdCBpbnN0YW5jZSwgc2FtZSBuYW1lcyBvZiBmaWVsZHMgKG9yZGVyaW5nIGRvZXNuJ3QgbWF0dGVyKVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0aW5nSW5kOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG9iajFmaWVsZHMuc2V0KG9iajFbaV1bMF0sIDEpOyAvLyB1c2UgYXMgYSBzZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydGluZ0luZDsgaSA8IG9iajIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9iajFmaWVsZHMuaGFzKG9iajJbaV1bMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLmlzUHJpbWl0aXZlVHlwZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGhvb2tfcmVzdWx0ID0gdGhpcy5vd25lci50cnlfaG9vayhcImlzUHJpbWl0aXZlVHlwZVwiLCB7IG9iajogb2JqIH0pO1xuICAgICAgICBpZiAoaG9va19yZXN1bHRbMF0pXG4gICAgICAgICAgICByZXR1cm4gaG9va19yZXN1bHRbMV07XG4gICAgICAgIC8vIG51bGwgaXMgYSBwcmltaXRpdmVcbiAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgLy8ga2x1ZGd5XG4gICAgICAgICAgICByZXR1cm4gKG9ialswXSA9PSAnSU1QT1JURURfRkFVWF9QUklNSVRJVkUnIHx8XG4gICAgICAgICAgICAgICAgb2JqWzBdID09ICdTUEVDSUFMX0ZMT0FUJyB8fCBvYmpbMF0gPT0gJ0pTX1NQRUNJQUxfVkFMJyB8fFxuICAgICAgICAgICAgICAgIG9ialswXSA9PSAnQ19EQVRBJyAvKiBUT0RPOiBpcyB0aGlzIHJpZ2h0PyE/ICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vbi1vYmplY3RzIGFyZSBwcmltaXRpdmVzXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gVGhpcyBpcyB0aGUgbWFpbiBldmVudCByaWdodCBoZXJlISEhXG4gICAgLy9cbiAgICAvLyBUaGUgXCI0LjBcIiB2ZXJzaW9uIG9mIHJlbmRlckRhdGFTdHJ1Y3R1cmVzIHdhcyByZWZhY3RvcmVkIHRvIGJlIG11Y2hcbiAgICAvLyBsZXNzIG1vbm9saXRoaWMgYW5kIG1vcmUgbW9kdWxhci4gSXQgd2FzIG1hZGUgcG9zc2libGUgYnkgZmlyc3RcbiAgICAvLyBjcmVhdGluZyBhIHN1aXRlIG9mIGZyb250ZW5kIEpTIHJlZ3Jlc3Npb24gdGVzdHMgc28gdGhhdCBJIGZlbHQgbW9yZVxuICAgIC8vIGNvbWZvcnRhYmxlIG11Y2tpbmcgYXJvdW5kIHdpdGggdGhlIHN1cGVyLWJyaXR0bGUgY29kZSBpbiB0aGlzXG4gICAgLy8gZnVuY3Rpb24uIFRoaXMgdmVyc2lvbiB3YXMgY3JlYXRlZCBpbiBBcHJpbCAyMDE0LiBGb3IgcmVmZXJlbmNlLFxuICAgIC8vIGJlZm9yZSByZWZhY3RvcmluZywgdGhpcyBmdW5jdGlvbiB3YXMgMSwwMzAgbGluZXMgb2YgY29udm9sdXRlZCBjb2RlIVxuICAgIC8vXG4gICAgLy8gKEFsc28gYWRkZWQgdGhlIHJpZ2h0d2FyZCBudWRnZSBoYWNrIHRvIG1ha2UgdHJlZS1saWtlIHN0cnVjdHVyZXNcbiAgICAvLyBsb29rIG1vcmUgc2FuZSB3aXRob3V0IGFueSBzb3BoaXN0aWNhdGVkIGdyYXBoIHJlbmRlcmluZyBjb2RlLiBUaGFua3NcbiAgICAvLyB0byBKb2huIERlTmVybyBmb3IgdGhpcyBzdWdnZXN0aW9uIGFsbCB0aGUgd2F5IGJhY2sgaW4gRmFsbCAyMDEyLilcbiAgICAvL1xuICAgIC8vIFRoZSBcIjMuMFwiIHZlcnNpb24gb2YgcmVuZGVyRGF0YVN0cnVjdHVyZXMgcmVuZGVycyB2YXJpYWJsZXMgaW5cbiAgICAvLyBhIHN0YWNrLCB2YWx1ZXMgaW4gYSBzZXBhcmF0ZSBoZWFwLCBhbmQgZHJhd3MgbGluZSBjb25uZWN0b3JzXG4gICAgLy8gdG8gcmVwcmVzZW50IGJvdGggc3RhY2stPmhlYXAgb2JqZWN0IHJlZmVyZW5jZXMgYW5kLCBtb3JlIGltcG9ydGFudGx5LFxuICAgIC8vIGhlYXAtPmhlYXAgcmVmZXJlbmNlcy4gVGhpcyB2ZXJzaW9uIHdhcyBjcmVhdGVkIGluIEF1Z3VzdCAyMDEyLlxuICAgIC8vXG4gICAgLy8gVGhlIFwiMi4wXCIgdmVyc2lvbiBvZiByZW5kZXJEYXRhU3RydWN0dXJlcyByZW5kZXJzIHZhcmlhYmxlcyBpblxuICAgIC8vIGEgc3RhY2sgYW5kIHZhbHVlcyBpbiBhIHNlcGFyYXRlIGhlYXAsIHdpdGggZGF0YSBzdHJ1Y3R1cmUgYWxpYXNpbmdcbiAgICAvLyBleHBsaWNpdGx5IHJlcHJlc2VudGVkIHZpYSBsaW5lIGNvbm5lY3RvcnMgKHRoYW5rcyB0byBqc1BsdW1iIGxpYikuXG4gICAgLy8gVGhpcyB2ZXJzaW9uIHdhcyBjcmVhdGVkIGluIFNlcHRlbWJlciAyMDExLlxuICAgIC8vXG4gICAgLy8gVGhlIE9SSUdJTkFMIFwiMS4wXCIgdmVyc2lvbiBvZiByZW5kZXJEYXRhU3RydWN0dXJlc1xuICAgIC8vIHdhcyBjcmVhdGVkIGluIEphbnVhcnkgMjAxMCBhbmQgcmVuZGVyZWQgdmFyaWFibGVzIGFuZCB2YWx1ZXNcbiAgICAvLyBJTkxJTkUgd2l0aGluIGVhY2ggc3RhY2sgZnJhbWUgd2l0aG91dCBhbnkgZXhwbGljaXQgcmVwcmVzZW50YXRpb25cbiAgICAvLyBvZiBkYXRhIHN0cnVjdHVyZSBhbGlhc2luZy4gVGhhdCBpcywgYWxpYXNlZCBvYmplY3RzIHdlcmUgcmVuZGVyZWRcbiAgICAvLyBtdWx0aXBsZSB0aW1lcywgYW5kIGEgdW5pcXVlIElEIGxhYmVsIHdhcyB1c2VkIHRvIGlkZW50aWZ5IGFsaWFzZXMuXG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLnJlbmRlckRhdGFTdHJ1Y3R1cmVzID0gZnVuY3Rpb24gKGN1ckluc3RyKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ3JlbmRlckRhdGFTdHJ1Y3R1cmVzJywgY3VySW5zdHIpO1xuICAgICAgICB2YXIgbXlWaXogPSB0aGlzOyAvLyB0byBwcmV2ZW50IGNvbmZ1c2lvbiBvZiAndGhpcycgaW5zaWRlIG9mIG5lc3RlZCBmdW5jdGlvbnNcbiAgICAgICAgdmFyIGN1ckVudHJ5ID0gdGhpcy5jdXJUcmFjZVtjdXJJbnN0cl07XG4gICAgICAgIHZhciBjdXJUb3BsZXZlbExheW91dCA9IHRoaXMuY3VyVHJhY2VMYXlvdXRzW2N1ckluc3RyXTtcbiAgICAgICAgbXlWaXoucmVzZXRKc1BsdW1iTWFuYWdlcigpOyAvLyB2ZXJ5IGltcG9ydGFudCEhIVxuICAgICAgICAvLyBmb3Igc2ltcGxpY2l0eSAoYnV0IHNhY3JpZmljaW5nIHNvbWUgcGVyZm9ybWFuY2UpLCBkZWxldGUgYWxsXG4gICAgICAgIC8vIGNvbm5lY3RvcnMgYW5kIHJlZHJhdyB0aGVtIGZyb20gc2NyYXRjaC4gZG9pbmcgc28gYXZvaWRzIG15c3RlcmlvdXNcbiAgICAgICAgLy8ganNQbHVtYiBjb25uZWN0b3IgYWxpZ25tZW50IGlzc3VlcyB3aGVuIHRoZSB2aXN1YWxpemVyJ3MgZW5jbG9zaW5nXG4gICAgICAgIC8vIGRpdiBjb250YWlucywgc2F5LCBhIFwicG9zaXRpb246IHJlbGF0aXZlO1wiIENTUyB0YWdcbiAgICAgICAgLy8gKHdoaWNoIGhhcHBlbnMgaW4gdGhlIElQeXRob24gTm90ZWJvb2spXG4gICAgICAgIHZhciBleGlzdGluZ0Nvbm5lY3Rpb25FbmRwb2ludElEcyA9IGQzLm1hcCgpO1xuICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KHsgc2NvcGU6ICd2YXJWYWx1ZVBvaW50ZXInIH0pLmVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgVkVSWSBjcnVkZSwgYnV0IHRvIHByZXZlbnQgbXVsdGlwbGUgcmVkdW5kYW50IEhFQVAtPkhFQVBcbiAgICAgICAgICAgIC8vIGNvbm5lY3RvcnMgZnJvbSBiZWluZyBkcmF3biB3aXRoIHRoZSBzYW1lIHNvdXJjZSBhbmQgb3JpZ2luLCB3ZSBuZWVkIHRvIGZpcnN0XG4gICAgICAgICAgICAvLyBERUxFVEUgQUxMIGV4aXN0aW5nIEhFQVAtPkhFQVAgY29ubmVjdGlvbnMsIGFuZCB0aGVuIHJlLXJlbmRlciBhbGwgb2ZcbiAgICAgICAgICAgIC8vIHRoZW0gaW4gZWFjaCBjYWxsIHRvIHRoaXMgZnVuY3Rpb24uIFRoZSByZWFzb24gd2h5IHdlIGNhbid0IHNhZmVseVxuICAgICAgICAgICAgLy8gaG9sZCBvbnRvIHRoZW0gaXMgYmVjYXVzZSB0aGVyZSdzIG5vIHdheSB0byBndWFyYW50ZWUgdGhhdCB0aGVcbiAgICAgICAgICAgIC8vICpfX2hlYXBfcG9pbnRlcl9zcmNfPHNyYyBpZD4gSURzIGFyZSBjb25zaXN0ZW50IGFjcm9zcyBleGVjdXRpb24gcG9pbnRzLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRodXMsIG9ubHkgYWRkIHRvIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzIGlmIHRoaXMgaXMgTk9UIGhlYXAtPmhlYXBcbiAgICAgICAgICAgIGlmICghYy5zb3VyY2VJZC5tYXRjaChoZWFwUHRyU3JjUkUpKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KGMuc291cmNlSWQsIGMudGFyZ2V0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGV4aXN0aW5nUGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcyA9IGQzLm1hcCgpO1xuICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KHsgc2NvcGU6ICdmcmFtZVBhcmVudFBvaW50ZXInIH0pLmVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5zZXQoYy5zb3VyY2VJZCwgYy50YXJnZXRJZCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB3aGF0IHZhcmlhYmxlcy9maWVsZHMgd2VyZSBoaWRkZW4gaW4gdGhpcyBjYWxsIHRvIHJlbmRlckRhdGFTdHJ1Y3R1cmVzP1xuICAgICAgICAvLyAobWFrZSB0aGVzZSBmaWVsZHMgYW5kIG5vdCBsb2NhbHMgc28gdGhhdCB3ZSBjYW4gYWNjZXNzIHRoZW0gaW5cbiAgICAgICAgLy8gb3RoZXIgbWV0aG9kcyB0b28sIGVyZ2gpXG4gICAgICAgIG15Vml6LnZhcnNIaWRkZW4gPSBbXTtcbiAgICAgICAgbXlWaXouZmllbGRzSGlkZGVuID0gW107XG4gICAgICAgIC8vIEhlYXAgb2JqZWN0IHJlbmRlcmluZyBwaGFzZTpcbiAgICAgICAgLy8gY291bnQgZXZlcnl0aGluZyBpbiBjdXJUb3BsZXZlbExheW91dCBhcyBhbHJlYWR5IHJlbmRlcmVkIHNpbmNlIHdlIHdpbGwgcmVuZGVyIHRoZW1cbiAgICAgICAgLy8gaW4gZDMgLmVhY2goKSBzdGF0ZW1lbnRzXG4gICAgICAgICQuZWFjaChjdXJUb3BsZXZlbExheW91dCwgZnVuY3Rpb24gKHh4eCwgcm93KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYmpJRCA9IHJvd1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgaGVhcE9iaklEID0gbXlWaXouZ2VuZXJhdGVIZWFwT2JqSUQob2JqSUQsIGN1ckluc3RyKTtcbiAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5yZW5kZXJlZEhlYXBPYmplY3RJRHMuc2V0KGhlYXBPYmpJRCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB1c2UgZDMgdG8gcmVuZGVyIHRoZSBoZWFwIGJ5IG1hcHBpbmcgY3VyVG9wbGV2ZWxMYXlvdXQgaW50byA8dGFibGUgY2xhc3M9XCJoZWFwUm93XCI+XG4gICAgICAgIC8vIGFuZCA8dGQgY2xhc3M9XCJ0b3BsZXZlbEhlYXBPYmplY3RcIj4gZWxlbWVudHNcbiAgICAgICAgLy8gYmVmb3JlIHdlIGNsZWFyIHRoZSBoZWFwIGRpdiBiZWxvdywgcmVjb3JkIHRoZSBjdXN0b20gcG9zaXRpb25zXG4gICAgICAgIC8vIG9mIGFueSBoZWFwT2JqZWN0cyB0aGF0IHdlJ3ZlIG1hZGUgYXMgZHJhZ2dhYmxlICphbmQqIHRoYXQncyBiZWVuXG4gICAgICAgIC8vIGRyYWdnZWQgc29tZXdoZXJlIGRpZmZlcmVudCAoYXMgaW5kaWNhdGVkIGJ5IHRoZSBqUXVlcnlcbiAgICAgICAgLy8gZGF0YSgnZHJhZ2dlZENTUycpIGF0dHJpYnV0ZSBiZWluZyBzZXQgdG8gdGhlIGN1c3RvbSBDU1Mgb2YgdGhlXG4gICAgICAgIC8vIGRyYWdnZWQgb2JqZWN0LCB3aGljaCBzaG91bGQgY29udGFpbiBpdHMgY3VycmVudCBjdXN0b20gcG9zaXRpb24pXG4gICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnLmhlYXBPYmplY3QnKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICB2YXIgZHJhZ2dlZENTUyA9ICQoZSkuZGF0YSgnZHJhZ2dlZENTUycpO1xuICAgICAgICAgICAgaWYgKGRyYWdnZWRDU1MpIHtcbiAgICAgICAgICAgICAgICAvLyBzYXZlIGEgbWFwcGluZyBiZXR3ZWVuIHRoZSAuaGVhcE9iamVjdCBpZCBhbmQgaXRzIGRyYWdnZWRDU1NcbiAgICAgICAgICAgICAgICBteVZpei5kcmFnZ2VkSGVhcE9iamVjdENTUy5zZXQoJChlKS5hdHRyKCdpZCcpLCBkcmFnZ2VkQ1NTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIG5vdyBpdCdzIHNhZmUgdG8gdG90YWxseSBlcmFzZSBhbGwgLmhlYXBPYmplY3QgZWxlbWVudHMgYnlcbiAgICAgICAgLy8gZW1wdHlpbmcgJyNoZWFwJyBiZWxvdyAuLi5cbiAgICAgICAgLy8gZm9yIHNpbXBsaWNpdHksIENMRUFSIHRoaXMgZW50aXJlIGRpdiBldmVyeSB0aW1lLCB3aGljaCB0b3RhbGx5XG4gICAgICAgIC8vIGdldHMgcmlkIG9mIHRoZSBpbmNyZW1lbnRhbCBiZW5lZml0cyBvZiB1c2luZyBkMyBmb3IsIHNheSxcbiAgICAgICAgLy8gdHJhbnNpdGlvbnMgb3IgZWZmaWNpZW50IHVwZGF0ZXMuIGJ1dCBpdCBwcm92aWRlcyBtb3JlXG4gICAgICAgIC8vIGRldGVybWluaXN0aWMgYW5kIHByZWRpY3RhYmxlIG91dHB1dCBmb3Igb3RoZXIgZnVuY3Rpb25zLiBzaWdoLCBpJ21cbiAgICAgICAgLy8gbm90IHJlYWxseSB1c2luZyBkMyB0byB0aGUgZnVsbGVzdCwgYnV0IG9oIHdlbGxzIVxuICAgICAgICBteVZpei5kb21Sb290LmZpbmQoJyNoZWFwJylcbiAgICAgICAgICAgIC5lbXB0eSgpXG4gICAgICAgICAgICAuaHRtbChcIjxkaXYgaWQ9XFxcImhlYXBIZWFkZXJcXFwiPlwiICsgbXlWaXouZ2V0UmVhbExhYmVsKFwiT2JqZWN0c1wiKSArIFwiPC9kaXY+XCIpO1xuICAgICAgICB2YXIgaGVhcFJvd3MgPSBteVZpei5kb21Sb290RDMuc2VsZWN0KCcjaGVhcCcpXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCd0YWJsZS5oZWFwUm93JylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiAnaGVhcFJvdycgKyBpOyB9KSAvLyBhZGQgdW5pcXVlIElEXG4gICAgICAgICAgICAuZGF0YShjdXJUb3BsZXZlbExheW91dCwgZnVuY3Rpb24gKG9iakxzdCkge1xuICAgICAgICAgICAgcmV0dXJuIG9iakxzdFswXTsgLy8gcmV0dXJuIGZpcnN0IGVsZW1lbnQsIHdoaWNoIGlzIHRoZSByb3cgSUQgdGFnXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpbnNlcnQgbmV3IGhlYXAgcm93c1xuICAgICAgICBoZWFwUm93cy5lbnRlcigpLmFwcGVuZCgndGFibGUnKVxuICAgICAgICAgICAgLy8uZWFjaChmdW5jdGlvbihvYmpMc3QsIGkpIHtjb25zb2xlLmxvZygnTkVXIFJPVzonLCBvYmpMc3QsIGkpO30pXG4gICAgICAgICAgICAuYXR0cignaWQnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ2hlYXBSb3cnICsgaTsgfSkgLy8gYWRkIHVuaXF1ZSBJRFxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hlYXBSb3cnKTtcbiAgICAgICAgLy8gZGVsZXRlIGEgaGVhcCByb3dcbiAgICAgICAgdmFyIGhyRXhpdCA9IGhlYXBSb3dzLmV4aXQoKTtcbiAgICAgICAgaHJFeGl0XG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaWR4KSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdERUwgUk9XOicsIGQsIGlkeCk7XG4gICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7IC8vIGNydWNpYWwgZm9yIGdhcmJhZ2UgY29sbGVjdGluZyBqc1BsdW1iIGNvbm5lY3RvcnMhXG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIC8vIHVwZGF0ZSBhbiBleGlzdGluZyBoZWFwIHJvd1xuICAgICAgICB2YXIgdG9wbGV2ZWxIZWFwT2JqZWN0cyA9IGhlYXBSb3dzXG4gICAgICAgICAgICAvLy5lYWNoKGZ1bmN0aW9uKG9iakxzdCwgaSkgeyBjb25zb2xlLmxvZygnVVBEQVRFIFJPVzonLCBvYmpMc3QsIGkpOyB9KVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgndGQudG9wbGV2ZWxIZWFwT2JqZWN0JylcbiAgICAgICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiBkLnNsaWNlKDEsIGQubGVuZ3RoKTsgfSwgLyogbWFwIG92ZXIgZWFjaCByb3csIHNraXBwaW5nIHJvdyBJRCB0YWcgKi8gZnVuY3Rpb24gKG9iaklEKSB7IHJldHVybiBvYmpJRDsgfSAvKiBlYWNoIG9iamVjdCBJRCBpcyB1bmlxdWUgZm9yIGNvbnN0YW5jeSAqLyk7XG4gICAgICAgIC8vIGluc2VydCBhIG5ldyB0b3BsZXZlbEhlYXBPYmplY3RcbiAgICAgICAgdmFyIHRsaEVudGVyID0gdG9wbGV2ZWxIZWFwT2JqZWN0cy5lbnRlcigpLmFwcGVuZCgndGQnKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RvcGxldmVsSGVhcE9iamVjdCcpXG4gICAgICAgICAgICAuYXR0cignaWQnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ3RvcGxldmVsX2hlYXBfb2JqZWN0XycgKyBkOyB9KTsgLy8gVE9ETzogaXMgdGhpcyBDU1MgSUQgdW5pcXVlP1xuICAgICAgICAvLyByZW1lbWJlciB0aGF0IHRoZSBlbnRlciBzZWxlY3Rpb24gaXMgYWRkZWQgdG8gdGhlIHVwZGF0ZVxuICAgICAgICAvLyBzZWxlY3Rpb24gc28gdGhhdCB3ZSBjYW4gcHJvY2VzcyBpdCBsYXRlciAuLi5cbiAgICAgICAgLy8gdXBkYXRlIGEgdG9wbGV2ZWxIZWFwT2JqZWN0XG4gICAgICAgIHRvcGxldmVsSGVhcE9iamVjdHNcbiAgICAgICAgICAgIC5vcmRlcigpIC8vIFZFUlkgSU1QT1JUQU5UIHRvIHB1dCBpbiB0aGUgb3JkZXIgY29ycmVzcG9uZGluZyB0byBkYXRhIGVsZW1lbnRzXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAob2JqSUQsIGkpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ05FVy9VUERBVEUgRUxUJywgb2JqSUQpO1xuICAgICAgICAgICAgLy8gVE9ETzogYWRkIGEgc21vb3RoZXIgdHJhbnNpdGlvbiBpbiB0aGUgZnV0dXJlXG4gICAgICAgICAgICAvLyBSaWdodCBub3csIGp1c3QgZGVsZXRlIHRoZSBvbGQgZWxlbWVudCBhbmQgcmVuZGVyIGEgbmV3IG9uZSBpbiBpdHMgcGxhY2VcbiAgICAgICAgICAgICQodGhpcykuZW1wdHkoKTtcbiAgICAgICAgICAgIGlmIChteVZpei5pc0NwcE1vZGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHdoeSBtaWdodCB0aGlzIGJlIHVuZGVmaW5lZD8hPyBiZWNhdXNlIHRoZSBvYmplY3RcbiAgICAgICAgICAgICAgICAvLyBkaXNhcHBlYXJlZCBmcm9tIHRoZSBoZWFwIGFsbCBvZiBhIHN1ZGRlbj8hP1xuICAgICAgICAgICAgICAgIGlmIChjdXJFbnRyeS5oZWFwW29iaklEXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlckNvbXBvdW5kT2JqZWN0KG9iaklELCBjdXJJbnN0ciwgJCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyQ29tcG91bmRPYmplY3Qob2JqSUQsIGN1ckluc3RyLCAkKHRoaXMpLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGRlbGV0ZSBhIHRvcGxldmVsSGVhcE9iamVjdFxuICAgICAgICB2YXIgdGxoRXhpdCA9IHRvcGxldmVsSGVhcE9iamVjdHMuZXhpdCgpO1xuICAgICAgICB0bGhFeGl0XG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaWR4KSB7XG4gICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7IC8vIGNydWNpYWwgZm9yIGdhcmJhZ2UgY29sbGVjdGluZyBqc1BsdW1iIGNvbm5lY3RvcnMhXG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIC8vIFJlbmRlciBnbG9iYWxzIGFuZCB0aGVuIHN0YWNrIGZyYW1lcyB1c2luZyBkMzpcbiAgICAgICAgLy8gVE9ETzogdGhpcyBzb21ldGltZXMgc2VlbXMgYnVnZ3kgb24gU2FmYXJpLCBzbyBuaXggaXQgZm9yIG5vdzpcbiAgICAgICAgZnVuY3Rpb24gaGlnaGxpZ2h0QWxpYXNlZENvbm5lY3RvcnMoZCwgaSkge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyByb3cgY29udGFpbnMgYSBzdGFjayBwb2ludGVyLCB0aGVuIGhpZ2hsaWdodCBpdHMgYXJyb3cgYW5kXG4gICAgICAgICAgICAvLyBBTEwgYWxpYXNlcyB0aGF0IGFsc28gcG9pbnQgdG8gdGhlIHNhbWUgaGVhcCBvYmplY3RcbiAgICAgICAgICAgIHZhciBzdGFja1B0cklkID0gJCh0aGlzKS5maW5kKCdkaXYuc3RhY2tfcG9pbnRlcicpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICBpZiAoc3RhY2tQdHJJZCkge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZFRhcmdldElkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2Uuc2VsZWN0KHsgc291cmNlOiBzdGFja1B0cklkIH0pLmVhY2goZnVuY3Rpb24gKGMpIHsgZm91bmRUYXJnZXRJZCA9IGMudGFyZ2V0SWQ7IH0pO1xuICAgICAgICAgICAgICAgIC8vIHVzZSBmb3VuZFRhcmdldElkIHRvIGhpZ2hsaWdodCBBTEwgQUxJQVNFU1xuICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoKS5lYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjLnRhcmdldElkID09IGZvdW5kVGFyZ2V0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuc2V0SG92ZXIodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGMuY2FudmFzKS5jc3MoXCJ6LWluZGV4XCIsIDIwMDApOyAvLyAuLi4gYW5kIG1vdmUgaXQgdG8gdGhlIFZFUlkgRlJPTlRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuc2V0SG92ZXIoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdW5oaWdobGlnaHRBbGxDb25uZWN0b3JzKGQsIGkpIHtcbiAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoKS5lYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgYy5zZXRIb3ZlcihmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPOiBjb2FsZXNjZSBjb2RlIGZvciByZW5kZXJpbmcgZ2xvYmFscyBhbmQgc3RhY2sgZnJhbWVzLFxuICAgICAgICAvLyBzaW5jZSB0aGVyZSdzIHNvIG11Y2ggY29weS1hbmQtcGFzdGUgZ3Jvc3NuZXNzIHJpZ2h0IG5vd1xuICAgICAgICAvLyByZW5kZXIgYWxsIGdsb2JhbCB2YXJpYWJsZXMgSU4gVEhFIE9SREVSIHRoZXkgd2VyZSBjcmVhdGVkIGJ5IHRoZSBwcm9ncmFtLFxuICAgICAgICAvLyBpbiBvcmRlciB0byBlbnN1cmUgY29udGludWl0eTpcbiAgICAgICAgLy8gRGVyaXZlIGEgbGlzdCB3aGVyZSBlYWNoIGVsZW1lbnQgY29udGFpbnMgdmFybmFtZVxuICAgICAgICAvLyBhcyBsb25nIGFzIHZhbHVlIGlzIE5PVCB1bmRlZmluZWQuXG4gICAgICAgIC8vIChTb21ldGltZXMgZW50cmllcyBpbiBjdXJFbnRyeS5vcmRlcmVkX2dsb2JhbHMgYXJlIHVuZGVmaW5lZCxcbiAgICAgICAgLy8gc28gZmlsdGVyIHRob3NlIG91dC4pXG4gICAgICAgIHZhciByZWFsR2xvYmFsc0xzdCA9IFtdO1xuICAgICAgICAkLmVhY2goY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzLCBmdW5jdGlvbiAoaSwgdmFybmFtZSkge1xuICAgICAgICAgICAgaWYgKG15Vml6LmluSGlkZVZhcnNTZXQoRGF0YVZpc3VhbGl6ZXIuR0xPQkFMX1BSRUZJWCwgdmFybmFtZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVuZGVyIEhJRElORycsIERhdGFWaXN1YWxpemVyLkdMT0JBTF9QUkVGSVgsIHZhcm5hbWUpO1xuICAgICAgICAgICAgICAgIG15Vml6LnZhcnNIaWRkZW4ucHVzaChEYXRhVmlzdWFsaXplci5HTE9CQUxfUFJFRklYICsgJzonICsgdmFybmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBnZXQgb3V0IVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbCA9IGN1ckVudHJ5Lmdsb2JhbHNbdmFybmFtZV07XG4gICAgICAgICAgICAvLyAodXNlICchPT0nIHRvIGRvIGFuIEVYQUNUIG1hdGNoIGFnYWluc3QgdW5kZWZpbmVkKVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7IC8vIG1pZ2h0IG5vdCBiZSBkZWZpbmVkIGF0IHRoaXMgbGluZSwgd2hpY2ggaXMgT0tBWSFcbiAgICAgICAgICAgICAgICByZWFsR2xvYmFsc0xzdC5wdXNoKHZhcm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGdsb2JhbHNJRCA9IG15Vml6Lm93bmVyLmdlbmVyYXRlSUQoJ2dsb2JhbHMnKTtcbiAgICAgICAgdmFyIGdsb2JhbFRibElEID0gbXlWaXoub3duZXIuZ2VuZXJhdGVJRCgnZ2xvYmFsX3RhYmxlJyk7XG4gICAgICAgIHZhciBnbG9iYWxWYXJUYWJsZSA9IG15Vml6LmRvbVJvb3REMy5zZWxlY3QoJyMnICsgZ2xvYmFsVGJsSUQpXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCd0cicpXG4gICAgICAgICAgICAuZGF0YShyZWFsR2xvYmFsc0xzdCwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQ7IH0gLy8gdXNlIHZhcmlhYmxlIG5hbWUgYXMga2V5XG4gICAgICAgICk7XG4gICAgICAgIGdsb2JhbFZhclRhYmxlXG4gICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgLmFwcGVuZCgndHInKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ZhcmlhYmxlVHInKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBteVZpei5vd25lci5nZW5lcmF0ZUlEKHZhcm5hbWVUb0Nzc0lEKCdnbG9iYWxfXycgKyBkICsgJ190cicpKTsgLy8gbWFrZSBnbG9iYWxseSB1bmlxdWUgKHdpdGhpbiB0aGUgcGFnZSlcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBnbG9iYWxWYXJUYWJsZUNlbGxzID0gZ2xvYmFsVmFyVGFibGVcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJ3RkLnN0YWNrRnJhbWVWYXIsdGQuc3RhY2tGcmFtZVZhbHVlJylcbiAgICAgICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiBbZCwgZF07IH0pOyAvKiBtYXAgdmFybmFtZSBkb3duIGJvdGggY29sdW1ucyAqL1xuICAgICAgICBnbG9iYWxWYXJUYWJsZUNlbGxzLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RkJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiAoaSA9PSAwKSA/ICdzdGFja0ZyYW1lVmFyJyA6ICdzdGFja0ZyYW1lVmFsdWUnOyB9KTtcbiAgICAgICAgLy8gcmVtZW1iZXIgdGhhdCB0aGUgZW50ZXIgc2VsZWN0aW9uIGlzIGFkZGVkIHRvIHRoZSB1cGRhdGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIHByb2Nlc3MgaXQgbGF0ZXIgLi4uXG4gICAgICAgIC8vIFVQREFURVxuICAgICAgICBnbG9iYWxWYXJUYWJsZUNlbGxzXG4gICAgICAgICAgICAub3JkZXIoKSAvLyBWRVJZIElNUE9SVEFOVCB0byBwdXQgaW4gdGhlIG9yZGVyIGNvcnJlc3BvbmRpbmcgdG8gZGF0YSBlbGVtZW50c1xuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKHZhcm5hbWUsIGkpIHtcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwodmFybmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbHdheXMgZGVsZXRlIGFuZCByZS1yZW5kZXIgdGhlIGdsb2JhbCB2YXIgLi4uXG4gICAgICAgICAgICAgICAgLy8gTkI6IHRyeWluZyB0byBjYWNoZSBhbmQgY29tcGFyZSB0aGUgb2xkIHZhbHVlIHVzaW5nLFxuICAgICAgICAgICAgICAgIC8vIHNheSAtLSAkKHRoaXMpLmF0dHIoJ2RhdGEtY3VydmFsdWUnLCB2YWxTdHJpbmdSZXByKSAtLSBsZWFkcyB0b1xuICAgICAgICAgICAgICAgIC8vIGEgbXlzdGVyaW91cyBhbmQga2lsbGVyIG1lbW9yeSBsZWFrIHRoYXQgSSBjYW4ndCBmaWd1cmUgb3V0IHlldFxuICAgICAgICAgICAgICAgICQodGhpcykuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdmFybmFtZSBkb2Vzbid0IGNvbnRhaW4gYW55IHdlaXJkXG4gICAgICAgICAgICAgICAgLy8gY2hhcmFjdGVycyB0aGF0IGFyZSBpbGxlZ2FsIGZvciBDU1MgSUQncyAuLi5cbiAgICAgICAgICAgICAgICB2YXIgdmFyRGl2SUQgPSBteVZpei5vd25lci5nZW5lcmF0ZUlEKCdnbG9iYWxfXycgKyB2YXJuYW1lVG9Dc3NJRCh2YXJuYW1lKSk7XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBnZXQgcmlkIG9mIHRoZSBvbGQgY29ubmVjdG9yIGluIHByZXBhcmF0aW9uIGZvciByZW5kZXJpbmcgYSBuZXcgb25lOlxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzLnJlbW92ZSh2YXJEaXZJRCk7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGN1ckVudHJ5Lmdsb2JhbHNbdmFybmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG15Vml6LmlzUHJpbWl0aXZlVHlwZSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlclByaW1pdGl2ZU9iamVjdCh2YWwsIGN1ckluc3RyLCAkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsWzBdID09PSAnQ19TVFJVQ1QnIHx8IHZhbFswXSA9PT0gJ0NfQVJSQVknIHx8IHZhbFswXSA9PT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQyBzdHJ1Y3RzIGFuZCBhcnJheXMgY2FuIGJlIGlubGluZWQgaW4gZnJhbWVzXG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlckNTdHJ1Y3RBcnJheSh2YWwsIGN1ckluc3RyLCAkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFwT2JqSUQgPSBteVZpei5nZW5lcmF0ZUhlYXBPYmpJRChnZXRSZWZJRCh2YWwpLCBjdXJJbnN0cik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5wYXJhbXMudGV4dHVhbE1lbW9yeUxhYmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsSUQgPSB2YXJEaXZJRCArICdfdGV4dF9sYWJlbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm9iamVjdElkTGFiZWxcIiBpZD1cIicgKyBsYWJlbElEICsgJ1wiPmlkJyArIGdldFJlZklEKHZhbCkgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2RpdiMnICsgbGFiZWxJRCkuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5jb25uZWN0KHsgc291cmNlOiBsYWJlbElELCB0YXJnZXQ6IGhlYXBPYmpJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICd2YXJWYWx1ZVBvaW50ZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoeyBzb3VyY2U6IGxhYmVsSUQgfSkuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIHN0dWIgc28gdGhhdCB3ZSBjYW4gY29ubmVjdCBpdCB3aXRoIGEgY29ubmVjdG9yIGxhdGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgbmVlZHMgdGhpcyBkaXYgdG8gYmUgTk9OLUVNUFRZIGluIG9yZGVyIHRvIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIganNQbHVtYiBlbmRwb2ludHMsIHNvIHRoYXQncyB3aHkgd2UgYWRkIGFuIFwiJm5ic3A7XCIhXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInN0YWNrX3BvaW50ZXJcIiBpZD1cIicgKyB2YXJEaXZJRCArICdcIj4mbmJzcDs8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCghbXlWaXouanNQbHVtYk1hbmFnZXIuY29ubmVjdGlvbkVuZHBvaW50SURzLmhhcyh2YXJEaXZJRCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIuY29ubmVjdGlvbkVuZHBvaW50SURzLnNldCh2YXJEaXZJRCwgaGVhcE9iaklEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1NUQUNLLT5IRUFQJywgdmFyRGl2SUQsIGhlYXBPYmpJRCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBnbG9iYWxWYXJUYWJsZUNlbGxzLmV4aXQoKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQsIGlkeCkge1xuICAgICAgICAgICAgJCh0aGlzKS5lbXB0eSgpOyAvLyBjcnVjaWFsIGZvciBnYXJiYWdlIGNvbGxlY3RpbmcganNQbHVtYiBjb25uZWN0b3JzIVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICBnbG9iYWxWYXJUYWJsZS5leGl0KClcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAvLyBkZXRhY2ggYWxsIHN0YWNrX3BvaW50ZXIgY29ubmVjdG9ycyBmb3IgZGl2cyB0aGF0IGFyZSBiZWluZyByZW1vdmVkXG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5zdGFja19wb2ludGVyJykuZWFjaChmdW5jdGlvbiAoaSwgc3ApIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0Nvbm5lY3Rpb25FbmRwb2ludElEcy5yZW1vdmUoJChzcCkuYXR0cignaWQnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQodGhpcykuZW1wdHkoKTsgLy8gY3J1Y2lhbCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW5nIGpzUGx1bWIgY29ubmVjdG9ycyFcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgLy8gZm9yIGFlc3RoZXRpY3MsIGhpZGUgZ2xvYmFscyBpZiB0aGVyZSBhcmVuJ3QgYW55IGdsb2JhbHMgdG8gZGlzcGxheVxuICAgICAgICBpZiAoY3VyRW50cnkub3JkZXJlZF9nbG9iYWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnIycgKyBnbG9iYWxzSUQpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjJyArIGdsb2JhbHNJRCkuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhvbHkgY293LCB0aGUgZDMgY29kZSBmb3Igc3RhY2sgcmVuZGVyaW5nIGlzIEFCU09MVVRFTFkgTlVUUyFcbiAgICAgICAgdmFyIHN0YWNrRGl2ID0gbXlWaXouZG9tUm9vdEQzLnNlbGVjdCgnI3N0YWNrJyk7XG4gICAgICAgIC8vIFZFUlkgSU1QT1JUQU5UIGZvciBzZWxlY3RBbGwgc2VsZWN0b3IgdG8gYmUgU1VQRVIgc3BlY2lmaWMgaGVyZSFcbiAgICAgICAgdmFyIHN0YWNrRnJhbWVEaXYgPSBzdGFja0Rpdi5zZWxlY3RBbGwoJ2Rpdi5zdGFja0ZyYW1lLGRpdi56b21iaWVTdGFja0ZyYW1lJylcbiAgICAgICAgICAgIC5kYXRhKGN1ckVudHJ5LnN0YWNrX3RvX3JlbmRlciwgZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICAvLyBWRVJZIFZFUlkgVkVSWSBJTVBPUlRBTlQgZm9yIHByb3Blcmx5IGhhbmRsaW5nIGNsb3N1cmVzIGFuZCBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgICAgICAvLyAoc2VlIHRoZSBiYWNrZW5kIGNvZGUgZm9yIG1vcmUgZGV0YWlscylcbiAgICAgICAgICAgIHJldHVybiBmcmFtZS51bmlxdWVfaGFzaDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzZmRFbnRlciA9IHN0YWNrRnJhbWVEaXYuZW50ZXIoKVxuICAgICAgICAgICAgLmFwcGVuZCgnZGl2JylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7IHJldHVybiBkLmlzX3pvbWJpZSA/ICd6b21iaWVTdGFja0ZyYW1lJyA6ICdzdGFja0ZyYW1lJzsgfSlcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gZC5pc196b21iaWUgPyBteVZpei5vd25lci5nZW5lcmF0ZUlEKFwiem9tYmllX3N0YWNrXCIgKyBpKVxuICAgICAgICAgICAgICAgIDogbXlWaXoub3duZXIuZ2VuZXJhdGVJRChcInN0YWNrXCIgKyBpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIEhUTUw1IGN1c3RvbSBkYXRhIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC5hdHRyKCdkYXRhLWZyYW1lX2lkJywgZnVuY3Rpb24gKGZyYW1lLCBpKSB7IHJldHVybiBmcmFtZS5mcmFtZV9pZDsgfSlcbiAgICAgICAgICAgIC5hdHRyKCdkYXRhLXBhcmVudF9mcmFtZV9pZCcsIGZ1bmN0aW9uIChmcmFtZSwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIChmcmFtZS5wYXJlbnRfZnJhbWVfaWRfbGlzdC5sZW5ndGggPiAwKSA/IGZyYW1lLnBhcmVudF9mcmFtZV9pZF9saXN0WzBdIDogbnVsbDtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChmcmFtZSwgaSkge1xuICAgICAgICAgICAgaWYgKCFteVZpei5wYXJhbXMuZHJhd1BhcmVudFBvaW50ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSBydW4gaWYgbXlWaXoucGFyYW1zLmRyYXdQYXJlbnRQb2ludGVycyBpcyB0cnVlIC4uLlxuICAgICAgICAgICAgdmFyIG15X0NTU19pZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2cobXlfQ1NTX2lkLCAnRU5URVInKTtcbiAgICAgICAgICAgIC8vIHJlbmRlciBhIHBhcmVudCBwb2ludGVyIHdob3NlIFNPVVJDRSBub2RlIGlzIHRoaXMgZnJhbWVcbiAgICAgICAgICAgIC8vIGkuZS4sIGNvbm5lY3QgdGhpcyBmcmFtZSB0byBwLCB3aGVyZSB0aGlzLnBhcmVudF9mcmFtZV9pZCA9PSBwLmZyYW1lX2lkXG4gICAgICAgICAgICAvLyAoaWYgdGhpcy5wYXJlbnRfZnJhbWVfaWQgaXMgbnVsbCwgdGhlbiBwIGlzIHRoZSBnbG9iYWwgZnJhbWUpXG4gICAgICAgICAgICBpZiAoZnJhbWUucGFyZW50X2ZyYW1lX2lkX2xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfZnJhbWVfaWQgPSBmcmFtZS5wYXJlbnRfZnJhbWVfaWRfbGlzdFswXTtcbiAgICAgICAgICAgICAgICAvLyB0cmlja3kgdHVya2V5IVxuICAgICAgICAgICAgICAgIC8vIG9rIHRoaXMgaGFjayBqdXN0IEhBUFBFTlMgdG8gd29yayBieSBsdWNrIC4uLiB1c3VhbGx5IHRoZXJlIHdpbGwgb25seSBiZSBPTkUgZnJhbWVcbiAgICAgICAgICAgICAgICAvLyB0aGF0IG1hdGNoZXMgdGhpcyBzZWxlY3RvciwgYnV0IHNvbWV0aW1lcyBtdWx0aXBsZSBmcmFtZXMgbWF0Y2gsIGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICAgICAgICAgICAgLy8gRklOQUwgZnJhbWUgd2lucyBvdXQgKHNpbmNlIHBhcmVudFBvaW50ZXJDb25uZWN0aW9uRW5kcG9pbnRJRHMgaXMgYSBtYXAgd2hlcmUgZWFjaFxuICAgICAgICAgICAgICAgIC8vIGtleSBjYW4gYmUgbWFwcGVkIHRvIG9ubHkgT05FIHZhbHVlKS4gaXQgc28gaGFwcGVucyB0aGF0IHRoZSBmaW5hbCBmcmFtZSB3aW5uaW5nXG4gICAgICAgICAgICAgICAgLy8gb3V0IGxvb2tzIFwiZGVzaXJhYmxlXCIgZm9yIHNvbWUgb2YgdGhlIGNsb3N1cmUgdGVzdCBjYXNlcyB0aGF0IEkndmUgdHJpZWQuIGJ1dFxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY29kZSBpcyBxdWl0ZSBicml0dGxlIDooXG4gICAgICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCdkaXYjc3RhY2sgW2RhdGEtZnJhbWVfaWQ9JyArIHBhcmVudF9mcmFtZV9pZCArICddJykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50X0NTU19pZCA9ICQodGhpcykuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnY29ubmVjdCcsIG15X0NTU19pZCwgcGFyZW50X0NTU19pZCk7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLnBhcmVudFBvaW50ZXJDb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KG15X0NTU19pZCwgcGFyZW50X0NTU19pZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgYSBwYXJlbnQgcG9pbnRlciB0byB0aGUgZ2xvYmFsIGZyYW1lXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnY29ubmVjdCcsIG15X0NTU19pZCwgZ2xvYmFsc0lEKTtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGRvIHRoaXMgaWYgdGhlcmUgYXJlIGFjdHVhbGx5IHNvbWUgZ2xvYmFsIHZhcmlhYmxlcyB0byBkaXNwbGF5IC4uLlxuICAgICAgICAgICAgICAgIGlmIChjdXJFbnRyeS5vcmRlcmVkX2dsb2JhbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5wYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzLnNldChteV9DU1NfaWQsIGdsb2JhbHNJRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpY2t5IHR1cmtleTogcmVuZGVyIHBhcmVudCBwb2ludGVycyB3aG9zZSBUQVJHRVQgbm9kZSBpcyB0aGlzIGZyYW1lLlxuICAgICAgICAgICAgLy8gaS5lLiwgZm9yIGFsbCBmcmFtZXMgZiBzdWNoIHRoYXQgZi5wYXJlbnRfZnJhbWVfaWQgPT0gbXlfZnJhbWVfaWQsXG4gICAgICAgICAgICAvLyBjb25uZWN0IGYgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICAgIC8vIChtYWtlIHN1cmUgbm90IHRvIGNvbmZ1c2UgZnJhbWUgSURzIHdpdGggQ1NTIElEcyEhISlcbiAgICAgICAgICAgIHZhciBteV9mcmFtZV9pZCA9IGZyYW1lLmZyYW1lX2lkO1xuICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCdkaXYjc3RhY2sgW2RhdGEtcGFyZW50X2ZyYW1lX2lkPScgKyBteV9mcmFtZV9pZCArICddJykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZF9DU1NfaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnY29ubmVjdCcsIGNoaWxkX0NTU19pZCwgbXlfQ1NTX2lkKTtcbiAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5wYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzLnNldChjaGlsZF9DU1NfaWQsIG15X0NTU19pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNmZEVudGVyXG4gICAgICAgICAgICAuYXBwZW5kKCdkaXYnKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3N0YWNrRnJhbWVIZWFkZXInKVxuICAgICAgICAgICAgLmh0bWwoZnVuY3Rpb24gKGZyYW1lLCBpKSB7XG4gICAgICAgICAgICAvLyBwcmV0dHktcHJpbnQgbGFtYmRhcyBhbmQgZGlzcGxheSBvdGhlciB3ZWlyZCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAvLyAobWlnaHQgY29udGFpbiAnPCcgb3IgJz4nIGZvciB3ZWlyZCBuYW1lcyBsaWtlIDxnZW5leHByPilcbiAgICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGh0bWxzcGVjaWFsY2hhcnMoZnJhbWUuZnVuY19uYW1lKS5yZXBsYWNlKCcmbHQ7bGFtYmRhJmd0OycsICdcXHUwM2JiJyk7XG4gICAgICAgICAgICB2YXIgaGVhZGVyTGFiZWwgPSBmdW5jTmFtZTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGlzcGxheSBpZiB5b3UncmUgc29tZW9uZSdzIHBhcmVudCAodW5sZXNzIHNob3dBbGxGcmFtZUxhYmVscylcbiAgICAgICAgICAgIGlmIChmcmFtZS5pc19wYXJlbnQgfHwgbXlWaXoucGFyYW1zLnNob3dBbGxGcmFtZUxhYmVscykge1xuICAgICAgICAgICAgICAgIGhlYWRlckxhYmVsID0gJ2YnICsgZnJhbWUuZnJhbWVfaWQgKyAnOiAnICsgaGVhZGVyTGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvcHRpb25hbCAoYnR3LCB0aGlzIGlzbid0IGEgQ1NTIGlkKVxuICAgICAgICAgICAgaWYgKGZyYW1lLnBhcmVudF9mcmFtZV9pZF9saXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50RnJhbWVJRCA9IGZyYW1lLnBhcmVudF9mcmFtZV9pZF9saXN0WzBdO1xuICAgICAgICAgICAgICAgIGhlYWRlckxhYmVsID0gaGVhZGVyTGFiZWwgKyAnIFtwYXJlbnQ9ZicgKyBwYXJlbnRGcmFtZUlEICsgJ10nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobXlWaXoucGFyYW1zLnNob3dBbGxGcmFtZUxhYmVscykge1xuICAgICAgICAgICAgICAgIGhlYWRlckxhYmVsID0gaGVhZGVyTGFiZWwgKyAnIFtwYXJlbnQ9R2xvYmFsXSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyTGFiZWw7XG4gICAgICAgIH0pO1xuICAgICAgICBzZmRFbnRlclxuICAgICAgICAgICAgLmFwcGVuZCgndGFibGUnKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3N0YWNrRnJhbWVWYXJUYWJsZScpO1xuICAgICAgICB2YXIgc3RhY2tWYXJUYWJsZSA9IHN0YWNrRnJhbWVEaXZcbiAgICAgICAgICAgIC5vcmRlcigpIC8vIFZFUlkgSU1QT1JUQU5UIHRvIHB1dCBpbiB0aGUgb3JkZXIgY29ycmVzcG9uZGluZyB0byBkYXRhIGVsZW1lbnRzXG4gICAgICAgICAgICAuc2VsZWN0KCd0YWJsZScpLnNlbGVjdEFsbCgndHInKVxuICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgICAgICBpZiAobXlWaXouaGlkZVZhcnNTZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgaW4gaGlkZVZhcnNTZXRcbiAgICAgICAgICAgICAgICB2YXIgZnVuY19wcmVmaXhfMSA9IGZyYW1lLmZ1bmNfbmFtZSA/IGZyYW1lLmZ1bmNfbmFtZSA6IERhdGFWaXN1YWxpemVyLlVOTkFNRURfUFJFRklYO1xuICAgICAgICAgICAgICAgIC8vIGEgYml0IGluZWZmaWNpZW50IHNpbmNlIHdlIGNhbGwgZmlsdGVyIHR3aWNlLCBidXQgd2hhdGV2ZXMgOilcbiAgICAgICAgICAgICAgICB2YXIgaGlkZGVuVmFybmFtZXNMc3QgPSBmcmFtZS5vcmRlcmVkX3Zhcm5hbWVzLmZpbHRlcihmdW5jdGlvbiAodmFybmFtZSkgeyByZXR1cm4gbXlWaXouaW5IaWRlVmFyc1NldChmdW5jX3ByZWZpeF8xLCB2YXJuYW1lKTsgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlbmRlciBISURJTkcnLCBmdW5jX3ByZWZpeF8xLCBoaWRkZW5WYXJuYW1lc0xzdCk7XG4gICAgICAgICAgICAgICAgaGlkZGVuVmFybmFtZXNMc3QuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBteVZpei52YXJzSGlkZGVuLnB1c2goZnVuY19wcmVmaXhfMSArICc6JyArIGUpOyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWUub3JkZXJlZF92YXJuYW1lc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh2YXJuYW1lKSB7IHJldHVybiAhbXlWaXouaW5IaWRlVmFyc1NldChmdW5jX3ByZWZpeF8xLCB2YXJuYW1lKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodmFybmFtZSkgeyByZXR1cm4geyB2YXJuYW1lOiB2YXJuYW1lLCBmcmFtZTogZnJhbWUgfTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlYWNoIGxpc3QgZWxlbWVudCBjb250YWlucyBhIHJlZmVyZW5jZSB0byB0aGUgZW50aXJlIGZyYW1lXG4gICAgICAgICAgICAgICAgLy8gb2JqZWN0IGFzIHdlbGwgYXMgdGhlIHZhcmlhYmxlIG5hbWVcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBsb29rIGludG8gd2hldGhlciB3ZSBjYW4gdXNlIGQzIHBhcmVudCBub2RlcyB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFjayAuLi4gaHR0cDovL2Jvc3Qub2Nrcy5vcmcvbWlrZS9uZXN0L1xuICAgICAgICAgICAgICAgIHJldHVybiBmcmFtZS5vcmRlcmVkX3Zhcm5hbWVzLm1hcChmdW5jdGlvbiAodmFybmFtZSkgeyByZXR1cm4geyB2YXJuYW1lOiB2YXJuYW1lLCBmcmFtZTogZnJhbWUgfTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiB3aHkgd291bGQgZCBldmVyIGJlIG51bGw/IT8gd2VpcmRcbiAgICAgICAgICAgIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQudmFybmFtZTsgLy8gdXNlIHZhcmlhYmxlIG5hbWUgYXMga2V5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdGFja1ZhclRhYmxlXG4gICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgLmFwcGVuZCgndHInKVxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ZhcmlhYmxlVHInKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBteVZpei5vd25lci5nZW5lcmF0ZUlEKHZhcm5hbWVUb0Nzc0lEKGQuZnJhbWUudW5pcXVlX2hhc2ggKyAnX18nICsgZC52YXJuYW1lICsgJ190cicpKTsgLy8gbWFrZSBnbG9iYWxseSB1bmlxdWUgKHdpdGhpbiB0aGUgcGFnZSlcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzdGFja1ZhclRhYmxlQ2VsbHMgPSBzdGFja1ZhclRhYmxlXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCd0ZC5zdGFja0ZyYW1lVmFyLHRkLnN0YWNrRnJhbWVWYWx1ZScpXG4gICAgICAgICAgICAuZGF0YShmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gW2QsIGRdIC8qIG1hcCBpZGVudGljYWwgZGF0YSBkb3duIGJvdGggY29sdW1ucyAqLzsgfSk7XG4gICAgICAgIHN0YWNrVmFyVGFibGVDZWxscy5lbnRlcigpXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZCcpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gKGkgPT0gMCkgPyAnc3RhY2tGcmFtZVZhcicgOiAnc3RhY2tGcmFtZVZhbHVlJzsgfSk7XG4gICAgICAgIHN0YWNrVmFyVGFibGVDZWxsc1xuICAgICAgICAgICAgLm9yZGVyKCkgLy8gVkVSWSBJTVBPUlRBTlQgdG8gcHV0IGluIHRoZSBvcmRlciBjb3JyZXNwb25kaW5nIHRvIGRhdGEgZWxlbWVudHNcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICB2YXIgdmFybmFtZSA9IGQudmFybmFtZTtcbiAgICAgICAgICAgIHZhciBmcmFtZSA9IGQuZnJhbWU7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhcm5hbWUgPT0gJ19fcmV0dXJuX18nKVxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoJzxzcGFuIGNsYXNzPVwicmV0dmFsXCI+UmV0dXJuPGJyLz52YWx1ZTwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuaHRtbCh2YXJuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBkZWxldGUgYW5kIHJlLXJlbmRlciB0aGUgc3RhY2sgdmFyIC4uLlxuICAgICAgICAgICAgICAgIC8vIE5COiB0cnlpbmcgdG8gY2FjaGUgYW5kIGNvbXBhcmUgdGhlIG9sZCB2YWx1ZSB1c2luZyxcbiAgICAgICAgICAgICAgICAvLyBzYXkgLS0gJCh0aGlzKS5hdHRyKCdkYXRhLWN1cnZhbHVlJywgdmFsU3RyaW5nUmVwcikgLS0gbGVhZHMgdG9cbiAgICAgICAgICAgICAgICAvLyBhIG15c3RlcmlvdXMgYW5kIGtpbGxlciBtZW1vcnkgbGVhayB0aGF0IEkgY2FuJ3QgZmlndXJlIG91dCB5ZXRcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHZhcm5hbWUgYW5kIGZyYW1lLnVuaXF1ZV9oYXNoIGRvbid0IGNvbnRhaW4gYW55IHdlaXJkXG4gICAgICAgICAgICAgICAgLy8gY2hhcmFjdGVycyB0aGF0IGFyZSBpbGxlZ2FsIGZvciBDU1MgSUQncyAuLi5cbiAgICAgICAgICAgICAgICB2YXIgdmFyRGl2SUQgPSBteVZpei5vd25lci5nZW5lcmF0ZUlEKHZhcm5hbWVUb0Nzc0lEKGZyYW1lLnVuaXF1ZV9oYXNoICsgJ19fJyArIHZhcm5hbWUpKTtcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGdldCByaWQgb2YgdGhlIG9sZCBjb25uZWN0b3IgaW4gcHJlcGFyYXRpb24gZm9yIHJlbmRlcmluZyBhIG5ldyBvbmU6XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMucmVtb3ZlKHZhckRpdklEKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gZnJhbWUuZW5jb2RlZF9sb2NhbHNbdmFybmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG15Vml6LmlzUHJpbWl0aXZlVHlwZSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlclByaW1pdGl2ZU9iamVjdCh2YWwsIGN1ckluc3RyLCAkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsWzBdID09PSAnQ19TVFJVQ1QnIHx8IHZhbFswXSA9PT0gJ0NfQVJSQVknIHx8IHZhbFswXSA9PT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQyBzdHJ1Y3RzIGFuZCBhcnJheXMgY2FuIGJlIGlubGluZWQgaW4gZnJhbWVzXG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlckNTdHJ1Y3RBcnJheSh2YWwsIGN1ckluc3RyLCAkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFwT2JqSUQgPSBteVZpei5nZW5lcmF0ZUhlYXBPYmpJRChnZXRSZWZJRCh2YWwpLCBjdXJJbnN0cik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5wYXJhbXMudGV4dHVhbE1lbW9yeUxhYmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsSUQgPSB2YXJEaXZJRCArICdfdGV4dF9sYWJlbCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIm9iamVjdElkTGFiZWxcIiBpZD1cIicgKyBsYWJlbElEICsgJ1wiPmlkJyArIGdldFJlZklEKHZhbCkgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2RpdiMnICsgbGFiZWxJRCkuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5jb25uZWN0KHsgc291cmNlOiBsYWJlbElELCB0YXJnZXQ6IGhlYXBPYmpJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICd2YXJWYWx1ZVBvaW50ZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoeyBzb3VyY2U6IGxhYmVsSUQgfSkuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBhIHN0dWIgc28gdGhhdCB3ZSBjYW4gY29ubmVjdCBpdCB3aXRoIGEgY29ubmVjdG9yIGxhdGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgbmVlZHMgdGhpcyBkaXYgdG8gYmUgTk9OLUVNUFRZIGluIG9yZGVyIHRvIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIganNQbHVtYiBlbmRwb2ludHMsIHNvIHRoYXQncyB3aHkgd2UgYWRkIGFuIFwiJm5ic3A7XCIhXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInN0YWNrX3BvaW50ZXJcIiBpZD1cIicgKyB2YXJEaXZJRCArICdcIj4mbmJzcDs8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCghbXlWaXouanNQbHVtYk1hbmFnZXIuY29ubmVjdGlvbkVuZHBvaW50SURzLmhhcyh2YXJEaXZJRCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIuY29ubmVjdGlvbkVuZHBvaW50SURzLnNldCh2YXJEaXZJRCwgaGVhcE9iaklEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1NUQUNLLT5IRUFQJywgdmFyRGl2SUQsIGhlYXBPYmpJRCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdGFja1ZhclRhYmxlQ2VsbHMuZXhpdCgpXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaWR4KSB7XG4gICAgICAgICAgICAkKHRoaXMpLmVtcHR5KCk7IC8vIGNydWNpYWwgZm9yIGdhcmJhZ2UgY29sbGVjdGluZyBqc1BsdW1iIGNvbm5lY3RvcnMhXG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmVtb3ZlKCk7XG4gICAgICAgIHN0YWNrVmFyVGFibGUuZXhpdCgpXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcuc3RhY2tfcG9pbnRlcicpLmVhY2goZnVuY3Rpb24gKGksIHNwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGV0YWNoIGFsbCBzdGFja19wb2ludGVyIGNvbm5lY3RvcnMgZm9yIGRpdnMgdGhhdCBhcmUgYmVpbmcgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29ubmVjdGlvbkVuZHBvaW50SURzLnJlbW92ZSgkKHNwKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCh0aGlzKS5lbXB0eSgpOyAvLyBjcnVjaWFsIGZvciBnYXJiYWdlIGNvbGxlY3RpbmcganNQbHVtYiBjb25uZWN0b3JzIVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlbW92ZSgpO1xuICAgICAgICBzdGFja0ZyYW1lRGl2LmV4aXQoKVxuICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKGZyYW1lLCBpKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy5zdGFja19wb2ludGVyJykuZWFjaChmdW5jdGlvbiAoaSwgc3ApIHtcbiAgICAgICAgICAgICAgICAvLyBkZXRhY2ggYWxsIHN0YWNrX3BvaW50ZXIgY29ubmVjdG9ycyBmb3IgZGl2cyB0aGF0IGFyZSBiZWluZyByZW1vdmVkXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMucmVtb3ZlKCQoc3ApLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbXlfQ1NTX2lkID0gJCh0aGlzKS5hdHRyKCdpZCcpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhteV9DU1NfaWQsICdFWElUJyk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIHBvaW50ZXJzIHdoZXJlIGVpdGhlciB0aGUgc291cmNlIG9yIGRlc3RpbmF0aW9uIGVuZCBpcyBteV9DU1NfaWRcbiAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50UG9pbnRlckNvbm5lY3Rpb25FbmRwb2ludElEcy5mb3JFYWNoKGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgICAgICAgaWYgKGsgPT0gbXlfQ1NTX2lkIHx8IHYgPT0gbXlfQ1NTX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3JlbW92ZSBFUFAnLCBrLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdQYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzLnJlbW92ZShrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQodGhpcykuZW1wdHkoKTsgLy8gY3J1Y2lhbCBmb3IgZ2FyYmFnZSBjb2xsZWN0aW5nIGpzUGx1bWIgY29ubmVjdG9ycyFcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgLy8gUmlnaHR3YXJkIG51ZGdlIGhhY2sgdG8gbWFrZSB0cmVlLWxpa2Ugc3RydWN0dXJlcyBsb29rIG1vcmUgc2FuZVxuICAgICAgICAvLyB3aXRob3V0IGFueSBzb3BoaXN0aWNhdGVkIGdyYXBoIHJlbmRlcmluZyBjb2RlLiBUaGFua3MgdG8gSm9oblxuICAgICAgICAvLyBEZU5lcm8gZm9yIHRoaXMgc3VnZ2VzdGlvbiBpbiBGYWxsIDIwMTIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgaGFjayB0cmllcyB0byBlbnN1cmUgdGhhdCBhbGwgcG9pbnRlcnMgdGhhdCBzcGFuIGRpZmZlcmVudFxuICAgICAgICAvLyByb3dzIHBvaW50IFJJR0hUV0FSRCAoYXMgbXVjaCBhcyBwb3NzaWJsZSksIHdoaWNoIG1ha2VzIHRyZWUtbGlrZVxuICAgICAgICAvLyBzdHJ1Y3R1cmVzIGxvb2sgZGVjZW50LiBlLmcuLDpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gdCA9IFtbWydhJywgJ2InXSwgWydjJywgJ2QnXV0sIFtbMSwyXSwgWzMsNF1dXVxuICAgICAgICAvL1xuICAgICAgICAvLyBEbyBpdCBoZXJlIHNpbmNlIGFsbCBvZiB0aGUgZGl2cyBoYXZlIGJlZW4gcmVuZGVyZWQgYnkgbm93LCBidXQgbm9cbiAgICAgICAgLy8ganNQbHVtYiBhcnJvd3MgaGF2ZSBiZWVuIHJlbmRlcmVkIHlldC5cbiAgICAgICAgaWYgKHJpZ2h0d2FyZE51ZGdlSGFjaykge1xuICAgICAgICAgICAgLy8gQmFzaWMgaWRlYToga2VlcCBhIHNldCBvZiBhbGwgbnVkZ2VkIFJPV1MgZm9yIGVhY2ggbnVkZ2VyIHJvdywgc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2hlbiB5b3UgZ2V0IG51ZGdlZCwgeW91IGNhbiwgaW4gdHVybiwgbnVkZ2UgYWxsIG9mIHRoZSByb3dzXG4gICAgICAgICAgICAvLyB0aGF0IHlvdSd2ZSBudWRnZWQuIHRoaXMgYWxnb3JpdGhtIG5pY2VseSB0YWtlcyBjYXJlIG9mIHRoZSBmYWN0XG4gICAgICAgICAgICAvLyB0aGF0IHRoZXJlIG1pZ2h0IG5vdCBiZSBjeWNsZXMgaW4gb2JqZWN0cyB0aGF0IHlvdSd2ZSBudWRnZWQsIGJ1dFxuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIGN5Y2xlcyBpbiBlbnRpcmUgcm93cy5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBLZXk6ICAgSUQgb2YgLmhlYXBSb3cgb2JqZWN0IHRoYXQgZGlkIHRoZSBudWRnaW5nXG4gICAgICAgICAgICAvLyBWYWx1ZTogc2V0IG9mIC5oZWFwUm93IElEIHRoYXQgd2VyZSAodHJhbnNpdGl2ZWx5KSBudWRnZWQgYnkgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAvLyAgICAgICAgKHJlcHJlc2VudGVkIGFzIGEgZDMubWFwKVxuICAgICAgICAgICAgdmFyIG51ZGdlcl90b19udWRnZWRfcm93cyA9IHt9O1xuICAgICAgICAgICAgLy8gVkVSWSBJTVBPUlRBTlQgdG8gc29ydCB0aGVzZSBjb25uZWN0b3IgSURzIGluIGFzY2VuZGluZyBvcmRlcixcbiAgICAgICAgICAgIC8vIHNpbmNlIEkgdGhpbmsgdGhleSdyZSByZW5kZXJlZCBsZWZ0LXRvLXJpZ2h0LCB0b3AtdG8tYm90dG9tIGluIElEXG4gICAgICAgICAgICAvLyBvcmRlciwgc28gd2Ugd2FudCB0byBydW4gdGhlIG51ZGdpbmcgYWxnb3JpdGhtIGluIHRoYXQgc2FtZSBvcmRlci5cbiAgICAgICAgICAgIHZhciBzcmNIZWFwQ29ubmVjdG9ySURzID0gbXlWaXouanNQbHVtYk1hbmFnZXIuaGVhcENvbm5lY3Rpb25FbmRwb2ludElEcy5rZXlzKCk7XG4gICAgICAgICAgICBzcmNIZWFwQ29ubmVjdG9ySURzLnNvcnQoKTtcbiAgICAgICAgICAgICQuZWFjaChzcmNIZWFwQ29ubmVjdG9ySURzLCBmdW5jdGlvbiAoaSwgc3JjSUQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHN0SUQgPSBteVZpei5qc1BsdW1iTWFuYWdlci5oZWFwQ29ubmVjdGlvbkVuZHBvaW50SURzLmdldChzcmNJRCk7XG4gICAgICAgICAgICAgICAgdmFyIHNyY0FuY2hvck9iamVjdCA9IG15Vml6LmRvbVJvb3QuZmluZCgnIycgKyBzcmNJRCk7XG4gICAgICAgICAgICAgICAgdmFyIHNyY0hlYXBPYmplY3QgPSBzcmNBbmNob3JPYmplY3QuY2xvc2VzdCgnLmhlYXBPYmplY3QnKTtcbiAgICAgICAgICAgICAgICB2YXIgZHN0QW5jaG9yT2JqZWN0ID0gbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIGRzdElEKTtcbiAgICAgICAgICAgICAgICB2YXIgZHN0SGVhcE9iamVjdCA9IGRzdEFuY2hvck9iamVjdC5jbG9zZXN0KCcuaGVhcE9iamVjdCcpO1xuICAgICAgICAgICAgICAgIHZhciBzcmNIZWFwUm93ID0gc3JjSGVhcE9iamVjdC5jbG9zZXN0KCcuaGVhcFJvdycpO1xuICAgICAgICAgICAgICAgIHZhciBkc3RIZWFwUm93ID0gZHN0SGVhcE9iamVjdC5jbG9zZXN0KCcuaGVhcFJvdycpO1xuICAgICAgICAgICAgICAgIHZhciBzcmNSb3dJRCA9IHNyY0hlYXBSb3cuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgZHN0Um93SUQgPSBkc3RIZWFwUm93LmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgLy8gb25seSBjb25zaWRlciBudWRnaW5nIGlmIHNyY0lEIGFuZCBkc3RJRCBhcmUgb24gZGlmZmVyZW50IHJvd3NcbiAgICAgICAgICAgICAgICBpZiAoc3JjUm93SUQgIT0gZHN0Um93SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNyY0FuY2hvckxlZnQgPSBzcmNBbmNob3JPYmplY3Qub2Zmc2V0KCkubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNyY0hlYXBPYmplY3RMZWZ0ID0gc3JjSGVhcE9iamVjdC5vZmZzZXQoKS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHN0SGVhcE9iamVjdExlZnQgPSBkc3RIZWFwT2JqZWN0Lm9mZnNldCgpLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHNyY0FuY2hvck9iamVjdCBpcyB0byB0aGUgUklHSFQgb2YgZHN0SGVhcE9iamVjdCwgdGhlbiBudWRnZVxuICAgICAgICAgICAgICAgICAgICAvLyBkc3RIZWFwT2JqZWN0IHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjQW5jaG9yTGVmdCA+IGRzdEhlYXBPYmplY3RMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbiBleHRyYSBudWRnZSBvZiAzMnB4IG1hdGNoZXMgdXAgcHJldHR5IHdlbGwgd2l0aCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgQ1NTIHBhZGRpbmcgYXJvdW5kIC50b3BsZXZlbEhlYXBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IChzcmNBbmNob3JMZWZ0IC0gZHN0SGVhcE9iamVjdExlZnQpICsgMzI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgbWFyZ2luIHJhdGhlciB0aGFuIHBhZGRpbmcgc28gdGhhdCBhcnJvd3MgdGlwcyBzdGlsbCBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0IHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aG9hLCBzZXQgcmVsYXRpdmUgQ1NTIHVzaW5nICs9LCBuaWNlIVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHRyaWVkIGxvb2tpbmcgaW50byBzZXR0aW5nICdsZWZ0JyBkaXJlY3RseSBpbnN0ZWFkIG9mXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnbWFyZ2luLWxlZnQnLCBidXQgc29tZWhvdyB0aGUgcmVzdWx0cyBsb29rIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgZHN0SGVhcE9iamVjdC5jc3MoJ21hcmdpbi1sZWZ0JywgJys9JyArIGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coc3JjUm93SUQsICdudWRnZWQnLCBkc3RSb3dJRCwgJ2J5JywgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cl9udWRnZWVfc2V0ID0gbnVkZ2VyX3RvX251ZGdlZF9yb3dzW3NyY1Jvd0lEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJfbnVkZ2VlX3NldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyX251ZGdlZV9zZXQgPSBkMy5tYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWRnZXJfdG9fbnVkZ2VkX3Jvd3Nbc3JjUm93SURdID0gY3VyX251ZGdlZV9zZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJfbnVkZ2VlX3NldC5zZXQoZHN0Um93SUQsIDEgLyogdXNlbGVzcyB2YWx1ZSAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3cgaWYgZHN0Um93SUQgaXRzZWxmIG51ZGdlZCBzb21lIG90aGVyIG5vZGVzLCB0aGVuIG51ZGdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgb2YgaXRzIG51ZGdlZXMgYnkgZGVsdGEgYXMgd2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRzdF9udWRnZWVfc2V0ID0gbnVkZ2VyX3RvX251ZGdlZF9yb3dzW2RzdFJvd0lEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkc3RfbnVkZ2VlX3NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRzdF9udWRnZWVfc2V0LmZvckVhY2goZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgbnVkZ2UgaWYgaXQncyB5b3Vyc2VsZiwgdG8gbWFrZSBjeWNsZXMgbG9va1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzb21ld2hhdCByZWFzb25hYmxlIChhbHRob3VnaCBzdGlsbCBub3QgaWRlYWwpLiBlLmcuLDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB4ID0gWzEsMl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB5ID0gWzMseF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB4WzFdID0geVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoayAhPSBzcmNSb3dJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbnVkZ2UgdGhpcyBlbnRpcmUgUk9XIGJ5IGRlbHRhIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIwMjAtMDItMDU6IE9LIGluc3RlYWQgb2YgbnVkZ2luZyB0aGUgLmhlYXBSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9iamVjdCwgd2Ugd2lsbCB0cmF2ZXJzZSBpbnNpZGUgb2YgaXQgYW5kIG51ZGdlIGFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2YgaXRzIC5oZWFwT2JqZWN0IGNoaWxkcmVuIHRoYXQgcmVzaWRlIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aXRoaW4gLmhlYXBSb3cgPiAudG9wbGV2ZWxIZWFwT2JqZWN0ID4gLmhlYXBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aHkgYXJlIHdlIGRvaW5nIHRoaXM/IGJlY2F1c2Ugd2Ugd2FudCBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3Qgd2VsbCB3aXRoIGRyYWdnZWRIZWFwT2JqZWN0Q1NTIC4uLiBpZiBhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBpcyBkcmFnZ2VkLCB3ZSB3YW50IHRvIHJlc3RvcmUgaXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWNoZWQgcG9zaXRpb24gZnJvbSBkcmFnZ2VkSGVhcE9iamVjdENTUywgd2hpY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgb3ZlcnJpZGUgYWxsIG51ZGdlcy4gaWYgd2UgaGFkIG51ZGdlZCAuaGVhcFJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGlrZSB3ZSB1c2VkIHRvIGRvLCB0aGVuIC5oZWFwUm93IG1heSBpdHNlbGYgYmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG51ZGdlZCwgd2hpY2ggd291bGQga2luZCBvZiBvdmVycmlkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZHJhZ2dlZEhlYXBPYmplY3RDU1MsIHdoaWNoIGlzIGFwcGxpZWQgdG8gLmhlYXBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbGQgY29kZTogbnVkZ2UgLmhlYXBSb3cgaXRzZWxmIC4uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9teVZpei5kb21Sb290LmZpbmQoJyMnICsgaykuY3NzKCdtYXJnaW4tbGVmdCcsICcrPScgKyBkZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXcgY29kZTogbnVkZ2UgYWxsIC5oZWFwT2JqZWN0IGNoaWxkcmVuIG9mIC5oZWFwUm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAod2hpY2ggaXMgc2VwYXJhdGVkIGJ5IGFuIGludGVybWVkaWFyeSAudG9wbGV2ZWxIZWFwT2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIGspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCcudG9wbGV2ZWxIZWFwT2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oJy5oZWFwT2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3NzKCdtYXJnaW4tbGVmdCcsICcrPScgKyBkZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOQjogd2h5IGRvbid0IHdlIGp1c3QgdXNlIC5maW5kKCkgdG8gZGlyZWN0bHkgZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgLmhlYXBPYmplY3QgZWxlbWVudHM/IGJlY2F1c2UgdGhlcmUgYXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGltZXMgLmhlYXBPYmplY3QgdGhhdCBhcmUgbmVzdGVkICp3aXRoaW4qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlciAuaGVhcE9iamVjdCwgYW5kIHdlIGRvbid0IHdhbnQgdG8gdW5uZWNlc3NhcmlseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbnVkZ2UgdGhvc2UgLi4uIHRodXMsIHdlIHN0aWNrIHRvIC50b3BsZXZlbEhlYXBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gdHJhbnNpdGl2ZWx5IGFkZCB0byBlbnRyeSBmb3Igc3JjUm93SURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cl9udWRnZWVfc2V0LnNldChrLCAxIC8qIHVzZWxlc3MgdmFsdWUgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOQjogdWdoLCBJJ20gbm90IHZlcnkgaGFwcHkgYWJvdXQgdGhpcyBoYWNrLCBidXQgaXQgc2VlbXMgbmVjZXNzYXJ5XG4gICAgICAgIC8vIGZvciBlbWJlZGRpbmcgd2l0aGluIHNvcGhpc3RpY2F0ZWQgd2VicGFnZXMgc3VjaCBhcyBJUHl0aG9uIE5vdGVib29rXG4gICAgICAgIC8vIGRlbGV0ZSBhbGwgY29ubmVjdG9ycy4gZG8gdGhpcyBBUyBMQVRFIEFTIFBPU1NJQkxFIHNvIHRoYXRcbiAgICAgICAgLy8gKHByZXN1bWFibHkpIHRoZSBjYWxscyB0byAkKHRoaXMpLmVtcHR5KCkgZWFybGllciBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgICAgIC8vIHdpbGwgcHJvcGVybHkgZ2FyYmFnZSBjb2xsZWN0IHRoZSBjb25uZWN0b3JzXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdBUk5JTkc6IGZvciBlbnZpcm9ubWVudCBwYXJlbnQgcG9pbnRlcnMsIGdhcmJhZ2UgY29sbGVjdGlvbiBkb2Vzbid0IHNlZW0gdG9cbiAgICAgICAgLy8gYmUgd29ya2luZyBhcyBpbnRlbmRlZCA6KFxuICAgICAgICAvL1xuICAgICAgICAvLyBJIHN1c3BlY3QgdGhhdCB0aGlzIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0IHBhcmVudCBwb2ludGVycyBhcmUgU0lCTElOR1NcbiAgICAgICAgLy8gb2Ygc3RhY2tGcmFtZSBkaXZzIGFuZCBub3QgY2hpbGRyZW4sIHNvIHdoZW4gc3RhY2tGcmFtZSBkaXZzIGdldCBkZXN0cm95ZWQsXG4gICAgICAgIC8vIHRoZWlyIGFzc29jaWF0ZWQgcGFyZW50IHBvaW50ZXJzIGRvIE5PVC4pXG4gICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5yZXNldCgpO1xuICAgICAgICAvLyB1c2UganNQbHVtYiBzY29wZXMgdG8ga2VlcCB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIHBvaW50ZXJzIHNlcGFyYXRlZFxuICAgICAgICBmdW5jdGlvbiByZW5kZXJWYXJWYWx1ZUNvbm5lY3Rvcih2YXJJRCwgdmFsdWVJRCkge1xuICAgICAgICAgICAgLy8gc3BlY2lhbC1jYXNlIGhhbmRsaW5nIGZvciBDL0MrKyBwb2ludGVycywganVzdCB0byBrZWVwIGZyb20gcm9ja2luZ1xuICAgICAgICAgICAgLy8gdGhlIGJvYXQgb24gbXkgZXhpc3RpbmcgKGJhdHRsZS10ZXN0ZWQpIGNvZGVcbiAgICAgICAgICAgIGlmIChteVZpei5pc0NwcE1vZGUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChteVZpei5kb21Sb290LmZpbmQoJyMnICsgdmFsdWVJRCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5jb25uZWN0KHsgc291cmNlOiB2YXJJRCwgdGFyZ2V0OiB2YWx1ZUlELCBzY29wZTogJ3ZhclZhbHVlUG9pbnRlcicgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb2ludGVyIGlzbid0IHBvaW50aW5nIHRvIGFueXRoaW5nIHZhbGlkOyBwdXQgYSBwb28gZW1vamkgaGVyZVxuICAgICAgICAgICAgICAgICAgICBteVZpei5kb21Sb290LmZpbmQoJyMnICsgdmFySUQpLmh0bWwoJ1xcdUQ4M0RcXHVEQ0E5JyAvKiBwaWxlIG9mIHBvbyBlbW9qaSAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLmNvbm5lY3QoeyBzb3VyY2U6IHZhcklELCB0YXJnZXQ6IHZhbHVlSUQsIHNjb3BlOiAndmFyVmFsdWVQb2ludGVyJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxQYXJlbnRQb2ludGVyc1JlbmRlcmVkID0gMDtcbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyUGFyZW50UG9pbnRlckNvbm5lY3RvcihzcmNJRCwgZHN0SUQpIHtcbiAgICAgICAgICAgIC8vIFNVUEVSLURVUEVSLXVnbHkgaGFjayBzaW5jZSBJIGNhbid0IGZpZ3VyZSBvdXQgYSBjbGVhbmVyIHNvbHV0aW9uIGZvciBub3c6XG4gICAgICAgICAgICAvLyBpZiBlaXRoZXIgc3JjSUQgb3IgZHN0SUQgbm8gbG9uZ2VyIGV4aXN0cywgdGhlbiBTS0lQIHJlbmRlcmluZyAuLi5cbiAgICAgICAgICAgIGlmICgobXlWaXouZG9tUm9vdC5maW5kKCcjJyArIHNyY0lEKS5sZW5ndGggPT0gMCkgfHxcbiAgICAgICAgICAgICAgICAobXlWaXouZG9tUm9vdC5maW5kKCcjJyArIGRzdElEKS5sZW5ndGggPT0gMCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW5kZXJQYXJlbnRQb2ludGVyQ29ubmVjdG9yOicsIHNyY0lELCBkc3RJRCk7XG4gICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2UuY29ubmVjdCh7IHNvdXJjZTogc3JjSUQsIHRhcmdldDogZHN0SUQsXG4gICAgICAgICAgICAgICAgYW5jaG9yczogW1wiTGVmdE1pZGRsZVwiLCBcIkxlZnRNaWRkbGVcIl0sXG4gICAgICAgICAgICAgICAgLy8gJ2hvcml6b250YWxseSBvZmZzZXQnIHRoZSBwYXJlbnQgcG9pbnRlcnMgdXAgc28gdGhhdCB0aGV5IGRvbid0IGxvb2sgYXMgdWdseSAuLi5cbiAgICAgICAgICAgICAgICAvL2Nvbm5lY3RvcjogW1wiRmxvd2NoYXJ0XCIsIHsgc3R1YjogOSArICg2ICogKHRvdGFsUGFyZW50UG9pbnRlcnNSZW5kZXJlZCArIDEpKSB9XSxcbiAgICAgICAgICAgICAgICAvLyBhY3R1YWxseSBsZXQncyB0cnkgYSBiZXppZXIgY3VydmUgLi4uXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yOiBbXCJCZXppZXJcIiwgeyBjdXJ2aW5lc3M6IDQ1IH1dLFxuICAgICAgICAgICAgICAgIGVuZHBvaW50OiBbXCJEb3RcIiwgeyByYWRpdXM6IDQgfV0sXG4gICAgICAgICAgICAgICAgLy9ob3ZlclBhaW50U3R5bGU6IHtsaW5lV2lkdGg6IDEsIHN0cm9rZVN0eWxlOiBjb25uZWN0b3JJbmFjdGl2ZUNvbG9yfSwgLy8gbm8gaG92ZXIgY29sb3JzXG4gICAgICAgICAgICAgICAgc2NvcGU6ICdmcmFtZVBhcmVudFBvaW50ZXInIH0pO1xuICAgICAgICAgICAgdG90YWxQYXJlbnRQb2ludGVyc1JlbmRlcmVkKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFteVZpei5wYXJhbXMudGV4dHVhbE1lbW9yeUxhYmVscykge1xuICAgICAgICAgICAgLy8gcmUtcmVuZGVyIGV4aXN0aW5nIGNvbm5lY3RvcnMgYW5kIHRoZW4gLi4uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gTkI6IGluIEMvQysrIG1vZGUsIHRvIGtlZXAgdGhpbmdzIHNpbXBsZSwgZG9uJ3QgdHJ5IHRvIHJlZHJhd1xuICAgICAgICAgICAgLy8gZXhpc3RpbmdDb25uZWN0aW9uRW5kcG9pbnRJRHMgc2luY2Ugd2Ugd2FudCB0byByZWRyYXcgYWxsIGFycm93c1xuICAgICAgICAgICAgLy8gZWFjaCBhbmQgZXZlcnkgdGltZS5cbiAgICAgICAgICAgIGlmICghbXlWaXouaXNDcHBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0Nvbm5lY3Rpb25FbmRwb2ludElEcy5mb3JFYWNoKHJlbmRlclZhclZhbHVlQ29ubmVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBhbGwgdGhlIE5FVyBjb25uZWN0b3JzIHRoYXQgaGF2ZSBhcmlzZW4gaW4gdGhpcyBjYWxsIHRvIHJlbmRlckRhdGFTdHJ1Y3R1cmVzXG4gICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5jb25uZWN0aW9uRW5kcG9pbnRJRHMuZm9yRWFjaChyZW5kZXJWYXJWYWx1ZUNvbm5lY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gdGhlIHNhbWUgZm9yIGVudmlyb25tZW50IHBhcmVudCBwb2ludGVyc1xuICAgICAgICBpZiAobXlWaXoucGFyYW1zLmRyYXdQYXJlbnRQb2ludGVycykge1xuICAgICAgICAgICAgZXhpc3RpbmdQYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzLmZvckVhY2gocmVuZGVyUGFyZW50UG9pbnRlckNvbm5lY3Rvcik7XG4gICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5wYXJlbnRQb2ludGVyQ29ubmVjdGlvbkVuZHBvaW50SURzLmZvckVhY2gocmVuZGVyUGFyZW50UG9pbnRlckNvbm5lY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgLypcbiAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLnNlbGVjdCgpLmVhY2goZnVuY3Rpb24oYykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDT05OOicsIGMuc291cmNlSWQsIGMudGFyZ2V0SWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgKi9cbiAgICAgICAgLy9jb25zb2xlLmxvZygnLS0tJywgbXlWaXouanNQbHVtYkluc3RhbmNlLnNlbGVjdCgpLmxlbmd0aCwgJy0tLScpO1xuICAgICAgICBmdW5jdGlvbiBoaWdobGlnaHRfZnJhbWUoZnJhbWVJRCkge1xuICAgICAgICAgICAgbXlWaXouanNQbHVtYkluc3RhbmNlLnNlbGVjdCgpLmVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBlbmNsb3NpbmcgLnN0YWNrRnJhbWUgLi4uXG4gICAgICAgICAgICAgICAgdmFyIHN0YWNrRnJhbWVEaXYgPSBjLnNvdXJjZS5jbG9zZXN0KCcuc3RhY2tGcmFtZScpO1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgY29ubmVjdG9yIHN0YXJ0cyBpbiB0aGUgc2VsZWN0ZWQgc3RhY2sgZnJhbWUgLi4uXG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrRnJhbWVEaXYuYXR0cignaWQnKSA9PSBmcmFtZUlEKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gSElHSExJR0hUIElUIVxuICAgICAgICAgICAgICAgICAgICBjLnNldFBhaW50U3R5bGUoeyBsaW5lV2lkdGg6IDEsIHN0cm9rZVN0eWxlOiBjb25uZWN0b3JCYXNlQ29sb3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIGMuZW5kcG9pbnRzWzBdLnNldFBhaW50U3R5bGUoeyBmaWxsU3R5bGU6IGNvbm5lY3RvckJhc2VDb2xvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy9jLmVuZHBvaW50c1sxXS5zZXRWaXNpYmxlKGZhbHNlLCB0cnVlLCB0cnVlKTsgLy8gSlVTVCBzZXQgcmlnaHQgZW5kcG9pbnQgdG8gYmUgaW52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICQoYy5jYW52YXMpLmNzcyhcInotaW5kZXhcIiwgMTAwMCk7IC8vIC4uLiBhbmQgbW92ZSBpdCB0byB0aGUgVkVSWSBGUk9OVFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmb3IgaGVhcC0+aGVhcCBjb25uZWN0b3JzXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobXlWaXouanNQbHVtYk1hbmFnZXIuaGVhcENvbm5lY3Rpb25FbmRwb2ludElEcy5oYXMoYy5lbmRwb2ludHNbMF0uZWxlbWVudElkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1Agc2luY2UgaXQncyBhbHJlYWR5IHRoZSBjb2xvciBhbmQgc3R5bGUgd2Ugc2V0IGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogbWF5YmUgdGhpcyBuZWVkcyBzcGVjaWFsIGNvbnNpZGVyYXRpb24gZm9yIEMvQysrIGNvZGU/IGR1bm5vXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhY2tGcmFtZURpdi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgdW5oaWdobGlnaHQgaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gKG9ubHkgaWYgYy5zb3VyY2UgYWN0dWFsbHkgYmVsb25ncyB0byBhIHN0YWNrRnJhbWVEaXYgKGkuZS4sXG4gICAgICAgICAgICAgICAgICAgIC8vICBpdCBvcmlnaW5hdGVkIGZyb20gdGhlIHN0YWNrKS4gZm9yIGluc3RhbmNlLCBpbiBDIHRoZXJlIGFyZVxuICAgICAgICAgICAgICAgICAgICAvLyAgaGVhcCBwb2ludGVycywgYnV0IHdlIGRvZXNuJ3QgdXNlIGhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHNcbiAgICAgICAgICAgICAgICAgICAgLy8gIE5COiAyMDIwLTAyLTA0IC0gdXBncmFkZWQgQy9DKysgdG8gdXNlIGhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHMgKVxuICAgICAgICAgICAgICAgICAgICBjLnNldFBhaW50U3R5bGUoeyBsaW5lV2lkdGg6IDEsIHN0cm9rZVN0eWxlOiBjb25uZWN0b3JJbmFjdGl2ZUNvbG9yIH0pO1xuICAgICAgICAgICAgICAgICAgICBjLmVuZHBvaW50c1swXS5zZXRQYWludFN0eWxlKHsgZmlsbFN0eWxlOiBjb25uZWN0b3JJbmFjdGl2ZUNvbG9yIH0pO1xuICAgICAgICAgICAgICAgICAgICAvL2MuZW5kcG9pbnRzWzFdLnNldFZpc2libGUoZmFsc2UsIHRydWUsIHRydWUpOyAvLyBKVVNUIHNldCByaWdodCBlbmRwb2ludCB0byBiZSBpbnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgJChjLmNhbnZhcykuY3NzKFwiei1pbmRleFwiLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGNsZWFyIGV2ZXJ5dGhpbmcsIHRoZW4ganVzdCBhY3RpdmF0ZSB0aGlzIG9uZSAuLi5cbiAgICAgICAgICAgIG15Vml6LmRvbVJvb3QuZmluZChcIi5zdGFja0ZyYW1lXCIpLnJlbW92ZUNsYXNzKFwiaGlnaGxpZ2h0ZWRTdGFja0ZyYW1lXCIpO1xuICAgICAgICAgICAgbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIGZyYW1lSUQpLmFkZENsYXNzKFwiaGlnaGxpZ2h0ZWRTdGFja0ZyYW1lXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhpZ2hsaWdodCB0aGUgdG9wLW1vc3Qgbm9uLXpvbWJpZSBzdGFjayBmcmFtZSBvciwgaWYgbm90IGF2YWlsYWJsZSwgZ2xvYmFsc1xuICAgICAgICB2YXIgZnJhbWVfYWxyZWFkeV9oaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgICAgICAkLmVhY2goY3VyRW50cnkuc3RhY2tfdG9fcmVuZGVyLCBmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgaWYgKGUuaXNfaGlnaGxpZ2h0ZWQpIHtcbiAgICAgICAgICAgICAgICBoaWdobGlnaHRfZnJhbWUobXlWaXoub3duZXIuZ2VuZXJhdGVJRCgnc3RhY2snICsgaSkpO1xuICAgICAgICAgICAgICAgIGZyYW1lX2FscmVhZHlfaGlnaGxpZ2h0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFmcmFtZV9hbHJlYWR5X2hpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICBoaWdobGlnaHRfZnJhbWUobXlWaXoub3duZXIuZ2VuZXJhdGVJRCgnZ2xvYmFscycpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjdXN0b21pemVWaXpPcHRpb25zU2hvd24gLi4uXG4gICAgICAgIC8vIHVzZSBqUXVlcnlVSSdzIGRyYWdnYWJsZSB0byBtYWtlIGFsbCBoZWFwIG9iamVjdHMgY29udGFpbmVkXG4gICAgICAgIC8vIHdpdGhpbiBZT1VSU0VMRiBkcmFnZ2FibGUgKE5COiB1c2UgbXlWaXouZG9tUm9vdC5maW5kKCkgYW5kICpub3QqXG4gICAgICAgIC8vICQoKSBzaW5jZSB0aGUgbGF0dGVyIG1heSBzZWxlY3QgaGVhcCBvYmplY3RzIGJlbG9uZ2luZyB0byBPVEhFUlxuICAgICAgICAvLyBFeGVjdXRpb25WaXN1YWxpemVyIG9iamVjdHMgb24gcGFnZSEpXG4gICAgICAgIHZhciBuZWVkVG9SZWRyYXdDb25uZWN0b3JzID0gZmFsc2U7XG4gICAgICAgIG15Vml6LmRvbVJvb3QuZmluZCgnLmhlYXBPYmplY3QnKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAvLyB2ZXJ5IHN1YnRsZTogaWYgdGhpcyBpcyBhIC5oZWFwT2JqZWN0IHRoYXQncyAqbmVzdGVkKiB3aXRoaW5cbiAgICAgICAgICAgIC8vIGFub3RoZXIgb25lLCB0aGVuIGRvbid0IG1ha2UgaXQgZHJhZ2dhYmxlLCBzaW5jZSBpdCdzIHdlaXJkIHRvXG4gICAgICAgICAgICAvLyBiZSBhYmxlIHRvIGRyYWcgYSBuZXN0ZWQgb2JqZWN0IGluc2lkZSBvZiBpdHMgcGFyZW50IG9iamVjdDsgaW5cbiAgICAgICAgICAgIC8vIG90aGVyIHdvcmRzLCB3ZSB3YW50IHRvIGRyYWcgb25seSAudG9wbGV2ZWxIZWFwT2JqZWN0LCBidXQgaXQnc1xuICAgICAgICAgICAgLy8gY2xlYW5lciB0byBtYWtlIHRoZSAuaGVhcE9iamVjdCBlbGVtZW50IGRyYWdnYWJsZSBhbmQgbm90IHRoZVxuICAgICAgICAgICAgLy8gLnRvcGxldmVsSGVhcE9iamVjdCBlbGVtZW50XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoaXMgY29kZSBtYXkgYnJlYWsgaWYgd2UncmUgbmVzdGluZyBhbiBlbnRpcmVcbiAgICAgICAgICAgIC8vIEV4ZWN1dGlvblZpc3VhbGl6ZXIgaW5zdGFuY2UgaW5zaWRlIHRoZSAuaGVhcE9iamVjdCBvZiBhbm90aGVyXG4gICAgICAgICAgICAvLyBFeGVjdXRpb25WaXN1YWxpemVyIHNvIHRoYXQgZXZlcnkgLmhlYXBPYmplY3QgaW4gdGhlIGlubmVyIG9uZSBpc1xuICAgICAgICAgICAgLy8gYWN0dWFsbHkgaW4gdGhlIG91dGVyIG9uZSwgYnV0IGkgZG9uJ3Qgc2VlIHdobyB3b3VsZCBhY3R1YWxseSBkbyB0aGF0IVxuICAgICAgICAgICAgaWYgKCQoZSkucGFyZW50cygnLmhlYXBPYmplY3QnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgYSBjdXN0b20gcG9zaXRpb24gaWYgb25lIHdhcyBmb3VuZCBpbiBkcmFnZ2VkSGVhcE9iamVjdENTUyAuLi5cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0byBkbyB0aGlzIGFmdGVyIGFwcGx5aW5nIHJpZ2h0d2FyZE51ZGdlSGFjayBzbyB0aGF0XG4gICAgICAgICAgICAvLyB3ZSBvdmVycmlkZSB0aGUgcG9zaXRpb25zIG9mIGFueSBudWRnZWQgZWxlbWVudHMgd2l0aCBvbmVzIGZyb21cbiAgICAgICAgICAgIC8vIGRyYWdnZWRIZWFwT2JqZWN0Q1NTXG4gICAgICAgICAgICB2YXIgc2F2ZWREcmFnZ2VkQ1NTID0gbXlWaXouZHJhZ2dlZEhlYXBPYmplY3RDU1MuZ2V0KCQoZSkuYXR0cignaWQnKSk7XG4gICAgICAgICAgICBpZiAoc2F2ZWREcmFnZ2VkQ1NTKSB7XG4gICAgICAgICAgICAgICAgJChlKS5hdHRyKCdzdHlsZScsIHNhdmVkRHJhZ2dlZENTUyk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnR09UIFBPU0lUSU9OIEZST00gQ0FDSEUhJywgJChlKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgICAgICAgICBuZWVkVG9SZWRyYXdDb25uZWN0b3JzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDIwMjAtMDItMDY6IG9ubHkgbWFrZSBkcmFnZ2FibGUoKSBpZiBjdXN0b21pemVWaXpPcHRpb25zU2hvd25cbiAgICAgICAgICAgIC8vIChpLmUuLCB3aGVuIHRoZSB1c2VyIGhhcyBjbGlja2VkIFwiQ3VzdG9taXplIHZpc3VhbGl6YXRpb25cIiBzbyB0aGF0XG4gICAgICAgICAgICAvLyB0aGV5IHB1cnBvc2VseSB3YW50IHRvIGN1c3RvbWl6ZSAuLi4gd2UgZG8gdGhpcyB0byBiZSBjb25zZXJ2YXRpdmVcbiAgICAgICAgICAgIC8vIHNvIGFzIG5vdCB0byByb2NrIHRoZSBib2F0IGJlY2F1c2UgaSBoYXZlbid0IHRlc3RlZCBkcmFnZ2FibGUoKVxuICAgICAgICAgICAgLy8gd2lkZWx5IHlldClcbiAgICAgICAgICAgIGlmIChteVZpei5vd25lci5uYXZDb250cm9scy5jdXN0b21pemVWaXpPcHRpb25zU2hvd24pIHtcbiAgICAgICAgICAgICAgICAkKGUpLmNzcygnY3Vyc29yJywgJ3BvaW50ZXInKSAvLyBtYWtlIHRoZSBjdXJzb3IgYSBoYW5kIHdoZW4geW91IGhvdmVyIG92ZXIgaXRcbiAgICAgICAgICAgICAgICAgICAgLmRyYWdnYWJsZSh7XG4gICAgICAgICAgICAgICAgICAgIGRyYWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlYm91bmNlIHRvIHByZXZlbnQgZXhjZXNzaXZlIHJlcGFpbnRzLCB3aGljaCBjYW4gZ2V0IHN1cGVyLXNsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZG9UaW1lb3V0KCdoZWFwT2JqZWN0RHJhZycsIDEwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RyYWcnKTsgLy8gdG8gbWFrZSBzdXJlIHdlJ3JlIG5vdCBhZGRpbmcgdG9vIG1hbnkgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVkcmF3Q29ubmVjdG9ycygpOyAvLyByZWRyYXcgYWxsIGFycm93cyB3aGVuZXZlciB5b3UgZHJhZyFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5yZWRyYXdDb25uZWN0b3JzKCk7IC8vIHJlZHJhdyBhbGwgYXJyb3dzIHdoZW4geW91IGRyYWcgc3RvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVuc2V0IHdpZHRoIGFuZCBoZWlnaHQgZmllbGRzIHNpbmNlIHRob3NlIGRvbid0IHNlZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGV2YW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIHNhdmUgdGhlbSBpbiBkcmFnZ2VkQ1NTXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGUpLmNzcygnd2lkdGgnLCAnJykuY3NzKCdoZWlnaHQnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHlvdXIgY3VycmVudCBDU1MsIHdoaWNoIGhhcyB5b3VyIGN1c3RvbSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgJChlKS5kYXRhKCdkcmFnZ2VkQ1NTJywgJChlKS5hdHRyKCdzdHlsZScpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNob3cgd2hpY2ggdmFyaWFibGVzL2ZpZWxkcyB3ZXJlIGFjdHVhbGx5IGhpZGRlbiBkdXJpbmcgdGhpcyBjYWxsXG4gICAgICAgIC8vIHRvIHJlbmRlckRhdGFTdHJ1Y3R1cmVzOlxuICAgICAgICBpZiAobXlWaXoub3duZXIubmF2Q29udHJvbHMuY3VzdG9taXplVml6T3B0aW9uc1Nob3duKSB7XG4gICAgICAgICAgICBuZWVkVG9SZWRyYXdDb25uZWN0b3JzID0gdHJ1ZTsgLy8gYWx3YXlzIHJlZHJhdyEgVE9ETzogd2lsbCB0aGlzIGdldCBpbmVmZmljaWVudD8hP1xuICAgICAgICAgICAgdmFyIHNocyA9IHRoaXMuZG9tUm9vdC5maW5kKCcjc2VsZWN0aXZlSGlkZVN0YXR1cycpO1xuICAgICAgICAgICAgc2hzLmVtcHR5KCk7IC8vIEFMV0FZUyBzdGFydCBmcm9tIHNjcmF0Y2ggZWFjaCB0aW1lIVxuICAgICAgICAgICAgaWYgKG15Vml6LnZhcnNIaWRkZW4ubGVuZ3RoID4gMCB8fCBteVZpei5maWVsZHNIaWRkZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIHByaW50aW5nIGhpZGRlbiB2YXJzL2ZpZWxkcyBtYXkgbW92ZSBlbGVtZW50cyBpbiB0aGUgaGVhcCB2aXN1YWxpemF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKG15Vml6LnZhcnNIaWRkZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGR1cGxpY2F0ZXM6XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YXJzSGlkZGVuTm9EdXBzXzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXoudmFyc0hpZGRlbi5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFyc0hpZGRlbk5vRHVwc18xLmluZGV4T2YoZSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyc0hpZGRlbk5vRHVwc18xLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzaHMuYXBwZW5kKFwiSGlkZGVuIHZhcmlhYmxlczogXCIgKyB2YXJsaXN0VG9IdG1sKHZhcnNIaWRkZW5Ob0R1cHNfMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobXlWaXouZmllbGRzSGlkZGVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBkdXBsaWNhdGVzOlxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRzSGlkZGVuTm9EdXBzXzEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXouZmllbGRzSGlkZGVuLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZHNIaWRkZW5Ob0R1cHNfMS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkc0hpZGRlbk5vRHVwc18xLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzaHMuYXBwZW5kKFwiPGJyLz5IaWRkZW4gb2JqZWN0IGZpZWxkczogXCIgKyB2YXJsaXN0VG9IdG1sKGZpZWxkc0hpZGRlbk5vRHVwc18xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZWVkVG9SZWRyYXdDb25uZWN0b3JzKSB7XG4gICAgICAgICAgICBteVZpei5yZWRyYXdDb25uZWN0b3JzKCk7XG4gICAgICAgIH1cbiAgICAgICAgbXlWaXoub3duZXIudHJ5X2hvb2soXCJlbmRfcmVuZGVyRGF0YVN0cnVjdHVyZXNcIiwgeyBteVZpejogbXlWaXoub3duZXIgLyogdHJpY2t5ISB1c2Ugb3duZXIgdG8gYmUgc2FmZSAqLyB9KTtcbiAgICB9O1xuICAgIC8vIHJlbmRlcmluZyBmdW5jdGlvbnMsIHdoaWNoIGFsbCB0YWtlIGEgZDMgZG9tIGVsZW1lbnQgdG8gYW5jaG9yIHRoZVxuICAgIC8vIG5ldyBlbGVtZW50IHRvIHJlbmRlclxuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXJQcmltaXRpdmVPYmplY3QgPSBmdW5jdGlvbiAob2JqLCBzdGVwTnVtLCBkM0RvbUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIGlmICh0aGlzLm93bmVyLnRyeV9ob29rKFwicmVuZGVyUHJpbWl0aXZlT2JqZWN0XCIsIHsgb2JqOiBvYmosIGQzRG9tRWxlbWVudDogZDNEb21FbGVtZW50IH0pWzBdKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdHlwID0gdHlwZW9mIG9iajtcbiAgICAgICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm51bGxPYmpcIj4nICsgdGhpcy5nZXRSZWFsTGFiZWwoJ05vbmUnKSArICc8L3NwYW4+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxzcGFuIGNsYXNzPVwibnVtYmVyT2JqXCI+JyArIG9iaiArICc8L3NwYW4+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwID09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJib29sT2JqXCI+JyArIHRoaXMuZ2V0UmVhbExhYmVsKCdUcnVlJykgKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJib29sT2JqXCI+JyArIHRoaXMuZ2V0UmVhbExhYmVsKCdGYWxzZScpICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXAgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgLy8gZXNjYXBlIHVzaW5nIGh0bWxzcGVjaWFsY2hhcnMgdG8gcHJldmVudCBIVE1ML3NjcmlwdCBpbmplY3Rpb25cbiAgICAgICAgICAgIHZhciBsaXRlcmFsU3RyID0gaHRtbHNwZWNpYWxjaGFycyhvYmopO1xuICAgICAgICAgICAgLy8gcHJpbnQgYXMgYSBkb3VibGUtcXVvdGVkIHN0cmluZyBsaXRlcmFsXG4gICAgICAgICAgICBsaXRlcmFsU3RyID0gbGl0ZXJhbFN0ci5yZXBsYWNlKGRvdWJsZVF1b3RlQWxsUmVnZXgsICdcXFxcXCInKTsgLy8gcmVwbGFjZSBBTExcbiAgICAgICAgICAgIGxpdGVyYWxTdHIgPSAnXCInICsgbGl0ZXJhbFN0ciArICdcIic7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cInN0cmluZ09ialwiPicgKyBsaXRlcmFsU3RyICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXAgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgaWYgKG9ialswXSA9PSAnQ19EQVRBJykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlTmFtZSA9IG9ialsyXTtcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2VzIGZvciBicmV2aXR5OlxuICAgICAgICAgICAgICAgIGlmICh0eXBlTmFtZSA9PT0gJ3Nob3J0IGludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWUgPSAnc2hvcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlTmFtZSA9PT0gJ3Nob3J0IHVuc2lnbmVkIGludCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWUgPSAndW5zaWduZWQgc2hvcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlTmFtZSA9PT0gJ2xvbmcgaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZSA9ICdsb25nJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZU5hbWUgPT09ICdsb25nIGxvbmcgaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZSA9ICdsb25nIGxvbmcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlTmFtZSA9PT0gJ2xvbmcgdW5zaWduZWQgaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZSA9ICd1bnNpZ25lZCBsb25nJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZU5hbWUgPT09ICdsb25nIGxvbmcgdW5zaWduZWQgaW50Jykge1xuICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZSA9ICd1bnNpZ25lZCBsb25nIGxvbmcgaW50JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGlzVmFsaWRQdHIgPSAoKHR5cGVOYW1lID09PSAncG9pbnRlcicpICYmXG4gICAgICAgICAgICAgICAgICAgIChvYmpbM10gIT09ICc8VU5JTklUSUFMSVpFRD4nKSAmJlxuICAgICAgICAgICAgICAgICAgICAob2JqWzNdICE9PSAnPFVOQUxMT0NBVEVEPicpKTtcbiAgICAgICAgICAgICAgICB2YXIgYWRkciA9IG9ialsxXTtcbiAgICAgICAgICAgICAgICB2YXIgbGVhZGVyID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gcHJlZml4IHdpdGggJ2NkYXRhXycgc28gdGhhdCB3ZSBjYW4gZGlzdGluZ3Vpc2ggdGhpcyBmcm9tIGFcbiAgICAgICAgICAgICAgICAvLyB0b3AtbGV2ZWwgaGVhcCBJRCBnZW5lcmF0ZWQgYnkgZ2VuZXJhdGVIZWFwT2JqSURcbiAgICAgICAgICAgICAgICB2YXIgY2RhdGFJZCA9IG15Vml6LmdlbmVyYXRlSGVhcE9iaklEKCdjZGF0YV8nICsgYWRkciwgc3RlcE51bSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRQdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHBvaW50ZXJzLCBwdXQgY2RhdGFJZCBpbiB0aGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgaWQ9XCInICsgY2RhdGFJZCArICdcIiBjbGFzcz1cImNkYXRhSGVhZGVyXCI+JyArIGxlYWRlciArIHR5cGVOYW1lICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHRyVmFsID0gb2JqWzNdO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBzdHViIHNvIHRoYXQgd2UgY2FuIGNvbm5lY3QgaXQgd2l0aCBhIGNvbm5lY3RvciBsYXRlci5cbiAgICAgICAgICAgICAgICAgICAgLy8gSUUgbmVlZHMgdGhpcyBkaXYgdG8gYmUgTk9OLUVNUFRZIGluIG9yZGVyIHRvIHByb3Blcmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlciBqc1BsdW1iIGVuZHBvaW50cywgc28gdGhhdCdzIHdoeSB3ZSBhZGQgYW4gXCImbmJzcDtcIiFcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB0clNyY0lkID0gbXlWaXouZ2VuZXJhdGVIZWFwT2JqSUQoJ3B0clNyY18nICsgYWRkciwgc3RlcE51bSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwdHJUYXJnZXRJZCA9IG15Vml6LmdlbmVyYXRlSGVhcE9iaklEKCdjZGF0YV8nICsgcHRyVmFsLCBzdGVwTnVtKTsgLy8gZG9uJ3QgZm9yZ2V0IGNkYXRhXyBwcmVmaXghXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWJ1Z0luZm8gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBpdCByZWFsbHkgbmFycm93IHNvIHRoYXQgdGhlIGRpdiBkb2Vzbid0IFNUUkVUQ0ggdG9vIHdpZGVcbiAgICAgICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBzdHlsZT1cIndpZHRoOiAxMHB4O1wiIGlkPVwiJyArIHB0clNyY0lkICsgJ1wiIGNsYXNzPVwiY2RhdGFFbHRcIj4mbmJzcDsnICsgZGVidWdJbmZvICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2U6IGRpc3BsYXkgMHgwIGFkZHJlc3MgYXMgYSBOVUxMIHBvaW50ZXIgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGRpc3Rpbmd1aXNoIGl0IGZyb20gYWxsIG90aGVyIHBvaW50ZXJzLCBzaW5jZSBzb21ldGltZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gQy9DKysgcHJvZ3JhbW1lcnMgKmV4cGxpY2l0bHkqIHNldCBhIHBvaW50ZXIgdG8gbnVsbFxuICAgICAgICAgICAgICAgICAgICBpZiAocHRyVmFsID09PSAnMHgwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBwdHJTcmNJZCkuaHRtbCgnPHNwYW4gY2xhc3M9XCJjZGF0YVVuaW5pdFwiPk5VTEw8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHB0clNyY0lkLCAnLT4nLCBwdHJUYXJnZXRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoIW15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5oYXMocHRyU3JjSWQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5zZXQocHRyU3JjSWQsIHB0clRhcmdldElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB3ZSBjYW4ndCB0ZWxsIHdoZXRoZXIgcHRyU3JjSWQgb3IgcHRyVGFyZ2V0SWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZSBvbiB0aGUgc3RhY2sgb3IgaGVhcCAoc2luY2UgdGhlIEMgdHJhY2UgYWxsb3dzIHBvaW50ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9iamVjdHMgdG8gZXhpc3QgaW4gYm90aCksIHNvIGEgaGFjayB0byBmaW5kIG91dCBpcyB0byBmaW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdHMgRE9NIGVsZW1lbnQsIGxvb2sgdXB3YXJkIGluIHRyZWUgZm9yIGNsb3Nlc3QgaGVhcE9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpZiB3ZSBmaW5kIGl0LCB0aGVuIHdlIGFzc3VtZSBpdCdzIG9uIHRoZSBoZWFwXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3JjQW5jaG9yT2JqZWN0ID0gbXlWaXouZG9tUm9vdC5maW5kKCcjJyArIHB0clNyY0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkc3RBbmNob3JPYmplY3QgPSBteVZpei5kb21Sb290LmZpbmQoJyMnICsgcHRyVGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyY0hlYXBPYmplY3QgPSBzcmNBbmNob3JPYmplY3QuY2xvc2VzdCgnLmhlYXBPYmplY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkc3RIZWFwT2JqZWN0ID0gZHN0QW5jaG9yT2JqZWN0LmNsb3Nlc3QoJy5oZWFwT2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGRvIHRoaXMgaWYgQk9USCBwdHJTcmNJZCBhbmQgcHRyVGFyZ2V0SWQgYXJlIG9uIHRoZSBoZWFwXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3JjSGVhcE9iamVjdC5sZW5ndGggPiAwICYmIGRzdEhlYXBPYmplY3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KHB0clNyY0lkLCBwdHJUYXJnZXRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBub24tcG9pbnRlcnMsIHB1dCBjZGF0YUlkIG9uIHRoZSBlbGVtZW50IGl0c2VsZiwgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyBwb2ludGVycyBjYW4gcG9pbnQgZGlyZWN0bHkgYXQgdGhlIGVsZW1lbnQsIG5vdCB0aGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJjZGF0YUhlYWRlclwiPicgKyBsZWFkZXIgKyB0eXBlTmFtZSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialszXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXRlcmFsU3RyID0gb2JqWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpdGVyYWxTdHIgPT09ICc8VU5JTklUSUFMSVpFRD4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwID0gJzxzcGFuIGNsYXNzPVwiY2RhdGFVbmluaXRcIj4/PC9zcGFuPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXAgPSAnXFx1RDgzRFxcdURDQTknOyAvLyBwaWxlIG9mIHBvbyBlbW9qaVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobGl0ZXJhbFN0ciA9PSAnPFVOQUxMT0NBVEVEPicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAgPSAnXFx1RDgzRFxcdURDODAnOyAvLyBza3VsbCBlbW9qaVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSByZWd1bGFyIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpdGVyYWxTdHIgPSBsaXRlcmFsU3RyLnJlcGxhY2UobmV3bGluZUFsbFJlZ2V4LCAnXFxcXG4nKTsgLy8gcmVwbGFjZSBBTExcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRlcmFsU3RyID0gbGl0ZXJhbFN0ci5yZXBsYWNlKHRhYkFsbFJlZ2V4LCAnXFxcXHQnKTsgLy8gcmVwbGFjZSBBTExcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXRlcmFsU3RyID0gbGl0ZXJhbFN0ci5yZXBsYWNlKGRvdWJsZVF1b3RlQWxsUmVnZXgsICdcXFxcXCInKTsgLy8gcmVwbGFjZSBBTExcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1bnByaW50YWJsZSBjaGFycyBhcmUgZGVub3RlZCB3aXRoICc/Pz8nLCBzbyBzaG93IHRoZW0gYXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhIHNwZWNpYWwgdW5pY29kZSBjaGFyYWN0ZXI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVOYW1lID09PSAnY2hhcicgJiYgbGl0ZXJhbFN0ciA9PT0gJz8/PycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0ZXJhbFN0ciA9ICdcXHVGRkZEJzsgLy8gcXVlc3Rpb24gbWFyayBpbiBibGFjayBkaWFtb25kIHVuaWNvZGUgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmludCBhcyBhIFNJTkdMRS1xdW90ZWQgc3RyaW5nIGxpdGVyYWwgKHRvIGVtdWxhdGUgQy1zdHlsZSBjaGFycylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGl0ZXJhbFN0ciA9IFwiJ1wiICsgbGl0ZXJhbFN0ciArIFwiJ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAgPSBodG1sc3BlY2lhbGNoYXJzKGxpdGVyYWxTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwID0gaHRtbHNwZWNpYWxjaGFycyhvYmpbM10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgaWQ9XCInICsgY2RhdGFJZCArICdcIiBjbGFzcz1cImNkYXRhRWx0XCI+JyArIHJlcCArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0lNUE9SVEVEX0ZBVVhfUFJJTUlUSVZFJykge1xuICAgICAgICAgICAgICAgIC8vIHRoZXNlIHJlcHJlc2VudCBvYmplY3RzIHRoYXQgeW91J3ZlIGltcG9ydGVkIGZyb20gZXh0ZXJuYWxcbiAgICAgICAgICAgICAgICAvLyBsaWJyYXJpZXMvbW9kdWxlcywgd2hpY2ggc2hvdWxkIGJlIGRpc3BsYXllZCBhcyAncHJpbWl0aXZlcydcbiAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGRvbid0IGNsdXR0ZXIgdXAgdGhlIGRpc3BsYXkgYnkgZGVkaWNhdGluZyBoZWFwXG4gICAgICAgICAgICAgICAgLy8gc3BhY2UgZm9yIHRoZW0gb3IgdHJ5aW5nIHRvIHJlY3Vyc2UgaW50byB2aWV3aW5nIHRoZWlyIGluc2lkZXNcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImltcG9ydGVkT2JqXCI+JyArIG9ialsxXSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQob2JqWzBdID09ICdTUEVDSUFMX0ZMT0FUJyB8fCBvYmpbMF0gPT0gJ0pTX1NQRUNJQUxfVkFMJyk7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJudW1iZXJPYmpcIj4nICsgb2JqWzFdICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5yZW5kZXJOZXN0ZWRPYmplY3QgPSBmdW5jdGlvbiAob2JqLCBzdGVwTnVtLCBkM0RvbUVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNQcmltaXRpdmVUeXBlKG9iaikpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUHJpbWl0aXZlT2JqZWN0KG9iaiwgc3RlcE51bSwgZDNEb21FbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvYmpbMF0gPT09ICdSRUYnKSB7XG4gICAgICAgICAgICAgICAgLy8gb2JqIGlzIGEgW1wiUkVGXCIsIDxpbnQ+XSBzbyBkZXJlZmVyZW5jZSB0aGUgJ3BvaW50ZXInIHRvIHJlbmRlciB0aGF0IG9iamVjdFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ29tcG91bmRPYmplY3QoZ2V0UmVmSUQob2JqKSwgc3RlcE51bSwgZDNEb21FbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQob2JqWzBdID09PSAnQ19TVFJVQ1QnIHx8IG9ialswXSA9PT0gJ0NfQVJSQVknIHx8IG9ialswXSA9PT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ1N0cnVjdEFycmF5KG9iaiwgc3RlcE51bSwgZDNEb21FbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLnJlbmRlckNvbXBvdW5kT2JqZWN0ID0gZnVuY3Rpb24gKG9iaklELCBzdGVwTnVtLCBkM0RvbUVsZW1lbnQsIGlzVG9wTGV2ZWwpIHtcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpczsgLy8gdG8gcHJldmVudCBjb25mdXNpb24gb2YgJ3RoaXMnIGluc2lkZSBvZiBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIHZhciBoZWFwT2JqSUQgPSBteVZpei5nZW5lcmF0ZUhlYXBPYmpJRChvYmpJRCwgc3RlcE51bSk7XG4gICAgICAgIGlmICghaXNUb3BMZXZlbCAmJiBteVZpei5qc1BsdW1iTWFuYWdlci5yZW5kZXJlZEhlYXBPYmplY3RJRHMuaGFzKGhlYXBPYmpJRCkpIHtcbiAgICAgICAgICAgIHZhciBzcmNEaXZJRCA9IG15Vml6Lm93bmVyLmdlbmVyYXRlSUQoJ2hlYXBfcG9pbnRlcl9zcmNfJyArIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmhlYXBfcG9pbnRlcl9zcmNfaWQpO1xuICAgICAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIuaGVhcF9wb2ludGVyX3NyY19pZCsrOyAvLyBqdXN0IG1ha2Ugc3VyZSBlYWNoIHNvdXJjZSBoYXMgYSBVTklRVUUgSURcbiAgICAgICAgICAgIHZhciBkc3REaXZJRCA9IGhlYXBPYmpJRDtcbiAgICAgICAgICAgIGlmIChteVZpei5wYXJhbXMudGV4dHVhbE1lbW9yeUxhYmVscykge1xuICAgICAgICAgICAgICAgIHZhciBsYWJlbElEID0gc3JjRGl2SUQgKyAnX3RleHRfbGFiZWwnO1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJvYmplY3RJZExhYmVsXCIgaWQ9XCInICsgbGFiZWxJRCArICdcIj5pZCcgKyBvYmpJRCArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICBteVZpei5kb21Sb290LmZpbmQoJ2RpdiMnICsgbGFiZWxJRCkuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iSW5zdGFuY2UuY29ubmVjdCh7IHNvdXJjZTogbGFiZWxJRCwgdGFyZ2V0OiBkc3REaXZJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiAndmFyVmFsdWVQb2ludGVyJyB9KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJJbnN0YW5jZS5zZWxlY3QoeyBzb3VyY2U6IGxhYmVsSUQgfSkuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXIganNQbHVtYiBhcnJvdyBzb3VyY2Ugc2luY2UgdGhpcyBoZWFwIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkXG4gICAgICAgICAgICAgICAgLy8gKG9yIHdpbGwgYmUgcmVuZGVyZWQgc29vbilcbiAgICAgICAgICAgICAgICAvLyBhZGQgYSBzdHViIHNvIHRoYXQgd2UgY2FuIGNvbm5lY3QgaXQgd2l0aCBhIGNvbm5lY3RvciBsYXRlci5cbiAgICAgICAgICAgICAgICAvLyBJRSBuZWVkcyB0aGlzIGRpdiB0byBiZSBOT04tRU1QVFkgaW4gb3JkZXIgdG8gcHJvcGVybHlcbiAgICAgICAgICAgICAgICAvLyByZW5kZXIganNQbHVtYiBlbmRwb2ludHMsIHNvIHRoYXQncyB3aHkgd2UgYWRkIGFuIFwiJm5ic3A7XCIhXG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBpZD1cIicgKyBzcmNEaXZJRCArICdcIj4mbmJzcDs8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoIW15Vml6LmpzUGx1bWJNYW5hZ2VyLmNvbm5lY3Rpb25FbmRwb2ludElEcy5oYXMoc3JjRGl2SUQpKTtcbiAgICAgICAgICAgICAgICBteVZpei5qc1BsdW1iTWFuYWdlci5jb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KHNyY0RpdklELCBkc3REaXZJRCk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnSEVBUC0+SEVBUCcsIHNyY0RpdklELCBkc3REaXZJRCk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KCFteVZpei5qc1BsdW1iTWFuYWdlci5oZWFwQ29ubmVjdGlvbkVuZHBvaW50SURzLmhhcyhzcmNEaXZJRCkpO1xuICAgICAgICAgICAgICAgIG15Vml6LmpzUGx1bWJNYW5hZ2VyLmhlYXBDb25uZWN0aW9uRW5kcG9pbnRJRHMuc2V0KHNyY0RpdklELCBkc3REaXZJRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47IC8vIGVhcmx5IHJldHVybiFcbiAgICAgICAgfVxuICAgICAgICAvLyB3cmFwIEFMTCBjb21wb3VuZCBvYmplY3RzIGluIGEgaGVhcE9iamVjdCBkaXYgc28gdGhhdCBqc1BsdW1iXG4gICAgICAgIC8vIGNvbm5lY3RvcnMgY2FuIHBvaW50IHRvIGl0OlxuICAgICAgICAvLyBUT0RPOiB3aGF0IGFib3V0IEMvQysrIG9iamVjdHMgb24gdGhlIHN0YWNrIHRoYXQgYXJlIHRoZSB0YXJnZXQgb2YgcG9pbnRlcnM/XG4gICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJoZWFwT2JqZWN0XCIgaWQ9XCInICsgaGVhcE9iaklEICsgJ1wiPjwvZGl2PicpO1xuICAgICAgICBkM0RvbUVsZW1lbnQgPSBteVZpei5kb21Sb290LmZpbmQoJyMnICsgaGVhcE9iaklEKTsgLy8gVE9ETzogbWF5YmUgaW5lZmZpY2llbnRcbiAgICAgICAgbXlWaXouanNQbHVtYk1hbmFnZXIucmVuZGVyZWRIZWFwT2JqZWN0SURzLnNldChoZWFwT2JqSUQsIDEpO1xuICAgICAgICB2YXIgY3VySGVhcCA9IG15Vml6LmN1clRyYWNlW3N0ZXBOdW1dLmhlYXA7XG4gICAgICAgIHZhciBvYmogPSBjdXJIZWFwW29iaklEXTtcbiAgICAgICAgYXNzZXJ0KCQuaXNBcnJheShvYmopKTtcbiAgICAgICAgLy8gcHJlcGVuZCB0aGUgdHlwZSBsYWJlbCB3aXRoIGEgbWVtb3J5IGFkZHJlc3MgbGFiZWxcbiAgICAgICAgdmFyIHR5cGVMYWJlbFByZWZpeCA9ICcnO1xuICAgICAgICBpZiAobXlWaXoucGFyYW1zLnRleHR1YWxNZW1vcnlMYWJlbHMpIHtcbiAgICAgICAgICAgIHR5cGVMYWJlbFByZWZpeCA9ICdpZCcgKyBvYmpJRCArICc6JztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9va19yZXN1bHQgPSBteVZpei5vd25lci50cnlfaG9vayhcInJlbmRlckNvbXBvdW5kT2JqZWN0XCIsIHsgb2JqSUQ6IG9iaklELCBkM0RvbUVsZW1lbnQ6IGQzRG9tRWxlbWVudCxcbiAgICAgICAgICAgIGlzVG9wTGV2ZWw6IGlzVG9wTGV2ZWwsIG9iajogb2JqLFxuICAgICAgICAgICAgdHlwZUxhYmVsUHJlZml4OiB0eXBlTGFiZWxQcmVmaXgsXG4gICAgICAgICAgICBzdGVwTnVtOiBzdGVwTnVtLFxuICAgICAgICAgICAgbXlWaXo6IG15Vml6IH0pO1xuICAgICAgICBpZiAoaG9va19yZXN1bHRbMF0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChvYmpbMF0gPT0gJ0xJU1QnIHx8IG9ialswXSA9PSAnVFVQTEUnIHx8IG9ialswXSA9PSAnU0VUJyB8fCBvYmpbMF0gPT0gJ0RJQ1QnKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBvYmpbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGFzc2VydChvYmoubGVuZ3RoID49IDEpO1xuICAgICAgICAgICAgaWYgKG9iai5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgJyBlbXB0eSAnICsgbXlWaXouZ2V0UmVhbExhYmVsKGxhYmVsKSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgbXlWaXouZ2V0UmVhbExhYmVsKGxhYmVsKSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCInICsgbGFiZWwgKyAnVGJsXCI+PC90YWJsZT4nKTtcbiAgICAgICAgICAgICAgICB2YXIgdGJsID0gZDNEb21FbGVtZW50LmNoaWxkcmVuKCd0YWJsZScpO1xuICAgICAgICAgICAgICAgIGlmIChvYmpbMF0gPT0gJ0xJU1QnIHx8IG9ialswXSA9PSAnVFVQTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPjx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyVHIgPSB0YmwuZmluZCgndHI6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRUciA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uIChpbmQsIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwIHR5cGUgdGFnIGFuZCBJRCBlbnRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGNvbHVtbiBhbmQgdGhlbiBwYXNzIGluIHRoYXQgbmV3bHktYWRkZWQgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhcyBkM0RvbUVsZW1lbnQgdG8gdGhlIHJlY3Vyc2l2ZSBjYWxsIHRvIGNoaWxkOlxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyVHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnSGVhZGVyXCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclRyLmZpbmQoJ3RkOmxhc3QnKS5hcHBlbmQoaW5kIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHIuYXBwZW5kKCc8dGQgY2xhc3M9XCInICsgbGFiZWwgKyAnRWx0XCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdCh2YWwsIHN0ZXBOdW0sIGNvbnRlbnRUci5maW5kKCd0ZDpsYXN0JykpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdTRVQnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBSIHggQyBtYXRyaXg6XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1FbHRzID0gb2JqLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdpdmVzIHJvdWdobHkgYSAzeDUgcmVjdGFuZ3VsYXIgcmF0aW8sIHNxdWFyZSBpcyB0b28sIGVycixcbiAgICAgICAgICAgICAgICAgICAgLy8gJ3NxdWFyZScgYW5kIGJvcmluZ1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtUm93cyA9IE1hdGgucm91bmQoTWF0aC5zcXJ0KG51bUVsdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bVJvd3MgPiAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1Sb3dzIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bUNvbHMgPSBNYXRoLnJvdW5kKG51bUVsdHMgLyBudW1Sb3dzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcm91bmQgdXAgaWYgbm90IGEgcGVyZmVjdCBtdWx0aXBsZTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bUVsdHMgJSBudW1Sb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1Db2xzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2gob2JqLCBmdW5jdGlvbiAoaW5kLCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gc2tpcCAnU0VUJyB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGluZCAtIDEpICUgbnVtQ29scykgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1clRyID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRyLmFwcGVuZCgnPHRkIGNsYXNzPVwic2V0RWx0XCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdCh2YWwsIHN0ZXBOdW0sIGN1clRyLmZpbmQoJ3RkOmxhc3QnKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0RJQ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwICdESUNUJyB0YWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0ciBjbGFzcz1cImRpY3RFbnRyeVwiPjx0ZCBjbGFzcz1cImRpY3RLZXlcIj48L3RkPjx0ZCBjbGFzcz1cImRpY3RWYWxcIj48L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlUZCA9IG5ld1Jvdy5maW5kKCd0ZDpmaXJzdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbFRkID0gbmV3Um93LmZpbmQoJ3RkOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrdlBhaXJbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0ga3ZQYWlyWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KGtleSwgc3RlcE51bSwga2V5VGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KHZhbCwgc3RlcE51bSwgdmFsVGQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JqWzBdID09ICdJTlNUQU5DRScgfHwgb2JqWzBdID09ICdJTlNUQU5DRV9QUFJJTlQnIHx8IG9ialswXSA9PSAnQ0xBU1MnKSB7XG4gICAgICAgICAgICB2YXIgaXNJbnN0YW5jZSA9IChvYmpbMF0gPT0gJ0lOU1RBTkNFJyk7XG4gICAgICAgICAgICB2YXIgaXNQcHJpbnRJbnN0YW5jZSA9IChvYmpbMF0gPT0gJ0lOU1RBTkNFX1BQUklOVCcpO1xuICAgICAgICAgICAgdmFyIF9hID0gRGF0YVZpc3VhbGl6ZXIuZ2V0Q2xhc3NJbnN0YW5jZU1ldGFkYXRhKG9iaiksIGNsYXNzTmFtZV8yID0gX2FbMF0sIGhlYWRlckxlbmd0aF8yID0gX2FbMV07XG4gICAgICAgICAgICBhc3NlcnQob2JqLmxlbmd0aCA+PSBoZWFkZXJMZW5ndGhfMik7XG4gICAgICAgICAgICBpZiAoaXNJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgb2JqWzFdICsgJyAnICsgbXlWaXouZ2V0UmVhbExhYmVsKCdpbnN0YW5jZScpICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNQcHJpbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgb2JqWzFdICsgJyAnICsgbXlWaXouZ2V0UmVhbExhYmVsKCdpbnN0YW5jZScpICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzx0YWJsZSBjbGFzcz1cImN1c3RvbU9ialRibFwiPjx0cj48dGQgY2xhc3M9XCJjdXN0b21PYmpFbHRcIj4nICsgaHRtbHNwZWNpYWxjaGFycyhvYmpbMl0pICsgJzwvdGQ+PC90cj48L3RhYmxlPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1cGVyY2xhc3NTdHIgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAob2JqWzJdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXJjbGFzc1N0ciArPSAoJ1tleHRlbmRzICcgKyBvYmpbMl0uam9pbignLCAnKSArICddICcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArIG9ialsxXSArICcgY2xhc3MgJyArIHN1cGVyY2xhc3NTdHIgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqLmxlbmd0aCA+IGhlYWRlckxlbmd0aF8yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IGlzSW5zdGFuY2UgPyAnaW5zdCcgOiAnY2xhc3MnO1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzx0YWJsZSBjbGFzcz1cIicgKyBsYWIgKyAnVGJsXCI+PC90YWJsZT4nKTtcbiAgICAgICAgICAgICAgICB2YXIgdGJsID0gZDNEb21FbGVtZW50LmNoaWxkcmVuKCd0YWJsZTpsYXN0Jyk7IC8vIHRyaWNreSwgdGhlcmUncyBtb3JlIHRoYW4gMSB0YWJsZSBpZiBpc1BwcmludEluc3RhbmNlIGlzIHRydWVcbiAgICAgICAgICAgICAgICAkLmVhY2gob2JqLCBmdW5jdGlvbiAoaW5kLCBrdlBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA8IGhlYWRlckxlbmd0aF8yKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwIGhlYWRlciB0YWdzXG4gICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVGaWVsZHNTZXQoY2xhc3NOYW1lXzIsIGt2UGFpclswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW5kZXIgSElESU5HJywgY2xhc3NOYW1lXzIsIGt2UGFpclswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5maWVsZHNIaWRkZW4ucHVzaCgoY2xhc3NOYW1lXzIgPyBjbGFzc05hbWVfMiArICc6JyA6ICcnKSArIGt2UGFpclswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGdldCBvdXQhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGJsLmFwcGVuZCgnPHRyIGNsYXNzPVwiJyArIGxhYiArICdFbnRyeVwiPjx0ZCBjbGFzcz1cIicgKyBsYWIgKyAnS2V5XCI+PC90ZD48dGQgY2xhc3M9XCInICsgbGFiICsgJ1ZhbFwiPjwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1JvdyA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlUZCA9IG5ld1Jvdy5maW5kKCd0ZDpmaXJzdCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsVGQgPSBuZXdSb3cuZmluZCgndGQ6bGFzdCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUga2V5cyBzaG91bGQgYWx3YXlzIGJlIHN0cmluZ3MsIHNvIHJlbmRlciB0aGVtIGRpcmVjdGx5IChhbmQgd2l0aG91dCBxdW90ZXMpOlxuICAgICAgICAgICAgICAgICAgICAvLyAoYWN0dWFsbHkgdGhpcyBpc24ndCB0aGUgY2FzZSB3aGVuIHN0cmluZ3MgYXJlIHJlbmRlcmVkIG9uIHRoZSBoZWFwKVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGt2UGFpclswXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21tb24gY2FzZSAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRybmFtZVN0ciA9IGh0bWxzcGVjaWFsY2hhcnMoa3ZQYWlyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleVRkLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJrZXlPYmpcIj4nICsgYXR0cm5hbWVTdHIgKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBzdHJpbmdzIGFyZSByZW5kZXJlZCBhcyBoZWFwIG9iamVjdHMgLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3Qoa3ZQYWlyWzBdLCBzdGVwTnVtLCBrZXlUZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWVzIGNhbiBiZSBhcmJpdHJhcnkgb2JqZWN0cywgc28gcmVjdXJzZTpcbiAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KGt2UGFpclsxXSwgc3RlcE51bSwgdmFsVGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ialswXSA9PSAnRlVOQ1RJT04nKSB7XG4gICAgICAgICAgICBhc3NlcnQob2JqLmxlbmd0aCA9PSAzIHx8IG9iai5sZW5ndGggPT0gNCk7XG4gICAgICAgICAgICAvLyBwcmV0dHktcHJpbnQgbGFtYmRhcyBhbmQgZGlzcGxheSBvdGhlciB3ZWlyZCBjaGFyYWN0ZXJzOlxuICAgICAgICAgICAgdmFyIGZ1bmNOYW1lID0gaHRtbHNwZWNpYWxjaGFycyhvYmpbMV0pLnJlcGxhY2UoJyZsdDtsYW1iZGEmZ3Q7JywgJ1xcdTAzYmInKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRGcmFtZUlEID0gb2JqWzJdOyAvLyBvcHRpb25hbFxuICAgICAgICAgICAgaWYgKCFteVZpei5wYXJhbXMuY29tcGFjdEZ1bmNMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIHR5cGVMYWJlbFByZWZpeCArIG15Vml6LmdldFJlYWxMYWJlbCgnZnVuY3Rpb24nKSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmdW5jUHJlZml4ID0gbXlWaXoucGFyYW1zLmNvbXBhY3RGdW5jTGFiZWxzID8gJ2Z1bmMnIDogJyc7XG4gICAgICAgICAgICBpZiAocGFyZW50RnJhbWVJRCkge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJmdW5jT2JqXCI+JyArIGZ1bmNQcmVmaXggKyAnICcgKyBmdW5jTmFtZSArICcgW3BhcmVudD1mJyArIHBhcmVudEZyYW1lSUQgKyAnXTwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobXlWaXoucGFyYW1zLnNob3dBbGxGcmFtZUxhYmVscykge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJmdW5jT2JqXCI+JyArIGZ1bmNQcmVmaXggKyAnICcgKyBmdW5jTmFtZSArICcgW3BhcmVudD1HbG9iYWxdPC9kaXY+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZnVuY09ialwiPicgKyBmdW5jUHJlZml4ICsgJyAnICsgZnVuY05hbWUgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW5kZXIgZGVmYXVsdCBhcmd1bWVudCBuYW1lcy92YWx1ZXMgKHNlZSAuLi9wZ19lbmNvZGVyLnB5KVxuICAgICAgICAgICAgaWYgKG9iai5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZ1bmNQcm9wZXJ0aWVzID0gb2JqWzNdO1xuICAgICAgICAgICAgICAgIGFzc2VydChmdW5jUHJvcGVydGllcy5sZW5ndGggPiAwKTtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAzcHg7XCI+ZGVmYXVsdCBhcmd1bWVudHM6PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHRhYmxlIGNsYXNzPVwiaW5zdFRibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGUnKTtcbiAgICAgICAgICAgICAgICAkLmVhY2goZnVuY1Byb3BlcnRpZXMsIGZ1bmN0aW9uIChpbmQsIGt2UGFpcikge1xuICAgICAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHIgY2xhc3M9XCJpbnN0RW50cnlcIj48dGQgY2xhc3M9XCJpbnN0S2V5XCI+PC90ZD48dGQgY2xhc3M9XCJpbnN0VmFsXCI+PC90ZD48L3RyPicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVRkID0gbmV3Um93LmZpbmQoJ3RkOmZpcnN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxUZCA9IG5ld1Jvdy5maW5kKCd0ZDpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGtleVRkLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJrZXlPYmpcIj4nICsgaHRtbHNwZWNpYWxjaGFycyhrdlBhaXJbMF0pICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KGt2UGFpclsxXSwgc3RlcE51bSwgdmFsVGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ialswXSA9PSAnSlNfRlVOQ1RJT04nKSB7IC8qIFRPRE86IHJlZmFjdG9yIG1lICovXG4gICAgICAgICAgICAvLyBKYXZhU2NyaXB0IGZ1bmN0aW9uXG4gICAgICAgICAgICBhc3NlcnQob2JqLmxlbmd0aCA9PSA1KTtcbiAgICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGh0bWxzcGVjaWFsY2hhcnMob2JqWzFdKTtcbiAgICAgICAgICAgIHZhciBmdW5jQ29kZSA9IHR5cGVMYWJlbFByZWZpeCArIGh0bWxzcGVjaWFsY2hhcnMob2JqWzJdKTtcbiAgICAgICAgICAgIHZhciBmdW5jUHJvcGVydGllcyA9IG9ialszXTsgLy8gZWl0aGVyIG51bGwgb3IgYSBub24tZW1wdHkgbGlzdCBvZiBrZXktdmFsdWUgcGFpcnNcbiAgICAgICAgICAgIHZhciBwYXJlbnRGcmFtZUlEID0gb2JqWzRdO1xuICAgICAgICAgICAgaWYgKGZ1bmNQcm9wZXJ0aWVzIHx8IHBhcmVudEZyYW1lSUQgfHwgbXlWaXoucGFyYW1zLnNob3dBbGxGcmFtZUxhYmVscykge1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzx0YWJsZSBjbGFzcz1cImNsYXNzVGJsXCI+PC90YWJsZT4nKTtcbiAgICAgICAgICAgICAgICB2YXIgdGJsID0gZDNEb21FbGVtZW50LmNoaWxkcmVuKCd0YWJsZScpO1xuICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48dGQgY2xhc3M9XCJmdW5jQ29kXCIgY29sc3Bhbj1cIjJcIj48cHJlIGNsYXNzPVwiZnVuY0NvZGVcIj4nICsgZnVuY0NvZGUgKyAnPC9wcmU+JyArICc8L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgaWYgKGZ1bmNQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydChmdW5jUHJvcGVydGllcy5sZW5ndGggPiAwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhd0Z1bmNOYW1lXzEgPSBvYmpbMV07XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChmdW5jUHJvcGVydGllcywgZnVuY3Rpb24gKGluZCwga3ZQYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdEtleSA9IGt2UGFpclswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVGaWVsZHNTZXQocmF3RnVuY05hbWVfMSwga3ZQYWlyWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW5kZXIgSElESU5HJywgcmF3RnVuY05hbWVfMSwga3ZQYWlyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteVZpei5maWVsZHNIaWRkZW4ucHVzaCgocmF3RnVuY05hbWVfMSA/IHJhd0Z1bmNOYW1lXzEgKyAnOicgOiAnJykgKyBrdlBhaXJbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZ2V0IG91dCFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0ciBjbGFzcz1cImNsYXNzRW50cnlcIj48dGQgY2xhc3M9XCJjbGFzc0tleVwiPjwvdGQ+PHRkIGNsYXNzPVwiY2xhc3NWYWxcIj48L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Um93ID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlUZCA9IG5ld1Jvdy5maW5kKCd0ZDpmaXJzdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbFRkID0gbmV3Um93LmZpbmQoJ3RkOmxhc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleVRkLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJrZXlPYmpcIj4nICsgaHRtbHNwZWNpYWxjaGFycyhrdlBhaXJbMF0pICsgJzwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdChrdlBhaXJbMV0sIHN0ZXBOdW0sIHZhbFRkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRGcmFtZUlEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0ciBjbGFzcz1cImNsYXNzRW50cnlcIj48dGQgY2xhc3M9XCJjbGFzc0tleVwiPnBhcmVudDwvdGQ+PHRkIGNsYXNzPVwiY2xhc3NWYWxcIj4nICsgJ2YnICsgcGFyZW50RnJhbWVJRCArICc8L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG15Vml6LnBhcmFtcy5zaG93QWxsRnJhbWVMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGJsLmFwcGVuZCgnPHRyIGNsYXNzPVwiY2xhc3NFbnRyeVwiPjx0ZCBjbGFzcz1cImNsYXNzS2V5XCI+cGFyZW50PC90ZD48dGQgY2xhc3M9XCJjbGFzc1ZhbFwiPicgKyAnZ2xvYmFsJyArICc8L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY29tcGFjdCBmb3JtOlxuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxwcmUgY2xhc3M9XCJmdW5jQ29kZVwiPicgKyBmdW5jQ29kZSArICc8L3ByZT4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0hFQVBfUFJJTUlUSVZFJykge1xuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPT0gMyk7XG4gICAgICAgICAgICB2YXIgdHlwZU5hbWUgPSBvYmpbMV07XG4gICAgICAgICAgICB2YXIgcHJpbWl0aXZlVmFsID0gb2JqWzJdO1xuICAgICAgICAgICAgLy8gYWRkIGEgYml0IG9mIHBhZGRpbmcgdG8gaGVhcCBwcmltaXRpdmVzLCBmb3IgYWVzdGhldGljc1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cImhlYXBQcmltaXRpdmVcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5maW5kKCdkaXYuaGVhcFByaW1pdGl2ZScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyB0eXBlTGFiZWxQcmVmaXggKyB0eXBlTmFtZSArICc8L2Rpdj4nKTtcbiAgICAgICAgICAgIG15Vml6LnJlbmRlclByaW1pdGl2ZU9iamVjdChwcmltaXRpdmVWYWwsIHN0ZXBOdW0sIGQzRG9tRWxlbWVudC5maW5kKCdkaXYuaGVhcFByaW1pdGl2ZScpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0NfU1RSVUNUJyB8fCBvYmpbMF0gPT0gJ0NfQVJSQVknIHx8IG9ialswXSA9PT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScpIHtcbiAgICAgICAgICAgIG15Vml6LnJlbmRlckNTdHJ1Y3RBcnJheShvYmosIHN0ZXBOdW0sIGQzRG9tRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByZW5kZXIgY3VzdG9tIGRhdGEgdHlwZVxuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPT0gMik7XG4gICAgICAgICAgICB2YXIgdHlwZU5hbWUgPSBvYmpbMF07XG4gICAgICAgICAgICB2YXIgc3RyUmVwciA9IG9ialsxXTtcbiAgICAgICAgICAgIHN0clJlcHIgPSBodG1sc3BlY2lhbGNoYXJzKHN0clJlcHIpOyAvLyBlc2NhcGUgc3RyaW5ncyFcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgdHlwZUxhYmVsUHJlZml4ICsgdHlwZU5hbWUgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCJjdXN0b21PYmpUYmxcIj48dHI+PHRkIGNsYXNzPVwiY3VzdG9tT2JqRWx0XCI+JyArIHN0clJlcHIgKyAnPC90ZD48L3RyPjwvdGFibGU+Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHNwZWNpYWwtY2FzZSBrbHVkZ2UgZm9yIEMvQysrXG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLnJlbmRlckNTdHJ1Y3RBcnJheSA9IGZ1bmN0aW9uIChvYmosIHN0ZXBOdW0sIGQzRG9tRWxlbWVudCkge1xuICAgICAgICB2YXIgbXlWaXogPSB0aGlzOyAvLyB0byBwcmV2ZW50IGNvbmZ1c2lvbiBvZiAndGhpcycgaW5zaWRlIG9mIG5lc3RlZCBmdW5jdGlvbnNcbiAgICAgICAgaWYgKG9ialswXSA9PSAnQ19TVFJVQ1QnKSB7XG4gICAgICAgICAgICBhc3NlcnQob2JqLmxlbmd0aCA+PSAzKTtcbiAgICAgICAgICAgIHZhciBhZGRyID0gb2JqWzFdO1xuICAgICAgICAgICAgdmFyIHR5cGVuYW1lID0gb2JqWzJdO1xuICAgICAgICAgICAgdmFyIGxlYWRlciA9ICcnO1xuICAgICAgICAgICAgaWYgKG15Vml6LnBhcmFtcy5sYW5nID09PSAnY3BwJykge1xuICAgICAgICAgICAgICAgIC8vIGNhbGwgaXQgJ29iamVjdCcgaW5zdGVhZCBvZiAnc3RydWN0J1xuICAgICAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgbGVhZGVyICsgJ29iamVjdCAnICsgdHlwZW5hbWUgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidHlwZUxhYmVsXCI+JyArIGxlYWRlciArICdzdHJ1Y3QgJyArIHR5cGVuYW1lICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9iai5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPHRhYmxlIGNsYXNzPVwiaW5zdFRibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGUnKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RydWN0TmFtZV8yID0gb2JqWzJdID8gb2JqWzJdIDogRGF0YVZpc3VhbGl6ZXIuVU5OQU1FRF9QUkVGSVg7XG4gICAgICAgICAgICAgICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24gKGluZCwga3ZQYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPCAzKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBza2lwIGhlYWRlciB0YWdzXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBrdlBhaXJbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChteVZpei5pbkhpZGVGaWVsZHNTZXQoc3RydWN0TmFtZV8yLCBmaWVsZE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVuZGVyIEhJRElORycsIHN0cnVjdE5hbWVfMiwgZmllbGROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15Vml6LmZpZWxkc0hpZGRlbi5wdXNoKHN0cnVjdE5hbWVfMiArICc6JyArIGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGdldCBvdXQhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGJsLmFwcGVuZCgnPHRyIGNsYXNzPVwiaW5zdEVudHJ5XCI+PHRkIGNsYXNzPVwiaW5zdEtleVwiPjwvdGQ+PHRkIGNsYXNzPVwiaW5zdFZhbFwiPjwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1JvdyA9IHRibC5maW5kKCd0cjpsYXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlUZCA9IG5ld1Jvdy5maW5kKCd0ZDpmaXJzdCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsVGQgPSBuZXdSb3cuZmluZCgndGQ6bGFzdCcpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUga2V5cyBzaG91bGQgYWx3YXlzIGJlIHN0cmluZ3MsIHNvIHJlbmRlciB0aGVtIGRpcmVjdGx5IChhbmQgd2l0aG91dCBxdW90ZXMpOlxuICAgICAgICAgICAgICAgICAgICAvLyAoYWN0dWFsbHkgdGhpcyBpc24ndCB0aGUgY2FzZSB3aGVuIHN0cmluZ3MgYXJlIHJlbmRlcmVkIG9uIHRoZSBoZWFwKVxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mIGt2UGFpclswXSA9PSBcInN0cmluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tbW9uIGNhc2UgLi4uXG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRybmFtZVN0ciA9IGh0bWxzcGVjaWFsY2hhcnMoa3ZQYWlyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAga2V5VGQuYXBwZW5kKCc8c3BhbiBjbGFzcz1cImtleU9ialwiPicgKyBhdHRybmFtZVN0ciArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlcyBjYW4gYmUgYXJiaXRyYXJ5IG9iamVjdHMsIHNvIHJlY3Vyc2U6XG4gICAgICAgICAgICAgICAgICAgIG15Vml6LnJlbmRlck5lc3RlZE9iamVjdChrdlBhaXJbMV0sIHN0ZXBOdW0sIHZhbFRkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYmpbMF0gPT0gJ0NfTVVMVElESU1FTlNJT05BTF9BUlJBWScpIHtcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGNhbiBkaXNwbGF5IG9ubHkgMiBkaW1lbnNpb25zIHNlbnNpYmx5LCBtYWtlIHRoZSBmaXJzdFxuICAgICAgICAgICAgLy8gZGltZW5zaW9uIGludG8gcm93cyBhbmQgZmxhdHRlbiBhbGwgb3RoZXIgZGltZW5zaW9ucyB0b2dldGhlciBpbnRvXG4gICAgICAgICAgICAvLyBjb2x1bW5zLiBpbiB0aGUgY29tbW9uIGNhc2UgZm9yIGEgMi1EIGFycmF5LCB0aGlzIHdpbGwgZG8gdGhlXG4gICAgICAgICAgICAvLyBwZXJmZWN0IHRoaW5nOiBmaXJzdCBkaW1lbnNpb24gaXMgcm93cywgc2Vjb25kIGRpbWVuc2lvbiBpcyBjb2x1bW5zLlxuICAgICAgICAgICAgLy8gZS5nLiwgZm9yIGEgNC1EIGFycmF5LCB0aGUgZmlyc3QgZGltZW5zaW9uIGlzIHJvd3MsIGFuZCBkaW1lbnNpb25zXG4gICAgICAgICAgICAvLyAyLCAzLCBhbmQgNCBhcmUgZmxhdHRlbmVkIHRvZ2V0aGVyIGludG8gY29sdW1ucy4gd2UgY2FuJ3QgZG9cbiAgICAgICAgICAgIC8vIGFueSBiZXR0ZXIgdGhhbiB0aGlzIHNpbmNlIGl0IGRvZXNuJ3QgbWFrZSBzZW5zZSB0byBkaXNwbGF5XG4gICAgICAgICAgICAvLyBtb3JlIHRoYW4gMiBkaW1lbnNpb25zIGF0IG9uY2Ugb24gc2NyZWVuXG4gICAgICAgICAgICBhc3NlcnQob2JqLmxlbmd0aCA+PSAzKTtcbiAgICAgICAgICAgIHZhciBhZGRyID0gb2JqWzFdO1xuICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSBvYmpbMl07XG4gICAgICAgICAgICBhc3NlcnQoZGltZW5zaW9ucy5sZW5ndGggPiAxKTsgLy8gbWFrZSBzdXJlIHdlJ3JlIHJlYWxseSBtdWx0aWRpbWVuc2lvbmFsIVxuICAgICAgICAgICAgdmFyIGxlYWRlciA9ICcnO1xuICAgICAgICAgICAgZDNEb21FbGVtZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cInR5cGVMYWJlbFwiPicgKyBsZWFkZXIgKyAnYXJyYXk8L2Rpdj4nKTtcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzx0YWJsZSBjbGFzcz1cImNBcnJheVRibFwiPjwvdGFibGU+Jyk7XG4gICAgICAgICAgICB2YXIgdGJsID0gZDNEb21FbGVtZW50LmNoaWxkcmVuKCd0YWJsZScpO1xuICAgICAgICAgICAgLy8gYSBsaXN0IG9mIGFycmF5IGluZGljZXMgZm9yIGVhY2ggZGltZW5zaW9uXG4gICAgICAgICAgICB2YXIgaW5kaWNlc0J5RGltZW5zaW9uID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbWVuc2lvbnMubGVuZ3RoOyBkKyspIHtcbiAgICAgICAgICAgICAgICBpbmRpY2VzQnlEaW1lbnNpb24ucHVzaChkMy5yYW5nZShkaW1lbnNpb25zW2RdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb21tb24gY2FzZSBpcyAyLUQ6XG4gICAgICAgICAgICB2YXIgYWxsRGltZW5zaW9ucyA9IG11bHRpcGx5TGlzdHMoaW5kaWNlc0J5RGltZW5zaW9uWzBdLCBpbmRpY2VzQnlEaW1lbnNpb25bMV0pO1xuICAgICAgICAgICAgLy8gZm9yIGFsbCBkaW1lbnNpb25zIGFib3ZlIHRoZSBzZWNvbmQgb25lIC4uLlxuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDI7IGQgPCBkaW1lbnNpb25zLmxlbmd0aDsgZCsrKSB7XG4gICAgICAgICAgICAgICAgYWxsRGltZW5zaW9ucyA9IG11bHRpcGx5TGlzdHMoYWxsRGltZW5zaW9ucywgaW5kaWNlc0J5RGltZW5zaW9uW2RdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2FsbERpbWVuc2lvbnMnLCBKU09OLnN0cmluZ2lmeShhbGxEaW1lbnNpb25zKSk7XG4gICAgICAgICAgICAvLyBpZ25vcmUgZGltZW5zaW9uc1swXSwgd2hpY2ggaXMgcm93c1xuICAgICAgICAgICAgdmFyIG51bUNvbHVtbnMgPSAxO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBkaW1lbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbnVtQ29sdW1ucyAqPSBkaW1lbnNpb25zW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgZGltZW5zaW9uc1swXTsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyb3cnLCByb3cpO1xuICAgICAgICAgICAgICAgIC8vIGEgcGFpciBvZiByb3dzIGZvciBoZWFkZXIgKyBjb250ZW50LCByZXNwZWN0aXZlbHlcbiAgICAgICAgICAgICAgICB0YmwuYXBwZW5kKCc8dHI+PC90cj4nKTtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyVHIgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPicpO1xuICAgICAgICAgICAgICAgIHZhciBjb250ZW50VHIgPSB0YmwuZmluZCgndHI6bGFzdCcpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG51bUNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbGF0dGVuZWRJbmQgPSAocm93ICogbnVtQ29sdW1ucykgKyBjb2w7IC8vIHRoZSByZWFsIGluZGV4IGludG8gdGhlIDEtRCBmbGF0dGVuZWQgYXJyYXkgc3RvcmVkIGluIG9ialszOl1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWxJbmQgPSBmbGF0dGVuZWRJbmQgKyAzOyAvLyBza2lwIDMgaGVhZGVyIGZpZWxkcyB0byBnZXQgdG8gdGhlIHJlYWwgaW5kZXggaW4gb2JqXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvYmpbcmVhbEluZF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRUb0Rpc3BsYXkgPSBhbGxEaW1lbnNpb25zW2ZsYXR0ZW5lZEluZF0uam9pbignLCcpO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcgIGNvbCcsIGNvbCwgJ3wgZmxhdHRlbmVkSW5kOicsIGZsYXR0ZW5lZEluZCwgaW5kVG9EaXNwbGF5LCAnY29udGVudHM6JywgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGNvbHVtbiBhbmQgdGhlbiBwYXNzIGluIHRoYXQgbmV3bHktYWRkZWQgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIGQzRG9tRWxlbWVudCB0byB0aGUgcmVjdXJzaXZlIGNhbGwgdG8gY2hpbGQ6XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlclRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiY011bHRpZGltQXJyYXlIZWFkZXJcIj48L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJUci5maW5kKCd0ZDpsYXN0JykuYXBwZW5kKGluZFRvRGlzcGxheSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUci5hcHBlbmQoJzx0ZCBjbGFzcz1cImNNdWx0aWRpbUFycmF5RWx0XCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgbXlWaXoucmVuZGVyTmVzdGVkT2JqZWN0KHZhbCwgc3RlcE51bSwgY29udGVudFRyLmZpbmQoJ3RkOmxhc3QnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0KG9ialswXSA9PSAnQ19BUlJBWScpO1xuICAgICAgICAgICAgYXNzZXJ0KG9iai5sZW5ndGggPj0gMik7XG4gICAgICAgICAgICB2YXIgYWRkciA9IG9ialsxXTtcbiAgICAgICAgICAgIHZhciBsZWFkZXIgPSAnJztcbiAgICAgICAgICAgIGQzRG9tRWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJ0eXBlTGFiZWxcIj4nICsgbGVhZGVyICsgJ2FycmF5PC9kaXY+Jyk7XG4gICAgICAgICAgICBkM0RvbUVsZW1lbnQuYXBwZW5kKCc8dGFibGUgY2xhc3M9XCJjQXJyYXlUYmxcIj48L3RhYmxlPicpO1xuICAgICAgICAgICAgdmFyIHRibCA9IGQzRG9tRWxlbWVudC5jaGlsZHJlbigndGFibGUnKTtcbiAgICAgICAgICAgIHRibC5hcHBlbmQoJzx0cj48L3RyPjx0cj48L3RyPicpO1xuICAgICAgICAgICAgdmFyIGhlYWRlclRyID0gdGJsLmZpbmQoJ3RyOmZpcnN0Jyk7XG4gICAgICAgICAgICB2YXIgY29udGVudFRyID0gdGJsLmZpbmQoJ3RyOmxhc3QnKTtcbiAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uIChpbmQsIHZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChpbmQgPCAyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIHNraXAgJ0NfQVJSQVknIGFuZCBhZGRyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGNvbHVtbiBhbmQgdGhlbiBwYXNzIGluIHRoYXQgbmV3bHktYWRkZWQgY29sdW1uXG4gICAgICAgICAgICAgICAgLy8gYXMgZDNEb21FbGVtZW50IHRvIHRoZSByZWN1cnNpdmUgY2FsbCB0byBjaGlsZDpcbiAgICAgICAgICAgICAgICBoZWFkZXJUci5hcHBlbmQoJzx0ZCBjbGFzcz1cImNBcnJheUhlYWRlclwiPjwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgaGVhZGVyVHIuZmluZCgndGQ6bGFzdCcpLmFwcGVuZChpbmQgLSAyIC8qIGFkanVzdCAqLyk7XG4gICAgICAgICAgICAgICAgY29udGVudFRyLmFwcGVuZCgnPHRkIGNsYXNzPVwiY0FycmF5RWx0XCI+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICBteVZpei5yZW5kZXJOZXN0ZWRPYmplY3QodmFsLCBzdGVwTnVtLCBjb250ZW50VHIuZmluZCgndGQ6bGFzdCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUucmVkcmF3Q29ubmVjdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5qc1BsdW1iSW5zdGFuY2UucmVwYWludEV2ZXJ5dGhpbmcoKTtcbiAgICB9O1xuICAgIC8vIHNlbGVjdGl2ZWx5IGhpZGluZyB2YXJpYWJsZXMgb3IgZmllbGRzXG4gICAgLy9cbiAgICAvLyBub3RlIHRoYXQgQysrIHVzZXMgJzo6JyBpbiBtZW1iZXIgZnVuY3Rpb24gbmFtZXMsIHNvIGZvclxuICAgIC8vIHRoZSBuYW1lcyBpbiBoaWRlVmFyc0xzdCBhbmQgaGlkZUZpZWxkc0xzdCwgd2UgY2FuJ3RcbiAgICAvLyByZWxpYWJseSBzcGxpdCBvbiAnOicgdG8gcmVjb25zdHJ1Y3QgaXRzIG9yaWdpbmFsIGZ1bmN0aW9uL2NsYXNzXG4gICAgLy8gbmFtZSBhbmQgaXRzIHZhcmlhYmxlIG5hbWUuIGUuZy4sIFwiQ29tcHV0ZXI6OnNldHNwZWVkKGludCk6cFwiXG4gICAgLy9cbiAgICAvLyB0aGUgbW9yZSByb2J1c3Qgc3RyYXRlZ3kgaXMgdG8ga2VlcCB0aGlzIHN0cmluZyBpbnRhY3QgYW5kIHRyeSB0b1xuICAgIC8vIHJlY29uc3RydWN0IGl0IHdoZW4gbWF0Y2hpbmcgdXAgd2l0aCB2YXJpYWJsZXMgaW4gdGhlIGV4ZWN1dGlvbiB0cmFjZVxuICAgIC8vIC4uLiBidXQgY29uc2lkZXIgdGhlIGNhc2Ugd2hlcmUgdGhlcmUgYXJlIE5PIENPTE9OUyBpbiB0aGUgc3RyaW5nLFxuICAgIC8vIHdoaWNoIGluZGljYXRlcyBhIHZhcmlhYmxlL2ZpZWxkIG5hbWUgdGhhdCBzaG91bGQgYmUgbWF0Y2hlZFxuICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hhdCBmdW5jdGlvbi9vYmplY3QgaXQgYmVsb25ncyB0b1xuICAgIERhdGFWaXN1YWxpemVyLnByb3RvdHlwZS5zZWxlY3RpdmVseUhpZGVWYXJzQW5kRmllbGRzID0gZnVuY3Rpb24gKGhpZGVWYXJzTHN0LCBoaWRlRmllbGRzTHN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChoaWRlVmFyc0xzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVWYXJzU2V0ID0gZDMubWFwKCk7XG4gICAgICAgICAgICBoaWRlVmFyc0xzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oaWRlVmFyc1NldC5zZXQoZSwgdHJ1ZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaWRlVmFyc1NldCA9IG51bGw7IC8vIHJlc2V0XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhpZGVGaWVsZHNMc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5oaWRlRmllbGRzU2V0ID0gZDMubWFwKCk7XG4gICAgICAgICAgICBoaWRlRmllbGRzTHN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhpZGVGaWVsZHNTZXQuc2V0KGUsIHRydWUpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZUZpZWxkc1NldCA9IG51bGw7IC8vIHJlc2V0XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm93IHRoYXQgdGhpcy5oaWRlVmFyc1NldCBhbmQgdGhpcy5oaWRlRmllbGRzU2V0IGhhdmUgYmVlbiB1cGRhdGVkIC4uLlxuICAgICAgICB0aGlzLnByZWNvbXB1dGVDdXJUcmFjZUxheW91dHMoKTsgLy8gcmVjb21wdXRlIGxheW91dHMgdG8gYWNjb3VudCBmb3IgaGlkZGVuIHZhcnMvb2JqZWN0c1xuICAgICAgICB0aGlzLnJlbmRlckRhdGFTdHJ1Y3R1cmVzKHRoaXMub3duZXIuY3VySW5zdHIpOyAvLyByZW5kZXIgY3VycmVudCBzdGVwIGFnYWluXG4gICAgICAgIC8vdGhpcy5vd25lci51cGRhdGVPdXRwdXQoKTsgLy8gYWx0ZXJuYXRpdmVseSwgdHJ5IHRoaXNcbiAgICB9O1xuICAgIC8vIHByZWNvbmRpdGlvbjogb2JqWzBdIGlzIGluIHsnSU5TVEFOQ0UnLCAnSU5TVEFOQ0VfUFBSSU5UJywgJ0NMQVNTJ31cbiAgICAvLyByZXR1cm5zOiBbY2xhc3MgbmFtZSwgaGVhZGVyIGxlbmd0aF1cbiAgICBEYXRhVmlzdWFsaXplci5nZXRDbGFzc0luc3RhbmNlTWV0YWRhdGEgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciB0eXAgPSBvYmpbMF07XG4gICAgICAgIGFzc2VydCh0eXAgPT0gJ0lOU1RBTkNFJyB8fCB0eXAgPT0gJ0lOU1RBTkNFX1BQUklOVCcgfHwgdHlwID09ICdDTEFTUycpO1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gb2JqWzFdOyAvLyBtaWdodCBwb3NzaWJseSBiZSAnJ1xuICAgICAgICB2YXIgaGVhZGVyTGVuZ3RoID0gKHR5cCA9PSAnSU5TVEFOQ0UnKSA/IDIgOiAzO1xuICAgICAgICByZXR1cm4gW2NsYXNzTmFtZSwgaGVhZGVyTGVuZ3RoXTtcbiAgICB9O1xuICAgIC8vIHJldHVybnMgdHJ1ZSBpZiBmdW5jbmFtZTp2YXJuYW1lIGlzIGluIHRoaXMuaGlkZVZhcnNTZXRcbiAgICAvLyBPUiBpZiB2YXJuYW1lIGFsb25lICh3aXRob3V0IGEgZnVuY25hbWUgcXVhbGlmaWVyKSBpcyBpbiB0aGlzLmhpZGVWYXJzU2V0XG4gICAgRGF0YVZpc3VhbGl6ZXIucHJvdG90eXBlLmluSGlkZVZhcnNTZXQgPSBmdW5jdGlvbiAoZnVuY25hbWUsIHZhcm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIERhdGFWaXN1YWxpemVyLl9pbkhpZGVTZXRIZWxwZXIodGhpcy5oaWRlVmFyc1NldCwgZnVuY25hbWUsIHZhcm5hbWUpO1xuICAgIH07XG4gICAgLy8gc2FtZSBhcyBpbkhpZGVWYXJzU2V0IGV4Y2VwdCBmb3IgY2xhc3NuYW1lL2ZpZWxkbmFtZSBpbiB0aGlzLmhpZGVGaWVsZHNTZXRcbiAgICBEYXRhVmlzdWFsaXplci5wcm90b3R5cGUuaW5IaWRlRmllbGRzU2V0ID0gZnVuY3Rpb24gKGNsYXNzbmFtZSwgZmllbGRuYW1lKSB7XG4gICAgICAgIHJldHVybiBEYXRhVmlzdWFsaXplci5faW5IaWRlU2V0SGVscGVyKHRoaXMuaGlkZUZpZWxkc1NldCwgY2xhc3NuYW1lLCBmaWVsZG5hbWUpO1xuICAgIH07XG4gICAgRGF0YVZpc3VhbGl6ZXIuX2luSGlkZVNldEhlbHBlciA9IGZ1bmN0aW9uIChteU1hcCwgZmlyc3QsIHNlY29uZCkge1xuICAgICAgICBpZiAoIW15TWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWZpcnN0KSB7IC8vIG9ubHkgbWF0Y2ggb24gc2Vjb25kLCBpbiB0aGF0IGNhc2VcbiAgICAgICAgICAgIHJldHVybiBteU1hcC5oYXMoc2Vjb25kKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gbWF0Y2ggb24gZWl0aGVyIGZpcnN0OnNlY29uZCBvciBzZWNvbmRcbiAgICAgICAgICAgIHJldHVybiBteU1hcC5oYXMoZmlyc3QgKyAnOicgKyBzZWNvbmQpIHx8IG15TWFwLmhhcyhzZWNvbmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEYXRhVmlzdWFsaXplci5HTE9CQUxfUFJFRklYID0gJ2dsb2JhbCc7XG4gICAgRGF0YVZpc3VhbGl6ZXIuVU5OQU1FRF9QUkVGSVggPSAnPHVubmFtZWQ+JztcbiAgICByZXR1cm4gRGF0YVZpc3VhbGl6ZXI7XG59KCkpOyAvLyBFTkQgY2xhc3MgRGF0YVZpc3VhbGl6ZXJcbnZhciBQcm9ncmFtT3V0cHV0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb2dyYW1PdXRwdXRCb3gob3duZXIsIGRvbVJvb3QsIGhlaWdodE92ZXJyaWRlKSB7XG4gICAgICAgIGlmIChoZWlnaHRPdmVycmlkZSA9PT0gdm9pZCAwKSB7IGhlaWdodE92ZXJyaWRlID0gbnVsbDsgfVxuICAgICAgICAvLyBob3cgbWFueSAqbWF4aW11bSogbGluZXMgZ2V0IHByaW50ZWQgdG8gc3Rkb3V0IGluIHRoZSBlbnRpcmUgdHJhY2U/XG4gICAgICAgIHRoaXMubnVtU3Rkb3V0TGluZXMgPSAwO1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuZG9tUm9vdCA9IGRvbVJvb3Q7XG4gICAgICAgIHZhciBvdXRwdXRzSFRNTCA9ICc8ZGl2IGlkPVwicHJvZ091dHB1dHNcIj5cXFxuICAgICAgICAgPGRpdiBpZD1cInByaW50T3V0cHV0RG9jc1wiPlByaW50IG91dHB1dCAoZHJhZyBsb3dlciByaWdodCBjb3JuZXIgdG8gcmVzaXplKTwvZGl2PlxcblxcXG4gICAgICAgICA8dGV4dGFyZWEgaWQ9XCJweVN0ZG91dFwiIGNvbHM9XCI0MFwiIHJvd3M9XCI1XCIgd3JhcD1cIm9mZlwiIHJlYWRvbmx5PjwvdGV4dGFyZWE+XFxcbiAgICAgICA8L2Rpdj4nO1xuICAgICAgICB0aGlzLmRvbVJvb3QuYXBwZW5kKG91dHB1dHNIVE1MKTtcbiAgICAgICAgLy8gZ28gYmFja3dhcmRzIGZyb20gdGhlIGVuZCAuLi4gc29tZXRpbWVzIHRoZSBmaW5hbCBlbnRyeSBkb2Vzbid0XG4gICAgICAgIC8vIGhhdmUgYW4gc3Rkb3V0XG4gICAgICAgIHZhciBsYXN0U3Rkb3V0O1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5vd25lci5jdXJUcmFjZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGFzdFN0ZG91dCA9IHRoaXMub3duZXIuY3VyVHJhY2VbaV0uc3Rkb3V0O1xuICAgICAgICAgICAgaWYgKGxhc3RTdGRvdXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdFN0ZG91dCkge1xuICAgICAgICAgICAgdGhpcy5udW1TdGRvdXRMaW5lcyA9IGxhc3RTdGRvdXQucnRyaW0oKS5zcGxpdCgnXFxuJykubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGRvdXRIZWlnaHQgPSAnNzVweCc7XG4gICAgICAgIC8vIGhldXJpc3RpYyBmb3IgY29kZSB3aXRoIHJlYWxseSBzbWFsbCBvdXRwdXRzXG4gICAgICAgIGlmICh0aGlzLm51bVN0ZG91dExpbmVzIDw9IDMpIHtcbiAgICAgICAgICAgIHN0ZG91dEhlaWdodCA9ICgyNSAqIHRoaXMubnVtU3Rkb3V0TGluZXMpICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVpZ2h0T3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHN0ZG91dEhlaWdodCA9IGhlaWdodE92ZXJyaWRlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvIHRoaXMgb25seSBhZnRlciBhZGRpbmcgb3V0cHV0c0hUTUwgdG8gdGhlIERPTVxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI3B5U3Rkb3V0Jykud2lkdGgoJzM1MHB4JylcbiAgICAgICAgICAgIC5oZWlnaHQoc3Rkb3V0SGVpZ2h0KVxuICAgICAgICAgICAgLnJlc2l6YWJsZSgpO1xuICAgIH1cbiAgICBQcm9ncmFtT3V0cHV0Qm94LnByb3RvdHlwZS5yZW5kZXJPdXRwdXQgPSBmdW5jdGlvbiAoc3Rkb3V0U3RyKSB7XG4gICAgICAgIGlmICghc3Rkb3V0U3RyKSB7XG4gICAgICAgICAgICBzdGRvdXRTdHIgPSAnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpc24ndCBhbnl0aGluZyB0byBkaXNwbGF5LCBkb24ndCBldmVuIGJvdGhlclxuICAgICAgICAvLyBkaXNwbGF5aW5nIHRoZSBwYW5lIChidXQgdGhpcyBtYXkgY2F1c2UganVtcGluZXNzIGxhdGVyKVxuICAgICAgICBpZiAodGhpcy5udW1TdGRvdXRMaW5lcyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcHJvZ091dHB1dHMnKS5zaG93KCk7XG4gICAgICAgICAgICB2YXIgcHlTdGRvdXQgPSB0aGlzLmRvbVJvb3QuZmluZChcIiNweVN0ZG91dFwiKTtcbiAgICAgICAgICAgIC8vIGtlZXAgb3JpZ2luYWwgaG9yaXpvbnRhbCBzY3JvbGwgbGV2ZWw6XG4gICAgICAgICAgICB2YXIgb2xkTGVmdCA9IHB5U3Rkb3V0LnNjcm9sbExlZnQoKTtcbiAgICAgICAgICAgIHB5U3Rkb3V0LnZhbChzdGRvdXRTdHIucnRyaW0oKSAvKiB0cmltIHRyYWlsaW5nIHNwYWNlcyAqLyk7XG4gICAgICAgICAgICBweVN0ZG91dC5zY3JvbGxMZWZ0KG9sZExlZnQpO1xuICAgICAgICAgICAgcHlTdGRvdXQuc2Nyb2xsVG9wKHB5U3Rkb3V0WzBdLnNjcm9sbEhlaWdodCk7IC8vIHNjcm9sbCB0byBib3R0b20sIHRob3VnaFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNwcm9nT3V0cHV0cycpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFByb2dyYW1PdXRwdXRCb3g7XG59KCkpOyAvLyBFTkQgY2xhc3MgUHJvZ3JhbU91dHB1dEJveFxudmFyIENvZGVEaXNwbGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvZGVEaXNwbGF5KG93bmVyLCBkb21Sb290LCBkb21Sb290RDMsIGNvZFRvRGlzcGxheSwgbGFuZywgZWRpdENvZGVCYXNlVVJMKSB7XG4gICAgICAgIHRoaXMubGVmdEd1dHRlclN2Z0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5kb21Sb290ID0gZG9tUm9vdDtcbiAgICAgICAgdGhpcy5kb21Sb290RDMgPSBkb21Sb290RDM7XG4gICAgICAgIHRoaXMuY29kVG9EaXNwbGF5ID0gY29kVG9EaXNwbGF5O1xuICAgICAgICAvLyAyMDE4LTAzLTE1IC0gcmVtb3ZlZCBcIkxpdmUgcHJvZ3JhbW1pbmdcIiBsaW5rIGZyb21cbiAgICAgICAgLy8gdmlzdWFsaXphdGlvbiBtb2RlIHRvIHNpbXBsaWZ5IHRoZSBVSSwgZXZlbiBpZiBpdCBkcml2ZXNcbiAgICAgICAgLy8gZmV3ZXIgcGVvcGxlIHRvIGxpdmUgcHJvZ3JhbW1pbmcgbW9kZTsgdGhleSBjYW4gYWx3YXlzIGNsaWNrXG4gICAgICAgIC8vIHRoZSBcIkxpdmUgUHJvZ3JhbW1pbmcgTW9kZVwiIGJ1dHRvbiBpbiB0aGUgY29kZSBlZGl0b3I6XG4gICAgICAgIC8vPHNwYW4gaWQ9XCJsaXZlTW9kZVNwYW5cIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+fCA8YSBpZD1cImVkaXRMaXZlTW9kZUJ0blwiIGhyZWY9XCIjXCI+TGl2ZSBwcm9ncmFtbWluZzwvYT48L2E+XFxcbiAgICAgICAgLy9cbiAgICAgICAgLy8gYWxzbyBjaGFuZ2VkICdFZGl0IGNvZGUnIGxpbmsgdG8gJ0VkaXQgdGhpcyBjb2RlJyB0byBtYWtlXG4gICAgICAgIC8vIGl0IG1vcmUgY2xlYXIgdG8gdXNlcnNcbiAgICAgICAgdmFyIGNvZGVEaXNwbGF5SFRNTCA9ICc8ZGl2IGlkPVwiY29kZURpc3BsYXlEaXZcIj5cXFxuICAgICAgICAgPGRpdiBpZD1cImxhbmdEaXNwbGF5RGl2XCI+PC9kaXY+XFxcbiAgICAgICAgIDxkaXYgaWQ9XCJweUNvZGVPdXRwdXREaXZcIi8+XFxcbiAgICAgICAgIDxkaXYgaWQ9XCJlZGl0Q29kZUxpbmtEaXZcIj48YSBpZD1cImVkaXRCdG5cIj5FZGl0IHRoaXMgY29kZTwvYT5cXFxuICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgIDxkaXYgaWQ9XCJsZWdlbmREaXZcIi8+XFxcbiAgICAgICAgIDxkaXYgaWQ9XCJjb2RlRm9vdGVyRG9jc1wiPjwvZGl2PlxcXG4gICAgICAgPC9kaXY+JztcbiAgICAgICAgdGhpcy5kb21Sb290LmFwcGVuZChjb2RlRGlzcGxheUhUTUwpO1xuICAgICAgICBpZiAodGhpcy5vd25lci5wYXJhbXMuZW1iZWRkZWRNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2VkaXRDb2RlTGlua0RpdicpLmNzcygnZm9udC1zaXplJywgJzEwcHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xlZ2VuZERpdicpXG4gICAgICAgICAgICAuYXBwZW5kKCc8c3ZnIGlkPVwicHJldkxlZ2VuZEFycm93U1ZHXCIvPiBsaW5lIHRoYXQganVzdCBleGVjdXRlZCcpXG4gICAgICAgICAgICAuYXBwZW5kKCc8cCBzdHlsZT1cIm1hcmdpbi10b3A6IDRweFwiPjxzdmcgaWQ9XCJjdXJMZWdlbmRBcnJvd1NWR1wiLz4gbmV4dCBsaW5lIHRvIGV4ZWN1dGU8L3A+Jyk7XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnc3ZnI3ByZXZMZWdlbmRBcnJvd1NWRycpXG4gICAgICAgICAgICAuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgICAgIC5hdHRyKCdwb2ludHMnLCBleHBvcnRzLlNWR19BUlJPV19QT0xZR09OKVxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBleHBvcnRzLmxpZ2h0QXJyb3dDb2xvcik7XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnc3ZnI2N1ckxlZ2VuZEFycm93U1ZHJylcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAgICAgLmF0dHIoJ3BvaW50cycsIGV4cG9ydHMuU1ZHX0FSUk9XX1BPTFlHT04pXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGV4cG9ydHMuZGFya0Fycm93Q29sb3IpO1xuICAgICAgICBpZiAoZWRpdENvZGVCYXNlVVJMKSB7XG4gICAgICAgICAgICAvLyBraW5kYSBrbHVkZ3lcbiAgICAgICAgICAgIHZhciBweVZlciA9ICcyJzsgLy8gZGVmYXVsdFxuICAgICAgICAgICAgaWYgKGxhbmcgPT09ICdqcycpIHtcbiAgICAgICAgICAgICAgICBweVZlciA9ICdqcyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAndHMnKSB7XG4gICAgICAgICAgICAgICAgcHlWZXIgPSAndHMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ2phdmEnKSB7XG4gICAgICAgICAgICAgICAgcHlWZXIgPSAnamF2YSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAncHkzJykge1xuICAgICAgICAgICAgICAgIHB5VmVyID0gJzMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3B5M2FuYWNvbmRhJykge1xuICAgICAgICAgICAgICAgIHB5VmVyID0gJ3B5M2FuYWNvbmRhJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdjJykge1xuICAgICAgICAgICAgICAgIHB5VmVyID0gJ2MnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ2NwcCcpIHtcbiAgICAgICAgICAgICAgICBweVZlciA9ICdjcHAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHVybFN0ciA9ICQucGFyYW0uZnJhZ21lbnQoZWRpdENvZGVCYXNlVVJMLCB7IGNvZGU6IHRoaXMuY29kVG9EaXNwbGF5LCBweTogcHlWZXIgfSwgMik7XG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2VkaXRCdG4nKS5hdHRyKCdocmVmJywgdXJsU3RyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjZWRpdENvZGVMaW5rRGl2JykuaGlkZSgpOyAvLyBqdXN0IGhpZGUgZm9yIHNpbXBsaWNpdHkhXG4gICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2VkaXRCdG4nKS5hdHRyKCdocmVmJywgXCIjXCIpO1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNlZGl0QnRuJykuY2xpY2soZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pOyAvLyBESVNBQkxFIHRoZSBsaW5rIVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChsYW5nID09PSAnanMnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ0phdmFTY3JpcHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICd0cycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnVHlwZVNjcmlwdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ3J1YnknKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ1J1YnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdqYXZhJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdKYXZhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAncHkyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdQeXRob24gMi43Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAncHkzJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdQeXRob24gMy42Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nID09PSAncHkzYW5hY29uZGEnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ1B5dGhvbiAzLjYgd2l0aCA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9kb2NzLmFuYWNvbmRhLmNvbS9hbmFjb25kYS9cIj5BbmFjb25kYSA1LjI8L2E+IDxmb250IGNvbG9yPVwiI2U5M2YzNFwiPkVYUEVSSU1FTlRBTCE8L2ZvbnQ+PGJyLz4obXVjaCBzbG93ZXIgdGhhbiA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwidmlzdWFsaXplLmh0bWwjcHk9M1wiPnJlZ3VsYXIgUHl0aG9uIDMuNjwvYT4sIGJ1dCBsZXRzIHlvdSBpbXBvcnQgbW9yZSBtb2R1bGVzKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZyA9PT0gJ2MnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3duZXIucGFyYW1zLmVtYmVkZGVkTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnQyAoZ2NjIDQuOCwgQzExKScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmh0bWwoJ0MgKGdjYyA0LjgsIEMxMSk8YnIvPjxmb250IGNvbG9yPVwiI2U5M2YzNFwiPkVYUEVSSU1FTlRBTCE8L2ZvbnQ+IDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvYmxvYi9tYXN0ZXIvdW5zdXBwb3J0ZWQtZmVhdHVyZXMubWQjYy1hbmQtYy11bnN1cHBvcnRlZC1mZWF0dXJlc1wiIHRhcmdldD1cIl9ibGFua1wiPmtub3duIGxpbWl0YXRpb25zPC9hPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmcgPT09ICdjcHAnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3duZXIucGFyYW1zLmVtYmVkZGVkTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2xhbmdEaXNwbGF5RGl2JykuaHRtbCgnQysrIChnY2MgNC44LCBDKysxMSknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjbGFuZ0Rpc3BsYXlEaXYnKS5odG1sKCdDKysgKGdjYyA0LjgsIEMrKzExKTxici8+PGZvbnQgY29sb3I9XCIjZTkzZjM0XCI+RVhQRVJJTUVOVEFMITwvZm9udD4gPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9wZ2JvdmluZS9PbmxpbmVQeXRob25UdXRvci9ibG9iL21hc3Rlci91bnN1cHBvcnRlZC1mZWF0dXJlcy5tZCNjLWFuZC1jLXVuc3VwcG9ydGVkLWZlYXR1cmVzXCIgdGFyZ2V0PVwiX2JsYW5rXCI+a25vd24gbGltaXRhdGlvbnM8L2E+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNsYW5nRGlzcGxheURpdicpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBDb2RlRGlzcGxheS5wcm90b3R5cGUucmVuZGVyUHlDb2RlT3V0cHV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbXlDb2RPdXRwdXQgPSB0aGlzOyAvLyBjYXB0dXJlXG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcHlDb2RlT3V0cHV0RGl2JykuZW1wdHkoKTtcbiAgICAgICAgLy8gbWFwcyBjb2RlT3V0cHV0TGluZXMgZG93biBib3RoIHRhYmxlIGNvbHVtbnNcbiAgICAgICAgLy8gVE9ETzogZ2V0IHJpZCBvZiBwZXNreSBvd25lciBkZXBlbmRlbmN5XG4gICAgICAgIHZhciBjb2RlT3V0cHV0RDMgPSB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJyNweUNvZGVPdXRwdXREaXYnKVxuICAgICAgICAgICAgLmFwcGVuZCgndGFibGUnKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3B5Q29kZU91dHB1dCcpXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCd0cicpXG4gICAgICAgICAgICAuZGF0YSh0aGlzLm93bmVyLmNvZGVPdXRwdXRMaW5lcylcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgndHInKVxuICAgICAgICAgICAgLnNlbGVjdEFsbCgndGQnKVxuICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIFtkLCBkXSAvKiBtYXAgZnVsbCBkYXRhIGl0ZW0gZG93biBib3RoIGNvbHVtbnMgKi87IH0pXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3RkJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAvLyBhZGQgdGhlIHRvZ2V0aGVyanNDbG9uZUNsaWNrIGNsYXNzIG9uIGhlcmUgc28gdGhhdCB3ZSBjYW5cbiAgICAgICAgICAgIC8vIHN5bmMgY2xpY2tzIHZpYSBUb2dldGhlckpTIGZvciBzZXR0aW5nIGJyZWFrcG9pbnRzIGluIHNoYXJlZFxuICAgICAgICAgICAgLy8gc2Vzc2lvbnMgKGtpbmRhIGxlYWt5IGFic3RyYWN0aW9uIHNpbmNlIHB5dHV0b3IudHMgc2hvdWxkbid0XG4gICAgICAgICAgICAvLyBuZWVkIHRvIGtub3cgYWJvdXQgVG9nZXRoZXJKUywgYnV0IG9oIHdlbGxzKVxuICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbGluZU5vIHRvZ2V0aGVyanNDbG9uZUNsaWNrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAnY29kIHRvZ2V0aGVyanNDbG9uZUNsaWNrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsaW5lTm8nICsgZC5saW5lTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm93bmVyLmdlbmVyYXRlSUQoJ2NvZCcgKyBkLmxpbmVOdW1iZXIpOyAvLyBtYWtlIGdsb2JhbGx5IHVuaXF1ZSAod2l0aGluIHRoZSBwYWdlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmh0bWwoZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5saW5lTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoZC50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGxlZnQtbW9zdCBndXR0ZXIgdGQgdGhhdCBzcGFucyBBTEwgcm93cyAuLi5cbiAgICAgICAgLy8gKE5COiB2YWxpZ249XCJ0b3BcIiBpcyBDUlVDSUFMIGZvciB0aGlzIHRvIHdvcmsgaW4gSUUpXG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcHlDb2RlT3V0cHV0IHRyOmZpcnN0JylcbiAgICAgICAgICAgIC5wcmVwZW5kKCc8dGQgaWQ9XCJndXR0ZXJURFwiIHZhbGlnbj1cInRvcFwiIHJvd3NwYW49XCInICsgdGhpcy5vd25lci5jb2RlT3V0cHV0TGluZXMubGVuZ3RoICsgJ1wiPjxzdmcgaWQ9XCJsZWZ0Q29kZUd1dHRlclNWR1wiLz48L3RkPicpO1xuICAgICAgICAvLyBjcmVhdGUgcHJldkxpbmVBcnJvdyBhbmQgY3VyTGluZUFycm93XG4gICAgICAgIHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnc3ZnI2xlZnRDb2RlR3V0dGVyU1ZHJylcbiAgICAgICAgICAgIC5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ3ByZXZMaW5lQXJyb3cnKVxuICAgICAgICAgICAgLmF0dHIoJ3BvaW50cycsIGV4cG9ydHMuU1ZHX0FSUk9XX1BPTFlHT04pXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGV4cG9ydHMubGlnaHRBcnJvd0NvbG9yKTtcbiAgICAgICAgdGhpcy5kb21Sb290RDMuc2VsZWN0KCdzdmcjbGVmdENvZGVHdXR0ZXJTVkcnKVxuICAgICAgICAgICAgLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgICAgICAuYXR0cignaWQnLCAnY3VyTGluZUFycm93JylcbiAgICAgICAgICAgIC5hdHRyKCdwb2ludHMnLCBleHBvcnRzLlNWR19BUlJPV19QT0xZR09OKVxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBleHBvcnRzLmRhcmtBcnJvd0NvbG9yKTtcbiAgICAgICAgLy8gMjAxMi0wOS0wNTogRGlzYWJsZSBicmVha3BvaW50cyBmb3Igbm93IHRvIHNpbXBsaWZ5IFVYXG4gICAgICAgIC8vIDIwMTYtMDUtMDE6IFJldml2ZSBicmVha3BvaW50IGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgY29kZU91dHB1dEQzXG4gICAgICAgICAgICAuc3R5bGUoJ2N1cnNvcicsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiBleGVQdHMgZW1wdHkgKGkuZS4sIHRoaXMgbGluZSB3YXMgbmV2ZXIgZXhlY3V0ZWQpXG4gICAgICAgICAgICB2YXIgZXhlUHRzID0gZC5leGVjdXRpb25Qb2ludHM7XG4gICAgICAgICAgICBpZiAoIWV4ZVB0cyB8fCBleGVQdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3BvaW50ZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiBleGVQdHMgZW1wdHkgKGkuZS4sIHRoaXMgbGluZSB3YXMgbmV2ZXIgZXhlY3V0ZWQpXG4gICAgICAgICAgICB2YXIgZXhlUHRzID0gZC5leGVjdXRpb25Qb2ludHM7XG4gICAgICAgICAgICBpZiAoIWV4ZVB0cyB8fCBleGVQdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLmJyZWFrcG9pbnRIZXJlID0gIWQuYnJlYWtwb2ludEhlcmU7IC8vIHRvZ2dsZVxuICAgICAgICAgICAgaWYgKGQuYnJlYWtwb2ludEhlcmUpIHtcbiAgICAgICAgICAgICAgICBteUNvZE91dHB1dC5vd25lci5zZXRCcmVha3BvaW50KGQpO1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnNlbGVjdCgndGQubGluZU5vJykuc3R5bGUoJ2NvbG9yJywgYnJlYWtwb2ludENvbG9yKTtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoJ3RkLmxpbmVObycpLnN0eWxlKCdmb250LXdlaWdodCcsICdib2xkJyk7XG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuc2VsZWN0KCd0ZC5jb2QnKS5zdHlsZSgnY29sb3InLCBicmVha3BvaW50Q29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlDb2RPdXRwdXQub3duZXIudW5zZXRCcmVha3BvaW50KGQpO1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnNlbGVjdCgndGQubGluZU5vJykuc3R5bGUoJ2NvbG9yJywgJycpO1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnNlbGVjdCgndGQubGluZU5vJykuc3R5bGUoJ2ZvbnQtd2VpZ2h0JywgJycpO1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnNlbGVjdCgndGQuY29kJykuc3R5bGUoJ2NvbG9yJywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvZGVEaXNwbGF5LnByb3RvdHlwZS51cGRhdGVDb2RPdXRwdXQgPSBmdW5jdGlvbiAoc21vb3RoVHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc21vb3RoVHJhbnNpdGlvbiA9PT0gdm9pZCAwKSB7IHNtb290aFRyYW5zaXRpb24gPSBmYWxzZTsgfVxuICAgICAgICB2YXIgZ3V0dGVyU1ZHID0gdGhpcy5kb21Sb290LmZpbmQoJ3N2ZyNsZWZ0Q29kZUd1dHRlclNWRycpO1xuICAgICAgICAvLyBvbmUtdGltZSBpbml0aWFsaXphdGlvbiBvZiB0aGUgbGVmdCBndXR0ZXJcbiAgICAgICAgLy8gKHdlIG9mdGVuIGNhbid0IGRvIHRoaXMgZWFybGllciBzaW5jZSB0aGUgZW50aXJlIHBhbmVcbiAgICAgICAgLy8gIG1pZ2h0IGJlIGludmlzaWJsZSBhbmQgaGVuY2UgcmV0dXJucyBhIGhlaWdodCBvZiB6ZXJvIG9yIE5hTlxuICAgICAgICAvLyAgLS0gdGhlIGV4YWN0IGZvcm1hdCBkZXBlbmRzIG9uIGJyb3dzZXIpXG4gICAgICAgIGlmICghdGhpcy5sZWZ0R3V0dGVyU3ZnSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIC8vIHNldCB0aGUgZ3V0dGVyJ3MgaGVpZ2h0IHRvIG1hdGNoIHRoYXQgb2YgaXRzIHBhcmVudFxuICAgICAgICAgICAgZ3V0dGVyU1ZHLmhlaWdodChndXR0ZXJTVkcucGFyZW50KCkuaGVpZ2h0KCkpO1xuICAgICAgICAgICAgdmFyIGZpcnN0Um93T2Zmc2V0WSA9IHRoaXMuZG9tUm9vdC5maW5kKCd0YWJsZSNweUNvZGVPdXRwdXQgdHI6Zmlyc3QnKS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAvLyBmaXJzdCB0YWtlIGNhcmUgb2YgZWRnZSBjYXNlIHdoZW4gdGhlcmUncyBvbmx5IG9uZSBsaW5lIC4uLlxuICAgICAgICAgICAgdGhpcy5jb2RlUm93SGVpZ2h0ID0gdGhpcy5kb21Sb290LmZpbmQoJ3RhYmxlI3B5Q29kZU91dHB1dCB0ZC5jb2Q6Zmlyc3QnKS5oZWlnaHQoKTtcbiAgICAgICAgICAgIC8vIC4uLiB0aGVuIGhhbmRsZSB0aGUgKG11Y2ggbW9yZSBjb21tb24pIG11bHRpLWxpbmUgY2FzZSAuLi5cbiAgICAgICAgICAgIC8vIHRoaXMgd2VpcmQgY29udG9ydGlvbiBpcyBuZWNlc3NhcnkgdG8gZ2V0IHRoZSBhY2N1cmF0ZSByb3cgaGVpZ2h0IG9uIEludGVybmV0IEV4cGxvcmVyXG4gICAgICAgICAgICAvLyAoc2ltcGxlciBtZXRob2RzIHdvcmsgb24gYWxsIG90aGVyIG1ham9yIGJyb3dzZXJzLCBlcmdoaGhoaGghISEpXG4gICAgICAgICAgICBpZiAodGhpcy5vd25lci5jb2RlT3V0cHV0TGluZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBzZWNvbmRSb3dPZmZzZXRZID0gdGhpcy5kb21Sb290LmZpbmQoJ3RhYmxlI3B5Q29kZU91dHB1dCB0cjpudGgtY2hpbGQoMiknKS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2RlUm93SGVpZ2h0ID0gc2Vjb25kUm93T2Zmc2V0WSAtIGZpcnN0Um93T2Zmc2V0WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2VydCh0aGlzLmNvZGVSb3dIZWlnaHQgPiAwKTtcbiAgICAgICAgICAgIHZhciBndXR0ZXJPZmZzZXRZID0gZ3V0dGVyU1ZHLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIHZhciB0ZWVueUFkanVzdG1lbnQgPSBndXR0ZXJPZmZzZXRZIC0gZmlyc3RSb3dPZmZzZXRZO1xuICAgICAgICAgICAgLy8gc3VwZXItcGlja3kgZGV0YWlsIHRvIGFkanVzdCB0aGUgdmVydGljYWwgYWxpZ25tZW50IG9mIGFycm93cyBzbyB0aGF0IHRoZXkgbGluZSB1cFxuICAgICAgICAgICAgLy8gd2VsbCB3aXRoIHRoZSBwb2ludGVkLXRvIGNvZGUgdGV4dCAuLi5cbiAgICAgICAgICAgIC8vIChpZiB5b3Ugd2FudCB0byBtYW51YWxseSBhZGp1c3QgdGFibGVUb3AsIHRoZW4gfjUgaXMgYSByZWFzb25hYmxlIG51bWJlcilcbiAgICAgICAgICAgIHRoaXMuYXJyb3dPZmZzZXRZID0gTWF0aC5mbG9vcigodGhpcy5jb2RlUm93SGVpZ2h0IC8gMikgLSAoU1ZHX0FSUk9XX0hFSUdIVCAvIDIpKSAtIHRlZW55QWRqdXN0bWVudDtcbiAgICAgICAgICAgIHRoaXMubGVmdEd1dHRlclN2Z0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQodGhpcy5hcnJvd09mZnNldFkgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGFzc2VydCh0aGlzLmNvZGVSb3dIZWlnaHQgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGFzc2VydCgwIDw9IHRoaXMuYXJyb3dPZmZzZXRZICYmIHRoaXMuYXJyb3dPZmZzZXRZIDw9IHRoaXMuY29kZVJvd0hlaWdodCk7XG4gICAgICAgIC8vIGFzc3VtZXMgdGhhdCB0aGlzLm93bmVyLnVwZGF0ZUxpbmVBbmRFeGNlcHRpb25JbmZvIGhhcyBhbHJlYWR5XG4gICAgICAgIC8vIGJlZW4gcnVuLCBzbyBsaW5lIG51bWJlciBpbmZvIGlzIHVwLXRvLWRhdGUhXG4gICAgICAgIC8vIFRPRE86IGdldCByaWQgb2YgdGhpcyBwZXNreSAnb3duZXInIGRlcGVuZGVuY3lcbiAgICAgICAgdmFyIG15Vml6ID0gdGhpcy5vd25lcjtcbiAgICAgICAgdmFyIGlzTGFzdEluc3RyID0gKG15Vml6LmN1ckluc3RyID09PSAobXlWaXouY3VyVHJhY2UubGVuZ3RoIC0gMSkpO1xuICAgICAgICB2YXIgY3VyRW50cnkgPSBteVZpei5jdXJUcmFjZVtteVZpei5jdXJJbnN0cl07XG4gICAgICAgIHZhciBoYXNFcnJvciA9IChjdXJFbnRyeS5ldmVudCA9PT0gJ2V4Y2VwdGlvbicgfHwgY3VyRW50cnkuZXZlbnQgPT09ICd1bmNhdWdodF9leGNlcHRpb24nKTtcbiAgICAgICAgdmFyIGlzVGVybWluYXRlZCA9ICghbXlWaXouaW5zdHJMaW1pdFJlYWNoZWQgJiYgaXNMYXN0SW5zdHIpO1xuICAgICAgICB2YXIgcGNvZCA9IHRoaXMuZG9tUm9vdC5maW5kKCcjcHlDb2RlT3V0cHV0RGl2Jyk7XG4gICAgICAgIHZhciBwcmV2VmVydGljYWxOdWRnZSA9IG15Vml6LnByZXZMaW5lSXNSZXR1cm4gPyBNYXRoLmZsb29yKHRoaXMuY29kZVJvd0hlaWdodCAvIDMpIDogMDtcbiAgICAgICAgdmFyIGN1clZlcnRpY2FsTnVkZ2UgPSBteVZpei5jdXJMaW5lSXNSZXR1cm4gPyBNYXRoLmZsb29yKHRoaXMuY29kZVJvd0hlaWdodCAvIDMpIDogMDtcbiAgICAgICAgLy8gdWdseSBlZGdlIGNhc2UgZm9yIHRoZSBmaW5hbCBpbnN0cnVjdGlvbiA6MFxuICAgICAgICBpZiAoaXNUZXJtaW5hdGVkICYmICFoYXNFcnJvcikge1xuICAgICAgICAgICAgaWYgKG15Vml6LnByZXZMaW5lTnVtYmVyICE9PSBteVZpei5jdXJMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgY3VyVmVydGljYWxOdWRnZSA9IGN1clZlcnRpY2FsTnVkZ2UgLSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChteVZpei5wcmV2TGluZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIHBsYSA9IHRoaXMuZG9tUm9vdEQzLnNlbGVjdCgnI3ByZXZMaW5lQXJyb3cnKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVQcmV2Q21kID0gJ3RyYW5zbGF0ZSgwLCAnICsgKCgobXlWaXoucHJldkxpbmVOdW1iZXIgLSAxKSAqIHRoaXMuY29kZVJvd0hlaWdodCkgKyB0aGlzLmFycm93T2Zmc2V0WSArIHByZXZWZXJ0aWNhbE51ZGdlKSArICcpJztcbiAgICAgICAgICAgIGlmIChzbW9vdGhUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGxhXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDIwMClcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnd2hpdGUnKVxuICAgICAgICAgICAgICAgICAgICAuZWFjaCgnZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBwbGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCB0cmFuc2xhdGVQcmV2Q21kKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBleHBvcnRzLmxpZ2h0QXJyb3dDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIGd1dHRlclNWRy5maW5kKCcjcHJldkxpbmVBcnJvdycpLnNob3coKTsgLy8gc2hvdyBhdCB0aGUgZW5kIHRvIGF2b2lkIGZsaWNrZXJpbmdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYS5hdHRyKCd0cmFuc2Zvcm0nLCB0cmFuc2xhdGVQcmV2Q21kKTtcbiAgICAgICAgICAgICAgICBndXR0ZXJTVkcuZmluZCgnI3ByZXZMaW5lQXJyb3cnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBndXR0ZXJTVkcuZmluZCgnI3ByZXZMaW5lQXJyb3cnKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG15Vml6LmN1ckxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBjbGEgPSB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJyNjdXJMaW5lQXJyb3cnKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVDdXJDbWQgPSAndHJhbnNsYXRlKDAsICcgKyAoKChteVZpei5jdXJMaW5lTnVtYmVyIC0gMSkgKiB0aGlzLmNvZGVSb3dIZWlnaHQpICsgdGhpcy5hcnJvd09mZnNldFkgKyBjdXJWZXJ0aWNhbE51ZGdlKSArICcpJztcbiAgICAgICAgICAgIGlmIChzbW9vdGhUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2xhXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgLmRlbGF5KDIwMClcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKDI1MClcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIHRyYW5zbGF0ZUN1ckNtZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGEuYXR0cigndHJhbnNmb3JtJywgdHJhbnNsYXRlQ3VyQ21kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1dHRlclNWRy5maW5kKCcjY3VyTGluZUFycm93Jykuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ3V0dGVyU1ZHLmZpbmQoJyNjdXJMaW5lQXJyb3cnKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb21Sb290RDMuc2VsZWN0QWxsKCcjcHlDb2RlT3V0cHV0RGl2IHRkLmNvZCcpXG4gICAgICAgICAgICAuc3R5bGUoJ2JvcmRlci10b3AnLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yICYmIChkLmxpbmVOdW1iZXIgPT0gY3VyRW50cnkubGluZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzFweCBzb2xpZCAnICsgZXJyb3JDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdHlsZSgnYm9yZGVyLWJvdHRvbScsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBDT1BZIEFORCBQQVNURSBBTEVSVCFcbiAgICAgICAgICAgIGlmIChoYXNFcnJvciAmJiAoZC5saW5lTnVtYmVyID09IGN1ckVudHJ5LmxpbmUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcxcHggc29saWQgJyArIGVycm9yQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyByZXR1cm5zIFRydWUgaWZmIGxpbmVObyBpcyB2aXNpYmxlIGluIHB5Q29kZU91dHB1dERpdlxuICAgICAgICB2YXIgaXNPdXRwdXRMaW5lVmlzaWJsZSA9IGZ1bmN0aW9uIChsaW5lTm8pIHtcbiAgICAgICAgICAgIHZhciBsaW5lTm9UZCA9IF90aGlzLmRvbVJvb3QuZmluZCgnI2xpbmVObycgKyBsaW5lTm8pO1xuICAgICAgICAgICAgLy8gaWYgd2UgY2FuJ3QgZXZlbiBmaW5kIHRoaXMgbGluZU5vIGRpdiwgdGhlbiBwdW50IVxuICAgICAgICAgICAgaWYgKCFsaW5lTm9UZCB8fCBsaW5lTm9UZC5sZW5ndGggLyogalF1ZXJ5IHNlbGVjdG9yIHJldHVybnMgYSBsaXN0ICovID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIExPID0gbGluZU5vVGQub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgdmFyIFBPID0gcGNvZC5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICB2YXIgU1QgPSBwY29kLnNjcm9sbFRvcCgpO1xuICAgICAgICAgICAgdmFyIEggPSBwY29kLmhlaWdodCgpO1xuICAgICAgICAgICAgLy8gYWRkIGEgZmV3IHBpeGVscyBvZiBmdWRnZSBmYWN0b3Igb24gdGhlIGJvdHRvbSBlbmQgZHVlIHRvIGJvdHRvbSBzY3JvbGxiYXJcbiAgICAgICAgICAgIHJldHVybiAoUE8gPD0gTE8pICYmIChMTyA8IChQTyArIEggLSAzMCkpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBzbW9vdGhseSBzY3JvbGwgcHlDb2RlT3V0cHV0RGl2IHNvIHRoYXQgdGhlIGdpdmVuIGxpbmUgaXMgYXQgdGhlIGNlbnRlclxuICAgICAgICB2YXIgc2Nyb2xsQ29kZU91dHB1dFRvTGluZSA9IGZ1bmN0aW9uIChsaW5lTm8pIHtcbiAgICAgICAgICAgIHZhciBsaW5lTm9UZCA9IF90aGlzLmRvbVJvb3QuZmluZCgnI2xpbmVObycgKyBsaW5lTm8pO1xuICAgICAgICAgICAgLy8gaWYgd2UgY2FuJ3QgZXZlbiBmaW5kIHRoaXMgbGluZU5vIGRpdiwgdGhlbiBwdW50IVxuICAgICAgICAgICAgaWYgKCFsaW5lTm9UZCB8fCBsaW5lTm9UZC5sZW5ndGggLyogalF1ZXJ5IHNlbGVjdG9yIHJldHVybnMgYSBsaXN0ICovID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIExPID0gbGluZU5vVGQub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgdmFyIFBPID0gcGNvZC5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICB2YXIgU1QgPSBwY29kLnNjcm9sbFRvcCgpO1xuICAgICAgICAgICAgdmFyIEggPSBwY29kLmhlaWdodCgpO1xuICAgICAgICAgICAgcGNvZC5zdG9wKCk7IC8vIGZpcnN0IHN0b3AgYWxsIHByZXZpb3VzbHktcXVldWVkIGFuaW1hdGlvbnNcbiAgICAgICAgICAgIHBjb2QuYW5pbWF0ZSh7IHNjcm9sbFRvcDogKFNUICsgKExPIC0gUE8gLSAoTWF0aC5yb3VuZChIIC8gMikpKSkgfSwgMzAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gc21vb3RobHkgc2Nyb2xsIGNvZGUgZGlzcGxheVxuICAgICAgICBpZiAoIWlzT3V0cHV0TGluZVZpc2libGUoY3VyRW50cnkubGluZSkpIHtcbiAgICAgICAgICAgIHNjcm9sbENvZGVPdXRwdXRUb0xpbmUoY3VyRW50cnkubGluZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb2RlRGlzcGxheTtcbn0oKSk7IC8vIEVORCBjbGFzcyBDb2RlRGlzcGxheVxudmFyIE5hdmlnYXRpb25Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5hdmlnYXRpb25Db250cm9sbGVyKG93bmVyLCBkb21Sb290LCBkb21Sb290RDMsIG5TdGVwcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbXlzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmRvbVJvb3QgPSBkb21Sb290O1xuICAgICAgICB0aGlzLmRvbVJvb3REMyA9IGRvbVJvb3REMztcbiAgICAgICAgdGhpcy5uU3RlcHMgPSBuU3RlcHM7XG4gICAgICAgIHRoaXMuY3VzdG9taXplVml6T3B0aW9uc1Nob3duID0gZmFsc2U7XG4gICAgICAgIHZhciBuYXZIVE1MID0gJzxkaXYgaWQ9XCJuYXZDb250cm9sc0RpdlwiPlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXhlY3V0aW9uU2xpZGVyXCIvPlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXhlY3V0aW9uU2xpZGVyRm9vdGVyXCIvPlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidmNyQ29udHJvbHNcIj5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiam1wRmlyc3RJbnN0clwiLCB0eXBlPVwiYnV0dG9uXCI+Jmx0OyZsdDsgRmlyc3Q8L2J1dHRvbj5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiam1wU3RlcEJhY2tcIiwgdHlwZT1cImJ1dHRvblwiPiZsdDsgUHJldjwvYnV0dG9uPlxcXG4gICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJqbXBTdGVwRndkXCIsIHR5cGU9XCJidXR0b25cIj5OZXh0ICZndDs8L2J1dHRvbj5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiam1wTGFzdEluc3RyXCIsIHR5cGU9XCJidXR0b25cIj5MYXN0ICZndDsmZ3Q7PC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiY3VySW5zdHJcIj5TdGVwID8gb2YgPzwvZGl2PlxcXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwicmF3VXNlcklucHV0RGl2XCI+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJ1c2VySW5wdXRQcm9tcHRTdHJcIi8+XFxcbiAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJyYXdfaW5wdXRfdGV4dGJveFwiIHNpemU9XCIzMFwiLz5cXFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwicmF3X2lucHV0X3N1Ym1pdF9idG5cIj5TdWJtaXQ8L2J1dHRvbj5cXFxuICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJlcnJvck91dHB1dFwiLz5cXFxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImNyZWRpdHNQYW5lXCI+PC9kaXY+XFxcbiAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1aUNvbnRyb2xzUGFuZVwiPjxhIGlkPVwiY3VzdG9taXplVml6TGlua1wiIGhyZWY9XCIjXCI+Q3VzdG9taXplIHZpc3VhbGl6YXRpb248L2E+ICg8Zm9udCBjb2xvcj1cIiNlOTNmMzRcIj5ORVchPC9mb250Pik8L2Rpdj5cXFxuICAgICAgICAgICAgICAgICAgIDwvZGl2Pic7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5hcHBlbmQobmF2SFRNTCk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2ptcEZpcnN0SW5zdHJcIikuY2xpY2soZnVuY3Rpb24gKCkgeyBfdGhpcy5vd25lci5yZW5kZXJTdGVwKDApOyB9KTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjam1wTGFzdEluc3RyXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgX3RoaXMub3duZXIucmVuZGVyU3RlcChfdGhpcy5uU3RlcHMgLSAxKTsgfSk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2ptcFN0ZXBCYWNrXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgX3RoaXMub3duZXIuc3RlcEJhY2soKTsgfSk7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2ptcFN0ZXBGd2RcIikuY2xpY2soZnVuY3Rpb24gKCkgeyBfdGhpcy5vd25lci5zdGVwRm9yd2FyZCgpOyB9KTtcbiAgICAgICAgLy8gZGlzYWJsZSBjb250cm9scyBpbml0aWFsbHkgLi4uXG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI3ZjckNvbnRyb2xzICNqbXBGaXJzdEluc3RyXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjdmNyQ29udHJvbHMgI2ptcFN0ZXBCYWNrXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjdmNyQ29udHJvbHMgI2ptcFN0ZXBGd2RcIikuYXR0cihcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiN2Y3JDb250cm9scyAjam1wTGFzdEluc3RyXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgdmFyIHJ1aURpdiA9IHRoaXMuZG9tUm9vdC5maW5kKCcjcmF3VXNlcklucHV0RGl2Jyk7XG4gICAgICAgIHJ1aURpdi5maW5kKCcjdXNlcklucHV0UHJvbXB0U3RyJykuaHRtbCh0aGlzLm93bmVyLnVzZXJJbnB1dFByb21wdFN0cik7XG4gICAgICAgIHJ1aURpdi5maW5kKCcjcmF3X2lucHV0X3N1Ym1pdF9idG4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdXNlcklucHV0ID0gcnVpRGl2LmZpbmQoJyNyYXdfaW5wdXRfdGV4dGJveCcpLnZhbCgpO1xuICAgICAgICAgICAgLy8gYWR2YW5jZSBpbnN0cnVjdGlvbiBjb3VudCBieSAxIHRvIGdldCB0byB0aGUgTkVYVCBpbnN0cnVjdGlvblxuICAgICAgICAgICAgX3RoaXMub3duZXIucGFyYW1zLmV4ZWN1dGVDb2RlV2l0aFJhd0lucHV0RnVuYyh1c2VySW5wdXQsIF90aGlzLm93bmVyLmN1ckluc3RyICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgY3VzdG9taXplIHZpc3VhbGl6YXRpb24gVUlcbiAgICAgICAgdmFyIHVpQ29udHJvbHNQYW5lID0gdGhpcy5kb21Sb290LmZpbmQoXCIjdWlDb250cm9sc1BhbmVcIik7XG4gICAgICAgIC8vIGV4cG9zZSB0aGUgY3VzdG9taXphdGlvbiBVSVxuICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKFwiI2N1c3RvbWl6ZVZpekxpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmN1c3RvbWl6ZVZpek9wdGlvbnNTaG93bikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRvIHRoaXMgdXAgdG9wIHNvIHRoYXQgcmVuZGVyRGF0YVN0cnVjdHVyZXMgaXMgY2FsbGVkLFxuICAgICAgICAgICAgLy8gY3VzdG9taXplVml6T3B0aW9uc1Nob3duIGlzIG9uLCBzbyBvYmplY3RzIGdldCBtYWRlIC5kcmFnZ2FibGUoKVxuICAgICAgICAgICAgX3RoaXMuY3VzdG9taXplVml6T3B0aW9uc1Nob3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmFwcGVuZCgnIFxcXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiA4cHg7XCIvPlxcXG4gICAgICAgICAgPGZvbnQgY29sb3I9XCIjZTkzZjM0XCI+V2FybmluZzo8L2ZvbnQ+IFJlbG9hZGluZyB0aGlzIHBhZ2UgbG9zZXMgYWxsIGNoYW5nZXM7XFxcbiAgICAgICAgICBjdXN0b21pemF0aW9ucyA8ZW0+Tk9UPC9lbT4gc2hhcmVkIGluIFVSTCBvciBjaGF0IHNlc3Npb25zXFxcbiAgICAgICAgICA8cC8+PGI+RHJhZzwvYj4gYW55IG9iamVjdCBhcm91bmQgdG8gbW92ZSBpdC4gQ3VzdG9taXplIGl0cyBwb2ludGVyczpcXFxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAxMnB4OyBtYXJnaW4tYm90dG9tOiA1cHg7XCI+XFxcbiAgICAgICAgICBMaW5lIHN0eWxlOlxcXG4gICAgICAgICAgPHNlbGVjdCBpZD1cImpzcGx1bWJDb25uZWN0b3JUeXBlXCI+XFxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTdGF0ZU1hY2hpbmVcIiBzZWxlY3RlZD5EZWZhdWx0PC9vcHRpb24+XFxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCZXppZXJcIj5CZXppZXI8L29wdGlvbj5cXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlN0cmFpZ2h0XCI+U3RyYWlnaHQ8L29wdGlvbj5cXFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkZsb3djaGFydFwiPkZsb3djaGFydDwvb3B0aW9uPlxcXG4gICAgICAgICAgPC9zZWxlY3Q+XFxcbiAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+Q3VydmU6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMTAwXCIgdmFsdWU9XCIxMFwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwic21DdXJ2aW5lc3NcIj48c3BhbiBjbGFzcz1cInNsaWRlclZhbFwiPjEwPC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5DdXJ2ZTogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCI1MDBcIiB2YWx1ZT1cIjE1MFwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwiYmV6aWVyQ3VydmluZXNzXCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj4xNTA8L3NwYW4+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyV3JhcHBlclwiPk1hcmdpbjogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIyMFwiIHZhbHVlPVwiNVwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwibWFyZ2luXCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj41PC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5TdHViOiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjUwXCIgdmFsdWU9XCIwXCIgY2xhc3M9XCJqc3BsdW1iT3B0aW9uU2xpZGVyXCIgaWQ9XCJzdHViXCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj4wPC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5HYXA6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiNTBcIiB2YWx1ZT1cIjBcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cImdhcFwiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MDwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXJXcmFwcGVyXCI+TWlkcG9pbnQ6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMTBcIiB2YWx1ZT1cIjAuNVwiIHN0ZXA9XCIwLjVcIiBjbGFzcz1cImpzcGx1bWJPcHRpb25TbGlkZXJcIiBpZD1cIm1pZHBvaW50XCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj4wLjU8L3NwYW4+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyV3JhcHBlclwiPkNvcm5lclJhZGl1czogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxMFwiIHZhbHVlPVwiMFwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwiY29ybmVyUmFkaXVzXCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj4wPC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5BcnJvdyBsZW5ndGg6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIxXCIgbWF4PVwiMzBcIiB2YWx1ZT1cIjEwXCIgY2xhc3M9XCJqc3BsdW1iT3B0aW9uU2xpZGVyXCIgaWQ9XCJhcnJvd0xlbmd0aFwiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MTA8L3NwYW4+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyV3JhcHBlclwiPkFycm93IHdpZHRoOiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMVwiIG1heD1cIjMwXCIgdmFsdWU9XCI3XCIgY2xhc3M9XCJqc3BsdW1iT3B0aW9uU2xpZGVyXCIgaWQ9XCJhcnJvd1dpZHRoXCI+PHNwYW4gY2xhc3M9XCJzbGlkZXJWYWxcIj43PC9zcGFuPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlcldyYXBwZXJcIj5BcnJvdyBmb2xkOiA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiB2YWx1ZT1cIjAuNTVcIiBzdGVwPVwiMC4wNVwiIGNsYXNzPVwianNwbHVtYk9wdGlvblNsaWRlclwiIGlkPVwiYXJyb3dGb2xkYmFja1wiPjxzcGFuIGNsYXNzPVwic2xpZGVyVmFsXCI+MC41NTwvc3Bhbj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgaWQ9XCJzZWxlY3RpdmVIaWRlRGl2XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAxNXB4OyBwYWRkaW5nOiA2cHggNnB4IDZweCA2cHg7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XCI+XFxcbiAgICAgICAgICAgIDxiPkhpZGUgdmFyaWFibGVzL2ZpZWxkczwvYj4gKGVsZW1lbnRzIG1heSBlbmQgdXAgb3V0IG9mIG9yZGVyLCBzbyByZWxvYWQgcGFnZSB0byByZXNldCk8YnIvPlxcXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidXBkYXRlSGlkZVZhcnNCdG5cIiBzdHlsZT1cIm1hcmdpbi10b3A6IDhweDtcIj5VcGRhdGUgdmlzdWFsaXphdGlvbjwvYnV0dG9uPlxcXG4gICAgICAgICAgICA8cC8+QWxsIGNob2ljZXMgYmVsb3c7IHVzZSBwYXJ0IGFmdGVyIGNvbG9uIHRvIG1hdGNoIGFsbCB2YXJpYWJsZXMvZmllbGRzIHdpdGggdGhhdCBuYW1lLjxici8+XFxcbiAgICAgICAgICAgIDxmb250IGNvbG9yPVwiI2U5M2YzNFwiPihEb3VibGUtY2hlY2sgeW91ciBzcGVsbGluZyEpPC9mb250PlxcXG4gICAgICAgICAgICA8cC8+SGlkZSB0aGVzZSB2YXJpYWJsZXM6PGJyLz5cXFxuICAgICAgICAgICAgPHRleHRhcmVhIGlkPVwiaGlkZVZhcnNcIiByb3dzPVwiM1wiIGNvbHM9XCI3MFwiLz5cXFxuICAgICAgICAgICAgPGRpdiBpZD1cImhpZGVWYXJzQ2hvaWNlc1wiIHN0eWxlPVwid2lkdGg6IDUwMHB4O1wiPjwvZGl2PlxcXG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi10b3A6IDE1cHg7XCIvPkhpZGUgdGhlc2Ugb2JqZWN0IGZpZWxkczo8YnIvPlxcXG4gICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJoaWRlRmllbGRzXCIgcm93cz1cIjNcIiBjb2xzPVwiNzBcIi8+XFxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJoaWRlRmllbGRzQ2hvaWNlc1wiIHN0eWxlPVwid2lkdGg6IDUwMHB4O1wiPjwvZGl2PlxcXG4gICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgPC9kaXY+XFxcbiAgICAgICcpO1xuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IG1hbnkgb2YgdGhlc2Ugb3B0aW9ucyBhcmVuJ3QgcHJlc2VudCBpbiB0aGUgT0xEIE9MRFxuICAgICAgICAgICAgLy8gT0xEIHZlcnNpb24gb2YgLi9saWIvanF1ZXJ5LmpzUGx1bWItMS4zLjEwLWFsbC1taW4uanMgdGhhdFxuICAgICAgICAgICAgLy8gd2UncmUgdXNpbmcsIHNvIHRoZXkgbWlnaHQgbm90IGRvIGFueXRoaW5nIHdoZW4gdGhleSdyZVxuICAgICAgICAgICAgLy8gdHJpZ2dlcmVkLiBsb29rIGF0IHRoZSBpbmxpbmUgY29tbWVudHMvZG9jdW1lbnRhdGlvbiBpbiB0aGUgc291cmNlIGNvZGVcbiAgICAgICAgICAgIC8vIGhlcmUgZm9yIGRldGFpbHM6IGxpYi9qc3BsdW1iLTEuMy4xMC56aXBcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlcmVuZGVySnNQbHVtYkNvbm5lY3RvcnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3RvclR5cGUgPSB1aUNvbnRyb2xzUGFuZS5maW5kKCcjanNwbHVtYkNvbm5lY3RvclR5cGUnKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgY29ubmVjdG9yU3BlYyA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3RvclR5cGUgPT09IFwiU3RhdGVNYWNoaW5lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZpbmVzcyA9IHVpQ29udHJvbHNQYW5lLmZpbmQoJyNzbUN1cnZpbmVzcycpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JTcGVjID0gW2Nvbm5lY3RvclR5cGUsIHsgY3VydmluZXNzOiBjdXJ2aW5lc3MgfV07IC8vIG1hcmdpbiBzZWVtcyB0byBoYXZlIG5vIGVmZmVjdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25uZWN0b3JUeXBlID09PSBcIkJlemllclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJ2aW5lc3MgPSB1aUNvbnRyb2xzUGFuZS5maW5kKCcjYmV6aWVyQ3VydmluZXNzJykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvclNwZWMgPSBbY29ubmVjdG9yVHlwZSwgeyBjdXJ2aW5lc3M6IGN1cnZpbmVzcyB9XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29ubmVjdG9yVHlwZSA9PT0gXCJTdHJhaWdodFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvclNwZWMgPSBbY29ubmVjdG9yVHlwZV07IC8vIHN0dWIgYW5kIGdhcCBzZWVtIHRvIGhhdmUgbm8gZWZmZWN0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoY29ubmVjdG9yVHlwZSA9PT0gXCJGbG93Y2hhcnRcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0dWIsIG1pZHBvaW50LCBhbmQgcmFkaXVzIHNlZW0gdG8gaGF2ZSBubyBlZmZlY3QgKGFjdHVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0dWIgY2F1c2VzIGNyYXNoZXMsIGVyZ2gpXG4gICAgICAgICAgICAgICAgICAgIHZhciBnYXAgPSB1aUNvbnRyb2xzUGFuZS5maW5kKCcjZ2FwJykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvclNwZWMgPSBbY29ubmVjdG9yVHlwZSwgeyBnYXA6IGdhcCB9XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbm5lY3RvclNwZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgbXlzZWxmLm93bmVyLmRhdGFWaXouanNQbHVtYkluc3RhbmNlLmltcG9ydERlZmF1bHRzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbm5lY3RvcjogY29ubmVjdG9yU3BlYyxcbiAgICAgICAgICAgICAgICAgICAgICAgIE92ZXJsYXlzOiBbW1wiQXJyb3dcIiwgeyBsZW5ndGg6IHVpQ29udHJvbHNQYW5lLmZpbmQoJyNhcnJvd0xlbmd0aCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHVpQ29udHJvbHNQYW5lLmZpbmQoJyNhcnJvd1dpZHRoJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkYmFjazogdWlDb250cm9sc1BhbmUuZmluZCgnI2Fycm93Rm9sZGJhY2snKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAxIC8vIGFsd2F5cyAxLCB3aGljaCBtZWFucyB0byBkaXNwbGF5IGF0IHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBteXNlbGYub3duZXIuZGF0YVZpei5yZW5kZXJEYXRhU3RydWN0dXJlcyhteXNlbGYub3duZXIuY3VySW5zdHIpOyAvLyBVR0xZIVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdoZW4gYW55IHNsaWRlciBpcyBtb3ZlZCwgdXBkYXRlIGl0cyBudW1lcmljIGRpc3BsYXkgYW5kIHRoZW5cbiAgICAgICAgICAgIC8vIHJlZHJhdyBhbGwganNQbHVtYiBjb25uZWN0b3JzIHdpdGggbmV3IG9wdGlvbnNcbiAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJy5qc3BsdW1iT3B0aW9uU2xpZGVyJykuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgIGUub25pbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlKS5zaWJsaW5ncygnLnNsaWRlclZhbCcpLmh0bWwodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcmVuZGVySnNQbHVtYkNvbm5lY3RvcnMoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBzaG93IGNlcnRhaW4gc2xpZGVycyBkZXBlbmRpbmcgb24gdmFsdWUgb2YganNwbHVtYkNvbm5lY3RvclR5cGVcbiAgICAgICAgICAgIC8vIHVzZSB0aGlzIGFzIGEgcmVmZXJlbmNlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9jb21tdW5pdHkuanNwbHVtYnRvb2xraXQuY29tL2RvYy9jb25uZWN0b3JzLmh0bWxcbiAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNqc3BsdW1iQ29ubmVjdG9yVHlwZScpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJy5zbGlkZXJXcmFwcGVyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2ID09PSBcIlN0YXRlTWFjaGluZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNzbUN1cnZpbmVzcycpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIC8qIG1hcmdpbiBzZWVtcyB0byBoYXZlIG5vIGVmZmVjdCAuLi5cbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI21hcmdpbicpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYgPT09IFwiQmV6aWVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2JlemllckN1cnZpbmVzcycpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHYgPT09IFwiU3RyYWlnaHRcIikge1xuICAgICAgICAgICAgICAgICAgICAvKiBuZWl0aGVyIHN0dWIgbm9yIGdhcCBzZWVtIHRvIGhhdmUgYW55IGVmZmVjdCA6L1xuICAgICAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjc3R1YicpLnZhbCgwKS5zaWJsaW5ncygnLnNsaWRlclZhbCcpLmh0bWwoMCk7IC8vIHNldCBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNzdHViJykucGFyZW50KCcuc2xpZGVyV3JhcHBlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2dhcCcpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhc3NlcnQodiA9PT0gXCJGbG93Y2hhcnRcIik7XG4gICAgICAgICAgICAgICAgICAgIC8qIHN0dWIgc2VlbXMgdG8gYmUgYm9ndXMgYW5kIHJlc3VsdCBpbiBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI3N0dWInKS52YWwoMzApLnNpYmxpbmdzKCcuc2xpZGVyVmFsJykuaHRtbCgzMCk7IC8vIHNldCBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyNzdHViJykucGFyZW50KCcuc2xpZGVyV3JhcHBlcicpLnNob3coKTtcbiAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gbWlkcG9pbnQgYW5kIGNvcm5lclJhZGl1cyBzZWVtIGVxdWFsbHkgdXNlbGVzc1xuICAgICAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjbWlkcG9pbnQnKS5wYXJlbnQoJy5zbGlkZXJXcmFwcGVyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB1aUNvbnRyb2xzUGFuZS5maW5kKCcjY29ybmVyUmFkaXVzJykucGFyZW50KCcuc2xpZGVyV3JhcHBlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2dhcCcpLnBhcmVudCgnLnNsaWRlcldyYXBwZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBzaG93IGFycm93IHN0dWZmXG4gICAgICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2Fycm93TGVuZ3RoLCNhcnJvd1dpZHRoLCNhcnJvd0ZvbGRiYWNrJykucGFyZW50KCcuc2xpZGVyV3JhcHBlcicpLnNob3coKTtcbiAgICAgICAgICAgICAgICByZXJlbmRlckpzUGx1bWJDb25uZWN0b3JzKCk7IC8vIHJlLXJlbmRlciBiYXNlZCBvbiBuZXcgY29ubmVjdG9yIHR5cGUgY2hvaWNlXG4gICAgICAgICAgICB9KS52YWwoJ1N0YXRlTWFjaGluZScpLmNoYW5nZSgpOyAvLyA8LS0gdHJpZ2dlciBhIGNoYW5nZSBldmVudCBvbiB0aGlzXG4gICAgICAgICAgICAvLyBpbml0aWFsIHNldHRpbmcgdG8gZ2V0IHRoZSBjaGFuZ2VcbiAgICAgICAgICAgIC8vIGhhbmRsZXIgYWJvdmUgdG8gcnVuXG4gICAgICAgICAgICAvLyBzZXQgdXAgaW5mcmFzdHJ1Y3R1cmUgZm9yIHNob3dpbmcvaGlkaW5nIHZhcmlhYmxlcyAvIG9iamVjdCBmaWVsZHNcbiAgICAgICAgICAgIHZhciBhbGxWYXJuYW1lcyA9IF90aGlzLm93bmVyLmRhdGFWaXouZ2V0QWxsUHJvZ3JhbVZhcm5hbWVzKCk7XG4gICAgICAgICAgICB2YXIgYWxsRmllbGRuYW1lcyA9IF90aGlzLm93bmVyLmRhdGFWaXouZ2V0QWxsUHJvZ3JhbU9iamVjdEZpZWxkTmFtZXMoKTtcbiAgICAgICAgICAgIHZhciB2YXJuYW1lQ2hvaWNlcyA9IHZhcmxpc3RUb0h0bWwoYWxsVmFybmFtZXMpO1xuICAgICAgICAgICAgdmFyIGZpZWxkbmFtZUNob2ljZXMgPSB2YXJsaXN0VG9IdG1sKGFsbEZpZWxkbmFtZXMpO1xuICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2hpZGVWYXJzQ2hvaWNlcycpLmh0bWwoJzxiPjxlbT5DaG9pY2VzOjwvZW0+PC9iPiAnICsgdmFybmFtZUNob2ljZXMpO1xuICAgICAgICAgICAgdWlDb250cm9sc1BhbmUuZmluZCgnI2hpZGVGaWVsZHNDaG9pY2VzJykuaHRtbCgnPGI+PGVtPkNob2ljZXM6PC9lbT48L2I+ICcgKyBmaWVsZG5hbWVDaG9pY2VzKTtcbiAgICAgICAgICAgIHVpQ29udHJvbHNQYW5lLmZpbmQoJyN1cGRhdGVIaWRlVmFyc0J0bicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGlkZVZhcnNMc3QgPSBwcm9jZXNzSGlkZVN0cmluZyh1aUNvbnRyb2xzUGFuZS5maW5kKCcjaGlkZVZhcnMnKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgdmFyIGhpZGVGaWVsZHNMc3QgPSBwcm9jZXNzSGlkZVN0cmluZyh1aUNvbnRyb2xzUGFuZS5maW5kKCcjaGlkZUZpZWxkcycpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5vd25lci5kYXRhVml6LnNlbGVjdGl2ZWx5SGlkZVZhcnNBbmRGaWVsZHMoaGlkZVZhcnNMc3QsIGhpZGVGaWVsZHNMc3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGRvbid0IGZvbGxvdyB0aGUgbGluayBhbmQgcmVsb2FkIHRoZSBwYWdlIVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgTmF2aWdhdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLmhpZGVVc2VySW5wdXREaXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcmF3VXNlcklucHV0RGl2JykuaGlkZSgpO1xuICAgIH07XG4gICAgTmF2aWdhdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLnNob3dVc2VySW5wdXREaXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKCcjcmF3VXNlcklucHV0RGl2Jykuc2hvdygpO1xuICAgIH07XG4gICAgTmF2aWdhdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLnNldFNsaWRlclZhbCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIC8vIFBST0dSQU1NQVRJQ0FMTFkgY2hhbmdlIHRoZSB2YWx1ZSwgc28gZXZ0Lm9yaWdpbmFsRXZlbnQgc2hvdWxkIGJlIHVuZGVmaW5lZFxuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZCgnI2V4ZWN1dGlvblNsaWRlcicpLnNsaWRlcigndmFsdWUnLCB2KTtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5zZXRWY3JDb250cm9scyA9IGZ1bmN0aW9uIChtc2csIGlzRmlyc3RJbnN0ciwgaXNMYXN0SW5zdHIpIHtcbiAgICAgICAgdmFyIHZjckNvbnRyb2xzID0gdGhpcy5kb21Sb290LmZpbmQoXCIjdmNyQ29udHJvbHNcIik7XG4gICAgICAgIHZjckNvbnRyb2xzLmZpbmQoXCIjam1wRmlyc3RJbnN0clwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcFN0ZXBCYWNrXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgIHZjckNvbnRyb2xzLmZpbmQoXCIjam1wU3RlcEZ3ZFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcExhc3RJbnN0clwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRvbVJvb3QuZmluZChcIiNjdXJJbnN0clwiKS5odG1sKG1zZyk7XG4gICAgICAgIGlmIChpc0ZpcnN0SW5zdHIpIHtcbiAgICAgICAgICAgIHZjckNvbnRyb2xzLmZpbmQoXCIjam1wRmlyc3RJbnN0clwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB2Y3JDb250cm9scy5maW5kKFwiI2ptcFN0ZXBCYWNrXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNMYXN0SW5zdHIpIHtcbiAgICAgICAgICAgIHZjckNvbnRyb2xzLmZpbmQoXCIjam1wTGFzdEluc3RyXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgIHZjckNvbnRyb2xzLmZpbmQoXCIjam1wU3RlcEZ3ZFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5zZXR1cFNsaWRlciA9IGZ1bmN0aW9uIChtYXhTbGlkZXJWYWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgYXNzZXJ0KG1heFNsaWRlclZhbCA+PSAwKTtcbiAgICAgICAgdmFyIHNsaWRlckRpdiA9IHRoaXMuZG9tUm9vdC5maW5kKCcjZXhlY3V0aW9uU2xpZGVyJyk7XG4gICAgICAgIHNsaWRlckRpdi5zbGlkZXIoeyBtaW46IDAsIG1heDogbWF4U2xpZGVyVmFsLCBzdGVwOiAxIH0pO1xuICAgICAgICAvLyBkaXNhYmxlIGtleWJvYXJkIGFjdGlvbnMgb24gdGhlIHNsaWRlciBpdHNlbGYgKHRvIHByZXZlbnQgZG91YmxlLWZpcmluZ1xuICAgICAgICAvLyBvZiBldmVudHMpLCBhbmQgbWFrZSBza2lubmllciBhbmQgdGFsbGVyXG4gICAgICAgIHNsaWRlckRpdlxuICAgICAgICAgICAgLmZpbmQoXCIudWktc2xpZGVyLWhhbmRsZVwiKVxuICAgICAgICAgICAgLnVuYmluZCgna2V5ZG93bicpXG4gICAgICAgICAgICAuY3NzKCd3aWR0aCcsICcwLjhlbScpXG4gICAgICAgICAgICAuY3NzKCdoZWlnaHQnLCAnMS40ZW0nKTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIudWktd2lkZ2V0LWNvbnRlbnRcIikuY3NzKCdmb250LXNpemUnLCAnMC45ZW0nKTtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoJyNleGVjdXRpb25TbGlkZXInKS5iaW5kKCdzbGlkZScsIGZ1bmN0aW9uIChldnQsIHVpKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIFNVUEVSIHN1YnRsZS4gaWYgdGhpcyB2YWx1ZSB3YXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5LFxuICAgICAgICAgICAgLy8gdGhlbiBldnQub3JpZ2luYWxFdmVudCB3aWxsIGJlIHVuZGVmaW5lZC4gaG93ZXZlciwgaWYgdGhpcyB2YWx1ZVxuICAgICAgICAgICAgLy8gd2FzIGNoYW5nZWQgYnkgYSB1c2VyLWluaXRpYXRlZCBldmVudCwgdGhlbiB0aGlzIGNvZGUgc2hvdWxkIGJlXG4gICAgICAgICAgICAvLyBleGVjdXRlZCAuLi5cbiAgICAgICAgICAgIGlmIChldnQub3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm93bmVyLnJlbmRlclN0ZXAodWkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5yZW5kZXJTbGlkZXJCcmVha3BvaW50cyA9IGZ1bmN0aW9uIChzb3J0ZWRCcmVha3BvaW50c0xpc3QpIHtcbiAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjZXhlY3V0aW9uU2xpZGVyRm9vdGVyXCIpLmVtcHR5KCk7XG4gICAgICAgIHZhciB3ID0gdGhpcy5kb21Sb290LmZpbmQoJyNleGVjdXRpb25TbGlkZXInKS53aWR0aCgpO1xuICAgICAgICAvLyBJIG9yaWdpbmFsbHkgZGlkbid0IHdhbnQgdG8gZGVsZXRlIGFuZCByZS1jcmVhdGUgdGhpcyBvdmVybGF5IGV2ZXJ5IHRpbWUsXG4gICAgICAgIC8vIGJ1dCBpZiBJIGRvbid0IGRvIHNvLCB0aGVyZSBhcmUgd2VpcmQgZmxpY2tlcmluZyBhcnRpZmFjdHMgd2l0aCBjbGVhcmluZ1xuICAgICAgICAvLyB0aGUgU1ZHIGNvbnRhaW5lcjsgc28gaXQncyBiZXN0IHRvIGp1c3QgZGVsZXRlIGFuZCByZS1jcmVhdGUgdGhlIGNvbnRhaW5lciBlYWNoIHRpbWVcbiAgICAgICAgdmFyIHNsaWRlck92ZXJsYXkgPSB0aGlzLmRvbVJvb3REMy5zZWxlY3QoJyNleGVjdXRpb25TbGlkZXJGb290ZXInKVxuICAgICAgICAgICAgLmFwcGVuZCgnc3ZnJylcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdzbGlkZXJPdmVybGF5JylcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHcpXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgMTIpO1xuICAgICAgICB2YXIgeHJhbmdlID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgIC5kb21haW4oWzAsIHRoaXMublN0ZXBzIC0gMV0pXG4gICAgICAgICAgICAucmFuZ2UoWzAsIHddKTtcbiAgICAgICAgc2xpZGVyT3ZlcmxheS5zZWxlY3RBbGwoJ3JlY3QnKVxuICAgICAgICAgICAgLmRhdGEoc29ydGVkQnJlYWtwb2ludHNMaXN0KVxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIC8vIG1ha2UgZWRnZSBjYXNlIG9mIDAgbG9vayBkZWNlbnQ6XG4gICAgICAgICAgICByZXR1cm4gKGQgPT09IDApID8gMCA6IHhyYW5nZShkKSAtIDE7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cigneScsIDApXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCAyKVxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDEyKVxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBicmVha3BvaW50Q29sb3I7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTmF2aWdhdGlvbkNvbnRyb2xsZXIucHJvdG90eXBlLnNob3dFcnJvciA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgaWYgKG1zZykge1xuICAgICAgICAgICAgdGhpcy5kb21Sb290LmZpbmQoXCIjZXJyb3JPdXRwdXRcIikuaHRtbChodG1sc3BlY2lhbGNoYXJzKG1zZykgKyAoXCJcXG4gICAgICA8ZGl2IHN0eWxlPVxcXCJmb250LXNpemU6IDExcHQ7IGNvbG9yOiAjNjY2XFxcIj4oXCIgKyBmb290ZXJfaHRtbF8xLnVuc3VwcG9ydGVkRmVhdHVyZXNTdHIgKyBcIik8L2Rpdj5cIikpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG9tUm9vdC5maW5kKFwiI2Vycm9yT3V0cHV0XCIpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE5hdmlnYXRpb25Db250cm9sbGVyO1xufSgpKTsgLy8gRU5EIGNsYXNzIE5hdmlnYXRpb25Db250cm9sbGVyXG4vLyBVdGlsaXRpZXNcbmZ1bmN0aW9uIGFzc2VydChjb25kKSB7XG4gICAgaWYgKCFjb25kKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgICAgYWxlcnQoXCJBc3NlcnRpb24gRmFpbHVyZSAoc2VlIGNvbnNvbGUgbG9nIGZvciBiYWNrdHJhY2UpXCIpO1xuICAgICAgICB0aHJvdyAnQXNzZXJ0aW9uIEZhaWx1cmUnO1xuICAgIH1cbn1cbmV4cG9ydHMuYXNzZXJ0ID0gYXNzZXJ0O1xuLy8gdGFrZW4gZnJvbSBodHRwOi8vd3d3LnRvYW8ubmV0LzMyLW15LWh0bWxzcGVjaWFsY2hhcnMtZnVuY3Rpb24tZm9yLWphdmFzY3JpcHRcbmZ1bmN0aW9uIGh0bWxzcGVjaWFsY2hhcnMoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiAoc3RyKSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIik7IC8qIG11c3QgZG8gJmFtcDsgZmlyc3QgKi9cbiAgICAgICAgLy8gaWdub3JlIHRoZXNlIGZvciBub3cgLi4uXG4gICAgICAgIC8vc3RyID0gc3RyLnJlcGxhY2UoL1wiL2csIFwiJnF1b3Q7XCIpO1xuICAgICAgICAvL3N0ciA9IHN0ci5yZXBsYWNlKC8nL2csIFwiJiMwMzk7XCIpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvPC9nLCBcIiZsdDtcIik7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKTtcbiAgICAgICAgLy8gcmVwbGFjZSBzcGFjZXM6XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8gL2csIFwiJm5ic3A7XCIpO1xuICAgICAgICAvLyByZXBsYWNlIHRhYiBhcyBmb3VyIHNwYWNlczpcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcdC9nLCBcIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwO1wiKTtcbiAgICAgICAgLy8gcmVwbGFjZSBuZXdsaW5lIGFzIDxici8+XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG5ld2xpbmVBbGxSZWdleCwgJzxici8+Jyk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5leHBvcnRzLmh0bWxzcGVjaWFsY2hhcnMgPSBodG1sc3BlY2lhbGNoYXJzO1xuLy8gc2FtZSBhcyBodG1sc3BlY2lhbGNoYXJzIGV4Y2VwdCBkb24ndCB3b3JyeSBhYm91dCBleHBhbmRpbmcgc3BhY2VzIG9yXG4vLyB0YWJzIHNpbmNlIHdlIHdhbnQgcHJvcGVyIHdvcmQgd3JhcHBpbmcgaW4gZGl2cy5cbmZ1bmN0aW9uIGh0bWxzYW5pdGl6ZShzdHIpIHtcbiAgICBpZiAodHlwZW9mIChzdHIpID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKTsgLyogbXVzdCBkbyAmYW1wOyBmaXJzdCAqL1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvPC9nLCBcIiZsdDtcIik7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cblN0cmluZy5wcm90b3R5cGUgLyogVFMgdG9vIHN0cmljdCAqLy5ydHJpbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9cXHMqJC9nLCBcIlwiKTtcbn07XG4vLyBtYWtlIHN1cmUgdmFybmFtZSBkb2Vzbid0IGNvbnRhaW4gYW55IHdlaXJkXG4vLyBjaGFyYWN0ZXJzIHRoYXQgYXJlIGlsbGVnYWwgZm9yIENTUyBJRCdzIC4uLlxuLy9cbi8vIEkga25vdyBmb3IgYSBmYWN0IHRoYXQgaXRlcmF0b3IgdG1wIHZhcmlhYmxlcyBuYW1lZCAnX1sxXSdcbi8vIGFyZSBOT1QgbGVnYWwgbmFtZXMgZm9yIENTUyBJRCdzLlxuLy8gSSBhbHNvIHRocmV3IGluICd7JywgJ30nLCAnKCcsICcpJywgJzwnLCAnPicgYXMgaWxsZWdhbCBjaGFyYWN0ZXJzLlxuLy9cbi8vIGFsc28gc29tZSB2YXJpYWJsZSBuYW1lcyBhcmUgbGlrZSAnLjAnIChmb3IgZ2VuZXJhdG9yIGV4cHJlc3Npb25zKSxcbi8vIGFuZCAnLicgc2VlbXMgdG8gYmUgaWxsZWdhbC5cbi8vXG4vLyBhbHNvICc9JywgJyEnLCBhbmQgJz8nIGFyZSBjb21tb24gaW4gUnVieSBuYW1lcywgc28gZXNjYXBlIHRob3NlIGFzIHdlbGxcbi8vICckJyBzb21ldGltZXMgZm91bmQgaW4gSmF2YVNjcmlwdCBuYW1lcywgc28gZXNjYXBlIGFzIHdlbGxcbi8vXG4vLyBhbHNvIHNwYWNlcyBhcmUgaWxsZWdhbCwgc28gY29udmVydCB0byAnXydcbi8vIFRPRE86IHdoYXQgb3RoZXIgY2hhcmFjdGVycyBhcmUgaWxsZWdhbD8/P1xudmFyIGxiUkUgPSBuZXcgUmVnRXhwKCdcXFxcW3x7fFxcXFwofDwnLCAnZycpO1xudmFyIHJiUkUgPSBuZXcgUmVnRXhwKCdcXFxcXXx9fFxcXFwpfD4nLCAnZycpO1xuZnVuY3Rpb24gdmFybmFtZVRvQ3NzSUQodmFybmFtZSkge1xuICAgIC8vIG1ha2Ugc3VyZSB0byBSRVBMQUNFIEFMTCAodXNpbmcgdGhlICdnJyBvcHRpb24pXG4gICAgLy8gcmF0aGVyIHRoYW4ganVzdCByZXBsYWNpbmcgdGhlIGZpcnN0IGVudHJ5XG4gICAgcmV0dXJuIHZhcm5hbWUucmVwbGFjZShsYlJFLCAnTGVmdEJfJylcbiAgICAgICAgLnJlcGxhY2UocmJSRSwgJ19SaWdodEInKVxuICAgICAgICAucmVwbGFjZSgvWyFdL2csICdfQkFOR18nKVxuICAgICAgICAucmVwbGFjZSgvWz9dL2csICdfUVVFU18nKVxuICAgICAgICAucmVwbGFjZSgvWzpdL2csICdfQ09MT05fJylcbiAgICAgICAgLnJlcGxhY2UoL1s9XS9nLCAnX0VRXycpXG4gICAgICAgIC5yZXBsYWNlKC9bLl0vZywgJ19ET1RfJylcbiAgICAgICAgLnJlcGxhY2UoL1skXS9nLCAnX0RPTExBUl8nKVxuICAgICAgICAucmVwbGFjZSgvIC9nLCAnXycpO1xufVxuZnVuY3Rpb24gaXNIZWFwUmVmKG9iaiwgaGVhcCkge1xuICAgIC8vIG9yZGluYXJ5IFJFRlxuICAgIGlmIChvYmpbMF0gPT09ICdSRUYnKSB7XG4gICAgICAgIHJldHVybiAoaGVhcFtvYmpbMV1dICE9PSB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmpbMF0gPT09ICdDX0RBVEEnICYmIG9ialsyXSA9PT0gJ3BvaW50ZXInKSB7XG4gICAgICAgIC8vIEMtc3R5bGUgcG9pbnRlciB0aGF0IGhhcyBhIHZhbGlkIHZhbHVlXG4gICAgICAgIGlmIChvYmpbM10gIT0gJzxVTklOSVRJQUxJWkVEPicgJiYgb2JqWzNdICE9ICc8VU5BTExPQ0FURUQ+Jykge1xuICAgICAgICAgICAgcmV0dXJuIChoZWFwW29ialszXV0gIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0UmVmSUQob2JqKSB7XG4gICAgaWYgKG9ialswXSA9PSAnUkVGJykge1xuICAgICAgICByZXR1cm4gb2JqWzFdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzZXJ0KG9ialswXSA9PT0gJ0NfREFUQScgJiYgb2JqWzJdID09PSAncG9pbnRlcicpO1xuICAgICAgICBhc3NlcnQob2JqWzNdICE9ICc8VU5JTklUSUFMSVpFRD4nICYmIG9ialszXSAhPSAnPFVOQUxMT0NBVEVEPicpO1xuICAgICAgICByZXR1cm4gb2JqWzNdOyAvLyBwb2ludGVkLXRvIGFkZHJlc3NcbiAgICB9XG59XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDApKSlcblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnByaXZhY3lBbmRFbmRpbmdIVE1MID0gXCJcXG5cXG48cCBzdHlsZT1cXFwibWFyZ2luLXRvcDogMzBweDtcXFwiPlByaXZhY3kgUG9saWN5OiBCeSB1c2luZyBQeXRob24gVHV0b3IsIHlvdXJcXG52aXN1YWxpemVkIGNvZGUsIG9wdGlvbnMsIHVzZXIgaW50ZXJhY3Rpb25zLCB0ZXh0IGNoYXRzLCBhbmQgSVAgYWRkcmVzc1xcbmFyZSBsb2dnZWQgb24gb3VyIHNlcnZlciBhbmQgbWF5IGJlIGFuYWx5emVkIGZvciByZXNlYXJjaCBwdXJwb3Nlcy5cXG5OZWFybHkgYWxsIHdlYiBzZXJ2aWNlcyBjb2xsZWN0IHRoaXMgYmFzaWMgaW5mb3JtYXRpb24gZnJvbSB1c2VycyBpblxcbnRoZWlyIHNlcnZlciBsb2dzLiBIb3dldmVyLCBQeXRob24gVHV0b3IgZG9lcyBub3QgY29sbGVjdCBhbnkgcGVyc29uYWxseVxcbmlkZW50aWZpYWJsZSBpbmZvcm1hdGlvbiBmcm9tIGl0cyB1c2Vycy4gSXQgdXNlcyBHb29nbGUgQW5hbHl0aWNzIGZvclxcbndlYnNpdGUgYW5hbHl0aWNzLjwvcD5cXG5cXG48cD5UZXJtcyBvZiBTZXJ2aWNlOiBUaGUgUHl0aG9uIFR1dG9yIHNlcnZpY2UgaXMgcHJvdmlkZWQgZm9yIGZyZWUgb24gYW5cXG5hcy1pcyBiYXNpcy4gVXNlIHRoaXMgc2VydmljZSBhdCB5b3VyIG93biByaXNrLiBEbyBub3QgdXNlIGl0IHRvIHNoYXJlXFxuY29uZmlkZW50aWFsIGluZm9ybWF0aW9uLiBUaGUgZGV2ZWxvcGVycyBvZiBQeXRob24gVHV0b3IgYXJlIG5vdFxcbnJlc3BvbnNpYmxlIGZvciB0aGUgY2hhdCBtZXNzYWdlcyBvciBiZWhhdmlvcnMgb2YgYW55IG9mIHRoZSB1c2VycyBvblxcbnRoaXMgd2Vic2l0ZS4gV2UgYXJlIGFsc28gbm90IHJlc3BvbnNpYmxlIGZvciBhbnkgZGFtYWdlcyBjYXVzZWQgYnlcXG51c2luZyB0aGlzIHdlYnNpdGUuIEZpbmFsbHksIGl0IGlzIHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZm9sbG93XFxuYXBwcm9wcmlhdGUgYWNhZGVtaWMgaW50ZWdyaXR5IHN0YW5kYXJkcy48L3A+XFxuXFxuPHAgc3R5bGU9XFxcIm1hcmdpbi10b3A6IDI1cHg7XFxcIj5cXG5Db3B5cmlnaHQgJmNvcHk7IDxhIGhyZWY9XFxcImh0dHA6Ly93d3cucGdib3ZpbmUubmV0L1xcXCI+UGhpbGlwIEd1bzwvYT4uICBBbGwgcmlnaHRzIHJlc2VydmVkLlxcbjwvcD5cIjtcbmV4cG9ydHMuZm9vdGVySHRtbCA9IFwiXFxuPHAgc3R5bGU9XFxcIm1hcmdpbi10b3A6IDIwcHg7IG1hcmdpbi1ib3R0b206IDMwcHg7XFxcIj48YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvYmxvYi9tYXN0ZXIvdW5zdXBwb3J0ZWQtZmVhdHVyZXMubWRcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj51bnN1cHBvcnRlZCBmZWF0dXJlczwvYT4gfFxcbjxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9ODB6dFRYUDkwVnMmbGlzdD1QTHpWNThabThGdUJMMld4eFpLR1o2ajFkSDhOS2JfSFlJJmluZGV4PTVcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5zZXR0aW5nIGJyZWFrcG9pbnRzPC9hPiB8XFxuPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1NeHQ5SFpXZ3dBTSZsaXN0PVBMelY1OFptOEZ1QkwyV3h4WktHWjZqMWRIOE5LYl9IWUkmaW5kZXg9NlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPmhpZGluZyB2YXJpYWJsZXM8L2E+IHxcXG48YSBocmVmPVxcXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PUpqR3Q5NVRlMHdvJmluZGV4PTMmbGlzdD1QTHpWNThabThGdUJMMld4eFpLR1o2ajFkSDhOS2JfSFlJXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+bGl2ZSBwcm9ncmFtbWluZzwvYT5cXG48L3A+XFxuXFxuPHA+XFxuICA8YnV0dG9uIGlkPVxcXCJnZW5VcmxCdG5cXFwiIGNsYXNzPVxcXCJzbWFsbEJ0blxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj5HZW5lcmF0ZSBwZXJtYW5lbnQgbGluazwvYnV0dG9uPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcInVybE91dHB1dFxcXCIgc2l6ZT1cXFwiNjBcXFwiLz5cXG4oPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1oNHEzVUtkRUZLRVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPnZpZGVvIGRlbW88L2E+KVxcbjwvcD5cXG5cXG48ZGl2IGlkPVxcXCJlbWJlZExpbmtEaXZcXFwiPlxcbjxwPlxcbiAgPGJ1dHRvbiBpZD1cXFwiZ2VuRW1iZWRCdG5cXFwiIGNsYXNzPVxcXCJzbWFsbEJ0blxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj5HZW5lcmF0ZSBlbWJlZCBjb2RlPC9idXR0b24+IDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBpZD1cXFwiZW1iZWRDb2RlT3V0cHV0XFxcIiBzaXplPVxcXCI2MFxcXCIvPiAoYWxzbyBzdXBwb3J0cyBodHRwczovLylcXG48L3A+XFxuPC9kaXY+XFxuXFxuPHAgc3R5bGU9XFxcIm1hcmdpbi10b3A6IDI1cHg7XFxcIj5cXG48YSBocmVmPVxcXCJodHRwOi8vcHl0aG9udHV0b3IuY29tL1xcXCI+UHl0aG9uIFR1dG9yPC9hPiAoPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yXFxcIj5jb2RlIG9uIEdpdEh1YjwvYT4pIHN1cHBvcnRzOlxcblxcblB5dGhvbiA8YSBocmVmPVxcXCJodHRwczovL2RvY3MucHl0aG9uLm9yZy8zLjYvXFxcIj4zLjY8L2E+IGFuZCA8YVxcbmhyZWY9XFxcImh0dHBzOi8vZG9jcy5weXRob24ub3JnLzIuNy9cXFwiPjIuNzwvYT4gd2l0aCBsaW1pdGVkIGltcG9ydHNcXG4oX19mdXR1cmVfXywgYWJjLCBhcnJheSwgYmlzZWN0LCBjYWxlbmRhcixcXG5jbWF0aCwgY29sbGVjdGlvbnMsIGNvcHksIGRhdGV0aW1lLCBkZWNpbWFsLFxcbmRvY3Rlc3QsIGZyYWN0aW9ucywgZnVuY3Rvb2xzLCBoYXNobGliLCBoZWFwcSxcXG5pbywgaXRlcnRvb2xzLCBqc29uLCBsb2NhbGUsIG1hdGgsXFxub3BlcmF0b3IsIHBpY2tsZSwgcHByaW50LCByYW5kb20sIHJlLFxcbnN0cmluZywgdGltZSwgdHlwZXMsIHVuaXR0ZXN0LCBTdHJpbmdJTyAoUHl0aG9uIDIpLCB0eXBpbmcgKFB5dGhvbiAzKSksXFxuXFxuT3JhY2xlIEphdmEgOCAoaW1wbGVtZW50ZWQgYnkgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL2RhdmVhZ3BcXFwiPkRhdmlkIFByaXRjaGFyZDwvYT4gYW5kIFdpbGwgR3dvemR6LFxcbnN1cHBvcnRzXFxuPGNvZGU+PGEgaHJlZj1cXFwiaHR0cDovL2ludHJvY3MuY3MucHJpbmNldG9uLmVkdS9qYXZhL3N0ZGxpYi9qYXZhZG9jL1N0ZEluLmh0bWxcXFwiPlN0ZEluPC9hPjwvY29kZT4sIFxcbjxjb2RlPjxhIGhyZWY9XFxcImh0dHA6Ly9pbnRyb2NzLmNzLnByaW5jZXRvbi5lZHUvamF2YS9zdGRsaWIvamF2YWRvYy9TdGRPdXQuaHRtbFxcXCI+U3RkT3V0PC9hPjwvY29kZT4sIFxcbm1vc3Qgb3RoZXIgPGEgaHJlZj1cXFwiaHR0cDovL2ludHJvY3MuY3MucHJpbmNldG9uLmVkdS9qYXZhL3N0ZGxpYlxcXCI+PHR0PnN0ZGxpYjwvdHQ+IGxpYnJhcmllczwvYT4sXFxuPGEgaHJlZj1cXFwiaHR0cDovL2ludHJvY3MuY3MucHJpbmNldG9uLmVkdS9qYXZhLzQzc3RhY2svU3RhY2suamF2YS5odG1sXFxcIj48dHQ+U3RhY2s8L3R0PjwvYT4sXFxuPGEgaHJlZj1cXFwiaHR0cDovL2ludHJvY3MuY3MucHJpbmNldG9uLmVkdS9qYXZhLzQzc3RhY2svUXVldWUuamF2YS5odG1sXFxcIj48dHQ+UXVldWU8L3R0PjwvYT4sXFxuYW5kIDxhIGhyZWY9XFxcImh0dHA6Ly9pbnRyb2NzLmNzLnByaW5jZXRvbi5lZHUvamF2YS80NHN0L1NULmphdmEuaHRtbFxcXCI+PHR0PlNUPC90dD48L2E+LlxcblRvIGFjY2VzcyBidWlsdC1pbiA8dHQ+U3RhY2s8L3R0Pi88dHQ+UXVldWU8L3R0PiBjbGFzc2VzLCB3cml0ZTpcXG48dHQ+aW1wb3J0IGphdmEudXRpbC5TdGFjazs8L3R0PiBUaGlzIHdvbid0IHdvcms6IDx0dD5pbXBvcnRcXG5qYXZhLnV0aWwuKjs8L3R0PiksXFxuXFxuSmF2YVNjcmlwdCBFUzYgYW5kIFR5cGVTY3JpcHQgMS40LjEgKE5vZGUuanMgdjYuMC4wKSwgUnVieSAyIChNUkkgMi4yLjIpLCBDIGFuZCBDKysgKGdjYyA0LjgsIEMxMS9DKysxMSwgVmFsZ3JpbmQgTWVtY2hlY2spPC9wPlxcblxcblwiICsgZXhwb3J0cy5wcml2YWN5QW5kRW5kaW5nSFRNTDtcbmV4cG9ydHMubnVsbFRyYWNlRXJyb3JMc3QgPSBbXG4gICAgXCJVbmtub3duIGVycm9yOiBUaGUgc2VydmVyIGlzIE9WRVJMT0FERUQgb3IgeW91ciBjb2RlIGhhcyBVTlNVUFBPUlRFRCBGRUFUVVJFUy5cIixcbiAgICBcIlRyeSBhZ2FpbiBsYXRlci4gVGhpcyBzaXRlIGlzIGZyZWUgd2l0aCBOTyBhdmFpbGFibGUgdGVjaG5pY2FsIHN1cHBvcnQuIFsjTnVsbFRyYWNlXVwiXG5dO1xuZXhwb3J0cy51bnN1cHBvcnRlZEZlYXR1cmVzU3RyID0gJ3NlZSA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL2Jsb2IvbWFzdGVyL3Vuc3VwcG9ydGVkLWZlYXR1cmVzLm1kXCI+VU5TVVBQT1JURUQgRkVBVFVSRVM8L2E+JztcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGpRdWVyeSkgey8qXG4gKiBqUXVlcnkgZG9UaW1lb3V0OiBMaWtlIHNldFRpbWVvdXQsIGJ1dCBiZXR0ZXIhIC0gdjEuMCAtIDMvMy8yMDEwXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS1kb3RpbWVvdXQtcGx1Z2luL1xuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgXCJDb3dib3lcIiBCZW4gQWxtYW5cbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlL1xuICovXG4oZnVuY3Rpb24oJCl7dmFyIGE9e30sYz1cImRvVGltZW91dFwiLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlOyRbY109ZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseSh3aW5kb3csWzBdLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfTskLmZuW2NdPWZ1bmN0aW9uKCl7dmFyIGY9ZC5jYWxsKGFyZ3VtZW50cyksZT1iLmFwcGx5KHRoaXMsW2MrZlswXV0uY29uY2F0KGYpKTtyZXR1cm4gdHlwZW9mIGZbMF09PT1cIm51bWJlclwifHx0eXBlb2YgZlsxXT09PVwibnVtYmVyXCI/dGhpczplfTtmdW5jdGlvbiBiKGwpe3ZhciBtPXRoaXMsaCxrPXt9LGc9bD8kLmZuOiQsbj1hcmd1bWVudHMsaT00LGY9blsxXSxqPW5bMl0scD1uWzNdO2lmKHR5cGVvZiBmIT09XCJzdHJpbmdcIil7aS0tO2Y9bD0wO2o9blsxXTtwPW5bMl19aWYobCl7aD1tLmVxKDApO2guZGF0YShsLGs9aC5kYXRhKGwpfHx7fSl9ZWxzZXtpZihmKXtrPWFbZl18fChhW2ZdPXt9KX19ay5pZCYmY2xlYXJUaW1lb3V0KGsuaWQpO2RlbGV0ZSBrLmlkO2Z1bmN0aW9uIGUoKXtpZihsKXtoLnJlbW92ZURhdGEobCl9ZWxzZXtpZihmKXtkZWxldGUgYVtmXX19fWZ1bmN0aW9uIG8oKXtrLmlkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLmZuKCl9LGopfWlmKHApe2suZm49ZnVuY3Rpb24ocSl7aWYodHlwZW9mIHA9PT1cInN0cmluZ1wiKXtwPWdbcF19cC5hcHBseShtLGQuY2FsbChuLGkpKT09PXRydWUmJiFxP28oKTplKCl9O28oKX1lbHNle2lmKGsuZm4pe2o9PT11bmRlZmluZWQ/ZSgpOmsuZm4oaj09PWZhbHNlKTtyZXR1cm4gdHJ1ZX1lbHNle2UoKX19fX0pKGpRdWVyeSk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgb3B0aW9ucyA9IHt9O1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZSwgbm8tcGFyYW0tcmVhc3NpZ25cblxuXG4gIHVybCA9IHVybCAmJiB1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsO1xuXG4gIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJyksIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKF9fd2VicGFja19hbWRfb3B0aW9uc19fKSB7LyogZ2xvYmFscyBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xyXG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGEsYil7dHJ5e2Zvcih2YXIgYyBpbiBiKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSxjLHt2YWx1ZTpiW2NdLGVudW1lcmFibGU6ITF9KX1jYXRjaChkKXthLnByb3RvdHlwZT1ifX1mdW5jdGlvbiBmKGEpe3ZhciBiPS0xLGM9YS5sZW5ndGgsZD1bXTt3aGlsZSgrK2I8YylkLnB1c2goYVtiXSk7cmV0dXJuIGR9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYSl9ZnVuY3Rpb24gaigpe31mdW5jdGlvbiBtKGEpe3JldHVybiBhfWZ1bmN0aW9uIG4oKXtyZXR1cm4gdGhpc31mdW5jdGlvbiBvKCl7cmV0dXJuITB9ZnVuY3Rpb24gcChhKXtyZXR1cm4gdHlwZW9mIGE9PVwiZnVuY3Rpb25cIj9hOmZ1bmN0aW9uKCl7cmV0dXJuIGF9fWZ1bmN0aW9uIHEoYSxiLGMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2E6ZH19ZnVuY3Rpb24gcihhKXtyZXR1cm4gYSE9bnVsbCYmIWlzTmFOKGEpfWZ1bmN0aW9uIHMoYSl7cmV0dXJuIGEubGVuZ3RofWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGE9PW51bGx9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9ZnVuY3Rpb24gdyhhKXt2YXIgYj0xO3doaWxlKGEqYiUxKWIqPTEwO3JldHVybiBifWZ1bmN0aW9uIHooKXt9ZnVuY3Rpb24gQShhKXtmdW5jdGlvbiBkKCl7dmFyIGM9YixkPS0xLGU9Yy5sZW5ndGgsZjt3aGlsZSgrK2Q8ZSkoZj1jW2RdLm9uKSYmZi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGF9dmFyIGI9W10sYz1uZXcgajtyZXR1cm4gZC5vbj1mdW5jdGlvbihkLGUpe3ZhciBmPWMuZ2V0KGQpLGc7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9mJiZmLm9uOihmJiYoZi5vbj1udWxsLGI9Yi5zbGljZSgwLGc9Yi5pbmRleE9mKGYpKS5jb25jYXQoYi5zbGljZShnKzEpKSxjLnJlbW92ZShkKSksZSYmYi5wdXNoKGMuc2V0KGQse29uOmV9KSksYSl9LGR9ZnVuY3Rpb24gRChhLGIpe3JldHVybiBiLShhPzErTWF0aC5mbG9vcihNYXRoLmxvZyhhK01hdGgucG93KDEwLDErTWF0aC5mbG9vcihNYXRoLmxvZyhhKS9NYXRoLkxOMTApLWIpKS9NYXRoLkxOMTApOjEpfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGErXCJcIn1mdW5jdGlvbiBGKGEpe3ZhciBiPWEubGFzdEluZGV4T2YoXCIuXCIpLGM9Yj49MD9hLnN1YnN0cmluZyhiKTooYj1hLmxlbmd0aCxcIlwiKSxkPVtdO3doaWxlKGI+MClkLnB1c2goYS5zdWJzdHJpbmcoYi09MyxiKzMpKTtyZXR1cm4gZC5yZXZlcnNlKCkuam9pbihcIixcIikrY31mdW5jdGlvbiBIKGEsYil7dmFyIGM9TWF0aC5wb3coMTAsTWF0aC5hYnMoOC1iKSozKTtyZXR1cm57c2NhbGU6Yj44P2Z1bmN0aW9uKGEpe3JldHVybiBhL2N9OmZ1bmN0aW9uKGEpe3JldHVybiBhKmN9LHN5bWJvbDphfX1mdW5jdGlvbiBOKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYjw9MD8wOmI+PTE/MTphKGIpfX1mdW5jdGlvbiBPKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gMS1hKDEtYil9fWZ1bmN0aW9uIFAoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybi41KihiPC41P2EoMipiKToyLWEoMi0yKmIpKX19ZnVuY3Rpb24gUShhKXtyZXR1cm4gYX1mdW5jdGlvbiBSKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gTWF0aC5wb3coYixhKX19ZnVuY3Rpb24gUyhhKXtyZXR1cm4gMS1NYXRoLmNvcyhhKk1hdGguUEkvMil9ZnVuY3Rpb24gVChhKXtyZXR1cm4gTWF0aC5wb3coMiwxMCooYS0xKSl9ZnVuY3Rpb24gVShhKXtyZXR1cm4gMS1NYXRoLnNxcnQoMS1hKmEpfWZ1bmN0aW9uIFYoYSxiKXt2YXIgYztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYoYj0uNDUpLGFyZ3VtZW50cy5sZW5ndGg8MT8oYT0xLGM9Yi80KTpjPWIvKDIqTWF0aC5QSSkqTWF0aC5hc2luKDEvYSksZnVuY3Rpb24oZCl7cmV0dXJuIDErYSpNYXRoLnBvdygyLDEwKi1kKSpNYXRoLnNpbigoZC1jKSoyKk1hdGguUEkvYil9fWZ1bmN0aW9uIFcoYSl7cmV0dXJuIGF8fChhPTEuNzAxNTgpLGZ1bmN0aW9uKGIpe3JldHVybiBiKmIqKChhKzEpKmItYSl9fWZ1bmN0aW9uIFgoYSl7cmV0dXJuIGE8MS8yLjc1PzcuNTYyNSphKmE6YTwyLzIuNzU/Ny41NjI1KihhLT0xLjUvMi43NSkqYSsuNzU6YTwyLjUvMi43NT83LjU2MjUqKGEtPTIuMjUvMi43NSkqYSsuOTM3NTo3LjU2MjUqKGEtPTIuNjI1LzIuNzUpKmErLjk4NDM3NX1mdW5jdGlvbiBZKCl7ZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksZDMuZXZlbnQucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBaKCl7dmFyIGE9ZDMuZXZlbnQsYjt3aGlsZShiPWEuc291cmNlRXZlbnQpYT1iO3JldHVybiBhfWZ1bmN0aW9uICQoYSl7dmFyIGI9bmV3IHosYz0wLGQ9YXJndW1lbnRzLmxlbmd0aDt3aGlsZSgrK2M8ZCliW2FyZ3VtZW50c1tjXV09QShiKTtyZXR1cm4gYi5vZj1mdW5jdGlvbihjLGQpe3JldHVybiBmdW5jdGlvbihlKXt0cnl7dmFyIGY9ZS5zb3VyY2VFdmVudD1kMy5ldmVudDtlLnRhcmdldD1hLGQzLmV2ZW50PWUsYltlLnR5cGVdLmFwcGx5KGMsZCl9ZmluYWxseXtkMy5ldmVudD1mfX19LGJ9ZnVuY3Rpb24gYmEoYSl7cmV0dXJuIGE9PVwidHJhbnNmb3JtXCI/ZDMuaW50ZXJwb2xhdGVUcmFuc2Zvcm06ZDMuaW50ZXJwb2xhdGV9ZnVuY3Rpb24gYmIoYSxiKXtyZXR1cm4gYj1iLShhPSthKT8xLyhiLWEpOjAsZnVuY3Rpb24oYyl7cmV0dXJuKGMtYSkqYn19ZnVuY3Rpb24gYmMoYSxiKXtyZXR1cm4gYj1iLShhPSthKT8xLyhiLWEpOjAsZnVuY3Rpb24oYyl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoYy1hKSpiKSl9fWZ1bmN0aW9uIGJkKGEsYixjKXtyZXR1cm4gbmV3IGJlKGEsYixjKX1mdW5jdGlvbiBiZShhLGIsYyl7dGhpcy5yPWEsdGhpcy5nPWIsdGhpcy5iPWN9ZnVuY3Rpb24gYmYoYSl7cmV0dXJuIGE8MTY/XCIwXCIrTWF0aC5tYXgoMCxhKS50b1N0cmluZygxNik6TWF0aC5taW4oMjU1LGEpLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBiZyhhLGIsYyl7dmFyIGQ9MCxlPTAsZj0wLGcsaCxpO2c9LyhbYS16XSspXFwoKC4qKVxcKS9pLmV4ZWMoYSk7aWYoZyl7aD1nWzJdLnNwbGl0KFwiLFwiKTtzd2l0Y2goZ1sxXSl7Y2FzZVwiaHNsXCI6cmV0dXJuIGMocGFyc2VGbG9hdChoWzBdKSxwYXJzZUZsb2F0KGhbMV0pLzEwMCxwYXJzZUZsb2F0KGhbMl0pLzEwMCk7Y2FzZVwicmdiXCI6cmV0dXJuIGIoYmkoaFswXSksYmkoaFsxXSksYmkoaFsyXSkpfX1yZXR1cm4oaT1iai5nZXQoYSkpP2IoaS5yLGkuZyxpLmIpOihhIT1udWxsJiZhLmNoYXJBdCgwKT09PVwiI1wiJiYoYS5sZW5ndGg9PT00PyhkPWEuY2hhckF0KDEpLGQrPWQsZT1hLmNoYXJBdCgyKSxlKz1lLGY9YS5jaGFyQXQoMyksZis9Zik6YS5sZW5ndGg9PT03JiYoZD1hLnN1YnN0cmluZygxLDMpLGU9YS5zdWJzdHJpbmcoMyw1KSxmPWEuc3Vic3RyaW5nKDUsNykpLGQ9cGFyc2VJbnQoZCwxNiksZT1wYXJzZUludChlLDE2KSxmPXBhcnNlSW50KGYsMTYpKSxiKGQsZSxmKSl9ZnVuY3Rpb24gYmgoYSxiLGMpe3ZhciBkPU1hdGgubWluKGEvPTI1NSxiLz0yNTUsYy89MjU1KSxlPU1hdGgubWF4KGEsYixjKSxmPWUtZCxnLGgsaT0oZStkKS8yO3JldHVybiBmPyhoPWk8LjU/Zi8oZStkKTpmLygyLWUtZCksYT09ZT9nPShiLWMpL2YrKGI8Yz82OjApOmI9PWU/Zz0oYy1hKS9mKzI6Zz0oYS1iKS9mKzQsZyo9NjApOmg9Zz0wLGJrKGcsaCxpKX1mdW5jdGlvbiBiaShhKXt2YXIgYj1wYXJzZUZsb2F0KGEpO3JldHVybiBhLmNoYXJBdChhLmxlbmd0aC0xKT09PVwiJVwiP01hdGgucm91bmQoYioyLjU1KTpifWZ1bmN0aW9uIGJrKGEsYixjKXtyZXR1cm4gbmV3IGJsKGEsYixjKX1mdW5jdGlvbiBibChhLGIsYyl7dGhpcy5oPWEsdGhpcy5zPWIsdGhpcy5sPWN9ZnVuY3Rpb24gYm0oYSxiLGMpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuIGE+MzYwP2EtPTM2MDphPDAmJihhKz0zNjApLGE8NjA/ZCsoZS1kKSphLzYwOmE8MTgwP2U6YTwyNDA/ZCsoZS1kKSooMjQwLWEpLzYwOmR9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gTWF0aC5yb3VuZChmKGEpKjI1NSl9dmFyIGQsZTtyZXR1cm4gYSU9MzYwLGE8MCYmKGErPTM2MCksYj1iPDA/MDpiPjE/MTpiLGM9YzwwPzA6Yz4xPzE6YyxlPWM8PS41P2MqKDErYik6YytiLWMqYixkPTIqYy1lLGJkKGcoYSsxMjApLGcoYSksZyhhLTEyMCkpfWZ1bmN0aW9uIGJuKGEpe3JldHVybiBpKGEsYnQpLGF9ZnVuY3Rpb24gYnUoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJvKGEsdGhpcyl9fWZ1bmN0aW9uIGJ2KGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBicChhLHRoaXMpfX1mdW5jdGlvbiBidyhhLGIpe2Z1bmN0aW9uIGYoKXtpZihiPXRoaXMuY2xhc3NMaXN0KXJldHVybiBiLmFkZChhKTt2YXIgYj10aGlzLmNsYXNzTmFtZSxkPWIuYmFzZVZhbCE9bnVsbCxlPWQ/Yi5iYXNlVmFsOmI7Yy5sYXN0SW5kZXg9MCxjLnRlc3QoZSl8fChlPXYoZStcIiBcIithKSxkP2IuYmFzZVZhbD1lOnRoaXMuY2xhc3NOYW1lPWUpfWZ1bmN0aW9uIGcoKXtpZihiPXRoaXMuY2xhc3NMaXN0KXJldHVybiBiLnJlbW92ZShhKTt2YXIgYj10aGlzLmNsYXNzTmFtZSxkPWIuYmFzZVZhbCE9bnVsbCxlPWQ/Yi5iYXNlVmFsOmI7ZT12KGUucmVwbGFjZShjLFwiIFwiKSksZD9iLmJhc2VWYWw9ZTp0aGlzLmNsYXNzTmFtZT1lfWZ1bmN0aW9uIGgoKXsoYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk/ZjpnKS5jYWxsKHRoaXMpfXZhciBjPW5ldyBSZWdFeHAoXCIoXnxcXFxccyspXCIrZDMucmVxdW90ZShhKStcIihcXFxccyt8JClcIixcImdcIik7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXt2YXIgZD10aGlzLm5vZGUoKTtpZihlPWQuY2xhc3NMaXN0KXJldHVybiBlLmNvbnRhaW5zKGEpO3ZhciBlPWQuY2xhc3NOYW1lO3JldHVybiBjLmxhc3RJbmRleD0wLGMudGVzdChlLmJhc2VWYWwhPW51bGw/ZS5iYXNlVmFsOmUpfXJldHVybiB0aGlzLmVhY2godHlwZW9mIGI9PVwiZnVuY3Rpb25cIj9oOmI/ZjpnKX1mdW5jdGlvbiBieChhKXtyZXR1cm57X19kYXRhX186YX19ZnVuY3Rpb24gYnkoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGJzKHRoaXMsYSl9fWZ1bmN0aW9uIGJ6KGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RofHwoYT1kMy5hc2NlbmRpbmcpLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYiYmYi5fX2RhdGFfXyxjJiZjLl9fZGF0YV9fKX19ZnVuY3Rpb24gYkEoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspZm9yKHZhciBlPWFbY10sZj0wLGc9ZS5sZW5ndGgsaDtmPGc7ZisrKShoPWVbZl0pJiZiKGgsZixjKTtyZXR1cm4gYX1mdW5jdGlvbiBiQyhhKXtyZXR1cm4gaShhLGJEKSxhfWZ1bmN0aW9uIGJFKGEsYixjKXtpKGEsYkkpO3ZhciBkPW5ldyBqLGU9ZDMuZGlzcGF0Y2goXCJzdGFydFwiLFwiZW5kXCIpLGY9YlE7cmV0dXJuIGEuaWQ9YixhLnRpbWU9YyxhLnR3ZWVuPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9kLmdldChiKTooYz09bnVsbD9kLnJlbW92ZShiKTpkLnNldChiLGMpLGEpfSxhLmVhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9dHlwZW9mIGI9PVwiZnVuY3Rpb25cIj9iOmQzLmVhc2UuYXBwbHkoZDMsYXJndW1lbnRzKSxhKTpmfSxhLmVhY2g9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP2JSLmNhbGwoYSxiKTooZS5vbihiLGMpLGEpfSxkMy50aW1lcihmdW5jdGlvbihnKXtyZXR1cm4gYkEoYSxmdW5jdGlvbihhLGgsaSl7ZnVuY3Rpb24gbyhmKXtyZXR1cm4gbS5hY3RpdmU+Yj9xKCk6KG0uYWN0aXZlPWIsZC5mb3JFYWNoKGZ1bmN0aW9uKGIsYyl7KGM9Yy5jYWxsKGEsbixoKSkmJmoucHVzaChjKX0pLGUuc3RhcnQuY2FsbChhLG4saCkscChmKXx8ZDMudGltZXIocCwwLGMpLDEpfWZ1bmN0aW9uIHAoYyl7aWYobS5hY3RpdmUhPT1iKXJldHVybiBxKCk7dmFyIGQ9KGMtaykvbCxnPWYoZCksaT1qLmxlbmd0aDt3aGlsZShpPjApalstLWldLmNhbGwoYSxnKTtpZihkPj0xKXJldHVybiBxKCksYks9YixlLmVuZC5jYWxsKGEsbixoKSxiSz0wLDF9ZnVuY3Rpb24gcSgpe3JldHVybi0tbS5jb3VudHx8ZGVsZXRlIGEuX190cmFuc2l0aW9uX18sMX12YXIgaj1bXSxrPWEuZGVsYXksbD1hLmR1cmF0aW9uLG09KGE9YS5ub2RlKS5fX3RyYW5zaXRpb25fX3x8KGEuX190cmFuc2l0aW9uX189e2FjdGl2ZTowLGNvdW50OjB9KSxuPWEuX19kYXRhX187KyttLmNvdW50LGs8PWc/byhnKTpkMy50aW1lcihvLGssYyl9KX0sMCxjKSxhfWZ1bmN0aW9uIGJHKGEsYixjKXtyZXR1cm4gYyE9XCJcIiYmYkZ9ZnVuY3Rpb24gYkgoYSxiKXtmdW5jdGlvbiBkKGEsZCxlKXt2YXIgZj1iLmNhbGwodGhpcyxhLGQpO3JldHVybiBmPT1udWxsP2UhPVwiXCImJmJGOmUhPWYmJmMoZSxmKX1mdW5jdGlvbiBlKGEsZCxlKXtyZXR1cm4gZSE9YiYmYyhlLGIpfXZhciBjPWJhKGEpO3JldHVybiB0eXBlb2YgYj09XCJmdW5jdGlvblwiP2Q6Yj09bnVsbD9iRzooYis9XCJcIixlKX1mdW5jdGlvbiBiUihhKXt2YXIgYj1iSyxjPWJRLGQ9Yk8sZT1iUDtyZXR1cm4gYks9dGhpcy5pZCxiUT10aGlzLmVhc2UoKSxiQSh0aGlzLGZ1bmN0aW9uKGIsYyxkKXtiTz1iLmRlbGF5LGJQPWIuZHVyYXRpb24sYS5jYWxsKGI9Yi5ub2RlLGIuX19kYXRhX18sYyxkKX0pLGJLPWIsYlE9YyxiTz1kLGJQPWUsdGhpc31mdW5jdGlvbiBiVigpe3ZhciBhLGI9RGF0ZS5ub3coKSxjPWJTO3doaWxlKGMpYT1iLWMudGhlbixhPj1jLmRlbGF5JiYoYy5mbHVzaD1jLmNhbGxiYWNrKGEpKSxjPWMubmV4dDt2YXIgZD1iVygpLWI7ZD4yND8oaXNGaW5pdGUoZCkmJihjbGVhclRpbWVvdXQoYlUpLGJVPXNldFRpbWVvdXQoYlYsZCkpLGJUPTApOihiVD0xLGJYKGJWKSl9ZnVuY3Rpb24gYlcoKXt2YXIgYT1udWxsLGI9YlMsYz1JbmZpbml0eTt3aGlsZShiKWIuZmx1c2g/Yj1hP2EubmV4dD1iLm5leHQ6YlM9Yi5uZXh0OihjPU1hdGgubWluKGMsYi50aGVuK2IuZGVsYXkpLGI9KGE9YikubmV4dCk7cmV0dXJuIGN9ZnVuY3Rpb24gYlkoYSl7dmFyIGI9W2EuYSxhLmJdLGM9W2EuYyxhLmRdLGQ9YiQoYiksZT1iWihiLGMpLGY9YiQoYl8oYyxiLC1lKSl8fDA7YlswXSpjWzFdPGNbMF0qYlsxXSYmKGJbMF0qPS0xLGJbMV0qPS0xLGQqPS0xLGUqPS0xKSx0aGlzLnJvdGF0ZT0oZD9NYXRoLmF0YW4yKGJbMV0sYlswXSk6TWF0aC5hdGFuMigtY1swXSxjWzFdKSkqY2EsdGhpcy50cmFuc2xhdGU9W2EuZSxhLmZdLHRoaXMuc2NhbGU9W2QsZl0sdGhpcy5za2V3PWY/TWF0aC5hdGFuMihlLGYpKmNhOjB9ZnVuY3Rpb24gYlooYSxiKXtyZXR1cm4gYVswXSpiWzBdK2FbMV0qYlsxXX1mdW5jdGlvbiBiJChhKXt2YXIgYj1NYXRoLnNxcnQoYlooYSxhKSk7cmV0dXJuIGImJihhWzBdLz1iLGFbMV0vPWIpLGJ9ZnVuY3Rpb24gYl8oYSxiLGMpe3JldHVybiBhWzBdKz1jKmJbMF0sYVsxXSs9YypiWzFdLGF9ZnVuY3Rpb24gY2MoYSxiKXt2YXIgYz1hLm93bmVyU1ZHRWxlbWVudHx8YTtpZihjLmNyZWF0ZVNWR1BvaW50KXt2YXIgZD1jLmNyZWF0ZVNWR1BvaW50KCk7aWYoY2I8MCYmKHdpbmRvdy5zY3JvbGxYfHx3aW5kb3cuc2Nyb2xsWSkpe2M9ZDMuc2VsZWN0KGRvY3VtZW50LmJvZHkpLmFwcGVuZChcInN2Z1wiKS5zdHlsZShcInBvc2l0aW9uXCIsXCJhYnNvbHV0ZVwiKS5zdHlsZShcInRvcFwiLDApLnN0eWxlKFwibGVmdFwiLDApO3ZhciBlPWNbMF1bMF0uZ2V0U2NyZWVuQ1RNKCk7Y2I9IWUuZiYmIWUuZSxjLnJlbW92ZSgpfXJldHVybiBjYj8oZC54PWIucGFnZVgsZC55PWIucGFnZVkpOihkLng9Yi5jbGllbnRYLGQueT1iLmNsaWVudFkpLGQ9ZC5tYXRyaXhUcmFuc2Zvcm0oYS5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpLFtkLngsZC55XX12YXIgZj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybltiLmNsaWVudFgtZi5sZWZ0LWEuY2xpZW50TGVmdCxiLmNsaWVudFktZi50b3AtYS5jbGllbnRUb3BdfWZ1bmN0aW9uIGNkKCl7fWZ1bmN0aW9uIGNlKGEpe3ZhciBiPWFbMF0sYz1hW2EubGVuZ3RoLTFdO3JldHVybiBiPGM/W2IsY106W2MsYl19ZnVuY3Rpb24gY2YoYSl7cmV0dXJuIGEucmFuZ2VFeHRlbnQ/YS5yYW5nZUV4dGVudCgpOmNlKGEucmFuZ2UoKSl9ZnVuY3Rpb24gY2coYSxiKXt2YXIgYz0wLGQ9YS5sZW5ndGgtMSxlPWFbY10sZj1hW2RdLGc7ZjxlJiYoZz1jLGM9ZCxkPWcsZz1lLGU9ZixmPWcpO2lmKGc9Zi1lKWI9YihnKSxhW2NdPWIuZmxvb3IoZSksYVtkXT1iLmNlaWwoZik7cmV0dXJuIGF9ZnVuY3Rpb24gY2goKXtyZXR1cm4gTWF0aH1mdW5jdGlvbiBjaShhLGIsYyxkKXtmdW5jdGlvbiBnKCl7dmFyIGc9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpPjI/Y3A6Y28saT1kP2JjOmJiO3JldHVybiBlPWcoYSxiLGksYyksZj1nKGIsYSxpLGQzLmludGVycG9sYXRlKSxofWZ1bmN0aW9uIGgoYSl7cmV0dXJuIGUoYSl9dmFyIGUsZjtyZXR1cm4gaC5pbnZlcnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSl9LGguZG9tYWluPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIubWFwKE51bWJlciksZygpKTphfSxoLnJhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZygpKTpifSxoLnJhbmdlUm91bmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGgucmFuZ2UoYSkuaW50ZXJwb2xhdGUoZDMuaW50ZXJwb2xhdGVSb3VuZCl9LGguY2xhbXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9YSxnKCkpOmR9LGguaW50ZXJwb2xhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxnKCkpOmN9LGgudGlja3M9ZnVuY3Rpb24oYil7cmV0dXJuIGNtKGEsYil9LGgudGlja0Zvcm1hdD1mdW5jdGlvbihiKXtyZXR1cm4gY24oYSxiKX0saC5uaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGNnKGEsY2spLGcoKX0saC5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGNpKGEsYixjLGQpfSxnKCl9ZnVuY3Rpb24gY2ooYSxiKXtyZXR1cm4gZDMucmViaW5kKGEsYixcInJhbmdlXCIsXCJyYW5nZVJvdW5kXCIsXCJpbnRlcnBvbGF0ZVwiLFwiY2xhbXBcIil9ZnVuY3Rpb24gY2soYSl7cmV0dXJuIGE9TWF0aC5wb3coMTAsTWF0aC5yb3VuZChNYXRoLmxvZyhhKS9NYXRoLkxOMTApLTEpLHtmbG9vcjpmdW5jdGlvbihiKXtyZXR1cm4gTWF0aC5mbG9vcihiL2EpKmF9LGNlaWw6ZnVuY3Rpb24oYil7cmV0dXJuIE1hdGguY2VpbChiL2EpKmF9fX1mdW5jdGlvbiBjbChhLGIpe3ZhciBjPWNlKGEpLGQ9Y1sxXS1jWzBdLGU9TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyhkL2IpL01hdGguTE4xMCkpLGY9Yi9kKmU7cmV0dXJuIGY8PS4xNT9lKj0xMDpmPD0uMzU/ZSo9NTpmPD0uNzUmJihlKj0yKSxjWzBdPU1hdGguY2VpbChjWzBdL2UpKmUsY1sxXT1NYXRoLmZsb29yKGNbMV0vZSkqZStlKi41LGNbMl09ZSxjfWZ1bmN0aW9uIGNtKGEsYil7cmV0dXJuIGQzLnJhbmdlLmFwcGx5KGQzLGNsKGEsYikpfWZ1bmN0aW9uIGNuKGEsYil7cmV0dXJuIGQzLmZvcm1hdChcIiwuXCIrTWF0aC5tYXgoMCwtTWF0aC5mbG9vcihNYXRoLmxvZyhjbChhLGIpWzJdKS9NYXRoLkxOMTArLjAxKSkrXCJmXCIpfWZ1bmN0aW9uIGNvKGEsYixjLGQpe3ZhciBlPWMoYVswXSxhWzFdKSxmPWQoYlswXSxiWzFdKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGYoZShhKSl9fWZ1bmN0aW9uIGNwKGEsYixjLGQpe3ZhciBlPVtdLGY9W10sZz0wLGg9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpLTE7YVtoXTxhWzBdJiYoYT1hLnNsaWNlKCkucmV2ZXJzZSgpLGI9Yi5zbGljZSgpLnJldmVyc2UoKSk7d2hpbGUoKytnPD1oKWUucHVzaChjKGFbZy0xXSxhW2ddKSksZi5wdXNoKGQoYltnLTFdLGJbZ10pKTtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9ZDMuYmlzZWN0KGEsYiwxLGgpLTE7cmV0dXJuIGZbY10oZVtjXShiKSl9fWZ1bmN0aW9uIGNxKGEsYil7ZnVuY3Rpb24gZChjKXtyZXR1cm4gYShiKGMpKX12YXIgYz1iLnBvdztyZXR1cm4gZC5pbnZlcnQ9ZnVuY3Rpb24oYil7cmV0dXJuIGMoYS5pbnZlcnQoYikpfSxkLmRvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1lWzBdPDA/Y3Q6Y3MsYz1iLnBvdyxhLmRvbWFpbihlLm1hcChiKSksZCk6YS5kb21haW4oKS5tYXAoYyl9LGQubmljZT1mdW5jdGlvbigpe3JldHVybiBhLmRvbWFpbihjZyhhLmRvbWFpbigpLGNoKSksZH0sZC50aWNrcz1mdW5jdGlvbigpe3ZhciBkPWNlKGEuZG9tYWluKCkpLGU9W107aWYoZC5ldmVyeShpc0Zpbml0ZSkpe3ZhciBmPU1hdGguZmxvb3IoZFswXSksZz1NYXRoLmNlaWwoZFsxXSksaD1jKGRbMF0pLGk9YyhkWzFdKTtpZihiPT09Y3Qpe2UucHVzaChjKGYpKTtmb3IoO2YrKzxnOylmb3IodmFyIGo9OTtqPjA7ai0tKWUucHVzaChjKGYpKmopfWVsc2V7Zm9yKDtmPGc7ZisrKWZvcih2YXIgaj0xO2o8MTA7aisrKWUucHVzaChjKGYpKmopO2UucHVzaChjKGYpKX1mb3IoZj0wO2VbZl08aDtmKyspO2ZvcihnPWUubGVuZ3RoO2VbZy0xXT5pO2ctLSk7ZT1lLnNsaWNlKGYsZyl9cmV0dXJuIGV9LGQudGlja0Zvcm1hdD1mdW5jdGlvbihhLGUpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKGU9Y3IpO2lmKGFyZ3VtZW50cy5sZW5ndGg8MSlyZXR1cm4gZTt2YXIgZj1NYXRoLm1heCguMSxhL2QudGlja3MoKS5sZW5ndGgpLGc9Yj09PWN0PyhoPS0xZS0xMixNYXRoLmZsb29yKTooaD0xZS0xMixNYXRoLmNlaWwpLGg7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhL2MoZyhiKGEpK2gpKTw9Zj9lKGEpOlwiXCJ9fSxkLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gY3EoYS5jb3B5KCksYil9LGNqKGQsYSl9ZnVuY3Rpb24gY3MoYSl7cmV0dXJuIE1hdGgubG9nKGE8MD8wOmEpL01hdGguTE4xMH1mdW5jdGlvbiBjdChhKXtyZXR1cm4tTWF0aC5sb2coYT4wPzA6LWEpL01hdGguTE4xMH1mdW5jdGlvbiBjdShhLGIpe2Z1bmN0aW9uIGUoYil7cmV0dXJuIGEoYyhiKSl9dmFyIGM9Y3YoYiksZD1jdigxL2IpO3JldHVybiBlLmludmVydD1mdW5jdGlvbihiKXtyZXR1cm4gZChhLmludmVydChiKSl9LGUuZG9tYWluPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhLmRvbWFpbihiLm1hcChjKSksZSk6YS5kb21haW4oKS5tYXAoZCl9LGUudGlja3M9ZnVuY3Rpb24oYSl7cmV0dXJuIGNtKGUuZG9tYWluKCksYSl9LGUudGlja0Zvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gY24oZS5kb21haW4oKSxhKX0sZS5uaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9tYWluKGNnKGUuZG9tYWluKCksY2spKX0sZS5leHBvbmVudD1mdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYjt2YXIgZj1lLmRvbWFpbigpO3JldHVybiBjPWN2KGI9YSksZD1jdigxL2IpLGUuZG9tYWluKGYpfSxlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gY3UoYS5jb3B5KCksYil9LGNqKGUsYSl9ZnVuY3Rpb24gY3YoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiPDA/LU1hdGgucG93KC1iLGEpOk1hdGgucG93KGIsYSl9fWZ1bmN0aW9uIGN3KGEsYil7ZnVuY3Rpb24gZihiKXtyZXR1cm4gZFsoKGMuZ2V0KGIpfHxjLnNldChiLGEucHVzaChiKSkpLTEpJWQubGVuZ3RoXX1mdW5jdGlvbiBnKGIsYyl7cmV0dXJuIGQzLnJhbmdlKGEubGVuZ3RoKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGIrYyphfSl9dmFyIGMsZCxlO3JldHVybiBmLmRvbWFpbj1mdW5jdGlvbihkKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYTthPVtdLGM9bmV3IGo7dmFyIGU9LTEsZz1kLmxlbmd0aCxoO3doaWxlKCsrZTxnKWMuaGFzKGg9ZFtlXSl8fGMuc2V0KGgsYS5wdXNoKGgpKTtyZXR1cm4gZltiLnRdKGIueCxiLnApfSxmLnJhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPWEsZT0wLGI9e3Q6XCJyYW5nZVwiLHg6YX0sZik6ZH0sZi5yYW5nZVBvaW50cz1mdW5jdGlvbihjLGgpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKGg9MCk7dmFyIGk9Y1swXSxqPWNbMV0saz0oai1pKS8oYS5sZW5ndGgtMStoKTtyZXR1cm4gZD1nKGEubGVuZ3RoPDI/KGkraikvMjppK2sqaC8yLGspLGU9MCxiPXt0OlwicmFuZ2VQb2ludHNcIix4OmMscDpofSxmfSxmLnJhbmdlQmFuZHM9ZnVuY3Rpb24oYyxoKXthcmd1bWVudHMubGVuZ3RoPDImJihoPTApO3ZhciBpPWNbMV08Y1swXSxqPWNbaS0wXSxrPWNbMS1pXSxsPShrLWopLyhhLmxlbmd0aCtoKTtyZXR1cm4gZD1nKGorbCpoLGwpLGkmJmQucmV2ZXJzZSgpLGU9bCooMS1oKSxiPXt0OlwicmFuZ2VCYW5kc1wiLHg6YyxwOmh9LGZ9LGYucmFuZ2VSb3VuZEJhbmRzPWZ1bmN0aW9uKGMsaCl7YXJndW1lbnRzLmxlbmd0aDwyJiYoaD0wKTt2YXIgaT1jWzFdPGNbMF0saj1jW2ktMF0saz1jWzEtaV0sbD1NYXRoLmZsb29yKChrLWopLyhhLmxlbmd0aCtoKSksbT1rLWotKGEubGVuZ3RoLWgpKmw7cmV0dXJuIGQ9ZyhqK01hdGgucm91bmQobS8yKSxsKSxpJiZkLnJldmVyc2UoKSxlPU1hdGgucm91bmQobCooMS1oKSksYj17dDpcInJhbmdlUm91bmRCYW5kc1wiLHg6YyxwOmh9LGZ9LGYucmFuZ2VCYW5kPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGYucmFuZ2VFeHRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gY2UoYi54KX0sZi5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGN3KGEsYil9LGYuZG9tYWluKGEpfWZ1bmN0aW9uIGNCKGEsYil7ZnVuY3Rpb24gZCgpe3ZhciBkPTAsZj1hLmxlbmd0aCxnPWIubGVuZ3RoO2M9W107d2hpbGUoKytkPGcpY1tkLTFdPWQzLnF1YW50aWxlKGEsZC9nKTtyZXR1cm4gZX1mdW5jdGlvbiBlKGEpe3JldHVybiBpc05hTihhPSthKT9OYU46YltkMy5iaXNlY3QoYyxhKV19dmFyIGM7cmV0dXJuIGUuZG9tYWluPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWIuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiFpc05hTihhKX0pLnNvcnQoZDMuYXNjZW5kaW5nKSxkKCkpOmF9LGUucmFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxkKCkpOmJ9LGUucXVhbnRpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGUuY29weT1mdW5jdGlvbigpe3JldHVybiBjQihhLGIpfSxkKCl9ZnVuY3Rpb24gY0MoYSxiLGMpe2Z1bmN0aW9uIGYoYil7cmV0dXJuIGNbTWF0aC5tYXgoMCxNYXRoLm1pbihlLE1hdGguZmxvb3IoZCooYi1hKSkpKV19ZnVuY3Rpb24gZygpe3JldHVybiBkPWMubGVuZ3RoLyhiLWEpLGU9Yy5sZW5ndGgtMSxmfXZhciBkLGU7cmV0dXJuIGYuZG9tYWluPWZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPStjWzBdLGI9K2NbYy5sZW5ndGgtMV0sZygpKTpbYSxiXX0sZi5yYW5nZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGcoKSk6Y30sZi5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIGNDKGEsYixjKX0sZygpfWZ1bmN0aW9uIGNEKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuK2F9cmV0dXJuIGIuaW52ZXJ0PWIsYi5kb21haW49Yi5yYW5nZT1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1jLm1hcChiKSxiKTphfSxiLnRpY2tzPWZ1bmN0aW9uKGIpe3JldHVybiBjbShhLGIpfSxiLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oYil7cmV0dXJuIGNuKGEsYil9LGIuY29weT1mdW5jdGlvbigpe3JldHVybiBjRChhKX0sYn1mdW5jdGlvbiBjRyhhKXtyZXR1cm4gYS5pbm5lclJhZGl1c31mdW5jdGlvbiBjSChhKXtyZXR1cm4gYS5vdXRlclJhZGl1c31mdW5jdGlvbiBjSShhKXtyZXR1cm4gYS5zdGFydEFuZ2xlfWZ1bmN0aW9uIGNKKGEpe3JldHVybiBhLmVuZEFuZ2xlfWZ1bmN0aW9uIGNLKGEpe2Z1bmN0aW9uIGgoZSl7ZnVuY3Rpb24gbygpe2gucHVzaChcIk1cIixmKGEoaSksZykpfXZhciBoPVtdLGk9W10saj0tMSxrPWUubGVuZ3RoLGwsbT1wKGIpLG49cChjKTt3aGlsZSgrK2o8aylkLmNhbGwodGhpcyxsPWVbal0saik/aS5wdXNoKFsrbS5jYWxsKHRoaXMsbCxqKSwrbi5jYWxsKHRoaXMsbCxqKV0pOmkubGVuZ3RoJiYobygpLGk9W10pO3JldHVybiBpLmxlbmd0aCYmbygpLGgubGVuZ3RoP2guam9pbihcIlwiKTpudWxsfXZhciBiPWNMLGM9Y00sZD1vLGU9Y04sZj1jUCxnPS43O3JldHVybiBoLng9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxoKTpifSxoLnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxoKTpjfSxoLmRlZmluZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9YSxoKTpkfSxoLmludGVycG9sYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjTy5oYXMoYSs9XCJcIil8fChhPWNOKSxmPWNPLmdldChlPWEpLGgpOmV9LGgudGVuc2lvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz1hLGgpOmd9LGh9ZnVuY3Rpb24gY0woYSl7cmV0dXJuIGFbMF19ZnVuY3Rpb24gY00oYSl7cmV0dXJuIGFbMV19ZnVuY3Rpb24gY1AoYSl7dmFyIGI9MCxjPWEubGVuZ3RoLGQ9YVswXSxlPVtkWzBdLFwiLFwiLGRbMV1dO3doaWxlKCsrYjxjKWUucHVzaChcIkxcIiwoZD1hW2JdKVswXSxcIixcIixkWzFdKTtyZXR1cm4gZS5qb2luKFwiXCIpfWZ1bmN0aW9uIGNRKGEpe3ZhciBiPTAsYz1hLmxlbmd0aCxkPWFbMF0sZT1bZFswXSxcIixcIixkWzFdXTt3aGlsZSgrK2I8YyllLnB1c2goXCJWXCIsKGQ9YVtiXSlbMV0sXCJIXCIsZFswXSk7cmV0dXJuIGUuam9pbihcIlwiKX1mdW5jdGlvbiBjUihhKXt2YXIgYj0wLGM9YS5sZW5ndGgsZD1hWzBdLGU9W2RbMF0sXCIsXCIsZFsxXV07d2hpbGUoKytiPGMpZS5wdXNoKFwiSFwiLChkPWFbYl0pWzBdLFwiVlwiLGRbMV0pO3JldHVybiBlLmpvaW4oXCJcIil9ZnVuY3Rpb24gY1MoYSxiKXtyZXR1cm4gYS5sZW5ndGg8ND9jUChhKTphWzFdK2NWKGEuc2xpY2UoMSxhLmxlbmd0aC0xKSxjVyhhLGIpKX1mdW5jdGlvbiBjVChhLGIpe3JldHVybiBhLmxlbmd0aDwzP2NQKGEpOmFbMF0rY1YoKGEucHVzaChhWzBdKSxhKSxjVyhbYVthLmxlbmd0aC0yXV0uY29uY2F0KGEsW2FbMV1dKSxiKSl9ZnVuY3Rpb24gY1UoYSxiLGMpe3JldHVybiBhLmxlbmd0aDwzP2NQKGEpOmFbMF0rY1YoYSxjVyhhLGIpKX1mdW5jdGlvbiBjVihhLGIpe2lmKGIubGVuZ3RoPDF8fGEubGVuZ3RoIT1iLmxlbmd0aCYmYS5sZW5ndGghPWIubGVuZ3RoKzIpcmV0dXJuIGNQKGEpO3ZhciBjPWEubGVuZ3RoIT1iLmxlbmd0aCxkPVwiXCIsZT1hWzBdLGY9YVsxXSxnPWJbMF0saD1nLGk9MTtjJiYoZCs9XCJRXCIrKGZbMF0tZ1swXSoyLzMpK1wiLFwiKyhmWzFdLWdbMV0qMi8zKStcIixcIitmWzBdK1wiLFwiK2ZbMV0sZT1hWzFdLGk9Mik7aWYoYi5sZW5ndGg+MSl7aD1iWzFdLGY9YVtpXSxpKyssZCs9XCJDXCIrKGVbMF0rZ1swXSkrXCIsXCIrKGVbMV0rZ1sxXSkrXCIsXCIrKGZbMF0taFswXSkrXCIsXCIrKGZbMV0taFsxXSkrXCIsXCIrZlswXStcIixcIitmWzFdO2Zvcih2YXIgaj0yO2o8Yi5sZW5ndGg7aisrLGkrKylmPWFbaV0saD1iW2pdLGQrPVwiU1wiKyhmWzBdLWhbMF0pK1wiLFwiKyhmWzFdLWhbMV0pK1wiLFwiK2ZbMF0rXCIsXCIrZlsxXX1pZihjKXt2YXIgaz1hW2ldO2QrPVwiUVwiKyhmWzBdK2hbMF0qMi8zKStcIixcIisoZlsxXStoWzFdKjIvMykrXCIsXCIra1swXStcIixcIitrWzFdfXJldHVybiBkfWZ1bmN0aW9uIGNXKGEsYil7dmFyIGM9W10sZD0oMS1iKS8yLGUsZj1hWzBdLGc9YVsxXSxoPTEsaT1hLmxlbmd0aDt3aGlsZSgrK2g8aSllPWYsZj1nLGc9YVtoXSxjLnB1c2goW2QqKGdbMF0tZVswXSksZCooZ1sxXS1lWzFdKV0pO3JldHVybiBjfWZ1bmN0aW9uIGNYKGEpe2lmKGEubGVuZ3RoPDMpcmV0dXJuIGNQKGEpO3ZhciBiPTEsYz1hLmxlbmd0aCxkPWFbMF0sZT1kWzBdLGY9ZFsxXSxnPVtlLGUsZSwoZD1hWzFdKVswXV0saD1bZixmLGYsZFsxXV0saT1bZSxcIixcIixmXTtkZChpLGcsaCk7d2hpbGUoKytiPGMpZD1hW2JdLGcuc2hpZnQoKSxnLnB1c2goZFswXSksaC5zaGlmdCgpLGgucHVzaChkWzFdKSxkZChpLGcsaCk7Yj0tMTt3aGlsZSgrK2I8MilnLnNoaWZ0KCksZy5wdXNoKGRbMF0pLGguc2hpZnQoKSxoLnB1c2goZFsxXSksZGQoaSxnLGgpO3JldHVybiBpLmpvaW4oXCJcIil9ZnVuY3Rpb24gY1koYSl7aWYoYS5sZW5ndGg8NClyZXR1cm4gY1AoYSk7dmFyIGI9W10sYz0tMSxkPWEubGVuZ3RoLGUsZj1bMF0sZz1bMF07d2hpbGUoKytjPDMpZT1hW2NdLGYucHVzaChlWzBdKSxnLnB1c2goZVsxXSk7Yi5wdXNoKGNfKGRjLGYpK1wiLFwiK2NfKGRjLGcpKSwtLWM7d2hpbGUoKytjPGQpZT1hW2NdLGYuc2hpZnQoKSxmLnB1c2goZVswXSksZy5zaGlmdCgpLGcucHVzaChlWzFdKSxkZChiLGYsZyk7cmV0dXJuIGIuam9pbihcIlwiKX1mdW5jdGlvbiBjWihhKXt2YXIgYixjPS0xLGQ9YS5sZW5ndGgsZT1kKzQsZixnPVtdLGg9W107d2hpbGUoKytjPDQpZj1hW2MlZF0sZy5wdXNoKGZbMF0pLGgucHVzaChmWzFdKTtiPVtjXyhkYyxnKSxcIixcIixjXyhkYyxoKV0sLS1jO3doaWxlKCsrYzxlKWY9YVtjJWRdLGcuc2hpZnQoKSxnLnB1c2goZlswXSksaC5zaGlmdCgpLGgucHVzaChmWzFdKSxkZChiLGcsaCk7cmV0dXJuIGIuam9pbihcIlwiKX1mdW5jdGlvbiBjJChhLGIpe3ZhciBjPWEubGVuZ3RoLTE7aWYoYyl7dmFyIGQ9YVswXVswXSxlPWFbMF1bMV0sZj1hW2NdWzBdLWQsZz1hW2NdWzFdLWUsaD0tMSxpLGo7d2hpbGUoKytoPD1jKWk9YVtoXSxqPWgvYyxpWzBdPWIqaVswXSsoMS1iKSooZCtqKmYpLGlbMV09YippWzFdKygxLWIpKihlK2oqZyl9cmV0dXJuIGNYKGEpfWZ1bmN0aW9uIGNfKGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV0rYVsyXSpiWzJdK2FbM10qYlszXX1mdW5jdGlvbiBkZChhLGIsYyl7YS5wdXNoKFwiQ1wiLGNfKGRhLGIpLFwiLFwiLGNfKGRhLGMpLFwiLFwiLGNfKGRiLGIpLFwiLFwiLGNfKGRiLGMpLFwiLFwiLGNfKGRjLGIpLFwiLFwiLGNfKGRjLGMpKX1mdW5jdGlvbiBkZShhLGIpe3JldHVybihiWzFdLWFbMV0pLyhiWzBdLWFbMF0pfWZ1bmN0aW9uIGRmKGEpe3ZhciBiPTAsYz1hLmxlbmd0aC0xLGQ9W10sZT1hWzBdLGY9YVsxXSxnPWRbMF09ZGUoZSxmKTt3aGlsZSgrK2I8YylkW2JdPWcrKGc9ZGUoZT1mLGY9YVtiKzFdKSk7cmV0dXJuIGRbYl09ZyxkfWZ1bmN0aW9uIGRnKGEpe3ZhciBiPVtdLGMsZCxlLGYsZz1kZihhKSxoPS0xLGk9YS5sZW5ndGgtMTt3aGlsZSgrK2g8aSljPWRlKGFbaF0sYVtoKzFdKSxNYXRoLmFicyhjKTwxZS02P2dbaF09Z1toKzFdPTA6KGQ9Z1toXS9jLGU9Z1toKzFdL2MsZj1kKmQrZSplLGY+OSYmKGY9YyozL01hdGguc3FydChmKSxnW2hdPWYqZCxnW2grMV09ZiplKSk7aD0tMTt3aGlsZSgrK2g8PWkpZj0oYVtNYXRoLm1pbihpLGgrMSldWzBdLWFbTWF0aC5tYXgoMCxoLTEpXVswXSkvKDYqKDErZ1toXSpnW2hdKSksYi5wdXNoKFtmfHwwLGdbaF0qZnx8MF0pO3JldHVybiBifWZ1bmN0aW9uIGRoKGEpe3JldHVybiBhLmxlbmd0aDwzP2NQKGEpOmFbMF0rY1YoYSxkZyhhKSl9ZnVuY3Rpb24gZGkoYSl7dmFyIGIsYz0tMSxkPWEubGVuZ3RoLGUsZjt3aGlsZSgrK2M8ZCliPWFbY10sZT1iWzBdLGY9YlsxXStjRSxiWzBdPWUqTWF0aC5jb3MoZiksYlsxXT1lKk1hdGguc2luKGYpO3JldHVybiBhfWZ1bmN0aW9uIGRqKGEpe2Z1bmN0aW9uIGwoZyl7ZnVuY3Rpb24geSgpe2wucHVzaChcIk1cIixoKGEobiksayksaixpKGEobS5yZXZlcnNlKCkpLGspLFwiWlwiKX12YXIgbD1bXSxtPVtdLG49W10sbz0tMSxxPWcubGVuZ3RoLHIscz1wKGIpLHQ9cChkKSx1PWI9PT1jP2Z1bmN0aW9uKCl7cmV0dXJuIHd9OnAoYyksdj1kPT09ZT9mdW5jdGlvbigpe3JldHVybiB4fTpwKGUpLHcseDt3aGlsZSgrK288cSlmLmNhbGwodGhpcyxyPWdbb10sbyk/KG0ucHVzaChbdz0rcy5jYWxsKHRoaXMscixvKSx4PSt0LmNhbGwodGhpcyxyLG8pXSksbi5wdXNoKFsrdS5jYWxsKHRoaXMscixvKSwrdi5jYWxsKHRoaXMscixvKV0pKTptLmxlbmd0aCYmKHkoKSxtPVtdLG49W10pO3JldHVybiBtLmxlbmd0aCYmeSgpLGwubGVuZ3RoP2wuam9pbihcIlwiKTpudWxsfXZhciBiPWNMLGM9Y0wsZD0wLGU9Y00sZj1vLGc9Y04saD1jUCxpPWNQLGo9XCJMXCIsaz0uNztyZXR1cm4gbC54PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWM9YSxsKTpjfSxsLngwPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsbCk6Yn0sbC54MT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGwpOmN9LGwueT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1lPWEsbCk6ZX0sbC55MD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1hLGwpOmR9LGwueTE9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9YSxsKTplfSxsLmRlZmluZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9YSxsKTpmfSxsLmludGVycG9sYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjTy5oYXMoYSs9XCJcIil8fChhPWNOKSxoPWNPLmdldChnPWEpLGk9aC5yZXZlcnNlfHxoLGo9Ly1jbG9zZWQkLy50ZXN0KGEpP1wiTVwiOlwiTFwiLGwpOmd9LGwudGVuc2lvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaz1hLGwpOmt9LGx9ZnVuY3Rpb24gZGsoYSl7cmV0dXJuIGEuc291cmNlfWZ1bmN0aW9uIGRsKGEpe3JldHVybiBhLnRhcmdldH1mdW5jdGlvbiBkbShhKXtyZXR1cm4gYS5yYWRpdXN9ZnVuY3Rpb24gZG4oYSl7cmV0dXJuIGEuc3RhcnRBbmdsZX1mdW5jdGlvbiBkcChhKXtyZXR1cm4gYS5lbmRBbmdsZX1mdW5jdGlvbiBkcShhKXtyZXR1cm5bYS54LGEueV19ZnVuY3Rpb24gZHIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYz1iWzBdLGQ9YlsxXStjRTtyZXR1cm5bYypNYXRoLmNvcyhkKSxjKk1hdGguc2luKGQpXX19ZnVuY3Rpb24gZHMoKXtyZXR1cm4gNjR9ZnVuY3Rpb24gZHQoKXtyZXR1cm5cImNpcmNsZVwifWZ1bmN0aW9uIGR1KGEpe3ZhciBiPU1hdGguc3FydChhL01hdGguUEkpO3JldHVyblwiTTAsXCIrYitcIkFcIitiK1wiLFwiK2IrXCIgMCAxLDEgMCxcIisgLWIrXCJBXCIrYitcIixcIitiK1wiIDAgMSwxIDAsXCIrYitcIlpcIn1mdW5jdGlvbiBkeShhLGIpe2EuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGEpe3JldHVyblwidHJhbnNsYXRlKFwiK2IoYSkrXCIsMClcIn0pfWZ1bmN0aW9uIGR6KGEsYil7YS5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJ0cmFuc2xhdGUoMCxcIitiKGEpK1wiKVwifSl9ZnVuY3Rpb24gZEEoYSxiLGMpe2U9W107aWYoYyYmYi5sZW5ndGg+MSl7dmFyIGQ9Y2UoYS5kb21haW4oKSksZSxmPS0xLGc9Yi5sZW5ndGgsaD0oYlsxXS1iWzBdKS8rK2MsaSxqO3doaWxlKCsrZjxnKWZvcihpPWM7LS1pPjA7KShqPStiW2ZdLWkqaCk+PWRbMF0mJmUucHVzaChqKTtmb3IoLS1mLGk9MDsrK2k8YyYmKGo9K2JbZl0raSpoKTxkWzFdOyllLnB1c2goail9cmV0dXJuIGV9ZnVuY3Rpb24gZEYoKXtkRHx8KGREPWQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiZGl2XCIpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLnN0eWxlKFwidG9wXCIsMCkuc3R5bGUoXCJoZWlnaHRcIiwwKS5zdHlsZShcIndpZHRoXCIsMCkuc3R5bGUoXCJvdmVyZmxvdy15XCIsXCJzY3JvbGxcIikuYXBwZW5kKFwiZGl2XCIpLnN0eWxlKFwiaGVpZ2h0XCIsXCIyMDAwcHhcIikubm9kZSgpLnBhcmVudE5vZGUpO3ZhciBhPWQzLmV2ZW50LGI7dHJ5e2RELnNjcm9sbFRvcD0xZTMsZEQuZGlzcGF0Y2hFdmVudChhKSxiPTFlMy1kRC5zY3JvbGxUb3B9Y2F0Y2goYyl7Yj1hLndoZWVsRGVsdGF8fC1hLmRldGFpbCo1fXJldHVybiBifWZ1bmN0aW9uIGRHKGEpe3ZhciBiPWEuc291cmNlLGM9YS50YXJnZXQsZD1kSShiLGMpLGU9W2JdO3doaWxlKGIhPT1kKWI9Yi5wYXJlbnQsZS5wdXNoKGIpO3ZhciBmPWUubGVuZ3RoO3doaWxlKGMhPT1kKWUuc3BsaWNlKGYsMCxjKSxjPWMucGFyZW50O3JldHVybiBlfWZ1bmN0aW9uIGRIKGEpe3ZhciBiPVtdLGM9YS5wYXJlbnQ7d2hpbGUoYyE9bnVsbCliLnB1c2goYSksYT1jLGM9Yy5wYXJlbnQ7cmV0dXJuIGIucHVzaChhKSxifWZ1bmN0aW9uIGRJKGEsYil7aWYoYT09PWIpcmV0dXJuIGE7dmFyIGM9ZEgoYSksZD1kSChiKSxlPWMucG9wKCksZj1kLnBvcCgpLGc9bnVsbDt3aGlsZShlPT09ZilnPWUsZT1jLnBvcCgpLGY9ZC5wb3AoKTtyZXR1cm4gZ31mdW5jdGlvbiBkTChhKXthLmZpeGVkfD0yfWZ1bmN0aW9uIGRNKGEpe2EhPT1kSyYmKGEuZml4ZWQmPTEpfWZ1bmN0aW9uIGROKCl7ZEsuZml4ZWQmPTEsZEo9ZEs9bnVsbH1mdW5jdGlvbiBkTygpe2RLLnB4PWQzLmV2ZW50LngsZEsucHk9ZDMuZXZlbnQueSxkSi5yZXN1bWUoKX1mdW5jdGlvbiBkUChhLGIsYyl7dmFyIGQ9MCxlPTA7YS5jaGFyZ2U9MDtpZighYS5sZWFmKXt2YXIgZj1hLm5vZGVzLGc9Zi5sZW5ndGgsaD0tMSxpO3doaWxlKCsraDxnKXtpPWZbaF07aWYoaT09bnVsbCljb250aW51ZTtkUChpLGIsYyksYS5jaGFyZ2UrPWkuY2hhcmdlLGQrPWkuY2hhcmdlKmkuY3gsZSs9aS5jaGFyZ2UqaS5jeX19aWYoYS5wb2ludCl7YS5sZWFmfHwoYS5wb2ludC54Kz1NYXRoLnJhbmRvbSgpLS41LGEucG9pbnQueSs9TWF0aC5yYW5kb20oKS0uNSk7dmFyIGo9YipjW2EucG9pbnQuaW5kZXhdO2EuY2hhcmdlKz1hLnBvaW50Q2hhcmdlPWosZCs9aiphLnBvaW50LngsZSs9aiphLnBvaW50Lnl9YS5jeD1kL2EuY2hhcmdlLGEuY3k9ZS9hLmNoYXJnZX1mdW5jdGlvbiBkUShhKXtyZXR1cm4gMjB9ZnVuY3Rpb24gZFIoYSl7cmV0dXJuIDF9ZnVuY3Rpb24gZFQoYSl7cmV0dXJuIGEueH1mdW5jdGlvbiBkVShhKXtyZXR1cm4gYS55fWZ1bmN0aW9uIGRWKGEsYixjKXthLnkwPWIsYS55PWN9ZnVuY3Rpb24gZFkoYSl7cmV0dXJuIGQzLnJhbmdlKGEubGVuZ3RoKX1mdW5jdGlvbiBkWihhKXt2YXIgYj0tMSxjPWFbMF0ubGVuZ3RoLGQ9W107d2hpbGUoKytiPGMpZFtiXT0wO3JldHVybiBkfWZ1bmN0aW9uIGQkKGEpe3ZhciBiPTEsYz0wLGQ9YVswXVsxXSxlLGY9YS5sZW5ndGg7Zm9yKDtiPGY7KytiKShlPWFbYl1bMV0pPmQmJihjPWIsZD1lKTtyZXR1cm4gY31mdW5jdGlvbiBkXyhhKXtyZXR1cm4gYS5yZWR1Y2UoZWEsMCl9ZnVuY3Rpb24gZWEoYSxiKXtyZXR1cm4gYStiWzFdfWZ1bmN0aW9uIGViKGEsYil7cmV0dXJuIGVjKGEsTWF0aC5jZWlsKE1hdGgubG9nKGIubGVuZ3RoKS9NYXRoLkxOMisxKSl9ZnVuY3Rpb24gZWMoYSxiKXt2YXIgYz0tMSxkPSthWzBdLGU9KGFbMV0tZCkvYixmPVtdO3doaWxlKCsrYzw9YilmW2NdPWUqYytkO3JldHVybiBmfWZ1bmN0aW9uIGVkKGEpe3JldHVybltkMy5taW4oYSksZDMubWF4KGEpXX1mdW5jdGlvbiBlZShhLGIpe3JldHVybiBkMy5yZWJpbmQoYSxiLFwic29ydFwiLFwiY2hpbGRyZW5cIixcInZhbHVlXCIpLGEubGlua3M9ZWksYS5ub2Rlcz1mdW5jdGlvbihiKXtyZXR1cm4gZWo9ITAsKGEubm9kZXM9YSkoYil9LGF9ZnVuY3Rpb24gZWYoYSl7cmV0dXJuIGEuY2hpbGRyZW59ZnVuY3Rpb24gZWcoYSl7cmV0dXJuIGEudmFsdWV9ZnVuY3Rpb24gZWgoYSxiKXtyZXR1cm4gYi52YWx1ZS1hLnZhbHVlfWZ1bmN0aW9uIGVpKGEpe3JldHVybiBkMy5tZXJnZShhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4oYS5jaGlsZHJlbnx8W10pLm1hcChmdW5jdGlvbihiKXtyZXR1cm57c291cmNlOmEsdGFyZ2V0OmJ9fSl9KSl9ZnVuY3Rpb24gZWsoYSxiKXtyZXR1cm4gYS52YWx1ZS1iLnZhbHVlfWZ1bmN0aW9uIGVsKGEsYil7dmFyIGM9YS5fcGFja19uZXh0O2EuX3BhY2tfbmV4dD1iLGIuX3BhY2tfcHJldj1hLGIuX3BhY2tfbmV4dD1jLGMuX3BhY2tfcHJldj1ifWZ1bmN0aW9uIGVtKGEsYil7YS5fcGFja19uZXh0PWIsYi5fcGFja19wcmV2PWF9ZnVuY3Rpb24gZW4oYSxiKXt2YXIgYz1iLngtYS54LGQ9Yi55LWEueSxlPWEucitiLnI7cmV0dXJuIGUqZS1jKmMtZCpkPi4wMDF9ZnVuY3Rpb24gZW8oYSl7ZnVuY3Rpb24gbChhKXtiPU1hdGgubWluKGEueC1hLnIsYiksYz1NYXRoLm1heChhLngrYS5yLGMpLGQ9TWF0aC5taW4oYS55LWEucixkKSxlPU1hdGgubWF4KGEueSthLnIsZSl9dmFyIGI9SW5maW5pdHksYz0tSW5maW5pdHksZD1JbmZpbml0eSxlPS1JbmZpbml0eSxmPWEubGVuZ3RoLGcsaCxpLGosazthLmZvckVhY2goZXApLGc9YVswXSxnLng9LWcucixnLnk9MCxsKGcpO2lmKGY+MSl7aD1hWzFdLGgueD1oLnIsaC55PTAsbChoKTtpZihmPjIpe2k9YVsyXSxldChnLGgsaSksbChpKSxlbChnLGkpLGcuX3BhY2tfcHJldj1pLGVsKGksaCksaD1nLl9wYWNrX25leHQ7Zm9yKHZhciBtPTM7bTxmO20rKyl7ZXQoZyxoLGk9YVttXSk7dmFyIG49MCxvPTEscD0xO2ZvcihqPWguX3BhY2tfbmV4dDtqIT09aDtqPWouX3BhY2tfbmV4dCxvKyspaWYoZW4oaixpKSl7bj0xO2JyZWFrfWlmKG49PTEpZm9yKGs9Zy5fcGFja19wcmV2O2shPT1qLl9wYWNrX3ByZXY7az1rLl9wYWNrX3ByZXYscCsrKWlmKGVuKGssaSkpYnJlYWs7bj8obzxwfHxvPT1wJiZoLnI8Zy5yP2VtKGcsaD1qKTplbShnPWssaCksbS0tKTooZWwoZyxpKSxoPWksbChpKSl9fX12YXIgcT0oYitjKS8yLHI9KGQrZSkvMixzPTA7Zm9yKHZhciBtPTA7bTxmO20rKyl7dmFyIHQ9YVttXTt0LngtPXEsdC55LT1yLHM9TWF0aC5tYXgocyx0LnIrTWF0aC5zcXJ0KHQueCp0LngrdC55KnQueSkpfXJldHVybiBhLmZvckVhY2goZXEpLHN9ZnVuY3Rpb24gZXAoYSl7YS5fcGFja19uZXh0PWEuX3BhY2tfcHJldj1hfWZ1bmN0aW9uIGVxKGEpe2RlbGV0ZSBhLl9wYWNrX25leHQsZGVsZXRlIGEuX3BhY2tfcHJldn1mdW5jdGlvbiBlcihhKXt2YXIgYj1hLmNoaWxkcmVuO2ImJmIubGVuZ3RoPyhiLmZvckVhY2goZXIpLGEucj1lbyhiKSk6YS5yPU1hdGguc3FydChhLnZhbHVlKX1mdW5jdGlvbiBlcyhhLGIsYyxkKXt2YXIgZT1hLmNoaWxkcmVuO2EueD1iKz1kKmEueCxhLnk9Yys9ZCphLnksYS5yKj1kO2lmKGUpe3ZhciBmPS0xLGc9ZS5sZW5ndGg7d2hpbGUoKytmPGcpZXMoZVtmXSxiLGMsZCl9fWZ1bmN0aW9uIGV0KGEsYixjKXt2YXIgZD1hLnIrYy5yLGU9Yi54LWEueCxmPWIueS1hLnk7aWYoZCYmKGV8fGYpKXt2YXIgZz1iLnIrYy5yLGg9TWF0aC5zcXJ0KGUqZStmKmYpLGk9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSwoZCpkK2gqaC1nKmcpLygyKmQqaCkpKSxqPU1hdGguYWNvcyhpKSxrPWkqKGQvPWgpLGw9TWF0aC5zaW4oaikqZDtjLng9YS54K2sqZStsKmYsYy55PWEueStrKmYtbCplfWVsc2UgYy54PWEueCtkLGMueT1hLnl9ZnVuY3Rpb24gZXUoYSl7cmV0dXJuIDErZDMubWF4KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEueX0pfWZ1bmN0aW9uIGV2KGEpe3JldHVybiBhLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhK2IueH0sMCkvYS5sZW5ndGh9ZnVuY3Rpb24gZXcoYSl7dmFyIGI9YS5jaGlsZHJlbjtyZXR1cm4gYiYmYi5sZW5ndGg/ZXcoYlswXSk6YX1mdW5jdGlvbiBleChhKXt2YXIgYj1hLmNoaWxkcmVuLGM7cmV0dXJuIGImJihjPWIubGVuZ3RoKT9leChiW2MtMV0pOmF9ZnVuY3Rpb24gZXkoYSxiKXtyZXR1cm4gYS5wYXJlbnQ9PWIucGFyZW50PzE6Mn1mdW5jdGlvbiBleihhKXt2YXIgYj1hLmNoaWxkcmVuO3JldHVybiBiJiZiLmxlbmd0aD9iWzBdOmEuX3RyZWUudGhyZWFkfWZ1bmN0aW9uIGVBKGEpe3ZhciBiPWEuY2hpbGRyZW4sYztyZXR1cm4gYiYmKGM9Yi5sZW5ndGgpP2JbYy0xXTphLl90cmVlLnRocmVhZH1mdW5jdGlvbiBlQihhLGIpe3ZhciBjPWEuY2hpbGRyZW47aWYoYyYmKGU9Yy5sZW5ndGgpKXt2YXIgZCxlLGY9LTE7d2hpbGUoKytmPGUpYihkPWVCKGNbZl0sYiksYSk+MCYmKGE9ZCl9cmV0dXJuIGF9ZnVuY3Rpb24gZUMoYSxiKXtyZXR1cm4gYS54LWIueH1mdW5jdGlvbiBlRChhLGIpe3JldHVybiBiLngtYS54fWZ1bmN0aW9uIGVFKGEsYil7cmV0dXJuIGEuZGVwdGgtYi5kZXB0aH1mdW5jdGlvbiBlRihhLGIpe2Z1bmN0aW9uIGMoYSxkKXt2YXIgZT1hLmNoaWxkcmVuO2lmKGUmJihpPWUubGVuZ3RoKSl7dmFyIGYsZz1udWxsLGg9LTEsaTt3aGlsZSgrK2g8aSlmPWVbaF0sYyhmLGcpLGc9Zn1iKGEsZCl9YyhhLG51bGwpfWZ1bmN0aW9uIGVHKGEpe3ZhciBiPTAsYz0wLGQ9YS5jaGlsZHJlbixlPWQubGVuZ3RoLGY7d2hpbGUoLS1lPj0wKWY9ZFtlXS5fdHJlZSxmLnByZWxpbSs9YixmLm1vZCs9YixiKz1mLnNoaWZ0KyhjKz1mLmNoYW5nZSl9ZnVuY3Rpb24gZUgoYSxiLGMpe2E9YS5fdHJlZSxiPWIuX3RyZWU7dmFyIGQ9Yy8oYi5udW1iZXItYS5udW1iZXIpO2EuY2hhbmdlKz1kLGIuY2hhbmdlLT1kLGIuc2hpZnQrPWMsYi5wcmVsaW0rPWMsYi5tb2QrPWN9ZnVuY3Rpb24gZUkoYSxiLGMpe3JldHVybiBhLl90cmVlLmFuY2VzdG9yLnBhcmVudD09Yi5wYXJlbnQ/YS5fdHJlZS5hbmNlc3RvcjpjfWZ1bmN0aW9uIGVKKGEpe3JldHVybnt4OmEueCx5OmEueSxkeDphLmR4LGR5OmEuZHl9fWZ1bmN0aW9uIGVLKGEsYil7dmFyIGM9YS54K2JbM10sZD1hLnkrYlswXSxlPWEuZHgtYlsxXS1iWzNdLGY9YS5keS1iWzBdLWJbMl07cmV0dXJuIGU8MCYmKGMrPWUvMixlPTApLGY8MCYmKGQrPWYvMixmPTApLHt4OmMseTpkLGR4OmUsZHk6Zn19ZnVuY3Rpb24gZUwoYSl7cmV0dXJuIGEubWFwKGVNKS5qb2luKFwiLFwiKX1mdW5jdGlvbiBlTShhKXtyZXR1cm4vW1wiLFxcbl0vLnRlc3QoYSk/J1wiJythLnJlcGxhY2UoL1xcXCIvZywnXCJcIicpKydcIic6YX1mdW5jdGlvbiBlTyhhLGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYyYmYS5oYXNPd25Qcm9wZXJ0eShjLnR5cGUpP2FbYy50eXBlXShjKTpifX1mdW5jdGlvbiBlUChhKXtyZXR1cm5cIm0wLFwiK2ErXCJhXCIrYStcIixcIithK1wiIDAgMSwxIDAsXCIrIC0yKmErXCJhXCIrYStcIixcIithK1wiIDAgMSwxIDAsXCIrMiphK1wielwifWZ1bmN0aW9uIGVRKGEsYil7ZVIuaGFzT3duUHJvcGVydHkoYS50eXBlKSYmZVJbYS50eXBlXShhLGIpfWZ1bmN0aW9uIGVTKGEsYil7ZVEoYS5nZW9tZXRyeSxiKX1mdW5jdGlvbiBlVChhLGIpe2Zvcih2YXIgYz1hLmZlYXR1cmVzLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspZVEoY1tkXS5nZW9tZXRyeSxiKX1mdW5jdGlvbiBlVShhLGIpe2Zvcih2YXIgYz1hLmdlb21ldHJpZXMsZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyllUShjW2RdLGIpfWZ1bmN0aW9uIGVWKGEsYil7Zm9yKHZhciBjPWEuY29vcmRpbmF0ZXMsZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyliLmFwcGx5KG51bGwsY1tkXSl9ZnVuY3Rpb24gZVcoYSxiKXtmb3IodmFyIGM9YS5jb29yZGluYXRlcyxkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKWZvcih2YXIgZj1jW2RdLGc9MCxoPWYubGVuZ3RoO2c8aDtnKyspYi5hcHBseShudWxsLGZbZ10pfWZ1bmN0aW9uIGVYKGEsYil7Zm9yKHZhciBjPWEuY29vcmRpbmF0ZXMsZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylmb3IodmFyIGY9Y1tkXVswXSxnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKWIuYXBwbHkobnVsbCxmW2ddKX1mdW5jdGlvbiBlWShhLGIpe2IuYXBwbHkobnVsbCxhLmNvb3JkaW5hdGVzKX1mdW5jdGlvbiBlWihhLGIpe2Zvcih2YXIgYz1hLmNvb3JkaW5hdGVzWzBdLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBseShudWxsLGNbZF0pfWZ1bmN0aW9uIGUkKGEpe3JldHVybiBhLnNvdXJjZX1mdW5jdGlvbiBlXyhhKXtyZXR1cm4gYS50YXJnZXR9ZnVuY3Rpb24gZmEoKXtmdW5jdGlvbiBvKGEpe3ZhciBiPU1hdGguc2luKGEqPW0pKm4sYz1NYXRoLnNpbihtLWEpKm4sZz1jKmUrYiprLGg9YypmK2IqbCxpPWMqZCtiKmo7cmV0dXJuW01hdGguYXRhbjIoaCxnKS9lTixNYXRoLmF0YW4yKGksTWF0aC5zcXJ0KGcqZytoKmgpKS9lTl19dmFyIGEsYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbjtyZXR1cm4gby5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBtPT1udWxsJiYobj0xL01hdGguc2luKG09TWF0aC5hY29zKE1hdGgubWF4KC0xLE1hdGgubWluKDEsZCpqK2MqaSpNYXRoLmNvcyhnLWEpKSkpKSksbX0sby5zb3VyY2U9ZnVuY3Rpb24oZyl7dmFyIGg9TWF0aC5jb3MoYT1nWzBdKmVOKSxpPU1hdGguc2luKGEpO3JldHVybiBjPU1hdGguY29zKGI9Z1sxXSplTiksZD1NYXRoLnNpbihiKSxlPWMqaCxmPWMqaSxtPW51bGwsb30sby50YXJnZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5jb3MoZz1hWzBdKmVOKSxjPU1hdGguc2luKGcpO3JldHVybiBpPU1hdGguY29zKGg9YVsxXSplTiksaj1NYXRoLnNpbihoKSxrPWkqYixsPWkqYyxtPW51bGwsb30sb31mdW5jdGlvbiBmYihhLGIpe3ZhciBjPWZhKCkuc291cmNlKGEpLnRhcmdldChiKTtyZXR1cm4gYy5kaXN0YW5jZSgpLGN9ZnVuY3Rpb24gZmUoYSl7dmFyIGI9MCxjPTA7Zm9yKDs7KXtpZihhKGIsYykpcmV0dXJuW2IsY107Yj09PTA/KGI9YysxLGM9MCk6KGItPTEsYys9MSl9fWZ1bmN0aW9uIGZmKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaixrO3JldHVybiBlPWRbYV0sZj1lWzBdLGc9ZVsxXSxlPWRbYl0saD1lWzBdLGk9ZVsxXSxlPWRbY10saj1lWzBdLGs9ZVsxXSwoay1nKSooaC1mKS0oaS1nKSooai1mKT4wfWZ1bmN0aW9uIGZnKGEsYixjKXtyZXR1cm4oY1swXS1iWzBdKSooYVsxXS1iWzFdKTwoY1sxXS1iWzFdKSooYVswXS1iWzBdKX1mdW5jdGlvbiBmaChhLGIsYyxkKXt2YXIgZT1hWzBdLGY9YlswXSxnPWNbMF0saD1kWzBdLGk9YVsxXSxqPWJbMV0saz1jWzFdLGw9ZFsxXSxtPWUtZyxuPWYtZSxvPWgtZyxwPWktayxxPWotaSxyPWwtayxzPShvKnAtciptKS8ocipuLW8qcSk7cmV0dXJuW2UrcypuLGkrcypxXX1mdW5jdGlvbiBmaihhLGIpe3ZhciBjPXtsaXN0OmEubWFwKGZ1bmN0aW9uKGEsYil7cmV0dXJue2luZGV4OmIseDphWzBdLHk6YVsxXX19KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEueTxiLnk/LTE6YS55PmIueT8xOmEueDxiLng/LTE6YS54PmIueD8xOjB9KSxib3R0b21TaXRlOm51bGx9LGQ9e2xpc3Q6W10sbGVmdEVuZDpudWxsLHJpZ2h0RW5kOm51bGwsaW5pdDpmdW5jdGlvbigpe2QubGVmdEVuZD1kLmNyZWF0ZUhhbGZFZGdlKG51bGwsXCJsXCIpLGQucmlnaHRFbmQ9ZC5jcmVhdGVIYWxmRWRnZShudWxsLFwibFwiKSxkLmxlZnRFbmQucj1kLnJpZ2h0RW5kLGQucmlnaHRFbmQubD1kLmxlZnRFbmQsZC5saXN0LnVuc2hpZnQoZC5sZWZ0RW5kLGQucmlnaHRFbmQpfSxjcmVhdGVIYWxmRWRnZTpmdW5jdGlvbihhLGIpe3JldHVybntlZGdlOmEsc2lkZTpiLHZlcnRleDpudWxsLGw6bnVsbCxyOm51bGx9fSxpbnNlcnQ6ZnVuY3Rpb24oYSxiKXtiLmw9YSxiLnI9YS5yLGEuci5sPWIsYS5yPWJ9LGxlZnRCb3VuZDpmdW5jdGlvbihhKXt2YXIgYj1kLmxlZnRFbmQ7ZG8gYj1iLnI7d2hpbGUoYiE9ZC5yaWdodEVuZCYmZS5yaWdodE9mKGIsYSkpO3JldHVybiBiPWIubCxifSxkZWw6ZnVuY3Rpb24oYSl7YS5sLnI9YS5yLGEuci5sPWEubCxhLmVkZ2U9bnVsbH0scmlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucn0sbGVmdDpmdW5jdGlvbihhKXtyZXR1cm4gYS5sfSxsZWZ0UmVnaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhLmVkZ2U9PW51bGw/Yy5ib3R0b21TaXRlOmEuZWRnZS5yZWdpb25bYS5zaWRlXX0scmlnaHRSZWdpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZWRnZT09bnVsbD9jLmJvdHRvbVNpdGU6YS5lZGdlLnJlZ2lvbltmaVthLnNpZGVdXX19LGU9e2Jpc2VjdDpmdW5jdGlvbihhLGIpe3ZhciBjPXtyZWdpb246e2w6YSxyOmJ9LGVwOntsOm51bGwscjpudWxsfX0sZD1iLngtYS54LGU9Yi55LWEueSxmPWQ+MD9kOi1kLGc9ZT4wP2U6LWU7cmV0dXJuIGMuYz1hLngqZCthLnkqZSsoZCpkK2UqZSkqLjUsZj5nPyhjLmE9MSxjLmI9ZS9kLGMuYy89ZCk6KGMuYj0xLGMuYT1kL2UsYy5jLz1lKSxjfSxpbnRlcnNlY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmVkZ2UsZD1iLmVkZ2U7aWYoIWN8fCFkfHxjLnJlZ2lvbi5yPT1kLnJlZ2lvbi5yKXJldHVybiBudWxsO3ZhciBlPWMuYSpkLmItYy5iKmQuYTtpZihNYXRoLmFicyhlKTwxZS0xMClyZXR1cm4gbnVsbDt2YXIgZj0oYy5jKmQuYi1kLmMqYy5iKS9lLGc9KGQuYypjLmEtYy5jKmQuYSkvZSxoPWMucmVnaW9uLnIsaT1kLnJlZ2lvbi5yLGosaztoLnk8aS55fHxoLnk9PWkueSYmaC54PGkueD8oaj1hLGs9Yyk6KGo9YixrPWQpO3ZhciBsPWY+PWsucmVnaW9uLnIueDtyZXR1cm4gbCYmai5zaWRlPT09XCJsXCJ8fCFsJiZqLnNpZGU9PT1cInJcIj9udWxsOnt4OmYseTpnfX0scmlnaHRPZjpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZWRnZSxkPWMucmVnaW9uLnIsZT1iLng+ZC54O2lmKGUmJmEuc2lkZT09PVwibFwiKXJldHVybiAxO2lmKCFlJiZhLnNpZGU9PT1cInJcIilyZXR1cm4gMDtpZihjLmE9PT0xKXt2YXIgZj1iLnktZC55LGc9Yi54LWQueCxoPTAsaT0wOyFlJiZjLmI8MHx8ZSYmYy5iPj0wP2k9aD1mPj1jLmIqZzooaT1iLngrYi55KmMuYj5jLmMsYy5iPDAmJihpPSFpKSxpfHwoaD0xKSk7aWYoIWgpe3ZhciBqPWQueC1jLnJlZ2lvbi5sLng7aT1jLmIqKGcqZy1mKmYpPGoqZiooMSsyKmcvaitjLmIqYy5iKSxjLmI8MCYmKGk9IWkpfX1lbHNle3ZhciBrPWMuYy1jLmEqYi54LGw9Yi55LWssbT1iLngtZC54LG49ay1kLnk7aT1sKmw+bSptK24qbn1yZXR1cm4gYS5zaWRlPT09XCJsXCI/aTohaX0sZW5kUG9pbnQ6ZnVuY3Rpb24oYSxjLGQpe2EuZXBbY109ZDtpZighYS5lcFtmaVtjXV0pcmV0dXJuO2IoYSl9LGRpc3RhbmNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS54LWIueCxkPWEueS1iLnk7cmV0dXJuIE1hdGguc3FydChjKmMrZCpkKX19LGY9e2xpc3Q6W10saW5zZXJ0OmZ1bmN0aW9uKGEsYixjKXthLnZlcnRleD1iLGEueXN0YXI9Yi55K2M7Zm9yKHZhciBkPTAsZT1mLmxpc3QsZz1lLmxlbmd0aDtkPGc7ZCsrKXt2YXIgaD1lW2RdO2lmKGEueXN0YXI+aC55c3Rhcnx8YS55c3Rhcj09aC55c3RhciYmYi54PmgudmVydGV4LngpY29udGludWU7YnJlYWt9ZS5zcGxpY2UoZCwwLGEpfSxkZWw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz1mLmxpc3QsZD1jLmxlbmd0aDtiPGQmJmNbYl0hPWE7KytiKTtjLnNwbGljZShiLDEpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmLmxpc3QubGVuZ3RoPT09MH0sbmV4dEV2ZW50OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9Zi5saXN0LGQ9Yy5sZW5ndGg7YjxkOysrYilpZihjW2JdPT1hKXJldHVybiBjW2IrMV07cmV0dXJuIG51bGx9LG1pbjpmdW5jdGlvbigpe3ZhciBhPWYubGlzdFswXTtyZXR1cm57eDphLnZlcnRleC54LHk6YS55c3Rhcn19LGV4dHJhY3RNaW46ZnVuY3Rpb24oKXtyZXR1cm4gZi5saXN0LnNoaWZ0KCl9fTtkLmluaXQoKSxjLmJvdHRvbVNpdGU9Yy5saXN0LnNoaWZ0KCk7dmFyIGc9Yy5saXN0LnNoaWZ0KCksaCxpLGosayxsLG0sbixvLHAscSxyLHMsdDtmb3IoOzspe2YuZW1wdHkoKXx8KGg9Zi5taW4oKSk7aWYoZyYmKGYuZW1wdHkoKXx8Zy55PGgueXx8Zy55PT1oLnkmJmcueDxoLngpKWk9ZC5sZWZ0Qm91bmQoZyksaj1kLnJpZ2h0KGkpLG49ZC5yaWdodFJlZ2lvbihpKSxzPWUuYmlzZWN0KG4sZyksbT1kLmNyZWF0ZUhhbGZFZGdlKHMsXCJsXCIpLGQuaW5zZXJ0KGksbSkscT1lLmludGVyc2VjdChpLG0pLHEmJihmLmRlbChpKSxmLmluc2VydChpLHEsZS5kaXN0YW5jZShxLGcpKSksaT1tLG09ZC5jcmVhdGVIYWxmRWRnZShzLFwiclwiKSxkLmluc2VydChpLG0pLHE9ZS5pbnRlcnNlY3QobSxqKSxxJiZmLmluc2VydChtLHEsZS5kaXN0YW5jZShxLGcpKSxnPWMubGlzdC5zaGlmdCgpO2Vsc2UgaWYoIWYuZW1wdHkoKSlpPWYuZXh0cmFjdE1pbigpLGs9ZC5sZWZ0KGkpLGo9ZC5yaWdodChpKSxsPWQucmlnaHQoaiksbj1kLmxlZnRSZWdpb24oaSksbz1kLnJpZ2h0UmVnaW9uKGopLHI9aS52ZXJ0ZXgsZS5lbmRQb2ludChpLmVkZ2UsaS5zaWRlLHIpLGUuZW5kUG9pbnQoai5lZGdlLGouc2lkZSxyKSxkLmRlbChpKSxmLmRlbChqKSxkLmRlbChqKSx0PVwibFwiLG4ueT5vLnkmJihwPW4sbj1vLG89cCx0PVwiclwiKSxzPWUuYmlzZWN0KG4sbyksbT1kLmNyZWF0ZUhhbGZFZGdlKHMsdCksZC5pbnNlcnQoayxtKSxlLmVuZFBvaW50KHMsZmlbdF0scikscT1lLmludGVyc2VjdChrLG0pLHEmJihmLmRlbChrKSxmLmluc2VydChrLHEsZS5kaXN0YW5jZShxLG4pKSkscT1lLmludGVyc2VjdChtLGwpLHEmJmYuaW5zZXJ0KG0scSxlLmRpc3RhbmNlKHEsbikpO2Vsc2UgYnJlYWt9Zm9yKGk9ZC5yaWdodChkLmxlZnRFbmQpO2khPWQucmlnaHRFbmQ7aT1kLnJpZ2h0KGkpKWIoaS5lZGdlKX1mdW5jdGlvbiBmaygpe3JldHVybntsZWFmOiEwLG5vZGVzOltdLHBvaW50Om51bGx9fWZ1bmN0aW9uIGZsKGEsYixjLGQsZSxmKXtpZighYShiLGMsZCxlLGYpKXt2YXIgZz0oYytlKSouNSxoPShkK2YpKi41LGk9Yi5ub2RlcztpWzBdJiZmbChhLGlbMF0sYyxkLGcsaCksaVsxXSYmZmwoYSxpWzFdLGcsZCxlLGgpLGlbMl0mJmZsKGEsaVsyXSxjLGgsZyxmKSxpWzNdJiZmbChhLGlbM10sZyxoLGUsZil9fWZ1bmN0aW9uIGZtKGEpe3JldHVybnt4OmFbMF0seTphWzFdfX1mdW5jdGlvbiBmbygpe3RoaXMuXz1uZXcgRGF0ZShhcmd1bWVudHMubGVuZ3RoPjE/RGF0ZS5VVEMuYXBwbHkodGhpcyxhcmd1bWVudHMpOmFyZ3VtZW50c1swXSl9ZnVuY3Rpb24gZnEoYSxiLGMsZCl7dmFyIGUsZixnPTAsaD1iLmxlbmd0aCxpPWMubGVuZ3RoO3doaWxlKGc8aCl7aWYoZD49aSlyZXR1cm4tMTtlPWIuY2hhckNvZGVBdChnKyspO2lmKGU9PTM3KXtmPWZ3W2IuY2hhckF0KGcrKyldO2lmKCFmfHwoZD1mKGEsYyxkKSk8MClyZXR1cm4tMX1lbHNlIGlmKGUhPWMuY2hhckNvZGVBdChkKyspKXJldHVybi0xfXJldHVybiBkfWZ1bmN0aW9uIGZ4KGEsYixjKXtyZXR1cm4gZnoudGVzdChiLnN1YnN0cmluZyhjLGMrPTMpKT9jOi0xfWZ1bmN0aW9uIGZ5KGEsYixjKXtmQS5sYXN0SW5kZXg9MDt2YXIgZD1mQS5leGVjKGIuc3Vic3RyaW5nKGMsYysxMCkpO3JldHVybiBkP2MrPWRbMF0ubGVuZ3RoOi0xfWZ1bmN0aW9uIGZDKGEsYixjKXt2YXIgZD1mRC5nZXQoYi5zdWJzdHJpbmcoYyxjKz0zKS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gZD09bnVsbD8tMTooYS5tPWQsYyl9ZnVuY3Rpb24gZkUoYSxiLGMpe2ZGLmxhc3RJbmRleD0wO3ZhciBkPWZGLmV4ZWMoYi5zdWJzdHJpbmcoYyxjKzEyKSk7cmV0dXJuIGQ/KGEubT1mRy5nZXQoZFswXS50b0xvd2VyQ2FzZSgpKSxjKz1kWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZkkoYSxiLGMpe3JldHVybiBmcShhLGZ2LmMudG9TdHJpbmcoKSxiLGMpfWZ1bmN0aW9uIGZKKGEsYixjKXtyZXR1cm4gZnEoYSxmdi54LnRvU3RyaW5nKCksYixjKX1mdW5jdGlvbiBmSyhhLGIsYyl7cmV0dXJuIGZxKGEsZnYuWC50b1N0cmluZygpLGIsYyl9ZnVuY3Rpb24gZkwoYSxiLGMpe2ZVLmxhc3RJbmRleD0wO3ZhciBkPWZVLmV4ZWMoYi5zdWJzdHJpbmcoYyxjKzQpKTtyZXR1cm4gZD8oYS55PStkWzBdLGMrPWRbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBmTShhLGIsYyl7ZlUubGFzdEluZGV4PTA7dmFyIGQ9ZlUuZXhlYyhiLnN1YnN0cmluZyhjLGMrMikpO3JldHVybiBkPyhhLnk9Zk4oKSsgK2RbMF0sYys9ZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGZOKCl7cmV0dXJufn4oKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLzFlMykqMWUzfWZ1bmN0aW9uIGZPKGEsYixjKXtmVS5sYXN0SW5kZXg9MDt2YXIgZD1mVS5leGVjKGIuc3Vic3RyaW5nKGMsYysyKSk7cmV0dXJuIGQ/KGEubT1kWzBdLTEsYys9ZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGZQKGEsYixjKXtmVS5sYXN0SW5kZXg9MDt2YXIgZD1mVS5leGVjKGIuc3Vic3RyaW5nKGMsYysyKSk7cmV0dXJuIGQ/KGEuZD0rZFswXSxjKz1kWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZlEoYSxiLGMpe2ZVLmxhc3RJbmRleD0wO3ZhciBkPWZVLmV4ZWMoYi5zdWJzdHJpbmcoYyxjKzIpKTtyZXR1cm4gZD8oYS5IPStkWzBdLGMrPWRbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBmUihhLGIsYyl7ZlUubGFzdEluZGV4PTA7dmFyIGQ9ZlUuZXhlYyhiLnN1YnN0cmluZyhjLGMrMikpO3JldHVybiBkPyhhLk09K2RbMF0sYys9ZFswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGZTKGEsYixjKXtmVS5sYXN0SW5kZXg9MDt2YXIgZD1mVS5leGVjKGIuc3Vic3RyaW5nKGMsYysyKSk7cmV0dXJuIGQ/KGEuUz0rZFswXSxjKz1kWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZlQoYSxiLGMpe2ZVLmxhc3RJbmRleD0wO3ZhciBkPWZVLmV4ZWMoYi5zdWJzdHJpbmcoYyxjKzMpKTtyZXR1cm4gZD8oYS5MPStkWzBdLGMrPWRbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBmVihhLGIsYyl7dmFyIGQ9ZlcuZ2V0KGIuc3Vic3RyaW5nKGMsYys9MikudG9Mb3dlckNhc2UoKSk7cmV0dXJuIGQ9PW51bGw/LTE6KGEucD1kLGMpfWZ1bmN0aW9uIGZYKGEpe3ZhciBiPWEuZ2V0VGltZXpvbmVPZmZzZXQoKSxjPWI+MD9cIi1cIjpcIitcIixkPX5+KE1hdGguYWJzKGIpLzYwKSxlPU1hdGguYWJzKGIpJTYwO3JldHVybiBjK2ZyKGQpK2ZyKGUpfWZ1bmN0aW9uIGZaKGEpe3JldHVybiBhLnRvSVNPU3RyaW5nKCl9ZnVuY3Rpb24gZiQoYSxiLGMpe2Z1bmN0aW9uIGQoYil7dmFyIGM9YShiKSxkPWYoYywxKTtyZXR1cm4gYi1jPGQtYj9jOmR9ZnVuY3Rpb24gZShjKXtyZXR1cm4gYihjPWEobmV3IGZuKGMtMSkpLDEpLGN9ZnVuY3Rpb24gZihhLGMpe3JldHVybiBiKGE9bmV3IGZuKCthKSxjKSxhfWZ1bmN0aW9uIGcoYSxkLGYpe3ZhciBnPWUoYSksaD1bXTtpZihmPjEpd2hpbGUoZzxkKWMoZyklZnx8aC5wdXNoKG5ldyBEYXRlKCtnKSksYihnLDEpO2Vsc2Ugd2hpbGUoZzxkKWgucHVzaChuZXcgRGF0ZSgrZykpLGIoZywxKTtyZXR1cm4gaH1mdW5jdGlvbiBoKGEsYixjKXt0cnl7XG5mbj1mbzt2YXIgZD1uZXcgZm87cmV0dXJuIGQuXz1hLGcoZCxiLGMpfWZpbmFsbHl7Zm49RGF0ZX19YS5mbG9vcj1hLGEucm91bmQ9ZCxhLmNlaWw9ZSxhLm9mZnNldD1mLGEucmFuZ2U9Zzt2YXIgaT1hLnV0Yz1mXyhhKTtyZXR1cm4gaS5mbG9vcj1pLGkucm91bmQ9Zl8oZCksaS5jZWlsPWZfKGUpLGkub2Zmc2V0PWZfKGYpLGkucmFuZ2U9aCxhfWZ1bmN0aW9uIGZfKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3RyeXtmbj1mbzt2YXIgZD1uZXcgZm87cmV0dXJuIGQuXz1iLGEoZCxjKS5ffWZpbmFsbHl7Zm49RGF0ZX19fWZ1bmN0aW9uIGdhKGEsYixjKXtmdW5jdGlvbiBkKGIpe3JldHVybiBhKGIpfXJldHVybiBkLmludmVydD1mdW5jdGlvbihiKXtyZXR1cm4gZ2MoYS5pbnZlcnQoYikpfSxkLmRvbWFpbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYS5kb21haW4oYiksZCk6YS5kb21haW4oKS5tYXAoZ2MpfSxkLm5pY2U9ZnVuY3Rpb24oYSl7dmFyIGI9Z2IoZC5kb21haW4oKSk7cmV0dXJuIGQuZG9tYWluKFthLmZsb29yKGJbMF0pLGEuY2VpbChiWzFdKV0pfSxkLnRpY2tzPWZ1bmN0aW9uKGMsZSl7dmFyIGY9Z2IoZC5kb21haW4oKSk7aWYodHlwZW9mIGMhPVwiZnVuY3Rpb25cIil7dmFyIGc9ZlsxXS1mWzBdLGg9Zy9jLGk9ZDMuYmlzZWN0KGdnLGgpO2lmKGk9PWdnLmxlbmd0aClyZXR1cm4gYi55ZWFyKGYsYyk7aWYoIWkpcmV0dXJuIGEudGlja3MoYykubWFwKGdjKTtNYXRoLmxvZyhoL2dnW2ktMV0pPE1hdGgubG9nKGdnW2ldL2gpJiYtLWksYz1iW2ldLGU9Y1sxXSxjPWNbMF0ucmFuZ2V9cmV0dXJuIGMoZlswXSxuZXcgRGF0ZSgrZlsxXSsxKSxlKX0sZC50aWNrRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIGN9LGQuY29weT1mdW5jdGlvbigpe3JldHVybiBnYShhLmNvcHkoKSxiLGMpfSxkMy5yZWJpbmQoZCxhLFwicmFuZ2VcIixcInJhbmdlUm91bmRcIixcImludGVycG9sYXRlXCIsXCJjbGFtcFwiKX1mdW5jdGlvbiBnYihhKXt2YXIgYj1hWzBdLGM9YVthLmxlbmd0aC0xXTtyZXR1cm4gYjxjP1tiLGNdOltjLGJdfWZ1bmN0aW9uIGdjKGEpe3JldHVybiBuZXcgRGF0ZShhKX1mdW5jdGlvbiBnZChhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9YS5sZW5ndGgtMSxkPWFbY107d2hpbGUoIWRbMV0oYikpZD1hWy0tY107cmV0dXJuIGRbMF0oYil9fWZ1bmN0aW9uIGdlKGEpe3ZhciBiPW5ldyBEYXRlKGEsMCwxKTtyZXR1cm4gYi5zZXRGdWxsWWVhcihhKSxifWZ1bmN0aW9uIGdmKGEpe3ZhciBiPWEuZ2V0RnVsbFllYXIoKSxjPWdlKGIpLGQ9Z2UoYisxKTtyZXR1cm4gYisoYS1jKS8oZC1jKX1mdW5jdGlvbiBnbyhhKXt2YXIgYj1uZXcgRGF0ZShEYXRlLlVUQyhhLDAsMSkpO3JldHVybiBiLnNldFVUQ0Z1bGxZZWFyKGEpLGJ9ZnVuY3Rpb24gZ3AoYSl7dmFyIGI9YS5nZXRVVENGdWxsWWVhcigpLGM9Z28oYiksZD1nbyhiKzEpO3JldHVybiBiKyhhLWMpLyhkLWMpfURhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4rKG5ldyBEYXRlKX0pO3RyeXtkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLnNldFByb3BlcnR5KFwib3BhY2l0eVwiLDAsXCJcIil9Y2F0Y2goYSl7dmFyIGI9Q1NTU3R5bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUsYz1iLnNldFByb3BlcnR5O2Iuc2V0UHJvcGVydHk9ZnVuY3Rpb24oYSxiLGQpe2MuY2FsbCh0aGlzLGEsYitcIlwiLGQpfX1kMz17dmVyc2lvbjpcIjIuOS42XCJ9O3ZhciBlPWc7dHJ5e2UoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNoaWxkTm9kZXMpWzBdLm5vZGVUeXBlfWNhdGNoKGgpe2U9Zn12YXIgaT1bXS5fX3Byb3RvX18/ZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1ifTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBiKWFbY109YltjXX07ZDMubWFwPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBqO2Zvcih2YXIgYyBpbiBhKWIuc2V0KGMsYVtjXSk7cmV0dXJuIGJ9LGQoaix7aGFzOmZ1bmN0aW9uKGEpe3JldHVybiBrK2EgaW4gdGhpc30sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2srYV19LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzW2srYV09Yn0scmVtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiBhPWsrYSxhIGluIHRoaXMmJmRlbGV0ZSB0aGlzW2FdfSxrZXlzOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihiKXthLnB1c2goYil9KSxhfSx2YWx1ZXM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIsYyl7YS5wdXNoKGMpfSksYX0sZW50cmllczpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oYixjKXthLnB1c2goe2tleTpiLHZhbHVlOmN9KX0pLGF9LGZvckVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMpYi5jaGFyQ29kZUF0KDApPT09bCYmYS5jYWxsKHRoaXMsYi5zdWJzdHJpbmcoMSksdGhpc1tiXSl9fSk7dmFyIGs9XCJcXDBcIixsPWsuY2hhckNvZGVBdCgwKTtkMy5mdW5jdG9yPXAsZDMucmViaW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9MSxkPWFyZ3VtZW50cy5sZW5ndGgsZTt3aGlsZSgrK2M8ZClhW2U9YXJndW1lbnRzW2NdXT1xKGEsYixiW2VdKTtyZXR1cm4gYX0sZDMuYXNjZW5kaW5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTphPj1iPzA6TmFOfSxkMy5kZXNjZW5kaW5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGI8YT8tMTpiPmE/MTpiPj1hPzA6TmFOfSxkMy5tZWFuPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZCxlPTAsZj0tMSxnPTA7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpd2hpbGUoKytmPGMpcihkPWFbZl0pJiYoZSs9KGQtZSkvKytnKTtlbHNlIHdoaWxlKCsrZjxjKXIoZD1iLmNhbGwoYSxhW2ZdLGYpKSYmKGUrPShkLWUpLysrZyk7cmV0dXJuIGc/ZTp1bmRlZmluZWR9LGQzLm1lZGlhbj1mdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJihhPWEubWFwKGIpKSxhPWEuZmlsdGVyKHIpLGEubGVuZ3RoP2QzLnF1YW50aWxlKGEuc29ydChkMy5hc2NlbmRpbmcpLC41KTp1bmRlZmluZWR9LGQzLm1pbj1mdW5jdGlvbihhLGIpe3ZhciBjPS0xLGQ9YS5sZW5ndGgsZSxmO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXt3aGlsZSgrK2M8ZCYmKChlPWFbY10pPT1udWxsfHxlIT1lKSllPXVuZGVmaW5lZDt3aGlsZSgrK2M8ZCkoZj1hW2NdKSE9bnVsbCYmZT5mJiYoZT1mKX1lbHNle3doaWxlKCsrYzxkJiYoKGU9Yi5jYWxsKGEsYVtjXSxjKSk9PW51bGx8fGUhPWUpKWU9dW5kZWZpbmVkO3doaWxlKCsrYzxkKShmPWIuY2FsbChhLGFbY10sYykpIT1udWxsJiZlPmYmJihlPWYpfXJldHVybiBlfSxkMy5tYXg9ZnVuY3Rpb24oYSxiKXt2YXIgYz0tMSxkPWEubGVuZ3RoLGUsZjtpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7d2hpbGUoKytjPGQmJigoZT1hW2NdKT09bnVsbHx8ZSE9ZSkpZT11bmRlZmluZWQ7d2hpbGUoKytjPGQpKGY9YVtjXSkhPW51bGwmJmY+ZSYmKGU9Zil9ZWxzZXt3aGlsZSgrK2M8ZCYmKChlPWIuY2FsbChhLGFbY10sYykpPT1udWxsfHxlIT1lKSllPXVuZGVmaW5lZDt3aGlsZSgrK2M8ZCkoZj1iLmNhbGwoYSxhW2NdLGMpKSE9bnVsbCYmZj5lJiYoZT1mKX1yZXR1cm4gZX0sZDMuZXh0ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9LTEsZD1hLmxlbmd0aCxlLGYsZztpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7d2hpbGUoKytjPGQmJigoZT1nPWFbY10pPT1udWxsfHxlIT1lKSllPWc9dW5kZWZpbmVkO3doaWxlKCsrYzxkKShmPWFbY10pIT1udWxsJiYoZT5mJiYoZT1mKSxnPGYmJihnPWYpKX1lbHNle3doaWxlKCsrYzxkJiYoKGU9Zz1iLmNhbGwoYSxhW2NdLGMpKT09bnVsbHx8ZSE9ZSkpZT11bmRlZmluZWQ7d2hpbGUoKytjPGQpKGY9Yi5jYWxsKGEsYVtjXSxjKSkhPW51bGwmJihlPmYmJihlPWYpLGc8ZiYmKGc9ZikpfXJldHVybltlLGddfSxkMy5yYW5kb209e25vcm1hbDpmdW5jdGlvbihhLGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJihiPTEpLGFyZ3VtZW50cy5sZW5ndGg8MSYmKGE9MCksZnVuY3Rpb24oKXt2YXIgYyxkLGU7ZG8gYz1NYXRoLnJhbmRvbSgpKjItMSxkPU1hdGgucmFuZG9tKCkqMi0xLGU9YypjK2QqZDt3aGlsZSghZXx8ZT4xKTtyZXR1cm4gYStiKmMqTWF0aC5zcXJ0KC0yKk1hdGgubG9nKGUpL2UpfX19LGQzLnN1bT1mdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1hLmxlbmd0aCxlLGY9LTE7aWYoYXJndW1lbnRzLmxlbmd0aD09PTEpd2hpbGUoKytmPGQpaXNOYU4oZT0rYVtmXSl8fChjKz1lKTtlbHNlIHdoaWxlKCsrZjxkKWlzTmFOKGU9K2IuY2FsbChhLGFbZl0sZikpfHwoYys9ZSk7cmV0dXJuIGN9LGQzLnF1YW50aWxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9KGEubGVuZ3RoLTEpKmIrMSxkPU1hdGguZmxvb3IoYyksZT1hW2QtMV0sZj1jLWQ7cmV0dXJuIGY/ZStmKihhW2RdLWUpOmV9LGQzLnRyYW5zcG9zZT1mdW5jdGlvbihhKXtyZXR1cm4gZDMuemlwLmFwcGx5KGQzLGEpfSxkMy56aXA9ZnVuY3Rpb24oKXtpZighKGU9YXJndW1lbnRzLmxlbmd0aCkpcmV0dXJuW107Zm9yKHZhciBhPS0xLGI9ZDMubWluKGFyZ3VtZW50cyxzKSxjPW5ldyBBcnJheShiKTsrK2E8YjspZm9yKHZhciBkPS0xLGUsZj1jW2FdPW5ldyBBcnJheShlKTsrK2Q8ZTspZltkXT1hcmd1bWVudHNbZF1bYV07cmV0dXJuIGN9LGQzLmJpc2VjdG9yPWZ1bmN0aW9uKGEpe3JldHVybntsZWZ0OmZ1bmN0aW9uKGIsYyxkLGUpe2FyZ3VtZW50cy5sZW5ndGg8MyYmKGQ9MCksYXJndW1lbnRzLmxlbmd0aDw0JiYoZT1iLmxlbmd0aCk7d2hpbGUoZDxlKXt2YXIgZj1kK2U+PjE7YS5jYWxsKGIsYltmXSxmKTxjP2Q9ZisxOmU9Zn1yZXR1cm4gZH0scmlnaHQ6ZnVuY3Rpb24oYixjLGQsZSl7YXJndW1lbnRzLmxlbmd0aDwzJiYoZD0wKSxhcmd1bWVudHMubGVuZ3RoPDQmJihlPWIubGVuZ3RoKTt3aGlsZShkPGUpe3ZhciBmPWQrZT4+MTtjPGEuY2FsbChiLGJbZl0sZik/ZT1mOmQ9ZisxfXJldHVybiBkfX19O3ZhciB0PWQzLmJpc2VjdG9yKGZ1bmN0aW9uKGEpe3JldHVybiBhfSk7ZDMuYmlzZWN0TGVmdD10LmxlZnQsZDMuYmlzZWN0PWQzLmJpc2VjdFJpZ2h0PXQucmlnaHQsZDMuZmlyc3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9YS5sZW5ndGgsZT1hWzBdLGY7YXJndW1lbnRzLmxlbmd0aD09PTEmJihiPWQzLmFzY2VuZGluZyk7d2hpbGUoKytjPGQpYi5jYWxsKGEsZSxmPWFbY10pPjAmJihlPWYpO3JldHVybiBlfSxkMy5sYXN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPWEubGVuZ3RoLGU9YVswXSxmO2FyZ3VtZW50cy5sZW5ndGg9PT0xJiYoYj1kMy5hc2NlbmRpbmcpO3doaWxlKCsrYzxkKWIuY2FsbChhLGUsZj1hW2NdKTw9MCYmKGU9Zik7cmV0dXJuIGV9LGQzLm5lc3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGMsZyl7aWYoZz49Yi5sZW5ndGgpcmV0dXJuIGU/ZS5jYWxsKGEsYyk6ZD9jLnNvcnQoZCk6Yzt2YXIgaD0tMSxpPWMubGVuZ3RoLGs9YltnKytdLGwsbSxuPW5ldyBqLG8scD17fTt3aGlsZSgrK2g8aSkobz1uLmdldChsPWsobT1jW2hdKSkpP28ucHVzaChtKTpuLnNldChsLFttXSk7cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihhKXtwW2FdPWYobi5nZXQoYSksZyl9KSxwfWZ1bmN0aW9uIGcoYSxkKXtpZihkPj1iLmxlbmd0aClyZXR1cm4gYTt2YXIgZT1bXSxmPWNbZCsrXSxoO2ZvcihoIGluIGEpZS5wdXNoKHtrZXk6aCx2YWx1ZXM6ZyhhW2hdLGQpfSk7cmV0dXJuIGYmJmUuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEua2V5LGIua2V5KX0pLGV9dmFyIGE9e30sYj1bXSxjPVtdLGQsZTtyZXR1cm4gYS5tYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSwwKX0sYS5lbnRyaWVzPWZ1bmN0aW9uKGEpe3JldHVybiBnKGYoYSwwKSwwKX0sYS5rZXk9ZnVuY3Rpb24oYyl7cmV0dXJuIGIucHVzaChjKSxhfSxhLnNvcnRLZXlzPWZ1bmN0aW9uKGQpe3JldHVybiBjW2IubGVuZ3RoLTFdPWQsYX0sYS5zb3J0VmFsdWVzPWZ1bmN0aW9uKGIpe3JldHVybiBkPWIsYX0sYS5yb2xsdXA9ZnVuY3Rpb24oYil7cmV0dXJuIGU9YixhfSxhfSxkMy5rZXlzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChjKTtyZXR1cm4gYn0sZDMudmFsdWVzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWIucHVzaChhW2NdKTtyZXR1cm4gYn0sZDMuZW50cmllcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSliLnB1c2goe2tleTpjLHZhbHVlOmFbY119KTtyZXR1cm4gYn0sZDMucGVybXV0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9LTEsZT1iLmxlbmd0aDt3aGlsZSgrK2Q8ZSljW2RdPWFbYltkXV07cmV0dXJuIGN9LGQzLm1lcmdlPWZ1bmN0aW9uKGEpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGEpfSxkMy5zcGxpdD1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9W10sZSxmPS0xLGc9YS5sZW5ndGg7YXJndW1lbnRzLmxlbmd0aDwyJiYoYj11KTt3aGlsZSgrK2Y8ZyliLmNhbGwoZCxlPWFbZl0sZik/ZD1bXTooZC5sZW5ndGh8fGMucHVzaChkKSxkLnB1c2goZSkpO3JldHVybiBjfSxkMy5yYW5nZT1mdW5jdGlvbihhLGIsYyl7YXJndW1lbnRzLmxlbmd0aDwzJiYoYz0xLGFyZ3VtZW50cy5sZW5ndGg8MiYmKGI9YSxhPTApKTtpZigoYi1hKS9jPT09SW5maW5pdHkpdGhyb3cgbmV3IEVycm9yKFwiaW5maW5pdGUgcmFuZ2VcIik7dmFyIGQ9W10sZT13KE1hdGguYWJzKGMpKSxmPS0xLGc7YSo9ZSxiKj1lLGMqPWU7aWYoYzwwKXdoaWxlKChnPWErYyorK2YpPmIpZC5wdXNoKGcvZSk7ZWxzZSB3aGlsZSgoZz1hK2MqKytmKTxiKWQucHVzaChnL2UpO3JldHVybiBkfSxkMy5yZXF1b3RlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoeCxcIlxcXFwkJlwiKX07dmFyIHg9L1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nO2QzLnJvdW5kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/TWF0aC5yb3VuZChhKihiPU1hdGgucG93KDEwLGIpKSkvYjpNYXRoLnJvdW5kKGEpfSxkMy54aHI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBYTUxIdHRwUmVxdWVzdDthcmd1bWVudHMubGVuZ3RoPDM/KGM9YixiPW51bGwpOmImJmQub3ZlcnJpZGVNaW1lVHlwZSYmZC5vdmVycmlkZU1pbWVUeXBlKGIpLGQub3BlbihcIkdFVFwiLGEsITApLGImJmQuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLGIpLGQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoZC5yZWFkeVN0YXRlPT09NCl7dmFyIGE9ZC5zdGF0dXM7YyghYSYmZC5yZXNwb25zZXx8YT49MjAwJiZhPDMwMHx8YT09PTMwND9kOm51bGwpfX0sZC5zZW5kKG51bGwpfSxkMy50ZXh0PWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2MoYSYmYS5yZXNwb25zZVRleHQpfWFyZ3VtZW50cy5sZW5ndGg8MyYmKGM9YixiPW51bGwpLGQzLnhocihhLGIsZCl9LGQzLmpzb249ZnVuY3Rpb24oYSxiKXtkMy50ZXh0KGEsXCJhcHBsaWNhdGlvbi9qc29uXCIsZnVuY3Rpb24oYSl7YihhP0pTT04ucGFyc2UoYSk6bnVsbCl9KX0sZDMuaHRtbD1mdW5jdGlvbihhLGIpe2QzLnRleHQoYSxcInRleHQvaHRtbFwiLGZ1bmN0aW9uKGEpe2lmKGEhPW51bGwpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7Yy5zZWxlY3ROb2RlKGRvY3VtZW50LmJvZHkpLGE9Yy5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSl9YihhKX0pfSxkMy54bWw9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7YyhhJiZhLnJlc3BvbnNlWE1MKX1hcmd1bWVudHMubGVuZ3RoPDMmJihjPWIsYj1udWxsKSxkMy54aHIoYSxiLGQpfTt2YXIgeT17c3ZnOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix4aHRtbDpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIix4bGluazpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIix4bWw6XCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCJ9O2QzLm5zPXtwcmVmaXg6eSxxdWFsaWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEuaW5kZXhPZihcIjpcIiksYz1hO3JldHVybiBiPj0wJiYoYz1hLnN1YnN0cmluZygwLGIpLGE9YS5zdWJzdHJpbmcoYisxKSkseS5oYXNPd25Qcm9wZXJ0eShjKT97c3BhY2U6eVtjXSxsb2NhbDphfTphfX0sZDMuZGlzcGF0Y2g9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeixiPS0xLGM9YXJndW1lbnRzLmxlbmd0aDt3aGlsZSgrK2I8YylhW2FyZ3VtZW50c1tiXV09QShhKTtyZXR1cm4gYX0sei5wcm90b3R5cGUub249ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmluZGV4T2YoXCIuXCIpLGQ9XCJcIjtyZXR1cm4gYz4wJiYoZD1hLnN1YnN0cmluZyhjKzEpLGE9YS5zdWJzdHJpbmcoMCxjKSksYXJndW1lbnRzLmxlbmd0aDwyP3RoaXNbYV0ub24oZCk6dGhpc1thXS5vbihkLGIpfSxkMy5mb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9Qi5leGVjKGEpLGM9YlsxXXx8XCIgXCIsZD1iWzNdfHxcIlwiLGU9Yls1XSxmPStiWzZdLGc9Yls3XSxoPWJbOF0saT1iWzldLGo9MSxrPVwiXCIsbD0hMTtoJiYoaD0raC5zdWJzdHJpbmcoMSkpLGUmJihjPVwiMFwiLGcmJihmLT1NYXRoLmZsb29yKChmLTEpLzQpKSk7c3dpdGNoKGkpe2Nhc2VcIm5cIjpnPSEwLGk9XCJnXCI7YnJlYWs7Y2FzZVwiJVwiOmo9MTAwLGs9XCIlXCIsaT1cImZcIjticmVhaztjYXNlXCJwXCI6aj0xMDAsaz1cIiVcIixpPVwiclwiO2JyZWFrO2Nhc2VcImRcIjpsPSEwLGg9MDticmVhaztjYXNlXCJzXCI6aj0tMSxpPVwiclwifXJldHVybiBpPT1cInJcIiYmIWgmJihpPVwiZ1wiKSxpPUMuZ2V0KGkpfHxFLGZ1bmN0aW9uKGEpe2lmKGwmJmElMSlyZXR1cm5cIlwiO3ZhciBiPWE8MCYmKGE9LWEpP1wi4oiSXCI6ZDtpZihqPDApe3ZhciBtPWQzLmZvcm1hdFByZWZpeChhLGgpO2E9bS5zY2FsZShhKSxrPW0uc3ltYm9sfWVsc2UgYSo9ajthPWkoYSxoKTtpZihlKXt2YXIgbj1hLmxlbmd0aCtiLmxlbmd0aDtuPGYmJihhPShuZXcgQXJyYXkoZi1uKzEpKS5qb2luKGMpK2EpLGcmJihhPUYoYSkpLGE9YithfWVsc2V7ZyYmKGE9RihhKSksYT1iK2E7dmFyIG49YS5sZW5ndGg7bjxmJiYoYT0obmV3IEFycmF5KGYtbisxKSkuam9pbihjKSthKX1yZXR1cm4gYStrfX07dmFyIEI9Lyg/OihbXntdKT8oWzw+PV5dKSk/KFsrXFwtIF0pPygjKT8oMCk/KFswLTldKyk/KCwpPyhcXC5bMC05XSspPyhbYS16QS1aJV0pPy8sQz1kMy5tYXAoe2c6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50b1ByZWNpc2lvbihiKX0sZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnRvRXhwb25lbnRpYWwoYil9LGY6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50b0ZpeGVkKGIpfSxyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQzLnJvdW5kKGEsYj1EKGEsYikpLnRvRml4ZWQoTWF0aC5tYXgoMCxNYXRoLm1pbigyMCxiKSkpfX0pLEc9W1wieVwiLFwielwiLFwiYVwiLFwiZlwiLFwicFwiLFwiblwiLFwizrxcIixcIm1cIixcIlwiLFwia1wiLFwiTVwiLFwiR1wiLFwiVFwiLFwiUFwiLFwiRVwiLFwiWlwiLFwiWVwiXS5tYXAoSCk7ZDMuZm9ybWF0UHJlZml4PWZ1bmN0aW9uKGEsYil7dmFyIGM9MDtyZXR1cm4gYSYmKGE8MCYmKGEqPS0xKSxiJiYoYT1kMy5yb3VuZChhLEQoYSxiKSkpLGM9MStNYXRoLmZsb29yKDFlLTEyK01hdGgubG9nKGEpL01hdGguTE4xMCksYz1NYXRoLm1heCgtMjQsTWF0aC5taW4oMjQsTWF0aC5mbG9vcigoYzw9MD9jKzE6Yy0xKS8zKSozKSkpLEdbOCtjLzNdfTt2YXIgST1SKDIpLEo9UigzKSxLPWZ1bmN0aW9uKCl7cmV0dXJuIFF9LEw9ZDMubWFwKHtsaW5lYXI6Syxwb2x5OlIscXVhZDpmdW5jdGlvbigpe3JldHVybiBJfSxjdWJpYzpmdW5jdGlvbigpe3JldHVybiBKfSxzaW46ZnVuY3Rpb24oKXtyZXR1cm4gU30sZXhwOmZ1bmN0aW9uKCl7cmV0dXJuIFR9LGNpcmNsZTpmdW5jdGlvbigpe3JldHVybiBVfSxlbGFzdGljOlYsYmFjazpXLGJvdW5jZTpmdW5jdGlvbigpe3JldHVybiBYfX0pLE09ZDMubWFwKHtcImluXCI6USxvdXQ6TyxcImluLW91dFwiOlAsXCJvdXQtaW5cIjpmdW5jdGlvbihhKXtyZXR1cm4gUChPKGEpKX19KTtkMy5lYXNlPWZ1bmN0aW9uKGEpe3ZhciBiPWEuaW5kZXhPZihcIi1cIiksYz1iPj0wP2Euc3Vic3RyaW5nKDAsYik6YSxkPWI+PTA/YS5zdWJzdHJpbmcoYisxKTpcImluXCI7cmV0dXJuIGM9TC5nZXQoYyl8fEssZD1NLmdldChkKXx8USxOKGQoYy5hcHBseShudWxsLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSkpKX0sZDMuZXZlbnQ9bnVsbCxkMy5pbnRlcnBvbGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPWQzLmludGVycG9sYXRvcnMubGVuZ3RoLGQ7d2hpbGUoLS1jPj0wJiYhKGQ9ZDMuaW50ZXJwb2xhdG9yc1tjXShhLGIpKSk7cmV0dXJuIGR9LGQzLmludGVycG9sYXRlTnVtYmVyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGItPWEsZnVuY3Rpb24oYyl7cmV0dXJuIGErYipjfX0sZDMuaW50ZXJwb2xhdGVSb3VuZD1mdW5jdGlvbihhLGIpe3JldHVybiBiLT1hLGZ1bmN0aW9uKGMpe3JldHVybiBNYXRoLnJvdW5kKGErYipjKX19LGQzLmludGVycG9sYXRlU3RyaW5nPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9MCxnPTAsaD1bXSxpPVtdLGosaztfLmxhc3RJbmRleD0wO2ZvcihkPTA7Yz1fLmV4ZWMoYik7KytkKWMuaW5kZXgmJmgucHVzaChiLnN1YnN0cmluZyhmLGc9Yy5pbmRleCkpLGkucHVzaCh7aTpoLmxlbmd0aCx4OmNbMF19KSxoLnB1c2gobnVsbCksZj1fLmxhc3RJbmRleDtmPGIubGVuZ3RoJiZoLnB1c2goYi5zdWJzdHJpbmcoZikpO2ZvcihkPTAsaj1pLmxlbmd0aDsoYz1fLmV4ZWMoYSkpJiZkPGo7KytkKXtrPWlbZF07aWYoay54PT1jWzBdKXtpZihrLmkpaWYoaFtrLmkrMV09PW51bGwpe2hbay5pLTFdKz1rLngsaC5zcGxpY2Uoay5pLDEpO2ZvcihlPWQrMTtlPGo7KytlKWlbZV0uaS0tfWVsc2V7aFtrLmktMV0rPWsueCtoW2suaSsxXSxoLnNwbGljZShrLmksMik7Zm9yKGU9ZCsxO2U8ajsrK2UpaVtlXS5pLT0yfWVsc2UgaWYoaFtrLmkrMV09PW51bGwpaFtrLmldPWsueDtlbHNle2hbay5pXT1rLngraFtrLmkrMV0saC5zcGxpY2Uoay5pKzEsMSk7Zm9yKGU9ZCsxO2U8ajsrK2UpaVtlXS5pLS19aS5zcGxpY2UoZCwxKSxqLS0sZC0tfWVsc2Ugay54PWQzLmludGVycG9sYXRlTnVtYmVyKHBhcnNlRmxvYXQoY1swXSkscGFyc2VGbG9hdChrLngpKX13aGlsZShkPGopaz1pLnBvcCgpLGhbay5pKzFdPT1udWxsP2hbay5pXT1rLng6KGhbay5pXT1rLngraFtrLmkrMV0saC5zcGxpY2Uoay5pKzEsMSkpLGotLTtyZXR1cm4gaC5sZW5ndGg9PT0xP2hbMF09PW51bGw/aVswXS54OmZ1bmN0aW9uKCl7cmV0dXJuIGJ9OmZ1bmN0aW9uKGEpe2ZvcihkPTA7ZDxqOysrZCloWyhrPWlbZF0pLmldPWsueChhKTtyZXR1cm4gaC5qb2luKFwiXCIpfX0sZDMuaW50ZXJwb2xhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPVtdLGUsZj1kMy50cmFuc2Zvcm0oYSksZz1kMy50cmFuc2Zvcm0oYiksaD1mLnRyYW5zbGF0ZSxpPWcudHJhbnNsYXRlLGo9Zi5yb3RhdGUsaz1nLnJvdGF0ZSxsPWYuc2tldyxtPWcuc2tldyxuPWYuc2NhbGUsbz1nLnNjYWxlO3JldHVybiBoWzBdIT1pWzBdfHxoWzFdIT1pWzFdPyhjLnB1c2goXCJ0cmFuc2xhdGUoXCIsbnVsbCxcIixcIixudWxsLFwiKVwiKSxkLnB1c2goe2k6MSx4OmQzLmludGVycG9sYXRlTnVtYmVyKGhbMF0saVswXSl9LHtpOjMseDpkMy5pbnRlcnBvbGF0ZU51bWJlcihoWzFdLGlbMV0pfSkpOmlbMF18fGlbMV0/Yy5wdXNoKFwidHJhbnNsYXRlKFwiK2krXCIpXCIpOmMucHVzaChcIlwiKSxqIT1rPyhqLWs+MTgwP2srPTM2MDprLWo+MTgwJiYoais9MzYwKSxkLnB1c2goe2k6Yy5wdXNoKGMucG9wKCkrXCJyb3RhdGUoXCIsbnVsbCxcIilcIiktMix4OmQzLmludGVycG9sYXRlTnVtYmVyKGosayl9KSk6ayYmYy5wdXNoKGMucG9wKCkrXCJyb3RhdGUoXCIraytcIilcIiksbCE9bT9kLnB1c2goe2k6Yy5wdXNoKGMucG9wKCkrXCJza2V3WChcIixudWxsLFwiKVwiKS0yLHg6ZDMuaW50ZXJwb2xhdGVOdW1iZXIobCxtKX0pOm0mJmMucHVzaChjLnBvcCgpK1wic2tld1goXCIrbStcIilcIiksblswXSE9b1swXXx8blsxXSE9b1sxXT8oZT1jLnB1c2goYy5wb3AoKStcInNjYWxlKFwiLG51bGwsXCIsXCIsbnVsbCxcIilcIiksZC5wdXNoKHtpOmUtNCx4OmQzLmludGVycG9sYXRlTnVtYmVyKG5bMF0sb1swXSl9LHtpOmUtMix4OmQzLmludGVycG9sYXRlTnVtYmVyKG5bMV0sb1sxXSl9KSk6KG9bMF0hPTF8fG9bMV0hPTEpJiZjLnB1c2goYy5wb3AoKStcInNjYWxlKFwiK28rXCIpXCIpLGU9ZC5sZW5ndGgsZnVuY3Rpb24oYSl7dmFyIGI9LTEsZjt3aGlsZSgrK2I8ZSljWyhmPWRbYl0pLmldPWYueChhKTtyZXR1cm4gYy5qb2luKFwiXCIpfX0sZDMuaW50ZXJwb2xhdGVSZ2I9ZnVuY3Rpb24oYSxiKXthPWQzLnJnYihhKSxiPWQzLnJnYihiKTt2YXIgYz1hLnIsZD1hLmcsZT1hLmIsZj1iLnItYyxnPWIuZy1kLGg9Yi5iLWU7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVyblwiI1wiK2JmKE1hdGgucm91bmQoYytmKmEpKStiZihNYXRoLnJvdW5kKGQrZyphKSkrYmYoTWF0aC5yb3VuZChlK2gqYSkpfX0sZDMuaW50ZXJwb2xhdGVIc2w9ZnVuY3Rpb24oYSxiKXthPWQzLmhzbChhKSxiPWQzLmhzbChiKTt2YXIgYz1hLmgsZD1hLnMsZT1hLmwsZj1iLmgtYyxnPWIucy1kLGg9Yi5sLWU7cmV0dXJuIGY+MTgwP2YtPTM2MDpmPC0xODAmJihmKz0zNjApLGZ1bmN0aW9uKGEpe3JldHVybiBibShjK2YqYSxkK2cqYSxlK2gqYSkudG9TdHJpbmcoKX19LGQzLmludGVycG9sYXRlQXJyYXk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPVtdLGU9YS5sZW5ndGgsZj1iLmxlbmd0aCxnPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKSxoO2ZvcihoPTA7aDxnOysraCljLnB1c2goZDMuaW50ZXJwb2xhdGUoYVtoXSxiW2hdKSk7Zm9yKDtoPGU7KytoKWRbaF09YVtoXTtmb3IoO2g8ZjsrK2gpZFtoXT1iW2hdO3JldHVybiBmdW5jdGlvbihhKXtmb3IoaD0wO2g8ZzsrK2gpZFtoXT1jW2hdKGEpO3JldHVybiBkfX0sZDMuaW50ZXJwb2xhdGVPYmplY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkPXt9LGU7Zm9yKGUgaW4gYSllIGluIGI/Y1tlXT1iYShlKShhW2VdLGJbZV0pOmRbZV09YVtlXTtmb3IoZSBpbiBiKWUgaW4gYXx8KGRbZV09YltlXSk7cmV0dXJuIGZ1bmN0aW9uKGEpe2ZvcihlIGluIGMpZFtlXT1jW2VdKGEpO3JldHVybiBkfX07dmFyIF89L1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nO2QzLmludGVycG9sYXRvcnM9W2QzLmludGVycG9sYXRlT2JqZWN0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBBcnJheSYmZDMuaW50ZXJwb2xhdGVBcnJheShhLGIpfSxmdW5jdGlvbihhLGIpe3JldHVybih0eXBlb2YgYT09XCJzdHJpbmdcInx8dHlwZW9mIGI9PVwic3RyaW5nXCIpJiZkMy5pbnRlcnBvbGF0ZVN0cmluZyhhK1wiXCIsYitcIlwiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4odHlwZW9mIGI9PVwic3RyaW5nXCI/YmouaGFzKGIpfHwvXigjfHJnYlxcKHxoc2xcXCgpLy50ZXN0KGIpOmIgaW5zdGFuY2VvZiBiZXx8YiBpbnN0YW5jZW9mIGJsKSYmZDMuaW50ZXJwb2xhdGVSZ2IoYSxiKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4haXNOYU4oYT0rYSkmJiFpc05hTihiPStiKSYmZDMuaW50ZXJwb2xhdGVOdW1iZXIoYSxiKX1dLGQzLnJnYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0xP2EgaW5zdGFuY2VvZiBiZT9iZChhLnIsYS5nLGEuYik6YmcoXCJcIithLGJkLGJtKTpiZCh+fmEsfn5iLH5+Yyl9LGJlLnByb3RvdHlwZS5icmlnaHRlcj1mdW5jdGlvbihhKXthPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/YToxKTt2YXIgYj10aGlzLnIsYz10aGlzLmcsZD10aGlzLmIsZT0zMDtyZXR1cm4hYiYmIWMmJiFkP2JkKGUsZSxlKTooYiYmYjxlJiYoYj1lKSxjJiZjPGUmJihjPWUpLGQmJmQ8ZSYmKGQ9ZSksYmQoTWF0aC5taW4oMjU1LE1hdGguZmxvb3IoYi9hKSksTWF0aC5taW4oMjU1LE1hdGguZmxvb3IoYy9hKSksTWF0aC5taW4oMjU1LE1hdGguZmxvb3IoZC9hKSkpKX0sYmUucHJvdG90eXBlLmRhcmtlcj1mdW5jdGlvbihhKXtyZXR1cm4gYT1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP2E6MSksYmQoTWF0aC5mbG9vcihhKnRoaXMuciksTWF0aC5mbG9vcihhKnRoaXMuZyksTWF0aC5mbG9vcihhKnRoaXMuYikpfSxiZS5wcm90b3R5cGUuaHNsPWZ1bmN0aW9uKCl7cmV0dXJuIGJoKHRoaXMucix0aGlzLmcsdGhpcy5iKX0sYmUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIjXCIrYmYodGhpcy5yKStiZih0aGlzLmcpK2JmKHRoaXMuYil9O3ZhciBiaj1kMy5tYXAoe2FsaWNlYmx1ZTpcIiNmMGY4ZmZcIixhbnRpcXVld2hpdGU6XCIjZmFlYmQ3XCIsYXF1YTpcIiMwMGZmZmZcIixhcXVhbWFyaW5lOlwiIzdmZmZkNFwiLGF6dXJlOlwiI2YwZmZmZlwiLGJlaWdlOlwiI2Y1ZjVkY1wiLGJpc3F1ZTpcIiNmZmU0YzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNmZmViY2RcIixibHVlOlwiIzAwMDBmZlwiLGJsdWV2aW9sZXQ6XCIjOGEyYmUyXCIsYnJvd246XCIjYTUyYTJhXCIsYnVybHl3b29kOlwiI2RlYjg4N1wiLGNhZGV0Ymx1ZTpcIiM1ZjllYTBcIixjaGFydHJldXNlOlwiIzdmZmYwMFwiLGNob2NvbGF0ZTpcIiNkMjY5MWVcIixjb3JhbDpcIiNmZjdmNTBcIixjb3JuZmxvd2VyYmx1ZTpcIiM2NDk1ZWRcIixjb3Juc2lsazpcIiNmZmY4ZGNcIixjcmltc29uOlwiI2RjMTQzY1wiLGN5YW46XCIjMDBmZmZmXCIsZGFya2JsdWU6XCIjMDAwMDhiXCIsZGFya2N5YW46XCIjMDA4YjhiXCIsZGFya2dvbGRlbnJvZDpcIiNiODg2MGJcIixkYXJrZ3JheTpcIiNhOWE5YTlcIixkYXJrZ3JlZW46XCIjMDA2NDAwXCIsZGFya2dyZXk6XCIjYTlhOWE5XCIsZGFya2toYWtpOlwiI2JkYjc2YlwiLGRhcmttYWdlbnRhOlwiIzhiMDA4YlwiLGRhcmtvbGl2ZWdyZWVuOlwiIzU1NmIyZlwiLGRhcmtvcmFuZ2U6XCIjZmY4YzAwXCIsZGFya29yY2hpZDpcIiM5OTMyY2NcIixkYXJrcmVkOlwiIzhiMDAwMFwiLGRhcmtzYWxtb246XCIjZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiIzhmYmM4ZlwiLGRhcmtzbGF0ZWJsdWU6XCIjNDgzZDhiXCIsZGFya3NsYXRlZ3JheTpcIiMyZjRmNGZcIixkYXJrc2xhdGVncmV5OlwiIzJmNGY0ZlwiLGRhcmt0dXJxdW9pc2U6XCIjMDBjZWQxXCIsZGFya3Zpb2xldDpcIiM5NDAwZDNcIixkZWVwcGluazpcIiNmZjE0OTNcIixkZWVwc2t5Ymx1ZTpcIiMwMGJmZmZcIixkaW1ncmF5OlwiIzY5Njk2OVwiLGRpbWdyZXk6XCIjNjk2OTY5XCIsZG9kZ2VyYmx1ZTpcIiMxZTkwZmZcIixmaXJlYnJpY2s6XCIjYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCIjZmZmYWYwXCIsZm9yZXN0Z3JlZW46XCIjMjI4YjIyXCIsZnVjaHNpYTpcIiNmZjAwZmZcIixnYWluc2Jvcm86XCIjZGNkY2RjXCIsZ2hvc3R3aGl0ZTpcIiNmOGY4ZmZcIixnb2xkOlwiI2ZmZDcwMFwiLGdvbGRlbnJvZDpcIiNkYWE1MjBcIixncmF5OlwiIzgwODA4MFwiLGdyZWVuOlwiIzAwODAwMFwiLGdyZWVueWVsbG93OlwiI2FkZmYyZlwiLGdyZXk6XCIjODA4MDgwXCIsaG9uZXlkZXc6XCIjZjBmZmYwXCIsaG90cGluazpcIiNmZjY5YjRcIixpbmRpYW5yZWQ6XCIjY2Q1YzVjXCIsaW5kaWdvOlwiIzRiMDA4MlwiLGl2b3J5OlwiI2ZmZmZmMFwiLGtoYWtpOlwiI2YwZTY4Y1wiLGxhdmVuZGVyOlwiI2U2ZTZmYVwiLGxhdmVuZGVyYmx1c2g6XCIjZmZmMGY1XCIsbGF3bmdyZWVuOlwiIzdjZmMwMFwiLGxlbW9uY2hpZmZvbjpcIiNmZmZhY2RcIixsaWdodGJsdWU6XCIjYWRkOGU2XCIsbGlnaHRjb3JhbDpcIiNmMDgwODBcIixsaWdodGN5YW46XCIjZTBmZmZmXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjZmFmYWQyXCIsbGlnaHRncmF5OlwiI2QzZDNkM1wiLGxpZ2h0Z3JlZW46XCIjOTBlZTkwXCIsbGlnaHRncmV5OlwiI2QzZDNkM1wiLGxpZ2h0cGluazpcIiNmZmI2YzFcIixsaWdodHNhbG1vbjpcIiNmZmEwN2FcIixsaWdodHNlYWdyZWVuOlwiIzIwYjJhYVwiLGxpZ2h0c2t5Ymx1ZTpcIiM4N2NlZmFcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixsaWdodHNsYXRlZ3JleTpcIiM3Nzg4OTlcIixsaWdodHN0ZWVsYmx1ZTpcIiNiMGM0ZGVcIixsaWdodHllbGxvdzpcIiNmZmZmZTBcIixsaW1lOlwiIzAwZmYwMFwiLGxpbWVncmVlbjpcIiMzMmNkMzJcIixsaW5lbjpcIiNmYWYwZTZcIixtYWdlbnRhOlwiI2ZmMDBmZlwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Y2RhYVwiLG1lZGl1bWJsdWU6XCIjMDAwMGNkXCIsbWVkaXVtb3JjaGlkOlwiI2JhNTVkM1wiLG1lZGl1bXB1cnBsZTpcIiM5MzcwZGJcIixtZWRpdW1zZWFncmVlbjpcIiMzY2IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN2I2OGVlXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBmYTlhXCIsbWVkaXVtdHVycXVvaXNlOlwiIzQ4ZDFjY1wiLG1lZGl1bXZpb2xldHJlZDpcIiNjNzE1ODVcIixtaWRuaWdodGJsdWU6XCIjMTkxOTcwXCIsbWludGNyZWFtOlwiI2Y1ZmZmYVwiLG1pc3R5cm9zZTpcIiNmZmU0ZTFcIixtb2NjYXNpbjpcIiNmZmU0YjVcIixuYXZham93aGl0ZTpcIiNmZmRlYWRcIixuYXZ5OlwiIzAwMDA4MFwiLG9sZGxhY2U6XCIjZmRmNWU2XCIsb2xpdmU6XCIjODA4MDAwXCIsb2xpdmVkcmFiOlwiIzZiOGUyM1wiLG9yYW5nZTpcIiNmZmE1MDBcIixvcmFuZ2VyZWQ6XCIjZmY0NTAwXCIsb3JjaGlkOlwiI2RhNzBkNlwiLHBhbGVnb2xkZW5yb2Q6XCIjZWVlOGFhXCIscGFsZWdyZWVuOlwiIzk4ZmI5OFwiLHBhbGV0dXJxdW9pc2U6XCIjYWZlZWVlXCIscGFsZXZpb2xldHJlZDpcIiNkYjcwOTNcIixwYXBheWF3aGlwOlwiI2ZmZWZkNVwiLHBlYWNocHVmZjpcIiNmZmRhYjlcIixwZXJ1OlwiI2NkODUzZlwiLHBpbms6XCIjZmZjMGNiXCIscGx1bTpcIiNkZGEwZGRcIixwb3dkZXJibHVlOlwiI2IwZTBlNlwiLHB1cnBsZTpcIiM4MDAwODBcIixyZWQ6XCIjZmYwMDAwXCIscm9zeWJyb3duOlwiI2JjOGY4ZlwiLHJveWFsYmx1ZTpcIiM0MTY5ZTFcIixzYWRkbGVicm93bjpcIiM4YjQ1MTNcIixzYWxtb246XCIjZmE4MDcyXCIsc2FuZHlicm93bjpcIiNmNGE0NjBcIixzZWFncmVlbjpcIiMyZThiNTdcIixzZWFzaGVsbDpcIiNmZmY1ZWVcIixzaWVubmE6XCIjYTA1MjJkXCIsc2lsdmVyOlwiI2MwYzBjMFwiLHNreWJsdWU6XCIjODdjZWViXCIsc2xhdGVibHVlOlwiIzZhNWFjZFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNmZmZhZmFcIixzcHJpbmdncmVlbjpcIiMwMGZmN2ZcIixzdGVlbGJsdWU6XCIjNDY4MmI0XCIsdGFuOlwiI2QyYjQ4Y1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNkOGJmZDhcIix0b21hdG86XCIjZmY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwZTBkMFwiLHZpb2xldDpcIiNlZTgyZWVcIix3aGVhdDpcIiNmNWRlYjNcIix3aGl0ZTpcIiNmZmZmZmZcIix3aGl0ZXNtb2tlOlwiI2Y1ZjVmNVwiLHllbGxvdzpcIiNmZmZmMDBcIix5ZWxsb3dncmVlbjpcIiM5YWNkMzJcIn0pO2JqLmZvckVhY2goZnVuY3Rpb24oYSxiKXtiai5zZXQoYSxiZyhiLGJkLGJtKSl9KSxkMy5oc2w9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MT9hIGluc3RhbmNlb2YgYmw/YmsoYS5oLGEucyxhLmwpOmJnKFwiXCIrYSxiaCxiayk6YmsoK2EsK2IsK2MpfSxibC5wcm90b3R5cGUuYnJpZ2h0ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9hOjEpLGJrKHRoaXMuaCx0aGlzLnMsdGhpcy5sL2EpfSxibC5wcm90b3R5cGUuZGFya2VyPWZ1bmN0aW9uKGEpe3JldHVybiBhPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/YToxKSxiayh0aGlzLmgsdGhpcy5zLGEqdGhpcy5sKX0sYmwucHJvdG90eXBlLnJnYj1mdW5jdGlvbigpe3JldHVybiBibSh0aGlzLmgsdGhpcy5zLHRoaXMubCl9LGJsLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJnYigpLnRvU3RyaW5nKCl9O3ZhciBibz1mdW5jdGlvbihhLGIpe3JldHVybiBiLnF1ZXJ5U2VsZWN0b3IoYSl9LGJwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucXVlcnlTZWxlY3RvckFsbChhKX0sYnE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGJyPWJxLm1hdGNoZXNTZWxlY3Rvcnx8YnEud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxicS5tb3pNYXRjaGVzU2VsZWN0b3J8fGJxLm1zTWF0Y2hlc1NlbGVjdG9yfHxicS5vTWF0Y2hlc1NlbGVjdG9yLGJzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJyLmNhbGwoYSxiKX07dHlwZW9mIFNpenpsZT09XCJmdW5jdGlvblwiJiYoYm89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gU2l6emxlKGEsYilbMF18fG51bGx9LGJwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFNpenpsZS51bmlxdWVTb3J0KFNpenpsZShhLGIpKX0sYnM9U2l6emxlLm1hdGNoZXNTZWxlY3Rvcik7dmFyIGJ0PVtdO2QzLnNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBiQn0sZDMuc2VsZWN0aW9uLnByb3RvdHlwZT1idCxidC5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYyxkLGUsZjt0eXBlb2YgYSE9XCJmdW5jdGlvblwiJiYoYT1idShhKSk7Zm9yKHZhciBnPS0xLGg9dGhpcy5sZW5ndGg7KytnPGg7KXtiLnB1c2goYz1bXSksYy5wYXJlbnROb2RlPShlPXRoaXNbZ10pLnBhcmVudE5vZGU7Zm9yKHZhciBpPS0xLGo9ZS5sZW5ndGg7KytpPGo7KShmPWVbaV0pPyhjLnB1c2goZD1hLmNhbGwoZixmLl9fZGF0YV9fLGkpKSxkJiZcIl9fZGF0YV9fXCJpbiBmJiYoZC5fX2RhdGFfXz1mLl9fZGF0YV9fKSk6Yy5wdXNoKG51bGwpfXJldHVybiBibihiKX0sYnQuc2VsZWN0QWxsPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGMsZDt0eXBlb2YgYSE9XCJmdW5jdGlvblwiJiYoYT1idihhKSk7Zm9yKHZhciBmPS0xLGc9dGhpcy5sZW5ndGg7KytmPGc7KWZvcih2YXIgaD10aGlzW2ZdLGk9LTEsaj1oLmxlbmd0aDsrK2k8ajspaWYoZD1oW2ldKWIucHVzaChjPWUoYS5jYWxsKGQsZC5fX2RhdGFfXyxpKSkpLGMucGFyZW50Tm9kZT1kO3JldHVybiBibihiKX0sYnQuYXR0cj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKX1mdW5jdGlvbiBlKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhhLnNwYWNlLGEubG9jYWwpfWZ1bmN0aW9uIGYoKXt0aGlzLnNldEF0dHJpYnV0ZShhLGIpfWZ1bmN0aW9uIGcoKXt0aGlzLnNldEF0dHJpYnV0ZU5TKGEuc3BhY2UsYS5sb2NhbCxiKX1mdW5jdGlvbiBoKCl7dmFyIGM9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yz09bnVsbD90aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTp0aGlzLnNldEF0dHJpYnV0ZShhLGMpfWZ1bmN0aW9uIGkoKXt2YXIgYz1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjPT1udWxsP3RoaXMucmVtb3ZlQXR0cmlidXRlTlMoYS5zcGFjZSxhLmxvY2FsKTp0aGlzLnNldEF0dHJpYnV0ZU5TKGEuc3BhY2UsYS5sb2NhbCxjKX1hPWQzLm5zLnF1YWxpZnkoYSk7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXt2YXIgYz10aGlzLm5vZGUoKTtyZXR1cm4gYS5sb2NhbD9jLmdldEF0dHJpYnV0ZU5TKGEuc3BhY2UsYS5sb2NhbCk6Yy5nZXRBdHRyaWJ1dGUoYSl9cmV0dXJuIHRoaXMuZWFjaChiPT1udWxsP2EubG9jYWw/ZTpkOnR5cGVvZiBiPT1cImZ1bmN0aW9uXCI/YS5sb2NhbD9pOmg6YS5sb2NhbD9nOmYpfSxidC5jbGFzc2VkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dihhKS5zcGxpdChcIiBcIiksZD1jLmxlbmd0aCxlPS0xO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7d2hpbGUoKytlPGQpYncuY2FsbCh0aGlzLGNbZV0sYik7cmV0dXJuIHRoaXN9d2hpbGUoKytlPGQpaWYoIWJ3LmNhbGwodGhpcyxjW2VdKSlyZXR1cm4hMTtyZXR1cm4hMH0sYnQuc3R5bGU9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGEpfWZ1bmN0aW9uIGUoKXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KGEsYixjKX1mdW5jdGlvbiBmKCl7dmFyIGQ9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZD09bnVsbD90aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGEpOnRoaXMuc3R5bGUuc2V0UHJvcGVydHkoYSxkLGMpfXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihjPVwiXCIpLGFyZ3VtZW50cy5sZW5ndGg8Mj93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm5vZGUoKSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKGEpOnRoaXMuZWFjaChiPT1udWxsP2Q6dHlwZW9mIGI9PVwiZnVuY3Rpb25cIj9mOmUpfSxidC5wcm9wZXJ0eT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtkZWxldGUgdGhpc1thXX1mdW5jdGlvbiBkKCl7dGhpc1thXT1ifWZ1bmN0aW9uIGUoKXt2YXIgYz1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjPT1udWxsP2RlbGV0ZSB0aGlzW2FdOnRoaXNbYV09Y31yZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP3RoaXMubm9kZSgpW2FdOnRoaXMuZWFjaChiPT1udWxsP2M6dHlwZW9mIGI9PVwiZnVuY3Rpb25cIj9lOmQpfSxidC50ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDE/dGhpcy5ub2RlKCkudGV4dENvbnRlbnQ6dGhpcy5lYWNoKHR5cGVvZiBhPT1cImZ1bmN0aW9uXCI/ZnVuY3Rpb24oKXt2YXIgYj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnRleHRDb250ZW50PWI9PW51bGw/XCJcIjpifTphPT1udWxsP2Z1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD1cIlwifTpmdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnQ9YX0pfSxidC5odG1sPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDE/dGhpcy5ub2RlKCkuaW5uZXJIVE1MOnRoaXMuZWFjaCh0eXBlb2YgYT09XCJmdW5jdGlvblwiP2Z1bmN0aW9uKCl7dmFyIGI9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5pbm5lckhUTUw9Yj09bnVsbD9cIlwiOmJ9OmE9PW51bGw/ZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1cIlwifTpmdW5jdGlvbigpe3RoaXMuaW5uZXJIVE1MPWF9KX0sYnQuYXBwZW5kPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5uYW1lc3BhY2VVUkksYSkpfWZ1bmN0aW9uIGMoKXtyZXR1cm4gdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYS5zcGFjZSxhLmxvY2FsKSl9cmV0dXJuIGE9ZDMubnMucXVhbGlmeShhKSx0aGlzLnNlbGVjdChhLmxvY2FsP2M6Yil9LGJ0Lmluc2VydD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMubmFtZXNwYWNlVVJJLGEpLGJvKGIsdGhpcykpfWZ1bmN0aW9uIGQoKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGEuc3BhY2UsYS5sb2NhbCksYm8oYix0aGlzKSl9cmV0dXJuIGE9ZDMubnMucXVhbGlmeShhKSx0aGlzLnNlbGVjdChhLmxvY2FsP2Q6Yyl9LGJ0LnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7YSYmYS5yZW1vdmVDaGlsZCh0aGlzKX0pfSxidC5kYXRhPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZyhhLGMpe3ZhciBkLGU9YS5sZW5ndGgsZj1jLmxlbmd0aCxnPU1hdGgubWluKGUsZiksbD1NYXRoLm1heChlLGYpLG09W10sbj1bXSxvPVtdLHAscTtpZihiKXt2YXIgcj1uZXcgaixzPVtdLHQsdT1jLmxlbmd0aDtmb3IoZD0tMTsrK2Q8ZTspdD1iLmNhbGwocD1hW2RdLHAuX19kYXRhX18sZCksci5oYXModCk/b1t1KytdPXA6ci5zZXQodCxwKSxzLnB1c2godCk7Zm9yKGQ9LTE7KytkPGY7KXQ9Yi5jYWxsKGMscT1jW2RdLGQpLHIuaGFzKHQpPyhtW2RdPXA9ci5nZXQodCkscC5fX2RhdGFfXz1xLG5bZF09b1tkXT1udWxsKToobltkXT1ieChxKSxtW2RdPW9bZF09bnVsbCksci5yZW1vdmUodCk7Zm9yKGQ9LTE7KytkPGU7KXIuaGFzKHNbZF0pJiYob1tkXT1hW2RdKX1lbHNle2ZvcihkPS0xOysrZDxnOylwPWFbZF0scT1jW2RdLHA/KHAuX19kYXRhX189cSxtW2RdPXAsbltkXT1vW2RdPW51bGwpOihuW2RdPWJ4KHEpLG1bZF09b1tkXT1udWxsKTtmb3IoO2Q8ZjsrK2QpbltkXT1ieChjW2RdKSxtW2RdPW9bZF09bnVsbDtmb3IoO2Q8bDsrK2Qpb1tkXT1hW2RdLG5bZF09bVtkXT1udWxsfW4udXBkYXRlPW0sbi5wYXJlbnROb2RlPW0ucGFyZW50Tm9kZT1vLnBhcmVudE5vZGU9YS5wYXJlbnROb2RlLGgucHVzaChuKSxpLnB1c2gobSksay5wdXNoKG8pfXZhciBjPS0xLGQ9dGhpcy5sZW5ndGgsZSxmO2lmKCFhcmd1bWVudHMubGVuZ3RoKXthPW5ldyBBcnJheShkPShlPXRoaXNbMF0pLmxlbmd0aCk7d2hpbGUoKytjPGQpaWYoZj1lW2NdKWFbY109Zi5fX2RhdGFfXztyZXR1cm4gYX12YXIgaD1iQyhbXSksaT1ibihbXSksaz1ibihbXSk7aWYodHlwZW9mIGE9PVwiZnVuY3Rpb25cIil3aGlsZSgrK2M8ZClnKGU9dGhpc1tjXSxhLmNhbGwoZSxlLnBhcmVudE5vZGUuX19kYXRhX18sYykpO2Vsc2Ugd2hpbGUoKytjPGQpZyhlPXRoaXNbY10sYSk7cmV0dXJuIGkuZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaH0saS5leGl0PWZ1bmN0aW9uKCl7cmV0dXJuIGt9LGl9LGJ0LmRhdHVtPWJ0Lm1hcD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMucHJvcGVydHkoXCJfX2RhdGFfX1wiKTp0aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIixhKX0sYnQuZmlsdGVyPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGMsZCxlO3R5cGVvZiBhIT1cImZ1bmN0aW9uXCImJihhPWJ5KGEpKTtmb3IodmFyIGY9MCxnPXRoaXMubGVuZ3RoO2Y8ZztmKyspe2IucHVzaChjPVtdKSxjLnBhcmVudE5vZGU9KGQ9dGhpc1tmXSkucGFyZW50Tm9kZTtmb3IodmFyIGg9MCxpPWQubGVuZ3RoO2g8aTtoKyspKGU9ZFtoXSkmJmEuY2FsbChlLGUuX19kYXRhX18saCkmJmMucHVzaChlKX1yZXR1cm4gYm4oYil9LGJ0Lm9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPS0xLGI9dGhpcy5sZW5ndGg7KythPGI7KWZvcih2YXIgYz10aGlzW2FdLGQ9Yy5sZW5ndGgtMSxlPWNbZF0sZjstLWQ+PTA7KWlmKGY9Y1tkXSllJiZlIT09Zi5uZXh0U2libGluZyYmZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLGUpLGU9ZjtyZXR1cm4gdGhpc30sYnQuc29ydD1mdW5jdGlvbihhKXthPWJ6LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmb3IodmFyIGI9LTEsYz10aGlzLmxlbmd0aDsrK2I8YzspdGhpc1tiXS5zb3J0KGEpO3JldHVybiB0aGlzLm9yZGVyKCl9LGJ0Lm9uPWZ1bmN0aW9uKGEsYixjKXthcmd1bWVudHMubGVuZ3RoPDMmJihjPSExKTt2YXIgZD1cIl9fb25cIithLGU9YS5pbmRleE9mKFwiLlwiKTtyZXR1cm4gZT4wJiYoYT1hLnN1YnN0cmluZygwLGUpKSxhcmd1bWVudHMubGVuZ3RoPDI/KGU9dGhpcy5ub2RlKClbZF0pJiZlLl86dGhpcy5lYWNoKGZ1bmN0aW9uKGUsZil7ZnVuY3Rpb24gaShhKXt2YXIgYz1kMy5ldmVudDtkMy5ldmVudD1hO3RyeXtiLmNhbGwoZyxnLl9fZGF0YV9fLGYpfWZpbmFsbHl7ZDMuZXZlbnQ9Y319dmFyIGc9dGhpcyxoPWdbZF07aCYmKGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGgsaC4kKSxkZWxldGUgZ1tkXSksYiYmKGcuYWRkRXZlbnRMaXN0ZW5lcihhLGdbZF09aSxpLiQ9YyksaS5fPWIpfSl9LGJ0LmVhY2g9ZnVuY3Rpb24oYSl7cmV0dXJuIGJBKHRoaXMsZnVuY3Rpb24oYixjLGQpe2EuY2FsbChiLGIuX19kYXRhX18sYyxkKX0pfSxidC5jYWxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGx5KHRoaXMsKGFyZ3VtZW50c1swXT10aGlzLGFyZ3VtZW50cykpLHRoaXN9LGJ0LmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubm9kZSgpfSxidC5ub2RlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sZW5ndGg7YjxjO2IrKylmb3IodmFyIGQ9dGhpc1tiXSxlPTAsZj1kLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZz1kW2VdO2lmKGcpcmV0dXJuIGd9cmV0dXJuIG51bGx9LGJ0LnRyYW5zaXRpb249ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGM7Zm9yKHZhciBkPS0xLGU9dGhpcy5sZW5ndGg7KytkPGU7KXthLnB1c2goYj1bXSk7Zm9yKHZhciBmPXRoaXNbZF0sZz0tMSxoPWYubGVuZ3RoOysrZzxoOyliLnB1c2goKGM9ZltnXSk/e25vZGU6YyxkZWxheTpiTyxkdXJhdGlvbjpiUH06bnVsbCl9cmV0dXJuIGJFKGEsYkt8fCsrYkosRGF0ZS5ub3coKSl9O3ZhciBiQj1ibihbW2RvY3VtZW50XV0pO2JCWzBdLnBhcmVudE5vZGU9YnEsZDMuc2VsZWN0PWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09XCJzdHJpbmdcIj9iQi5zZWxlY3QoYSk6Ym4oW1thXV0pfSxkMy5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiBhPT1cInN0cmluZ1wiP2JCLnNlbGVjdEFsbChhKTpibihbZShhKV0pfTt2YXIgYkQ9W107ZDMuc2VsZWN0aW9uLmVudGVyPWJDLGQzLnNlbGVjdGlvbi5lbnRlci5wcm90b3R5cGU9YkQsYkQuYXBwZW5kPWJ0LmFwcGVuZCxiRC5pbnNlcnQ9YnQuaW5zZXJ0LGJELmVtcHR5PWJ0LmVtcHR5LGJELm5vZGU9YnQubm9kZSxiRC5zZWxlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYyxkLGUsZixnO2Zvcih2YXIgaD0tMSxpPXRoaXMubGVuZ3RoOysraDxpOyl7ZT0oZj10aGlzW2hdKS51cGRhdGUsYi5wdXNoKGM9W10pLGMucGFyZW50Tm9kZT1mLnBhcmVudE5vZGU7Zm9yKHZhciBqPS0xLGs9Zi5sZW5ndGg7KytqPGs7KShnPWZbal0pPyhjLnB1c2goZVtqXT1kPWEuY2FsbChmLnBhcmVudE5vZGUsZy5fX2RhdGFfXyxqKSksZC5fX2RhdGFfXz1nLl9fZGF0YV9fKTpjLnB1c2gobnVsbCl9cmV0dXJuIGJuKGIpfTt2YXIgYkY9e30sYkk9W10sYko9MCxiSz0wLGJMPTAsYk09MjUwLGJOPWQzLmVhc2UoXCJjdWJpYy1pbi1vdXRcIiksYk89YkwsYlA9Yk0sYlE9Yk47YkkuY2FsbD1idC5jYWxsLGQzLnRyYW5zaXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yks/YS50cmFuc2l0aW9uKCk6YTpiQi50cmFuc2l0aW9uKCl9LGQzLnRyYW5zaXRpb24ucHJvdG90eXBlPWJJLGJJLnNlbGVjdD1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZTt0eXBlb2YgYSE9XCJmdW5jdGlvblwiJiYoYT1idShhKSk7Zm9yKHZhciBmPS0xLGc9dGhpcy5sZW5ndGg7KytmPGc7KXtiLnB1c2goYz1bXSk7Zm9yKHZhciBoPXRoaXNbZl0saT0tMSxqPWgubGVuZ3RoOysraTxqOykoZT1oW2ldKSYmKGQ9YS5jYWxsKGUubm9kZSxlLm5vZGUuX19kYXRhX18saSkpPyhcIl9fZGF0YV9fXCJpbiBlLm5vZGUmJihkLl9fZGF0YV9fPWUubm9kZS5fX2RhdGFfXyksYy5wdXNoKHtub2RlOmQsZGVsYXk6ZS5kZWxheSxkdXJhdGlvbjplLmR1cmF0aW9ufSkpOmMucHVzaChudWxsKX1yZXR1cm4gYkUoYix0aGlzLmlkLHRoaXMudGltZSkuZWFzZSh0aGlzLmVhc2UoKSl9LGJJLnNlbGVjdEFsbD1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGQsZTt0eXBlb2YgYSE9XCJmdW5jdGlvblwiJiYoYT1idihhKSk7Zm9yKHZhciBmPS0xLGc9dGhpcy5sZW5ndGg7KytmPGc7KWZvcih2YXIgaD10aGlzW2ZdLGk9LTEsaj1oLmxlbmd0aDsrK2k8ajspaWYoZT1oW2ldKXtkPWEuY2FsbChlLm5vZGUsZS5ub2RlLl9fZGF0YV9fLGkpLGIucHVzaChjPVtdKTtmb3IodmFyIGs9LTEsbD1kLmxlbmd0aDsrK2s8bDspYy5wdXNoKHtub2RlOmRba10sZGVsYXk6ZS5kZWxheSxkdXJhdGlvbjplLmR1cmF0aW9ufSl9cmV0dXJuIGJFKGIsdGhpcy5pZCx0aGlzLnRpbWUpLmVhc2UodGhpcy5lYXNlKCkpfSxiSS5hdHRyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYXR0clR3ZWVuKGEsYkgoYSxiKSl9LGJJLmF0dHJUd2Vlbj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSxkKXt2YXIgZT1iLmNhbGwodGhpcyxhLGQsdGhpcy5nZXRBdHRyaWJ1dGUoYykpO3JldHVybiBlPT09YkY/KHRoaXMucmVtb3ZlQXR0cmlidXRlKGMpLG51bGwpOmUmJmZ1bmN0aW9uKGEpe3RoaXMuc2V0QXR0cmlidXRlKGMsZShhKSl9fWZ1bmN0aW9uIGUoYSxkKXt2YXIgZT1iLmNhbGwodGhpcyxhLGQsdGhpcy5nZXRBdHRyaWJ1dGVOUyhjLnNwYWNlLGMubG9jYWwpKTtyZXR1cm4gZT09PWJGPyh0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGMuc3BhY2UsYy5sb2NhbCksbnVsbCk6ZSYmZnVuY3Rpb24oYSl7dGhpcy5zZXRBdHRyaWJ1dGVOUyhjLnNwYWNlLGMubG9jYWwsZShhKSl9fXZhciBjPWQzLm5zLnF1YWxpZnkoYSk7cmV0dXJuIHRoaXMudHdlZW4oXCJhdHRyLlwiK2EsYy5sb2NhbD9lOmQpfSxiSS5zdHlsZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MyYmKGM9XCJcIiksdGhpcy5zdHlsZVR3ZWVuKGEsYkgoYSxiKSxjKX0sYkkuc3R5bGVUd2Vlbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MyYmKGM9XCJcIiksdGhpcy50d2VlbihcInN0eWxlLlwiK2EsZnVuY3Rpb24oZCxlKXt2YXIgZj1iLmNhbGwodGhpcyxkLGUsd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKGEpKTtyZXR1cm4gZj09PWJGPyh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KGEpLG51bGwpOmYmJmZ1bmN0aW9uKGIpe3RoaXMuc3R5bGUuc2V0UHJvcGVydHkoYSxmKGIpLGMpfX0pfSxiSS50ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnR3ZWVuKFwidGV4dFwiLGZ1bmN0aW9uKGIsYyl7dGhpcy50ZXh0Q29udGVudD10eXBlb2YgYT09XCJmdW5jdGlvblwiP2EuY2FsbCh0aGlzLGIsYyk6YX0pfSxiSS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKFwiZW5kLnRyYW5zaXRpb25cIixmdW5jdGlvbigpe3ZhciBhOyF0aGlzLl9fdHJhbnNpdGlvbl9fJiYoYT10aGlzLnBhcmVudE5vZGUpJiZhLnJlbW92ZUNoaWxkKHRoaXMpfSl9LGJJLmRlbGF5PWZ1bmN0aW9uKGEpe3JldHVybiBiQSh0aGlzLHR5cGVvZiBhPT1cImZ1bmN0aW9uXCI/ZnVuY3Rpb24oYixjLGQpe2IuZGVsYXk9YS5jYWxsKGI9Yi5ub2RlLGIuX19kYXRhX18sYyxkKXwwfTooYXw9MCxmdW5jdGlvbihiKXtiLmRlbGF5PWF9KSl9LGJJLmR1cmF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBiQSh0aGlzLHR5cGVvZiBhPT1cImZ1bmN0aW9uXCI/ZnVuY3Rpb24oYixjLGQpe2IuZHVyYXRpb249TWF0aC5tYXgoMSxhLmNhbGwoYj1iLm5vZGUsYi5fX2RhdGFfXyxjLGQpfDApfTooYT1NYXRoLm1heCgxLGF8MCksZnVuY3Rpb24oYil7Yi5kdXJhdGlvbj1hfSkpfSxiSS50cmFuc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0KG4pfTt2YXIgYlM9bnVsbCxiVCxiVTtkMy50aW1lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ITEsZSxmPWJTO2lmKGFyZ3VtZW50cy5sZW5ndGg8Myl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKWI9MDtlbHNlIGlmKCFpc0Zpbml0ZShiKSlyZXR1cm47Yz1EYXRlLm5vdygpfXdoaWxlKGYpe2lmKGYuY2FsbGJhY2s9PT1hKXtmLnRoZW49YyxmLmRlbGF5PWIsZD0hMDticmVha31lPWYsZj1mLm5leHR9ZHx8KGJTPXtjYWxsYmFjazphLHRoZW46YyxkZWxheTpiLG5leHQ6YlN9KSxiVHx8KGJVPWNsZWFyVGltZW91dChiVSksYlQ9MSxiWChiVikpfSxkMy50aW1lci5mbHVzaD1mdW5jdGlvbigpe3ZhciBhLGI9RGF0ZS5ub3coKSxjPWJTO3doaWxlKGMpYT1iLWMudGhlbixjLmRlbGF5fHwoYy5mbHVzaD1jLmNhbGxiYWNrKGEpKSxjPWMubmV4dDtiVygpfTt2YXIgYlg9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDE3KX07ZDMudHJhbnNmb3JtPWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhkMy5ucy5wcmVmaXguc3ZnLFwiZ1wiKSxjPXthOjEsYjowLGM6MCxkOjEsZTowLGY6MH07cmV0dXJuKGQzLnRyYW5zZm9ybT1mdW5jdGlvbihhKXtiLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGEpO3ZhciBkPWIudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKTtyZXR1cm4gbmV3IGJZKGQ/ZC5tYXRyaXg6Yyl9KShhKX0sYlkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ0cmFuc2xhdGUoXCIrdGhpcy50cmFuc2xhdGUrXCIpcm90YXRlKFwiK3RoaXMucm90YXRlK1wiKXNrZXdYKFwiK3RoaXMuc2tldytcIilzY2FsZShcIit0aGlzLnNjYWxlK1wiKVwifTt2YXIgY2E9MTgwL01hdGguUEk7ZDMubW91c2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGNjKGEsWigpKX07dmFyIGNiPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/LTE6MDtkMy50b3VjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKGI9WigpLnRvdWNoZXMpLGI/ZShiKS5tYXAoZnVuY3Rpb24oYil7dmFyIGM9Y2MoYSxiKTtyZXR1cm4gYy5pZGVudGlmaWVyPWIuaWRlbnRpZmllcixjfSk6W119LGQzLnNjYWxlPXt9LGQzLnNjYWxlLmxpbmVhcj1mdW5jdGlvbigpe3JldHVybiBjaShbMCwxXSxbMCwxXSxkMy5pbnRlcnBvbGF0ZSwhMSl9LGQzLnNjYWxlLmxvZz1mdW5jdGlvbigpe3JldHVybiBjcShkMy5zY2FsZS5saW5lYXIoKSxjcyl9O3ZhciBjcj1kMy5mb3JtYXQoXCIuMGVcIik7Y3MucG93PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnBvdygxMCxhKX0sY3QucG93PWZ1bmN0aW9uKGEpe3JldHVybi1NYXRoLnBvdygxMCwtYSl9LGQzLnNjYWxlLnBvdz1mdW5jdGlvbigpe3JldHVybiBjdShkMy5zY2FsZS5saW5lYXIoKSwxKX0sZDMuc2NhbGUuc3FydD1mdW5jdGlvbigpe3JldHVybiBkMy5zY2FsZS5wb3coKS5leHBvbmVudCguNSl9LGQzLnNjYWxlLm9yZGluYWw9ZnVuY3Rpb24oKXtyZXR1cm4gY3coW10se3Q6XCJyYW5nZVwiLHg6W119KX0sZDMuc2NhbGUuY2F0ZWdvcnkxMD1mdW5jdGlvbigpe3JldHVybiBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoY3gpfSxkMy5zY2FsZS5jYXRlZ29yeTIwPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShjeSl9LGQzLnNjYWxlLmNhdGVnb3J5MjBiPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShjeil9LGQzLnNjYWxlLmNhdGVnb3J5MjBjPWZ1bmN0aW9uKCl7cmV0dXJuIGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShjQSl9O3ZhciBjeD1bXCIjMWY3N2I0XCIsXCIjZmY3ZjBlXCIsXCIjMmNhMDJjXCIsXCIjZDYyNzI4XCIsXCIjOTQ2N2JkXCIsXCIjOGM1NjRiXCIsXCIjZTM3N2MyXCIsXCIjN2Y3ZjdmXCIsXCIjYmNiZDIyXCIsXCIjMTdiZWNmXCJdLGN5PVtcIiMxZjc3YjRcIixcIiNhZWM3ZThcIixcIiNmZjdmMGVcIixcIiNmZmJiNzhcIixcIiMyY2EwMmNcIixcIiM5OGRmOGFcIixcIiNkNjI3MjhcIixcIiNmZjk4OTZcIixcIiM5NDY3YmRcIixcIiNjNWIwZDVcIixcIiM4YzU2NGJcIixcIiNjNDljOTRcIixcIiNlMzc3YzJcIixcIiNmN2I2ZDJcIixcIiM3ZjdmN2ZcIixcIiNjN2M3YzdcIixcIiNiY2JkMjJcIixcIiNkYmRiOGRcIixcIiMxN2JlY2ZcIixcIiM5ZWRhZTVcIl0sY3o9W1wiIzM5M2I3OVwiLFwiIzUyNTRhM1wiLFwiIzZiNmVjZlwiLFwiIzljOWVkZVwiLFwiIzYzNzkzOVwiLFwiIzhjYTI1MlwiLFwiI2I1Y2Y2YlwiLFwiI2NlZGI5Y1wiLFwiIzhjNmQzMVwiLFwiI2JkOWUzOVwiLFwiI2U3YmE1MlwiLFwiI2U3Y2I5NFwiLFwiIzg0M2MzOVwiLFwiI2FkNDk0YVwiLFwiI2Q2NjE2YlwiLFwiI2U3OTY5Y1wiLFwiIzdiNDE3M1wiLFwiI2E1NTE5NFwiLFwiI2NlNmRiZFwiLFwiI2RlOWVkNlwiXSxjQT1bXCIjMzE4MmJkXCIsXCIjNmJhZWQ2XCIsXCIjOWVjYWUxXCIsXCIjYzZkYmVmXCIsXCIjZTY1NTBkXCIsXCIjZmQ4ZDNjXCIsXCIjZmRhZTZiXCIsXCIjZmRkMGEyXCIsXCIjMzFhMzU0XCIsXCIjNzRjNDc2XCIsXCIjYTFkOTliXCIsXCIjYzdlOWMwXCIsXCIjNzU2YmIxXCIsXCIjOWU5YWM4XCIsXCIjYmNiZGRjXCIsXCIjZGFkYWViXCIsXCIjNjM2MzYzXCIsXCIjOTY5Njk2XCIsXCIjYmRiZGJkXCIsXCIjZDlkOWQ5XCJdO2QzLnNjYWxlLnF1YW50aWxlPWZ1bmN0aW9uKCl7cmV0dXJuIGNCKFtdLFtdKX0sZDMuc2NhbGUucXVhbnRpemU9ZnVuY3Rpb24oKXtyZXR1cm4gY0MoMCwxLFswLDFdKX0sZDMuc2NhbGUuaWRlbnRpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gY0QoWzAsMV0pfSxkMy5zdmc9e30sZDMuc3ZnLmFyYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgZT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxmPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGc9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cykrY0UsaD1kLmFwcGx5KHRoaXMsYXJndW1lbnRzKStjRSxpPShoPGcmJihpPWcsZz1oLGg9aSksaC1nKSxqPWk8TWF0aC5QST9cIjBcIjpcIjFcIixrPU1hdGguY29zKGcpLGw9TWF0aC5zaW4oZyksbT1NYXRoLmNvcyhoKSxuPU1hdGguc2luKGgpO3JldHVybiBpPj1jRj9lP1wiTTAsXCIrZitcIkFcIitmK1wiLFwiK2YrXCIgMCAxLDEgMCxcIisgLWYrXCJBXCIrZitcIixcIitmK1wiIDAgMSwxIDAsXCIrZitcIk0wLFwiK2UrXCJBXCIrZStcIixcIitlK1wiIDAgMSwwIDAsXCIrIC1lK1wiQVwiK2UrXCIsXCIrZStcIiAwIDEsMCAwLFwiK2UrXCJaXCI6XCJNMCxcIitmK1wiQVwiK2YrXCIsXCIrZitcIiAwIDEsMSAwLFwiKyAtZitcIkFcIitmK1wiLFwiK2YrXCIgMCAxLDEgMCxcIitmK1wiWlwiOmU/XCJNXCIrZiprK1wiLFwiK2YqbCtcIkFcIitmK1wiLFwiK2YrXCIgMCBcIitqK1wiLDEgXCIrZiptK1wiLFwiK2YqbitcIkxcIitlKm0rXCIsXCIrZSpuK1wiQVwiK2UrXCIsXCIrZStcIiAwIFwiK2orXCIsMCBcIitlKmsrXCIsXCIrZSpsK1wiWlwiOlwiTVwiK2YqaytcIixcIitmKmwrXCJBXCIrZitcIixcIitmK1wiIDAgXCIraitcIiwxIFwiK2YqbStcIixcIitmKm4rXCJMMCwwXCIrXCJaXCJ9dmFyIGE9Y0csYj1jSCxjPWNJLGQ9Y0o7cmV0dXJuIGUuaW5uZXJSYWRpdXM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9cChiKSxlKTphfSxlLm91dGVyUmFkaXVzPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPXAoYSksZSk6Yn0sZS5zdGFydEFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPXAoYSksZSk6Y30sZS5lbmRBbmdsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1wKGEpLGUpOmR9LGUuY2VudHJvaWQ9ZnVuY3Rpb24oKXt2YXIgZT0oYS5hcHBseSh0aGlzLGFyZ3VtZW50cykrYi5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzIsZj0oYy5hcHBseSh0aGlzLGFyZ3VtZW50cykrZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzIrY0U7cmV0dXJuW01hdGguY29zKGYpKmUsTWF0aC5zaW4oZikqZV19LGV9O3ZhciBjRT0tTWF0aC5QSS8yLGNGPTIqTWF0aC5QSS0xZS02O2QzLnN2Zy5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGNLKG0pfTt2YXIgY049XCJsaW5lYXJcIixjTz1kMy5tYXAoe2xpbmVhcjpjUCxcInN0ZXAtYmVmb3JlXCI6Y1EsXCJzdGVwLWFmdGVyXCI6Y1IsYmFzaXM6Y1gsXCJiYXNpcy1vcGVuXCI6Y1ksXCJiYXNpcy1jbG9zZWRcIjpjWixidW5kbGU6YyQsY2FyZGluYWw6Y1UsXCJjYXJkaW5hbC1vcGVuXCI6Y1MsXCJjYXJkaW5hbC1jbG9zZWRcIjpjVCxtb25vdG9uZTpkaH0pLGRhPVswLDIvMywxLzMsMF0sZGI9WzAsMS8zLDIvMywwXSxkYz1bMCwxLzYsMi8zLDEvNl07ZDMuc3ZnLmxpbmUucmFkaWFsPWZ1bmN0aW9uKCl7dmFyIGE9Y0soZGkpO3JldHVybiBhLnJhZGl1cz1hLngsZGVsZXRlIGEueCxhLmFuZ2xlPWEueSxkZWxldGUgYS55LGF9LGNRLnJldmVyc2U9Y1IsY1IucmV2ZXJzZT1jUSxkMy5zdmcuYXJlYT1mdW5jdGlvbigpe3JldHVybiBkaihPYmplY3QpfSxkMy5zdmcuYXJlYS5yYWRpYWw9ZnVuY3Rpb24oKXt2YXIgYT1kaihkaSk7cmV0dXJuIGEucmFkaXVzPWEueCxkZWxldGUgYS54LGEuaW5uZXJSYWRpdXM9YS54MCxkZWxldGUgYS54MCxhLm91dGVyUmFkaXVzPWEueDEsZGVsZXRlIGEueDEsYS5hbmdsZT1hLnksZGVsZXRlIGEueSxhLnN0YXJ0QW5nbGU9YS55MCxkZWxldGUgYS55MCxhLmVuZEFuZ2xlPWEueTEsZGVsZXRlIGEueTEsYX0sZDMuc3ZnLmNob3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihjLGQpe3ZhciBlPWcodGhpcyxhLGMsZCksZj1nKHRoaXMsYixjLGQpO3JldHVyblwiTVwiK2UucDAraShlLnIsZS5wMSxlLmExLWUuYTApKyhoKGUsZik/aihlLnIsZS5wMSxlLnIsZS5wMCk6aihlLnIsZS5wMSxmLnIsZi5wMCkraShmLnIsZi5wMSxmLmExLWYuYTApK2ooZi5yLGYucDEsZS5yLGUucDApKStcIlpcIn1mdW5jdGlvbiBnKGEsYixmLGcpe3ZhciBoPWIuY2FsbChhLGYsZyksaT1jLmNhbGwoYSxoLGcpLGo9ZC5jYWxsKGEsaCxnKStjRSxrPWUuY2FsbChhLGgsZykrY0U7cmV0dXJue3I6aSxhMDpqLGExOmsscDA6W2kqTWF0aC5jb3MoaiksaSpNYXRoLnNpbihqKV0scDE6W2kqTWF0aC5jb3MoayksaSpNYXRoLnNpbihrKV19fWZ1bmN0aW9uIGgoYSxiKXtyZXR1cm4gYS5hMD09Yi5hMCYmYS5hMT09Yi5hMX1mdW5jdGlvbiBpKGEsYixjKXtyZXR1cm5cIkFcIithK1wiLFwiK2ErXCIgMCBcIisgKyhjPk1hdGguUEkpK1wiLDEgXCIrYn1mdW5jdGlvbiBqKGEsYixjLGQpe3JldHVyblwiUSAwLDAgXCIrZH12YXIgYT1kayxiPWRsLGM9ZG0sZD1jSSxlPWNKO3JldHVybiBmLnJhZGl1cz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1wKGEpLGYpOmN9LGYuc291cmNlPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPXAoYiksZik6YX0sZi50YXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9cChhKSxmKTpifSxmLnN0YXJ0QW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9cChhKSxmKTpkfSxmLmVuZEFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXAoYSksZik6ZX0sZn0sZDMuc3ZnLmRpYWdvbmFsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChkLGUpe3ZhciBmPWEuY2FsbCh0aGlzLGQsZSksZz1iLmNhbGwodGhpcyxkLGUpLGg9KGYueStnLnkpLzIsaT1bZix7eDpmLngseTpofSx7eDpnLngseTpofSxnXTtyZXR1cm4gaT1pLm1hcChjKSxcIk1cIitpWzBdK1wiQ1wiK2lbMV0rXCIgXCIraVsyXStcIiBcIitpWzNdfXZhciBhPWRrLGI9ZGwsYz1kcTtyZXR1cm4gZC5zb3VyY2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9cChiKSxkKTphfSxkLnRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1wKGEpLGQpOmJ9LGQucHJvamVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGQpOmN9LGR9LGQzLnN2Zy5kaWFnb25hbFxuLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBhPWQzLnN2Zy5kaWFnb25hbCgpLGI9ZHEsYz1hLnByb2plY3Rpb247cmV0dXJuIGEucHJvamVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9jKGRyKGI9YSkpOmJ9LGF9LGQzLnN2Zy5tb3VzZT1kMy5tb3VzZSxkMy5zdmcudG91Y2hlcz1kMy50b3VjaGVzLGQzLnN2Zy5zeW1ib2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMsZCl7cmV0dXJuKGR2LmdldChhLmNhbGwodGhpcyxjLGQpKXx8ZHUpKGIuY2FsbCh0aGlzLGMsZCkpfXZhciBhPWR0LGI9ZHM7cmV0dXJuIGMudHlwZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1wKGIpLGMpOmF9LGMuc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1wKGEpLGMpOmJ9LGN9O3ZhciBkdj1kMy5tYXAoe2NpcmNsZTpkdSxjcm9zczpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNxcnQoYS81KS8yO3JldHVyblwiTVwiKyAtMypiK1wiLFwiKyAtYitcIkhcIisgLWIrXCJWXCIrIC0zKmIrXCJIXCIrYitcIlZcIisgLWIrXCJIXCIrMypiK1wiVlwiK2IrXCJIXCIrYitcIlZcIiszKmIrXCJIXCIrIC1iK1wiVlwiK2IrXCJIXCIrIC0zKmIrXCJaXCJ9LGRpYW1vbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5zcXJ0KGEvKDIqZHgpKSxjPWIqZHg7cmV0dXJuXCJNMCxcIisgLWIrXCJMXCIrYytcIiwwXCIrXCIgMCxcIitiK1wiIFwiKyAtYytcIiwwXCIrXCJaXCJ9LHNxdWFyZTpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNxcnQoYSkvMjtyZXR1cm5cIk1cIisgLWIrXCIsXCIrIC1iK1wiTFwiK2IrXCIsXCIrIC1iK1wiIFwiK2IrXCIsXCIrYitcIiBcIisgLWIrXCIsXCIrYitcIlpcIn0sXCJ0cmlhbmdsZS1kb3duXCI6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5zcXJ0KGEvZHcpLGM9Yipkdy8yO3JldHVyblwiTTAsXCIrYytcIkxcIitiK1wiLFwiKyAtYytcIiBcIisgLWIrXCIsXCIrIC1jK1wiWlwifSxcInRyaWFuZ2xlLXVwXCI6ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5zcXJ0KGEvZHcpLGM9Yipkdy8yO3JldHVyblwiTTAsXCIrIC1jK1wiTFwiK2IrXCIsXCIrYytcIiBcIisgLWIrXCIsXCIrYytcIlpcIn19KTtkMy5zdmcuc3ltYm9sVHlwZXM9ZHYua2V5cygpO3ZhciBkdz1NYXRoLnNxcnQoMyksZHg9TWF0aC50YW4oMzAqTWF0aC5QSS8xODApO2QzLnN2Zy5heGlzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gayhrKXtrLmVhY2goZnVuY3Rpb24oKXt2YXIgaz1kMy5zZWxlY3QodGhpcyksbD1oPT1udWxsP2EudGlja3M/YS50aWNrcy5hcHBseShhLGcpOmEuZG9tYWluKCk6aCxtPWk9PW51bGw/YS50aWNrRm9ybWF0P2EudGlja0Zvcm1hdC5hcHBseShhLGcpOlN0cmluZzppLG49ZEEoYSxsLGopLG89ay5zZWxlY3RBbGwoXCIubWlub3JcIikuZGF0YShuLFN0cmluZykscD1vLmVudGVyKCkuaW5zZXJ0KFwibGluZVwiLFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcInRpY2sgbWlub3JcIikuc3R5bGUoXCJvcGFjaXR5XCIsMWUtNikscT1kMy50cmFuc2l0aW9uKG8uZXhpdCgpKS5zdHlsZShcIm9wYWNpdHlcIiwxZS02KS5yZW1vdmUoKSxyPWQzLnRyYW5zaXRpb24obykuc3R5bGUoXCJvcGFjaXR5XCIsMSkscz1rLnNlbGVjdEFsbChcImdcIikuZGF0YShsLFN0cmluZyksdD1zLmVudGVyKCkuaW5zZXJ0KFwiZ1wiLFwicGF0aFwiKS5zdHlsZShcIm9wYWNpdHlcIiwxZS02KSx1PWQzLnRyYW5zaXRpb24ocy5leGl0KCkpLnN0eWxlKFwib3BhY2l0eVwiLDFlLTYpLnJlbW92ZSgpLHY9ZDMudHJhbnNpdGlvbihzKS5zdHlsZShcIm9wYWNpdHlcIiwxKSx3LHg9Y2YoYSkseT1rLnNlbGVjdEFsbChcIi5kb21haW5cIikuZGF0YShbMF0pLHo9eS5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsXCJkb21haW5cIiksQT1kMy50cmFuc2l0aW9uKHkpLEI9YS5jb3B5KCksQz10aGlzLl9fY2hhcnRfX3x8Qjt0aGlzLl9fY2hhcnRfXz1CLHQuYXBwZW5kKFwibGluZVwiKS5hdHRyKFwiY2xhc3NcIixcInRpY2tcIiksdC5hcHBlbmQoXCJ0ZXh0XCIpO3ZhciBEPXQuc2VsZWN0KFwibGluZVwiKSxFPXYuc2VsZWN0KFwibGluZVwiKSxGPXMuc2VsZWN0KFwidGV4dFwiKS50ZXh0KG0pLEc9dC5zZWxlY3QoXCJ0ZXh0XCIpLEg9di5zZWxlY3QoXCJ0ZXh0XCIpO3N3aXRjaChiKXtjYXNlXCJib3R0b21cIjp3PWR5LHAuYXR0cihcInkyXCIsZCksci5hdHRyKFwieDJcIiwwKS5hdHRyKFwieTJcIixkKSxELmF0dHIoXCJ5MlwiLGMpLEcuYXR0cihcInlcIixNYXRoLm1heChjLDApK2YpLEUuYXR0cihcIngyXCIsMCkuYXR0cihcInkyXCIsYyksSC5hdHRyKFwieFwiLDApLmF0dHIoXCJ5XCIsTWF0aC5tYXgoYywwKStmKSxGLmF0dHIoXCJkeVwiLFwiLjcxZW1cIikuYXR0cihcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIiksQS5hdHRyKFwiZFwiLFwiTVwiK3hbMF0rXCIsXCIrZStcIlYwSFwiK3hbMV0rXCJWXCIrZSk7YnJlYWs7Y2FzZVwidG9wXCI6dz1keSxwLmF0dHIoXCJ5MlwiLC1kKSxyLmF0dHIoXCJ4MlwiLDApLmF0dHIoXCJ5MlwiLC1kKSxELmF0dHIoXCJ5MlwiLC1jKSxHLmF0dHIoXCJ5XCIsLShNYXRoLm1heChjLDApK2YpKSxFLmF0dHIoXCJ4MlwiLDApLmF0dHIoXCJ5MlwiLC1jKSxILmF0dHIoXCJ4XCIsMCkuYXR0cihcInlcIiwtKE1hdGgubWF4KGMsMCkrZikpLEYuYXR0cihcImR5XCIsXCIwZW1cIikuYXR0cihcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIiksQS5hdHRyKFwiZFwiLFwiTVwiK3hbMF0rXCIsXCIrIC1lK1wiVjBIXCIreFsxXStcIlZcIisgLWUpO2JyZWFrO2Nhc2VcImxlZnRcIjp3PWR6LHAuYXR0cihcIngyXCIsLWQpLHIuYXR0cihcIngyXCIsLWQpLmF0dHIoXCJ5MlwiLDApLEQuYXR0cihcIngyXCIsLWMpLEcuYXR0cihcInhcIiwtKE1hdGgubWF4KGMsMCkrZikpLEUuYXR0cihcIngyXCIsLWMpLmF0dHIoXCJ5MlwiLDApLEguYXR0cihcInhcIiwtKE1hdGgubWF4KGMsMCkrZikpLmF0dHIoXCJ5XCIsMCksRi5hdHRyKFwiZHlcIixcIi4zMmVtXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpLEEuYXR0cihcImRcIixcIk1cIisgLWUrXCIsXCIreFswXStcIkgwVlwiK3hbMV0rXCJIXCIrIC1lKTticmVhaztjYXNlXCJyaWdodFwiOnc9ZHoscC5hdHRyKFwieDJcIixkKSxyLmF0dHIoXCJ4MlwiLGQpLmF0dHIoXCJ5MlwiLDApLEQuYXR0cihcIngyXCIsYyksRy5hdHRyKFwieFwiLE1hdGgubWF4KGMsMCkrZiksRS5hdHRyKFwieDJcIixjKS5hdHRyKFwieTJcIiwwKSxILmF0dHIoXCJ4XCIsTWF0aC5tYXgoYywwKStmKS5hdHRyKFwieVwiLDApLEYuYXR0cihcImR5XCIsXCIuMzJlbVwiKS5hdHRyKFwidGV4dC1hbmNob3JcIixcInN0YXJ0XCIpLEEuYXR0cihcImRcIixcIk1cIitlK1wiLFwiK3hbMF0rXCJIMFZcIit4WzFdK1wiSFwiK2UpfWlmKGEudGlja3MpdC5jYWxsKHcsQyksdi5jYWxsKHcsQiksdS5jYWxsKHcsQikscC5jYWxsKHcsQyksci5jYWxsKHcsQikscS5jYWxsKHcsQik7ZWxzZXt2YXIgST1CLnJhbmdlQmFuZCgpLzIsSj1mdW5jdGlvbihhKXtyZXR1cm4gQihhKStJfTt0LmNhbGwodyxKKSx2LmNhbGwodyxKKX19KX12YXIgYT1kMy5zY2FsZS5saW5lYXIoKSxiPVwiYm90dG9tXCIsYz02LGQ9NixlPTYsZj0zLGc9WzEwXSxoPW51bGwsaSxqPTA7cmV0dXJuIGsuc2NhbGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9YixrKTphfSxrLm9yaWVudD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGspOmJ9LGsudGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz1hcmd1bWVudHMsayk6Z30say50aWNrVmFsdWVzPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPWEsayk6aH0say50aWNrRm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPWEsayk6aX0say50aWNrU2l6ZT1mdW5jdGlvbihhLGIsZil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGM7dmFyIGc9YXJndW1lbnRzLmxlbmd0aC0xO3JldHVybiBjPSthLGQ9Zz4xPytiOmMsZT1nPjA/K2FyZ3VtZW50c1tnXTpjLGt9LGsudGlja1BhZGRpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9K2Esayk6Zn0say50aWNrU3ViZGl2aWRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhqPSthLGspOmp9LGt9LGQzLnN2Zy5icnVzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoYSl7YS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9ZDMuc2VsZWN0KHRoaXMpLGU9YS5zZWxlY3RBbGwoXCIuYmFja2dyb3VuZFwiKS5kYXRhKFswXSksZj1hLnNlbGVjdEFsbChcIi5leHRlbnRcIikuZGF0YShbMF0pLGw9YS5zZWxlY3RBbGwoXCIucmVzaXplXCIpLmRhdGEoZCxTdHJpbmcpLG07YS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJhbGxcIikub24oXCJtb3VzZWRvd24uYnJ1c2hcIixrKS5vbihcInRvdWNoc3RhcnQuYnJ1c2hcIixrKSxlLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixcImJhY2tncm91bmRcIikuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikuc3R5bGUoXCJjdXJzb3JcIixcImNyb3NzaGFpclwiKSxmLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixcImV4dGVudFwiKS5zdHlsZShcImN1cnNvclwiLFwibW92ZVwiKSxsLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm5cInJlc2l6ZSBcIithfSkuc3R5bGUoXCJjdXJzb3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZEJbYV19KS5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ4XCIsZnVuY3Rpb24oYSl7cmV0dXJuL1tld10kLy50ZXN0KGEpPy0zOm51bGx9KS5hdHRyKFwieVwiLGZ1bmN0aW9uKGEpe3JldHVybi9eW25zXS8udGVzdChhKT8tMzpudWxsfSkuYXR0cihcIndpZHRoXCIsNikuYXR0cihcImhlaWdodFwiLDYpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLGwuc3R5bGUoXCJkaXNwbGF5XCIsZy5lbXB0eSgpP1wibm9uZVwiOm51bGwpLGwuZXhpdCgpLnJlbW92ZSgpLGImJihtPWNmKGIpLGUuYXR0cihcInhcIixtWzBdKS5hdHRyKFwid2lkdGhcIixtWzFdLW1bMF0pLGkoYSkpLGMmJihtPWNmKGMpLGUuYXR0cihcInlcIixtWzBdKS5hdHRyKFwiaGVpZ2h0XCIsbVsxXS1tWzBdKSxqKGEpKSxoKGEpfSl9ZnVuY3Rpb24gaChhKXthLnNlbGVjdEFsbChcIi5yZXNpemVcIikuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGEpe3JldHVyblwidHJhbnNsYXRlKFwiK2VbKy9lJC8udGVzdChhKV1bMF0rXCIsXCIrZVsrL15zLy50ZXN0KGEpXVsxXStcIilcIn0pfWZ1bmN0aW9uIGkoYSl7YS5zZWxlY3QoXCIuZXh0ZW50XCIpLmF0dHIoXCJ4XCIsZVswXVswXSksYS5zZWxlY3RBbGwoXCIuZXh0ZW50LC5uPnJlY3QsLnM+cmVjdFwiKS5hdHRyKFwid2lkdGhcIixlWzFdWzBdLWVbMF1bMF0pfWZ1bmN0aW9uIGooYSl7YS5zZWxlY3QoXCIuZXh0ZW50XCIpLmF0dHIoXCJ5XCIsZVswXVsxXSksYS5zZWxlY3RBbGwoXCIuZXh0ZW50LC5lPnJlY3QsLnc+cmVjdFwiKS5hdHRyKFwiaGVpZ2h0XCIsZVsxXVsxXS1lWzBdWzFdKX1mdW5jdGlvbiBrKCl7ZnVuY3Rpb24geCgpe3ZhciBhPWQzLmV2ZW50LmNoYW5nZWRUb3VjaGVzO3JldHVybiBhP2QzLnRvdWNoZXMoZCxhKVswXTpkMy5tb3VzZShkKX1mdW5jdGlvbiB5KCl7ZDMuZXZlbnQua2V5Q29kZT09MzImJihxfHwocj1udWxsLHNbMF0tPWVbMV1bMF0sc1sxXS09ZVsxXVsxXSxxPTIpLFkoKSl9ZnVuY3Rpb24geigpe2QzLmV2ZW50LmtleUNvZGU9PTMyJiZxPT0yJiYoc1swXSs9ZVsxXVswXSxzWzFdKz1lWzFdWzFdLHE9MCxZKCkpfWZ1bmN0aW9uIEEoKXt2YXIgYT14KCksZD0hMTt0JiYoYVswXSs9dFswXSxhWzFdKz10WzFdKSxxfHwoZDMuZXZlbnQuYWx0S2V5PyhyfHwocj1bKGVbMF1bMF0rZVsxXVswXSkvMiwoZVswXVsxXStlWzFdWzFdKS8yXSksc1swXT1lWysoYVswXTxyWzBdKV1bMF0sc1sxXT1lWysoYVsxXTxyWzFdKV1bMV0pOnI9bnVsbCksbyYmQihhLGIsMCkmJihpKG0pLGQ9ITApLHAmJkIoYSxjLDEpJiYoaihtKSxkPSEwKSxkJiYoaChtKSxsKHt0eXBlOlwiYnJ1c2hcIixtb2RlOnE/XCJtb3ZlXCI6XCJyZXNpemVcIn0pKX1mdW5jdGlvbiBCKGEsYixjKXt2YXIgZD1jZihiKSxnPWRbMF0saD1kWzFdLGk9c1tjXSxqPWVbMV1bY10tZVswXVtjXSxrLGw7cSYmKGctPWksaC09aitpKSxrPU1hdGgubWF4KGcsTWF0aC5taW4oaCxhW2NdKSkscT9sPShrKz1pKStqOihyJiYoaT1NYXRoLm1heChnLE1hdGgubWluKGgsMipyW2NdLWspKSksaTxrPyhsPWssaz1pKTpsPWkpO2lmKGVbMF1bY10hPT1rfHxlWzFdW2NdIT09bClyZXR1cm4gZj1udWxsLGVbMF1bY109ayxlWzFdW2NdPWwsITB9ZnVuY3Rpb24gQygpe0EoKSxtLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcImFsbFwiKS5zZWxlY3RBbGwoXCIucmVzaXplXCIpLnN0eWxlKFwiZGlzcGxheVwiLGcuZW1wdHkoKT9cIm5vbmVcIjpudWxsKSxkMy5zZWxlY3QoXCJib2R5XCIpLnN0eWxlKFwiY3Vyc29yXCIsbnVsbCksdS5vbihcIm1vdXNlbW92ZS5icnVzaFwiLG51bGwpLm9uKFwibW91c2V1cC5icnVzaFwiLG51bGwpLm9uKFwidG91Y2htb3ZlLmJydXNoXCIsbnVsbCkub24oXCJ0b3VjaGVuZC5icnVzaFwiLG51bGwpLm9uKFwia2V5ZG93bi5icnVzaFwiLG51bGwpLm9uKFwia2V5dXAuYnJ1c2hcIixudWxsKSxsKHt0eXBlOlwiYnJ1c2hlbmRcIn0pLFkoKX12YXIgZD10aGlzLGs9ZDMuc2VsZWN0KGQzLmV2ZW50LnRhcmdldCksbD1hLm9mKGQsYXJndW1lbnRzKSxtPWQzLnNlbGVjdChkKSxuPWsuZGF0dW0oKSxvPSEvXihufHMpJC8udGVzdChuKSYmYixwPSEvXihlfHcpJC8udGVzdChuKSYmYyxxPWsuY2xhc3NlZChcImV4dGVudFwiKSxyLHM9eCgpLHQsdT1kMy5zZWxlY3Qod2luZG93KS5vbihcIm1vdXNlbW92ZS5icnVzaFwiLEEpLm9uKFwibW91c2V1cC5icnVzaFwiLEMpLm9uKFwidG91Y2htb3ZlLmJydXNoXCIsQSkub24oXCJ0b3VjaGVuZC5icnVzaFwiLEMpLm9uKFwia2V5ZG93bi5icnVzaFwiLHkpLm9uKFwia2V5dXAuYnJ1c2hcIix6KTtpZihxKXNbMF09ZVswXVswXS1zWzBdLHNbMV09ZVswXVsxXS1zWzFdO2Vsc2UgaWYobil7dmFyIHY9Ky93JC8udGVzdChuKSx3PSsvXm4vLnRlc3Qobik7dD1bZVsxLXZdWzBdLXNbMF0sZVsxLXddWzFdLXNbMV1dLHNbMF09ZVt2XVswXSxzWzFdPWVbd11bMV19ZWxzZSBkMy5ldmVudC5hbHRLZXkmJihyPXMuc2xpY2UoKSk7bS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLnNlbGVjdEFsbChcIi5yZXNpemVcIikuc3R5bGUoXCJkaXNwbGF5XCIsbnVsbCksZDMuc2VsZWN0KFwiYm9keVwiKS5zdHlsZShcImN1cnNvclwiLGsuc3R5bGUoXCJjdXJzb3JcIikpLGwoe3R5cGU6XCJicnVzaHN0YXJ0XCJ9KSxBKCksWSgpfXZhciBhPSQoZyxcImJydXNoc3RhcnRcIixcImJydXNoXCIsXCJicnVzaGVuZFwiKSxiPW51bGwsYz1udWxsLGQ9ZENbMF0sZT1bWzAsMF0sWzAsMF1dLGY7cmV0dXJuIGcueD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGQ9ZENbIWI8PDF8IWNdLGcpOmJ9LGcueT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGQ9ZENbIWI8PDF8IWNdLGcpOmN9LGcuZXh0ZW50PWZ1bmN0aW9uKGEpe3ZhciBkLGgsaSxqLGs7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGY9W1swLDBdLFswLDBdXSxiJiYoZD1hWzBdLGg9YVsxXSxjJiYoZD1kWzBdLGg9aFswXSksZlswXVswXT1kLGZbMV1bMF09aCxiLmludmVydCYmKGQ9YihkKSxoPWIoaCkpLGg8ZCYmKGs9ZCxkPWgsaD1rKSxlWzBdWzBdPWR8MCxlWzFdWzBdPWh8MCksYyYmKGk9YVswXSxqPWFbMV0sYiYmKGk9aVsxXSxqPWpbMV0pLGZbMF1bMV09aSxmWzFdWzFdPWosYy5pbnZlcnQmJihpPWMoaSksaj1jKGopKSxqPGkmJihrPWksaT1qLGo9ayksZVswXVsxXT1pfDAsZVsxXVsxXT1qfDApLGcpOihhPWZ8fGUsYiYmKGQ9YVswXVswXSxoPWFbMV1bMF0sZnx8KGQ9ZVswXVswXSxoPWVbMV1bMF0sYi5pbnZlcnQmJihkPWIuaW52ZXJ0KGQpLGg9Yi5pbnZlcnQoaCkpLGg8ZCYmKGs9ZCxkPWgsaD1rKSkpLGMmJihpPWFbMF1bMV0saj1hWzFdWzFdLGZ8fChpPWVbMF1bMV0saj1lWzFdWzFdLGMuaW52ZXJ0JiYoaT1jLmludmVydChpKSxqPWMuaW52ZXJ0KGopKSxqPGkmJihrPWksaT1qLGo9aykpKSxiJiZjP1tbZCxpXSxbaCxqXV06Yj9bZCxoXTpjJiZbaSxqXSl9LGcuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gZj1udWxsLGVbMF1bMF09ZVswXVsxXT1lWzFdWzBdPWVbMV1bMV09MCxnfSxnLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIGImJmVbMF1bMF09PT1lWzFdWzBdfHxjJiZlWzBdWzFdPT09ZVsxXVsxXX0sZDMucmViaW5kKGcsYSxcIm9uXCIpfTt2YXIgZEI9e246XCJucy1yZXNpemVcIixlOlwiZXctcmVzaXplXCIsczpcIm5zLXJlc2l6ZVwiLHc6XCJldy1yZXNpemVcIixudzpcIm53c2UtcmVzaXplXCIsbmU6XCJuZXN3LXJlc2l6ZVwiLHNlOlwibndzZS1yZXNpemVcIixzdzpcIm5lc3ctcmVzaXplXCJ9LGRDPVtbXCJuXCIsXCJlXCIsXCJzXCIsXCJ3XCIsXCJud1wiLFwibmVcIixcInNlXCIsXCJzd1wiXSxbXCJlXCIsXCJ3XCJdLFtcIm5cIixcInNcIl0sW11dO2QzLmJlaGF2aW9yPXt9LGQzLmJlaGF2aW9yLmRyYWc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dGhpcy5vbihcIm1vdXNlZG93bi5kcmFnXCIsZCkub24oXCJ0b3VjaHN0YXJ0LmRyYWdcIixkKX1mdW5jdGlvbiBkKCl7ZnVuY3Rpb24gaigpe3ZhciBhPWMucGFyZW50Tm9kZSxiPWQzLmV2ZW50LmNoYW5nZWRUb3VjaGVzO3JldHVybiBiP2QzLnRvdWNoZXMoYSxiKVswXTpkMy5tb3VzZShhKX1mdW5jdGlvbiBrKCl7aWYoIWMucGFyZW50Tm9kZSlyZXR1cm4gbCgpO3ZhciBhPWooKSxiPWFbMF0tZ1swXSxlPWFbMV0tZ1sxXTtofD1ifGUsZz1hLFkoKSxkKHt0eXBlOlwiZHJhZ1wiLHg6YVswXStmWzBdLHk6YVsxXStmWzFdLGR4OmIsZHk6ZX0pfWZ1bmN0aW9uIGwoKXtkKHt0eXBlOlwiZHJhZ2VuZFwifSksaCYmKFkoKSxkMy5ldmVudC50YXJnZXQ9PT1lJiZpLm9uKFwiY2xpY2suZHJhZ1wiLG0sITApKSxpLm9uKFwibW91c2Vtb3ZlLmRyYWdcIixudWxsKS5vbihcInRvdWNobW92ZS5kcmFnXCIsbnVsbCkub24oXCJtb3VzZXVwLmRyYWdcIixudWxsKS5vbihcInRvdWNoZW5kLmRyYWdcIixudWxsKX1mdW5jdGlvbiBtKCl7WSgpLGkub24oXCJjbGljay5kcmFnXCIsbnVsbCl9dmFyIGM9dGhpcyxkPWEub2YoYyxhcmd1bWVudHMpLGU9ZDMuZXZlbnQudGFyZ2V0LGYsZz1qKCksaD0wLGk9ZDMuc2VsZWN0KHdpbmRvdykub24oXCJtb3VzZW1vdmUuZHJhZ1wiLGspLm9uKFwidG91Y2htb3ZlLmRyYWdcIixrKS5vbihcIm1vdXNldXAuZHJhZ1wiLGwsITApLm9uKFwidG91Y2hlbmQuZHJhZ1wiLGwsITApO2I/KGY9Yi5hcHBseShjLGFyZ3VtZW50cyksZj1bZi54LWdbMF0sZi55LWdbMV1dKTpmPVswLDBdLFkoKSxkKHt0eXBlOlwiZHJhZ3N0YXJ0XCJ9KX12YXIgYT0kKGMsXCJkcmFnXCIsXCJkcmFnc3RhcnRcIixcImRyYWdlbmRcIiksYj1udWxsO3JldHVybiBjLm9yaWdpbj1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGMpOmJ9LGQzLnJlYmluZChjLGEsXCJvblwiKX0sZDMuYmVoYXZpb3Iuem9vbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGwoKXt0aGlzLm9uKFwibW91c2Vkb3duLnpvb21cIixyKS5vbihcIm1vdXNld2hlZWwuem9vbVwiLHMpLm9uKFwibW91c2Vtb3ZlLnpvb21cIix0KS5vbihcIkRPTU1vdXNlU2Nyb2xsLnpvb21cIixzKS5vbihcImRibGNsaWNrLnpvb21cIix1KS5vbihcInRvdWNoc3RhcnQuem9vbVwiLHYpLm9uKFwidG91Y2htb3ZlLnpvb21cIix3KS5vbihcInRvdWNoZW5kLnpvb21cIix2KX1mdW5jdGlvbiBtKGIpe3JldHVyblsoYlswXS1hWzBdKS9jLChiWzFdLWFbMV0pL2NdfWZ1bmN0aW9uIG4oYil7cmV0dXJuW2JbMF0qYythWzBdLGJbMV0qYythWzFdXX1mdW5jdGlvbiBvKGEpe2M9TWF0aC5tYXgoZVswXSxNYXRoLm1pbihlWzFdLGEpKX1mdW5jdGlvbiBwKGIsYyl7Yz1uKGMpLGFbMF0rPWJbMF0tY1swXSxhWzFdKz1iWzFdLWNbMV19ZnVuY3Rpb24gcShiKXtoJiZoLmRvbWFpbihnLnJhbmdlKCkubWFwKGZ1bmN0aW9uKGIpe3JldHVybihiLWFbMF0pL2N9KS5tYXAoZy5pbnZlcnQpKSxqJiZqLmRvbWFpbihpLnJhbmdlKCkubWFwKGZ1bmN0aW9uKGIpe3JldHVybihiLWFbMV0pL2N9KS5tYXAoaS5pbnZlcnQpKSxkMy5ldmVudC5wcmV2ZW50RGVmYXVsdCgpLGIoe3R5cGU6XCJ6b29tXCIsc2NhbGU6Yyx0cmFuc2xhdGU6YX0pfWZ1bmN0aW9uIHIoKXtmdW5jdGlvbiBoKCl7ZD0xLHAoZDMubW91c2UoYSksZykscShiKX1mdW5jdGlvbiBpKCl7ZCYmWSgpLGUub24oXCJtb3VzZW1vdmUuem9vbVwiLG51bGwpLm9uKFwibW91c2V1cC56b29tXCIsbnVsbCksZCYmZDMuZXZlbnQudGFyZ2V0PT09YyYmZS5vbihcImNsaWNrLnpvb21cIixqLCEwKX1mdW5jdGlvbiBqKCl7WSgpLGUub24oXCJjbGljay56b29tXCIsbnVsbCl9dmFyIGE9dGhpcyxiPWYub2YoYSxhcmd1bWVudHMpLGM9ZDMuZXZlbnQudGFyZ2V0LGQ9MCxlPWQzLnNlbGVjdCh3aW5kb3cpLm9uKFwibW91c2Vtb3ZlLnpvb21cIixoKS5vbihcIm1vdXNldXAuem9vbVwiLGkpLGc9bShkMy5tb3VzZShhKSk7d2luZG93LmZvY3VzKCksWSgpfWZ1bmN0aW9uIHMoKXtifHwoYj1tKGQzLm1vdXNlKHRoaXMpKSksbyhNYXRoLnBvdygyLGRGKCkqLjAwMikqYykscChkMy5tb3VzZSh0aGlzKSxiKSxxKGYub2YodGhpcyxhcmd1bWVudHMpKX1mdW5jdGlvbiB0KCl7Yj1udWxsfWZ1bmN0aW9uIHUoKXt2YXIgYT1kMy5tb3VzZSh0aGlzKSxiPW0oYSk7byhkMy5ldmVudC5zaGlmdEtleT9jLzI6YyoyKSxwKGEsYikscShmLm9mKHRoaXMsYXJndW1lbnRzKSl9ZnVuY3Rpb24gdigpe3ZhciBhPWQzLnRvdWNoZXModGhpcyksZT1EYXRlLm5vdygpO2Q9YyxiPXt9LGEuZm9yRWFjaChmdW5jdGlvbihhKXtiW2EuaWRlbnRpZmllcl09bShhKX0pLFkoKTtpZihhLmxlbmd0aD09PTEmJmUtazw1MDApe3ZhciBnPWFbMF0saD1tKGFbMF0pO28oYyoyKSxwKGcsaCkscShmLm9mKHRoaXMsYXJndW1lbnRzKSl9az1lfWZ1bmN0aW9uIHcoKXt2YXIgYT1kMy50b3VjaGVzKHRoaXMpLGM9YVswXSxlPWJbYy5pZGVudGlmaWVyXTtpZihnPWFbMV0pe3ZhciBnLGg9YltnLmlkZW50aWZpZXJdO2M9WyhjWzBdK2dbMF0pLzIsKGNbMV0rZ1sxXSkvMl0sZT1bKGVbMF0raFswXSkvMiwoZVsxXStoWzFdKS8yXSxvKGQzLmV2ZW50LnNjYWxlKmQpfXAoYyxlKSxxKGYub2YodGhpcyxhcmd1bWVudHMpKX12YXIgYT1bMCwwXSxiLGM9MSxkLGU9ZEUsZj0kKGwsXCJ6b29tXCIpLGcsaCxpLGosaztyZXR1cm4gbC50cmFuc2xhdGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9Yi5tYXAoTnVtYmVyKSxsKTphfSxsLnNjYWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPSthLGwpOmN9LGwuc2NhbGVFeHRlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9YT09bnVsbD9kRTphLm1hcChOdW1iZXIpLGwpOmV9LGwueD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1hLGc9YS5jb3B5KCksbCk6aH0sbC55PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhqPWEsaT1hLmNvcHkoKSxsKTpqfSxkMy5yZWJpbmQobCxmLFwib25cIil9O3ZhciBkRCxkRT1bMCxJbmZpbml0eV07ZDMubGF5b3V0PXt9LGQzLmxheW91dC5idW5kbGU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGI9W10sYz0tMSxkPWEubGVuZ3RoO3doaWxlKCsrYzxkKWIucHVzaChkRyhhW2NdKSk7cmV0dXJuIGJ9fSxkMy5sYXlvdXQuY2hvcmQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBqKCl7dmFyIGE9e30saj1bXSxsPWQzLnJhbmdlKGUpLG09W10sbixvLHAscSxyO2I9W10sYz1bXSxuPTAscT0tMTt3aGlsZSgrK3E8ZSl7bz0wLHI9LTE7d2hpbGUoKytyPGUpbys9ZFtxXVtyXTtqLnB1c2gobyksbS5wdXNoKGQzLnJhbmdlKGUpKSxuKz1vfWcmJmwuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBnKGpbYV0saltiXSl9KSxoJiZtLmZvckVhY2goZnVuY3Rpb24oYSxiKXthLnNvcnQoZnVuY3Rpb24oYSxjKXtyZXR1cm4gaChkW2JdW2FdLGRbYl1bY10pfSl9KSxuPSgyKk1hdGguUEktZiplKS9uLG89MCxxPS0xO3doaWxlKCsrcTxlKXtwPW8scj0tMTt3aGlsZSgrK3I8ZSl7dmFyIHM9bFtxXSx0PW1bc11bcl0sdT1kW3NdW3RdLHY9byx3PW8rPXUqbjthW3MrXCItXCIrdF09e2luZGV4OnMsc3ViaW5kZXg6dCxzdGFydEFuZ2xlOnYsZW5kQW5nbGU6dyx2YWx1ZTp1fX1jW3NdPXtpbmRleDpzLHN0YXJ0QW5nbGU6cCxlbmRBbmdsZTpvLHZhbHVlOihvLXApL259LG8rPWZ9cT0tMTt3aGlsZSgrK3E8ZSl7cj1xLTE7d2hpbGUoKytyPGUpe3ZhciB4PWFbcStcIi1cIityXSx5PWFbcitcIi1cIitxXTsoeC52YWx1ZXx8eS52YWx1ZSkmJmIucHVzaCh4LnZhbHVlPHkudmFsdWU/e3NvdXJjZTp5LHRhcmdldDp4fTp7c291cmNlOngsdGFyZ2V0Onl9KX19aSYmaygpfWZ1bmN0aW9uIGsoKXtiLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gaSgoYS5zb3VyY2UudmFsdWUrYS50YXJnZXQudmFsdWUpLzIsKGIuc291cmNlLnZhbHVlK2IudGFyZ2V0LnZhbHVlKS8yKX0pfXZhciBhPXt9LGIsYyxkLGUsZj0wLGcsaCxpO3JldHVybiBhLm1hdHJpeD1mdW5jdGlvbihmKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0oZD1mKSYmZC5sZW5ndGgsYj1jPW51bGwsYSk6ZH0sYS5wYWRkaW5nPWZ1bmN0aW9uKGQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPWQsYj1jPW51bGwsYSk6Zn0sYS5zb3J0R3JvdXBzPWZ1bmN0aW9uKGQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPWQsYj1jPW51bGwsYSk6Z30sYS5zb3J0U3ViZ3JvdXBzPWZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPWMsYj1udWxsLGEpOmh9LGEuc29ydENob3Jkcz1mdW5jdGlvbihjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1jLGImJmsoKSxhKTppfSxhLmNob3Jkcz1mdW5jdGlvbigpe3JldHVybiBifHxqKCksYn0sYS5ncm91cHM9ZnVuY3Rpb24oKXtyZXR1cm4gY3x8aigpLGN9LGF9LGQzLmxheW91dC5mb3JjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYi5wb2ludCE9PWEpe3ZhciBnPWIuY3gtYS54LGg9Yi5jeS1hLnksaT0xL01hdGguc3FydChnKmcraCpoKTtpZigoZS1jKSppPGspe3ZhciBqPWIuY2hhcmdlKmkqaTtyZXR1cm4gYS5weC09ZypqLGEucHktPWgqaiwhMH1pZihiLnBvaW50JiZpc0Zpbml0ZShpKSl7dmFyIGo9Yi5wb2ludENoYXJnZSppKmk7YS5weC09ZypqLGEucHktPWgqan19cmV0dXJuIWIuY2hhcmdlfX1mdW5jdGlvbiB1KGIpe2RMKGRLPWIpLGRKPWF9dmFyIGE9e30sYj1kMy5kaXNwYXRjaChcInN0YXJ0XCIsXCJ0aWNrXCIsXCJlbmRcIiksYz1bMSwxXSxkLGUsZj0uOSxnPWRRLGg9ZFIsaT0tMzAsaj0uMSxrPS44LGwsbj1bXSxvPVtdLHEscixzO3JldHVybiBhLnRpY2s9ZnVuY3Rpb24oKXtpZigoZSo9Ljk5KTwuMDA1KXJldHVybiBiLmVuZCh7dHlwZTpcImVuZFwiLGFscGhhOmU9MH0pLCEwO3ZhciBhPW4ubGVuZ3RoLGQ9by5sZW5ndGgsZyxoLGssbCxtLHAsdSx2LHc7Zm9yKGg9MDtoPGQ7KytoKXtrPW9baF0sbD1rLnNvdXJjZSxtPWsudGFyZ2V0LHY9bS54LWwueCx3PW0ueS1sLnk7aWYocD12KnYrdyp3KXA9ZSpyW2hdKigocD1NYXRoLnNxcnQocCkpLXFbaF0pL3Asdio9cCx3Kj1wLG0ueC09dioodT1sLndlaWdodC8obS53ZWlnaHQrbC53ZWlnaHQpKSxtLnktPXcqdSxsLngrPXYqKHU9MS11KSxsLnkrPXcqdX1pZih1PWUqail7dj1jWzBdLzIsdz1jWzFdLzIsaD0tMTtpZih1KXdoaWxlKCsraDxhKWs9bltoXSxrLngrPSh2LWsueCkqdSxrLnkrPSh3LWsueSkqdX1pZihpKXtkUChnPWQzLmdlb20ucXVhZHRyZWUobiksZSxzKSxoPS0xO3doaWxlKCsraDxhKShrPW5baF0pLmZpeGVkfHxnLnZpc2l0KHQoaykpfWg9LTE7d2hpbGUoKytoPGEpaz1uW2hdLGsuZml4ZWQ/KGsueD1rLnB4LGsueT1rLnB5KTooay54LT0oay5weC0oay5weD1rLngpKSpmLGsueS09KGsucHktKGsucHk9ay55KSkqZik7Yi50aWNrKHt0eXBlOlwidGlja1wiLGFscGhhOmV9KX0sYS5ub2Rlcz1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1iLGEpOm59LGEubGlua3M9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89YixhKTpvfSxhLnNpemU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YixhKTpjfSxhLmxpbmtEaXN0YW5jZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz1wKGIpLGEpOmd9LGEuZGlzdGFuY2U9YS5saW5rRGlzdGFuY2UsYS5saW5rU3RyZW5ndGg9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9cChiKSxhKTpofSxhLmZyaWN0aW9uPWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPWIsYSk6Zn0sYS5jaGFyZ2U9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9dHlwZW9mIGI9PVwiZnVuY3Rpb25cIj9iOitiLGEpOml9LGEuZ3Jhdml0eT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaj1iLGEpOmp9LGEudGhldGE9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9YixhKTprfSxhLmFscGhhPWZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlP2M+MD9lPWM6ZT0wOmM+MCYmKGIuc3RhcnQoe3R5cGU6XCJzdGFydFwiLGFscGhhOmU9Y30pLGQzLnRpbWVyKGEudGljaykpLGEpOmV9LGEuc3RhcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBwKGEsYyl7dmFyIGQ9dChiKSxlPS0xLGY9ZC5sZW5ndGgsZzt3aGlsZSgrK2U8ZilpZighaXNOYU4oZz1kW2VdW2FdKSlyZXR1cm4gZztyZXR1cm4gTWF0aC5yYW5kb20oKSpjfWZ1bmN0aW9uIHQoKXtpZighbCl7bD1bXTtmb3IoZD0wO2Q8ZTsrK2QpbFtkXT1bXTtmb3IoZD0wO2Q8ZjsrK2Qpe3ZhciBhPW9bZF07bFthLnNvdXJjZS5pbmRleF0ucHVzaChhLnRhcmdldCksbFthLnRhcmdldC5pbmRleF0ucHVzaChhLnNvdXJjZSl9fXJldHVybiBsW2JdfXZhciBiLGQsZT1uLmxlbmd0aCxmPW8ubGVuZ3RoLGo9Y1swXSxrPWNbMV0sbCxtO2ZvcihiPTA7YjxlOysrYikobT1uW2JdKS5pbmRleD1iLG0ud2VpZ2h0PTA7cT1bXSxyPVtdO2ZvcihiPTA7YjxmOysrYiltPW9bYl0sdHlwZW9mIG0uc291cmNlPT1cIm51bWJlclwiJiYobS5zb3VyY2U9blttLnNvdXJjZV0pLHR5cGVvZiBtLnRhcmdldD09XCJudW1iZXJcIiYmKG0udGFyZ2V0PW5bbS50YXJnZXRdKSxxW2JdPWcuY2FsbCh0aGlzLG0sYikscltiXT1oLmNhbGwodGhpcyxtLGIpLCsrbS5zb3VyY2Uud2VpZ2h0LCsrbS50YXJnZXQud2VpZ2h0O2ZvcihiPTA7YjxlOysrYiltPW5bYl0saXNOYU4obS54KSYmKG0ueD1wKFwieFwiLGopKSxpc05hTihtLnkpJiYobS55PXAoXCJ5XCIsaykpLGlzTmFOKG0ucHgpJiYobS5weD1tLngpLGlzTmFOKG0ucHkpJiYobS5weT1tLnkpO3M9W107aWYodHlwZW9mIGk9PVwiZnVuY3Rpb25cIilmb3IoYj0wO2I8ZTsrK2Ipc1tiXT0raS5jYWxsKHRoaXMsbltiXSxiKTtlbHNlIGZvcihiPTA7YjxlOysrYilzW2JdPWk7cmV0dXJuIGEucmVzdW1lKCl9LGEucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYWxwaGEoLjEpfSxhLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hbHBoYSgwKX0sYS5kcmFnPWZ1bmN0aW9uKCl7ZHx8KGQ9ZDMuYmVoYXZpb3IuZHJhZygpLm9yaWdpbihtKS5vbihcImRyYWdzdGFydFwiLHUpLm9uKFwiZHJhZ1wiLGRPKS5vbihcImRyYWdlbmRcIixkTikpLHRoaXMub24oXCJtb3VzZW92ZXIuZm9yY2VcIixkTCkub24oXCJtb3VzZW91dC5mb3JjZVwiLGRNKS5jYWxsKGQpfSxkMy5yZWJpbmQoYSxiLFwib25cIil9O3ZhciBkSixkSztkMy5sYXlvdXQucGFydGl0aW9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLGIsZCxlKXt2YXIgZj1hLmNoaWxkcmVuO2EueD1iLGEueT1hLmRlcHRoKmUsYS5keD1kLGEuZHk9ZTtpZihmJiYoaD1mLmxlbmd0aCkpe3ZhciBnPS0xLGgsaSxqO2Q9YS52YWx1ZT9kL2EudmFsdWU6MDt3aGlsZSgrK2c8aCljKGk9ZltnXSxiLGo9aS52YWx1ZSpkLGUpLGIrPWp9fWZ1bmN0aW9uIGQoYSl7dmFyIGI9YS5jaGlsZHJlbixjPTA7aWYoYiYmKGY9Yi5sZW5ndGgpKXt2YXIgZT0tMSxmO3doaWxlKCsrZTxmKWM9TWF0aC5tYXgoYyxkKGJbZV0pKX1yZXR1cm4gMStjfWZ1bmN0aW9uIGUoZSxmKXt2YXIgZz1hLmNhbGwodGhpcyxlLGYpO3JldHVybiBjKGdbMF0sMCxiWzBdLGJbMV0vZChnWzBdKSksZ312YXIgYT1kMy5sYXlvdXQuaGllcmFyY2h5KCksYj1bMSwxXTtyZXR1cm4gZS5zaXplPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZSk6Yn0sZWUoZSxhKX0sZDMubGF5b3V0LnBpZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZixnKXt2YXIgaD1mLm1hcChmdW5jdGlvbihiLGMpe3JldHVybithLmNhbGwoZSxiLGMpfSksaT0rKHR5cGVvZiBjPT1cImZ1bmN0aW9uXCI/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6Yyksaj0oKHR5cGVvZiBkPT1cImZ1bmN0aW9uXCI/ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ZCktYykvZDMuc3VtKGgpLGs9ZDMucmFuZ2UoZi5sZW5ndGgpO2IhPW51bGwmJmsuc29ydChiPT09ZFM/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaFtiXS1oW2FdfTpmdW5jdGlvbihhLGMpe3JldHVybiBiKGZbYV0sZltjXSl9KTt2YXIgbD1bXTtyZXR1cm4gay5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiO2xbYV09e2RhdGE6ZlthXSx2YWx1ZTpiPWhbYV0sc3RhcnRBbmdsZTppLGVuZEFuZ2xlOmkrPWIqan19KSxsfXZhciBhPU51bWJlcixiPWRTLGM9MCxkPTIqTWF0aC5QSTtyZXR1cm4gZS52YWx1ZT1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1iLGUpOmF9LGUuc29ydD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGUpOmJ9LGUuc3RhcnRBbmdsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGUpOmN9LGUuZW5kQW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9YSxlKTpkfSxlfTt2YXIgZFM9e307ZDMubGF5b3V0LnN0YWNrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhoLGkpe3ZhciBqPWgubWFwKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChnLGIsYyl9KSxrPWoubWFwKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2UuY2FsbChnLGEsYiksZi5jYWxsKGcsYSxiKV19KX0pLGw9Yi5jYWxsKGcsayxpKTtqPWQzLnBlcm11dGUoaixsKSxrPWQzLnBlcm11dGUoayxsKTt2YXIgbT1jLmNhbGwoZyxrLGkpLG49ai5sZW5ndGgsbz1qWzBdLmxlbmd0aCxwLHEscjtmb3IocT0wO3E8bzsrK3Epe2QuY2FsbChnLGpbMF1bcV0scj1tW3FdLGtbMF1bcV1bMV0pO2ZvcihwPTE7cDxuOysrcClkLmNhbGwoZyxqW3BdW3FdLHIrPWtbcC0xXVtxXVsxXSxrW3BdW3FdWzFdKX1yZXR1cm4gaH12YXIgYT1tLGI9ZFksYz1kWixkPWRWLGU9ZFQsZj1kVTtyZXR1cm4gZy52YWx1ZXM9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9YixnKTphfSxnLm9yZGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPXR5cGVvZiBhPT1cImZ1bmN0aW9uXCI/YTpkVy5nZXQoYSl8fGRZLGcpOmJ9LGcub2Zmc2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPXR5cGVvZiBhPT1cImZ1bmN0aW9uXCI/YTpkWC5nZXQoYSl8fGRaLGcpOmN9LGcueD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1hLGcpOmV9LGcueT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1hLGcpOmZ9LGcub3V0PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPWEsZyk6ZH0sZ307dmFyIGRXPWQzLm1hcCh7XCJpbnNpZGUtb3V0XCI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGgsYyxkLGU9YS5tYXAoZCQpLGY9YS5tYXAoZF8pLGc9ZDMucmFuZ2UoYikuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBlW2FdLWVbYl19KSxoPTAsaT0wLGo9W10saz1bXTtmb3IoYz0wO2M8YjsrK2MpZD1nW2NdLGg8aT8oaCs9ZltkXSxqLnB1c2goZCkpOihpKz1mW2RdLGsucHVzaChkKSk7cmV0dXJuIGsucmV2ZXJzZSgpLmNvbmNhdChqKX0scmV2ZXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gZDMucmFuZ2UoYS5sZW5ndGgpLnJldmVyc2UoKX0sXCJkZWZhdWx0XCI6ZFl9KSxkWD1kMy5tYXAoe3NpbGhvdWV0dGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5sZW5ndGgsYz1hWzBdLmxlbmd0aCxkPVtdLGU9MCxmLGcsaCxpPVtdO2ZvcihnPTA7ZzxjOysrZyl7Zm9yKGY9MCxoPTA7ZjxiO2YrKyloKz1hW2ZdW2ddWzFdO2g+ZSYmKGU9aCksZC5wdXNoKGgpfWZvcihnPTA7ZzxjOysrZylpW2ddPShlLWRbZ10pLzI7cmV0dXJuIGl9LHdpZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCxjPWFbMF0sZD1jLmxlbmd0aCxlPTAsZixnLGgsaSxqLGssbCxtLG4sbz1bXTtvWzBdPW09bj0wO2ZvcihnPTE7ZzxkOysrZyl7Zm9yKGY9MCxpPTA7ZjxiOysrZilpKz1hW2ZdW2ddWzFdO2ZvcihmPTAsaj0wLGw9Y1tnXVswXS1jW2ctMV1bMF07ZjxiOysrZil7Zm9yKGg9MCxrPShhW2ZdW2ddWzFdLWFbZl1bZy0xXVsxXSkvKDIqbCk7aDxmOysraClrKz0oYVtoXVtnXVsxXS1hW2hdW2ctMV1bMV0pL2w7ais9ayphW2ZdW2ddWzFdfW9bZ109bS09aT9qL2kqbDowLG08biYmKG49bSl9Zm9yKGc9MDtnPGQ7KytnKW9bZ10tPW47cmV0dXJuIG99LGV4cGFuZDpmdW5jdGlvbihhKXt2YXIgYj1hLmxlbmd0aCxjPWFbMF0ubGVuZ3RoLGQ9MS9iLGUsZixnLGg9W107Zm9yKGY9MDtmPGM7KytmKXtmb3IoZT0wLGc9MDtlPGI7ZSsrKWcrPWFbZV1bZl1bMV07aWYoZylmb3IoZT0wO2U8YjtlKyspYVtlXVtmXVsxXS89ZztlbHNlIGZvcihlPTA7ZTxiO2UrKylhW2VdW2ZdWzFdPWR9Zm9yKGY9MDtmPGM7KytmKWhbZl09MDtyZXR1cm4gaH0semVybzpkWn0pO2QzLmxheW91dC5oaXN0b2dyYW09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsZil7dmFyIGc9W10saD1lLm1hcChiLHRoaXMpLGk9Yy5jYWxsKHRoaXMsaCxmKSxqPWQuY2FsbCh0aGlzLGksaCxmKSxrLGY9LTEsbD1oLmxlbmd0aCxtPWoubGVuZ3RoLTEsbj1hPzE6MS9sLG87d2hpbGUoKytmPG0paz1nW2ZdPVtdLGsuZHg9altmKzFdLShrLng9altmXSksay55PTA7aWYobT4wKXtmPS0xO3doaWxlKCsrZjxsKW89aFtmXSxvPj1pWzBdJiZvPD1pWzFdJiYoaz1nW2QzLmJpc2VjdChqLG8sMSxtKS0xXSxrLnkrPW4say5wdXNoKGVbZl0pKX1yZXR1cm4gZ312YXIgYT0hMCxiPU51bWJlcixjPWVkLGQ9ZWI7cmV0dXJuIGUudmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxlKTpifSxlLnJhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPXAoYSksZSk6Y30sZS5iaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPXR5cGVvZiBhPT1cIm51bWJlclwiP2Z1bmN0aW9uKGIpe3JldHVybiBlYyhiLGEpfTpwKGEpLGUpOmR9LGUuZnJlcXVlbmN5PWZ1bmN0aW9uKGIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPSEhYixlKTphfSxlfSxkMy5sYXlvdXQuaGllcmFyY2h5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChlLGcsaCl7dmFyIGk9Yi5jYWxsKGYsZSxnKSxqPWVqP2U6e2RhdGE6ZX07ai5kZXB0aD1nLGgucHVzaChqKTtpZihpJiYobD1pLmxlbmd0aCkpe3ZhciBrPS0xLGwsbT1qLmNoaWxkcmVuPVtdLG49MCxvPWcrMSxwO3doaWxlKCsrazxsKXA9ZChpW2tdLG8saCkscC5wYXJlbnQ9aixtLnB1c2gocCksbis9cC52YWx1ZTthJiZtLnNvcnQoYSksYyYmKGoudmFsdWU9bil9ZWxzZSBjJiYoai52YWx1ZT0rYy5jYWxsKGYsZSxnKXx8MCk7cmV0dXJuIGp9ZnVuY3Rpb24gZShhLGIpe3ZhciBkPWEuY2hpbGRyZW4sZz0wO2lmKGQmJihpPWQubGVuZ3RoKSl7dmFyIGg9LTEsaSxqPWIrMTt3aGlsZSgrK2g8aSlnKz1lKGRbaF0sail9ZWxzZSBjJiYoZz0rYy5jYWxsKGYsZWo/YTphLmRhdGEsYil8fDApO3JldHVybiBjJiYoYS52YWx1ZT1nKSxnfWZ1bmN0aW9uIGYoYSl7dmFyIGI9W107cmV0dXJuIGQoYSwwLGIpLGJ9dmFyIGE9ZWgsYj1lZixjPWVnO3JldHVybiBmLnNvcnQ9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9YixmKTphfSxmLmNoaWxkcmVuPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZik6Yn0sZi52YWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLGYpOmN9LGYucmV2YWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gZShhLDApLGF9LGZ9O3ZhciBlaj0hMTtkMy5sYXlvdXQucGFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoYyxkKXt2YXIgZT1hLmNhbGwodGhpcyxjLGQpLGY9ZVswXTtmLng9MCxmLnk9MCxlcihmKTt2YXIgZz1iWzBdLGg9YlsxXSxpPTEvTWF0aC5tYXgoMipmLnIvZywyKmYuci9oKTtyZXR1cm4gZXMoZixnLzIsaC8yLGkpLGV9dmFyIGE9ZDMubGF5b3V0LmhpZXJhcmNoeSgpLnNvcnQoZWspLGI9WzEsMV07cmV0dXJuIGMuc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1hLGMpOmJ9LGVlKGMsYSl9LGQzLmxheW91dC5jbHVzdGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChkLGUpe3ZhciBmPWEuY2FsbCh0aGlzLGQsZSksZz1mWzBdLGgsaT0wLGosaztlRihnLGZ1bmN0aW9uKGEpe3ZhciBjPWEuY2hpbGRyZW47YyYmYy5sZW5ndGg/KGEueD1ldihjKSxhLnk9ZXUoYykpOihhLng9aD9pKz1iKGEsaCk6MCxhLnk9MCxoPWEpfSk7dmFyIGw9ZXcoZyksbT1leChnKSxuPWwueC1iKGwsbSkvMixvPW0ueCtiKG0sbCkvMjtyZXR1cm4gZUYoZyxmdW5jdGlvbihhKXthLng9KGEueC1uKS8oby1uKSpjWzBdLGEueT0oMS0oZy55P2EueS9nLnk6MSkpKmNbMV19KSxmfXZhciBhPWQzLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KG51bGwpLnZhbHVlKG51bGwpLGI9ZXksYz1bMSwxXTtyZXR1cm4gZC5zZXBhcmF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZCk6Yn0sZC5zaXplPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPWEsZCk6Y30sZWUoZCxhKX0sZDMubGF5b3V0LnRyZWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGQsZSl7ZnVuY3Rpb24gaChhLGMpe3ZhciBkPWEuY2hpbGRyZW4sZT1hLl90cmVlO2lmKGQmJihmPWQubGVuZ3RoKSl7dmFyIGYsZz1kWzBdLGksaz1nLGwsbT0tMTt3aGlsZSgrK208ZilsPWRbbV0saChsLGkpLGs9aihsLGksayksaT1sO2VHKGEpO3ZhciBuPS41KihnLl90cmVlLnByZWxpbStsLl90cmVlLnByZWxpbSk7Yz8oZS5wcmVsaW09Yy5fdHJlZS5wcmVsaW0rYihhLGMpLGUubW9kPWUucHJlbGltLW4pOmUucHJlbGltPW59ZWxzZSBjJiYoZS5wcmVsaW09Yy5fdHJlZS5wcmVsaW0rYihhLGMpKX1mdW5jdGlvbiBpKGEsYil7YS54PWEuX3RyZWUucHJlbGltK2I7dmFyIGM9YS5jaGlsZHJlbjtpZihjJiYoZT1jLmxlbmd0aCkpe3ZhciBkPS0xLGU7Yis9YS5fdHJlZS5tb2Q7d2hpbGUoKytkPGUpaShjW2RdLGIpfX1mdW5jdGlvbiBqKGEsYyxkKXtpZihjKXt2YXIgZT1hLGY9YSxnPWMsaD1hLnBhcmVudC5jaGlsZHJlblswXSxpPWUuX3RyZWUubW9kLGo9Zi5fdHJlZS5tb2Qsaz1nLl90cmVlLm1vZCxsPWguX3RyZWUubW9kLG07d2hpbGUoZz1lQShnKSxlPWV6KGUpLGcmJmUpaD1leihoKSxmPWVBKGYpLGYuX3RyZWUuYW5jZXN0b3I9YSxtPWcuX3RyZWUucHJlbGltK2stZS5fdHJlZS5wcmVsaW0taStiKGcsZSksbT4wJiYoZUgoZUkoZyxhLGQpLGEsbSksaSs9bSxqKz1tKSxrKz1nLl90cmVlLm1vZCxpKz1lLl90cmVlLm1vZCxsKz1oLl90cmVlLm1vZCxqKz1mLl90cmVlLm1vZDtnJiYhZUEoZikmJihmLl90cmVlLnRocmVhZD1nLGYuX3RyZWUubW9kKz1rLWopLGUmJiFleihoKSYmKGguX3RyZWUudGhyZWFkPWUsaC5fdHJlZS5tb2QrPWktbCxkPWEpfXJldHVybiBkfXZhciBmPWEuY2FsbCh0aGlzLGQsZSksZz1mWzBdO2VGKGcsZnVuY3Rpb24oYSxiKXthLl90cmVlPXthbmNlc3RvcjphLHByZWxpbTowLG1vZDowLGNoYW5nZTowLHNoaWZ0OjAsbnVtYmVyOmI/Yi5fdHJlZS5udW1iZXIrMTowfX0pLGgoZyksaShnLC1nLl90cmVlLnByZWxpbSk7dmFyIGs9ZUIoZyxlRCksbD1lQihnLGVDKSxtPWVCKGcsZUUpLG49ay54LWIoayxsKS8yLG89bC54K2IobCxrKS8yLHA9bS5kZXB0aHx8MTtyZXR1cm4gZUYoZyxmdW5jdGlvbihhKXthLng9KGEueC1uKS8oby1uKSpjWzBdLGEueT1hLmRlcHRoL3AqY1sxXSxkZWxldGUgYS5fdHJlZX0pLGZ9dmFyIGE9ZDMubGF5b3V0LmhpZXJhcmNoeSgpLnNvcnQobnVsbCkudmFsdWUobnVsbCksYj1leSxjPVsxLDFdO3JldHVybiBkLnNlcGFyYXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9YSxkKTpifSxkLnNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YSxkKTpjfSxlZShkLGEpfSxkMy5sYXlvdXQudHJlZW1hcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoYSxiKXt2YXIgYz0tMSxkPWEubGVuZ3RoLGUsZjt3aGlsZSgrK2M8ZClmPShlPWFbY10pLnZhbHVlKihiPDA/MDpiKSxlLmFyZWE9aXNOYU4oZil8fGY8PTA/MDpmfWZ1bmN0aW9uIGooYSl7dmFyIGI9YS5jaGlsZHJlbjtpZihiJiZiLmxlbmd0aCl7dmFyIGM9ZShhKSxkPVtdLGY9Yi5zbGljZSgpLGcsaD1JbmZpbml0eSxrLG49TWF0aC5taW4oYy5keCxjLmR5KSxvO2koZixjLmR4KmMuZHkvYS52YWx1ZSksZC5hcmVhPTA7d2hpbGUoKG89Zi5sZW5ndGgpPjApZC5wdXNoKGc9ZltvLTFdKSxkLmFyZWErPWcuYXJlYSwoaz1sKGQsbikpPD1oPyhmLnBvcCgpLGg9ayk6KGQuYXJlYS09ZC5wb3AoKS5hcmVhLG0oZCxuLGMsITEpLG49TWF0aC5taW4oYy5keCxjLmR5KSxkLmxlbmd0aD1kLmFyZWE9MCxoPUluZmluaXR5KTtkLmxlbmd0aCYmKG0oZCxuLGMsITApLGQubGVuZ3RoPWQuYXJlYT0wKSxiLmZvckVhY2goail9fWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5jaGlsZHJlbjtpZihiJiZiLmxlbmd0aCl7dmFyIGM9ZShhKSxkPWIuc2xpY2UoKSxmLGc9W107aShkLGMuZHgqYy5keS9hLnZhbHVlKSxnLmFyZWE9MDt3aGlsZShmPWQucG9wKCkpZy5wdXNoKGYpLGcuYXJlYSs9Zi5hcmVhLGYueiE9bnVsbCYmKG0oZyxmLno/Yy5keDpjLmR5LGMsIWQubGVuZ3RoKSxnLmxlbmd0aD1nLmFyZWE9MCk7Yi5mb3JFYWNoKGspfX1mdW5jdGlvbiBsKGEsYil7dmFyIGM9YS5hcmVhLGQsZT0wLGY9SW5maW5pdHksZz0tMSxpPWEubGVuZ3RoO3doaWxlKCsrZzxpKXtpZighKGQ9YVtnXS5hcmVhKSljb250aW51ZTtkPGYmJihmPWQpLGQ+ZSYmKGU9ZCl9cmV0dXJuIGMqPWMsYio9YixjP01hdGgubWF4KGIqZSpoL2MsYy8oYipmKmgpKTpJbmZpbml0eX1mdW5jdGlvbiBtKGEsYyxkLGUpe3ZhciBmPS0xLGc9YS5sZW5ndGgsaD1kLngsaT1kLnksaj1jP2IoYS5hcmVhL2MpOjAsaztpZihjPT1kLmR4KXtpZihlfHxqPmQuZHkpaj1kLmR5O3doaWxlKCsrZjxnKWs9YVtmXSxrLng9aCxrLnk9aSxrLmR5PWosaCs9ay5keD1NYXRoLm1pbihkLngrZC5keC1oLGo/YihrLmFyZWEvaik6MCk7ay56PSEwLGsuZHgrPWQueCtkLmR4LWgsZC55Kz1qLGQuZHktPWp9ZWxzZXtpZihlfHxqPmQuZHgpaj1kLmR4O3doaWxlKCsrZjxnKWs9YVtmXSxrLng9aCxrLnk9aSxrLmR4PWosaSs9ay5keT1NYXRoLm1pbihkLnkrZC5keS1pLGo/YihrLmFyZWEvaik6MCk7ay56PSExLGsuZHkrPWQueStkLmR5LWksZC54Kz1qLGQuZHgtPWp9fWZ1bmN0aW9uIG4oYil7dmFyIGQ9Z3x8YShiKSxlPWRbMF07cmV0dXJuIGUueD0wLGUueT0wLGUuZHg9Y1swXSxlLmR5PWNbMV0sZyYmYS5yZXZhbHVlKGUpLGkoW2VdLGUuZHgqZS5keS9lLnZhbHVlKSwoZz9rOmopKGUpLGYmJihnPWQpLGR9dmFyIGE9ZDMubGF5b3V0LmhpZXJhcmNoeSgpLGI9TWF0aC5yb3VuZCxjPVsxLDFdLGQ9bnVsbCxlPWVKLGY9ITEsZyxoPS41KigxK01hdGguc3FydCg1KSk7cmV0dXJuIG4uc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLG4pOmN9LG4ucGFkZGluZz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEuY2FsbChuLGIsYi5kZXB0aCk7cmV0dXJuIGM9PW51bGw/ZUooYik6ZUsoYix0eXBlb2YgYz09XCJudW1iZXJcIj9bYyxjLGMsY106Yyl9ZnVuY3Rpb24gYyhiKXtyZXR1cm4gZUsoYixhKX1pZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZDt2YXIgZjtyZXR1cm4gZT0oZD1hKT09bnVsbD9lSjooZj10eXBlb2YgYSk9PT1cImZ1bmN0aW9uXCI/YjpmPT09XCJudW1iZXJcIj8oYT1bYSxhLGEsYV0sYyk6YyxufSxuLnJvdW5kPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWE/TWF0aC5yb3VuZDpOdW1iZXIsbik6YiE9TnVtYmVyfSxuLnN0aWNreT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1hLGc9bnVsbCxuKTpmfSxuLnJhdGlvPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPWEsbik6aH0sZWUobixhKX0sZDMuY3N2PWZ1bmN0aW9uKGEsYil7ZDMudGV4dChhLFwidGV4dC9jc3ZcIixmdW5jdGlvbihhKXtiKGEmJmQzLmNzdi5wYXJzZShhKSl9KX0sZDMuY3N2LnBhcnNlPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBkMy5jc3YucGFyc2VSb3dzKGEsZnVuY3Rpb24oYSxjKXtpZihjKXt2YXIgZD17fSxlPS0xLGY9Yi5sZW5ndGg7d2hpbGUoKytlPGYpZFtiW2VdXT1hW2VdO3JldHVybiBkfXJldHVybiBiPWEsbnVsbH0pfSxkMy5jc3YucGFyc2VSb3dzPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gaigpe2lmKGYubGFzdEluZGV4Pj1hLmxlbmd0aClyZXR1cm4gZDtpZihpKXJldHVybiBpPSExLGM7dmFyIGI9Zi5sYXN0SW5kZXg7aWYoYS5jaGFyQ29kZUF0KGIpPT09MzQpe3ZhciBlPWI7d2hpbGUoZSsrPGEubGVuZ3RoKWlmKGEuY2hhckNvZGVBdChlKT09PTM0KXtpZihhLmNoYXJDb2RlQXQoZSsxKSE9PTM0KWJyZWFrO2UrK31mLmxhc3RJbmRleD1lKzI7dmFyIGc9YS5jaGFyQ29kZUF0KGUrMSk7cmV0dXJuIGc9PT0xMz8oaT0hMCxhLmNoYXJDb2RlQXQoZSsyKT09PTEwJiZmLmxhc3RJbmRleCsrKTpnPT09MTAmJihpPSEwKSxhLnN1YnN0cmluZyhiKzEsZSkucmVwbGFjZSgvXCJcIi9nLCdcIicpfXZhciBoPWYuZXhlYyhhKTtyZXR1cm4gaD8oaT1oWzBdLmNoYXJDb2RlQXQoMCkhPT00NCxhLnN1YnN0cmluZyhiLGguaW5kZXgpKTooZi5sYXN0SW5kZXg9YS5sZW5ndGgsYS5zdWJzdHJpbmcoYikpfXZhciBjPXt9LGQ9e30sZT1bXSxmPS9cXHJcXG58WyxcXHJcXG5dL2csZz0wLGgsaTtmLmxhc3RJbmRleD0wO3doaWxlKChoPWooKSkhPT1kKXt2YXIgaz1bXTt3aGlsZShoIT09YyYmaCE9PWQpay5wdXNoKGgpLGg9aigpO2lmKGImJiEoaz1iKGssZysrKSkpY29udGludWU7ZS5wdXNoKGspfXJldHVybiBlfSxkMy5jc3YuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBhLm1hcChlTCkuam9pbihcIlxcblwiKX0sZDMuZ2VvPXt9O3ZhciBlTj1NYXRoLlBJLzE4MDtkMy5nZW8uYXppbXV0aGFsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShiKXt2YXIgZj1iWzBdKmVOLWUsaT1iWzFdKmVOLGo9TWF0aC5jb3MoZiksaz1NYXRoLnNpbihmKSxsPU1hdGguY29zKGkpLG09TWF0aC5zaW4oaSksbj1hIT09XCJvcnRob2dyYXBoaWNcIj9oKm0rZypsKmo6bnVsbCxvLHA9YT09PVwic3RlcmVvZ3JhcGhpY1wiPzEvKDErbik6YT09PVwiZ25vbW9uaWNcIj8xL246YT09PVwiZXF1aWRpc3RhbnRcIj8obz1NYXRoLmFjb3Mobiksbz9vL01hdGguc2luKG8pOjApOmE9PT1cImVxdWFsYXJlYVwiP01hdGguc3FydCgyLygxK24pKToxLHE9cCpsKmsscj1wKihoKmwqai1nKm0pO3JldHVybltjKnErZFswXSxjKnIrZFsxXV19dmFyIGE9XCJvcnRob2dyYXBoaWNcIixiLGM9MjAwLGQ9WzQ4MCwyNTBdLGUsZixnLGg7cmV0dXJuIGkuaW52ZXJ0PWZ1bmN0aW9uKGIpe3ZhciBmPShiWzBdLWRbMF0pL2MsaT0oYlsxXS1kWzFdKS9jLGo9TWF0aC5zcXJ0KGYqZitpKmkpLGs9YT09PVwic3RlcmVvZ3JhcGhpY1wiPzIqTWF0aC5hdGFuKGopOmE9PT1cImdub21vbmljXCI/TWF0aC5hdGFuKGopOmE9PT1cImVxdWlkaXN0YW50XCI/ajphPT09XCJlcXVhbGFyZWFcIj8yKk1hdGguYXNpbiguNSpqKTpNYXRoLmFzaW4oaiksbD1NYXRoLnNpbihrKSxtPU1hdGguY29zKGspO3JldHVyblsoZStNYXRoLmF0YW4yKGYqbCxqKmcqbStpKmgqbCkpL2VOLE1hdGguYXNpbihtKmgtKGo/aSpsKmcvajowKSkvZU5dfSxpLm1vZGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9YitcIlwiLGkpOmF9LGkub3JpZ2luPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPWEsZT1iWzBdKmVOLGY9YlsxXSplTixnPU1hdGguY29zKGYpLGg9TWF0aC5zaW4oZiksaSk6Yn0saS5zY2FsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz0rYSxpKTpjfSxpLnRyYW5zbGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1bK2FbMF0sK2FbMV1dLGkpOmR9LGkub3JpZ2luKFswLDBdKX0sZDMuZ2VvLmFsYmVycz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoYSl7dmFyIGI9ZiooZU4qYVswXS1lKSxpPU1hdGguc3FydChnLTIqZipNYXRoLnNpbihlTiphWzFdKSkvZjtyZXR1cm5bYyppKk1hdGguc2luKGIpK2RbMF0sYyooaSpNYXRoLmNvcyhiKS1oKStkWzFdXX1mdW5jdGlvbiBqKCl7dmFyIGM9ZU4qYlswXSxkPWVOKmJbMV0saj1lTiphWzFdLGs9TWF0aC5zaW4oYyksbD1NYXRoLmNvcyhjKTtyZXR1cm4gZT1lTiphWzBdLGY9LjUqKGsrTWF0aC5zaW4oZCkpLGc9bCpsKzIqZiprLGg9TWF0aC5zcXJ0KGctMipmKk1hdGguc2luKGopKS9mLGl9dmFyIGE9Wy05OCwzOF0sYj1bMjkuNSw0NS41XSxjPTFlMyxkPVs0ODAsMjUwXSxlLGYsZyxoO3JldHVybiBpLmludmVydD1mdW5jdGlvbihhKXt2YXIgYj0oYVswXS1kWzBdKS9jLGk9KGFbMV0tZFsxXSkvYyxqPWgraSxrPU1hdGguYXRhbjIoYixqKSxsPU1hdGguc3FydChiKmIraipqKTtyZXR1cm5bKGUray9mKS9lTixNYXRoLmFzaW4oKGctbCpsKmYqZikvKDIqZikpL2VOXX0saS5vcmlnaW49ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9WytiWzBdLCtiWzFdXSxqKCkpOmF9LGkucGFyYWxsZWxzPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPVsrYVswXSwrYVsxXV0saigpKTpifSxpLnNjYWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPSthLGkpOmN9LGkudHJhbnNsYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPVsrYVswXSwrYVsxXV0saSk6ZH0saigpfSxkMy5nZW8uYWxiZXJzVXNhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt2YXIgZj1lWzBdLGc9ZVsxXTtyZXR1cm4oZz41MD9iOmY8LTE0MD9jOmc8MjE/ZDphKShlKX12YXIgYT1kMy5nZW8uYWxiZXJzKCksYj1kMy5nZW8uYWxiZXJzKCkub3JpZ2luKFstMTYwLDYwXSkucGFyYWxsZWxzKFs1NSw2NV0pLGM9ZDMuZ2VvLmFsYmVycygpLm9yaWdpbihbLTE2MCwyMF0pLnBhcmFsbGVscyhbOCwxOF0pLGQ9ZDMuZ2VvLmFsYmVycygpLm9yaWdpbihbLTYwLDEwXSkucGFyYWxsZWxzKFs4LDE4XSk7cmV0dXJuIGUuc2NhbGU9ZnVuY3Rpb24oZil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGEuc2NhbGUoZiksYi5zY2FsZShmKi42KSxjLnNjYWxlKGYpLGQuc2NhbGUoZioxLjUpLGUudHJhbnNsYXRlKGEudHJhbnNsYXRlKCkpKTphLnNjYWxlKCl9LGUudHJhbnNsYXRlPWZ1bmN0aW9uKGYpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLnRyYW5zbGF0ZSgpO3ZhciBnPWEuc2NhbGUoKS8xZTMsaD1mWzBdLGk9ZlsxXTtyZXR1cm4gYS50cmFuc2xhdGUoZiksYi50cmFuc2xhdGUoW2gtNDAwKmcsaSsxNzAqZ10pLGMudHJhbnNsYXRlKFtoLTE5MCpnLGkrMjAwKmddKSxkLnRyYW5zbGF0ZShbaCs1ODAqZyxpKzQzMCpnXSksZX0sZS5zY2FsZShhLnNjYWxlKCkpfSxkMy5nZW8uYm9ubmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGcpe3ZhciBoPWdbMF0qZU4tYyxpPWdbMV0qZU4tZDtpZihlKXt2YXIgaj1mK2UtaSxrPWgqTWF0aC5jb3MoaSkvajtoPWoqTWF0aC5zaW4oayksaT1qKk1hdGguY29zKGspLWZ9ZWxzZSBoKj1NYXRoLmNvcyhpKSxpKj0tMTtyZXR1cm5bYSpoK2JbMF0sYSppK2JbMV1dfXZhciBhPTIwMCxiPVs0ODAsMjUwXSxjLGQsZSxmO3JldHVybiBnLmludmVydD1mdW5jdGlvbihkKXt2YXIgZz0oZFswXS1iWzBdKS9hLGg9KGRbMV0tYlsxXSkvYTtpZihlKXt2YXIgaT1mK2gsaj1NYXRoLnNxcnQoZypnK2kqaSk7aD1mK2UtaixnPWMraipNYXRoLmF0YW4yKGcsaSkvTWF0aC5jb3MoaCl9ZWxzZSBoKj0tMSxnLz1NYXRoLmNvcyhoKTtyZXR1cm5bZy9lTixoL2VOXX0sZy5wYXJhbGxlbD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj0xL01hdGgudGFuKGU9YSplTiksZyk6ZS9lTn0sZy5vcmlnaW49ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9YVswXSplTixkPWFbMV0qZU4sZyk6W2MvZU4sZC9lTl19LGcuc2NhbGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9K2IsZyk6YX0sZy50cmFuc2xhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9WythWzBdLCthWzFdXSxnKTpifSxnLm9yaWdpbihbMCwwXSkucGFyYWxsZWwoNDUpfSxkMy5nZW8uZXF1aXJlY3Rhbmd1bGFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhjKXt2YXIgZD1jWzBdLzM2MCxlPS1jWzFdLzM2MDtyZXR1cm5bYSpkK2JbMF0sYSplK2JbMV1dfXZhciBhPTUwMCxiPVs0ODAsMjUwXTtyZXR1cm4gYy5pbnZlcnQ9ZnVuY3Rpb24oYyl7dmFyIGQ9KGNbMF0tYlswXSkvYSxlPShjWzFdLWJbMV0pL2E7cmV0dXJuWzM2MCpkLC0zNjAqZV19LGMuc2NhbGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9K2IsYyk6YX0sYy50cmFuc2xhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9WythWzBdLCthWzFdXSxjKTpifSxjfSxkMy5nZW8ubWVyY2F0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGMpe3ZhciBkPWNbMF0vMzYwLGU9LShNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrY1sxXSplTi8yKSkvZU4pLzM2MDtyZXR1cm5bYSpkK2JbMF0sYSpNYXRoLm1heCgtMC41LE1hdGgubWluKC41LGUpKStiWzFdXX12YXIgYT01MDAsYj1bNDgwLDI1MF07cmV0dXJuIGMuaW52ZXJ0PWZ1bmN0aW9uKGMpe3ZhciBkPShjWzBdLWJbMF0pL2EsZT0oY1sxXS1iWzFdKS9hO3JldHVyblszNjAqZCwyKk1hdGguYXRhbihNYXRoLmV4cCgtMzYwKmUqZU4pKS9lTi05MF19LGMuc2NhbGU9ZnVuY3Rpb24oYil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9K2IsYyk6YX0sYy50cmFuc2xhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9WythWzBdLCthWzFdXSxjKTpifSxjfSxkMy5nZW8ucGF0aD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYyxlKXt0eXBlb2YgYT09XCJmdW5jdGlvblwiJiYoYj1lUChhLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpLGcoYyk7dmFyIGY9ZC5sZW5ndGg/ZC5qb2luKFwiXCIpOm51bGw7cmV0dXJuIGQ9W10sZn1mdW5jdGlvbiBmKGEpe3JldHVybiBjKGEpLmpvaW4oXCIsXCIpfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bChhWzBdKSxjPTAsZD1hLmxlbmd0aDt3aGlsZSgrK2M8ZCliLT1sKGFbY10pO3JldHVybiBifWZ1bmN0aW9uIGooYSl7dmFyIGI9ZDMuZ2VvbS5wb2x5Z29uKGFbMF0ubWFwKGMpKSxkPWIuYXJlYSgpLGU9Yi5jZW50cm9pZChkPDA/KGQqPS0xLDEpOi0xKSxmPWVbMF0sZz1lWzFdLGg9ZCxpPTAsaj1hLmxlbmd0aDt3aGlsZSgrK2k8ailiPWQzLmdlb20ucG9seWdvbihhW2ldLm1hcChjKSksZD1iLmFyZWEoKSxlPWIuY2VudHJvaWQoZDwwPyhkKj0tMSwxKTotMSksZi09ZVswXSxnLT1lWzFdLGgtPWQ7cmV0dXJuW2YsZyw2KmhdfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIE1hdGguYWJzKGQzLmdlb20ucG9seWdvbihhLm1hcChjKSkuYXJlYSgpKX12YXIgYT00LjUsYj1lUChhKSxjPWQzLmdlby5hbGJlcnNVc2EoKSxkPVtdLGc9ZU8oe0ZlYXR1cmVDb2xsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmVhdHVyZXMsYz0tMSxlPWIubGVuZ3RoO3doaWxlKCsrYzxlKWQucHVzaChnKGJbY10uZ2VvbWV0cnkpKX0sRmVhdHVyZTpmdW5jdGlvbihhKXtnKGEuZ2VvbWV0cnkpfSxQb2ludDpmdW5jdGlvbihhKXtkLnB1c2goXCJNXCIsZihhLmNvb3JkaW5hdGVzKSxiKX0sTXVsdGlQb2ludDpmdW5jdGlvbihhKXt2YXIgYz1hLmNvb3JkaW5hdGVzLGU9LTEsZz1jLmxlbmd0aDt3aGlsZSgrK2U8ZylkLnB1c2goXCJNXCIsZihjW2VdKSxiKX0sTGluZVN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj1hLmNvb3JkaW5hdGVzLGM9LTEsZT1iLmxlbmd0aDtkLnB1c2goXCJNXCIpO3doaWxlKCsrYzxlKWQucHVzaChmKGJbY10pLFwiTFwiKTtkLnBvcCgpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb29yZGluYXRlcyxjPS0xLGU9Yi5sZW5ndGgsZyxoLGk7d2hpbGUoKytjPGUpe2c9YltjXSxoPS0xLGk9Zy5sZW5ndGgsZC5wdXNoKFwiTVwiKTt3aGlsZSgrK2g8aSlkLnB1c2goZihnW2hdKSxcIkxcIik7ZC5wb3AoKX19LFBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb29yZGluYXRlcyxjPS0xLGU9Yi5sZW5ndGgsZyxoLGk7d2hpbGUoKytjPGUpe2c9YltjXSxoPS0xO2lmKChpPWcubGVuZ3RoLTEpPjApe2QucHVzaChcIk1cIik7d2hpbGUoKytoPGkpZC5wdXNoKGYoZ1toXSksXCJMXCIpO2RbZC5sZW5ndGgtMV09XCJaXCJ9fX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMsYz0tMSxlPWIubGVuZ3RoLGcsaCxpLGosayxsO3doaWxlKCsrYzxlKXtnPWJbY10saD0tMSxpPWcubGVuZ3RoO3doaWxlKCsraDxpKXtqPWdbaF0saz0tMTtpZigobD1qLmxlbmd0aC0xKT4wKXtkLnB1c2goXCJNXCIpO3doaWxlKCsrazxsKWQucHVzaChmKGpba10pLFwiTFwiKTtkW2QubGVuZ3RoLTFdPVwiWlwifX19fSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZW9tZXRyaWVzLGM9LTEsZT1iLmxlbmd0aDt3aGlsZSgrK2M8ZSlkLnB1c2goZyhiW2NdKSl9fSksaD1lLmFyZWE9ZU8oe0ZlYXR1cmVDb2xsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1hLmZlYXR1cmVzLGQ9LTEsZT1jLmxlbmd0aDt3aGlsZSgrK2Q8ZSliKz1oKGNbZF0pO3JldHVybiBifSxGZWF0dXJlOmZ1bmN0aW9uKGEpe3JldHVybiBoKGEuZ2VvbWV0cnkpfSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3JldHVybiBpKGEuY29vcmRpbmF0ZXMpfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWEuY29vcmRpbmF0ZXMsZD0tMSxlPWMubGVuZ3RoO3doaWxlKCsrZDxlKWIrPWkoY1tkXSk7cmV0dXJuIGJ9LEdlb21ldHJ5Q29sbGVjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9YS5nZW9tZXRyaWVzLGQ9LTEsZT1jLmxlbmd0aDt3aGlsZSgrK2Q8ZSliKz1oKGNbZF0pO3JldHVybiBifX0sMCksaz1lLmNlbnRyb2lkPWVPKHtGZWF0dXJlOmZ1bmN0aW9uKGEpe3JldHVybiBrKGEuZ2VvbWV0cnkpfSxQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPWooYS5jb29yZGluYXRlcyk7cmV0dXJuW2JbMF0vYlsyXSxiWzFdL2JbMl1dfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWEuY29vcmRpbmF0ZXMsZCxlPTAsZj0wLGc9MCxoPS0xLGk9Yy5sZW5ndGg7d2hpbGUoKytoPGkpZD1qKGNbaF0pLGUrPWRbMF0sZis9ZFsxXSxnKz1kWzJdO3JldHVybltlL2csZi9nXX19KTtyZXR1cm4gZS5wcm9qZWN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBjPWEsZX0sZS5wb2ludFJhZGl1cz1mdW5jdGlvbihjKXtyZXR1cm4gdHlwZW9mIGM9PVwiZnVuY3Rpb25cIj9hPWM6KGE9K2MsYj1lUChhKSksZX0sZX0sZDMuZ2VvLmJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1JbmZpbml0eSxjPUluZmluaXR5LGQ9LUluZmluaXR5LGU9LUluZmluaXR5O3JldHVybiBlUShhLGZ1bmN0aW9uKGEsZil7YTxiJiYoYj1hKSxhPmQmJihkPWEpLGY8YyYmKGM9ZiksZj5lJiYoZT1mKX0pLFtbYixjXSxbZCxlXV19O3ZhciBlUj17RmVhdHVyZTplUyxGZWF0dXJlQ29sbGVjdGlvbjplVCxHZW9tZXRyeUNvbGxlY3Rpb246ZVUsTGluZVN0cmluZzplVixNdWx0aUxpbmVTdHJpbmc6ZVcsTXVsdGlQb2ludDplVixNdWx0aVBvbHlnb246ZVgsUG9pbnQ6ZVksUG9seWdvbjplWn07ZDMuZ2VvLmNpcmNsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZC5kaXN0YW5jZShhKTxjfWZ1bmN0aW9uIGgoYSl7dmFyIGI9LTEsZT1hLmxlbmd0aCxmPVtdLGcsaCxqLGssbDt3aGlsZSgrK2I8ZSlsPWQuZGlzdGFuY2Uoaj1hW2JdKSxsPGM/KGgmJmYucHVzaChmYihoLGopKChrLWMpLyhrLWwpKSksZi5wdXNoKGopLGc9aD1udWxsKTooaD1qLCFnJiZmLmxlbmd0aCYmKGYucHVzaChmYihmW2YubGVuZ3RoLTFdLGgpKChjLWspLyhsLWspKSksZz1oKSksaz1sO3JldHVybiBnPWFbMF0saD1mWzBdLGgmJmpbMF09PT1nWzBdJiZqWzFdPT09Z1sxXSYmKGpbMF0hPT1oWzBdfHxqWzFdIT09aFsxXSkmJmYucHVzaChoKSxpKGYpfWZ1bmN0aW9uIGkoYSl7dmFyIGI9MCxjPWEubGVuZ3RoLGUsZixnPWM/W2FbMF1dOmEsaCxpPWQuc291cmNlKCk7d2hpbGUoKytiPGMpe2g9ZC5zb3VyY2UoYVtiLTFdKShhW2JdKS5jb29yZGluYXRlcztmb3IoZT0wLGY9aC5sZW5ndGg7KytlPGY7KWcucHVzaChoW2VdKX1yZXR1cm4gZC5zb3VyY2UoaSksZ312YXIgYT1bMCwwXSxiPTg5Ljk5LGM9YiplTixkPWQzLmdlby5ncmVhdEFyYygpLnNvdXJjZShhKS50YXJnZXQobSk7ZS5jbGlwPWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgYT09XCJmdW5jdGlvblwiJiZkLnNvdXJjZShhLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZyhiKXx8bnVsbH07dmFyIGc9ZU8oe0ZlYXR1cmVDb2xsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmVhdHVyZXMubWFwKGcpXG4uZmlsdGVyKG0pO3JldHVybiBiJiYoYT1PYmplY3QuY3JlYXRlKGEpLGEuZmVhdHVyZXM9YixhKX0sRmVhdHVyZTpmdW5jdGlvbihhKXt2YXIgYj1nKGEuZ2VvbWV0cnkpO3JldHVybiBiJiYoYT1PYmplY3QuY3JlYXRlKGEpLGEuZ2VvbWV0cnk9YixhKX0sUG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYoYS5jb29yZGluYXRlcykmJmF9LE11bHRpUG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb29yZGluYXRlcy5maWx0ZXIoZik7cmV0dXJuIGIubGVuZ3RoJiZ7dHlwZTphLnR5cGUsY29vcmRpbmF0ZXM6Yn19LExpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9aChhLmNvb3JkaW5hdGVzKTtyZXR1cm4gYi5sZW5ndGgmJihhPU9iamVjdC5jcmVhdGUoYSksYS5jb29yZGluYXRlcz1iLGEpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb29yZGluYXRlcy5tYXAoaCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLmxlbmd0aH0pO3JldHVybiBiLmxlbmd0aCYmKGE9T2JqZWN0LmNyZWF0ZShhKSxhLmNvb3JkaW5hdGVzPWIsYSl9LFBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGI9YS5jb29yZGluYXRlcy5tYXAoaCk7cmV0dXJuIGJbMF0ubGVuZ3RoJiYoYT1PYmplY3QuY3JlYXRlKGEpLGEuY29vcmRpbmF0ZXM9YixhKX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY29vcmRpbmF0ZXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLm1hcChoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYVswXS5sZW5ndGh9KTtyZXR1cm4gYi5sZW5ndGgmJihhPU9iamVjdC5jcmVhdGUoYSksYS5jb29yZGluYXRlcz1iLGEpfSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZW9tZXRyaWVzLm1hcChnKS5maWx0ZXIobSk7cmV0dXJuIGIubGVuZ3RoJiYoYT1PYmplY3QuY3JlYXRlKGEpLGEuZ2VvbWV0cmllcz1iLGEpfX0pO3JldHVybiBlLm9yaWdpbj1mdW5jdGlvbihiKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1iLHR5cGVvZiBhIT1cImZ1bmN0aW9uXCImJmQuc291cmNlKGEpLGUpOmF9LGUuYW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9KGI9K2EpKmVOLGUpOmJ9LGQzLnJlYmluZChlLGQsXCJwcmVjaXNpb25cIil9LGQzLmdlby5ncmVhdEFyYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXt2YXIgYT1nLmRpc3RhbmNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxjPTAsaD1lL2EsaT1bYl07d2hpbGUoKGMrPWgpPDEpaS5wdXNoKGYoYykpO3JldHVybiBpLnB1c2goZCkse3R5cGU6XCJMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6aX19dmFyIGE9ZSQsYixjPWVfLGQsZT02KmVOLGY9ZmEoKTtyZXR1cm4gZy5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0eXBlb2YgYT09XCJmdW5jdGlvblwiJiZmLnNvdXJjZShiPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0eXBlb2YgYz09XCJmdW5jdGlvblwiJiZmLnRhcmdldChkPWMuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxmLmRpc3RhbmNlKCl9LGcuc291cmNlPWZ1bmN0aW9uKGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWMsdHlwZW9mIGEhPVwiZnVuY3Rpb25cIiYmZi5zb3VyY2UoYj1hKSxnKTphfSxnLnRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYz1hLHR5cGVvZiBjIT1cImZ1bmN0aW9uXCImJmYudGFyZ2V0KGQ9YyksZyk6Y30sZy5wcmVjaXNpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9YSplTixnKTplL2VOfSxnfSxkMy5nZW8uZ3JlYXRDaXJjbGU9ZDMuZ2VvLmNpcmNsZSxkMy5nZW9tPXt9LGQzLmdlb20uY29udG91cj1mdW5jdGlvbihhLGIpe3ZhciBjPWJ8fGZlKGEpLGQ9W10sZT1jWzBdLGY9Y1sxXSxnPTAsaD0wLGk9TmFOLGo9TmFOLGs9MDtkbyBrPTAsYShlLTEsZi0xKSYmKGsrPTEpLGEoZSxmLTEpJiYoays9MiksYShlLTEsZikmJihrKz00KSxhKGUsZikmJihrKz04KSxrPT09Nj8oZz1qPT09LTE/LTE6MSxoPTApOms9PT05PyhnPTAsaD1pPT09MT8tMToxKTooZz1mY1trXSxoPWZkW2tdKSxnIT1pJiZoIT1qJiYoZC5wdXNoKFtlLGZdKSxpPWcsaj1oKSxlKz1nLGYrPWg7d2hpbGUoY1swXSE9ZXx8Y1sxXSE9Zik7cmV0dXJuIGR9O3ZhciBmYz1bMSwwLDEsMSwtMSwwLC0xLDEsMCwwLDAsMCwtMSwwLC0xLE5hTl0sZmQ9WzAsLTEsMCwwLDAsLTEsMCwwLDEsLTEsMSwxLDAsLTEsMCxOYU5dO2QzLmdlb20uaHVsbD1mdW5jdGlvbihhKXtpZihhLmxlbmd0aDwzKXJldHVybltdO3ZhciBiPWEubGVuZ3RoLGM9Yi0xLGQ9W10sZT1bXSxmLGcsaD0wLGksaixrLGwsbSxuLG8scDtmb3IoZj0xO2Y8YjsrK2YpYVtmXVsxXTxhW2hdWzFdP2g9ZjphW2ZdWzFdPT1hW2hdWzFdJiYoaD1hW2ZdWzBdPGFbaF1bMF0/ZjpoKTtmb3IoZj0wO2Y8YjsrK2Ype2lmKGY9PT1oKWNvbnRpbnVlO2o9YVtmXVsxXS1hW2hdWzFdLGk9YVtmXVswXS1hW2hdWzBdLGQucHVzaCh7YW5nbGU6TWF0aC5hdGFuMihqLGkpLGluZGV4OmZ9KX1kLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hbmdsZS1iLmFuZ2xlfSksbz1kWzBdLmFuZ2xlLG49ZFswXS5pbmRleCxtPTA7Zm9yKGY9MTtmPGM7KytmKWc9ZFtmXS5pbmRleCxvPT1kW2ZdLmFuZ2xlPyhpPWFbbl1bMF0tYVtoXVswXSxqPWFbbl1bMV0tYVtoXVsxXSxrPWFbZ11bMF0tYVtoXVswXSxsPWFbZ11bMV0tYVtoXVsxXSxpKmkraipqPj1rKmsrbCpsP2RbZl0uaW5kZXg9LTE6KGRbbV0uaW5kZXg9LTEsbz1kW2ZdLmFuZ2xlLG09ZixuPWcpKToobz1kW2ZdLmFuZ2xlLG09ZixuPWcpO2UucHVzaChoKTtmb3IoZj0wLGc9MDtmPDI7KytnKWRbZ10uaW5kZXghPT0tMSYmKGUucHVzaChkW2ddLmluZGV4KSxmKyspO3A9ZS5sZW5ndGg7Zm9yKDtnPGM7KytnKXtpZihkW2ddLmluZGV4PT09LTEpY29udGludWU7d2hpbGUoIWZmKGVbcC0yXSxlW3AtMV0sZFtnXS5pbmRleCxhKSktLXA7ZVtwKytdPWRbZ10uaW5kZXh9dmFyIHE9W107Zm9yKGY9MDtmPHA7KytmKXEucHVzaChhW2VbZl1dKTtyZXR1cm4gcX0sZDMuZ2VvbS5wb2x5Z29uPWZ1bmN0aW9uKGEpe3JldHVybiBhLmFyZWE9ZnVuY3Rpb24oKXt2YXIgYj0wLGM9YS5sZW5ndGgsZD1hW2MtMV1bMF0qYVswXVsxXSxlPWFbYy0xXVsxXSphWzBdWzBdO3doaWxlKCsrYjxjKWQrPWFbYi0xXVswXSphW2JdWzFdLGUrPWFbYi0xXVsxXSphW2JdWzBdO3JldHVybihlLWQpKi41fSxhLmNlbnRyb2lkPWZ1bmN0aW9uKGIpe3ZhciBjPS0xLGQ9YS5sZW5ndGgsZT0wLGY9MCxnLGg9YVtkLTFdLGk7YXJndW1lbnRzLmxlbmd0aHx8KGI9LTEvKDYqYS5hcmVhKCkpKTt3aGlsZSgrK2M8ZClnPWgsaD1hW2NdLGk9Z1swXSpoWzFdLWhbMF0qZ1sxXSxlKz0oZ1swXStoWzBdKSppLGYrPShnWzFdK2hbMV0pKmk7cmV0dXJuW2UqYixmKmJdfSxhLmNsaXA9ZnVuY3Rpb24oYil7dmFyIGMsZD0tMSxlPWEubGVuZ3RoLGYsZyxoPWFbZS0xXSxpLGosazt3aGlsZSgrK2Q8ZSl7Yz1iLnNsaWNlKCksYi5sZW5ndGg9MCxpPWFbZF0saj1jWyhnPWMubGVuZ3RoKS0xXSxmPS0xO3doaWxlKCsrZjxnKWs9Y1tmXSxmZyhrLGgsaSk/KGZnKGosaCxpKXx8Yi5wdXNoKGZoKGosayxoLGkpKSxiLnB1c2goaykpOmZnKGosaCxpKSYmYi5wdXNoKGZoKGosayxoLGkpKSxqPWs7aD1pfXJldHVybiBifSxhfSxkMy5nZW9tLnZvcm9ub2k9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXAoZnVuY3Rpb24oKXtyZXR1cm5bXX0pO3JldHVybiBmaihhLGZ1bmN0aW9uKGEpe3ZhciBjLGQsZSxmLGcsaDthLmE9PT0xJiZhLmI+PTA/KGM9YS5lcC5yLGQ9YS5lcC5sKTooYz1hLmVwLmwsZD1hLmVwLnIpLGEuYT09PTE/KGc9Yz9jLnk6LTFlNixlPWEuYy1hLmIqZyxoPWQ/ZC55OjFlNixmPWEuYy1hLmIqaCk6KGU9Yz9jLng6LTFlNixnPWEuYy1hLmEqZSxmPWQ/ZC54OjFlNixoPWEuYy1hLmEqZik7dmFyIGk9W2UsZ10saj1bZixoXTtiW2EucmVnaW9uLmwuaW5kZXhdLnB1c2goaSxqKSxiW2EucmVnaW9uLnIuaW5kZXhdLnB1c2goaSxqKX0pLGIubWFwKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YVtjXVswXSxlPWFbY11bMV07cmV0dXJuIGIuZm9yRWFjaChmdW5jdGlvbihhKXthLmFuZ2xlPU1hdGguYXRhbjIoYVswXS1kLGFbMV0tZSl9KSxiLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hbmdsZS1iLmFuZ2xlfSkuZmlsdGVyKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIWN8fGEuYW5nbGUtYltjLTFdLmFuZ2xlPjFlLTEwfSl9KX07dmFyIGZpPXtsOlwiclwiLHI6XCJsXCJ9O2QzLmdlb20uZGVsYXVuYXk9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXAoZnVuY3Rpb24oKXtyZXR1cm5bXX0pLGM9W107cmV0dXJuIGZqKGEsZnVuY3Rpb24oYyl7YltjLnJlZ2lvbi5sLmluZGV4XS5wdXNoKGFbYy5yZWdpb24uci5pbmRleF0pfSksYi5mb3JFYWNoKGZ1bmN0aW9uKGIsZCl7dmFyIGU9YVtkXSxmPWVbMF0sZz1lWzFdO2IuZm9yRWFjaChmdW5jdGlvbihhKXthLmFuZ2xlPU1hdGguYXRhbjIoYVswXS1mLGFbMV0tZyl9KSxiLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hbmdsZS1iLmFuZ2xlfSk7Zm9yKHZhciBoPTAsaT1iLmxlbmd0aC0xO2g8aTtoKyspYy5wdXNoKFtlLGJbaF0sYltoKzFdXSl9KSxjfSxkMy5nZW9tLnF1YWR0cmVlPWZ1bmN0aW9uKGEsYixjLGQsZSl7ZnVuY3Rpb24gayhhLGIsYyxkLGUsZil7aWYoaXNOYU4oYi54KXx8aXNOYU4oYi55KSlyZXR1cm47aWYoYS5sZWFmKXt2YXIgZz1hLnBvaW50O2c/TWF0aC5hYnMoZy54LWIueCkrTWF0aC5hYnMoZy55LWIueSk8LjAxP2woYSxiLGMsZCxlLGYpOihhLnBvaW50PW51bGwsbChhLGcsYyxkLGUsZiksbChhLGIsYyxkLGUsZikpOmEucG9pbnQ9Yn1lbHNlIGwoYSxiLGMsZCxlLGYpfWZ1bmN0aW9uIGwoYSxiLGMsZCxlLGYpe3ZhciBnPShjK2UpKi41LGg9KGQrZikqLjUsaT1iLng+PWcsaj1iLnk+PWgsbD0oajw8MSkraTthLmxlYWY9ITEsYT1hLm5vZGVzW2xdfHwoYS5ub2Rlc1tsXT1maygpKSxpP2M9ZzplPWcsaj9kPWg6Zj1oLGsoYSxiLGMsZCxlLGYpfXZhciBmLGc9LTEsaD1hLmxlbmd0aDtoJiZpc05hTihhWzBdLngpJiYoYT1hLm1hcChmbSkpO2lmKGFyZ3VtZW50cy5sZW5ndGg8NSlpZihhcmd1bWVudHMubGVuZ3RoPT09MyllPWQ9YyxjPWI7ZWxzZXtiPWM9SW5maW5pdHksZD1lPS1JbmZpbml0eTt3aGlsZSgrK2c8aClmPWFbZ10sZi54PGImJihiPWYueCksZi55PGMmJihjPWYueSksZi54PmQmJihkPWYueCksZi55PmUmJihlPWYueSk7dmFyIGk9ZC1iLGo9ZS1jO2k+aj9lPWMraTpkPWIran12YXIgbT1maygpO3JldHVybiBtLmFkZD1mdW5jdGlvbihhKXtrKG0sYSxiLGMsZCxlKX0sbS52aXNpdD1mdW5jdGlvbihhKXtmbChhLG0sYixjLGQsZSl9LGEuZm9yRWFjaChtLmFkZCksbX0sZDMudGltZT17fTt2YXIgZm49RGF0ZTtmby5wcm90b3R5cGU9e2dldERhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFVUQ0RhdGUoKX0sZ2V0RGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENEYXkoKX0sZ2V0RnVsbFllYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFVUQ0Z1bGxZZWFyKCl9LGdldEhvdXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENIb3VycygpfSxnZXRNaWxsaXNlY29uZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFVUQ01pbGxpc2Vjb25kcygpfSxnZXRNaW51dGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaW51dGVzKCl9LGdldE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNb250aCgpfSxnZXRTZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENTZWNvbmRzKCl9LGdldFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmdldFRpbWUoKX0sZ2V0VGltZXpvbmVPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWVPZigpfSxzZXREYXRlOmZ1bmN0aW9uKCl7ZnAuc2V0VVRDRGF0ZS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RGF5OmZ1bmN0aW9uKCl7ZnAuc2V0VVRDRGF5LmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRGdWxsWWVhcjpmdW5jdGlvbigpe2ZwLnNldFVUQ0Z1bGxZZWFyLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRIb3VyczpmdW5jdGlvbigpe2ZwLnNldFVUQ0hvdXJzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaWxsaXNlY29uZHM6ZnVuY3Rpb24oKXtmcC5zZXRVVENNaWxsaXNlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldE1pbnV0ZXM6ZnVuY3Rpb24oKXtmcC5zZXRVVENNaW51dGVzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNb250aDpmdW5jdGlvbigpe2ZwLnNldFVUQ01vbnRoLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRTZWNvbmRzOmZ1bmN0aW9uKCl7ZnAuc2V0VVRDU2Vjb25kcy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0VGltZTpmdW5jdGlvbigpe2ZwLnNldFRpbWUuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9fTt2YXIgZnA9RGF0ZS5wcm90b3R5cGU7ZDMudGltZS5mb3JtYXQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhjKXt2YXIgZD1bXSxlPS0xLGY9MCxnLGg7d2hpbGUoKytlPGIpYS5jaGFyQ29kZUF0KGUpPT0zNyYmKGQucHVzaChhLnN1YnN0cmluZyhmLGUpLChoPWZ2W2c9YS5jaGFyQXQoKytlKV0pP2goYyk6ZyksZj1lKzEpO3JldHVybiBkLnB1c2goYS5zdWJzdHJpbmcoZixlKSksZC5qb2luKFwiXCIpfXZhciBiPWEubGVuZ3RoO3JldHVybiBjLnBhcnNlPWZ1bmN0aW9uKGIpe3ZhciBjPXt5OjE5MDAsbTowLGQ6MSxIOjAsTTowLFM6MCxMOjB9LGQ9ZnEoYyxhLGIsMCk7aWYoZCE9Yi5sZW5ndGgpcmV0dXJuIG51bGw7XCJwXCJpbiBjJiYoYy5IPWMuSCUxMitjLnAqMTIpO3ZhciBlPW5ldyBmbjtyZXR1cm4gZS5zZXRGdWxsWWVhcihjLnksYy5tLGMuZCksZS5zZXRIb3VycyhjLkgsYy5NLGMuUyxjLkwpLGV9LGMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sY307dmFyIGZyPWQzLmZvcm1hdChcIjAyZFwiKSxmcz1kMy5mb3JtYXQoXCIwM2RcIiksZnQ9ZDMuZm9ybWF0KFwiMDRkXCIpLGZ1PWQzLmZvcm1hdChcIjJkXCIpLGZ2PXthOmZ1bmN0aW9uKGEpe3JldHVybiBmQlthLmdldERheSgpXS5zdWJzdHJpbmcoMCwzKX0sQTpmdW5jdGlvbihhKXtyZXR1cm4gZkJbYS5nZXREYXkoKV19LGI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZIW2EuZ2V0TW9udGgoKV0uc3Vic3RyaW5nKDAsMyl9LEI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZIW2EuZ2V0TW9udGgoKV19LGM6ZDMudGltZS5mb3JtYXQoXCIlYSAlYiAlZSAlSDolTTolUyAlWVwiKSxkOmZ1bmN0aW9uKGEpe3JldHVybiBmcihhLmdldERhdGUoKSl9LGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1KGEuZ2V0RGF0ZSgpKX0sSDpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXRIb3VycygpKX0sSTpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXRIb3VycygpJTEyfHwxMil9LGo6ZnVuY3Rpb24oYSl7cmV0dXJuIGZzKDErZDMudGltZS5kYXlPZlllYXIoYSkpfSxMOmZ1bmN0aW9uKGEpe3JldHVybiBmcyhhLmdldE1pbGxpc2Vjb25kcygpKX0sbTpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXRNb250aCgpKzEpfSxNOmZ1bmN0aW9uKGEpe3JldHVybiBmcihhLmdldE1pbnV0ZXMoKSl9LHA6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0SG91cnMoKT49MTI/XCJQTVwiOlwiQU1cIn0sUzpmdW5jdGlvbihhKXtyZXR1cm4gZnIoYS5nZXRTZWNvbmRzKCkpfSxVOmZ1bmN0aW9uKGEpe3JldHVybiBmcihkMy50aW1lLnN1bmRheU9mWWVhcihhKSl9LHc6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RGF5KCl9LFc6ZnVuY3Rpb24oYSl7cmV0dXJuIGZyKGQzLnRpbWUubW9uZGF5T2ZZZWFyKGEpKX0seDpkMy50aW1lLmZvcm1hdChcIiVtLyVkLyV5XCIpLFg6ZDMudGltZS5mb3JtYXQoXCIlSDolTTolU1wiKSx5OmZ1bmN0aW9uKGEpe3JldHVybiBmcihhLmdldEZ1bGxZZWFyKCklMTAwKX0sWTpmdW5jdGlvbihhKXtyZXR1cm4gZnQoYS5nZXRGdWxsWWVhcigpJTFlNCl9LFo6ZlgsXCIlXCI6ZnVuY3Rpb24oYSl7cmV0dXJuXCIlXCJ9fSxmdz17YTpmeCxBOmZ5LGI6ZkMsQjpmRSxjOmZJLGQ6ZlAsZTpmUCxIOmZRLEk6ZlEsTDpmVCxtOmZPLE06ZlIscDpmVixTOmZTLHg6ZkosWDpmSyx5OmZNLFk6Zkx9LGZ6PS9eKD86c3VufG1vbnx0dWV8d2VkfHRodXxmcml8c2F0KS9pLGZBPS9eKD86U3VuZGF5fE1vbmRheXxUdWVzZGF5fFdlZG5lc2RheXxUaHVyc2RheXxGcmlkYXl8U2F0dXJkYXkpL2ksZkI9W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sZkQ9ZDMubWFwKHtqYW46MCxmZWI6MSxtYXI6MixhcHI6MyxtYXk6NCxqdW46NSxqdWw6NixhdWc6NyxzZXA6OCxvY3Q6OSxub3Y6MTAsZGVjOjExfSksZkY9L14oPzpKYW51YXJ5fEZlYnJ1YXJ5fE1hcmNofEFwcmlsfE1heXxKdW5lfEp1bHl8QXVndXN0fFNlcHRlbWJlcnxPY3RvYmVyfE5vdmVtYmVyfERlY2VtYmVyKS9pZyxmRz1kMy5tYXAoe2phbnVhcnk6MCxmZWJydWFyeToxLG1hcmNoOjIsYXByaWw6MyxtYXk6NCxqdW5lOjUsanVseTo2LGF1Z3VzdDo3LHNlcHRlbWJlcjo4LG9jdG9iZXI6OSxub3ZlbWJlcjoxMCxkZWNlbWJlcjoxMX0pLGZIPVtcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxmVT0vXFxzKlxcZCsvLGZXPWQzLm1hcCh7YW06MCxwbToxfSk7ZDMudGltZS5mb3JtYXQudXRjPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGMoYSl7dHJ5e2ZuPWZvO3ZhciBjPW5ldyBmbjtyZXR1cm4gYy5fPWEsYihjKX1maW5hbGx5e2ZuPURhdGV9fXZhciBiPWQzLnRpbWUuZm9ybWF0KGEpO3JldHVybiBjLnBhcnNlPWZ1bmN0aW9uKGEpe3RyeXtmbj1mbzt2YXIgYz1iLnBhcnNlKGEpO3JldHVybiBjJiZjLl99ZmluYWxseXtmbj1EYXRlfX0sYy50b1N0cmluZz1iLnRvU3RyaW5nLGN9O3ZhciBmWT1kMy50aW1lLmZvcm1hdC51dGMoXCIlWS0lbS0lZFQlSDolTTolUy4lTFpcIik7ZDMudGltZS5mb3JtYXQuaXNvPURhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nP2ZaOmZZLGZaLnBhcnNlPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBEYXRlKGEpO3JldHVybiBpc05hTihiKT9udWxsOmJ9LGZaLnRvU3RyaW5nPWZZLnRvU3RyaW5nLGQzLnRpbWUuc2Vjb25kPWYkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZm4oTWF0aC5mbG9vcihhLzFlMykqMWUzKX0sZnVuY3Rpb24oYSxiKXthLnNldFRpbWUoYS5nZXRUaW1lKCkrTWF0aC5mbG9vcihiKSoxZTMpfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRTZWNvbmRzKCl9KSxkMy50aW1lLnNlY29uZHM9ZDMudGltZS5zZWNvbmQucmFuZ2UsZDMudGltZS5zZWNvbmRzLnV0Yz1kMy50aW1lLnNlY29uZC51dGMucmFuZ2UsZDMudGltZS5taW51dGU9ZiQoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBmbihNYXRoLmZsb29yKGEvNmU0KSo2ZTQpfSxmdW5jdGlvbihhLGIpe2Euc2V0VGltZShhLmdldFRpbWUoKStNYXRoLmZsb29yKGIpKjZlNCl9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldE1pbnV0ZXMoKX0pLGQzLnRpbWUubWludXRlcz1kMy50aW1lLm1pbnV0ZS5yYW5nZSxkMy50aW1lLm1pbnV0ZXMudXRjPWQzLnRpbWUubWludXRlLnV0Yy5yYW5nZSxkMy50aW1lLmhvdXI9ZiQoZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRUaW1lem9uZU9mZnNldCgpLzYwO3JldHVybiBuZXcgZm4oKE1hdGguZmxvb3IoYS8zNmU1LWIpK2IpKjM2ZTUpfSxmdW5jdGlvbihhLGIpe2Euc2V0VGltZShhLmdldFRpbWUoKStNYXRoLmZsb29yKGIpKjM2ZTUpfSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRIb3VycygpfSksZDMudGltZS5ob3Vycz1kMy50aW1lLmhvdXIucmFuZ2UsZDMudGltZS5ob3Vycy51dGM9ZDMudGltZS5ob3VyLnV0Yy5yYW5nZSxkMy50aW1lLmRheT1mJChmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGZuKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCksYS5nZXREYXRlKCkpfSxmdW5jdGlvbihhLGIpe2Euc2V0RGF0ZShhLmdldERhdGUoKStiKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RGF0ZSgpLTF9KSxkMy50aW1lLmRheXM9ZDMudGltZS5kYXkucmFuZ2UsZDMudGltZS5kYXlzLnV0Yz1kMy50aW1lLmRheS51dGMucmFuZ2UsZDMudGltZS5kYXlPZlllYXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZDMudGltZS55ZWFyKGEpO3JldHVybiBNYXRoLmZsb29yKChhLWIpLzg2NGU1LShhLmdldFRpbWV6b25lT2Zmc2V0KCktYi5nZXRUaW1lem9uZU9mZnNldCgpKS8xNDQwKX0sZkIuZm9yRWFjaChmdW5jdGlvbihhLGIpe2E9YS50b0xvd2VyQ2FzZSgpLGI9Ny1iO3ZhciBjPWQzLnRpbWVbYV09ZiQoZnVuY3Rpb24oYSl7cmV0dXJuKGE9ZDMudGltZS5kYXkoYSkpLnNldERhdGUoYS5nZXREYXRlKCktKGEuZ2V0RGF5KCkrYiklNyksYX0sZnVuY3Rpb24oYSxiKXthLnNldERhdGUoYS5nZXREYXRlKCkrTWF0aC5mbG9vcihiKSo3KX0sZnVuY3Rpb24oYSl7dmFyIGM9ZDMudGltZS55ZWFyKGEpLmdldERheSgpO3JldHVybiBNYXRoLmZsb29yKChkMy50aW1lLmRheU9mWWVhcihhKSsoYytiKSU3KS83KS0oYyE9PWIpfSk7ZDMudGltZVthK1wic1wiXT1jLnJhbmdlLGQzLnRpbWVbYStcInNcIl0udXRjPWMudXRjLnJhbmdlLGQzLnRpbWVbYStcIk9mWWVhclwiXT1mdW5jdGlvbihhKXt2YXIgYz1kMy50aW1lLnllYXIoYSkuZ2V0RGF5KCk7cmV0dXJuIE1hdGguZmxvb3IoKGQzLnRpbWUuZGF5T2ZZZWFyKGEpKyhjK2IpJTcpLzcpfX0pLGQzLnRpbWUud2Vlaz1kMy50aW1lLnN1bmRheSxkMy50aW1lLndlZWtzPWQzLnRpbWUuc3VuZGF5LnJhbmdlLGQzLnRpbWUud2Vla3MudXRjPWQzLnRpbWUuc3VuZGF5LnV0Yy5yYW5nZSxkMy50aW1lLndlZWtPZlllYXI9ZDMudGltZS5zdW5kYXlPZlllYXIsZDMudGltZS5tb250aD1mJChmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGZuKGEuZ2V0RnVsbFllYXIoKSxhLmdldE1vbnRoKCksMSl9LGZ1bmN0aW9uKGEsYil7YS5zZXRNb250aChhLmdldE1vbnRoKCkrYil9LGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldE1vbnRoKCl9KSxkMy50aW1lLm1vbnRocz1kMy50aW1lLm1vbnRoLnJhbmdlLGQzLnRpbWUubW9udGhzLnV0Yz1kMy50aW1lLm1vbnRoLnV0Yy5yYW5nZSxkMy50aW1lLnllYXI9ZiQoZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBmbihhLmdldEZ1bGxZZWFyKCksMCwxKX0sZnVuY3Rpb24oYSxiKXthLnNldEZ1bGxZZWFyKGEuZ2V0RnVsbFllYXIoKStiKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RnVsbFllYXIoKX0pLGQzLnRpbWUueWVhcnM9ZDMudGltZS55ZWFyLnJhbmdlLGQzLnRpbWUueWVhcnMudXRjPWQzLnRpbWUueWVhci51dGMucmFuZ2U7dmFyIGdnPVsxZTMsNWUzLDE1ZTMsM2U0LDZlNCwzZTUsOWU1LDE4ZTUsMzZlNSwxMDhlNSwyMTZlNSw0MzJlNSw4NjRlNSwxNzI4ZTUsNjA0OGU1LDI1OTJlNiw3Nzc2ZTYsMzE1MzZlNl0sZ2g9W1tkMy50aW1lLnNlY29uZCwxXSxbZDMudGltZS5zZWNvbmQsNV0sW2QzLnRpbWUuc2Vjb25kLDE1XSxbZDMudGltZS5zZWNvbmQsMzBdLFtkMy50aW1lLm1pbnV0ZSwxXSxbZDMudGltZS5taW51dGUsNV0sW2QzLnRpbWUubWludXRlLDE1XSxbZDMudGltZS5taW51dGUsMzBdLFtkMy50aW1lLmhvdXIsMV0sW2QzLnRpbWUuaG91ciwzXSxbZDMudGltZS5ob3VyLDZdLFtkMy50aW1lLmhvdXIsMTJdLFtkMy50aW1lLmRheSwxXSxbZDMudGltZS5kYXksMl0sW2QzLnRpbWUud2VlaywxXSxbZDMudGltZS5tb250aCwxXSxbZDMudGltZS5tb250aCwzXSxbZDMudGltZS55ZWFyLDFdXSxnaT1bW2QzLnRpbWUuZm9ybWF0KFwiJVlcIiksZnVuY3Rpb24oYSl7cmV0dXJuITB9XSxbZDMudGltZS5mb3JtYXQoXCIlQlwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNb250aCgpfV0sW2QzLnRpbWUuZm9ybWF0KFwiJWIgJWRcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RGF0ZSgpIT0xfV0sW2QzLnRpbWUuZm9ybWF0KFwiJWEgJWRcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0RGF5KCkmJmEuZ2V0RGF0ZSgpIT0xfV0sW2QzLnRpbWUuZm9ybWF0KFwiJUkgJXBcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0SG91cnMoKX1dLFtkMy50aW1lLmZvcm1hdChcIiVJOiVNXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldE1pbnV0ZXMoKX1dLFtkMy50aW1lLmZvcm1hdChcIjolU1wiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRTZWNvbmRzKCl9XSxbZDMudGltZS5mb3JtYXQoXCIuJUxcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0TWlsbGlzZWNvbmRzKCl9XV0sZ2o9ZDMuc2NhbGUubGluZWFyKCksZ2s9Z2QoZ2kpO2doLnllYXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2ouZG9tYWluKGEubWFwKGdmKSkudGlja3MoYikubWFwKGdlKX0sZDMudGltZS5zY2FsZT1mdW5jdGlvbigpe3JldHVybiBnYShkMy5zY2FsZS5saW5lYXIoKSxnaCxnayl9O3ZhciBnbD1naC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuW2FbMF0udXRjLGFbMV1dfSksZ209W1tkMy50aW1lLmZvcm1hdC51dGMoXCIlWVwiKSxmdW5jdGlvbihhKXtyZXR1cm4hMH1dLFtkMy50aW1lLmZvcm1hdC51dGMoXCIlQlwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENNb250aCgpfV0sW2QzLnRpbWUuZm9ybWF0LnV0YyhcIiViICVkXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ0RhdGUoKSE9MX1dLFtkMy50aW1lLmZvcm1hdC51dGMoXCIlYSAlZFwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENEYXkoKSYmYS5nZXRVVENEYXRlKCkhPTF9XSxbZDMudGltZS5mb3JtYXQudXRjKFwiJUkgJXBcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VVRDSG91cnMoKX1dLFtkMy50aW1lLmZvcm1hdC51dGMoXCIlSTolTVwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVVENNaW51dGVzKCl9XSxbZDMudGltZS5mb3JtYXQudXRjKFwiOiVTXCIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFVUQ1NlY29uZHMoKX1dLFtkMy50aW1lLmZvcm1hdC51dGMoXCIuJUxcIiksZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0VVRDTWlsbGlzZWNvbmRzKCl9XV0sZ249Z2QoZ20pO2dsLnllYXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZ2ouZG9tYWluKGEubWFwKGdwKSkudGlja3MoYikubWFwKGdvKX0sZDMudGltZS5zY2FsZS51dGM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2EoZDMuc2NhbGUubGluZWFyKCksZ2wsZ24pfX0pKCk7XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGpRdWVyeSkge2pzUGx1bWJVdGlsPXtpc0FycmF5OmZ1bmN0aW9uKGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYik9PT1cIltvYmplY3QgQXJyYXldXCJ9LGlzU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgYT09PVwic3RyaW5nXCJ9LGlzT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk9PT1cIltvYmplY3QgT2JqZWN0XVwifSxjb252ZXJ0U3R5bGU6ZnVuY3Rpb24oYixhKXtpZihcInRyYW5zcGFyZW50XCI9PT1iKXtyZXR1cm4gYn12YXIgZz1iLGY9ZnVuY3Rpb24oaCl7cmV0dXJuIGgubGVuZ3RoPT0xP1wiMFwiK2g6aH0sYz1mdW5jdGlvbihoKXtyZXR1cm4gZihOdW1iZXIoaCkudG9TdHJpbmcoMTYpKX0sZD0vKHJnYlthXT9cXCgpKC4qKShcXCkpLztpZihiLm1hdGNoKGQpKXt2YXIgZT1iLm1hdGNoKGQpWzJdLnNwbGl0KFwiLFwiKTtnPVwiI1wiK2MoZVswXSkrYyhlWzFdKStjKGVbMl0pO2lmKCFhJiZlLmxlbmd0aD09NCl7Zz1nK2MoZVszXSl9fXJldHVybiBnfSxncmFkaWVudDpmdW5jdGlvbihiLGEpe2I9anNQbHVtYlV0aWwuaXNBcnJheShiKT9iOltiLngsYi55XTthPWpzUGx1bWJVdGlsLmlzQXJyYXkoYSk/YTpbYS54LGEueV07cmV0dXJuKGFbMV0tYlsxXSkvKGFbMF0tYlswXSl9LG5vcm1hbDpmdW5jdGlvbihiLGEpe3JldHVybiAtMS9qc1BsdW1iVXRpbC5ncmFkaWVudChiLGEpfSxsaW5lTGVuZ3RoOmZ1bmN0aW9uKGIsYSl7Yj1qc1BsdW1iVXRpbC5pc0FycmF5KGIpP2I6W2IueCxiLnldO2E9anNQbHVtYlV0aWwuaXNBcnJheShhKT9hOlthLngsYS55XTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGFbMV0tYlsxXSwyKStNYXRoLnBvdyhhWzBdLWJbMF0sMikpfSxzZWdtZW50OmZ1bmN0aW9uKGIsYSl7Yj1qc1BsdW1iVXRpbC5pc0FycmF5KGIpP2I6W2IueCxiLnldO2E9anNQbHVtYlV0aWwuaXNBcnJheShhKT9hOlthLngsYS55XTtpZihhWzBdPmJbMF0pe3JldHVybihhWzFdPmJbMV0pPzI6MX1lbHNle3JldHVybihhWzFdPmJbMV0pPzM6NH19LGludGVyc2VjdHM6ZnVuY3Rpb24oZixlKXt2YXIgYz1mLngsYT1mLngrZi53LGs9Zi55LGg9Zi55K2YuaCxkPWUueCxiPWUueCtlLncsaT1lLnksZz1lLnkrZS5oO3JldHVybigoYzw9ZCYmZDw9YSkmJihrPD1pJiZpPD1oKSl8fCgoYzw9YiYmYjw9YSkmJihrPD1pJiZpPD1oKSl8fCgoYzw9ZCYmZDw9YSkmJihrPD1nJiZnPD1oKSl8fCgoYzw9YiYmZDw9YSkmJihrPD1nJiZnPD1oKSl8fCgoZDw9YyYmYzw9YikmJihpPD1rJiZrPD1nKSl8fCgoZDw9YSYmYTw9YikmJihpPD1rJiZrPD1nKSl8fCgoZDw9YyYmYzw9YikmJihpPD1oJiZoPD1nKSl8fCgoZDw9YSYmYzw9YikmJihpPD1oJiZoPD1nKSl9LHNlZ21lbnRNdWx0aXBsaWVyczpbbnVsbCxbMSwtMV0sWzEsMV0sWy0xLDFdLFstMSwtMV1dLGludmVyc2VTZWdtZW50TXVsdGlwbGllcnM6W251bGwsWy0xLC0xXSxbLTEsMV0sWzEsMV0sWzEsLTFdXSxwb2ludE9uTGluZTpmdW5jdGlvbihhLGUsYil7dmFyIGQ9anNQbHVtYlV0aWwuZ3JhZGllbnQoYSxlKSxpPWpzUGx1bWJVdGlsLnNlZ21lbnQoYSxlKSxoPWI+MD9qc1BsdW1iVXRpbC5zZWdtZW50TXVsdGlwbGllcnNbaV06anNQbHVtYlV0aWwuaW52ZXJzZVNlZ21lbnRNdWx0aXBsaWVyc1tpXSxjPU1hdGguYXRhbihkKSxmPU1hdGguYWJzKGIqTWF0aC5zaW4oYykpKmhbMV0sZz1NYXRoLmFicyhiKk1hdGguY29zKGMpKSpoWzBdO3JldHVybnt4OmEueCtnLHk6YS55K2Z9fSxwZXJwZW5kaWN1bGFyTGluZVRvOmZ1bmN0aW9uKGMsZCxlKXt2YXIgYj1qc1BsdW1iVXRpbC5ncmFkaWVudChjLGQpLGY9TWF0aC5hdGFuKC0xL2IpLGc9ZS8yKk1hdGguc2luKGYpLGE9ZS8yKk1hdGguY29zKGYpO3JldHVyblt7eDpkLngrYSx5OmQueStnfSx7eDpkLngtYSx5OmQueS1nfV19LGZpbmRXaXRoRnVuY3Rpb246ZnVuY3Rpb24oYixkKXtpZihiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7aWYoZChiW2NdKSl7cmV0dXJuIGN9fX1yZXR1cm4gLTF9LGluZGV4T2Y6ZnVuY3Rpb24oYSxiKXtyZXR1cm4ganNQbHVtYlV0aWwuZmluZFdpdGhGdW5jdGlvbihhLGZ1bmN0aW9uKGMpe3JldHVybiBjPT1ifSl9LHJlbW92ZVdpdGhGdW5jdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBiPWpzUGx1bWJVdGlsLmZpbmRXaXRoRnVuY3Rpb24oYyxkKTtpZihiPi0xKXtjLnNwbGljZShiLDEpfXJldHVybiBiIT0tMX0scmVtb3ZlOmZ1bmN0aW9uKGIsYyl7dmFyIGE9anNQbHVtYlV0aWwuaW5kZXhPZihiLGMpO2lmKGE+LTEpe2Iuc3BsaWNlKGEsMSl9cmV0dXJuIGEhPS0xfSxhZGRXaXRoRnVuY3Rpb246ZnVuY3Rpb24oYyxiLGEpe2lmKGpzUGx1bWJVdGlsLmZpbmRXaXRoRnVuY3Rpb24oYyxhKT09LTEpe2MucHVzaChiKX19LGFkZFRvTGlzdDpmdW5jdGlvbihkLGIsYyl7dmFyIGE9ZFtiXTtpZihhPT1udWxsKXthPVtdLGRbYl09YX1hLnB1c2goYyk7cmV0dXJuIGF9LEV2ZW50R2VuZXJhdG9yOmZ1bmN0aW9uKCl7dmFyIGM9e30sYj10aGlzO3ZhciBhPVtcInJlYWR5XCJdO3RoaXMuYmluZD1mdW5jdGlvbihkLGUpe2pzUGx1bWJVdGlsLmFkZFRvTGlzdChjLGQsZSk7cmV0dXJuIGJ9O3RoaXMuZmlyZT1mdW5jdGlvbihnLGgsZCl7aWYoY1tnXSl7Zm9yKHZhciBmPTA7ZjxjW2ddLmxlbmd0aDtmKyspe2lmKGpzUGx1bWJVdGlsLmZpbmRXaXRoRnVuY3Rpb24oYSxmdW5jdGlvbihpKXtyZXR1cm4gaT09PWd9KSE9LTEpe2NbZ11bZl0oaCxkKX1lbHNle3RyeXtjW2ddW2ZdKGgsZCl9Y2F0Y2goayl7anNQbHVtYlV0aWwubG9nKFwianNQbHVtYjogZmlyZSBmYWlsZWQgZm9yIGV2ZW50IFwiK2crXCIgOiBcIitrKX19fX1yZXR1cm4gYn07dGhpcy51bmJpbmQ9ZnVuY3Rpb24oZCl7aWYoZCl7ZGVsZXRlIGNbZF19ZWxzZXtkZWxldGUgYztjPXt9fXJldHVybiBifTt0aGlzLmdldExpc3RlbmVyPWZ1bmN0aW9uKGQpe3JldHVybiBjW2RdfX0sbG9nRW5hYmxlZDp0cnVlLGxvZzpmdW5jdGlvbigpe2lmKGpzUGx1bWJVdGlsLmxvZ0VuYWJsZWQmJnR5cGVvZiBjb25zb2xlIT1cInVuZGVmaW5lZFwiKXt0cnl7dmFyIGI9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV07Y29uc29sZS5sb2coYil9Y2F0Y2goYSl7fX19LGdyb3VwOmZ1bmN0aW9uKGEpe2lmKGpzUGx1bWJVdGlsLmxvZ0VuYWJsZWQmJnR5cGVvZiBjb25zb2xlIT1cInVuZGVmaW5lZFwiKXtjb25zb2xlLmdyb3VwKGEpfX0sZ3JvdXBFbmQ6ZnVuY3Rpb24oYSl7aWYoanNQbHVtYlV0aWwubG9nRW5hYmxlZCYmdHlwZW9mIGNvbnNvbGUhPVwidW5kZWZpbmVkXCIpe2NvbnNvbGUuZ3JvdXBFbmQoYSl9fSx0aW1lOmZ1bmN0aW9uKGEpe2lmKGpzUGx1bWJVdGlsLmxvZ0VuYWJsZWQmJnR5cGVvZiBjb25zb2xlIT1cInVuZGVmaW5lZFwiKXtjb25zb2xlLnRpbWUoYSl9fSx0aW1lRW5kOmZ1bmN0aW9uKGEpe2lmKGpzUGx1bWJVdGlsLmxvZ0VuYWJsZWQmJnR5cGVvZiBjb25zb2xlIT1cInVuZGVmaW5lZFwiKXtjb25zb2xlLnRpbWVFbmQoYSl9fX07KGZ1bmN0aW9uKCl7dmFyIEE9ISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQsZT0hIXdpbmRvdy5TVkdBbmdsZXx8ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmVcIixcIjEuMVwiKSxiPWZ1bmN0aW9uKCl7aWYoYi52bWw9PXVuZGVmaW5lZCl7dmFyIEw9ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtMLmlubmVySFRNTD0nPHY6c2hhcGUgaWQ9XCJ2bWxfZmxhZzFcIiBhZGo9XCIxXCIgLz4nO3ZhciBLPUwuZmlyc3RDaGlsZDtLLnN0eWxlLmJlaGF2aW9yPVwidXJsKCNkZWZhdWx0I1ZNTClcIjtiLnZtbD1LP3R5cGVvZiBLLmFkaj09XCJvYmplY3RcIjp0cnVlO0wucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChMKX1yZXR1cm4gYi52bWx9O3ZhciBpPWpzUGx1bWJVdGlsLmZpbmRXaXRoRnVuY3Rpb24sSj1qc1BsdW1iVXRpbC5pbmRleE9mLEQ9anNQbHVtYlV0aWwucmVtb3ZlV2l0aEZ1bmN0aW9uLG09anNQbHVtYlV0aWwucmVtb3ZlLHU9anNQbHVtYlV0aWwuYWRkV2l0aEZ1bmN0aW9uLGw9anNQbHVtYlV0aWwuYWRkVG9MaXN0LG49anNQbHVtYlV0aWwuaXNBcnJheSxDPWpzUGx1bWJVdGlsLmlzU3RyaW5nLHc9anNQbHVtYlV0aWwuaXNPYmplY3Q7aWYoIXdpbmRvdy5jb25zb2xlKXt3aW5kb3cuY29uc29sZT17dGltZTpmdW5jdGlvbigpe30sdGltZUVuZDpmdW5jdGlvbigpe30sZ3JvdXA6ZnVuY3Rpb24oKXt9LGdyb3VwRW5kOmZ1bmN0aW9uKCl7fSxsb2c6ZnVuY3Rpb24oKXt9fX12YXIgeD1udWxsLGQ9ZnVuY3Rpb24oSyxMKXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5nZXRBdHRyaWJ1dGUoRihLKSxMKX0sZj1mdW5jdGlvbihMLE0sSyl7cC5DdXJyZW50TGlicmFyeS5zZXRBdHRyaWJ1dGUoRihMKSxNLEspfSxCPWZ1bmN0aW9uKEwsSyl7cC5DdXJyZW50TGlicmFyeS5hZGRDbGFzcyhGKEwpLEspfSxrPWZ1bmN0aW9uKEwsSyl7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuaGFzQ2xhc3MoRihMKSxLKX0sbz1mdW5jdGlvbihMLEspe3AuQ3VycmVudExpYnJhcnkucmVtb3ZlQ2xhc3MoRihMKSxLKX0sRj1mdW5jdGlvbihLKXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KEspfSx0PWZ1bmN0aW9uKEspe3JldHVybiBwLkN1cnJlbnRMaWJyYXJ5LmdldE9mZnNldChGKEspKX0sYT1mdW5jdGlvbihLKXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5nZXRTaXplKEYoSykpfSxxPWpzUGx1bWJVdGlsLmxvZyxJPWpzUGx1bWJVdGlsLmdyb3VwLGg9anNQbHVtYlV0aWwuZ3JvdXBFbmQsSD1qc1BsdW1iVXRpbC50aW1lLHY9anNQbHVtYlV0aWwudGltZUVuZCxyPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIisobmV3IERhdGUoKSkuZ2V0VGltZSgpfSxFPWZ1bmN0aW9uKFope3ZhciBVPXRoaXMsYWE9YXJndW1lbnRzLFI9ZmFsc2UsTz1aLnBhcmFtZXRlcnN8fHt9LE09VS5pZFByZWZpeCxXPU0rKG5ldyBEYXRlKCkpLmdldFRpbWUoKSxWPW51bGwsYWI9bnVsbDtVLl9qc1BsdW1iPVouX2pzUGx1bWI7VS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiBXfTtVLnRvb2x0aXA9Wi50b29sdGlwO1UuaG92ZXJDbGFzcz1aLmhvdmVyQ2xhc3N8fFUuX2pzUGx1bWIuRGVmYXVsdHMuSG92ZXJDbGFzc3x8cC5EZWZhdWx0cy5Ib3ZlckNsYXNzO2pzUGx1bWJVdGlsLkV2ZW50R2VuZXJhdG9yLmFwcGx5KHRoaXMpO3RoaXMuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYWM9bmV3IE9iamVjdCgpO1UuY29uc3RydWN0b3IuYXBwbHkoYWMsYWEpO3JldHVybiBhY307dGhpcy5nZXRQYXJhbWV0ZXI9ZnVuY3Rpb24oYWMpe3JldHVybiBPW2FjXX0sdGhpcy5nZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIE99LHRoaXMuc2V0UGFyYW1ldGVyPWZ1bmN0aW9uKGFjLGFkKXtPW2FjXT1hZH0sdGhpcy5zZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGFjKXtPPWFjfSx0aGlzLm92ZXJsYXlQbGFjZW1lbnRzPVtdO3ZhciBOPVouYmVmb3JlRGV0YWNoO3RoaXMuaXNEZXRhY2hBbGxvd2VkPWZ1bmN0aW9uKGFjKXt2YXIgYWQ9VS5fanNQbHVtYi5jaGVja0NvbmRpdGlvbihcImJlZm9yZURldGFjaFwiLGFjKTtpZihOKXt0cnl7YWQ9TihhYyl9Y2F0Y2goYWUpe3EoXCJqc1BsdW1iOiBiZWZvcmVEZXRhY2ggY2FsbGJhY2sgZmFpbGVkXCIsYWUpfX1yZXR1cm4gYWR9O3ZhciBRPVouYmVmb3JlRHJvcDt0aGlzLmlzRHJvcEFsbG93ZWQ9ZnVuY3Rpb24oYWgsYWUsYWYsYWMsYWQpe3ZhciBhZz1VLl9qc1BsdW1iLmNoZWNrQ29uZGl0aW9uKFwiYmVmb3JlRHJvcFwiLHtzb3VyY2VJZDphaCx0YXJnZXRJZDphZSxzY29wZTphZixjb25uZWN0aW9uOmFjLGRyb3BFbmRwb2ludDphZH0pO2lmKFEpe3RyeXthZz1RKHtzb3VyY2VJZDphaCx0YXJnZXRJZDphZSxzY29wZTphZixjb25uZWN0aW9uOmFjLGRyb3BFbmRwb2ludDphZH0pfWNhdGNoKGFpKXtxKFwianNQbHVtYjogYmVmb3JlRHJvcCBjYWxsYmFjayBmYWlsZWRcIixhaSl9fXJldHVybiBhZ307dmFyIFg9ZnVuY3Rpb24oKXtpZihWJiZhYil7dmFyIGFjPXt9O3AuZXh0ZW5kKGFjLFYpO3AuZXh0ZW5kKGFjLGFiKTtkZWxldGUgVS5ob3ZlclBhaW50U3R5bGU7aWYoYWMuZ3JhZGllbnQmJlYuZmlsbFN0eWxlKXtkZWxldGUgYWMuZ3JhZGllbnR9YWI9YWN9fTt0aGlzLnNldFBhaW50U3R5bGU9ZnVuY3Rpb24oYWMsYWQpe1Y9YWM7VS5wYWludFN0eWxlSW5Vc2U9VjtYKCk7aWYoIWFkKXtVLnJlcGFpbnQoKX19O3RoaXMuZ2V0UGFpbnRTdHlsZT1mdW5jdGlvbigpe3JldHVybiBWfTt0aGlzLnNldEhvdmVyUGFpbnRTdHlsZT1mdW5jdGlvbihhYyxhZCl7YWI9YWM7WCgpO2lmKCFhZCl7VS5yZXBhaW50KCl9fTt0aGlzLmdldEhvdmVyUGFpbnRTdHlsZT1mdW5jdGlvbigpe3JldHVybiBhYn07dGhpcy5zZXRIb3Zlcj1mdW5jdGlvbihhYyxhZSxhZCl7aWYoIVUuX2pzUGx1bWIuY3VycmVudGx5RHJhZ2dpbmcmJiFVLl9qc1BsdW1iLmlzSG92ZXJTdXNwZW5kZWQoKSl7Uj1hYztpZihVLmhvdmVyQ2xhc3MhPW51bGwmJlUuY2FudmFzIT1udWxsKXtpZihhYyl7TC5hZGRDbGFzcyhVLmNhbnZhcyxVLmhvdmVyQ2xhc3MpfWVsc2V7TC5yZW1vdmVDbGFzcyhVLmNhbnZhcyxVLmhvdmVyQ2xhc3MpfX1pZihhYiE9bnVsbCl7VS5wYWludFN0eWxlSW5Vc2U9YWM/YWI6VjthZD1hZHx8cigpO1UucmVwYWludCh7dGltZXN0YW1wOmFkLHJlY2FsYzpmYWxzZX0pfWlmKFUuZ2V0QXR0YWNoZWRFbGVtZW50cyYmIWFlKXtZKGFjLHIoKSxVKX19fTt0aGlzLmlzSG92ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gUn07dmFyIEw9cC5DdXJyZW50TGlicmFyeSxLPVtcImNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2VlbnRlclwiLFwibW91c2VvdXRcIixcIm1vdXNlbW92ZVwiLFwibW91c2Vkb3duXCIsXCJtb3VzZXVwXCIsXCJjb250ZXh0bWVudVwiXSxUPXttb3VzZW91dDpcIm1vdXNlZXhpdFwifSxQPWZ1bmN0aW9uKGFlLGFmLGFkKXt2YXIgYWM9VFthZF18fGFkO0wuYmluZChhZSxhZCxmdW5jdGlvbihhZyl7YWYuZmlyZShhYyxhZixhZyl9KX0sUz1mdW5jdGlvbihhZSxhZCl7dmFyIGFjPVRbYWRdfHxhZDtMLnVuYmluZChhZSxhZCl9O3RoaXMuYXR0YWNoTGlzdGVuZXJzPWZ1bmN0aW9uKGFkLGFlKXtmb3IodmFyIGFjPTA7YWM8Sy5sZW5ndGg7YWMrKyl7UChhZCxhZSxLW2FjXSl9fTt2YXIgWT1mdW5jdGlvbihhZyxhZixhYyl7dmFyIGFlPVUuZ2V0QXR0YWNoZWRFbGVtZW50cygpO2lmKGFlKXtmb3IodmFyIGFkPTA7YWQ8YWUubGVuZ3RoO2FkKyspe2lmKCFhY3x8YWMhPWFlW2FkXSl7YWVbYWRdLnNldEhvdmVyKGFnLHRydWUsYWYpfX19fTt0aGlzLnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudD1mdW5jdGlvbihhZCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIGFjPTA7YWM8Sy5sZW5ndGg7YWMrKyl7UyhhZCxLW2FjXSl9Zm9yKHZhciBhYz0xO2FjPGFyZ3VtZW50cy5sZW5ndGg7YWMrKyl7VS5hdHRhY2hMaXN0ZW5lcnMoYWQsYXJndW1lbnRzW2FjXSl9fX19LHo9ZnVuY3Rpb24oUCl7RS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIFU9dGhpczt0aGlzLm92ZXJsYXlzPVtdO3ZhciBOPWZ1bmN0aW9uKFope3ZhciBYPW51bGw7aWYobihaKSl7dmFyIFc9WlswXSxZPXAuZXh0ZW5kKHtjb21wb25lbnQ6VSxfanNQbHVtYjpVLl9qc1BsdW1ifSxaWzFdKTtpZihaLmxlbmd0aD09Myl7cC5leHRlbmQoWSxaWzJdKX1YPW5ldyBwLk92ZXJsYXlzW1UuX2pzUGx1bWIuZ2V0UmVuZGVyTW9kZSgpXVtXXShZKTtpZihZLmV2ZW50cyl7Zm9yKHZhciBWIGluIFkuZXZlbnRzKXtYLmJpbmQoVixZLmV2ZW50c1tWXSl9fX1lbHNle2lmKFouY29uc3RydWN0b3I9PVN0cmluZyl7WD1uZXcgcC5PdmVybGF5c1tVLl9qc1BsdW1iLmdldFJlbmRlck1vZGUoKV1bWl0oe2NvbXBvbmVudDpVLF9qc1BsdW1iOlUuX2pzUGx1bWJ9KX1lbHNle1g9Wn19VS5vdmVybGF5cy5wdXNoKFgpfSxPPWZ1bmN0aW9uKFope3ZhciBWPVUuZGVmYXVsdE92ZXJsYXlLZXlzfHxbXSxZPVoub3ZlcmxheXMsVz1mdW5jdGlvbihhYSl7cmV0dXJuIFUuX2pzUGx1bWIuRGVmYXVsdHNbYWFdfHxwLkRlZmF1bHRzW2FhXXx8W119O2lmKCFZKXtZPVtdfWZvcih2YXIgWD0wO1g8Vi5sZW5ndGg7WCsrKXtZLnVuc2hpZnQuYXBwbHkoWSxXKFZbWF0pKX1yZXR1cm4gWX07dmFyIEw9TyhQKTtpZihMKXtmb3IodmFyIFE9MDtRPEwubGVuZ3RoO1ErKyl7TihMW1FdKX19dmFyIEs9ZnVuY3Rpb24oWCl7dmFyIFY9LTE7Zm9yKHZhciBXPTA7VzxVLm92ZXJsYXlzLmxlbmd0aDtXKyspe2lmKFg9PT1VLm92ZXJsYXlzW1ddLmlkKXtWPVc7YnJlYWt9fXJldHVybiBWfTt0aGlzLmFkZE92ZXJsYXk9ZnVuY3Rpb24oVil7TihWKTtVLnJlcGFpbnQoKX07dGhpcy5nZXRPdmVybGF5PWZ1bmN0aW9uKFcpe3ZhciBWPUsoVyk7cmV0dXJuIFY+PTA/VS5vdmVybGF5c1tWXTpudWxsfTt0aGlzLmdldE92ZXJsYXlzPWZ1bmN0aW9uKCl7cmV0dXJuIFUub3ZlcmxheXN9O3RoaXMuaGlkZU92ZXJsYXk9ZnVuY3Rpb24oVyl7dmFyIFY9VS5nZXRPdmVybGF5KFcpO2lmKFYpe1YuaGlkZSgpfX07dGhpcy5oaWRlT3ZlcmxheXM9ZnVuY3Rpb24oKXtmb3IodmFyIFY9MDtWPFUub3ZlcmxheXMubGVuZ3RoO1YrKyl7VS5vdmVybGF5c1tWXS5oaWRlKCl9fTt0aGlzLnNob3dPdmVybGF5PWZ1bmN0aW9uKFcpe3ZhciBWPVUuZ2V0T3ZlcmxheShXKTtpZihWKXtWLnNob3coKX19O3RoaXMuc2hvd092ZXJsYXlzPWZ1bmN0aW9uKCl7Zm9yKHZhciBWPTA7VjxVLm92ZXJsYXlzLmxlbmd0aDtWKyspe1Uub3ZlcmxheXNbVl0uc2hvdygpfX07dGhpcy5yZW1vdmVBbGxPdmVybGF5cz1mdW5jdGlvbigpe2Zvcih2YXIgViBpbiBVLm92ZXJsYXlzKXtVLm92ZXJsYXlzW1ZdLmNsZWFudXAoKX1VLm92ZXJsYXlzLnNwbGljZSgwLFUub3ZlcmxheXMubGVuZ3RoKTtVLnJlcGFpbnQoKX07dGhpcy5yZW1vdmVPdmVybGF5PWZ1bmN0aW9uKFcpe3ZhciBWPUsoVyk7aWYoViE9LTEpe3ZhciBYPVUub3ZlcmxheXNbVl07WC5jbGVhbnVwKCk7VS5vdmVybGF5cy5zcGxpY2UoViwxKX19O3RoaXMucmVtb3ZlT3ZlcmxheXM9ZnVuY3Rpb24oKXtmb3IodmFyIFY9MDtWPGFyZ3VtZW50cy5sZW5ndGg7VisrKXtVLnJlbW92ZU92ZXJsYXkoYXJndW1lbnRzW1ZdKX19O3ZhciBNPVwiX19sYWJlbFwiLFQ9ZnVuY3Rpb24oWCl7dmFyIFY9e2Nzc0NsYXNzOlguY3NzQ2xhc3MsbGFiZWxTdHlsZTp0aGlzLmxhYmVsU3R5bGUsaWQ6TSxjb21wb25lbnQ6VSxfanNQbHVtYjpVLl9qc1BsdW1ifSxXPXAuZXh0ZW5kKFYsWCk7cmV0dXJuIG5ldyBwLk92ZXJsYXlzW1UuX2pzUGx1bWIuZ2V0UmVuZGVyTW9kZSgpXS5MYWJlbChXKX07aWYoUC5sYWJlbCl7dmFyIFI9UC5sYWJlbExvY2F0aW9ufHxVLmRlZmF1bHRMYWJlbExvY2F0aW9ufHwwLjUsUz1QLmxhYmVsU3R5bGV8fFUuX2pzUGx1bWIuRGVmYXVsdHMuTGFiZWxTdHlsZXx8cC5EZWZhdWx0cy5MYWJlbFN0eWxlO3RoaXMub3ZlcmxheXMucHVzaChUKHtsYWJlbDpQLmxhYmVsLGxvY2F0aW9uOlIsbGFiZWxTdHlsZTpTfSkpfXRoaXMuc2V0TGFiZWw9ZnVuY3Rpb24oVil7dmFyIFc9VS5nZXRPdmVybGF5KE0pO2lmKCFXKXt2YXIgWD1WLmNvbnN0cnVjdG9yPT1TdHJpbmd8fFYuY29uc3RydWN0b3I9PUZ1bmN0aW9uP3tsYWJlbDpWfTpWO1c9VChYKTt0aGlzLm92ZXJsYXlzLnB1c2goVyl9ZWxzZXtpZihWLmNvbnN0cnVjdG9yPT1TdHJpbmd8fFYuY29uc3RydWN0b3I9PUZ1bmN0aW9uKXtXLnNldExhYmVsKFYpfWVsc2V7aWYoVi5sYWJlbCl7Vy5zZXRMYWJlbChWLmxhYmVsKX1pZihWLmxvY2F0aW9uKXtXLnNldExvY2F0aW9uKFYubG9jYXRpb24pfX19VS5yZXBhaW50KCl9O3RoaXMuZ2V0TGFiZWw9ZnVuY3Rpb24oKXt2YXIgVj1VLmdldE92ZXJsYXkoTSk7cmV0dXJuIFYhPW51bGw/Vi5nZXRMYWJlbCgpOm51bGx9O3RoaXMuZ2V0TGFiZWxPdmVybGF5PWZ1bmN0aW9uKCl7cmV0dXJuIFUuZ2V0T3ZlcmxheShNKX19LEc9ZnVuY3Rpb24oTSxLLEwpe00uYmluZChcImNsaWNrXCIsZnVuY3Rpb24oTixPKXtLLmZpcmUoXCJjbGlja1wiLEssTyl9KTtNLmJpbmQoXCJkYmxjbGlja1wiLGZ1bmN0aW9uKE4sTyl7Sy5maXJlKFwiZGJsY2xpY2tcIixLLE8pfSk7TS5iaW5kKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihOLE8pe0suZmlyZShcImNvbnRleHRtZW51XCIsSyxPKX0pO00uYmluZChcIm1vdXNlZW50ZXJcIixmdW5jdGlvbihOLE8pe2lmKCFLLmlzSG92ZXIoKSl7TCh0cnVlKTtLLmZpcmUoXCJtb3VzZWVudGVyXCIsSyxPKX19KTtNLmJpbmQoXCJtb3VzZWV4aXRcIixmdW5jdGlvbihOLE8pe2lmKEsuaXNIb3ZlcigpKXtMKGZhbHNlKTtLLmZpcmUoXCJtb3VzZWV4aXRcIixLLE8pfX0pfTt2YXIgZz0wLGM9ZnVuY3Rpb24oKXt2YXIgSz1nKzE7ZysrO3JldHVybiBLfTt2YXIgeT1mdW5jdGlvbihMKXt0aGlzLkRlZmF1bHRzPXtBbmNob3I6XCJCb3R0b21DZW50ZXJcIixBbmNob3JzOltudWxsLG51bGxdLENvbm5lY3Rpb25zRGV0YWNoYWJsZTp0cnVlLENvbm5lY3Rpb25PdmVybGF5czpbXSxDb25uZWN0b3I6XCJCZXppZXJcIixDb250YWluZXI6bnVsbCxEcmFnT3B0aW9uczp7fSxEcm9wT3B0aW9uczp7fSxFbmRwb2ludDpcIkRvdFwiLEVuZHBvaW50T3ZlcmxheXM6W10sRW5kcG9pbnRzOltudWxsLG51bGxdLEVuZHBvaW50U3R5bGU6e2ZpbGxTdHlsZTpcIiM0NTZcIn0sRW5kcG9pbnRTdHlsZXM6W251bGwsbnVsbF0sRW5kcG9pbnRIb3ZlclN0eWxlOm51bGwsRW5kcG9pbnRIb3ZlclN0eWxlczpbbnVsbCxudWxsXSxIb3ZlclBhaW50U3R5bGU6bnVsbCxMYWJlbFN0eWxlOntjb2xvcjpcImJsYWNrXCJ9LExvZ0VuYWJsZWQ6ZmFsc2UsT3ZlcmxheXM6W10sTWF4Q29ubmVjdGlvbnM6MSxQYWludFN0eWxlOntsaW5lV2lkdGg6OCxzdHJva2VTdHlsZTpcIiM0NTZcIn0sUmVuZGVyTW9kZTpcInN2Z1wiLFNjb3BlOlwianNQbHVtYl9EZWZhdWx0U2NvcGVcIn07aWYoTCl7cC5leHRlbmQodGhpcy5EZWZhdWx0cyxMKX10aGlzLmxvZ0VuYWJsZWQ9dGhpcy5EZWZhdWx0cy5Mb2dFbmFibGVkO2pzUGx1bWJVdGlsLkV2ZW50R2VuZXJhdG9yLmFwcGx5KHRoaXMpO3ZhciBibj10aGlzLGFMPWMoKSxhTz1ibi5iaW5kLGFDPXt9O2Zvcih2YXIgYUIgaW4gdGhpcy5EZWZhdWx0cyl7YUNbYUJdPXRoaXMuRGVmYXVsdHNbYUJdfXRoaXMuYmluZD1mdW5jdGlvbihidyxidil7aWYoXCJyZWFkeVwiPT09YncmJk0pe2J2KCl9ZWxzZXthTy5hcHBseShibixbYncsYnZdKX19O2JuLmltcG9ydERlZmF1bHRzPWZ1bmN0aW9uKGJ3KXtmb3IodmFyIGJ2IGluIGJ3KXtibi5EZWZhdWx0c1tidl09YndbYnZdfX07Ym4ucmVzdG9yZURlZmF1bHRzPWZ1bmN0aW9uKCl7Ym4uRGVmYXVsdHM9cC5leHRlbmQoe30sYUMpfTt2YXIgUD1udWxsLGFyPWZ1bmN0aW9uKCl7cC5yZXBhaW50RXZlcnl0aGluZygpfSxicD10cnVlLGFQPWZ1bmN0aW9uKCl7aWYoYnApe2FyKCl9fSxiZT1udWxsLE09ZmFsc2UsYVk9e30sYVQ9e30sYVU9e30sYWg9e30sYnI9e30sYmY9e30sYm09e30sYnU9W10sYWU9W10sUT10aGlzLkRlZmF1bHRzLlNjb3BlLFg9bnVsbCxWPWZ1bmN0aW9uKGJ5LGJ3LGJ4KXt2YXIgYnY9YnlbYnddO2lmKGJ2PT1udWxsKXtidj1bXTtieVtid109YnZ9YnYucHVzaChieCk7cmV0dXJuIGJ2fSxhVz1mdW5jdGlvbihidyxidil7aWYoYm4uRGVmYXVsdHMuQ29udGFpbmVyKXtwLkN1cnJlbnRMaWJyYXJ5LmFwcGVuZEVsZW1lbnQoYncsYm4uRGVmYXVsdHMuQ29udGFpbmVyKX1lbHNle2lmKCFidil7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidyl9ZWxzZXtwLkN1cnJlbnRMaWJyYXJ5LmFwcGVuZEVsZW1lbnQoYncsYnYpfX19LGFEPTEsYWs9ZnVuY3Rpb24oKXtyZXR1cm5cIlwiK2FEKyt9LGFJPWZ1bmN0aW9uKGJ2KXtyZXR1cm4gYnYuX25vZGVzP2J2Ll9ub2Rlczpidn0sYTY9ZmFsc2UsYmc9ZnVuY3Rpb24oYncsYnYpe2E2PWJ3O2lmKGJ2KXtibi5yZXBhaW50RXZlcnl0aGluZygpfX0sYmE9ZnVuY3Rpb24oYngsYnosYnkpe2lmKCFhNil7dmFyIGJBPWQoYngsXCJpZFwiKSxidj1ibi5kcmFnTWFuYWdlci5nZXRFbGVtZW50c0ZvckRyYWdnYWJsZShiQSk7aWYoYnk9PW51bGwpe2J5PXIoKX1ibi5hbmNob3JNYW5hZ2VyLnJlZHJhdyhiQSxieixieSk7aWYoYnYpe2Zvcih2YXIgYncgaW4gYnYpe2JuLmFuY2hvck1hbmFnZXIucmVkcmF3KGJ2W2J3XS5pZCxieixieSxidltid10ub2Zmc2V0KX19fX0sYUc9ZnVuY3Rpb24oYncsYnkpe3ZhciBiej1udWxsO2lmKG4oYncpKXtiej1bXTtmb3IodmFyIGJ2PTA7YnY8YncubGVuZ3RoO2J2Kyspe3ZhciBieD1GKGJ3W2J2XSksYkE9ZChieCxcImlkXCIpO2J6LnB1c2goYnkoYngsYkEpKX19ZWxzZXt2YXIgYng9RihidyksYkE9ZChieCxcImlkXCIpO2J6PWJ5KGJ4LGJBKX1yZXR1cm4gYnp9LGF2PWZ1bmN0aW9uKGJ2KXtyZXR1cm4gYVVbYnZdfSxiYj1mdW5jdGlvbihieixidixiQyl7dmFyIGJFPWJ2PT1udWxsP2ZhbHNlOmJ2LGJBPXAuQ3VycmVudExpYnJhcnk7aWYoYkUpe2lmKGJBLmlzRHJhZ1N1cHBvcnRlZChieikmJiFiQS5pc0FscmVhZHlEcmFnZ2FibGUoYnopKXt2YXIgYkQ9YkN8fGJuLkRlZmF1bHRzLkRyYWdPcHRpb25zfHxwLkRlZmF1bHRzLkRyYWdPcHRpb25zO2JEPXAuZXh0ZW5kKHt9LGJEKTt2YXIgYkI9YkEuZHJhZ0V2ZW50cy5kcmFnLGJ3PWJBLmRyYWdFdmVudHMuc3RvcCxieT1iQS5kcmFnRXZlbnRzLnN0YXJ0O2JEW2J5XT1hbShiRFtieV0sZnVuY3Rpb24oKXtibi5zZXRIb3ZlclN1c3BlbmRlZCh0cnVlKX0pO2JEW2JCXT1hbShiRFtiQl0sZnVuY3Rpb24oKXt2YXIgYkY9YkEuZ2V0VUlQb3NpdGlvbihhcmd1bWVudHMpO2JhKGJ6LGJGKTtCKGJ6LFwianNQbHVtYl9kcmFnZ2VkXCIpfSk7YkRbYnddPWFtKGJEW2J3XSxmdW5jdGlvbigpe3ZhciBiRj1iQS5nZXRVSVBvc2l0aW9uKGFyZ3VtZW50cyk7YmEoYnosYkYpO28oYnosXCJqc1BsdW1iX2RyYWdnZWRcIik7Ym4uc2V0SG92ZXJTdXNwZW5kZWQoZmFsc2UpfSk7dmFyIGJ4PUsoYnopO2JtW2J4XT10cnVlO3ZhciBiRT1ibVtieF07YkQuZGlzYWJsZWQ9YkU9PW51bGw/ZmFsc2U6IWJFO2JBLmluaXREcmFnZ2FibGUoYnosYkQsZmFsc2UpO2JuLmRyYWdNYW5hZ2VyLnJlZ2lzdGVyKGJ6KX19fSxhQT1mdW5jdGlvbihiQixidyl7dmFyIGJ2PXAuZXh0ZW5kKHt9LGJCKTtpZihidyl7cC5leHRlbmQoYnYsYncpfWlmKGJ2LnNvdXJjZSYmYnYuc291cmNlLmVuZHBvaW50KXtidi5zb3VyY2VFbmRwb2ludD1idi5zb3VyY2V9aWYoYnYuc291cmNlJiZidi50YXJnZXQuZW5kcG9pbnQpe2J2LnRhcmdldEVuZHBvaW50PWJ2LnRhcmdldH1pZihiQi51dWlkcyl7YnYuc291cmNlRW5kcG9pbnQ9YXYoYkIudXVpZHNbMF0pO2J2LnRhcmdldEVuZHBvaW50PWF2KGJCLnV1aWRzWzFdKX1pZihidi5zb3VyY2VFbmRwb2ludCYmYnYuc291cmNlRW5kcG9pbnQuaXNGdWxsKCkpe3EoYm4sXCJjb3VsZCBub3QgYWRkIGNvbm5lY3Rpb247IHNvdXJjZSBlbmRwb2ludCBpcyBmdWxsXCIpO3JldHVybn1pZihidi50YXJnZXRFbmRwb2ludCYmYnYudGFyZ2V0RW5kcG9pbnQuaXNGdWxsKCkpe3EoYm4sXCJjb3VsZCBub3QgYWRkIGNvbm5lY3Rpb247IHRhcmdldCBlbmRwb2ludCBpcyBmdWxsXCIpO3JldHVybn1pZihidi5zb3VyY2VFbmRwb2ludCYmYnYuc291cmNlRW5kcG9pbnQuY29ubmVjdG9yT3ZlcmxheXMpe2J2Lm92ZXJsYXlzPWJ2Lm92ZXJsYXlzfHxbXTtmb3IodmFyIGJ6PTA7Yno8YnYuc291cmNlRW5kcG9pbnQuY29ubmVjdG9yT3ZlcmxheXMubGVuZ3RoO2J6Kyspe2J2Lm92ZXJsYXlzLnB1c2goYnYuc291cmNlRW5kcG9pbnQuY29ubmVjdG9yT3ZlcmxheXNbYnpdKX19YnYudG9vbHRpcD1iQi50b29sdGlwO2lmKCFidi50b29sdGlwJiZidi5zb3VyY2VFbmRwb2ludCYmYnYuc291cmNlRW5kcG9pbnQuY29ubmVjdG9yVG9vbHRpcCl7YnYudG9vbHRpcD1idi5zb3VyY2VFbmRwb2ludC5jb25uZWN0b3JUb29sdGlwfWlmKGJ2LnRhcmdldCYmIWJ2LnRhcmdldC5lbmRwb2ludCYmIWJ2LnRhcmdldEVuZHBvaW50JiYhYnYubmV3Q29ubmVjdGlvbil7dmFyIGJBPUsoYnYudGFyZ2V0KSxiQz1hWltiQV0sYng9YUhbYkFdO2lmKGJDKXtpZighYWpbYkFdKXtyZXR1cm59dmFyIGJ5PWJ4IT1udWxsP2J4OmJuLmFkZEVuZHBvaW50KGJ2LnRhcmdldCxiQyk7aWYoYmhbYkFdKXthSFtiQV09Ynl9YnYudGFyZ2V0RW5kcG9pbnQ9Ynk7YnkuX21ha2VUYXJnZXRDcmVhdG9yPXRydWV9fWlmKGJ2LnNvdXJjZSYmIWJ2LnNvdXJjZS5lbmRwb2ludCYmIWJ2LnNvdXJjZUVuZHBvaW50JiYhYnYubmV3Q29ubmVjdGlvbil7dmFyIGJBPUsoYnYuc291cmNlKSxiQz1heltiQV0sYng9YTVbYkFdO2lmKGJDKXtpZighYWNbYkFdKXtyZXR1cm59dmFyIGJ5PWJ4IT1udWxsP2J4OmJuLmFkZEVuZHBvaW50KGJ2LnNvdXJjZSxiQyk7aWYoYTlbYkFdKXthNVtiQV09Ynl9YnYuc291cmNlRW5kcG9pbnQ9Ynl9fXJldHVybiBidn0sYWQ9ZnVuY3Rpb24oYnope3ZhciBieT1ibi5EZWZhdWx0cy5Db25uZWN0aW9uVHlwZXx8Ym4uZ2V0RGVmYXVsdENvbm5lY3Rpb25UeXBlKCksYng9Ym4uRGVmYXVsdHMuRW5kcG9pbnRUeXBlfHxhZixidz1wLkN1cnJlbnRMaWJyYXJ5LmdldFBhcmVudDtpZihiei5jb250YWluZXIpe2J6LnBhcmVudD1iei5jb250YWluZXJ9ZWxzZXtpZihiei5zb3VyY2VFbmRwb2ludCl7YnoucGFyZW50PWJ6LnNvdXJjZUVuZHBvaW50LnBhcmVudH1lbHNle2lmKGJ6LnNvdXJjZS5jb25zdHJ1Y3Rvcj09Yngpe2J6LnBhcmVudD1iei5zb3VyY2UucGFyZW50fWVsc2V7YnoucGFyZW50PWJ3KGJ6LnNvdXJjZSl9fX1iei5fanNQbHVtYj1ibjt2YXIgYnY9bmV3IGJ5KGJ6KTtidi5pZD1cImNvbl9cIithaygpO2JzKFwiY2xpY2tcIixcImNsaWNrXCIsYnYpO2JzKFwiZGJsY2xpY2tcIixcImRibGNsaWNrXCIsYnYpO2JzKFwiY29udGV4dG1lbnVcIixcImNvbnRleHRtZW51XCIsYnYpO3JldHVybiBidn0sYnQ9ZnVuY3Rpb24oYncsYngsYnYpe2J4PWJ4fHx7fTtpZighYncuc3VzcGVuZGVkRW5kcG9pbnQpe1YoYVksYncuc2NvcGUsYncpfWlmKCFieC5kb05vdEZpcmVDb25uZWN0aW9uRXZlbnQmJmJ4LmZpcmVFdmVudCE9PWZhbHNlKXtibi5maXJlKFwianNQbHVtYkNvbm5lY3Rpb25cIix7Y29ubmVjdGlvbjpidyxzb3VyY2U6Yncuc291cmNlLHRhcmdldDpidy50YXJnZXQsc291cmNlSWQ6Yncuc291cmNlSWQsdGFyZ2V0SWQ6YncudGFyZ2V0SWQsc291cmNlRW5kcG9pbnQ6YncuZW5kcG9pbnRzWzBdLHRhcmdldEVuZHBvaW50OmJ3LmVuZHBvaW50c1sxXX0sYnYpfWJuLmFuY2hvck1hbmFnZXIubmV3Q29ubmVjdGlvbihidyk7YmEoYncuc291cmNlKX0sYnM9ZnVuY3Rpb24oYnYsYncsYngpe2J4LmJpbmQoYnYsZnVuY3Rpb24oYnosYnkpe2JuLmZpcmUoYncsYngsYnkpfSl9LGF3PWZ1bmN0aW9uKGJ4KXtpZihieC5jb250YWluZXIpe3JldHVybiBieC5jb250YWluZXJ9ZWxzZXt2YXIgYnY9cC5DdXJyZW50TGlicmFyeS5nZXRUYWdOYW1lKGJ4LnNvdXJjZSksYnc9cC5DdXJyZW50TGlicmFyeS5nZXRQYXJlbnQoYnguc291cmNlKTtpZihidiYmYnYudG9Mb3dlckNhc2UoKT09PVwidGRcIil7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuZ2V0UGFyZW50KGJ3KX1lbHNle3JldHVybiBid319fSxhRj1mdW5jdGlvbihieCl7dmFyIGJ3PWJuLkRlZmF1bHRzLkVuZHBvaW50VHlwZXx8YWY7YngucGFyZW50PWF3KGJ4KTtieC5fanNQbHVtYj1ibjt2YXIgYnY9bmV3IGJ3KGJ4KTtidi5pZD1cImVwX1wiK2FrKCk7YnMoXCJjbGlja1wiLFwiZW5kcG9pbnRDbGlja1wiLGJ2KTticyhcImRibGNsaWNrXCIsXCJlbmRwb2ludERibENsaWNrXCIsYnYpO2JzKFwiY29udGV4dG1lbnVcIixcImNvbnRleHRtZW51XCIsYnYpO3JldHVybiBidn0sVT1mdW5jdGlvbihieCxiQSxieil7dmFyIGJ2PWFUW2J4XTtpZihidiYmYnYubGVuZ3RoKXtmb3IodmFyIGJ5PTA7Ynk8YnYubGVuZ3RoO2J5Kyspe2Zvcih2YXIgYnc9MDtidzxidltieV0uY29ubmVjdGlvbnMubGVuZ3RoO2J3Kyspe3ZhciBiQj1iQShidltieV0uY29ubmVjdGlvbnNbYnddKTtpZihiQil7cmV0dXJufX1pZihieil7YnooYnZbYnldKX19fX0sWT1mdW5jdGlvbihidyl7Zm9yKHZhciBidiBpbiBhVCl7VShidixidyl9fSxhdT1mdW5jdGlvbihidixidyl7aWYoYnYhPW51bGwmJmJ2LnBhcmVudE5vZGUhPW51bGwpe2J2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnYpfX0sYVg9ZnVuY3Rpb24oYngsYncpe2Zvcih2YXIgYnY9MDtidjxieC5sZW5ndGg7YnYrKyl7YXUoYnhbYnZdLGJ3KX19LGJrPWZ1bmN0aW9uKGJ3LGJ2KXtyZXR1cm4gYUcoYncsZnVuY3Rpb24oYngsYnkpe2JtW2J5XT1idjtpZihwLkN1cnJlbnRMaWJyYXJ5LmlzRHJhZ1N1cHBvcnRlZChieCkpe3AuQ3VycmVudExpYnJhcnkuc2V0RHJhZ2dhYmxlKGJ4LGJ2KX19KX0sYTM9ZnVuY3Rpb24oYngsYnksYnYpe2J5PWJ5PT09XCJibG9ja1wiO3ZhciBidz1udWxsO2lmKGJ2KXtpZihieSl7Ync9ZnVuY3Rpb24oYkEpe2JBLnNldFZpc2libGUodHJ1ZSx0cnVlLHRydWUpfX1lbHNle2J3PWZ1bmN0aW9uKGJBKXtiQS5zZXRWaXNpYmxlKGZhbHNlLHRydWUsdHJ1ZSl9fX12YXIgYno9ZChieCxcImlkXCIpO1UoYnosZnVuY3Rpb24oYkIpe2lmKGJ5JiZidil7dmFyIGJBPWJCLnNvdXJjZUlkPT09Yno/MTowO2lmKGJCLmVuZHBvaW50c1tiQV0uaXNWaXNpYmxlKCkpe2JCLnNldFZpc2libGUodHJ1ZSl9fWVsc2V7YkIuc2V0VmlzaWJsZShieSl9fSxidyl9LGJpPWZ1bmN0aW9uKGJ2KXtyZXR1cm4gYUcoYnYsZnVuY3Rpb24oYngsYncpe3ZhciBieT1ibVtid109PW51bGw/ZmFsc2U6Ym1bYnddO2J5PSFieTtibVtid109Ynk7cC5DdXJyZW50TGlicmFyeS5zZXREcmFnZ2FibGUoYngsYnkpO3JldHVybiBieX0pfSxhUT1mdW5jdGlvbihidixieCl7dmFyIGJ3PW51bGw7aWYoYngpe2J3PWZ1bmN0aW9uKGJ5KXt2YXIgYno9YnkuaXNWaXNpYmxlKCk7Ynkuc2V0VmlzaWJsZSghYnopfX1VKGJ2LGZ1bmN0aW9uKGJ6KXt2YXIgYnk9YnouaXNWaXNpYmxlKCk7Ynouc2V0VmlzaWJsZSghYnkpfSxidyl9LFc9ZnVuY3Rpb24oYkEpe3ZhciBieT1iQS50aW1lc3RhbXAsYnY9YkEucmVjYWxjLGJ6PWJBLm9mZnNldCxidz1iQS5lbElkO2lmKCFidil7aWYoYnkmJmJ5PT09YnJbYnddKXtyZXR1cm4gYWhbYnddfX1pZihidnx8IWJ6KXt2YXIgYng9Rihidyk7aWYoYnghPW51bGwpe2FlW2J3XT1hKGJ4KTthaFtid109dChieCk7YnJbYnddPWJ5fX1lbHNle2FoW2J3XT1iejtpZihhZVtid109PW51bGwpe3ZhciBieD1GKGJ3KTtpZihieCE9bnVsbCl7YWVbYnddPWEoYngpfX19aWYoYWhbYnddJiYhYWhbYnddLnJpZ2h0KXthaFtid10ucmlnaHQ9YWhbYnddLmxlZnQrYWVbYnddWzBdO2FoW2J3XS5ib3R0b209YWhbYnddLnRvcCthZVtid11bMV07YWhbYnddLndpZHRoPWFlW2J3XVswXTthaFtid10uaGVpZ2h0PWFlW2J3XVsxXTthaFtid10uY2VudGVyeD1haFtid10ubGVmdCsoYWhbYnddLndpZHRoLzIpO2FoW2J3XS5jZW50ZXJ5PWFoW2J3XS50b3ArKGFoW2J3XS5oZWlnaHQvMil9cmV0dXJuIGFoW2J3XX0sYU49ZnVuY3Rpb24oYnYpe3ZhciBidz1haFtidl07aWYoIWJ3KXtidz1XKHtlbElkOmJ2fSl9cmV0dXJue286YncsczphZVtidl19fSxLPWZ1bmN0aW9uKGJ2LGJ3LGJ5KXt2YXIgYng9Rihidik7dmFyIGJ6PWQoYngsXCJpZFwiKTtpZighYnp8fGJ6PT1cInVuZGVmaW5lZFwiKXtpZihhcmd1bWVudHMubGVuZ3RoPT0yJiZhcmd1bWVudHNbMV0hPXVuZGVmaW5lZCl7Yno9Ynd9ZWxzZXtpZihhcmd1bWVudHMubGVuZ3RoPT0xfHwoYXJndW1lbnRzLmxlbmd0aD09MyYmIWFyZ3VtZW50c1syXSkpe2J6PVwianNQbHVtYl9cIithTCtcIl9cIithaygpfX1mKGJ4LFwiaWRcIixieil9cmV0dXJuIGJ6fSxhbT1mdW5jdGlvbihieCxidixidyl7Yng9Ynh8fGZ1bmN0aW9uKCl7fTtidj1idnx8ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbigpe3ZhciBieT1udWxsO3RyeXtieT1idi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goYnope3EoYm4sXCJqc1BsdW1iIGZ1bmN0aW9uIGZhaWxlZCA6IFwiK2J6KX1pZihidz09bnVsbHx8KGJ5IT09YncpKXt0cnl7YnguYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGJ6KXtxKGJuLFwid3JhcHBlZCBmdW5jdGlvbiBmYWlsZWQgOiBcIitieil9fXJldHVybiBieX19O3RoaXMuY29ubmVjdG9yQ2xhc3M9XCJfanNQbHVtYl9jb25uZWN0b3JcIjt0aGlzLmVuZHBvaW50Q2xhc3M9XCJfanNQbHVtYl9lbmRwb2ludFwiO3RoaXMub3ZlcmxheUNsYXNzPVwiX2pzUGx1bWJfb3ZlcmxheVwiO3RoaXMuQW5jaG9ycz17fTt0aGlzLkNvbm5lY3RvcnM9e2NhbnZhczp7fSxzdmc6e30sdm1sOnt9fTt0aGlzLkVuZHBvaW50cz17Y2FudmFzOnt9LHN2Zzp7fSx2bWw6e319O3RoaXMuT3ZlcmxheXM9e2NhbnZhczp7fSxzdmc6e30sdm1sOnt9fTt0aGlzLmFkZENsYXNzPWZ1bmN0aW9uKGJ3LGJ2KXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5hZGRDbGFzcyhidyxidil9O3RoaXMucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oYncsYnYpe3JldHVybiBwLkN1cnJlbnRMaWJyYXJ5LnJlbW92ZUNsYXNzKGJ3LGJ2KX07dGhpcy5oYXNDbGFzcz1mdW5jdGlvbihidyxidil7cmV0dXJuIHAuQ3VycmVudExpYnJhcnkuaGFzQ2xhc3MoYncsYnYpfTt0aGlzLmFkZEVuZHBvaW50PWZ1bmN0aW9uKGJ4LGJ5LGJIKXtiSD1iSHx8e307dmFyIGJ3PXAuZXh0ZW5kKHt9LGJIKTtwLmV4dGVuZChidyxieSk7YncuZW5kcG9pbnQ9YncuZW5kcG9pbnR8fGJuLkRlZmF1bHRzLkVuZHBvaW50fHxwLkRlZmF1bHRzLkVuZHBvaW50O2J3LnBhaW50U3R5bGU9YncucGFpbnRTdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXx8cC5EZWZhdWx0cy5FbmRwb2ludFN0eWxlO2J4PWFJKGJ4KTt2YXIgYno9W10sYkM9YngubGVuZ3RoJiZieC5jb25zdHJ1Y3RvciE9U3RyaW5nP2J4OltieF07Zm9yKHZhciBiQT0wO2JBPGJDLmxlbmd0aDtiQSsrKXt2YXIgYkY9RihiQ1tiQV0pLGJ2PUsoYkYpO2J3LnNvdXJjZT1iRjtXKHtlbElkOmJ2fSk7dmFyIGJFPWFGKGJ3KTtpZihidy5wYXJlbnRBbmNob3Ipe2JFLnBhcmVudEFuY2hvcj1idy5wYXJlbnRBbmNob3J9VihhVCxidixiRSk7dmFyIGJEPWFoW2J2XSxiQj1hZVtidl07dmFyIGJHPWJFLmFuY2hvci5jb21wdXRlKHt4eTpbYkQubGVmdCxiRC50b3BdLHdoOmJCLGVsZW1lbnQ6YkV9KTtiRS5wYWludCh7YW5jaG9yTG9jOmJHfSk7YnoucHVzaChiRSk7Ym4uZHJhZ01hbmFnZXIuZW5kcG9pbnRBZGRlZChiRil9cmV0dXJuIGJ6Lmxlbmd0aD09MT9ielswXTpien07dGhpcy5hZGRFbmRwb2ludHM9ZnVuY3Rpb24oYnosYncsYnYpe3ZhciBieT1bXTtmb3IodmFyIGJ4PTA7Yng8YncubGVuZ3RoO2J4Kyspe3ZhciBiQT1ibi5hZGRFbmRwb2ludChieixid1tieF0sYnYpO2lmKG4oYkEpKXtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShieSxiQSl9ZWxzZXtieS5wdXNoKGJBKX19cmV0dXJuIGJ5fTt0aGlzLmFuaW1hdGU9ZnVuY3Rpb24oYngsYncsYnYpe3ZhciBieT1GKGJ4KSxiQj1kKGJ4LFwiaWRcIik7YnY9YnZ8fHt9O3ZhciBiQT1wLkN1cnJlbnRMaWJyYXJ5LmRyYWdFdmVudHMuc3RlcDt2YXIgYno9cC5DdXJyZW50TGlicmFyeS5kcmFnRXZlbnRzLmNvbXBsZXRlO2J2W2JBXT1hbShidltiQV0sZnVuY3Rpb24oKXtibi5yZXBhaW50KGJCKX0pO2J2W2J6XT1hbShidltiel0sZnVuY3Rpb24oKXtibi5yZXBhaW50KGJCKX0pO3AuQ3VycmVudExpYnJhcnkuYW5pbWF0ZShieSxidyxidil9O3RoaXMuY2hlY2tDb25kaXRpb249ZnVuY3Rpb24oYngsYnope3ZhciBidj1ibi5nZXRMaXN0ZW5lcihieCk7dmFyIGJ5PXRydWU7aWYoYnYmJmJ2Lmxlbmd0aD4wKXt0cnl7Zm9yKHZhciBidz0wO2J3PGJ2Lmxlbmd0aDtidysrKXtieT1ieSYmYnZbYnddKGJ6KX19Y2F0Y2goYkEpe3EoYm4sXCJjYW5ub3QgY2hlY2sgY29uZGl0aW9uIFtcIitieCtcIl1cIitiQSl9fXJldHVybiBieX07dGhpcy5jb25uZWN0PWZ1bmN0aW9uKGJ5LGJ3KXt2YXIgYnY9YUEoYnksYncpO2lmKGJ2KXtpZihidi5kZWxldGVFbmRwb2ludHNPbkRldGFjaD09bnVsbCl7YnYuZGVsZXRlRW5kcG9pbnRzT25EZXRhY2g9dHJ1ZX12YXIgYng9YWQoYnYpO2J0KGJ4LGJ2KTtyZXR1cm4gYnh9fTt0aGlzLmRlbGV0ZUVuZHBvaW50PWZ1bmN0aW9uKGJ3KXt2YXIgYkI9KHR5cGVvZiBidz09XCJzdHJpbmdcIik/YVVbYnddOmJ3O2lmKGJCKXt2YXIgYnk9YkIuZ2V0VXVpZCgpO2lmKGJ5KXthVVtieV09bnVsbH1iQi5kZXRhY2hBbGwoKTthWChiQi5lbmRwb2ludC5nZXREaXNwbGF5RWxlbWVudHMoKSk7Ym4uYW5jaG9yTWFuYWdlci5kZWxldGVFbmRwb2ludChiQik7Zm9yKHZhciBiQSBpbiBhVCl7dmFyIGJ2PWFUW2JBXTtpZihidil7dmFyIGJ6PVtdO2Zvcih2YXIgYng9MDtieDxidi5sZW5ndGg7YngrKyl7aWYoYnZbYnhdIT1iQil7YnoucHVzaChidltieF0pfX1hVFtiQV09Ynp9fWJuLmRyYWdNYW5hZ2VyLmVuZHBvaW50RGVsZXRlZChiQil9fTt0aGlzLmRlbGV0ZUV2ZXJ5RW5kcG9pbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIGJ4IGluIGFUKXt2YXIgYnY9YVRbYnhdO2lmKGJ2JiZidi5sZW5ndGgpe2Zvcih2YXIgYnc9MDtidzxidi5sZW5ndGg7YncrKyl7Ym4uZGVsZXRlRW5kcG9pbnQoYnZbYnddKX19fWRlbGV0ZSBhVDthVD17fTtkZWxldGUgYVU7YVU9e319O3ZhciBhNz1mdW5jdGlvbihieSxiQSxidil7dmFyIGJ4PWJuLkRlZmF1bHRzLkNvbm5lY3Rpb25UeXBlfHxibi5nZXREZWZhdWx0Q29ubmVjdGlvblR5cGUoKSxidz1ieS5jb25zdHJ1Y3Rvcj09YngsYno9Ync/e2Nvbm5lY3Rpb246Ynksc291cmNlOmJ5LnNvdXJjZSx0YXJnZXQ6YnkudGFyZ2V0LHNvdXJjZUlkOmJ5LnNvdXJjZUlkLHRhcmdldElkOmJ5LnRhcmdldElkLHNvdXJjZUVuZHBvaW50OmJ5LmVuZHBvaW50c1swXSx0YXJnZXRFbmRwb2ludDpieS5lbmRwb2ludHNbMV19OmJ5O2lmKGJBKXtibi5maXJlKFwianNQbHVtYkNvbm5lY3Rpb25EZXRhY2hlZFwiLGJ6LGJ2KX1ibi5hbmNob3JNYW5hZ2VyLmNvbm5lY3Rpb25EZXRhY2hlZChieil9LGE0PWZ1bmN0aW9uKGJ2KXtibi5maXJlKFwiY29ubmVjdGlvbkRyYWdcIixidil9LGFSPWZ1bmN0aW9uKGJ2KXtibi5maXJlKFwiY29ubmVjdGlvbkRyYWdTdG9wXCIsYnYpfTt0aGlzLmRldGFjaD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PTApe3JldHVybn12YXIgYno9Ym4uRGVmYXVsdHMuQ29ubmVjdGlvblR5cGV8fGJuLmdldERlZmF1bHRDb25uZWN0aW9uVHlwZSgpLGJBPWFyZ3VtZW50c1swXS5jb25zdHJ1Y3Rvcj09YnosYnk9YXJndW1lbnRzLmxlbmd0aD09Mj9iQT8oYXJndW1lbnRzWzFdfHx7fSk6YXJndW1lbnRzWzBdOmFyZ3VtZW50c1swXSxiRD0oYnkuZmlyZUV2ZW50IT09ZmFsc2UpLGJ4PWJ5LmZvcmNlRGV0YWNoLGJ3PWJBP2FyZ3VtZW50c1swXTpieS5jb25uZWN0aW9uO2lmKGJ3KXtpZihieHx8KGJ3LmlzRGV0YWNoQWxsb3dlZChidykmJmJ3LmVuZHBvaW50c1swXS5pc0RldGFjaEFsbG93ZWQoYncpJiZidy5lbmRwb2ludHNbMV0uaXNEZXRhY2hBbGxvd2VkKGJ3KSkpe2lmKGJ4fHxibi5jaGVja0NvbmRpdGlvbihcImJlZm9yZURldGFjaFwiLGJ3KSl7YncuZW5kcG9pbnRzWzBdLmRldGFjaChidyxmYWxzZSx0cnVlLGJEKX19fWVsc2V7dmFyIGJ2PXAuZXh0ZW5kKHt9LGJ5KTtpZihidi51dWlkcyl7YXYoYnYudXVpZHNbMF0pLmRldGFjaEZyb20oYXYoYnYudXVpZHNbMV0pLGJEKX1lbHNle2lmKGJ2LnNvdXJjZUVuZHBvaW50JiZidi50YXJnZXRFbmRwb2ludCl7YnYuc291cmNlRW5kcG9pbnQuZGV0YWNoRnJvbShidi50YXJnZXRFbmRwb2ludCl9ZWxzZXt2YXIgYkM9Syhidi5zb3VyY2UpLGJCPUsoYnYudGFyZ2V0KTtVKGJDLGZ1bmN0aW9uKGJFKXtpZigoYkUuc291cmNlSWQ9PWJDJiZiRS50YXJnZXRJZD09YkIpfHwoYkUudGFyZ2V0SWQ9PWJDJiZiRS5zb3VyY2VJZD09YkIpKXtpZihibi5jaGVja0NvbmRpdGlvbihcImJlZm9yZURldGFjaFwiLGJFKSl7YkUuZW5kcG9pbnRzWzBdLmRldGFjaChiRSxmYWxzZSx0cnVlLGJEKX19fSl9fX19O3RoaXMuZGV0YWNoQWxsQ29ubmVjdGlvbnM9ZnVuY3Rpb24oYngsYnkpe2J5PWJ5fHx7fTtieD1GKGJ4KTt2YXIgYno9ZChieCxcImlkXCIpLGJ2PWFUW2J6XTtpZihidiYmYnYubGVuZ3RoKXtmb3IodmFyIGJ3PTA7Ync8YnYubGVuZ3RoO2J3Kyspe2J2W2J3XS5kZXRhY2hBbGwoYnkuZmlyZUV2ZW50KX19fTt0aGlzLmRldGFjaEV2ZXJ5Q29ubmVjdGlvbj1mdW5jdGlvbihieCl7Yng9Ynh8fHt9O2Zvcih2YXIgYnkgaW4gYVQpe3ZhciBidj1hVFtieV07aWYoYnYmJmJ2Lmxlbmd0aCl7Zm9yKHZhciBidz0wO2J3PGJ2Lmxlbmd0aDtidysrKXtidltid10uZGV0YWNoQWxsKGJ4LmZpcmVFdmVudCl9fX1kZWxldGUgYVk7YVk9e319O3RoaXMuZHJhZ2dhYmxlPWZ1bmN0aW9uKGJ4LGJ2KXtpZih0eXBlb2YgYng9PVwib2JqZWN0XCImJmJ4Lmxlbmd0aCl7Zm9yKHZhciBidz0wO2J3PGJ4Lmxlbmd0aDtidysrKXt2YXIgYnk9RihieFtid10pO2lmKGJ5KXtiYihieSx0cnVlLGJ2KX19fWVsc2V7aWYoYnguX25vZGVzKXtmb3IodmFyIGJ3PTA7Ync8YnguX25vZGVzLmxlbmd0aDtidysrKXt2YXIgYnk9RihieC5fbm9kZXNbYnddKTtpZihieSl7YmIoYnksdHJ1ZSxidil9fX1lbHNle3ZhciBieT1GKGJ4KTtpZihieSl7YmIoYnksdHJ1ZSxidil9fX19O3RoaXMuZXh0ZW5kPWZ1bmN0aW9uKGJ3LGJ2KXtyZXR1cm4gcC5DdXJyZW50TGlicmFyeS5leHRlbmQoYncsYnYpfTt0aGlzLmdldERlZmF1bHRFbmRwb2ludFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gYWZ9O3RoaXMuZ2V0RGVmYXVsdENvbm5lY3Rpb25UeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIGF4fTt2YXIgYnE9ZnVuY3Rpb24oYnosYnksYncsYnYpe2Zvcih2YXIgYng9MDtieDxiei5sZW5ndGg7YngrKyl7YnpbYnhdW2J5XS5hcHBseShieltieF0sYncpfXJldHVybiBidihieil9LFM9ZnVuY3Rpb24oYnosYnksYncpe3ZhciBidj1bXTtmb3IodmFyIGJ4PTA7Yng8YnoubGVuZ3RoO2J4Kyspe2J2LnB1c2goW2J6W2J4XVtieV0uYXBwbHkoYnpbYnhdLGJ3KSxieltieF1dKX1yZXR1cm4gYnZ9LGFuPWZ1bmN0aW9uKGJ4LGJ3LGJ2KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYnEoYngsYncsYXJndW1lbnRzLGJ2KX19LGF5PWZ1bmN0aW9uKGJ3LGJ2KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gUyhidyxidixhcmd1bWVudHMpfX07dGhpcy5nZXRDb25uZWN0aW9ucz1mdW5jdGlvbihiSCxidyl7aWYoIWJIKXtiSD17fX1lbHNle2lmKGJILmNvbnN0cnVjdG9yPT1TdHJpbmcpe2JIPXtzY29wZTpiSH19fXZhciBiRT1mdW5jdGlvbihiSSl7dmFyIGJKPVtdO2lmKGJJKXtpZih0eXBlb2YgYkk9PVwic3RyaW5nXCIpe2lmKGJJPT09XCIqXCIpe3JldHVybiBiSX1iSi5wdXNoKGJJKX1lbHNle2JKPWJJfX1yZXR1cm4gYkp9LGJGPWJILnNjb3BlfHxibi5nZXREZWZhdWx0U2NvcGUoKSxiRD1iRShiRiksYnY9YkUoYkguc291cmNlKSxiQj1iRShiSC50YXJnZXQpLGJ4PWZ1bmN0aW9uKGJKLGJJKXtpZihiSj09PVwiKlwiKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gYkoubGVuZ3RoPjA/SihiSixiSSkhPS0xOnRydWV9LGJBPSghYncmJmJELmxlbmd0aD4xKT97fTpbXSxiRz1mdW5jdGlvbihiSixiSyl7aWYoIWJ3JiZiRC5sZW5ndGg+MSl7dmFyIGJJPWJBW2JKXTtpZihiST09bnVsbCl7Ykk9W107YkFbYkpdPWJJfWJJLnB1c2goYkspfWVsc2V7YkEucHVzaChiSyl9fTtmb3IodmFyIGJ6IGluIGFZKXtpZihieChiRCxieikpe2Zvcih2YXIgYnk9MDtieTxhWVtiel0ubGVuZ3RoO2J5Kyspe3ZhciBiQz1hWVtiel1bYnldO2lmKGJ4KGJ2LGJDLnNvdXJjZUlkKSYmYngoYkIsYkMudGFyZ2V0SWQpKXtiRyhieixiQyl9fX19cmV0dXJuIGJBfTt2YXIgYUs9ZnVuY3Rpb24oYnYpe3JldHVybntzZXRIb3ZlcjphbihidixcInNldEhvdmVyXCIsYUspLHJlbW92ZUFsbE92ZXJsYXlzOmFuKGJ2LFwicmVtb3ZlQWxsT3ZlcmxheXNcIixhSyksc2V0TGFiZWw6YW4oYnYsXCJzZXRMYWJlbFwiLGFLKSxhZGRPdmVybGF5OmFuKGJ2LFwiYWRkT3ZlcmxheVwiLGFLKSxyZW1vdmVPdmVybGF5OmFuKGJ2LFwicmVtb3ZlT3ZlcmxheVwiLGFLKSxyZW1vdmVPdmVybGF5czphbihidixcInJlbW92ZU92ZXJsYXlzXCIsYUspLHNob3dPdmVybGF5OmFuKGJ2LFwic2hvd092ZXJsYXlcIixhSyksaGlkZU92ZXJsYXk6YW4oYnYsXCJoaWRlT3ZlcmxheVwiLGFLKSxzaG93T3ZlcmxheXM6YW4oYnYsXCJzaG93T3ZlcmxheXNcIixhSyksaGlkZU92ZXJsYXlzOmFuKGJ2LFwiaGlkZU92ZXJsYXlzXCIsYUspLHNldFBhaW50U3R5bGU6YW4oYnYsXCJzZXRQYWludFN0eWxlXCIsYUspLHNldEhvdmVyUGFpbnRTdHlsZTphbihidixcInNldEhvdmVyUGFpbnRTdHlsZVwiLGFLKSxzZXREZXRhY2hhYmxlOmFuKGJ2LFwic2V0RGV0YWNoYWJsZVwiLGFLKSxzZXRDb25uZWN0b3I6YW4oYnYsXCJzZXRDb25uZWN0b3JcIixhSyksc2V0UGFyYW1ldGVyOmFuKGJ2LFwic2V0UGFyYW1ldGVyXCIsYUspLHNldFBhcmFtZXRlcnM6YW4oYnYsXCJzZXRQYXJhbWV0ZXJzXCIsYUspLGRldGFjaDpmdW5jdGlvbigpe2Zvcih2YXIgYnc9MDtidzxidi5sZW5ndGg7YncrKyl7Ym4uZGV0YWNoKGJ2W2J3XSl9fSxnZXRMYWJlbDpheShidixcImdldExhYmVsXCIpLGdldE92ZXJsYXk6YXkoYnYsXCJnZXRPdmVybGF5XCIpLGlzSG92ZXI6YXkoYnYsXCJpc0hvdmVyXCIpLGlzRGV0YWNoYWJsZTpheShidixcImlzRGV0YWNoYWJsZVwiKSxnZXRQYXJhbWV0ZXI6YXkoYnYsXCJnZXRQYXJhbWV0ZXJcIiksZ2V0UGFyYW1ldGVyczpheShidixcImdldFBhcmFtZXRlcnNcIiksZ2V0UGFpbnRTdHlsZTpheShidixcImdldFBhaW50U3R5bGVcIiksZ2V0SG92ZXJQYWludFN0eWxlOmF5KGJ2LFwiZ2V0SG92ZXJQYWludFN0eWxlXCIpLGxlbmd0aDpidi5sZW5ndGgsZWFjaDpmdW5jdGlvbihieCl7Zm9yKHZhciBidz0wO2J3PGJ2Lmxlbmd0aDtidysrKXtieChidltid10pfXJldHVybiBhSyhidil9LGdldDpmdW5jdGlvbihidyl7cmV0dXJuIGJ2W2J3XX19fTt0aGlzLnNlbGVjdD1mdW5jdGlvbihidil7YnY9YnZ8fHt9O2J2LnNjb3BlPWJ2LnNjb3BlfHxcIipcIjt2YXIgYnc9Ym4uZ2V0Q29ubmVjdGlvbnMoYnYsdHJ1ZSk7cmV0dXJuIGFLKGJ3KX07dGhpcy5nZXRBbGxDb25uZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhWX07dGhpcy5nZXREZWZhdWx0U2NvcGU9ZnVuY3Rpb24oKXtyZXR1cm4gUX07dGhpcy5nZXRFbmRwb2ludD1hdjt0aGlzLmdldEVuZHBvaW50cz1mdW5jdGlvbihidil7cmV0dXJuIGFUW0soYnYpXX07dGhpcy5nZXRJZD1LO3RoaXMuZ2V0T2Zmc2V0PWZ1bmN0aW9uKGJ3KXt2YXIgYnY9YWhbYnddO3JldHVybiBXKHtlbElkOmJ3fSl9O3RoaXMuZ2V0U2VsZWN0b3I9ZnVuY3Rpb24oYnYpe3JldHVybiBwLkN1cnJlbnRMaWJyYXJ5LmdldFNlbGVjdG9yKGJ2KX07dGhpcy5nZXRTaXplPWZ1bmN0aW9uKGJ3KXt2YXIgYnY9YWVbYnddO2lmKCFidil7Vyh7ZWxJZDpid30pfXJldHVybiBhZVtid119O3RoaXMuYXBwZW5kRWxlbWVudD1hVzt2YXIgYVM9ZmFsc2U7dGhpcy5pc0hvdmVyU3VzcGVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGFTfTt0aGlzLnNldEhvdmVyU3VzcGVuZGVkPWZ1bmN0aW9uKGJ2KXthUz1idn07dGhpcy5pc0NhbnZhc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiBBfTt0aGlzLmlzU1ZHQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGV9O3RoaXMuaXNWTUxBdmFpbGFibGU9Yjt0aGlzLmhpZGU9ZnVuY3Rpb24oYnYsYncpe2EzKGJ2LFwibm9uZVwiLGJ3KX07dGhpcy5pZHN0YW1wPWFrO3RoaXMuaW5pdD1mdW5jdGlvbigpe2lmKCFNKXtibi5zZXRSZW5kZXJNb2RlKGJuLkRlZmF1bHRzLlJlbmRlck1vZGUpO3ZhciBidj1mdW5jdGlvbihidyl7cC5DdXJyZW50TGlicmFyeS5iaW5kKGRvY3VtZW50LGJ3LGZ1bmN0aW9uKGJDKXtpZighYm4uY3VycmVudGx5RHJhZ2dpbmcmJlg9PXAuQ0FOVkFTKXtmb3IodmFyIGJCIGluIGFZKXt2YXIgYkQ9YVlbYkJdO2Zvcih2YXIgYno9MDtiejxiRC5sZW5ndGg7YnorKyl7dmFyIGJ5PWJEW2J6XS5jb25uZWN0b3JbYnddKGJDKTtpZihieSl7cmV0dXJufX19Zm9yKHZhciBiQSBpbiBhVCl7dmFyIGJ4PWFUW2JBXTtmb3IodmFyIGJ6PTA7Yno8YngubGVuZ3RoO2J6Kyspe2lmKGJ4W2J6XS5lbmRwb2ludFtid10oYkMpKXtyZXR1cm59fX19fSl9O2J2KFwiY2xpY2tcIik7YnYoXCJkYmxjbGlja1wiKTtidihcIm1vdXNlbW92ZVwiKTtidihcIm1vdXNlZG93blwiKTtidihcIm1vdXNldXBcIik7YnYoXCJjb250ZXh0bWVudVwiKTtNPXRydWU7Ym4uZmlyZShcInJlYWR5XCIpfX07dGhpcy5sb2c9UDt0aGlzLmpzUGx1bWJVSUNvbXBvbmVudD1FO3RoaXMubWFrZUFuY2hvcj1mdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PTApe3JldHVybiBudWxsfXZhciBiQT1hcmd1bWVudHNbMF0sYng9YXJndW1lbnRzWzFdLGJ3PWFyZ3VtZW50c1syXSxieT1udWxsO2lmKGJBLmNvbXB1dGUmJmJBLmdldE9yaWVudGF0aW9uKXtyZXR1cm4gYkF9ZWxzZXtpZih0eXBlb2YgYkE9PVwic3RyaW5nXCIpe2J5PXAuQW5jaG9yc1thcmd1bWVudHNbMF1dKHtlbGVtZW50SWQ6YngsanNQbHVtYkluc3RhbmNlOmJufSl9ZWxzZXtpZihuKGJBKSl7aWYobihiQVswXSl8fEMoYkFbMF0pKXtpZihiQS5sZW5ndGg9PTImJkMoYkFbMF0pJiZ3KGJBWzFdKSl7dmFyIGJ2PXAuZXh0ZW5kKHtlbGVtZW50SWQ6YngsanNQbHVtYkluc3RhbmNlOmJufSxiQVsxXSk7Ynk9cC5BbmNob3JzW2JBWzBdXShidil9ZWxzZXtieT1uZXcgYXEoYkEsbnVsbCxieCl9fWVsc2V7dmFyIGJ6PXt4OmJBWzBdLHk6YkFbMV0sb3JpZW50YXRpb246KGJBLmxlbmd0aD49NCk/W2JBWzJdLGJBWzNdXTpbMCwwXSxvZmZzZXRzOihiQS5sZW5ndGg9PTYpP1tiQVs0XSxiQVs1XV06WzAsMF0sZWxlbWVudElkOmJ4fTtieT1uZXcgYWEoYnopO2J5LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhYShieil9fX19fWlmKCFieS5pZCl7YnkuaWQ9XCJhbmNob3JfXCIrYWsoKX1yZXR1cm4gYnl9O3RoaXMubWFrZUFuY2hvcnM9ZnVuY3Rpb24oYnksYncsYnYpe3ZhciBiej1bXTtmb3IodmFyIGJ4PTA7Yng8YnkubGVuZ3RoO2J4Kyspe2lmKHR5cGVvZiBieVtieF09PVwic3RyaW5nXCIpe2J6LnB1c2gocC5BbmNob3JzW2J5W2J4XV0oe2VsZW1lbnRJZDpidyxqc1BsdW1iSW5zdGFuY2U6YnZ9KSl9ZWxzZXtpZihuKGJ5W2J4XSkpe2J6LnB1c2goYm4ubWFrZUFuY2hvcihieVtieF0sYncsYnYpKX19fXJldHVybiBien07dGhpcy5tYWtlRHluYW1pY0FuY2hvcj1mdW5jdGlvbihidixidyl7cmV0dXJuIG5ldyBhcShidixidyl9O3ZhciBhWj17fSxhSD17fSxiaD17fSxhcD17fSxhYj1mdW5jdGlvbihidixidyl7YnYucGFpbnRTdHlsZT1idi5wYWludFN0eWxlfHxibi5EZWZhdWx0cy5FbmRwb2ludFN0eWxlc1tid118fGJuLkRlZmF1bHRzLkVuZHBvaW50U3R5bGV8fHAuRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXNbYnddfHxwLkRlZmF1bHRzLkVuZHBvaW50U3R5bGU7YnYuaG92ZXJQYWludFN0eWxlPWJ2LmhvdmVyUGFpbnRTdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlc1tid118fGJuLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZXx8cC5EZWZhdWx0cy5FbmRwb2ludEhvdmVyU3R5bGVzW2J3XXx8cC5EZWZhdWx0cy5FbmRwb2ludEhvdmVyU3R5bGU7YnYuYW5jaG9yPWJ2LmFuY2hvcnx8Ym4uRGVmYXVsdHMuQW5jaG9yc1tid118fGJuLkRlZmF1bHRzLkFuY2hvcnx8cC5EZWZhdWx0cy5BbmNob3JzW2J3XXx8cC5EZWZhdWx0cy5BbmNob3I7YnYuZW5kcG9pbnQ9YnYuZW5kcG9pbnR8fGJuLkRlZmF1bHRzLkVuZHBvaW50c1tid118fGJuLkRlZmF1bHRzLkVuZHBvaW50fHxwLkRlZmF1bHRzLkVuZHBvaW50c1tid118fHAuRGVmYXVsdHMuRW5kcG9pbnR9O3RoaXMubWFrZVRhcmdldD1mdW5jdGlvbihieSxieixiRil7dmFyIGJ3PXAuZXh0ZW5kKHtfanNQbHVtYjpibn0sYkYpO3AuZXh0ZW5kKGJ3LGJ6KTthYihidywxKTt2YXIgYkQ9cC5DdXJyZW50TGlicmFyeSxiRT1idy5zY29wZXx8Ym4uRGVmYXVsdHMuU2NvcGUsYkE9IShidy5kZWxldGVFbmRwb2ludHNPbkRldGFjaD09PWZhbHNlKSxieD1idy5tYXhDb25uZWN0aW9uc3x8LTEsYnY9ZnVuY3Rpb24oYkspe3ZhciBiST1LKGJLKTthWltiSV09Ync7YmhbYkldPWJ3LnVuaXF1ZUVuZHBvaW50LGFwW2JJXT1ieCxhaltiSV09dHJ1ZSxwcm94eUNvbXBvbmVudD1uZXcgRShidyk7dmFyIGJIPXAuZXh0ZW5kKHt9LGJ3LmRyb3BPcHRpb25zfHx7fSksYkc9ZnVuY3Rpb24oKXt2YXIgYk49cC5DdXJyZW50TGlicmFyeS5nZXREcm9wRXZlbnQoYXJndW1lbnRzKSxiUD1ibi5zZWxlY3Qoe3RhcmdldDpiSX0pLmxlbmd0aDtpZighYWpbYkldfHxhcFtiSV0+MCYmYlA+PWFwW2JJXSl7Y29uc29sZS5sb2coXCJ0YXJnZXQgZWxlbWVudCBcIitiSStcIiBpcyBmdWxsLlwiKTtyZXR1cm4gZmFsc2V9Ym4uY3VycmVudGx5RHJhZ2dpbmc9ZmFsc2U7dmFyIGJaPUYoYkQuZ2V0RHJhZ09iamVjdChhcmd1bWVudHMpKSxiTz1kKGJaLFwiZHJhZ0lkXCIpLGJYPWQoYlosXCJvcmlnaW5hbFNjb3BlXCIpLGJVPWJmW2JPXSxiTT1iVS5lbmRwb2ludHNbMF0sYkw9YncuZW5kcG9pbnQ/cC5leHRlbmQoe30sYncuZW5kcG9pbnQpOnt9O2JNLmFuY2hvci5sb2NrZWQ9ZmFsc2U7aWYoYlgpe2JELnNldERyYWdTY29wZShiWixiWCl9dmFyIGJTPXByb3h5Q29tcG9uZW50LmlzRHJvcEFsbG93ZWQoYlUuc291cmNlSWQsSyhiSyksYlUuc2NvcGUsYlUsbnVsbCk7aWYoYlUuZW5kcG9pbnRzVG9EZWxldGVPbkRldGFjaCl7aWYoYk09PT1iVS5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoWzBdKXtiVS5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoWzBdPW51bGx9ZWxzZXtpZihiTT09PWJVLmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2hbMV0pe2JVLmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2hbMV09bnVsbH19fWlmKGJVLnN1c3BlbmRlZEVuZHBvaW50KXtiVS50YXJnZXRJZD1iVS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50SWQ7YlUudGFyZ2V0PWJELmdldEVsZW1lbnRPYmplY3QoYlUuc3VzcGVuZGVkRW5kcG9pbnQuZWxlbWVudElkKTtiVS5lbmRwb2ludHNbMV09YlUuc3VzcGVuZGVkRW5kcG9pbnR9aWYoYlMpe2JNLmRldGFjaChiVSxmYWxzZSx0cnVlLGZhbHNlKTt2YXIgYlk9YUhbYkldfHxibi5hZGRFbmRwb2ludChiSyxidyk7aWYoYncudW5pcXVlRW5kcG9pbnQpe2FIW2JJXT1iWX1iWS5fbWFrZVRhcmdldENyZWF0b3I9dHJ1ZTtpZihiWS5hbmNob3IucG9zaXRpb25GaW5kZXIhPW51bGwpe3ZhciBiVj1iRC5nZXRVSVBvc2l0aW9uKGFyZ3VtZW50cyksYlI9YkQuZ2V0T2Zmc2V0KGJLKSxiVz1iRC5nZXRTaXplKGJLKSxiUT1iWS5hbmNob3IucG9zaXRpb25GaW5kZXIoYlYsYlIsYlcsYlkuYW5jaG9yLmNvbnN0cnVjdG9yUGFyYW1zKTtiWS5hbmNob3IueD1iUVswXTtiWS5hbmNob3IueT1iUVsxXX12YXIgYlQ9Ym4uY29ubmVjdCh7c291cmNlOmJNLHRhcmdldDpiWSxzY29wZTpiWCxwcmV2aW91c0Nvbm5lY3Rpb246YlUsY29udGFpbmVyOmJVLnBhcmVudCxkZWxldGVFbmRwb2ludHNPbkRldGFjaDpiQSxkb05vdEZpcmVDb25uZWN0aW9uRXZlbnQ6Yk0uZW5kcG9pbnRXaWxsTW92ZUFmdGVyQ29ubmVjdGlvbn0pO2lmKGJVLmVuZHBvaW50c1sxXS5fbWFrZVRhcmdldENyZWF0b3ImJmJVLmVuZHBvaW50c1sxXS5jb25uZWN0aW9ucy5sZW5ndGg8Mil7Ym4uZGVsZXRlRW5kcG9pbnQoYlUuZW5kcG9pbnRzWzFdKX1pZihiQSl7YlQuZW5kcG9pbnRzVG9EZWxldGVPbkRldGFjaD1bYk0sYlldfWJULnJlcGFpbnQoKX1lbHNle2lmKGJVLnN1c3BlbmRlZEVuZHBvaW50KXtpZihiTS5pc1JlYXR0YWNoKXtiVS5zZXRIb3ZlcihmYWxzZSk7YlUuZmxvYXRpbmdBbmNob3JJbmRleD1udWxsO2JVLnN1c3BlbmRlZEVuZHBvaW50LmFkZENvbm5lY3Rpb24oYlUpO2JuLnJlcGFpbnQoYk0uZWxlbWVudElkKX1lbHNle2JNLmRldGFjaChiVSxmYWxzZSx0cnVlLHRydWUsYk4pfX19fTt2YXIgYko9YkQuZHJhZ0V2ZW50cy5kcm9wO2JILnNjb3BlPWJILnNjb3BlfHxiRTtiSFtiSl09YW0oYkhbYkpdLGJHKTtiRC5pbml0RHJvcHBhYmxlKGJLLGJILHRydWUpfTtieT1hSShieSk7dmFyIGJDPWJ5Lmxlbmd0aCYmYnkuY29uc3RydWN0b3IhPVN0cmluZz9ieTpbYnldO2Zvcih2YXIgYkI9MDtiQjxiQy5sZW5ndGg7YkIrKyl7YnYoRihiQ1tiQl0pKX1yZXR1cm4gYm59O3RoaXMudW5tYWtlVGFyZ2V0PWZ1bmN0aW9uKGJ3LGJ4KXtidz1wLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYncpO3ZhciBidj1LKGJ3KTtpZighYngpe2RlbGV0ZSBhWltidl07ZGVsZXRlIGJoW2J2XTtkZWxldGUgYXBbYnZdO2RlbGV0ZSBhaltidl19cmV0dXJuIGJufTt0aGlzLm1ha2VUYXJnZXRzPWZ1bmN0aW9uKGJ4LGJ5LGJ2KXtmb3IodmFyIGJ3PTA7Ync8YngubGVuZ3RoO2J3Kyspe2JuLm1ha2VUYXJnZXQoYnhbYnddLGJ5LGJ2KX19O3ZhciBhej17fSxhNT17fSxhOT17fSxhYz17fSxOPXt9LGFqPXt9O3RoaXMubWFrZVNvdXJjZT1mdW5jdGlvbihieixiQyxidil7dmFyIGJBPXAuZXh0ZW5kKHt9LGJ2KTtwLmV4dGVuZChiQSxiQyk7YWIoYkEsMCk7dmFyIGJ5PXAuQ3VycmVudExpYnJhcnksYkI9ZnVuY3Rpb24oYkspe3ZhciBiRT1LKGJLKSxiTD1iQS5wYXJlbnQsYkQ9YkwhPW51bGw/Ym4uZ2V0SWQoYnkuZ2V0RWxlbWVudE9iamVjdChiTCkpOmJFO2F6W2JEXT1iQTthOVtiRF09YkEudW5pcXVlRW5kcG9pbnQ7YWNbYkRdPXRydWU7dmFyIGJGPWJ5LmRyYWdFdmVudHMuc3RvcCxiSj1ieS5kcmFnRXZlbnRzLmRyYWcsYk09cC5leHRlbmQoe30sYkEuZHJhZ09wdGlvbnN8fHt9KSxiSD1iTS5kcmFnLGJOPWJNLnN0b3AsYk89bnVsbCxiST1mYWxzZTtiTS5zY29wZT1iTS5zY29wZXx8YkEuc2NvcGU7Yk1bYkpdPWFtKGJNW2JKXSxmdW5jdGlvbigpe2lmKGJIKXtiSC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Ykk9ZmFsc2V9KTtiTVtiRl09YW0oYk1bYkZdLGZ1bmN0aW9uKCl7aWYoYk4pe2JOLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1ibi5jdXJyZW50bHlEcmFnZ2luZz1mYWxzZTtpZihiTy5jb25uZWN0aW9ucy5sZW5ndGg9PTApe2JuLmRlbGV0ZUVuZHBvaW50KGJPKX1lbHNle2J5LnVuYmluZChiTy5jYW52YXMsXCJtb3VzZWRvd25cIik7dmFyIGJRPWJBLmFuY2hvcnx8Ym4uRGVmYXVsdHMuQW5jaG9yLGJSPWJPLmFuY2hvcixiVD1iTy5jb25uZWN0aW9uc1swXTtiTy5hbmNob3I9Ym4ubWFrZUFuY2hvcihiUSxiRSxibik7aWYoYkEucGFyZW50KXt2YXIgYlM9YnkuZ2V0RWxlbWVudE9iamVjdChiQS5wYXJlbnQpO2lmKGJTKXt2YXIgYlA9Yk8uZWxlbWVudElkO3ZhciBiVT1iQS5jb250YWluZXJ8fGJuLkRlZmF1bHRzLkNvbnRhaW5lcnx8cC5EZWZhdWx0cy5Db250YWluZXI7Yk8uc2V0RWxlbWVudChiUyxiVSk7Yk8uZW5kcG9pbnRXaWxsTW92ZUFmdGVyQ29ubmVjdGlvbj1mYWxzZTtibi5hbmNob3JNYW5hZ2VyLnJlaG9tZUVuZHBvaW50KGJQLGJTKTtiVC5wcmV2aW91c0Nvbm5lY3Rpb249bnVsbDtEKGFZW2JULnNjb3BlXSxmdW5jdGlvbihiVil7cmV0dXJuIGJWLmlkPT09YlQuaWR9KTtibi5hbmNob3JNYW5hZ2VyLmNvbm5lY3Rpb25EZXRhY2hlZCh7c291cmNlSWQ6YlQuc291cmNlSWQsdGFyZ2V0SWQ6YlQudGFyZ2V0SWQsY29ubmVjdGlvbjpiVH0pO2J0KGJUKX19Yk8ucmVwYWludCgpO2JuLnJlcGFpbnQoYk8uZWxlbWVudElkKTtibi5yZXBhaW50KGJULnRhcmdldElkKX19KTt2YXIgYkc9ZnVuY3Rpb24oYlMpe2lmKCFhY1tiRF0pe3JldHVybn1pZihiQy5maWx0ZXIpe3ZhciBiUD1iQy5maWx0ZXIoYnkuZ2V0T3JpZ2luYWxFdmVudChiUyksYkspO2lmKGJQPT09ZmFsc2Upe3JldHVybn19dmFyIGJXPVcoe2VsSWQ6YkV9KTt2YXIgYlY9KChiUy5wYWdlWHx8YlMucGFnZS54KS1iVy5sZWZ0KS9iVy53aWR0aCxiVT0oKGJTLnBhZ2VZfHxiUy5wYWdlLnkpLWJXLnRvcCkvYlcuaGVpZ2h0LGIwPWJWLGJaPWJVO2lmKGJBLnBhcmVudCl7dmFyIGJUPWJ5LmdldEVsZW1lbnRPYmplY3QoYkEucGFyZW50KSxiUj1LKGJUKTtiVz1XKHtlbElkOmJSfSk7YjA9KChiUy5wYWdlWHx8YlMucGFnZS54KS1iVy5sZWZ0KS9iVy53aWR0aCxiWj0oKGJTLnBhZ2VZfHxiUy5wYWdlLnkpLWJXLnRvcCkvYlcuaGVpZ2h0fXZhciBiWT17fTtwLmV4dGVuZChiWSxiQSk7YlkuaXNTb3VyY2U9dHJ1ZTtiWS5hbmNob3I9W2JWLGJVLDAsMF07YlkucGFyZW50QW5jaG9yPVtiMCxiWiwwLDBdO2JZLmRyYWdPcHRpb25zPWJNO2lmKGJBLnBhcmVudCl7dmFyIGJRPWJZLmNvbnRhaW5lcnx8Ym4uRGVmYXVsdHMuQ29udGFpbmVyfHxwLkRlZmF1bHRzLkNvbnRhaW5lcjtpZihiUSl7YlkuY29udGFpbmVyPWJRfWVsc2V7YlkuY29udGFpbmVyPXAuQ3VycmVudExpYnJhcnkuZ2V0UGFyZW50KGJBLnBhcmVudCl9fWJPPWJuLmFkZEVuZHBvaW50KGJFLGJZKTtiST10cnVlO2JPLmVuZHBvaW50V2lsbE1vdmVBZnRlckNvbm5lY3Rpb249YkEucGFyZW50IT1udWxsO2JPLmVuZHBvaW50V2lsbE1vdmVUbz1iQS5wYXJlbnQ/YnkuZ2V0RWxlbWVudE9iamVjdChiQS5wYXJlbnQpOm51bGw7dmFyIGJYPWZ1bmN0aW9uKCl7aWYoYkkpe2JuLmRlbGV0ZUVuZHBvaW50KGJPKX19O2JuLnJlZ2lzdGVyTGlzdGVuZXIoYk8uY2FudmFzLFwibW91c2V1cFwiLGJYKTtibi5yZWdpc3Rlckxpc3RlbmVyKGJLLFwibW91c2V1cFwiLGJYKTtieS50cmlnZ2VyKGJPLmNhbnZhcyxcIm1vdXNlZG93blwiLGJTKX07Ym4ucmVnaXN0ZXJMaXN0ZW5lcihiSyxcIm1vdXNlZG93blwiLGJHKTtOW2JFXT1iR307Yno9YUkoYnopO3ZhciBidz1iei5sZW5ndGgmJmJ6LmNvbnN0cnVjdG9yIT1TdHJpbmc/Yno6W2J6XTtmb3IodmFyIGJ4PTA7Yng8YncubGVuZ3RoO2J4Kyspe2JCKEYoYndbYnhdKSl9cmV0dXJuIGJufTt0aGlzLnVubWFrZVNvdXJjZT1mdW5jdGlvbihidyxieCl7Ync9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ3KTt2YXIgYnk9SyhidyksYnY9TltieV07aWYoYnYpe2JuLnVucmVnaXN0ZXJMaXN0ZW5lcihfZWwsXCJtb3VzZWRvd25cIixidil9aWYoIWJ4KXtkZWxldGUgYXpbYnldO2RlbGV0ZSBhOVtieV07ZGVsZXRlIGFjW2J5XTtkZWxldGUgTltieV19cmV0dXJuIGJufTt0aGlzLnVubWFrZUV2ZXJ5U291cmNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBidiBpbiBhYyl7Ym4udW5tYWtlU291cmNlKGJ2LHRydWUpfWF6PXt9O2E5PXt9O2FjPXt9O049e319O3RoaXMudW5tYWtlRXZlcnlUYXJnZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGJ2IGluIGFqKXtibi51bm1ha2VUYXJnZXQoYnYsdHJ1ZSl9YVo9e307Ymg9e307YXA9e307YWo9e307cmV0dXJuIGJufTt0aGlzLm1ha2VTb3VyY2VzPWZ1bmN0aW9uKGJ4LGJ5LGJ2KXtmb3IodmFyIGJ3PTA7Ync8YngubGVuZ3RoO2J3Kyspe2JuLm1ha2VTb3VyY2UoYnhbYnddLGJ5LGJ2KX1yZXR1cm4gYm59O3ZhciBhTT1mdW5jdGlvbihieixieSxiQSxidil7dmFyIGJ3PWJ6PT1cInNvdXJjZVwiP2FjOmFqO2lmKEMoYnkpKXtid1tieV09YnY/IWJ3W2J5XTpiQX1lbHNle2lmKGJ5Lmxlbmd0aCl7Ynk9YUkoYnkpO2Zvcih2YXIgYng9MDtieDxieS5sZW5ndGg7YngrKyl7dmFyIGJCPV9lbD1wLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYnlbYnhdKSxiQj1LKF9lbCk7YndbYkJdPWJ2PyFid1tiQl06YkF9fX1yZXR1cm4gYm59O3RoaXMuc2V0U291cmNlRW5hYmxlZD1mdW5jdGlvbihidixidyl7cmV0dXJuIGFNKFwic291cmNlXCIsYnYsYncpfTt0aGlzLnRvZ2dsZVNvdXJjZUVuYWJsZWQ9ZnVuY3Rpb24oYnYpe2FNKFwic291cmNlXCIsYnYsbnVsbCx0cnVlKTtyZXR1cm4gYm4uaXNTb3VyY2VFbmFibGVkKGJ2KX07dGhpcy5pc1NvdXJjZT1mdW5jdGlvbihidil7YnY9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ2KTtyZXR1cm4gYWNbSyhidildIT1udWxsfTt0aGlzLmlzU291cmNlRW5hYmxlZD1mdW5jdGlvbihidil7YnY9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ2KTtyZXR1cm4gYWNbSyhidildPT09dHJ1ZX07dGhpcy5zZXRUYXJnZXRFbmFibGVkPWZ1bmN0aW9uKGJ2LGJ3KXtyZXR1cm4gYU0oXCJ0YXJnZXRcIixidixidyl9O3RoaXMudG9nZ2xlVGFyZ2V0RW5hYmxlZD1mdW5jdGlvbihidil7cmV0dXJuIGFNKFwidGFyZ2V0XCIsYnYsbnVsbCx0cnVlKTtyZXR1cm4gYm4uaXNUYXJnZXRFbmFibGVkKGJ2KX07dGhpcy5pc1RhcmdldD1mdW5jdGlvbihidil7YnY9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ2KTtyZXR1cm4gYWpbSyhidildIT1udWxsfTt0aGlzLmlzVGFyZ2V0RW5hYmxlZD1mdW5jdGlvbihidil7YnY9cC5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGJ2KTtyZXR1cm4gYWpbSyhidildPT09dHJ1ZX07dGhpcy5yZWFkeT1mdW5jdGlvbihidil7Ym4uYmluZChcInJlYWR5XCIsYnYpfSx0aGlzLnJlcGFpbnQ9ZnVuY3Rpb24oYncpe3ZhciBieD1mdW5jdGlvbihieSl7YmEoRihieSkpfTtpZih0eXBlb2YgYnc9PVwib2JqZWN0XCIpe2Zvcih2YXIgYnY9MDtidjxidy5sZW5ndGg7YnYrKyl7YngoYndbYnZdKX19ZWxzZXtieChidyl9fTt0aGlzLnJlcGFpbnRFdmVyeXRoaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciBidiBpbiBhVCl7YmEoRihidiksbnVsbCxudWxsKX19O3RoaXMucmVtb3ZlQWxsRW5kcG9pbnRzPWZ1bmN0aW9uKGJ4KXt2YXIgYnY9ZChieCxcImlkXCIpLGJ5PWFUW2J2XTtpZihieSl7Zm9yKHZhciBidz0wO2J3PGJ5Lmxlbmd0aDtidysrKXtibi5kZWxldGVFbmRwb2ludChieVtid10pfX1hVFtidl09W119O3RoaXMucmVtb3ZlRXZlcnlFbmRwb2ludD10aGlzLmRlbGV0ZUV2ZXJ5RW5kcG9pbnQ7dGhpcy5yZW1vdmVFbmRwb2ludD1mdW5jdGlvbihidixidyl7Ym4uZGVsZXRlRW5kcG9pbnQoYncpfTt2YXIgYWc9e30sYmQ9ZnVuY3Rpb24oKXtmb3IodmFyIGJ3IGluIGFnKXtmb3IodmFyIGJ2PTA7YnY8YWdbYnddLmxlbmd0aDtidisrKXt2YXIgYng9YWdbYnddW2J2XTtwLkN1cnJlbnRMaWJyYXJ5LnVuYmluZChieC5lbCxieC5ldmVudCxieC5saXN0ZW5lcil9fWFnPXt9fTt0aGlzLnJlZ2lzdGVyTGlzdGVuZXI9ZnVuY3Rpb24oYncsYnYsYngpe3AuQ3VycmVudExpYnJhcnkuYmluZChidyxidixieCk7VihhZyxidix7ZWw6YncsZXZlbnQ6YnYsbGlzdGVuZXI6Ynh9KX07dGhpcy51bnJlZ2lzdGVyTGlzdGVuZXI9ZnVuY3Rpb24oYncsYnYsYngpe3AuQ3VycmVudExpYnJhcnkudW5iaW5kKGJ3LGJ2LGJ4KTtEKGFnLGZ1bmN0aW9uKGJ5KXtyZXR1cm4gYnkudHlwZT09YnYmJmJ5Lmxpc3RlbmVyPT1ieH0pfTt0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7Ym4uZGVsZXRlRXZlcnlFbmRwb2ludCgpO2JuLnVuYmluZCgpO2FaPXt9O2FIPXt9O2JoPXt9O2FwPXt9O2F6PXt9O2E1PXt9O2E5PXt9O2JkKCk7Ym4uYW5jaG9yTWFuYWdlci5yZXNldCgpO2JuLmRyYWdNYW5hZ2VyLnJlc2V0KCl9O3RoaXMuc2V0RGVmYXVsdFNjb3BlPWZ1bmN0aW9uKGJ2KXtRPWJ2fTt0aGlzLnNldERyYWdnYWJsZT1iazt0aGlzLnNldElkPWZ1bmN0aW9uKGJ6LGJ2LGJCKXt2YXIgYkM9YnouY29uc3RydWN0b3I9PVN0cmluZz9iejpibi5nZXRJZChieiksYnk9Ym4uZ2V0Q29ubmVjdGlvbnMoe3NvdXJjZTpiQyxzY29wZTpcIipcIn0sdHJ1ZSksYng9Ym4uZ2V0Q29ubmVjdGlvbnMoe3RhcmdldDpiQyxzY29wZTpcIipcIn0sdHJ1ZSk7YnY9XCJcIitidjtpZighYkIpe2J6PXAuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiQyk7cC5DdXJyZW50TGlicmFyeS5zZXRBdHRyaWJ1dGUoYnosXCJpZFwiLGJ2KX1iej1wLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYnYpO2FUW2J2XT1hVFtiQ118fFtdO2Zvcih2YXIgYnc9MDtidzxhVFtidl0ubGVuZ3RoO2J3Kyspe2FUW2J2XVtid10uZWxlbWVudElkPWJ2O2FUW2J2XVtid10uZWxlbWVudD1iejthVFtidl1bYnddLmFuY2hvci5lbGVtZW50SWQ9YnZ9ZGVsZXRlIGFUW2JDXTtibi5hbmNob3JNYW5hZ2VyLmNoYW5nZUlkKGJDLGJ2KTt2YXIgYkE9ZnVuY3Rpb24oYkcsYkQsYkYpe2Zvcih2YXIgYkU9MDtiRTxiRy5sZW5ndGg7YkUrKyl7YkdbYkVdLmVuZHBvaW50c1tiRF0uZWxlbWVudElkPWJ2O2JHW2JFXS5lbmRwb2ludHNbYkRdLmVsZW1lbnQ9Yno7YkdbYkVdW2JGK1wiSWRcIl09YnY7YkdbYkVdW2JGXT1ien19O2JBKGJ5LDAsXCJzb3VyY2VcIik7YkEoYngsMSxcInRhcmdldFwiKX07dGhpcy5zZXRJZENoYW5nZWQ9ZnVuY3Rpb24oYncsYnYpe2JuLnNldElkKGJ3LGJ2LHRydWUpfTt0aGlzLnNldERlYnVnTG9nPWZ1bmN0aW9uKGJ2KXtQPWJ2fTt0aGlzLnNldFJlcGFpbnRGdW5jdGlvbj1mdW5jdGlvbihidil7YXI9YnZ9O3RoaXMuc2V0U3VzcGVuZERyYXdpbmc9Ymc7dGhpcy5DQU5WQVM9XCJjYW52YXNcIjt0aGlzLlNWRz1cInN2Z1wiO3RoaXMuVk1MPVwidm1sXCI7dGhpcy5zZXRSZW5kZXJNb2RlPWZ1bmN0aW9uKGJ2KXtpZihidil7YnY9YnYudG9Mb3dlckNhc2UoKX1lbHNle3JldHVybn1pZihidiE9PXAuQ0FOVkFTJiZidiE9PXAuU1ZHJiZidiE9PXAuVk1MKXt0aHJvdyBuZXcgRXJyb3IoXCJyZW5kZXIgbW9kZSBtdXN0IGJlIG9uZSBvZiBqc1BsdW1iLkNBTlZBUywganNQbHVtYi5TVkcgb3IganNQbHVtYi5WTUxcIil9aWYoYnY9PT1wLlNWRyl7aWYoZSl7WD1wLlNWR31lbHNle2lmKEEpe1g9cC5DQU5WQVN9ZWxzZXtpZihiKCkpe1g9cC5WTUx9fX19ZWxzZXtpZihidj09PXAuQ0FOVkFTJiZBKXtYPXAuQ0FOVkFTfWVsc2V7aWYoYigpKXtYPXAuVk1MfX19cmV0dXJuIFh9O3RoaXMuZ2V0UmVuZGVyTW9kZT1mdW5jdGlvbigpe3JldHVybiBYfTt0aGlzLnNob3c9ZnVuY3Rpb24oYnYsYncpe2EzKGJ2LFwiYmxvY2tcIixidyl9O3RoaXMuc2l6ZUNhbnZhcz1mdW5jdGlvbihieCxidixieixidyxieSl7aWYoYngpe2J4LnN0eWxlLmhlaWdodD1ieStcInB4XCI7YnguaGVpZ2h0PWJ5O2J4LnN0eWxlLndpZHRoPWJ3K1wicHhcIjtieC53aWR0aD1idztieC5zdHlsZS5sZWZ0PWJ2K1wicHhcIjtieC5zdHlsZS50b3A9YnorXCJweFwifX07dGhpcy5nZXRUZXN0SGFybmVzcz1mdW5jdGlvbigpe3JldHVybntlbmRwb2ludHNCeUVsZW1lbnQ6YVQsZW5kcG9pbnRDb3VudDpmdW5jdGlvbihidil7dmFyIGJ3PWFUW2J2XTtyZXR1cm4gYnc/YncubGVuZ3RoOjB9LGNvbm5lY3Rpb25Db3VudDpmdW5jdGlvbihidil7YnY9YnZ8fFE7dmFyIGJ3PWFZW2J2XTtyZXR1cm4gYnc/YncubGVuZ3RoOjB9LGdldElkOkssbWFrZUFuY2hvcjpzZWxmLm1ha2VBbmNob3IsbWFrZUR5bmFtaWNBbmNob3I6c2VsZi5tYWtlRHluYW1pY0FuY2hvcn19O3RoaXMudG9nZ2xlPWFRO3RoaXMudG9nZ2xlVmlzaWJsZT1hUTt0aGlzLnRvZ2dsZURyYWdnYWJsZT1iaTt0aGlzLnVubG9hZD1mdW5jdGlvbigpe307dGhpcy53cmFwPWFtO3RoaXMuYWRkTGlzdGVuZXI9dGhpcy5iaW5kO3ZhciBibz1mdW5jdGlvbihiQSxieCl7dmFyIGJ5PW51bGwsYnY9YkE7aWYoYngudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09XCJzdmdcIiYmYngucGFyZW50Tm9kZSl7Ynk9YngucGFyZW50Tm9kZX1lbHNle2lmKGJ4Lm9mZnNldFBhcmVudCl7Ynk9Yngub2Zmc2V0UGFyZW50fX1pZihieSE9bnVsbCl7dmFyIGJ3PWJ5LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PVwiYm9keVwiP3tsZWZ0OjAsdG9wOjB9OnQoYnkpLGJ6PWJ5LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PVwiYm9keVwiP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OmJ5LnNjcm9sbExlZnQsdG9wOmJ5LnNjcm9sbFRvcH07YnZbMF09YkFbMF0tYncubGVmdCtiei5sZWZ0O2J2WzFdPWJBWzFdLWJ3LnRvcCtiei50b3B9cmV0dXJuIGJ2fTt2YXIgYWE9ZnVuY3Rpb24oYnope3ZhciBieD10aGlzO3RoaXMueD1iei54fHwwO3RoaXMueT1iei55fHwwO3RoaXMuZWxlbWVudElkPWJ6LmVsZW1lbnRJZDt2YXIgYnc9Ynoub3JpZW50YXRpb258fFswLDBdO3ZhciBieT1udWxsLGJ2PW51bGw7dGhpcy5vZmZzZXRzPWJ6Lm9mZnNldHN8fFswLDBdO2J4LnRpbWVzdGFtcD1udWxsO3RoaXMuY29tcHV0ZT1mdW5jdGlvbihiRSl7dmFyIGJEPWJFLnh5LGJBPWJFLndoLGJCPWJFLmVsZW1lbnQsYkM9YkUudGltZXN0YW1wO2lmKGJDJiZiQz09PWJ4LnRpbWVzdGFtcCl7cmV0dXJuIGJ2fWJ2PVtiRFswXSsoYngueCpiQVswXSkrYngub2Zmc2V0c1swXSxiRFsxXSsoYngueSpiQVsxXSkrYngub2Zmc2V0c1sxXV07YnY9Ym8oYnYsYkIuY2FudmFzKTtieC50aW1lc3RhbXA9YkM7cmV0dXJuIGJ2fTt0aGlzLmdldE9yaWVudGF0aW9uPWZ1bmN0aW9uKGJBKXtyZXR1cm4gYnd9O3RoaXMuZXF1YWxzPWZ1bmN0aW9uKGJBKXtpZighYkEpe3JldHVybiBmYWxzZX12YXIgYkI9YkEuZ2V0T3JpZW50YXRpb24oKTt2YXIgYkM9dGhpcy5nZXRPcmllbnRhdGlvbigpO3JldHVybiB0aGlzLng9PWJBLngmJnRoaXMueT09YkEueSYmdGhpcy5vZmZzZXRzWzBdPT1iQS5vZmZzZXRzWzBdJiZ0aGlzLm9mZnNldHNbMV09PWJBLm9mZnNldHNbMV0mJmJDWzBdPT1iQlswXSYmYkNbMV09PWJCWzFdfTt0aGlzLmdldEN1cnJlbnRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiBidn19O3ZhciBhMT1mdW5jdGlvbihiQil7dmFyIGJ6PWJCLnJlZmVyZW5jZSxiQT1iQi5yZWZlcmVuY2VDYW52YXMsYng9YShGKGJBKSksYnc9MCxiQz0wLGJ2PW51bGwsYnk9bnVsbDt0aGlzLng9MDt0aGlzLnk9MDt0aGlzLmlzRmxvYXRpbmc9dHJ1ZTt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oYkcpe3ZhciBiRj1iRy54eSxiRT1iRy5lbGVtZW50LGJEPVtiRlswXSsoYnhbMF0vMiksYkZbMV0rKGJ4WzFdLzIpXTtiRD1ibyhiRCxiRS5jYW52YXMpO2J5PWJEO3JldHVybiBiRH07dGhpcy5nZXRPcmllbnRhdGlvbj1mdW5jdGlvbihiRSl7aWYoYnYpe3JldHVybiBidn1lbHNle3ZhciBiRD1iei5nZXRPcmllbnRhdGlvbihiRSk7cmV0dXJuW01hdGguYWJzKGJEWzBdKSpidyotMSxNYXRoLmFicyhiRFsxXSkqYkMqLTFdfX07dGhpcy5vdmVyPWZ1bmN0aW9uKGJEKXtidj1iRC5nZXRPcmllbnRhdGlvbigpfTt0aGlzLm91dD1mdW5jdGlvbigpe2J2PW51bGx9O3RoaXMuZ2V0Q3VycmVudExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGJ5fX07dmFyIGFxPWZ1bmN0aW9uKGJ4LGJ3LGJDKXt0aGlzLmlzU2VsZWN0aXZlPXRydWU7dGhpcy5pc0R5bmFtaWM9dHJ1ZTt2YXIgYkY9W10sYkU9dGhpcyxiRD1mdW5jdGlvbihiRyl7cmV0dXJuIGJHLmNvbnN0cnVjdG9yPT1hYT9iRzpibi5tYWtlQW5jaG9yKGJHLGJDLGJuKX07Zm9yKHZhciBiQj0wO2JCPGJ4Lmxlbmd0aDtiQisrKXtiRltiQl09YkQoYnhbYkJdKX10aGlzLmFkZEFuY2hvcj1mdW5jdGlvbihiRyl7YkYucHVzaChiRChiRykpfTt0aGlzLmdldEFuY2hvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gYkZ9O3RoaXMubG9ja2VkPWZhbHNlO3ZhciBieT1iRi5sZW5ndGg+MD9iRlswXTpudWxsLGJBPWJGLmxlbmd0aD4wPzA6LTEsYkU9dGhpcyxiej1mdW5jdGlvbihiSSxiRyxiTSxiTCxiSCl7dmFyIGJLPWJMWzBdKyhiSS54KmJIWzBdKSxiSj1iTFsxXSsoYkkueSpiSFsxXSk7cmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhiRy1iSywyKStNYXRoLnBvdyhiTS1iSiwyKSl9LGJ2PWJ3fHxmdW5jdGlvbihiUSxiSCxiSSxiSixiRyl7dmFyIGJMPWJJWzBdKyhiSlswXS8yKSxiSz1iSVsxXSsoYkpbMV0vMik7dmFyIGJOPS0xLGJQPUluZmluaXR5O2Zvcih2YXIgYk09MDtiTTxiRy5sZW5ndGg7Yk0rKyl7dmFyIGJPPWJ6KGJHW2JNXSxiTCxiSyxiUSxiSCk7aWYoYk88YlApe2JOPWJNKzA7YlA9Yk99fXJldHVybiBiR1tiTl19O3RoaXMuY29tcHV0ZT1mdW5jdGlvbihiSyl7dmFyIGJKPWJLLnh5LGJHPWJLLndoLGJJPWJLLnRpbWVzdGFtcCxiSD1iSy50eHksYkw9YksudHdoO2lmKGJFLmxvY2tlZHx8Ykg9PW51bGx8fGJMPT1udWxsKXtyZXR1cm4gYnkuY29tcHV0ZShiSyl9ZWxzZXtiSy50aW1lc3RhbXA9bnVsbH1ieT1idihiSixiRyxiSCxiTCxiRik7YkUueD1ieS54O2JFLnk9YnkueTtyZXR1cm4gYnkuY29tcHV0ZShiSyl9O3RoaXMuZ2V0Q3VycmVudExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGJ5IT1udWxsP2J5LmdldEN1cnJlbnRMb2NhdGlvbigpOm51bGx9O3RoaXMuZ2V0T3JpZW50YXRpb249ZnVuY3Rpb24oYkcpe3JldHVybiBieSE9bnVsbD9ieS5nZXRPcmllbnRhdGlvbihiRyk6WzAsMF19O3RoaXMub3Zlcj1mdW5jdGlvbihiRyl7aWYoYnkhPW51bGwpe2J5Lm92ZXIoYkcpfX07dGhpcy5vdXQ9ZnVuY3Rpb24oKXtpZihieSE9bnVsbCl7Ynkub3V0KCl9fX07dmFyIGJqPXt9LGFpPXt9LGFKPXt9LFQ9e0hPUklaT05UQUw6XCJob3Jpem9udGFsXCIsVkVSVElDQUw6XCJ2ZXJ0aWNhbFwiLERJQUdPTkFMOlwiZGlhZ29uYWxcIixJREVOVElUWTpcImlkZW50aXR5XCJ9LGJsPWZ1bmN0aW9uKGJFLGJGLGJCLGJ5KXtpZihiRT09PWJGKXtyZXR1cm57b3JpZW50YXRpb246VC5JREVOVElUWSxhOltcInRvcFwiLFwidG9wXCJdfX12YXIgYnc9TWF0aC5hdGFuMigoYnkuY2VudGVyeS1iQi5jZW50ZXJ5KSwoYnkuY2VudGVyeC1iQi5jZW50ZXJ4KSksYno9TWF0aC5hdGFuMigoYkIuY2VudGVyeS1ieS5jZW50ZXJ5KSwoYkIuY2VudGVyeC1ieS5jZW50ZXJ4KSksYkE9KChiQi5sZWZ0PD1ieS5sZWZ0JiZiQi5yaWdodD49YnkubGVmdCl8fChiQi5sZWZ0PD1ieS5yaWdodCYmYkIucmlnaHQ+PWJ5LnJpZ2h0KXx8KGJCLmxlZnQ8PWJ5LmxlZnQmJmJCLnJpZ2h0Pj1ieS5yaWdodCl8fChieS5sZWZ0PD1iQi5sZWZ0JiZieS5yaWdodD49YkIucmlnaHQpKSxiRz0oKGJCLnRvcDw9YnkudG9wJiZiQi5ib3R0b20+PWJ5LnRvcCl8fChiQi50b3A8PWJ5LmJvdHRvbSYmYkIuYm90dG9tPj1ieS5ib3R0b20pfHwoYkIudG9wPD1ieS50b3AmJmJCLmJvdHRvbT49YnkuYm90dG9tKXx8KGJ5LnRvcDw9YkIudG9wJiZieS5ib3R0b20+PWJCLmJvdHRvbSkpO2lmKCEoYkF8fGJHKSl7dmFyIGJEPW51bGwsYng9ZmFsc2UsYnY9ZmFsc2UsYkM9bnVsbDtpZihieS5sZWZ0PmJCLmxlZnQmJmJ5LnRvcD5iQi50b3Ape2JEPVtcInJpZ2h0XCIsXCJ0b3BcIl19ZWxzZXtpZihieS5sZWZ0PmJCLmxlZnQmJmJCLnRvcD5ieS50b3Ape2JEPVtcInRvcFwiLFwibGVmdFwiXX1lbHNle2lmKGJ5LmxlZnQ8YkIubGVmdCYmYnkudG9wPGJCLnRvcCl7YkQ9W1widG9wXCIsXCJyaWdodFwiXX1lbHNle2lmKGJ5LmxlZnQ8YkIubGVmdCYmYnkudG9wPmJCLnRvcCl7YkQ9W1wibGVmdFwiLFwidG9wXCJdfX19fXJldHVybntvcmllbnRhdGlvbjpULkRJQUdPTkFMLGE6YkQsdGhldGE6YncsdGhldGEyOmJ6fX1lbHNle2lmKGJBKXtyZXR1cm57b3JpZW50YXRpb246VC5IT1JJWk9OVEFMLGE6YkIudG9wPGJ5LnRvcD9bXCJib3R0b21cIixcInRvcFwiXTpbXCJ0b3BcIixcImJvdHRvbVwiXSx0aGV0YTpidyx0aGV0YTI6Ynp9fWVsc2V7cmV0dXJue29yaWVudGF0aW9uOlQuVkVSVElDQUwsYTpiQi5sZWZ0PGJ5LmxlZnQ/W1wicmlnaHRcIixcImxlZnRcIl06W1wibGVmdFwiLFwicmlnaHRcIl0sdGhldGE6YncsdGhldGEyOmJ6fX19fSxhMj1mdW5jdGlvbihiSixiRixiRCxiRSxiSyxiRyxieCl7dmFyIGJMPVtdLGJ3PWJGW2JLPzA6MV0vKGJFLmxlbmd0aCsxKTtmb3IodmFyIGJIPTA7Ykg8YkUubGVuZ3RoO2JIKyspe3ZhciBiTT0oYkgrMSkqYncsYnY9YkcqYkZbYks/MTowXTtpZihieCl7Yk09YkZbYks/MDoxXS1iTX12YXIgYkM9KGJLP2JNOmJ2KSxiej1iRFswXStiQyxiQj1iQy9iRlswXSxiQT0oYks/YnY6Yk0pLGJ5PWJEWzFdK2JBLGJJPWJBL2JGWzFdO2JMLnB1c2goW2J6LGJ5LGJCLGJJLGJFW2JIXVsxXSxiRVtiSF1bMl1dKX1yZXR1cm4gYkx9LGE4PWZ1bmN0aW9uKGJ3LGJ2KXtyZXR1cm4gYndbMF0+YnZbMF0/MTotMX0sWj1mdW5jdGlvbihidil7cmV0dXJuIGZ1bmN0aW9uKGJ4LGJ3KXt2YXIgYnk9dHJ1ZTtpZihidil7aWYoYnhbMF1bMF08YndbMF1bMF0pe2J5PXRydWV9ZWxzZXtieT1ieFswXVsxXT5id1swXVsxXX19ZWxzZXtpZihieFswXVswXT5id1swXVswXSl7Ynk9dHJ1ZX1lbHNle2J5PWJ4WzBdWzFdPmJ3WzBdWzFdfX1yZXR1cm4gYnk9PT1mYWxzZT8tMToxfX0sTz1mdW5jdGlvbihidyxidil7dmFyIGJ5PWJ3WzBdWzBdPDA/LU1hdGguUEktYndbMF1bMF06TWF0aC5QSS1id1swXVswXSxieD1idlswXVswXTwwPy1NYXRoLlBJLWJ2WzBdWzBdOk1hdGguUEktYnZbMF1bMF07aWYoYnk+Yngpe3JldHVybiAxfWVsc2V7cmV0dXJuIGJ3WzBdWzFdPmJ2WzBdWzFdPzE6LTF9fSxhMD17dG9wOmE4LHJpZ2h0OloodHJ1ZSksYm90dG9tOloodHJ1ZSksbGVmdDpPfSxhbz1mdW5jdGlvbihidixidyl7cmV0dXJuIGJ2LnNvcnQoYncpfSxhbD1mdW5jdGlvbihidyxidil7dmFyIGJ5PWFlW2J3XSxiej1haFtid10sYng9ZnVuY3Rpb24oYkcsYk4sYkMsYkYsYkwsYkssYkIpe2lmKGJGLmxlbmd0aD4wKXt2YXIgYko9YW8oYkYsYTBbYkddKSxiSD1iRz09PVwicmlnaHRcInx8Ykc9PT1cInRvcFwiLGJBPWEyKGJHLGJOLGJDLGJKLGJMLGJLLGJIKTt2YXIgYk89ZnVuY3Rpb24oYlIsYlEpe3ZhciBiUD1ibyhbYlFbMF0sYlFbMV1dLGJSLmNhbnZhcyk7YWlbYlIuaWRdPVtiUFswXSxiUFsxXSxiUVsyXSxiUVszXV07YUpbYlIuaWRdPWJCfTtmb3IodmFyIGJEPTA7YkQ8YkEubGVuZ3RoO2JEKyspe3ZhciBiST1iQVtiRF1bNF0sYk09YkkuZW5kcG9pbnRzWzBdLmVsZW1lbnRJZD09PWJ3LGJFPWJJLmVuZHBvaW50c1sxXS5lbGVtZW50SWQ9PT1idztpZihiTSl7Yk8oYkkuZW5kcG9pbnRzWzBdLGJBW2JEXSl9ZWxzZXtpZihiRSl7Yk8oYkkuZW5kcG9pbnRzWzFdLGJBW2JEXSl9fX19fTtieChcImJvdHRvbVwiLGJ5LFtiei5sZWZ0LGJ6LnRvcF0sYnYuYm90dG9tLHRydWUsMSxbMCwxXSk7YngoXCJ0b3BcIixieSxbYnoubGVmdCxiei50b3BdLGJ2LnRvcCx0cnVlLDAsWzAsLTFdKTtieChcImxlZnRcIixieSxbYnoubGVmdCxiei50b3BdLGJ2LmxlZnQsZmFsc2UsMCxbLTEsMF0pO2J4KFwicmlnaHRcIixieSxbYnoubGVmdCxiei50b3BdLGJ2LnJpZ2h0LGZhbHNlLDEsWzEsMF0pfSxhRT1mdW5jdGlvbigpe3ZhciBidj17fSxiej17fSxidz10aGlzLGJ5PXt9O3RoaXMucmVzZXQ9ZnVuY3Rpb24oKXtidj17fTtiej17fTtieT17fX07dGhpcy5uZXdDb25uZWN0aW9uPWZ1bmN0aW9uKGJEKXt2YXIgYkY9YkQuc291cmNlSWQsYkM9YkQudGFyZ2V0SWQsYkE9YkQuZW5kcG9pbnRzLGJFPXRydWUsYkI9ZnVuY3Rpb24oYkcsYkgsYkosYkksYkspe2lmKChiRj09YkMpJiZiSi5pc0NvbnRpbnVvdXMpe3AuQ3VycmVudExpYnJhcnkucmVtb3ZlRWxlbWVudChiQVsxXS5jYW52YXMpO2JFPWZhbHNlfVYoYnosYkksW2JLLGJILGJKLmNvbnN0cnVjdG9yPT1hcV0pfTtiQigwLGJBWzBdLGJBWzBdLmFuY2hvcixiQyxiRCk7aWYoYkUpe2JCKDEsYkFbMV0sYkFbMV0uYW5jaG9yLGJGLGJEKX19O3RoaXMuY29ubmVjdGlvbkRldGFjaGVkPWZ1bmN0aW9uKGJBKXt2YXIgYkI9YkEuY29ubmVjdGlvbnx8YkE7dmFyIGJHPWJCLnNvdXJjZUlkLGJIPWJCLnRhcmdldElkLGJLPWJCLmVuZHBvaW50cyxiRj1mdW5jdGlvbihiTCxiTSxiTyxiTixiUCl7aWYoYk8uY29uc3RydWN0b3I9PWExKXt9ZWxzZXtEKGJ6W2JOXSxmdW5jdGlvbihiUSl7cmV0dXJuIGJRWzBdLmlkPT1iUC5pZH0pfX07YkYoMSxiS1sxXSxiS1sxXS5hbmNob3IsYkcsYkIpO2JGKDAsYktbMF0sYktbMF0uYW5jaG9yLGJILGJCKTt2YXIgYkM9YkIuc291cmNlSWQsYkQ9YkIudGFyZ2V0SWQsYko9YkIuZW5kcG9pbnRzWzBdLmlkLGJFPWJCLmVuZHBvaW50c1sxXS5pZCxiST1mdW5jdGlvbihiTixiTCl7aWYoYk4pe3ZhciBiTT1mdW5jdGlvbihiTyl7cmV0dXJuIGJPWzRdPT1iTH07RChiTi50b3AsYk0pO0QoYk4ubGVmdCxiTSk7RChiTi5ib3R0b20sYk0pO0QoYk4ucmlnaHQsYk0pfX07YkkoYnlbYkNdLGJKKTtiSShieVtiRF0sYkUpO2J3LnJlZHJhdyhiQyk7YncucmVkcmF3KGJEKX07dGhpcy5hZGQ9ZnVuY3Rpb24oYkIsYkEpe1YoYnYsYkEsYkIpfTt0aGlzLmNoYW5nZUlkPWZ1bmN0aW9uKGJCLGJBKXtieltiQV09YnpbYkJdO2J2W2JBXT1idltiQl07ZGVsZXRlIGJ6W2JCXTtkZWxldGUgYnZbYkJdfTt0aGlzLmdldENvbm5lY3Rpb25zRm9yPWZ1bmN0aW9uKGJBKXtyZXR1cm4gYnpbYkFdfHxbXX07dGhpcy5nZXRFbmRwb2ludHNGb3I9ZnVuY3Rpb24oYkEpe3JldHVybiBidltiQV18fFtdfTt0aGlzLmRlbGV0ZUVuZHBvaW50PWZ1bmN0aW9uKGJBKXtEKGJ2W2JBLmVsZW1lbnRJZF0sZnVuY3Rpb24oYkIpe3JldHVybiBiQi5pZD09YkEuaWR9KX07dGhpcy5jbGVhckZvcj1mdW5jdGlvbihiQSl7ZGVsZXRlIGJ2W2JBXTtidltiQV09W119O3ZhciBieD1mdW5jdGlvbihiVSxiSCxiUCxiRSxiSyxiTCxiTixiSixiVyxiTSxiRCxiVCl7dmFyIGJSPS0xLGJDPS0xLGJGPWJFLmVuZHBvaW50c1tiTl0sYk89YkYuaWQsYkk9WzEsMF1bYk5dLGJBPVtbYkgsYlBdLGJFLGJLLGJMLGJPXSxiQj1iVVtiV10sYlY9YkYuX2NvbnRpbnVvdXNBbmNob3JFZGdlP2JVW2JGLl9jb250aW51b3VzQW5jaG9yRWRnZV06bnVsbDtpZihiVil7dmFyIGJTPWkoYlYsZnVuY3Rpb24oYlgpe3JldHVybiBiWFs0XT09Yk99KTtpZihiUyE9LTEpe2JWLnNwbGljZShiUywxKTtmb3IodmFyIGJRPTA7YlE8YlYubGVuZ3RoO2JRKyspe3UoYkQsYlZbYlFdWzFdLGZ1bmN0aW9uKGJYKXtyZXR1cm4gYlguaWQ9PWJWW2JRXVsxXS5pZH0pO3UoYlQsYlZbYlFdWzFdLmVuZHBvaW50c1tiTl0sZnVuY3Rpb24oYlgpe3JldHVybiBiWC5pZD09YlZbYlFdWzFdLmVuZHBvaW50c1tiTl0uaWR9KX19fWZvcih2YXIgYlE9MDtiUTxiQi5sZW5ndGg7YlErKyl7aWYoYk49PTEmJmJCW2JRXVszXT09PWJMJiZiQz09LTEpe2JDPWJRfXUoYkQsYkJbYlFdWzFdLGZ1bmN0aW9uKGJYKXtyZXR1cm4gYlguaWQ9PWJCW2JRXVsxXS5pZH0pO3UoYlQsYkJbYlFdWzFdLmVuZHBvaW50c1tiTl0sZnVuY3Rpb24oYlgpe3JldHVybiBiWC5pZD09YkJbYlFdWzFdLmVuZHBvaW50c1tiTl0uaWR9KX1pZihiUiE9LTEpe2JCW2JSXT1iQX1lbHNle3ZhciBiRz1iSj9iQyE9LTE/YkM6MDpiQi5sZW5ndGg7YkIuc3BsaWNlKGJHLDAsYkEpfWJGLl9jb250aW51b3VzQW5jaG9yRWRnZT1iV307dGhpcy5yZWRyYXc9ZnVuY3Rpb24oYlAsYlIsYkMsYkYpe3ZhciBiMD1idltiUF18fFtdLGJaPWJ6W2JQXXx8W10sYkI9W10sYlk9W10sYkQ9W107YkM9YkN8fHIoKTtiRj1iRnx8e2xlZnQ6MCx0b3A6MH07aWYoYlIpe2JSPXtsZWZ0OmJSLmxlZnQrYkYubGVmdCx0b3A6YlIudG9wK2JGLnRvcH19Vyh7ZWxJZDpiUCxvZmZzZXQ6YlIscmVjYWxjOmZhbHNlLHRpbWVzdGFtcDpiQ30pO3ZhciBiSz1haFtiUF0sYkc9YWVbYlBdLGJNPXt9O2Zvcih2YXIgYlc9MDtiVzxiWi5sZW5ndGg7YlcrKyl7dmFyIGJIPWJaW2JXXVswXSxiSj1iSC5zb3VyY2VJZCxiRT1iSC50YXJnZXRJZCxiST1iSC5lbmRwb2ludHNbMF0uYW5jaG9yLmlzQ29udGludW91cyxiTz1iSC5lbmRwb2ludHNbMV0uYW5jaG9yLmlzQ29udGludW91cztpZihiSXx8Yk8pe3ZhciBiWD1iSitcIl9cIitiRSxiVT1iRStcIl9cIitiSixiVD1iTVtiWF0sYk49Ykguc291cmNlSWQ9PWJQPzE6MDtpZihiSSYmIWJ5W2JKXSl7YnlbYkpdPXt0b3A6W10scmlnaHQ6W10sYm90dG9tOltdLGxlZnQ6W119fWlmKGJPJiYhYnlbYkVdKXtieVtiRV09e3RvcDpbXSxyaWdodDpbXSxib3R0b206W10sbGVmdDpbXX19aWYoYlAhPWJFKXtXKHtlbElkOmJFLHRpbWVzdGFtcDpiQ30pfWlmKGJQIT1iSil7Vyh7ZWxJZDpiSix0aW1lc3RhbXA6YkN9KX12YXIgYkw9YU4oYkUpLGJBPWFOKGJKKTtpZihiRT09YkomJihiSXx8Yk8pKXtieChieVtiSl0sLU1hdGguUEkvMiwwLGJILGZhbHNlLGJFLDAsZmFsc2UsXCJ0b3BcIixiSixiQixiWSl9ZWxzZXtpZighYlQpe2JUPWJsKGJKLGJFLGJBLm8sYkwubyk7Yk1bYlhdPWJUfWlmKGJJKXtieChieVtiSl0sYlQudGhldGEsMCxiSCxmYWxzZSxiRSwwLGZhbHNlLGJULmFbMF0sYkosYkIsYlkpfWlmKGJPKXtieChieVtiRV0sYlQudGhldGEyLC0xLGJILHRydWUsYkosMSx0cnVlLGJULmFbMV0sYkUsYkIsYlkpfX1pZihiSSl7dShiRCxiSixmdW5jdGlvbihiMSl7cmV0dXJuIGIxPT09Ykp9KX1pZihiTyl7dShiRCxiRSxmdW5jdGlvbihiMSl7cmV0dXJuIGIxPT09YkV9KX11KGJCLGJILGZ1bmN0aW9uKGIxKXtyZXR1cm4gYjEuaWQ9PWJILmlkfSk7aWYoKGJJJiZiTj09MCl8fChiTyYmYk49PTEpKXt1KGJZLGJILmVuZHBvaW50c1tiTl0sZnVuY3Rpb24oYjEpe3JldHVybiBiMS5pZD09YkguZW5kcG9pbnRzW2JOXS5pZH0pfX19Zm9yKHZhciBiVz0wO2JXPGJELmxlbmd0aDtiVysrKXthbChiRFtiV10sYnlbYkRbYlddXSl9Zm9yKHZhciBiVz0wO2JXPGIwLmxlbmd0aDtiVysrKXtiMFtiV10ucGFpbnQoe3RpbWVzdGFtcDpiQyxvZmZzZXQ6YkssZGltZW5zaW9uczpiR30pfWZvcih2YXIgYlc9MDtiVzxiWS5sZW5ndGg7YlcrKyl7YllbYlddLnBhaW50KHt0aW1lc3RhbXA6YkMsb2Zmc2V0OmJLLGRpbWVuc2lvbnM6Ykd9KX1mb3IodmFyIGJXPTA7Ylc8YloubGVuZ3RoO2JXKyspe3ZhciBiUT1iWltiV11bMV07aWYoYlEuYW5jaG9yLmNvbnN0cnVjdG9yPT1hcSl7YlEucGFpbnQoe2VsZW1lbnRXaXRoUHJlY2VkZW5jZTpiUH0pO3UoYkIsYlpbYlddWzBdLGZ1bmN0aW9uKGIxKXtyZXR1cm4gYjEuaWQ9PWJaW2JXXVswXS5pZH0pO2Zvcih2YXIgYlY9MDtiVjxiUS5jb25uZWN0aW9ucy5sZW5ndGg7YlYrKyl7aWYoYlEuY29ubmVjdGlvbnNbYlZdIT09YlpbYlddWzBdKXt1KGJCLGJRLmNvbm5lY3Rpb25zW2JWXSxmdW5jdGlvbihiMSl7cmV0dXJuIGIxLmlkPT1iUS5jb25uZWN0aW9uc1tiVl0uaWR9KX19fWVsc2V7aWYoYlEuYW5jaG9yLmNvbnN0cnVjdG9yPT1hYSl7dShiQixiWltiV11bMF0sZnVuY3Rpb24oYjEpe3JldHVybiBiMS5pZD09YlpbYlddWzBdLmlkfSl9fX12YXIgYlM9YmZbYlBdO2lmKGJTKXtiUy5wYWludCh7dGltZXN0YW1wOmJDLHJlY2FsYzpmYWxzZSxlbElkOmJQfSl9Zm9yKHZhciBiVz0wO2JXPGJCLmxlbmd0aDtiVysrKXtiQltiV10ucGFpbnQoe2VsSWQ6YlAsdGltZXN0YW1wOmJDLHJlY2FsYzpmYWxzZX0pfX07dGhpcy5yZWhvbWVFbmRwb2ludD1mdW5jdGlvbihiQSxiRSl7dmFyIGJCPWJ2W2JBXXx8W10sYkM9Ym4uZ2V0SWQoYkUpO2Zvcih2YXIgYkQ9MDtiRDxiQi5sZW5ndGg7YkQrKyl7YncuYWRkKGJCW2JEXSxiQyl9YkIuc3BsaWNlKDAsYkIubGVuZ3RoKX19O2JuLmFuY2hvck1hbmFnZXI9bmV3IGFFKCk7Ym4uY29udGludW91c0FuY2hvckZhY3Rvcnk9e2dldDpmdW5jdGlvbihidyl7dmFyIGJ2PWJqW2J3LmVsZW1lbnRJZF07aWYoIWJ2KXtidj17dHlwZTpcIkNvbnRpbnVvdXNcIixjb21wdXRlOmZ1bmN0aW9uKGJ4KXtyZXR1cm4gYWlbYnguZWxlbWVudC5pZF18fFswLDBdfSxnZXRDdXJyZW50TG9jYXRpb246ZnVuY3Rpb24oYngpe3JldHVybiBhaVtieC5pZF18fFswLDBdfSxnZXRPcmllbnRhdGlvbjpmdW5jdGlvbihieCl7cmV0dXJuIGFKW2J4LmlkXXx8WzAsMF19LGlzRHluYW1pYzp0cnVlLGlzQ29udGludW91czp0cnVlfTtialtidy5lbGVtZW50SWRdPWJ2fXJldHVybiBidn19O3ZhciBhVj1mdW5jdGlvbigpe3ZhciBieT17fSxieD1bXSxidz17fSxidj17fTt0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKGJCKXt2YXIgYkE9cC5DdXJyZW50TGlicmFyeTtiQj1iQS5nZXRFbGVtZW50T2JqZWN0KGJCKTt2YXIgYkQ9Ym4uZ2V0SWQoYkIpLGJ6PWJBLmdldERPTUVsZW1lbnQoYkIpO2lmKCFieVtiRF0pe2J5W2JEXT1iQjtieC5wdXNoKGJCKTtid1tiRF09e319dmFyIGJDPWZ1bmN0aW9uKGJIKXt2YXIgYks9YkEuZ2V0RWxlbWVudE9iamVjdChiSCksYko9YkEuZ2V0T2Zmc2V0KGJLKTtmb3IodmFyIGJFPTA7YkU8YkguY2hpbGROb2Rlcy5sZW5ndGg7YkUrKyl7aWYoYkguY2hpbGROb2Rlc1tiRV0ubm9kZVR5cGUhPTMpe3ZhciBiRz1iQS5nZXRFbGVtZW50T2JqZWN0KGJILmNoaWxkTm9kZXNbYkVdKSxiST1ibi5nZXRJZChiRyxudWxsLHRydWUpO2lmKGJJJiZidltiSV0mJmJ2W2JJXT4wKXt2YXIgYkY9YkEuZ2V0T2Zmc2V0KGJHKTtid1tiRF1bYkldPXtpZDpiSSxvZmZzZXQ6e2xlZnQ6YkYubGVmdC1iSi5sZWZ0LHRvcDpiRi50b3AtYkoudG9wfX19fX19O2JDKGJ6KX07dGhpcy5lbmRwb2ludEFkZGVkPWZ1bmN0aW9uKGJCKXt2YXIgYkY9cC5DdXJyZW50TGlicmFyeSxiST1kb2N1bWVudC5ib2R5LGJ6PWJuLmdldElkKGJCKSxiSD1iRi5nZXRET01FbGVtZW50KGJCKSxiQT1iSC5wYXJlbnROb2RlLGJEPWJBPT1iSTtidltiel09YnZbYnpdP2J2W2J6XSsxOjE7d2hpbGUoYkEhPWJJKXt2YXIgYkU9Ym4uZ2V0SWQoYkEpO2lmKGJ5W2JFXSl7dmFyIGJLPS0xLGJHPWJGLmdldEVsZW1lbnRPYmplY3QoYkEpLGJDPWJGLmdldE9mZnNldChiRyk7aWYoYndbYkVdW2J6XT09bnVsbCl7dmFyIGJKPXAuQ3VycmVudExpYnJhcnkuZ2V0T2Zmc2V0KGJCKTtid1tiRV1bYnpdPXtpZDpieixvZmZzZXQ6e2xlZnQ6YkoubGVmdC1iQy5sZWZ0LHRvcDpiSi50b3AtYkMudG9wfX19YnJlYWt9YkE9YkEucGFyZW50Tm9kZX19O3RoaXMuZW5kcG9pbnREZWxldGVkPWZ1bmN0aW9uKGJBKXtpZihidltiQS5lbGVtZW50SWRdKXtidltiQS5lbGVtZW50SWRdLS07aWYoYnZbYkEuZWxlbWVudElkXTw9MCl7Zm9yKHZhciBieiBpbiBidyl7ZGVsZXRlIGJ3W2J6XVtiQS5lbGVtZW50SWRdfX19fTt0aGlzLmdldEVsZW1lbnRzRm9yRHJhZ2dhYmxlPWZ1bmN0aW9uKGJ6KXtyZXR1cm4gYndbYnpdfTt0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7Ynk9e307Yng9W107Ync9e307YnY9e319fTtibi5kcmFnTWFuYWdlcj1uZXcgYVYoKTt2YXIgYXg9ZnVuY3Rpb24oYk4pe3ZhciBiRz10aGlzLGJ4PXRydWU7YkcuaWRQcmVmaXg9XCJfanNwbHVtYl9jX1wiO2JHLmRlZmF1bHRMYWJlbExvY2F0aW9uPTAuNTtiRy5kZWZhdWx0T3ZlcmxheUtleXM9W1wiT3ZlcmxheXNcIixcIkNvbm5lY3Rpb25PdmVybGF5c1wiXTt0aGlzLnBhcmVudD1iTi5wYXJlbnQ7ei5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gYnh9O3RoaXMuc2V0VmlzaWJsZT1mdW5jdGlvbihiUCl7Yng9YlA7YkdbYlA/XCJzaG93T3ZlcmxheXNcIjpcImhpZGVPdmVybGF5c1wiXSgpO2lmKGJHLmNvbm5lY3RvciYmYkcuY29ubmVjdG9yLmNhbnZhcyl7YkcuY29ubmVjdG9yLmNhbnZhcy5zdHlsZS5kaXNwbGF5PWJQP1wiYmxvY2tcIjpcIm5vbmVcIn19O3RoaXMuc291cmNlPUYoYk4uc291cmNlKTt0aGlzLnRhcmdldD1GKGJOLnRhcmdldCk7aWYoYk4uc291cmNlRW5kcG9pbnQpe3RoaXMuc291cmNlPWJOLnNvdXJjZUVuZHBvaW50LmVuZHBvaW50V2lsbE1vdmVUb3x8Yk4uc291cmNlRW5kcG9pbnQuZ2V0RWxlbWVudCgpfWlmKGJOLnRhcmdldEVuZHBvaW50KXt0aGlzLnRhcmdldD1iTi50YXJnZXRFbmRwb2ludC5nZXRFbGVtZW50KCl9YkcucHJldmlvdXNDb25uZWN0aW9uPWJOLnByZXZpb3VzQ29ubmVjdGlvbjt2YXIgYkQ9Yk4uY29zdDtiRy5nZXRDb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIGJEfTtiRy5zZXRDb3N0PWZ1bmN0aW9uKGJQKXtiRD1iUH07dmFyIGJCPWJOLmJpZGlyZWN0aW9uYWw9PT1mYWxzZT9mYWxzZTp0cnVlO2JHLmlzQmlkaXJlY3Rpb25hbD1mdW5jdGlvbigpe3JldHVybiBiQn07dGhpcy5zb3VyY2VJZD1kKHRoaXMuc291cmNlLFwiaWRcIik7dGhpcy50YXJnZXRJZD1kKHRoaXMudGFyZ2V0LFwiaWRcIik7dGhpcy5nZXRBdHRhY2hlZEVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGJHLmVuZHBvaW50c307dGhpcy5zY29wZT1iTi5zY29wZTt0aGlzLmVuZHBvaW50cz1bXTt0aGlzLmVuZHBvaW50U3R5bGVzPVtdO3ZhciBiTT1mdW5jdGlvbihiUSxiUCl7aWYoYlEpe3JldHVybiBibi5tYWtlQW5jaG9yKGJRLGJQLGJuKX19LGJLPWZ1bmN0aW9uKGJQLGJWLGJRLGJTLGJULGJSLGJVKXtpZihiUCl7YkcuZW5kcG9pbnRzW2JWXT1iUDtiUC5hZGRDb25uZWN0aW9uKGJHKX1lbHNle2lmKCFiUS5lbmRwb2ludHMpe2JRLmVuZHBvaW50cz1bbnVsbCxudWxsXX12YXIgYjE9YlEuZW5kcG9pbnRzW2JWXXx8YlEuZW5kcG9pbnR8fGJuLkRlZmF1bHRzLkVuZHBvaW50c1tiVl18fHAuRGVmYXVsdHMuRW5kcG9pbnRzW2JWXXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnR8fHAuRGVmYXVsdHMuRW5kcG9pbnQ7aWYoIWJRLmVuZHBvaW50U3R5bGVzKXtiUS5lbmRwb2ludFN0eWxlcz1bbnVsbCxudWxsXX1pZighYlEuZW5kcG9pbnRIb3ZlclN0eWxlcyl7YlEuZW5kcG9pbnRIb3ZlclN0eWxlcz1bbnVsbCxudWxsXX12YXIgYlo9YlEuZW5kcG9pbnRTdHlsZXNbYlZdfHxiUS5lbmRwb2ludFN0eWxlfHxibi5EZWZhdWx0cy5FbmRwb2ludFN0eWxlc1tiVl18fHAuRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXNbYlZdfHxibi5EZWZhdWx0cy5FbmRwb2ludFN0eWxlfHxwLkRlZmF1bHRzLkVuZHBvaW50U3R5bGU7aWYoYlouZmlsbFN0eWxlPT1udWxsJiZiUiE9bnVsbCl7YlouZmlsbFN0eWxlPWJSLnN0cm9rZVN0eWxlfWlmKGJaLm91dGxpbmVDb2xvcj09bnVsbCYmYlIhPW51bGwpe2JaLm91dGxpbmVDb2xvcj1iUi5vdXRsaW5lQ29sb3J9aWYoYloub3V0bGluZVdpZHRoPT1udWxsJiZiUiE9bnVsbCl7Yloub3V0bGluZVdpZHRoPWJSLm91dGxpbmVXaWR0aH12YXIgYlk9YlEuZW5kcG9pbnRIb3ZlclN0eWxlc1tiVl18fGJRLmVuZHBvaW50SG92ZXJTdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlc1tiVl18fHAuRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlc1tiVl18fGJuLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZXx8cC5EZWZhdWx0cy5FbmRwb2ludEhvdmVyU3R5bGU7aWYoYlUhPW51bGwpe2lmKGJZPT1udWxsKXtiWT17fX1pZihiWS5maWxsU3R5bGU9PW51bGwpe2JZLmZpbGxTdHlsZT1iVS5zdHJva2VTdHlsZX19dmFyIGJYPWJRLmFuY2hvcnM/YlEuYW5jaG9yc1tiVl06YlEuYW5jaG9yP2JRLmFuY2hvcjpiTShibi5EZWZhdWx0cy5BbmNob3JzW2JWXSxiVCl8fGJNKHAuRGVmYXVsdHMuQW5jaG9yc1tiVl0sYlQpfHxiTShibi5EZWZhdWx0cy5BbmNob3IsYlQpfHxiTShwLkRlZmF1bHRzLkFuY2hvcixiVCksYjA9YlEudXVpZHM/YlEudXVpZHNbYlZdOm51bGwsYlc9YUYoe3BhaW50U3R5bGU6YlosaG92ZXJQYWludFN0eWxlOmJZLGVuZHBvaW50OmIxLGNvbm5lY3Rpb25zOltiR10sdXVpZDpiMCxhbmNob3I6Ylgsc291cmNlOmJTLHNjb3BlOmJRLnNjb3BlLGNvbnRhaW5lcjpiUS5jb250YWluZXIscmVhdHRhY2g6YlEucmVhdHRhY2gsZGV0YWNoYWJsZTpiUS5kZXRhY2hhYmxlfSk7YkcuZW5kcG9pbnRzW2JWXT1iVztpZihiUS5kcmF3RW5kcG9pbnRzPT09ZmFsc2Upe2JXLnNldFZpc2libGUoZmFsc2UsdHJ1ZSx0cnVlKX1yZXR1cm4gYld9fTt2YXIgYkk9YksoYk4uc291cmNlRW5kcG9pbnQsMCxiTixiRy5zb3VyY2UsYkcuc291cmNlSWQsYk4ucGFpbnRTdHlsZSxiTi5ob3ZlclBhaW50U3R5bGUpO2lmKGJJKXtWKGFULHRoaXMuc291cmNlSWQsYkkpfXZhciBieT0oKGJHLnNvdXJjZUlkPT1iRy50YXJnZXRJZCkmJmJOLnRhcmdldEVuZHBvaW50PT1udWxsKT9iSTpiTi50YXJnZXRFbmRwb2ludCxiSD1iSyhieSwxLGJOLGJHLnRhcmdldCxiRy50YXJnZXRJZCxiTi5wYWludFN0eWxlLGJOLmhvdmVyUGFpbnRTdHlsZSk7aWYoYkgpe1YoYVQsdGhpcy50YXJnZXRJZCxiSCl9aWYoIXRoaXMuc2NvcGUpe3RoaXMuc2NvcGU9dGhpcy5lbmRwb2ludHNbMF0uc2NvcGV9aWYoYk4uZGVsZXRlRW5kcG9pbnRzT25EZXRhY2gpe2JHLmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2g9W2JJLGJIXX12YXIgYnc9Ym4uRGVmYXVsdHMuQ29ubmVjdGlvbnNEZXRhY2hhYmxlO2lmKGJOLmRldGFjaGFibGU9PT1mYWxzZSl7Ync9ZmFsc2V9aWYoYkcuZW5kcG9pbnRzWzBdLmNvbm5lY3Rpb25zRGV0YWNoYWJsZT09PWZhbHNlKXtidz1mYWxzZX1pZihiRy5lbmRwb2ludHNbMV0uY29ubmVjdGlvbnNEZXRhY2hhYmxlPT09ZmFsc2Upe2J3PWZhbHNlfWlmKGJEPT1udWxsKXtiRD1iRy5lbmRwb2ludHNbMF0uZ2V0Q29ubmVjdGlvbkNvc3QoKX1pZihiTi5iaWRpcmVjdGlvbmFsPT1udWxsKXtiQj1iRy5lbmRwb2ludHNbMF0uYXJlQ29ubmVjdGlvbnNCaWRpcmVjdGlvbmFsKCl9dGhpcy5pc0RldGFjaGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYnc9PT10cnVlfTt0aGlzLnNldERldGFjaGFibGU9ZnVuY3Rpb24oYlApe2J3PWJQPT09dHJ1ZX07dmFyIGJPPXAuZXh0ZW5kKHt9LHRoaXMuZW5kcG9pbnRzWzBdLmdldFBhcmFtZXRlcnMoKSk7cC5leHRlbmQoYk8sdGhpcy5lbmRwb2ludHNbMV0uZ2V0UGFyYW1ldGVycygpKTtwLmV4dGVuZChiTyxiRy5nZXRQYXJhbWV0ZXJzKCkpO2JHLnNldFBhcmFtZXRlcnMoYk8pO3ZhciBiRT1iRy5zZXRIb3ZlcjtiRy5zZXRIb3Zlcj1mdW5jdGlvbihiUCl7YkcuY29ubmVjdG9yLnNldEhvdmVyLmFwcGx5KGJHLmNvbm5lY3Rvcixhcmd1bWVudHMpO2JFLmFwcGx5KGJHLGFyZ3VtZW50cyl9O3ZhciBiTD1mdW5jdGlvbihiUCl7aWYoeD09bnVsbCl7Ykcuc2V0SG92ZXIoYlAsZmFsc2UpfX07dGhpcy5zZXRDb25uZWN0b3I9ZnVuY3Rpb24oYlAsYlEpe2lmKGJHLmNvbm5lY3RvciE9bnVsbCl7YVgoYkcuY29ubmVjdG9yLmdldERpc3BsYXlFbGVtZW50cygpLGJHLnBhcmVudCl9dmFyIGJSPXtfanNQbHVtYjpiRy5fanNQbHVtYixwYXJlbnQ6Yk4ucGFyZW50LGNzc0NsYXNzOmJOLmNzc0NsYXNzLGNvbnRhaW5lcjpiTi5jb250YWluZXIsdG9vbHRpcDpiRy50b29sdGlwfTtpZihDKGJQKSl7dGhpcy5jb25uZWN0b3I9bmV3IHAuQ29ubmVjdG9yc1tYXVtiUF0oYlIpfWVsc2V7aWYobihiUCkpe3RoaXMuY29ubmVjdG9yPW5ldyBwLkNvbm5lY3RvcnNbWF1bYlBbMF1dKHAuZXh0ZW5kKGJQWzFdLGJSKSl9fWJHLmNhbnZhcz1iRy5jb25uZWN0b3IuY2FudmFzO0coYkcuY29ubmVjdG9yLGJHLGJMKTtpZighYlEpe2JHLnJlcGFpbnQoKX19O2JHLnNldENvbm5lY3Rvcih0aGlzLmVuZHBvaW50c1swXS5jb25uZWN0b3J8fHRoaXMuZW5kcG9pbnRzWzFdLmNvbm5lY3Rvcnx8Yk4uY29ubmVjdG9yfHxibi5EZWZhdWx0cy5Db25uZWN0b3J8fHAuRGVmYXVsdHMuQ29ubmVjdG9yLHRydWUpO3RoaXMuc2V0UGFpbnRTdHlsZSh0aGlzLmVuZHBvaW50c1swXS5jb25uZWN0b3JTdHlsZXx8dGhpcy5lbmRwb2ludHNbMV0uY29ubmVjdG9yU3R5bGV8fGJOLnBhaW50U3R5bGV8fGJuLkRlZmF1bHRzLlBhaW50U3R5bGV8fHAuRGVmYXVsdHMuUGFpbnRTdHlsZSx0cnVlKTt0aGlzLnNldEhvdmVyUGFpbnRTdHlsZSh0aGlzLmVuZHBvaW50c1swXS5jb25uZWN0b3JIb3ZlclN0eWxlfHx0aGlzLmVuZHBvaW50c1sxXS5jb25uZWN0b3JIb3ZlclN0eWxlfHxiTi5ob3ZlclBhaW50U3R5bGV8fGJuLkRlZmF1bHRzLkhvdmVyUGFpbnRTdHlsZXx8cC5EZWZhdWx0cy5Ib3ZlclBhaW50U3R5bGUsdHJ1ZSk7dGhpcy5wYWludFN0eWxlSW5Vc2U9dGhpcy5nZXRQYWludFN0eWxlKCk7dGhpcy5tb3ZlUGFyZW50PWZ1bmN0aW9uKGJTKXt2YXIgYlI9cC5DdXJyZW50TGlicmFyeSxiUT1iUi5nZXRQYXJlbnQoYkcuY29ubmVjdG9yLmNhbnZhcyk7aWYoYkcuY29ubmVjdG9yLmJnQ2FudmFzKXtiUi5yZW1vdmVFbGVtZW50KGJHLmNvbm5lY3Rvci5iZ0NhbnZhcyxiUSk7YlIuYXBwZW5kRWxlbWVudChiRy5jb25uZWN0b3IuYmdDYW52YXMsYlMpfWJSLnJlbW92ZUVsZW1lbnQoYkcuY29ubmVjdG9yLmNhbnZhcyxiUSk7YlIuYXBwZW5kRWxlbWVudChiRy5jb25uZWN0b3IuY2FudmFzLGJTKTtmb3IodmFyIGJQPTA7YlA8Ykcub3ZlcmxheXMubGVuZ3RoO2JQKyspe2lmKGJHLm92ZXJsYXlzW2JQXS5pc0FwcGVuZGVkQXRUb3BMZXZlbCl7YlIucmVtb3ZlRWxlbWVudChiRy5vdmVybGF5c1tiUF0uY2FudmFzLGJRKTtiUi5hcHBlbmRFbGVtZW50KGJHLm92ZXJsYXlzW2JQXS5jYW52YXMsYlMpO2lmKGJHLm92ZXJsYXlzW2JQXS5yZWF0dGFjaExpc3RlbmVycyl7Ykcub3ZlcmxheXNbYlBdLnJlYXR0YWNoTGlzdGVuZXJzKGJHLmNvbm5lY3Rvcil9fX1pZihiRy5jb25uZWN0b3IucmVhdHRhY2hMaXN0ZW5lcnMpe2JHLmNvbm5lY3Rvci5yZWF0dGFjaExpc3RlbmVycygpfX07Vyh7ZWxJZDp0aGlzLnNvdXJjZUlkfSk7Vyh7ZWxJZDp0aGlzLnRhcmdldElkfSk7dmFyIGJBPWFoW3RoaXMuc291cmNlSWRdLGJ6PWFlW3RoaXMuc291cmNlSWRdLGJ2PWFoW3RoaXMudGFyZ2V0SWRdLGJDPWFlW3RoaXMudGFyZ2V0SWRdLGJGPXIoKSxiSj10aGlzLmVuZHBvaW50c1swXS5hbmNob3IuY29tcHV0ZSh7eHk6W2JBLmxlZnQsYkEudG9wXSx3aDpieixlbGVtZW50OnRoaXMuZW5kcG9pbnRzWzBdLGVsZW1lbnRJZDp0aGlzLmVuZHBvaW50c1swXS5lbGVtZW50SWQsdHh5Oltidi5sZWZ0LGJ2LnRvcF0sdHdoOmJDLHRFbGVtZW50OnRoaXMuZW5kcG9pbnRzWzFdLHRpbWVzdGFtcDpiRn0pO3RoaXMuZW5kcG9pbnRzWzBdLnBhaW50KHthbmNob3JMb2M6YkosdGltZXN0YW1wOmJGfSk7Yko9dGhpcy5lbmRwb2ludHNbMV0uYW5jaG9yLmNvbXB1dGUoe3h5Oltidi5sZWZ0LGJ2LnRvcF0sd2g6YkMsZWxlbWVudDp0aGlzLmVuZHBvaW50c1sxXSxlbGVtZW50SWQ6dGhpcy5lbmRwb2ludHNbMV0uZWxlbWVudElkLHR4eTpbYkEubGVmdCxiQS50b3BdLHR3aDpieix0RWxlbWVudDp0aGlzLmVuZHBvaW50c1swXSx0aW1lc3RhbXA6YkZ9KTt0aGlzLmVuZHBvaW50c1sxXS5wYWludCh7YW5jaG9yTG9jOmJKLHRpbWVzdGFtcDpiRn0pO3RoaXMucGFpbnQ9ZnVuY3Rpb24oYjYpe2I2PWI2fHx7fTt2YXIgYlg9YjYuZWxJZCxiWT1iNi51aSxiVj1iNi5yZWNhbGMsYlE9YjYudGltZXN0YW1wLGJaPWZhbHNlLGI1PWJaP3RoaXMuc291cmNlSWQ6dGhpcy50YXJnZXRJZCxiVT1iWj90aGlzLnRhcmdldElkOnRoaXMuc291cmNlSWQsYlI9Ylo/MDoxLGI3PWJaPzE6MDt2YXIgYjg9Vyh7ZWxJZDpiWCxvZmZzZXQ6YlkscmVjYWxjOmJWLHRpbWVzdGFtcDpiUX0pLGJXPVcoe2VsSWQ6YjUsdGltZXN0YW1wOmJRfSk7dmFyIGIxPXRoaXMuZW5kcG9pbnRzW2I3XSxiUD10aGlzLmVuZHBvaW50c1tiUl0sYlQ9YjEuYW5jaG9yLmdldEN1cnJlbnRMb2NhdGlvbihiMSksYjQ9YlAuYW5jaG9yLmdldEN1cnJlbnRMb2NhdGlvbihiUCk7dmFyIGJTPTA7Zm9yKHZhciBiMz0wO2IzPGJHLm92ZXJsYXlzLmxlbmd0aDtiMysrKXt2YXIgYjA9Ykcub3ZlcmxheXNbYjNdO2lmKGIwLmlzVmlzaWJsZSgpKXtiUz1NYXRoLm1heChiUyxiMC5jb21wdXRlTWF4U2l6ZShiRy5jb25uZWN0b3IpKX19dmFyIGIyPXRoaXMuY29ubmVjdG9yLmNvbXB1dGUoYlQsYjQsdGhpcy5lbmRwb2ludHNbYjddLHRoaXMuZW5kcG9pbnRzW2JSXSx0aGlzLmVuZHBvaW50c1tiN10uYW5jaG9yLHRoaXMuZW5kcG9pbnRzW2JSXS5hbmNob3IsYkcucGFpbnRTdHlsZUluVXNlLmxpbmVXaWR0aCxiUyxiOCxiVyk7YkcuY29ubmVjdG9yLnBhaW50KGIyLGJHLnBhaW50U3R5bGVJblVzZSk7Zm9yKHZhciBiMz0wO2IzPGJHLm92ZXJsYXlzLmxlbmd0aDtiMysrKXt2YXIgYjA9Ykcub3ZlcmxheXNbYjNdO2lmKGIwLmlzVmlzaWJsZSl7Ykcub3ZlcmxheVBsYWNlbWVudHNbYjNdPWIwLmRyYXcoYkcuY29ubmVjdG9yLGJHLnBhaW50U3R5bGVJblVzZSxiMil9fX07dGhpcy5yZXBhaW50PWZ1bmN0aW9uKGJRKXtiUT1iUXx8e307dmFyIGJQPSEoYlEucmVjYWxjPT09ZmFsc2UpO3RoaXMucGFpbnQoe2VsSWQ6dGhpcy5zb3VyY2VJZCxyZWNhbGM6YlAsdGltZXN0YW1wOmJRLnRpbWVzdGFtcH0pfX07dmFyIGJjPWZ1bmN0aW9uKGJ3KXt2YXIgYnY9ZmFsc2U7cmV0dXJue2RyYWc6ZnVuY3Rpb24oKXtpZihidil7YnY9ZmFsc2U7cmV0dXJuIHRydWV9dmFyIGJ4PXAuQ3VycmVudExpYnJhcnkuZ2V0VUlQb3NpdGlvbihhcmd1bWVudHMpLGJ5PWJ3LmVsZW1lbnQ7aWYoYnkpe3AuQ3VycmVudExpYnJhcnkuc2V0T2Zmc2V0KGJ5LGJ4KTtiYShGKGJ5KSxieCl9fSxzdG9wRHJhZzpmdW5jdGlvbigpe2J2PXRydWV9fX07dmFyIGF0PWZ1bmN0aW9uKGJ6LGJ5LGJBLGJ4LGJ2KXt2YXIgYnc9bmV3IGExKHtyZWZlcmVuY2U6YnkscmVmZXJlbmNlQ2FudmFzOmJ4fSk7cmV0dXJuIGFGKHtwYWludFN0eWxlOmJ6LGVuZHBvaW50OmJBLGFuY2hvcjpidyxzb3VyY2U6YnYsc2NvcGU6XCJfX2Zsb2F0aW5nXCJ9KX07dmFyIFI9ZnVuY3Rpb24oYngsYnYpe3ZhciBiej1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2J6LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjt2YXIgYnc9Rihieik7YVcoYnosYnYpO3ZhciBieT1LKGJ3KTtXKHtlbElkOmJ5fSk7YnguaWQ9Ynk7YnguZWxlbWVudD1id307dmFyIGFmPWZ1bmN0aW9uKGIwKXt2YXIgYk89dGhpcztiTy5pZFByZWZpeD1cIl9qc3BsdW1iX2VfXCI7Yk8uZGVmYXVsdExhYmVsTG9jYXRpb249WzAuNSwwLjVdO2JPLmRlZmF1bHRPdmVybGF5S2V5cz1bXCJPdmVybGF5c1wiLFwiRW5kcG9pbnRPdmVybGF5c1wiXTt0aGlzLnBhcmVudD1iMC5wYXJlbnQ7ei5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YjA9YjB8fHt9O3ZhciBiQT10cnVlLGJ5PSEoYjAuZW5hYmxlZD09PWZhbHNlKTt0aGlzLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiBiQX07dGhpcy5zZXRWaXNpYmxlPWZ1bmN0aW9uKGIzLGI2LGIyKXtiQT1iMztpZihiTy5jYW52YXMpe2JPLmNhbnZhcy5zdHlsZS5kaXNwbGF5PWIzP1wiYmxvY2tcIjpcIm5vbmVcIn1iT1tiMz9cInNob3dPdmVybGF5c1wiOlwiaGlkZU92ZXJsYXlzXCJdKCk7aWYoIWI2KXtmb3IodmFyIGI1PTA7YjU8Yk8uY29ubmVjdGlvbnMubGVuZ3RoO2I1Kyspe2JPLmNvbm5lY3Rpb25zW2I1XS5zZXRWaXNpYmxlKGIzKTtpZighYjIpe3ZhciBiND1iTz09PWJPLmNvbm5lY3Rpb25zW2I1XS5lbmRwb2ludHNbMF0/MTowO2lmKGJPLmNvbm5lY3Rpb25zW2I1XS5lbmRwb2ludHNbYjRdLmNvbm5lY3Rpb25zLmxlbmd0aD09MSl7Yk8uY29ubmVjdGlvbnNbYjVdLmVuZHBvaW50c1tiNF0uc2V0VmlzaWJsZShiMyx0cnVlLHRydWUpfX19fX07dGhpcy5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYnl9O3RoaXMuc2V0RW5hYmxlZD1mdW5jdGlvbihiMil7Ynk9YjJ9O3ZhciBiTj1iMC5zb3VyY2UsYkg9YjAudXVpZCxiWT1udWxsLGJDPW51bGw7aWYoYkgpe2FVW2JIXT1iT312YXIgYkY9ZChiTixcImlkXCIpO3RoaXMuZWxlbWVudElkPWJGO3RoaXMuZWxlbWVudD1iTjt2YXIgYng9YjAuY29ubmVjdGlvbkNvc3Q7dGhpcy5nZXRDb25uZWN0aW9uQ29zdD1mdW5jdGlvbigpe3JldHVybiBieH07dGhpcy5zZXRDb25uZWN0aW9uQ29zdD1mdW5jdGlvbihiMil7Yng9YjJ9O3ZhciBiWD1iMC5jb25uZWN0aW9uc0JpZGlyZWN0aW9uYWw9PT1mYWxzZT9mYWxzZTp0cnVlO3RoaXMuYXJlQ29ubmVjdGlvbnNCaWRpcmVjdGlvbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIGJYfTt0aGlzLnNldENvbm5lY3Rpb25zQmlkaXJlY3Rpb25hbD1mdW5jdGlvbihiMil7Ylg9YjJ9O2JPLmFuY2hvcj1iMC5hbmNob3I/Ym4ubWFrZUFuY2hvcihiMC5hbmNob3IsYkYsYm4pOmIwLmFuY2hvcnM/Ym4ubWFrZUFuY2hvcihiMC5hbmNob3JzLGJGLGJuKTpibi5tYWtlQW5jaG9yKFwiVG9wQ2VudGVyXCIsYkYsYm4pO2lmKCFiMC5fdHJhbnNpZW50KXtibi5hbmNob3JNYW5hZ2VyLmFkZChiTyxiRil9dmFyIGJMPW51bGwsYlE9bnVsbDt0aGlzLnNldEVuZHBvaW50PWZ1bmN0aW9uKGIyKXt2YXIgYjM9e19qc1BsdW1iOmJPLl9qc1BsdW1iLHBhcmVudDpiMC5wYXJlbnQsY29udGFpbmVyOmIwLmNvbnRhaW5lcix0b29sdGlwOmIwLnRvb2x0aXAsY29ubmVjdG9yVG9vbHRpcDpiMC5jb25uZWN0b3JUb29sdGlwLGVuZHBvaW50OmJPfTtpZihDKGIyKSl7Ykw9bmV3IHAuRW5kcG9pbnRzW1hdW2IyXShiMyl9ZWxzZXtpZihuKGIyKSl7YjM9cC5leHRlbmQoYjJbMV0sYjMpO2JMPW5ldyBwLkVuZHBvaW50c1tYXVtiMlswXV0oYjMpfWVsc2V7Ykw9YjIuY2xvbmUoKX19dmFyIGI0PXAuZXh0ZW5kKHt9LGIzKTtiTC5jbG9uZT1mdW5jdGlvbigpe3ZhciBiNT1uZXcgT2JqZWN0KCk7YkwuY29uc3RydWN0b3IuYXBwbHkoYjUsW2I0XSk7cmV0dXJuIGI1fTtiTy5lbmRwb2ludD1iTDtiTy50eXBlPWJPLmVuZHBvaW50LnR5cGV9O3RoaXMuc2V0RW5kcG9pbnQoYjAuZW5kcG9pbnR8fGJuLkRlZmF1bHRzLkVuZHBvaW50fHxwLkRlZmF1bHRzLkVuZHBvaW50fHxcIkRvdFwiKTtiUT1iTDt2YXIgYk09Yk8uc2V0SG92ZXI7Yk8uc2V0SG92ZXI9ZnVuY3Rpb24oKXtiTy5lbmRwb2ludC5zZXRIb3Zlci5hcHBseShiTy5lbmRwb2ludCxhcmd1bWVudHMpO2JNLmFwcGx5KGJPLGFyZ3VtZW50cyl9O3ZhciBiMT1mdW5jdGlvbihiMil7aWYoYk8uY29ubmVjdGlvbnMubGVuZ3RoPjApe2JPLmNvbm5lY3Rpb25zWzBdLnNldEhvdmVyKGIyLGZhbHNlKX1lbHNle2JPLnNldEhvdmVyKGIyKX19O0coYk8uZW5kcG9pbnQsYk8sYjEpO3RoaXMuc2V0UGFpbnRTdHlsZShiMC5wYWludFN0eWxlfHxiMC5zdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRTdHlsZXx8cC5EZWZhdWx0cy5FbmRwb2ludFN0eWxlLHRydWUpO3RoaXMuc2V0SG92ZXJQYWludFN0eWxlKGIwLmhvdmVyUGFpbnRTdHlsZXx8Ym4uRGVmYXVsdHMuRW5kcG9pbnRIb3ZlclN0eWxlfHxwLkRlZmF1bHRzLkVuZHBvaW50SG92ZXJTdHlsZSx0cnVlKTt0aGlzLnBhaW50U3R5bGVJblVzZT10aGlzLmdldFBhaW50U3R5bGUoKTt2YXIgYko9dGhpcy5nZXRQYWludFN0eWxlKCk7dGhpcy5jb25uZWN0b3JTdHlsZT1iMC5jb25uZWN0b3JTdHlsZTt0aGlzLmNvbm5lY3RvckhvdmVyU3R5bGU9YjAuY29ubmVjdG9ySG92ZXJTdHlsZTt0aGlzLmNvbm5lY3Rvck92ZXJsYXlzPWIwLmNvbm5lY3Rvck92ZXJsYXlzO3RoaXMuY29ubmVjdG9yPWIwLmNvbm5lY3Rvcjt0aGlzLmNvbm5lY3RvclRvb2x0aXA9YjAuY29ubmVjdG9yVG9vbHRpcDt0aGlzLmlzU291cmNlPWIwLmlzU291cmNlfHxmYWxzZTt0aGlzLmlzVGFyZ2V0PWIwLmlzVGFyZ2V0fHxmYWxzZTt2YXIgYlU9YjAubWF4Q29ubmVjdGlvbnN8fGJuLkRlZmF1bHRzLk1heENvbm5lY3Rpb25zO3RoaXMuZ2V0QXR0YWNoZWRFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiBiTy5jb25uZWN0aW9uc307dGhpcy5jYW52YXM9dGhpcy5lbmRwb2ludC5jYW52YXM7dGhpcy5jb25uZWN0aW9ucz1iMC5jb25uZWN0aW9uc3x8W107dGhpcy5zY29wZT1iMC5zY29wZXx8UTt0aGlzLnRpbWVzdGFtcD1udWxsO2JPLmlzUmVhdHRhY2g9YjAucmVhdHRhY2h8fGZhbHNlO2JPLmNvbm5lY3Rpb25zRGV0YWNoYWJsZT1ibi5EZWZhdWx0cy5Db25uZWN0aW9uc0RldGFjaGFibGU7aWYoYjAuY29ubmVjdGlvbnNEZXRhY2hhYmxlPT09ZmFsc2V8fGIwLmRldGFjaGFibGU9PT1mYWxzZSl7Yk8uY29ubmVjdGlvbnNEZXRhY2hhYmxlPWZhbHNlfXZhciBiST1iMC5kcmFnQWxsb3dlZFdoZW5GdWxsfHx0cnVlO3RoaXMuY29tcHV0ZUFuY2hvcj1mdW5jdGlvbihiMil7cmV0dXJuIGJPLmFuY2hvci5jb21wdXRlKGIyKX07dGhpcy5hZGRDb25uZWN0aW9uPWZ1bmN0aW9uKGIyKXtiTy5jb25uZWN0aW9ucy5wdXNoKGIyKX07dGhpcy5kZXRhY2g9ZnVuY3Rpb24oYjMsYjgsYjQsY2IsYjIpe3ZhciBjYT1pKGJPLmNvbm5lY3Rpb25zLGZ1bmN0aW9uKGNkKXtyZXR1cm4gY2QuaWQ9PWIzLmlkfSksYjk9ZmFsc2U7Y2I9KGNiIT09ZmFsc2UpO2lmKGNhPj0wKXtpZihiNHx8YjMuX2ZvcmNlRGV0YWNofHxiMy5pc0RldGFjaGFibGUoKXx8YjMuaXNEZXRhY2hBbGxvd2VkKGIzKSl7dmFyIGNjPWIzLmVuZHBvaW50c1swXT09Yk8/YjMuZW5kcG9pbnRzWzFdOmIzLmVuZHBvaW50c1swXTtpZihiNHx8YjMuX2ZvcmNlRGV0YWNofHwoYk8uaXNEZXRhY2hBbGxvd2VkKGIzKSkpe2JPLmNvbm5lY3Rpb25zLnNwbGljZShjYSwxKTtpZighYjgpe2NjLmRldGFjaChiMyx0cnVlLGI0KTtpZihiMy5lbmRwb2ludHNUb0RlbGV0ZU9uRGV0YWNoKXtmb3IodmFyIGI3PTA7Yjc8YjMuZW5kcG9pbnRzVG9EZWxldGVPbkRldGFjaC5sZW5ndGg7YjcrKyl7dmFyIGI1PWIzLmVuZHBvaW50c1RvRGVsZXRlT25EZXRhY2hbYjddO2lmKGI1JiZiNS5jb25uZWN0aW9ucy5sZW5ndGg9PTApe2JuLmRlbGV0ZUVuZHBvaW50KGI1KX19fX1hWChiMy5jb25uZWN0b3IuZ2V0RGlzcGxheUVsZW1lbnRzKCksYjMucGFyZW50KTtEKGFZW2IzLnNjb3BlXSxmdW5jdGlvbihjZCl7cmV0dXJuIGNkLmlkPT1iMy5pZH0pO2I5PXRydWU7dmFyIGI2PSghYjgmJmNiKTthNyhiMyxiNixiMil9fX1yZXR1cm4gYjl9O3RoaXMuZGV0YWNoQWxsPWZ1bmN0aW9uKGIzLGIyKXt3aGlsZShiTy5jb25uZWN0aW9ucy5sZW5ndGg+MCl7Yk8uZGV0YWNoKGJPLmNvbm5lY3Rpb25zWzBdLGZhbHNlLHRydWUsYjMsYjIpfX07dGhpcy5kZXRhY2hGcm9tPWZ1bmN0aW9uKGI1LGI0LGIyKXt2YXIgYjY9W107Zm9yKHZhciBiMz0wO2IzPGJPLmNvbm5lY3Rpb25zLmxlbmd0aDtiMysrKXtpZihiTy5jb25uZWN0aW9uc1tiM10uZW5kcG9pbnRzWzFdPT1iNXx8Yk8uY29ubmVjdGlvbnNbYjNdLmVuZHBvaW50c1swXT09YjUpe2I2LnB1c2goYk8uY29ubmVjdGlvbnNbYjNdKX19Zm9yKHZhciBiMz0wO2IzPGI2Lmxlbmd0aDtiMysrKXtpZihiTy5kZXRhY2goYjZbYjNdLGZhbHNlLHRydWUsYjQsYjIpKXtiNltiM10uc2V0SG92ZXIoZmFsc2UsZmFsc2UpfX19O3RoaXMuZGV0YWNoRnJvbUNvbm5lY3Rpb249ZnVuY3Rpb24oYjMpe3ZhciBiMj1pKGJPLmNvbm5lY3Rpb25zLGZ1bmN0aW9uKGI0KXtyZXR1cm4gYjQuaWQ9PWIzLmlkfSk7aWYoYjI+PTApe2JPLmNvbm5lY3Rpb25zLnNwbGljZShiMiwxKX19O3RoaXMuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBiTn07dGhpcy5zZXRFbGVtZW50PWZ1bmN0aW9uKGI1LGIyKXt2YXIgYjc9SyhiNSk7RChhVFtiTy5lbGVtZW50SWRdLGZ1bmN0aW9uKGI4KXtyZXR1cm4gYjguaWQ9PWJPLmlkfSk7Yk49RihiNSk7YkY9SyhiTik7Yk8uZWxlbWVudElkPWJGO3ZhciBiNj1hdyh7c291cmNlOmI3LGNvbnRhaW5lcjpiMn0pLGI0PWJ6LmdldFBhcmVudChiTy5jYW52YXMpO2J6LnJlbW92ZUVsZW1lbnQoYk8uY2FudmFzLGI0KTtiei5hcHBlbmRFbGVtZW50KGJPLmNhbnZhcyxiNik7Zm9yKHZhciBiMz0wO2IzPGJPLmNvbm5lY3Rpb25zLmxlbmd0aDtiMysrKXtiTy5jb25uZWN0aW9uc1tiM10ubW92ZVBhcmVudChiNik7Yk8uY29ubmVjdGlvbnNbYjNdLnNvdXJjZUlkPWJGO2JPLmNvbm5lY3Rpb25zW2IzXS5zb3VyY2U9Yk59VihhVCxiNyxiTyl9O3RoaXMuZ2V0VXVpZD1mdW5jdGlvbigpe3JldHVybiBiSH07dGhpcy5tYWtlSW5QbGFjZUNvcHk9ZnVuY3Rpb24oKXt2YXIgYjQ9Yk8uYW5jaG9yLmdldEN1cnJlbnRMb2NhdGlvbihiTyksYjM9Yk8uYW5jaG9yLmdldE9yaWVudGF0aW9uKGJPKSxiMj17Y29tcHV0ZTpmdW5jdGlvbigpe3JldHVybltiNFswXSxiNFsxXV19LGdldEN1cnJlbnRMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybltiNFswXSxiNFsxXV19LGdldE9yaWVudGF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGIzfX07cmV0dXJuIGFGKHthbmNob3I6YjIsc291cmNlOmJOLHBhaW50U3R5bGU6dGhpcy5nZXRQYWludFN0eWxlKCksZW5kcG9pbnQ6YkwsX3RyYW5zaWVudDp0cnVlLHNjb3BlOmJPLnNjb3BlfSl9O3RoaXMuaXNDb25uZWN0ZWRUbz1mdW5jdGlvbihiNCl7dmFyIGIzPWZhbHNlO2lmKGI0KXtmb3IodmFyIGIyPTA7YjI8Yk8uY29ubmVjdGlvbnMubGVuZ3RoO2IyKyspe2lmKGJPLmNvbm5lY3Rpb25zW2IyXS5lbmRwb2ludHNbMV09PWI0KXtiMz10cnVlO2JyZWFrfX19cmV0dXJuIGIzfTt0aGlzLmlzRmxvYXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYlkhPW51bGx9O3RoaXMuY29ubmVjdG9yU2VsZWN0b3I9ZnVuY3Rpb24oKXt2YXIgYjI9Yk8uY29ubmVjdGlvbnNbMF07aWYoYk8uaXNUYXJnZXQmJmIyKXtyZXR1cm4gYjJ9ZWxzZXtyZXR1cm4oYk8uY29ubmVjdGlvbnMubGVuZ3RoPGJVKXx8YlU9PS0xP251bGw6YjJ9fTt0aGlzLmlzRnVsbD1mdW5jdGlvbigpe3JldHVybiAhKGJPLmlzRmxvYXRpbmcoKXx8YlU8MXx8Yk8uY29ubmVjdGlvbnMubGVuZ3RoPGJVKX07dGhpcy5zZXREcmFnQWxsb3dlZFdoZW5GdWxsPWZ1bmN0aW9uKGIyKXtiST1iMn07dGhpcy5zZXRTdHlsZT1iTy5zZXRQYWludFN0eWxlO3RoaXMuZXF1YWxzPWZ1bmN0aW9uKGIyKXtyZXR1cm4gdGhpcy5hbmNob3IuZXF1YWxzKGIyLmFuY2hvcil9O3ZhciBiSz1mdW5jdGlvbihiMyl7dmFyIGIyPTA7aWYoYjMhPW51bGwpe2Zvcih2YXIgYjQ9MDtiNDxiTy5jb25uZWN0aW9ucy5sZW5ndGg7YjQrKyl7aWYoYk8uY29ubmVjdGlvbnNbYjRdLnNvdXJjZUlkPT1iM3x8Yk8uY29ubmVjdGlvbnNbYjRdLnRhcmdldElkPT1iMyl7YjI9YjQ7YnJlYWt9fX1yZXR1cm4gYk8uY29ubmVjdGlvbnNbYjJdfTt0aGlzLnBhaW50PWZ1bmN0aW9uKGI1KXtiNT1iNXx8e307dmFyIGNiPWI1LnRpbWVzdGFtcCxjYT0hKGI1LnJlY2FsYz09PWZhbHNlKTtpZighY2J8fGJPLnRpbWVzdGFtcCE9PWNiKXtXKHtlbElkOmJGLHRpbWVzdGFtcDpjYixyZWNhbGM6Y2F9KTt2YXIgY2g9YjUub2Zmc2V0fHxhaFtiRl07aWYoY2gpe3ZhciBiOD1iNS5hbmNob3JQb2ludCxiNj1iNS5jb25uZWN0b3JQYWludFN0eWxlO2lmKGI4PT1udWxsKXt2YXIgYjI9YjUuZGltZW5zaW9uc3x8YWVbYkZdO2lmKGNoPT1udWxsfHxiMj09bnVsbCl7Vyh7ZWxJZDpiRix0aW1lc3RhbXA6Y2J9KTtjaD1haFtiRl07YjI9YWVbYkZdfXZhciBiND17eHk6W2NoLmxlZnQsY2gudG9wXSx3aDpiMixlbGVtZW50OmJPLHRpbWVzdGFtcDpjYn07aWYoY2EmJmJPLmFuY2hvci5pc0R5bmFtaWMmJmJPLmNvbm5lY3Rpb25zLmxlbmd0aD4wKXt2YXIgY2U9YksoYjUuZWxlbWVudFdpdGhQcmVjZWRlbmNlKSxjZz1jZS5lbmRwb2ludHNbMF09PWJPPzE6MCxiNz1jZz09MD9jZS5zb3VyY2VJZDpjZS50YXJnZXRJZCxjZD1haFtiN10sY2Y9YWVbYjddO2I0LnR4eT1bY2QubGVmdCxjZC50b3BdO2I0LnR3aD1jZjtiNC50RWxlbWVudD1jZS5lbmRwb2ludHNbY2ddfWI4PWJPLmFuY2hvci5jb21wdXRlKGI0KX12YXIgY2M9YkwuY29tcHV0ZShiOCxiTy5hbmNob3IuZ2V0T3JpZW50YXRpb24oYk8pLGJPLnBhaW50U3R5bGVJblVzZSxiNnx8Yk8ucGFpbnRTdHlsZUluVXNlKTtiTC5wYWludChjYyxiTy5wYWludFN0eWxlSW5Vc2UsYk8uYW5jaG9yKTtiTy50aW1lc3RhbXA9Y2I7Zm9yKHZhciBiOT0wO2I5PGJPLm92ZXJsYXlzLmxlbmd0aDtiOSsrKXt2YXIgYjM9Yk8ub3ZlcmxheXNbYjldO2lmKGIzLmlzVmlzaWJsZSl7Yk8ub3ZlcmxheVBsYWNlbWVudHNbYjldPWIzLmRyYXcoYk8uZW5kcG9pbnQsYk8ucGFpbnRTdHlsZUluVXNlLGNjKX19fX19O3RoaXMucmVwYWludD10aGlzLnBhaW50O3RoaXMucmVtb3ZlQ29ubmVjdGlvbj10aGlzLmRldGFjaDtpZihwLkN1cnJlbnRMaWJyYXJ5LmlzRHJhZ1N1cHBvcnRlZChiTikpe3ZhciBiVD17aWQ6bnVsbCxlbGVtZW50Om51bGx9LGJTPW51bGwsYnc9ZmFsc2UsYkI9bnVsbCxidj1iYyhiVCk7dmFyIGJEPWZ1bmN0aW9uKCl7YlM9Yk8uY29ubmVjdG9yU2VsZWN0b3IoKTt2YXIgYjI9dHJ1ZTtpZighYk8uaXNFbmFibGVkKCkpe2IyPWZhbHNlfWlmKGJTPT1udWxsJiYhYjAuaXNTb3VyY2Upe2IyPWZhbHNlfWlmKGIwLmlzU291cmNlJiZiTy5pc0Z1bGwoKSYmIWJJKXtiMj1mYWxzZX1pZihiUyE9bnVsbCYmIWJTLmlzRGV0YWNoYWJsZSgpKXtiMj1mYWxzZX1pZihiMj09PWZhbHNlKXtpZihwLkN1cnJlbnRMaWJyYXJ5LnN0b3BEcmFnKXtwLkN1cnJlbnRMaWJyYXJ5LnN0b3BEcmFnKCl9YnYuc3RvcERyYWcoKTtyZXR1cm4gZmFsc2V9aWYoYlMmJiFiTy5pc0Z1bGwoKSYmYjAuaXNTb3VyY2Upe2JTPW51bGx9Vyh7ZWxJZDpiRn0pO2JDPWJPLm1ha2VJblBsYWNlQ29weSgpO2JDLnBhaW50KCk7UihiVCxiTy5wYXJlbnQpO3ZhciBiOD1GKGJDLmNhbnZhcyksYjY9cC5DdXJyZW50TGlicmFyeS5nZXRPZmZzZXQoYjgpLGIzPWJvKFtiNi5sZWZ0LGI2LnRvcF0sYkMuY2FudmFzKTtwLkN1cnJlbnRMaWJyYXJ5LnNldE9mZnNldChiVC5lbGVtZW50LHtsZWZ0OmIzWzBdLHRvcDpiM1sxXX0pO2lmKGJPLnBhcmVudEFuY2hvcil7Yk8uYW5jaG9yPWJuLm1ha2VBbmNob3IoYk8ucGFyZW50QW5jaG9yLGJPLmVsZW1lbnRJZCxibil9ZihGKGJPLmNhbnZhcyksXCJkcmFnSWRcIixiVC5pZCk7ZihGKGJPLmNhbnZhcyksXCJlbElkXCIsYkYpO2lmKGIwLnByb3h5KXtiTy5zZXRQYWludFN0eWxlKGIwLnByb3h5LnBhaW50U3R5bGUpfWJZPWF0KGJPLmdldFBhaW50U3R5bGUoKSxiTy5hbmNob3IsYkwsYk8uY2FudmFzLGJULmVsZW1lbnQpO2lmKGJTPT1udWxsKXtiTy5hbmNob3IubG9ja2VkPXRydWU7Yk8uc2V0SG92ZXIoZmFsc2UsZmFsc2UpO2JTPWFkKHtzb3VyY2VFbmRwb2ludDpiTyx0YXJnZXRFbmRwb2ludDpiWSxzb3VyY2U6Yk8uZW5kcG9pbnRXaWxsTW92ZVRvfHxGKGJOKSx0YXJnZXQ6YlQuZWxlbWVudCxhbmNob3JzOltiTy5hbmNob3IsYlkuYW5jaG9yXSxwYWludFN0eWxlOmIwLmNvbm5lY3RvclN0eWxlLGhvdmVyUGFpbnRTdHlsZTpiMC5jb25uZWN0b3JIb3ZlclN0eWxlLGNvbm5lY3RvcjpiMC5jb25uZWN0b3Isb3ZlcmxheXM6YjAuY29ubmVjdG9yT3ZlcmxheXN9KX1lbHNle2J3PXRydWU7YlMuY29ubmVjdG9yLnNldEhvdmVyKGZhbHNlLGZhbHNlKTtiRShGKGJDLmNhbnZhcyksZmFsc2UsdHJ1ZSk7dmFyIGI1PWJTLmVuZHBvaW50c1swXS5pZD09Yk8uaWQ/MDoxO2JTLmZsb2F0aW5nQW5jaG9ySW5kZXg9YjU7Yk8uZGV0YWNoRnJvbUNvbm5lY3Rpb24oYlMpO3ZhciBiOT1GKGJPLmNhbnZhcyksYjc9cC5DdXJyZW50TGlicmFyeS5nZXREcmFnU2NvcGUoYjkpO2YoYjksXCJvcmlnaW5hbFNjb3BlXCIsYjcpO3ZhciBiND1wLkN1cnJlbnRMaWJyYXJ5LmdldERyb3BTY29wZShiOSk7cC5DdXJyZW50TGlicmFyeS5zZXREcmFnU2NvcGUoYjksYjQpO2lmKGI1PT0wKXtiQj1bYlMuc291cmNlLGJTLnNvdXJjZUlkLGJXLGI3XTtiUy5zb3VyY2U9YlQuZWxlbWVudDtiUy5zb3VyY2VJZD1iVC5pZH1lbHNle2JCPVtiUy50YXJnZXQsYlMudGFyZ2V0SWQsYlcsYjddO2JTLnRhcmdldD1iVC5lbGVtZW50O2JTLnRhcmdldElkPWJULmlkfWJTLmVuZHBvaW50c1tiNT09MD8xOjBdLmFuY2hvci5sb2NrZWQ9dHJ1ZTtiUy5zdXNwZW5kZWRFbmRwb2ludD1iUy5lbmRwb2ludHNbYjVdO2JTLnN1c3BlbmRlZEVuZHBvaW50LnNldEhvdmVyKGZhbHNlKTtiUy5lbmRwb2ludHNbYjVdPWJZO2E0KGJTKX1iZltiVC5pZF09YlM7YlkuYWRkQ29ubmVjdGlvbihiUyk7VihhVCxiVC5pZCxiWSk7Ym4uY3VycmVudGx5RHJhZ2dpbmc9dHJ1ZX07dmFyIGJ6PXAuQ3VycmVudExpYnJhcnksYlY9YjAuZHJhZ09wdGlvbnN8fHt9LGJQPXAuZXh0ZW5kKHt9LGJ6LmRlZmF1bHREcmFnT3B0aW9ucyksYlI9YnouZHJhZ0V2ZW50cy5zdGFydCxiWj1iei5kcmFnRXZlbnRzLnN0b3AsYkc9YnouZHJhZ0V2ZW50cy5kcmFnO2JWPXAuZXh0ZW5kKGJQLGJWKTtiVi5zY29wZT1iVi5zY29wZXx8Yk8uc2NvcGU7YlZbYlJdPWFtKGJWW2JSXSxiRCk7YlZbYkddPWFtKGJWW2JHXSxidi5kcmFnKTtiVltiWl09YW0oYlZbYlpdLGZ1bmN0aW9uKCl7dmFyIGIzPWJ6LmdldERyb3BFdmVudChhcmd1bWVudHMpO2JuLmN1cnJlbnRseURyYWdnaW5nPWZhbHNlO0QoYVRbYlQuaWRdLGZ1bmN0aW9uKGI0KXtyZXR1cm4gYjQuaWQ9PWJZLmlkfSk7YVgoW2JULmVsZW1lbnRbMF0sYlkuY2FudmFzXSxiTik7YXUoYkMuY2FudmFzLGJOKTtibi5hbmNob3JNYW5hZ2VyLmNsZWFyRm9yKGJULmlkKTt2YXIgYjI9YlMuZmxvYXRpbmdBbmNob3JJbmRleD09bnVsbD8xOmJTLmZsb2F0aW5nQW5jaG9ySW5kZXg7YlMuZW5kcG9pbnRzW2IyPT0wPzE6MF0uYW5jaG9yLmxvY2tlZD1mYWxzZTtiTy5zZXRQYWludFN0eWxlKGJKKTtpZihiUy5lbmRwb2ludHNbYjJdPT1iWSl7aWYoYncmJmJTLnN1c3BlbmRlZEVuZHBvaW50KXtpZihiMj09MCl7YlMuc291cmNlPWJCWzBdO2JTLnNvdXJjZUlkPWJCWzFdfWVsc2V7YlMudGFyZ2V0PWJCWzBdO2JTLnRhcmdldElkPWJCWzFdfXAuQ3VycmVudExpYnJhcnkuc2V0RHJhZ1Njb3BlKGJCWzJdLGJCWzNdKTtiUy5lbmRwb2ludHNbYjJdPWJTLnN1c3BlbmRlZEVuZHBvaW50O2lmKGJPLmlzUmVhdHRhY2h8fGJTLl9mb3JjZURldGFjaHx8IWJTLmVuZHBvaW50c1tiMj09MD8xOjBdLmRldGFjaChiUyxmYWxzZSxmYWxzZSx0cnVlLGIzKSl7YlMuc2V0SG92ZXIoZmFsc2UpO2JTLmZsb2F0aW5nQW5jaG9ySW5kZXg9bnVsbDtiUy5zdXNwZW5kZWRFbmRwb2ludC5hZGRDb25uZWN0aW9uKGJTKTtibi5yZXBhaW50KGJCWzFdKX1iUy5fZm9yY2VEZXRhY2g9bnVsbH1lbHNle2FYKGJTLmNvbm5lY3Rvci5nZXREaXNwbGF5RWxlbWVudHMoKSxiTy5wYXJlbnQpO2JPLmRldGFjaEZyb21Db25uZWN0aW9uKGJTKX19Yk8uYW5jaG9yLmxvY2tlZD1mYWxzZTtiTy5wYWludCh7cmVjYWxjOmZhbHNlfSk7YlMuc2V0SG92ZXIoZmFsc2UsZmFsc2UpO2FSKGJTKTtiUz1udWxsO2JDPW51bGw7ZGVsZXRlIGFUW2JZLmVsZW1lbnRJZF07YlkuYW5jaG9yPW51bGw7Ylk9bnVsbDtibi5jdXJyZW50bHlEcmFnZ2luZz1mYWxzZX0pO3ZhciBiVz1GKGJPLmNhbnZhcyk7cC5DdXJyZW50TGlicmFyeS5pbml0RHJhZ2dhYmxlKGJXLGJWLHRydWUpfXZhciBiRT1mdW5jdGlvbihiNCxiOSxiNyxjYSl7aWYoKGIwLmlzVGFyZ2V0fHxiOSkmJnAuQ3VycmVudExpYnJhcnkuaXNEcm9wU3VwcG9ydGVkKGJOKSl7dmFyIGI1PWIwLmRyb3BPcHRpb25zfHxibi5EZWZhdWx0cy5Ecm9wT3B0aW9uc3x8cC5EZWZhdWx0cy5Ecm9wT3B0aW9ucztiNT1wLmV4dGVuZCh7fSxiNSk7YjUuc2NvcGU9YjUuc2NvcGV8fGJPLnNjb3BlO3ZhciBiMz1wLkN1cnJlbnRMaWJyYXJ5LmRyYWdFdmVudHMuZHJvcCxiOD1wLkN1cnJlbnRMaWJyYXJ5LmRyYWdFdmVudHMub3ZlcixiMj1wLkN1cnJlbnRMaWJyYXJ5LmRyYWdFdmVudHMub3V0LGI2PWZ1bmN0aW9uKCl7dmFyIGNiPXAuQ3VycmVudExpYnJhcnkuZ2V0RHJvcEV2ZW50KGFyZ3VtZW50cyksY289RihwLkN1cnJlbnRMaWJyYXJ5LmdldERyYWdPYmplY3QoYXJndW1lbnRzKSksY2M9ZChjbyxcImRyYWdJZFwiKSxjZj1kKGNvLFwiZWxJZFwiKSxjbj1kKGNvLFwib3JpZ2luYWxTY29wZVwiKSxjaT1iZltjY107aWYoY2khPW51bGwpe3ZhciBjaz1jaS5mbG9hdGluZ0FuY2hvckluZGV4PT1udWxsPzE6Y2kuZmxvYXRpbmdBbmNob3JJbmRleCxjbD1jaz09MD8xOjA7aWYoY24pe3AuQ3VycmVudExpYnJhcnkuc2V0RHJhZ1Njb3BlKGNvLGNuKX12YXIgY209Y2EhPW51bGw/Y2EuaXNFbmFibGVkKCk6dHJ1ZTtpZighYk8uaXNGdWxsKCkmJiEoY2s9PTAmJiFiTy5pc1NvdXJjZSkmJiEoY2s9PTEmJiFiTy5pc1RhcmdldCkmJmNtKXt2YXIgY2c9dHJ1ZTtpZihjaS5zdXNwZW5kZWRFbmRwb2ludCYmY2kuc3VzcGVuZGVkRW5kcG9pbnQuaWQhPWJPLmlkKXtpZihjaz09MCl7Y2kuc291cmNlPWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnQ7Y2kuc291cmNlSWQ9Y2kuc3VzcGVuZGVkRW5kcG9pbnQuZWxlbWVudElkfWVsc2V7Y2kudGFyZ2V0PWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnQ7Y2kudGFyZ2V0SWQ9Y2kuc3VzcGVuZGVkRW5kcG9pbnQuZWxlbWVudElkfWlmKCFjaS5pc0RldGFjaEFsbG93ZWQoY2kpfHwhY2kuZW5kcG9pbnRzW2NrXS5pc0RldGFjaEFsbG93ZWQoY2kpfHwhY2kuc3VzcGVuZGVkRW5kcG9pbnQuaXNEZXRhY2hBbGxvd2VkKGNpKXx8IWJuLmNoZWNrQ29uZGl0aW9uKFwiYmVmb3JlRGV0YWNoXCIsY2kpKXtjZz1mYWxzZX19aWYoY2s9PTApe2NpLnNvdXJjZT1iTy5lbGVtZW50O2NpLnNvdXJjZUlkPWJPLmVsZW1lbnRJZH1lbHNle2NpLnRhcmdldD1iTy5lbGVtZW50O2NpLnRhcmdldElkPWJPLmVsZW1lbnRJZH1jZz1jZyYmYk8uaXNEcm9wQWxsb3dlZChjaS5zb3VyY2VJZCxjaS50YXJnZXRJZCxjaS5zY29wZSxjaSxiTyk7aWYoY2cpe2NpLmVuZHBvaW50c1tja10uZGV0YWNoRnJvbUNvbm5lY3Rpb24oY2kpO2lmKGNpLnN1c3BlbmRlZEVuZHBvaW50KXtjaS5zdXNwZW5kZWRFbmRwb2ludC5kZXRhY2hGcm9tQ29ubmVjdGlvbihjaSl9Y2kuZW5kcG9pbnRzW2NrXT1iTztiTy5hZGRDb25uZWN0aW9uKGNpKTt2YXIgY2U9Yk8uZ2V0UGFyYW1ldGVycygpO2Zvcih2YXIgY2ogaW4gY2Upe2NpLnNldFBhcmFtZXRlcihjaixjZVtjal0pfWlmKCFjaS5zdXNwZW5kZWRFbmRwb2ludCl7aWYoY2UuZHJhZ2dhYmxlKXtwLkN1cnJlbnRMaWJyYXJ5LmluaXREcmFnZ2FibGUoYk8uZWxlbWVudCxiVix0cnVlKX19ZWxzZXt2YXIgY2g9Y2kuc3VzcGVuZGVkRW5kcG9pbnQuZ2V0RWxlbWVudCgpLGNkPWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnRJZDthNyh7c291cmNlOmNrPT0wP2NoOmNpLnNvdXJjZSx0YXJnZXQ6Y2s9PTE/Y2g6Y2kudGFyZ2V0LHNvdXJjZUlkOmNrPT0wP2NkOmNpLnNvdXJjZUlkLHRhcmdldElkOmNrPT0xP2NkOmNpLnRhcmdldElkLHNvdXJjZUVuZHBvaW50OmNrPT0wP2NpLnN1c3BlbmRlZEVuZHBvaW50OmNpLmVuZHBvaW50c1swXSx0YXJnZXRFbmRwb2ludDpjaz09MT9jaS5zdXNwZW5kZWRFbmRwb2ludDpjaS5lbmRwb2ludHNbMV0sY29ubmVjdGlvbjpjaX0sdHJ1ZSxjYil9YnQoY2ksbnVsbCxjYil9ZWxzZXtpZihjaS5zdXNwZW5kZWRFbmRwb2ludCl7Y2kuZW5kcG9pbnRzW2NrXT1jaS5zdXNwZW5kZWRFbmRwb2ludDtjaS5zZXRIb3ZlcihmYWxzZSk7Y2kuX2ZvcmNlRGV0YWNoPXRydWU7aWYoY2s9PTApe2NpLnNvdXJjZT1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50O2NpLnNvdXJjZUlkPWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnRJZH1lbHNle2NpLnRhcmdldD1jaS5zdXNwZW5kZWRFbmRwb2ludC5lbGVtZW50O2NpLnRhcmdldElkPWNpLnN1c3BlbmRlZEVuZHBvaW50LmVsZW1lbnRJZH1jaS5zdXNwZW5kZWRFbmRwb2ludC5hZGRDb25uZWN0aW9uKGNpKTtjaS5lbmRwb2ludHNbMF0ucmVwYWludCgpO2NpLnJlcGFpbnQoKTtibi5yZXBhaW50KGNpLnNvdXJjZS5lbGVtZW50SWQpO2NpLl9mb3JjZURldGFjaD1mYWxzZX19Y2kuZmxvYXRpbmdBbmNob3JJbmRleD1udWxsfWJuLmN1cnJlbnRseURyYWdnaW5nPWZhbHNlO2RlbGV0ZSBiZltjY119fTtiNVtiM109YW0oYjVbYjNdLGI2KTtiNVtiOF09YW0oYjVbYjhdLGZ1bmN0aW9uKCl7aWYoYk8uaXNUYXJnZXQpe3ZhciBjYz1wLkN1cnJlbnRMaWJyYXJ5LmdldERyYWdPYmplY3QoYXJndW1lbnRzKSxjZT1kKEYoY2MpLFwiZHJhZ0lkXCIpLGNkPWJmW2NlXTtpZihjZCE9bnVsbCl7dmFyIGNiPWNkLmZsb2F0aW5nQW5jaG9ySW5kZXg9PW51bGw/MTpjZC5mbG9hdGluZ0FuY2hvckluZGV4O2NkLmVuZHBvaW50c1tjYl0uYW5jaG9yLm92ZXIoYk8uYW5jaG9yKX19fSk7YjVbYjJdPWFtKGI1W2IyXSxmdW5jdGlvbigpe2lmKGJPLmlzVGFyZ2V0KXt2YXIgY2M9cC5DdXJyZW50TGlicmFyeS5nZXREcmFnT2JqZWN0KGFyZ3VtZW50cyksY2U9ZChGKGNjKSxcImRyYWdJZFwiKSxjZD1iZltjZV07aWYoY2QhPW51bGwpe3ZhciBjYj1jZC5mbG9hdGluZ0FuY2hvckluZGV4PT1udWxsPzE6Y2QuZmxvYXRpbmdBbmNob3JJbmRleDtjZC5lbmRwb2ludHNbY2JdLmFuY2hvci5vdXQoKX19fSk7cC5DdXJyZW50TGlicmFyeS5pbml0RHJvcHBhYmxlKGI0LGI1LHRydWUsYjcpfX07YkUoRihiTy5jYW52YXMpLHRydWUsIShiMC5fdHJhbnNpZW50fHxiTy5hbmNob3IuaXNGbG9hdGluZyksYk8pO3JldHVybiBiT319O3ZhciBwPXdpbmRvdy5qc1BsdW1iPW5ldyB5KCk7cC5nZXRJbnN0YW5jZT1mdW5jdGlvbihMKXt2YXIgSz1uZXcgeShMKTtLLmluaXQoKTtyZXR1cm4gS307dmFyIHM9ZnVuY3Rpb24oSyxQLE0sTCxPLE4pe3JldHVybiBmdW5jdGlvbihSKXtSPVJ8fHt9O3ZhciBRPVIuanNQbHVtYkluc3RhbmNlLm1ha2VBbmNob3IoW0ssUCxNLEwsMCwwXSxSLmVsZW1lbnRJZCxSLmpzUGx1bWJJbnN0YW5jZSk7US50eXBlPU87aWYoTil7TihRLFIpfXJldHVybiBRfX07cC5BbmNob3JzLlRvcENlbnRlcj1zKDAuNSwwLDAsLTEsXCJUb3BDZW50ZXJcIik7cC5BbmNob3JzLkJvdHRvbUNlbnRlcj1zKDAuNSwxLDAsMSxcIkJvdHRvbUNlbnRlclwiKTtwLkFuY2hvcnMuTGVmdE1pZGRsZT1zKDAsMC41LC0xLDAsXCJMZWZ0TWlkZGxlXCIpO3AuQW5jaG9ycy5SaWdodE1pZGRsZT1zKDEsMC41LDEsMCxcIlJpZ2h0TWlkZGxlXCIpO3AuQW5jaG9ycy5DZW50ZXI9cygwLjUsMC41LDAsMCxcIkNlbnRlclwiKTtwLkFuY2hvcnMuVG9wUmlnaHQ9cygxLDAsMCwtMSxcIlRvcFJpZ2h0XCIpO3AuQW5jaG9ycy5Cb3R0b21SaWdodD1zKDEsMSwwLDEsXCJCb3R0b21SaWdodFwiKTtwLkFuY2hvcnMuVG9wTGVmdD1zKDAsMCwwLC0xLFwiVG9wTGVmdFwiKTtwLkFuY2hvcnMuQm90dG9tTGVmdD1zKDAsMSwwLDEsXCJCb3R0b21MZWZ0XCIpO3AuRGVmYXVsdHMuRHluYW1pY0FuY2hvcnM9ZnVuY3Rpb24oSyl7cmV0dXJuIEsuanNQbHVtYkluc3RhbmNlLm1ha2VBbmNob3JzKFtcIlRvcENlbnRlclwiLFwiUmlnaHRNaWRkbGVcIixcIkJvdHRvbUNlbnRlclwiLFwiTGVmdE1pZGRsZVwiXSxLLmVsZW1lbnRJZCxLLmpzUGx1bWJJbnN0YW5jZSl9O3AuQW5jaG9ycy5BdXRvRGVmYXVsdD1mdW5jdGlvbihMKXt2YXIgSz1MLmpzUGx1bWJJbnN0YW5jZS5tYWtlRHluYW1pY0FuY2hvcihwLkRlZmF1bHRzLkR5bmFtaWNBbmNob3JzKEwpKTtLLnR5cGU9XCJBdXRvRGVmYXVsdFwiO3JldHVybiBLfTtwLkFuY2hvcnMuQXNzaWduPXMoMCwwLDAsMCxcIkFzc2lnblwiLGZ1bmN0aW9uKEwsTSl7dmFyIEs9TS5wb3NpdGlvbnx8XCJGaXhlZFwiO0wucG9zaXRpb25GaW5kZXI9Sy5jb25zdHJ1Y3Rvcj09U3RyaW5nP00uanNQbHVtYkluc3RhbmNlLkFuY2hvclBvc2l0aW9uRmluZGVyc1tLXTpLO0wuY29uc3RydWN0b3JQYXJhbXM9TX0pO3AuQW5jaG9ycy5Db250aW51b3VzPWZ1bmN0aW9uKEspe3JldHVybiBLLmpzUGx1bWJJbnN0YW5jZS5jb250aW51b3VzQW5jaG9yRmFjdG9yeS5nZXQoSyl9O3AuQW5jaG9yUG9zaXRpb25GaW5kZXJzPXtGaXhlZDpmdW5jdGlvbihOLEssTSxMKXtyZXR1cm5bKE4ubGVmdC1LLmxlZnQpL01bMF0sKE4udG9wLUsudG9wKS9NWzFdXX0sR3JpZDpmdW5jdGlvbihLLFQsTyxMKXt2YXIgUz1LLmxlZnQtVC5sZWZ0LFI9Sy50b3AtVC50b3AsUT1PWzBdLyhMLmdyaWRbMF0pLFA9T1sxXS8oTC5ncmlkWzFdKSxOPU1hdGguZmxvb3IoUy9RKSxNPU1hdGguZmxvb3IoUi9QKTtyZXR1cm5bKChOKlEpKyhRLzIpKS9PWzBdLCgoTSpQKSsoUC8yKSkvT1sxXV19fX0pKCk7KGZ1bmN0aW9uKCl7anNQbHVtYi5ET01FbGVtZW50Q29tcG9uZW50PWZ1bmN0aW9uKGMpe2pzUGx1bWIuanNQbHVtYlVJQ29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1vdXNlbW92ZT10aGlzLmRibGNsaWNrPXRoaXMuY2xpY2s9dGhpcy5tb3VzZWRvd249dGhpcy5tb3VzZXVwPWZ1bmN0aW9uKGQpe319O2pzUGx1bWIuQ29ubmVjdG9ycy5TdHJhaWdodD1mdW5jdGlvbigpe3RoaXMudHlwZT1cIlN0cmFpZ2h0XCI7dmFyIHI9dGhpcyxpPW51bGwsZSxrLHAsbixsLGYscSxoLGcsZCxjLG8sbTt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oQSxKLHMseixGLHQsRCx2KXt2YXIgST1NYXRoLmFicyhBWzBdLUpbMF0pLEM9TWF0aC5hYnMoQVsxXS1KWzFdKSxCPTAuNDUqSSx1PTAuNDUqQztJKj0xLjk7Qyo9MS45O3ZhciBHPU1hdGgubWluKEFbMF0sSlswXSktQjt2YXIgRT1NYXRoLm1pbihBWzFdLEpbMV0pLXU7dmFyIEg9TWF0aC5tYXgoMipELHYpO2lmKEk8SCl7ST1IO0c9QVswXSsoKEpbMF0tQVswXSkvMiktKEgvMik7Qj0oSS1NYXRoLmFicyhBWzBdLUpbMF0pKS8yfWlmKEM8SCl7Qz1IO0U9QVsxXSsoKEpbMV0tQVsxXSkvMiktKEgvMik7dT0oQy1NYXRoLmFicyhBWzFdLUpbMV0pKS8yfWg9QVswXTxKWzBdP0I6SS1CO2c9QVsxXTxKWzFdP3U6Qy11O2Q9QVswXTxKWzBdP0ktQjpCO2M9QVsxXTxKWzFdP0MtdTp1O2k9W0csRSxJLEMsaCxnLGQsY107bj1kLWgsbD1jLWc7ZT1qc1BsdW1iVXRpbC5ncmFkaWVudCh7eDpoLHk6Z30se3g6ZCx5OmN9KSxrPS0xL2U7cD0tMSooKGUqaCktZyk7Zj1NYXRoLmF0YW4oZSk7cT1NYXRoLmF0YW4oayk7bT1NYXRoLnNxcnQoKG4qbikrKGwqbCkpO3JldHVybiBpfTt0aGlzLnBvaW50T25QYXRoPWZ1bmN0aW9uKHQsdSl7aWYodD09MCYmIXUpe3JldHVybnt4OmgseTpnfX1lbHNle2lmKHQ9PTEmJiF1KXtyZXR1cm57eDpkLHk6Y319ZWxzZXt2YXIgcz11P3Q+MD90Om0rdDp0Km07cmV0dXJuIGpzUGx1bWJVdGlsLnBvaW50T25MaW5lKHt4OmgseTpnfSx7eDpkLHk6Y30scyl9fX07dGhpcy5ncmFkaWVudEF0UG9pbnQ9ZnVuY3Rpb24ocyl7cmV0dXJuIGV9O3RoaXMucG9pbnRBbG9uZ1BhdGhGcm9tPWZ1bmN0aW9uKHMsdyx2KXt2YXIgdT1yLnBvaW50T25QYXRoKHMsdiksdD1zPT0xP3t4OmgrKChkLWgpKjEwKSx5OmcrKChnLWMpKjEwKX06e3g6ZCx5OmN9O3JldHVybiBqc1BsdW1iVXRpbC5wb2ludE9uTGluZSh1LHQsdyl9fTtqc1BsdW1iLkNvbm5lY3RvcnMuQmV6aWVyPWZ1bmN0aW9uKHYpe3ZhciBwPXRoaXM7dj12fHx7fTt0aGlzLm1ham9yQW5jaG9yPXYuY3VydmluZXNzfHwxNTA7dGhpcy5taW5vckFuY2hvcj0xMDt2YXIgdD1udWxsO3RoaXMudHlwZT1cIkJlemllclwiO3RoaXMuX2ZpbmRDb250cm9sUG9pbnQ9ZnVuY3Rpb24oSCx3LEMseCxBLEYseSl7dmFyIEU9Ri5nZXRPcmllbnRhdGlvbih4KSxHPXkuZ2V0T3JpZW50YXRpb24oQSksQj1FWzBdIT1HWzBdfHxFWzFdPT1HWzFdLHo9W10sST1wLm1ham9yQW5jaG9yLEQ9cC5taW5vckFuY2hvcjtpZighQil7aWYoRVswXT09MCl7ei5wdXNoKHdbMF08Q1swXT9IWzBdK0Q6SFswXS1EKX1lbHNle3oucHVzaChIWzBdLShJKkVbMF0pKX1pZihFWzFdPT0wKXt6LnB1c2god1sxXTxDWzFdP0hbMV0rRDpIWzFdLUQpfWVsc2V7ei5wdXNoKEhbMV0rKEkqR1sxXSkpfX1lbHNle2lmKEdbMF09PTApe3oucHVzaChDWzBdPHdbMF0/SFswXStEOkhbMF0tRCl9ZWxzZXt6LnB1c2goSFswXSsoSSpHWzBdKSl9aWYoR1sxXT09MCl7ei5wdXNoKENbMV08d1sxXT9IWzFdK0Q6SFsxXS1EKX1lbHNle3oucHVzaChIWzFdKyhJKkVbMV0pKX19cmV0dXJuIHp9O3ZhciBxLGwsZixvLG4sZixlLHMscix1LGQsaCxnLGssaTt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oUyx6LE0sQSxRLHgsdyxMKXt3PXd8fDA7dT1NYXRoLmFicyhTWzBdLXpbMF0pK3c7ZD1NYXRoLmFicyhTWzFdLXpbMV0pK3c7cz1NYXRoLm1pbihTWzBdLHpbMF0pLSh3LzIpO3I9TWF0aC5taW4oU1sxXSx6WzFdKS0ody8yKTtmPVNbMF08elswXT91LSh3LzIpOih3LzIpO2U9U1sxXTx6WzFdP2QtKHcvMik6KHcvMik7bz1TWzBdPHpbMF0/KHcvMik6dS0ody8yKTtuPVNbMV08elsxXT8ody8yKTpkLSh3LzIpO3E9cC5fZmluZENvbnRyb2xQb2ludChbZixlXSxTLHosTSxBLFEseCk7bD1wLl9maW5kQ29udHJvbFBvaW50KFtvLG5dLHosUyxBLE0seCxRKTt2YXIgSz1NYXRoLm1pbihmLG8pLEo9TWF0aC5taW4ocVswXSxsWzBdKSxGPU1hdGgubWluKEssSiksUj1NYXRoLm1heChmLG8pLE89TWF0aC5tYXgocVswXSxsWzBdKSxDPU1hdGgubWF4KFIsTyk7aWYoQz51KXt1PUN9aWYoRjwwKXtzKz1GO3ZhciBIPU1hdGguYWJzKEYpO3UrPUg7cVswXSs9SDtmKz1IO28rPUg7bFswXSs9SH12YXIgUD1NYXRoLm1pbihlLG4pLE49TWF0aC5taW4ocVsxXSxsWzFdKSxCPU1hdGgubWluKFAsTiksRz1NYXRoLm1heChlLG4pLEU9TWF0aC5tYXgocVsxXSxsWzFdKSx5PU1hdGgubWF4KEcsRSk7aWYoeT5kKXtkPXl9aWYoQjwwKXtyKz1CO3ZhciBEPU1hdGguYWJzKEIpO2QrPUQ7cVsxXSs9RDtlKz1EO24rPUQ7bFsxXSs9RH1pZihMJiZ1PEwpe3ZhciBJPShMLXUpLzI7dT1MO3MtPUk7Zj1mK0k7bz1vK0k7cVswXT1xWzBdK0k7bFswXT1sWzBdK0l9aWYoTCYmZDxMKXt2YXIgST0oTC1kKS8yO2Q9TDtyLT1JO2U9ZStJO249bitJO3FbMV09cVsxXStJO2xbMV09bFsxXStJfXQ9W3Mscix1LGQsZixlLG8sbixxWzBdLHFbMV0sbFswXSxsWzFdXTtyZXR1cm4gdH07dmFyIGM9ZnVuY3Rpb24oKXtyZXR1cm5be3g6Zix5OmV9LHt4OnFbMF0seTpxWzFdfSx7eDpsWzBdLHk6bFsxXX0se3g6byx5Om59XX07dmFyIG09ZnVuY3Rpb24oeCx3LHkpe2lmKHkpe3c9anNCZXppZXIubG9jYXRpb25BbG9uZ0N1cnZlRnJvbSh4LHc+MD8wOjEsdyl9cmV0dXJuIHd9O3RoaXMucG9pbnRPblBhdGg9ZnVuY3Rpb24odyx5KXt2YXIgeD1jKCk7dz1tKHgsdyx5KTtyZXR1cm4ganNCZXppZXIucG9pbnRPbkN1cnZlKHgsdyl9O3RoaXMuZ3JhZGllbnRBdFBvaW50PWZ1bmN0aW9uKHcseSl7dmFyIHg9YygpO3c9bSh4LHcseSk7cmV0dXJuIGpzQmV6aWVyLmdyYWRpZW50QXRQb2ludCh4LHcpfTt0aGlzLnBvaW50QWxvbmdQYXRoRnJvbT1mdW5jdGlvbih3LHoseSl7dmFyIHg9YygpO3c9bSh4LHcseSk7cmV0dXJuIGpzQmV6aWVyLnBvaW50QWxvbmdDdXJ2ZUZyb20oeCx3LHopfX07anNQbHVtYi5Db25uZWN0b3JzLkZsb3djaGFydD1mdW5jdGlvbih2KXt0aGlzLnR5cGU9XCJGbG93Y2hhcnRcIjt2PXZ8fHt9O3ZhciBuPXRoaXMsYz12LnN0dWJ8fHYubWluU3R1Ykxlbmd0aHx8MzAsZj1qc1BsdW1iVXRpbC5pc0FycmF5KGMpP2NbMF06YyxrPWpzUGx1bWJVdGlsLmlzQXJyYXkoYyk/Y1sxXTpjLHA9di5nYXB8fDAscT1bXSxpPTAsZD1bXSxtPVtdLHI9W10sbyxsLHU9LUluZmluaXR5LHM9LUluZmluaXR5LHc9SW5maW5pdHksdD1JbmZpbml0eSx4PWZ1bmN0aW9uKHoseSxELEMpe3ZhciBCPTA7Zm9yKHZhciBBPTA7QTxxLmxlbmd0aDtBKyspe21bQV09cVtBXVs1XS9pO2RbQV09W0IsKEIrPShxW0FdWzVdL2kpKV19fSxoPWZ1bmN0aW9uKCl7ci5wdXNoKHEubGVuZ3RoKTtmb3IodmFyIHk9MDt5PHEubGVuZ3RoO3krKyl7ci5wdXNoKHFbeV1bMF0pO3IucHVzaChxW3ldWzFdKX19LGc9ZnVuY3Rpb24oSSxGLEgsRyxFLEQpe3ZhciBBPXEubGVuZ3RoPT0wP0g6cVtxLmxlbmd0aC0xXVswXSx6PXEubGVuZ3RoPT0wP0c6cVtxLmxlbmd0aC0xXVsxXSxCPUk9PUE/SW5maW5pdHk6MCxDPU1hdGguYWJzKEk9PUE/Ri16OkktQSk7cS5wdXNoKFtJLEYsQSx6LEIsQ10pO2krPUM7dT1NYXRoLm1heCh1LEkpO3M9TWF0aC5tYXgocyxGKTt3PU1hdGgubWluKHcsSSk7dD1NYXRoLm1pbih0LEYpfSxlPWZ1bmN0aW9uKEEsQyl7aWYoQyl7QT1BPjA/QS9pOihpK0EpL2l9dmFyIHk9ZC5sZW5ndGgtMSx6PTE7Zm9yKHZhciBCPTA7QjxkLmxlbmd0aDtCKyspe2lmKGRbQl1bMV0+PUEpe3k9Qjt6PShBLWRbQl1bMF0pL21bQl07YnJlYWt9fXJldHVybntzZWdtZW50OnFbeV0scHJvcG9ydGlvbjp6LGluZGV4Onl9fTt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24oVyxhayx6LFEsYXYsSyxVLFAsYXAsYW0pe3E9W107ZD1bXTtpPTA7bT1bXTt1PXM9LUluZmluaXR5O3c9dD1JbmZpbml0eTtvPWFrWzBdPFdbMF07bD1ha1sxXTxXWzFdO3ZhciBhYT1VfHwxLEU9KGFhLzIpKyhmK2spLEI9KGFhLzIpKyhrK2YpLEQ9KGFhLzIpKyhmK2spLEE9KGFhLzIpKyhrK2YpLE49YXYub3JpZW50YXRpb258fGF2LmdldE9yaWVudGF0aW9uKHopLGF3PUsub3JpZW50YXRpb258fEsuZ2V0T3JpZW50YXRpb24oUSksYWo9bz9ha1swXTpXWzBdLGFpPWw/YWtbMV06V1sxXSxhbD1NYXRoLmFicyhha1swXS1XWzBdKStFK0IsYXU9TWF0aC5hYnMoYWtbMV0tV1sxXSkrRCtBO2lmKE5bMF09PTAmJk5bMV09PTB8fGF3WzBdPT0wJiZhd1sxXT09MCl7dmFyIGFjPWFsPmF1PzA6MSxhZT1bMSwwXVthY107Tj1bXTthdz1bXTtOW2FjXT1XW2FjXT5ha1thY10/LTE6MTthd1thY109V1thY10+YWtbYWNdPzE6LTE7TlthZV09MDthd1thZV09MH1pZihhbDxQKXtFKz0oUC1hbCkvMjthbD1QfWlmKGF1PFApe0QrPShQLWF1KS8yO2F1PVB9dmFyIEk9bz8oYWwtQikrKHAqTlswXSk6RSsocCpOWzBdKSxIPWw/KGF1LUEpKyhwKk5bMV0pOkQrKHAqTlsxXSksYXI9bz9FKyhwKmF3WzBdKTooYWwtQikrKHAqYXdbMF0pLGFxPWw/RCsocCphd1sxXSk6KGF1LUEpKyhwKmF3WzFdKSxaPUkrKE5bMF0qZiksWT1IKyhOWzFdKmYpLEw9YXIrKGF3WzBdKmspLEo9YXErKGF3WzFdKmspLFY9TWF0aC5hYnMoSS1hcik+KGYrayksWD1NYXRoLmFicyhILWFxKT4oZitrKSxhaD1aKygoTC1aKS8yKSxhZj1ZKygoSi1ZKS8yKSxPPSgoTlswXSphd1swXSkrKE5bMV0qYXdbMV0pKSxhYj1PPT0tMSxhZD1PPT0wLEM9Tz09MTthai09RTthaS09RDtyPVthaixhaSxhbCxhdSxJLEgsYXIsYXFdO3ZhciBhbz1bXTt2YXIgUz1OWzBdPT0wP1wieVwiOlwieFwiLE09YWI/XCJvcHBvc2l0ZVwiOkM/XCJvcnRob2dvbmFsXCI6XCJwZXJwZW5kaWN1bGFyXCIsRj1qc1BsdW1iVXRpbC5zZWdtZW50KFtJLEhdLFthcixhcV0pLGFnPU5bUz09XCJ4XCI/MDoxXT09LTEsUj17eDpbbnVsbCw0LDMsMiwxXSx5OltudWxsLDIsMSw0LDNdfTtpZihhZyl7Rj1SW1NdW0ZdfWcoWixZLEksSCxhcixhcSk7dmFyIFQ9ZnVuY3Rpb24oYXosYXkseSxheCl7cmV0dXJuIGF6KyhheSooKDEteSkqYXgpK01hdGgubWF4KGYsaykpfSxHPXtvcHBvc2l0ZXg6ZnVuY3Rpb24oKXtpZih6LmVsZW1lbnRJZD09US5lbGVtZW50SWQpe3ZhciB5PVkrKCgxLWF2LnkpKmFwLmhlaWdodCkrTWF0aC5tYXgoZixrKTtyZXR1cm5bW1oseV0sW0wseV1dfWVsc2V7aWYoViYmKEY9PTF8fEY9PTIpKXtyZXR1cm5bW2FoLEhdLFthaCxhcV1dfWVsc2V7cmV0dXJuW1taLGFmXSxbTCxhZl1dfX19LG9ydGhvZ29uYWx4OmZ1bmN0aW9uKCl7aWYoRj09MXx8Rj09Mil7cmV0dXJuW1tMLFldXX1lbHNle3JldHVybltbWixKXV19fSxwZXJwZW5kaWN1bGFyeDpmdW5jdGlvbigpe3ZhciB5PShhcStIKS8yO2lmKChGPT0xJiZhd1sxXT09MSl8fChGPT0yJiZhd1sxXT09LTEpKXtpZihNYXRoLmFicyhhci1JKT5NYXRoLm1heChmLGspKXtyZXR1cm5bW0wsWV1dfWVsc2V7cmV0dXJuW1taLFldLFtaLHldLFtMLHldXX19ZWxzZXtpZigoRj09MyYmYXdbMV09PS0xKXx8KEY9PTQmJmF3WzFdPT0xKSl7cmV0dXJuW1taLHldLFtMLHldXX1lbHNle2lmKChGPT0zJiZhd1sxXT09MSl8fChGPT00JiZhd1sxXT09LTEpKXtyZXR1cm5bW1osSl1dfWVsc2V7aWYoKEY9PTEmJmF3WzFdPT0tMSl8fChGPT0yJiZhd1sxXT09MSkpe2lmKE1hdGguYWJzKGFyLUkpPk1hdGgubWF4KGYsaykpe3JldHVybltbYWgsWV0sW2FoLEpdXX1lbHNle3JldHVybltbWixKXV19fX19fX0sb3Bwb3NpdGV5OmZ1bmN0aW9uKCl7aWYoei5lbGVtZW50SWQ9PVEuZWxlbWVudElkKXt2YXIgeT1aKygoMS1hdi54KSphcC53aWR0aCkrTWF0aC5tYXgoZixrKTtyZXR1cm5bW3ksWV0sW3ksSl1dfWVsc2V7aWYoWCYmKEY9PTJ8fEY9PTMpKXtyZXR1cm5bW0ksYWZdLFthcixhZl1dfWVsc2V7cmV0dXJuW1thaCxZXSxbYWgsSl1dfX19LG9ydGhvZ29uYWx5OmZ1bmN0aW9uKCl7aWYoRj09Mnx8Rj09Myl7cmV0dXJuW1taLEpdXX1lbHNle3JldHVybltbTCxZXV19fSxwZXJwZW5kaWN1bGFyeTpmdW5jdGlvbigpe3ZhciB5PShhcitJKS8yO2lmKChGPT0yJiZhd1swXT09LTEpfHwoRj09MyYmYXdbMF09PTEpKXtpZihNYXRoLmFicyhhci1JKT5NYXRoLm1heChmLGspKXtyZXR1cm5bW1osSl1dfWVsc2V7cmV0dXJuW1taLGFmXSxbTCxhZl1dfX1lbHNle2lmKChGPT0xJiZhd1swXT09LTEpfHwoRj09NCYmYXdbMF09PTEpKXt2YXIgeT0oYXIrSSkvMjtyZXR1cm5bW3ksWV0sW3ksSl1dfWVsc2V7aWYoKEY9PTEmJmF3WzBdPT0xKXx8KEY9PTQmJmF3WzBdPT0tMSkpe3JldHVybltbTCxZXV19ZWxzZXtpZigoRj09MiYmYXdbMF09PTEpfHwoRj09MyYmYXdbMF09PS0xKSl7aWYoTWF0aC5hYnMoYXEtSCk+TWF0aC5tYXgoZixrKSl7cmV0dXJuW1taLGFmXSxbTCxhZl1dfWVsc2V7cmV0dXJuW1tMLFldXX19fX19fX07dmFyIGFuPUdbTStTXSgpO2lmKGFuKXtmb3IodmFyIGF0PTA7YXQ8YW4ubGVuZ3RoO2F0Kyspe2coYW5bYXRdWzBdLGFuW2F0XVsxXSxJLEgsYXIsYXEpfX1nKEwsSixJLEgsYXIsYXEpO2coYXIsYXEsSSxILGFyLGFxKTtoKCk7eChJLEgsYXIsYXEpO2lmKHM+clszXSl7clszXT1zKyhVKjIpfWlmKHU+clsyXSl7clsyXT11KyhVKjIpfXJldHVybiByfTt0aGlzLnBvaW50T25QYXRoPWZ1bmN0aW9uKHkseil7cmV0dXJuIG4ucG9pbnRBbG9uZ1BhdGhGcm9tKHksMCx6KX07dGhpcy5ncmFkaWVudEF0UG9pbnQ9ZnVuY3Rpb24oeSx6KXtyZXR1cm4gcVtlKHkseilbXCJpbmRleFwiXV1bNF19O3RoaXMucG9pbnRBbG9uZ1BhdGhGcm9tPWZ1bmN0aW9uKEYseSxFKXt2YXIgRz1lKEYsRSksQz1HLnNlZ21lbnQsej1HLnByb3BvcnRpb24sQj1xW0cuaW5kZXhdWzVdLEE9cVtHLmluZGV4XVs0XTt2YXIgRD17eDpBPT1JbmZpbml0eT9DWzJdOkNbMl0+Q1swXT9DWzBdKygoMS16KSpCKS15OkNbMl0rKHoqQikreSx5OkE9PTA/Q1szXTpDWzNdPkNbMV0/Q1sxXSsoKDEteikqQikteTpDWzNdKyh6KkIpK3ksc2VnbWVudEluZm86R307cmV0dXJuIER9fTtqc1BsdW1iLkVuZHBvaW50cy5Eb3Q9ZnVuY3Rpb24oZCl7dGhpcy50eXBlPVwiRG90XCI7dmFyIGM9dGhpcztkPWR8fHt9O3RoaXMucmFkaXVzPWQucmFkaXVzfHwxMDt0aGlzLmRlZmF1bHRPZmZzZXQ9MC41KnRoaXMucmFkaXVzO3RoaXMuZGVmYXVsdElubmVyUmFkaXVzPXRoaXMucmFkaXVzLzM7dGhpcy5jb21wdXRlPWZ1bmN0aW9uKGksZixsLGgpe3ZhciBnPWwucmFkaXVzfHxjLnJhZGl1cyxlPWlbMF0tZyxrPWlbMV0tZztyZXR1cm5bZSxrLGcqMixnKjIsZ119fTtqc1BsdW1iLkVuZHBvaW50cy5SZWN0YW5nbGU9ZnVuY3Rpb24oZCl7dGhpcy50eXBlPVwiUmVjdGFuZ2xlXCI7dmFyIGM9dGhpcztkPWR8fHt9O3RoaXMud2lkdGg9ZC53aWR0aHx8MjA7dGhpcy5oZWlnaHQ9ZC5oZWlnaHR8fDIwO3RoaXMuY29tcHV0ZT1mdW5jdGlvbihrLGcsbSxpKXt2YXIgaD1tLndpZHRofHxjLndpZHRoLGY9bS5oZWlnaHR8fGMuaGVpZ2h0LGU9a1swXS0oaC8yKSxsPWtbMV0tKGYvMik7cmV0dXJuW2UsbCxoLGZdfX07dmFyIGE9ZnVuY3Rpb24oZSl7anNQbHVtYi5ET01FbGVtZW50Q29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYz10aGlzO3ZhciBkPVtdO3RoaXMuZ2V0RGlzcGxheUVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGR9O3RoaXMuYXBwZW5kRGlzcGxheUVsZW1lbnQ9ZnVuY3Rpb24oZil7ZC5wdXNoKGYpfX07anNQbHVtYi5FbmRwb2ludHMuSW1hZ2U9ZnVuY3Rpb24oZyl7dGhpcy50eXBlPVwiSW1hZ2VcIjthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbD10aGlzLGY9ZmFsc2UsZT1nLndpZHRoLGQ9Zy5oZWlnaHQsaT1udWxsLGM9Zy5lbmRwb2ludDt0aGlzLmltZz1uZXcgSW1hZ2UoKTtsLnJlYWR5PWZhbHNlO3RoaXMuaW1nLm9ubG9hZD1mdW5jdGlvbigpe2wucmVhZHk9dHJ1ZTtlPWV8fGwuaW1nLndpZHRoO2Q9ZHx8bC5pbWcuaGVpZ2h0O2lmKGkpe2kobCl9fTtjLnNldEltYWdlPWZ1bmN0aW9uKG0sbyl7dmFyIG49bS5jb25zdHJ1Y3Rvcj09U3RyaW5nP206bS5zcmM7aT1vO2wuaW1nLnNyYz1tO2lmKGwuY2FudmFzIT1udWxsKXtsLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJzcmNcIixtKX19O2Muc2V0SW1hZ2UoZy5zcmN8fGcudXJsLGcub25sb2FkKTt0aGlzLmNvbXB1dGU9ZnVuY3Rpb24obyxtLHAsbil7bC5hbmNob3JQb2ludD1vO2lmKGwucmVhZHkpe3JldHVybltvWzBdLWUvMixvWzFdLWQvMixlLGRdfWVsc2V7cmV0dXJuWzAsMCwwLDBdfX07bC5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxmPWZhbHNlO2wuY2FudmFzLnN0eWxlLm1hcmdpbj0wO2wuY2FudmFzLnN0eWxlLnBhZGRpbmc9MDtsLmNhbnZhcy5zdHlsZS5vdXRsaW5lPTA7bC5jYW52YXMuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiO3ZhciBoPWcuY3NzQ2xhc3M/XCIgXCIrZy5jc3NDbGFzczpcIlwiO2wuY2FudmFzLmNsYXNzTmFtZT1qc1BsdW1iLmVuZHBvaW50Q2xhc3MraDtpZihlKXtsLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGUpfWlmKGQpe2wuY2FudmFzLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGQpfWpzUGx1bWIuYXBwZW5kRWxlbWVudChsLmNhbnZhcyxnLnBhcmVudCk7bC5hdHRhY2hMaXN0ZW5lcnMobC5jYW52YXMsbCk7dmFyIGs9ZnVuY3Rpb24ocCxvLG4pe2lmKCFmKXtsLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJzcmNcIixsLmltZy5zcmMpO2wuYXBwZW5kRGlzcGxheUVsZW1lbnQobC5jYW52YXMpO2Y9dHJ1ZX12YXIgbT1sLmFuY2hvclBvaW50WzBdLShlLzIpLHE9bC5hbmNob3JQb2ludFsxXS0oZC8yKTtqc1BsdW1iLnNpemVDYW52YXMobC5jYW52YXMsbSxxLGUsZCl9O3RoaXMucGFpbnQ9ZnVuY3Rpb24obyxuLG0pe2lmKGwucmVhZHkpe2sobyxuLG0pfWVsc2V7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtsLnBhaW50KG8sbixtKX0sMjAwKX19fTtqc1BsdW1iLkVuZHBvaW50cy5CbGFuaz1mdW5jdGlvbihkKXt2YXIgYz10aGlzO3RoaXMudHlwZT1cIkJsYW5rXCI7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb21wdXRlPWZ1bmN0aW9uKGcsZSxoLGYpe3JldHVybltnWzBdLGdbMV0sMTAsMF19O2MuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5jYW52YXMuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7Yy5jYW52YXMuc3R5bGUud2lkdGg9XCIxcHhcIjtjLmNhbnZhcy5zdHlsZS5oZWlnaHQ9XCIxcHhcIjtjLmNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kPVwidHJhbnNwYXJlbnRcIjtjLmNhbnZhcy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7Yy5jYW52YXMuY2xhc3NOYW1lPWMuX2pzUGx1bWIuZW5kcG9pbnRDbGFzcztqc1BsdW1iLmFwcGVuZEVsZW1lbnQoYy5jYW52YXMsZC5wYXJlbnQpO3RoaXMucGFpbnQ9ZnVuY3Rpb24oZyxmLGUpe2pzUGx1bWIuc2l6ZUNhbnZhcyhjLmNhbnZhcyxnWzBdLGdbMV0sZ1syXSxnWzNdKX19O2pzUGx1bWIuRW5kcG9pbnRzLlRyaWFuZ2xlPWZ1bmN0aW9uKGMpe3RoaXMudHlwZT1cIlRyaWFuZ2xlXCI7Yz1jfHx7fTtjLndpZHRoPWMud2lkdGh8fDU1O2MuaGVpZ2h0PWMuaGVpZ2h0fHw1NTt0aGlzLndpZHRoPWMud2lkdGg7dGhpcy5oZWlnaHQ9Yy5oZWlnaHQ7dGhpcy5jb21wdXRlPWZ1bmN0aW9uKGksZixsLGgpe3ZhciBnPWwud2lkdGh8fHNlbGYud2lkdGgsZT1sLmhlaWdodHx8c2VsZi5oZWlnaHQsZD1pWzBdLShnLzIpLGs9aVsxXS0oZS8yKTtyZXR1cm5bZCxrLGcsZV19fTt2YXIgYj1mdW5jdGlvbihlKXt2YXIgZD10cnVlLGM9dGhpczt0aGlzLmlzQXBwZW5kZWRBdFRvcExldmVsPXRydWU7dGhpcy5jb21wb25lbnQ9ZS5jb21wb25lbnQ7dGhpcy5sb2M9ZS5sb2NhdGlvbj09bnVsbD8wLjU6ZS5sb2NhdGlvbjt0aGlzLmVuZHBvaW50TG9jPWUuZW5kcG9pbnRMb2NhdGlvbj09bnVsbD9bMC41LDAuNV06ZS5lbmRwb2ludExvY2F0aW9uO3RoaXMuc2V0VmlzaWJsZT1mdW5jdGlvbihmKXtkPWY7Yy5jb21wb25lbnQucmVwYWludCgpfTt0aGlzLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiBkfTt0aGlzLmhpZGU9ZnVuY3Rpb24oKXtjLnNldFZpc2libGUoZmFsc2UpfTt0aGlzLnNob3c9ZnVuY3Rpb24oKXtjLnNldFZpc2libGUodHJ1ZSl9O3RoaXMuaW5jcmVtZW50TG9jYXRpb249ZnVuY3Rpb24oZil7Yy5sb2MrPWY7Yy5jb21wb25lbnQucmVwYWludCgpfTt0aGlzLnNldExvY2F0aW9uPWZ1bmN0aW9uKGYpe2MubG9jPWY7Yy5jb21wb25lbnQucmVwYWludCgpfTt0aGlzLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGMubG9jfX07anNQbHVtYi5PdmVybGF5cy5BcnJvdz1mdW5jdGlvbihnKXt0aGlzLnR5cGU9XCJBcnJvd1wiO2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaXNBcHBlbmRlZEF0VG9wTGV2ZWw9ZmFsc2U7Zz1nfHx7fTt2YXIgZD10aGlzO3RoaXMubGVuZ3RoPWcubGVuZ3RofHwyMDt0aGlzLndpZHRoPWcud2lkdGh8fDIwO3RoaXMuaWQ9Zy5pZDt2YXIgZj0oZy5kaXJlY3Rpb258fDEpPDA/LTE6MSxlPWcucGFpbnRTdHlsZXx8e2xpbmVXaWR0aDoxfSxjPWcuZm9sZGJhY2t8fDAuNjIzO3RoaXMuY29tcHV0ZU1heFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gZC53aWR0aCoxLjV9O3RoaXMuY2xlYW51cD1mdW5jdGlvbigpe307dGhpcy5kcmF3PWZ1bmN0aW9uKGsseix1KXt2YXIgbyx2LGgscCxuO2lmKGsucG9pbnRBbG9uZ1BhdGhGcm9tKXtpZihqc1BsdW1iVXRpbC5pc1N0cmluZyhkLmxvYyl8fGQubG9jPjF8fGQubG9jPDApe3ZhciBpPXBhcnNlSW50KGQubG9jKTtvPWsucG9pbnRBbG9uZ1BhdGhGcm9tKGksZipkLmxlbmd0aC8yLHRydWUpLHY9ay5wb2ludE9uUGF0aChpLHRydWUpLGg9anNQbHVtYlV0aWwucG9pbnRPbkxpbmUobyx2LGQubGVuZ3RoKX1lbHNle2lmKGQubG9jPT0xKXtvPWsucG9pbnRPblBhdGgoZC5sb2MpO3Y9ay5wb2ludEFsb25nUGF0aEZyb20oZC5sb2MsLTEpO2g9anNQbHVtYlV0aWwucG9pbnRPbkxpbmUobyx2LGQubGVuZ3RoKX1lbHNle2lmKGQubG9jPT0wKXtoPWsucG9pbnRPblBhdGgoZC5sb2MpO3Y9ay5wb2ludEFsb25nUGF0aEZyb20oZC5sb2MsMSk7bz1qc1BsdW1iVXRpbC5wb2ludE9uTGluZShoLHYsZC5sZW5ndGgpfWVsc2V7bz1rLnBvaW50QWxvbmdQYXRoRnJvbShkLmxvYyxmKmQubGVuZ3RoLzIpLHY9ay5wb2ludE9uUGF0aChkLmxvYyksaD1qc1BsdW1iVXRpbC5wb2ludE9uTGluZShvLHYsZC5sZW5ndGgpfX19cD1qc1BsdW1iVXRpbC5wZXJwZW5kaWN1bGFyTGluZVRvKG8saCxkLndpZHRoKTtuPWpzUGx1bWJVdGlsLnBvaW50T25MaW5lKG8saCxjKmQubGVuZ3RoKTt2YXIgeT1NYXRoLm1pbihvLngscFswXS54LHBbMV0ueCkscz1NYXRoLm1heChvLngscFswXS54LHBbMV0ueCkseD1NYXRoLm1pbihvLnkscFswXS55LHBbMV0ueSkscj1NYXRoLm1heChvLnkscFswXS55LHBbMV0ueSk7dmFyIHE9e2h4eTpvLHRhaWw6cCxjeHk6bn0sdD1lLnN0cm9rZVN0eWxlfHx6LnN0cm9rZVN0eWxlLHc9ZS5maWxsU3R5bGV8fHouc3Ryb2tlU3R5bGUsbT1lLmxpbmVXaWR0aHx8ei5saW5lV2lkdGg7ZC5wYWludChrLHEsbSx0LHcsdSk7cmV0dXJuW3kscyx4LHJdfWVsc2V7cmV0dXJuWzAsMCwwLDBdfX19O2pzUGx1bWIuT3ZlcmxheXMuUGxhaW5BcnJvdz1mdW5jdGlvbihkKXtkPWR8fHt9O3ZhciBjPWpzUGx1bWIuZXh0ZW5kKGQse2ZvbGRiYWNrOjF9KTtqc1BsdW1iLk92ZXJsYXlzLkFycm93LmNhbGwodGhpcyxjKTt0aGlzLnR5cGU9XCJQbGFpbkFycm93XCJ9O2pzUGx1bWIuT3ZlcmxheXMuRGlhbW9uZD1mdW5jdGlvbihlKXtlPWV8fHt9O3ZhciBjPWUubGVuZ3RofHw0MCxkPWpzUGx1bWIuZXh0ZW5kKGUse2xlbmd0aDpjLzIsZm9sZGJhY2s6Mn0pO2pzUGx1bWIuT3ZlcmxheXMuQXJyb3cuY2FsbCh0aGlzLGQpO3RoaXMudHlwZT1cIkRpYW1vbmRcIn07anNQbHVtYi5PdmVybGF5cy5MYWJlbD1mdW5jdGlvbihpKXt0aGlzLnR5cGU9XCJMYWJlbFwiO2pzUGx1bWIuRE9NRWxlbWVudENvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5sYWJlbFN0eWxlPWkubGFiZWxTdHlsZXx8anNQbHVtYi5EZWZhdWx0cy5MYWJlbFN0eWxlO3RoaXMuaWQ9aS5pZDt0aGlzLmNhY2hlZERpbWVuc2lvbnM9bnVsbDt2YXIgZT1pLmxhYmVsfHxcIlwiLGM9dGhpcyxmPWZhbHNlLGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxnPW51bGw7ay5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7dmFyIGQ9aS5fanNQbHVtYi5vdmVybGF5Q2xhc3MrXCIgXCIrKGMubGFiZWxTdHlsZS5jc3NDbGFzcz9jLmxhYmVsU3R5bGUuY3NzQ2xhc3M6aS5jc3NDbGFzcz9pLmNzc0NsYXNzOlwiXCIpO2suY2xhc3NOYW1lPWQ7anNQbHVtYi5hcHBlbmRFbGVtZW50KGssaS5jb21wb25lbnQucGFyZW50KTtqc1BsdW1iLmdldElkKGspO2MuYXR0YWNoTGlzdGVuZXJzKGssYyk7Yy5jYW52YXM9azt2YXIgaD1jLnNldFZpc2libGU7Yy5zZXRWaXNpYmxlPWZ1bmN0aW9uKGwpe2gobCk7ay5zdHlsZS5kaXNwbGF5PWw/XCJibG9ja1wiOlwibm9uZVwifTt0aGlzLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4ga307dGhpcy5jbGVhbnVwPWZ1bmN0aW9uKCl7aWYoayE9bnVsbCl7anNQbHVtYi5DdXJyZW50TGlicmFyeS5yZW1vdmVFbGVtZW50KGspfX07dGhpcy5zZXRMYWJlbD1mdW5jdGlvbihtKXtlPW07Zz1udWxsO2MuY29tcG9uZW50LnJlcGFpbnQoKX07dGhpcy5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiBlfTt0aGlzLnBhaW50PWZ1bmN0aW9uKGwsbixtKXtpZighZil7bC5hcHBlbmREaXNwbGF5RWxlbWVudChrKTtjLmF0dGFjaExpc3RlbmVycyhrLGwpO2Y9dHJ1ZX1rLnN0eWxlLmxlZnQ9KG1bMF0rbi5taW54KStcInB4XCI7ay5zdHlsZS50b3A9KG1bMV0rbi5taW55KStcInB4XCJ9O3RoaXMuZ2V0VGV4dERpbWVuc2lvbnM9ZnVuY3Rpb24oKXtpZih0eXBlb2YgZT09XCJmdW5jdGlvblwiKXt2YXIgbD1lKGMpO2suaW5uZXJIVE1MPWwucmVwbGFjZSgvXFxyXFxuL2csXCI8YnIvPlwiKX1lbHNle2lmKGc9PW51bGwpe2c9ZTtrLmlubmVySFRNTD1nLnJlcGxhY2UoL1xcclxcbi9nLFwiPGJyLz5cIil9fXZhciBuPWpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChrKSxtPWpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0U2l6ZShuKTtyZXR1cm57d2lkdGg6bVswXSxoZWlnaHQ6bVsxXX19O3RoaXMuY29tcHV0ZU1heFNpemU9ZnVuY3Rpb24obCl7dmFyIG09Yy5nZXRUZXh0RGltZW5zaW9ucyhsKTtyZXR1cm4gbS53aWR0aD9NYXRoLm1heChtLndpZHRoLG0uaGVpZ2h0KSoxLjU6MH07dGhpcy5kcmF3PWZ1bmN0aW9uKG0sbixvKXt2YXIgcz1jLmdldFRleHREaW1lbnNpb25zKG0pO2lmKHMud2lkdGghPW51bGwpe3ZhciBwPXt4OjAseTowfTtpZihtLnBvaW50T25QYXRoKXt2YXIgcT1jLmxvYyxyPWZhbHNlO2lmKGpzUGx1bWJVdGlsLmlzU3RyaW5nKGMubG9jKXx8Yy5sb2M8MHx8Yy5sb2M+MSl7cT1wYXJzZUludChjLmxvYyk7cj10cnVlfXA9bS5wb2ludE9uUGF0aChxLHIpfWVsc2V7dmFyIGw9Yy5sb2MuY29uc3RydWN0b3I9PUFycmF5P2MubG9jOmMuZW5kcG9pbnRMb2M7cD17eDpsWzBdKm9bMl0seTpsWzFdKm9bM119fW1pbng9cC54LShzLndpZHRoLzIpLG1pbnk9cC55LShzLmhlaWdodC8yKTtjLnBhaW50KG0se21pbng6bWlueCxtaW55Om1pbnksdGQ6cyxjeHk6cH0sbyk7cmV0dXJuW21pbngsbWlueCtzLndpZHRoLG1pbnksbWlueStzLmhlaWdodF19ZWxzZXtyZXR1cm5bMCwwLDAsMF19fTt0aGlzLnJlYXR0YWNoTGlzdGVuZXJzPWZ1bmN0aW9uKGwpe2lmKGspe2MucmVhdHRhY2hMaXN0ZW5lcnNGb3JFbGVtZW50KGssYyxsKX19fTtqc1BsdW1iLk92ZXJsYXlzLkd1aWRlTGluZXM9ZnVuY3Rpb24oKXt2YXIgYz10aGlzO2MubGVuZ3RoPTUwO2MubGluZVdpZHRoPTU7dGhpcy50eXBlPVwiR3VpZGVMaW5lc1wiO2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO2pzUGx1bWIuanNQbHVtYlVJQ29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmRyYXc9ZnVuY3Rpb24oZSxsLGspe3ZhciBpPWUucG9pbnRBbG9uZ1BhdGhGcm9tKGMubG9jLGMubGVuZ3RoLzIpLGg9ZS5wb2ludE9uUGF0aChjLmxvYyksZz1qc1BsdW1iVXRpbC5wb2ludE9uTGluZShpLGgsYy5sZW5ndGgpLGY9anNQbHVtYlV0aWwucGVycGVuZGljdWxhckxpbmVUbyhpLGcsNDApLGQ9anNQbHVtYlV0aWwucGVycGVuZGljdWxhckxpbmVUbyhnLGksMjApO2MucGFpbnQoZSxbaSxnLGYsZF0sYy5saW5lV2lkdGgsXCJyZWRcIixudWxsLGspO3JldHVybltNYXRoLm1pbihpLngsZy54KSxNYXRoLm1pbihpLnksZy55KSxNYXRoLm1heChpLngsZy54KSxNYXRoLm1heChpLnksZy55KV19O3RoaXMuY29tcHV0ZU1heFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gNTB9O3RoaXMuY2xlYW51cD1mdW5jdGlvbigpe319fSkoKTsoZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihlLGcsZCxmKXt0aGlzLm09KGYtZykvKGQtZSk7dGhpcy5iPS0xKigodGhpcy5tKmUpLWcpO3RoaXMucmVjdEludGVyc2VjdD1mdW5jdGlvbihxLHAscyxvKXt2YXIgbj1bXTt2YXIgaz0ocC10aGlzLmIpL3RoaXMubTtpZihrPj1xJiZrPD0ocStzKSl7bi5wdXNoKFtrLCh0aGlzLm0qaykrdGhpcy5iXSl9dmFyIHQ9KHRoaXMubSoocStzKSkrdGhpcy5iO2lmKHQ+PXAmJnQ8PShwK28pKXtuLnB1c2goWyh0LXRoaXMuYikvdGhpcy5tLHRdKX12YXIgaz0oKHArbyktdGhpcy5iKS90aGlzLm07aWYoaz49cSYmazw9KHErcykpe24ucHVzaChbaywodGhpcy5tKmspK3RoaXMuYl0pfXZhciB0PSh0aGlzLm0qcSkrdGhpcy5iO2lmKHQ+PXAmJnQ8PShwK28pKXtuLnB1c2goWyh0LXRoaXMuYikvdGhpcy5tLHRdKX1pZihuLmxlbmd0aD09Mil7dmFyIG09KG5bMF1bMF0rblsxXVswXSkvMixsPShuWzBdWzFdK25bMV1bMV0pLzI7bi5wdXNoKFttLGxdKTt2YXIgaT1tPD1xKyhzLzIpPy0xOjEscj1sPD1wKyhvLzIpPy0xOjE7bi5wdXNoKFtpLHJdKTtyZXR1cm4gbn1yZXR1cm4gbnVsbH19LGE9ZnVuY3Rpb24oZSxnLGQsZil7aWYoZTw9ZCYmZjw9Zyl7cmV0dXJuIDF9ZWxzZXtpZihlPD1kJiZnPD1mKXtyZXR1cm4gMn1lbHNle2lmKGQ8PWUmJmY+PWcpe3JldHVybiAzfX19cmV0dXJuIDR9LGI9ZnVuY3Rpb24oZyxmLGksZSxoLG0sbCxkLGspe2lmKGQ8PWspe3JldHVybltnLGZdfWlmKGk9PTEpe2lmKGVbM108PTAmJmhbM10+PTEpe3JldHVybltnKyhlWzJdPDAuNT8tMSptOm0pLGZdfWVsc2V7aWYoZVsyXT49MSYmaFsyXTw9MCl7cmV0dXJuW2csZisoZVszXTwwLjU/LTEqbDpsKV19ZWxzZXtyZXR1cm5bZysoLTEqbSksZisoLTEqbCldfX19ZWxzZXtpZihpPT0yKXtpZihlWzNdPj0xJiZoWzNdPD0wKXtyZXR1cm5bZysoZVsyXTwwLjU/LTEqbTptKSxmXX1lbHNle2lmKGVbMl0+PTEmJmhbMl08PTApe3JldHVybltnLGYrKGVbM108MC41Py0xKmw6bCldfWVsc2V7cmV0dXJuW2crKDEqbSksZisoLTEqbCldfX19ZWxzZXtpZihpPT0zKXtpZihlWzNdPj0xJiZoWzNdPD0wKXtyZXR1cm5bZysoZVsyXTwwLjU/LTEqbTptKSxmXX1lbHNle2lmKGVbMl08PTAmJmhbMl0+PTEpe3JldHVybltnLGYrKGVbM108MC41Py0xKmw6bCldfWVsc2V7cmV0dXJuW2crKC0xKm0pLGYrKC0xKmwpXX19fWVsc2V7aWYoaT09NCl7aWYoZVszXTw9MCYmaFszXT49MSl7cmV0dXJuW2crKGVbMl08MC41Py0xKm06bSksZl19ZWxzZXtpZihlWzJdPD0wJiZoWzJdPj0xKXtyZXR1cm5bZyxmKyhlWzNdPDAuNT8tMSpsOmwpXX1lbHNle3JldHVybltnKygxKm0pLGYrKC0xKmwpXX19fX19fX07anNQbHVtYi5Db25uZWN0b3JzLlN0YXRlTWFjaGluZT1mdW5jdGlvbihsKXt2YXIgdT10aGlzLG49bnVsbCxvLG0sZyxlLHA9W10sZD1sLmN1cnZpbmVzc3x8MTAsaz1sLm1hcmdpbnx8NSxxPWwucHJveGltaXR5TGltaXR8fDgwLGY9bC5vcmllbnRhdGlvbiYmbC5vcmllbnRhdGlvbj09XCJjbG9ja3dpc2VcIixpPWwubG9vcGJhY2tSYWRpdXN8fDI1LGg9ZmFsc2UsdD1sLnNob3dMb29wYmFjayE9PWZhbHNlO3RoaXMudHlwZT1cIlN0YXRlTWFjaGluZVwiO2w9bHx8e307dGhpcy5jb21wdXRlPWZ1bmN0aW9uKGFkLEgsVyxJLGFjLHosdixVKXt2YXIgUT1NYXRoLmFicyhhZFswXS1IWzBdKSxZPU1hdGguYWJzKGFkWzFdLUhbMV0pLFM9MC40NSpRLGFiPTAuNDUqWTtRKj0xLjk7WSo9MS45O3Y9dnx8MTt2YXIgTz1NYXRoLm1pbihhZFswXSxIWzBdKS1TLE09TWF0aC5taW4oYWRbMV0sSFsxXSktYWI7aWYoIXR8fChXLmVsZW1lbnRJZCE9SS5lbGVtZW50SWQpKXtoPWZhbHNlO289YWRbMF08SFswXT9TOlEtUzttPWFkWzFdPEhbMV0/YWI6WS1hYjtnPWFkWzBdPEhbMF0/US1TOlM7ZT1hZFsxXTxIWzFdP1ktYWI6YWI7aWYoYWRbMl09PTApe28tPWt9aWYoYWRbMl09PTEpe28rPWt9aWYoYWRbM109PTApe20tPWt9aWYoYWRbM109PTEpe20rPWt9aWYoSFsyXT09MCl7Zy09a31pZihIWzJdPT0xKXtnKz1rfWlmKEhbM109PTApe2UtPWt9aWYoSFszXT09MSl7ZSs9a312YXIgTj0obytnKS8yLEw9KG0rZSkvMixBPSgtMSpOKS9MLFY9TWF0aC5hdGFuKEEpLFA9KEE9PUluZmluaXR5fHxBPT0tSW5maW5pdHkpPzA6TWF0aC5hYnMoZC8yKk1hdGguc2luKFYpKSxSPShBPT1JbmZpbml0eXx8QT09LUluZmluaXR5KT8wOk1hdGguYWJzKGQvMipNYXRoLmNvcyhWKSksQj1hKG8sbSxnLGUpLEo9TWF0aC5zcXJ0KE1hdGgucG93KGctbywyKStNYXRoLnBvdyhlLW0sMikpO3A9YihOLEwsQixhZCxILGQsZCxKLHEpO3ZhciBHPU1hdGgubWF4KE1hdGguYWJzKHBbMF0tbykqMyxNYXRoLmFicyhwWzBdLWcpKjMsTWF0aC5hYnMoZy1vKSwyKnYsVSksSz1NYXRoLm1heChNYXRoLmFicyhwWzFdLW0pKjMsTWF0aC5hYnMocFsxXS1lKSozLE1hdGguYWJzKGUtbSksMip2LFUpO2lmKFE8Ryl7dmFyIFQ9Ry1RO08tPShULzIpO28rPShULzIpO2crPShULzIpO1E9RztwWzBdKz0oVC8yKX1pZihZPEspe3ZhciBhYT1LLVk7TS09KGFhLzIpO20rPShhYS8yKTtlKz0oYWEvMik7WT1LO3BbMV0rPShhYS8yKX1uPVtPLE0sUSxZLG8sbSxnLGUscFswXSxwWzFdXX1lbHNle2g9dHJ1ZTt2YXIgWj1hZFswXSxYPWFkWzBdLEY9YWRbMV0tayxEPWFkWzFdLWssRT1aLEM9Ri1pO1E9KCgyKnYpKyg0KmkpKSxZPSgoMip2KSsoNCppKSk7Tz1FLWktdi1pLE09Qy1pLXYtaTtuPVtPLE0sUSxZLEUtTyxDLU0saSxmLFotTyxGLU0sWC1PLEQtTV19cmV0dXJuIG59O3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuW3t4OmcseTplfSx7eDpwWzBdLHk6cFsxXX0se3g6cFswXSsxLHk6cFsxXSsxfSx7eDpvLHk6bX1dfTt2YXIgcz1mdW5jdGlvbih3LHYseCl7aWYoeCl7dj1qc0Jlemllci5sb2NhdGlvbkFsb25nQ3VydmVGcm9tKHcsdj4wPzA6MSx2KX1yZXR1cm4gdn07dGhpcy5wb2ludE9uUGF0aD1mdW5jdGlvbih4LEIpe2lmKGgpe2lmKEIpe3ZhciB5PU1hdGguUEkqMippO3g9eC95fWlmKHg+MCYmeDwxKXt4PTEteH12YXIgej0oeCoyKk1hdGguUEkpKyhNYXRoLlBJLzIpLHc9bls0XSsobls2XSpNYXRoLmNvcyh6KSksdj1uWzVdKyhuWzZdKk1hdGguc2luKHopKTtyZXR1cm57eDp3LHk6dn19ZWxzZXt2YXIgQT1yKCk7eD1zKEEseCxCKTtyZXR1cm4ganNCZXppZXIucG9pbnRPbkN1cnZlKEEseCl9fTt0aGlzLmdyYWRpZW50QXRQb2ludD1mdW5jdGlvbih2LHkpe2lmKGgpe2lmKHkpe3ZhciB3PU1hdGguUEkqMippO3Y9di93fXJldHVybiBNYXRoLmF0YW4odioyKk1hdGguUEkpfWVsc2V7dmFyIHg9cigpO3Y9cyh4LHYseSk7cmV0dXJuIGpzQmV6aWVyLmdyYWRpZW50QXRQb2ludCh4LHYpfX07dGhpcy5wb2ludEFsb25nUGF0aEZyb209ZnVuY3Rpb24oRCx2LEMpe2lmKGgpe2lmKEMpe3ZhciBCPU1hdGguUEkqMippO0Q9RC9CfWlmKEQ+MCYmRDwxKXtEPTEtRH12YXIgQj0yKk1hdGguUEkqbls2XSx3PXYvQioyKk1hdGguUEksej0oRCoyKk1hdGguUEkpLXcrKE1hdGguUEkvMikseT1uWzRdKyhuWzZdKk1hdGguY29zKHopKSx4PW5bNV0rKG5bNl0qTWF0aC5zaW4oeikpO3JldHVybnt4OnkseTp4fX1lbHNle3ZhciBBPXIoKTtEPXMoQSxELEMpO3JldHVybiBqc0Jlemllci5wb2ludEFsb25nQ3VydmVGcm9tKEEsRCx2KX19fTtqc1BsdW1iLkNvbm5lY3RvcnMuY2FudmFzLlN0YXRlTWFjaGluZT1mdW5jdGlvbihmKXtmPWZ8fHt9O3ZhciBkPXRoaXMsZz1mLmRyYXdHdWlkZWxpbmV8fHRydWUsZT1mLmF2b2lkU2VsZWN0b3I7anNQbHVtYi5Db25uZWN0b3JzLlN0YXRlTWFjaGluZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7anNQbHVtYi5DYW52YXNDb25uZWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3BhaW50PWZ1bmN0aW9uKGwpe2lmKGwubGVuZ3RoPT0xMCl7ZC5jdHguYmVnaW5QYXRoKCk7ZC5jdHgubW92ZVRvKGxbNF0sbFs1XSk7ZC5jdHguYmV6aWVyQ3VydmVUbyhsWzhdLGxbOV0sbFs4XSxsWzldLGxbNl0sbFs3XSk7ZC5jdHguc3Ryb2tlKCl9ZWxzZXtkLmN0eC5zYXZlKCk7ZC5jdHguYmVnaW5QYXRoKCk7dmFyIGs9MCxpPTIqTWF0aC5QSSxoPWxbN107ZC5jdHguYXJjKGxbNF0sbFs1XSxsWzZdLDAsaSxoKTtkLmN0eC5zdHJva2UoKTtkLmN0eC5jbG9zZVBhdGgoKTtkLmN0eC5yZXN0b3JlKCl9fTt0aGlzLmNyZWF0ZUdyYWRpZW50PWZ1bmN0aW9uKGksaCl7cmV0dXJuIGguY3JlYXRlTGluZWFyR3JhZGllbnQoaVs0XSxpWzVdLGlbNl0saVs3XSl9fTtqc1BsdW1iLkNvbm5lY3RvcnMuc3ZnLlN0YXRlTWFjaGluZT1mdW5jdGlvbigpe3ZhciBkPXRoaXM7anNQbHVtYi5Db25uZWN0b3JzLlN0YXRlTWFjaGluZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7anNQbHVtYi5TdmdDb25uZWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbihlKXtpZihlLmxlbmd0aD09MTApe3JldHVyblwiTSBcIitlWzRdK1wiIFwiK2VbNV0rXCIgQyBcIitlWzhdK1wiIFwiK2VbOV0rXCIgXCIrZVs4XStcIiBcIitlWzldK1wiIFwiK2VbNl0rXCIgXCIrZVs3XX1lbHNle3JldHVyblwiTVwiKyhlWzhdKzQpK1wiIFwiK2VbOV0rXCIgQSBcIitlWzZdK1wiIFwiK2VbNl0rXCIgMCAxLDAgXCIrKGVbOF0tNCkrXCIgXCIrZVs5XX19fTtqc1BsdW1iLkNvbm5lY3RvcnMudm1sLlN0YXRlTWFjaGluZT1mdW5jdGlvbigpe2pzUGx1bWIuQ29ubmVjdG9ycy5TdGF0ZU1hY2hpbmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2pzUGx1bWIuVm1sQ29ubmVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZD1qc1BsdW1iLnZtbC5jb252ZXJ0VmFsdWU7dGhpcy5nZXRQYXRoPWZ1bmN0aW9uKGspe2lmKGsubGVuZ3RoPT0xMCl7cmV0dXJuXCJtXCIrZChrWzRdKStcIixcIitkKGtbNV0pK1wiIGNcIitkKGtbOF0pK1wiLFwiK2Qoa1s5XSkrXCIsXCIrZChrWzhdKStcIixcIitkKGtbOV0pK1wiLFwiK2Qoa1s2XSkrXCIsXCIrZChrWzddKStcIiBlXCJ9ZWxzZXt2YXIgaD1kKGtbOF0ta1s2XSksZz1kKGtbOV0tKDIqa1s2XSkpLGY9aCtkKDIqa1s2XSksZT1nK2QoMiprWzZdKSxsPWgrXCIsXCIrZytcIixcIitmK1wiLFwiK2U7dmFyIGk9XCJhciBcIitsK1wiLFwiK2Qoa1s4XSkrXCIsXCIrZChrWzldKStcIixcIitkKGtbOF0pK1wiLFwiK2Qoa1s5XSkrXCIgZVwiO3JldHVybiBpfX19fSkoKTsoZnVuY3Rpb24oKXt2YXIgaD17XCJzdHJva2UtbGluZWpvaW5cIjpcImpvaW5zdHlsZVwiLGpvaW5zdHlsZTpcImpvaW5zdHlsZVwiLGVuZGNhcDpcImVuZGNhcFwiLG1pdGVybGltaXQ6XCJtaXRlcmxpbWl0XCJ9LGM9bnVsbDtpZihkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0JiZkb2N1bWVudC5uYW1lc3BhY2VzKXt2YXIgbT1bXCIuanNwbHVtYl92bWxcIixcImpzcGx1bWJcXFxcOnRleHRib3hcIixcImpzcGx1bWJcXFxcOm92YWxcIixcImpzcGx1bWJcXFxcOnJlY3RcIixcImpzcGx1bWJcXFxcOnN0cm9rZVwiLFwianNwbHVtYlxcXFw6c2hhcGVcIixcImpzcGx1bWJcXFxcOmdyb3VwXCJdLGc9XCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKTtwb3NpdGlvbjphYnNvbHV0ZTtcIjtjPWRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKTtmb3IodmFyIHI9MDtyPG0ubGVuZ3RoO3IrKyl7Yy5hZGRSdWxlKG1bcl0sZyl9ZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoXCJqc3BsdW1iXCIsXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiKX1qc1BsdW1iLnZtbD17fTt2YXIgdD0xMDAwLHM9e30sYT1mdW5jdGlvbih1LGkpe3ZhciB3PWpzUGx1bWIuZ2V0SWQodSksdj1zW3ddO2lmKCF2KXt2PWYoXCJncm91cFwiLFswLDAsdCx0XSx7XCJjbGFzc1wiOml9KTt2LnN0eWxlLmJhY2tncm91bmRDb2xvcj1cInJlZFwiO3Nbd109djtqc1BsdW1iLmFwcGVuZEVsZW1lbnQodix1KX1yZXR1cm4gdn0sZT1mdW5jdGlvbih2LHcpe2Zvcih2YXIgdSBpbiB3KXt2W3VdPXdbdV19fSxmPWZ1bmN0aW9uKHUseCx5LHYsaSl7eT15fHx7fTt2YXIgdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwianNwbHVtYjpcIit1KTtpLmFwcGVuZEVsZW1lbnQodyx2KTt3LmNsYXNzTmFtZT0oeVtcImNsYXNzXCJdP3lbXCJjbGFzc1wiXStcIiBcIjpcIlwiKStcImpzcGx1bWJfdm1sXCI7ayh3LHgpO2Uodyx5KTtyZXR1cm4gd30saz1mdW5jdGlvbih1LGkpe3Uuc3R5bGUubGVmdD1pWzBdK1wicHhcIjt1LnN0eWxlLnRvcD1pWzFdK1wicHhcIjt1LnN0eWxlLndpZHRoPWlbMl0rXCJweFwiO3Uuc3R5bGUuaGVpZ2h0PWlbM10rXCJweFwiO3Uuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwifSxwPWpzUGx1bWIudm1sLmNvbnZlcnRWYWx1ZT1mdW5jdGlvbihpKXtyZXR1cm4gTWF0aC5mbG9vcihpKnQpfSxiPWZ1bmN0aW9uKHcsdSx2LGkpe2lmKFwidHJhbnNwYXJlbnRcIj09PXUpe2kuc2V0T3BhY2l0eSh2LFwiMC4wXCIpfWVsc2V7aS5zZXRPcGFjaXR5KHYsXCIxLjBcIil9fSxxPWZ1bmN0aW9uKHksdSxCLEMpe3ZhciB4PXt9O2lmKHUuc3Ryb2tlU3R5bGUpe3guc3Ryb2tlZD1cInRydWVcIjt2YXIgRD1qc1BsdW1iVXRpbC5jb252ZXJ0U3R5bGUodS5zdHJva2VTdHlsZSx0cnVlKTt4LnN0cm9rZWNvbG9yPUQ7Yih4LEQsXCJzdHJva2VcIixCKTt4LnN0cm9rZXdlaWdodD11LmxpbmVXaWR0aCtcInB4XCJ9ZWxzZXt4LnN0cm9rZWQ9XCJmYWxzZVwifWlmKHUuZmlsbFN0eWxlKXt4LmZpbGxlZD1cInRydWVcIjt2YXIgdj1qc1BsdW1iVXRpbC5jb252ZXJ0U3R5bGUodS5maWxsU3R5bGUsdHJ1ZSk7eC5maWxsY29sb3I9djtiKHgsdixcImZpbGxcIixCKX1lbHNle3guZmlsbGVkPVwiZmFsc2VcIn1pZih1LmRhc2hzdHlsZSl7aWYoQi5zdHJva2VOb2RlPT1udWxsKXtCLnN0cm9rZU5vZGU9ZihcInN0cm9rZVwiLFswLDAsMCwwXSx7ZGFzaHN0eWxlOnUuZGFzaHN0eWxlfSx5LEMpfWVsc2V7Qi5zdHJva2VOb2RlLmRhc2hzdHlsZT11LmRhc2hzdHlsZX19ZWxzZXtpZih1W1wic3Ryb2tlLWRhc2hhcnJheVwiXSYmdS5saW5lV2lkdGgpe3ZhciBFPXVbXCJzdHJva2UtZGFzaGFycmF5XCJdLmluZGV4T2YoXCIsXCIpPT0tMT9cIiBcIjpcIixcIix6PXVbXCJzdHJva2UtZGFzaGFycmF5XCJdLnNwbGl0KEUpLHc9XCJcIjtmb3IodmFyIEE9MDtBPHoubGVuZ3RoO0ErKyl7dys9KE1hdGguZmxvb3IoeltBXS91LmxpbmVXaWR0aCkrRSl9aWYoQi5zdHJva2VOb2RlPT1udWxsKXtCLnN0cm9rZU5vZGU9ZihcInN0cm9rZVwiLFswLDAsMCwwXSx7ZGFzaHN0eWxlOnd9LHksQyl9ZWxzZXtCLnN0cm9rZU5vZGUuZGFzaHN0eWxlPXd9fX1lKHkseCl9LG49ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2pzUGx1bWIuanNQbHVtYlVJQ29tcG9uZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm9wYWNpdHlOb2Rlcz17c3Ryb2tlOm51bGwsZmlsbDpudWxsfTt0aGlzLmluaXRPcGFjaXR5Tm9kZXM9ZnVuY3Rpb24odil7aS5vcGFjaXR5Tm9kZXMuc3Ryb2tlPWYoXCJzdHJva2VcIixbMCwwLDEsMV0se29wYWNpdHk6XCIwLjBcIn0sdixpLl9qc1BsdW1iKTtpLm9wYWNpdHlOb2Rlcy5maWxsPWYoXCJmaWxsXCIsWzAsMCwxLDFdLHtvcGFjaXR5OlwiMC4wXCJ9LHYsaS5fanNQbHVtYil9O3RoaXMuc2V0T3BhY2l0eT1mdW5jdGlvbih2LHgpe3ZhciB3PWkub3BhY2l0eU5vZGVzW3ZdO2lmKHcpe3cub3BhY2l0eT1cIlwiK3h9fTt2YXIgdT1bXTt0aGlzLmdldERpc3BsYXlFbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiB1fTt0aGlzLmFwcGVuZERpc3BsYXlFbGVtZW50PWZ1bmN0aW9uKHcsdil7aWYoIXYpe2kuY2FudmFzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodyl9dS5wdXNoKHcpfX0sZD1qc1BsdW1iLlZtbENvbm5lY3Rvcj1mdW5jdGlvbih2KXt2YXIgaT10aGlzO2kuc3Ryb2tlTm9kZT1udWxsO2kuY2FudmFzPW51bGw7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHU9aS5fanNQbHVtYi5jb25uZWN0b3JDbGFzcysodi5jc3NDbGFzcz8oXCIgXCIrdi5jc3NDbGFzcyk6XCJcIik7dGhpcy5wYWludD1mdW5jdGlvbihBLHgseil7aWYoeCE9bnVsbCl7dmFyIEU9aS5nZXRQYXRoKEEpLHk9e3BhdGg6RX07aWYoeC5vdXRsaW5lQ29sb3Ipe3ZhciBDPXgub3V0bGluZVdpZHRofHwxLEQ9eC5saW5lV2lkdGgrKDIqQyksQj17c3Ryb2tlU3R5bGU6anNQbHVtYlV0aWwuY29udmVydFN0eWxlKHgub3V0bGluZUNvbG9yKSxsaW5lV2lkdGg6RH07Zm9yKHZhciB3IGluIGgpe0Jbd109eFt3XX1pZihpLmJnQ2FudmFzPT1udWxsKXt5W1wiY2xhc3NcIl09dTt5LmNvb3Jkc2l6ZT0oQVsyXSp0KStcIixcIisoQVszXSp0KTtpLmJnQ2FudmFzPWYoXCJzaGFwZVwiLEEseSx2LnBhcmVudCxpLl9qc1BsdW1iKTtrKGkuYmdDYW52YXMsQSk7aS5hcHBlbmREaXNwbGF5RWxlbWVudChpLmJnQ2FudmFzLHRydWUpO2kuYXR0YWNoTGlzdGVuZXJzKGkuYmdDYW52YXMsaSk7aS5pbml0T3BhY2l0eU5vZGVzKGkuYmdDYW52YXMsW1wic3Ryb2tlXCJdKX1lbHNle3kuY29vcmRzaXplPShBWzJdKnQpK1wiLFwiKyhBWzNdKnQpO2soaS5iZ0NhbnZhcyxBKTtlKGkuYmdDYW52YXMseSl9cShpLmJnQ2FudmFzLEIsaSl9aWYoaS5jYW52YXM9PW51bGwpe3lbXCJjbGFzc1wiXT11O3kuY29vcmRzaXplPShBWzJdKnQpK1wiLFwiKyhBWzNdKnQpO2lmKGkudG9vbHRpcCl7eS5sYWJlbD1pLnRvb2x0aXB9aS5jYW52YXM9ZihcInNoYXBlXCIsQSx5LHYucGFyZW50LGkuX2pzUGx1bWIpO2kuYXBwZW5kRGlzcGxheUVsZW1lbnQoaS5jYW52YXMsdHJ1ZSk7aS5hdHRhY2hMaXN0ZW5lcnMoaS5jYW52YXMsaSk7aS5pbml0T3BhY2l0eU5vZGVzKGkuY2FudmFzLFtcInN0cm9rZVwiXSl9ZWxzZXt5LmNvb3Jkc2l6ZT0oQVsyXSp0KStcIixcIisoQVszXSp0KTtrKGkuY2FudmFzLEEpO2UoaS5jYW52YXMseSl9cShpLmNhbnZhcyx4LGksaS5fanNQbHVtYil9fTt0aGlzLnJlYXR0YWNoTGlzdGVuZXJzPWZ1bmN0aW9uKCl7aWYoaS5jYW52YXMpe2kucmVhdHRhY2hMaXN0ZW5lcnNGb3JFbGVtZW50KGkuY2FudmFzLGkpfX19LGw9d2luZG93LlZtbEVuZHBvaW50PWZ1bmN0aW9uKHkpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBpPW51bGwsdj10aGlzLHU9bnVsbCx4PW51bGw7di5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt2LmNhbnZhcy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7dmFyIHc9di5fanNQbHVtYi5lbmRwb2ludENsYXNzKyh5LmNzc0NsYXNzPyhcIiBcIit5LmNzc0NsYXNzKTpcIlwiKTt5Ll9qc1BsdW1iLmFwcGVuZEVsZW1lbnQodi5jYW52YXMseS5wYXJlbnQpO2lmKHYudG9vbHRpcCl7di5jYW52YXMuc2V0QXR0cmlidXRlKFwibGFiZWxcIix2LnRvb2x0aXApfXRoaXMucGFpbnQ9ZnVuY3Rpb24oQyxBLHope3ZhciBCPXt9O2pzUGx1bWIuc2l6ZUNhbnZhcyh2LmNhbnZhcyxDWzBdLENbMV0sQ1syXSxDWzNdKTtpZihpPT1udWxsKXtCW1wiY2xhc3NcIl09dztpPXYuZ2V0Vm1sKFswLDAsQ1syXSxDWzNdXSxCLHosdi5jYW52YXMsdi5fanNQbHVtYik7di5hdHRhY2hMaXN0ZW5lcnMoaSx2KTt2LmFwcGVuZERpc3BsYXlFbGVtZW50KGksdHJ1ZSk7di5hcHBlbmREaXNwbGF5RWxlbWVudCh2LmNhbnZhcyx0cnVlKTt2LmluaXRPcGFjaXR5Tm9kZXMoaSxbXCJmaWxsXCJdKX1lbHNle2soaSxbMCwwLENbMl0sQ1szXV0pO2UoaSxCKX1xKGksQSx2KX07dGhpcy5yZWF0dGFjaExpc3RlbmVycz1mdW5jdGlvbigpe2lmKGkpe3YucmVhdHRhY2hMaXN0ZW5lcnNGb3JFbGVtZW50KGksdil9fX07anNQbHVtYi5Db25uZWN0b3JzLnZtbC5CZXppZXI9ZnVuY3Rpb24oKXtqc1BsdW1iLkNvbm5lY3RvcnMuQmV6aWVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdldFBhdGg9ZnVuY3Rpb24oaSl7cmV0dXJuXCJtXCIrcChpWzRdKStcIixcIitwKGlbNV0pK1wiIGNcIitwKGlbOF0pK1wiLFwiK3AoaVs5XSkrXCIsXCIrcChpWzEwXSkrXCIsXCIrcChpWzExXSkrXCIsXCIrcChpWzZdKStcIixcIitwKGlbN10pK1wiIGVcIn19O2pzUGx1bWIuQ29ubmVjdG9ycy52bWwuU3RyYWlnaHQ9ZnVuY3Rpb24oKXtqc1BsdW1iLkNvbm5lY3RvcnMuU3RyYWlnaHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbihpKXtyZXR1cm5cIm1cIitwKGlbNF0pK1wiLFwiK3AoaVs1XSkrXCIgbFwiK3AoaVs2XSkrXCIsXCIrcChpWzddKStcIiBlXCJ9fTtqc1BsdW1iLkNvbm5lY3RvcnMudm1sLkZsb3djaGFydD1mdW5jdGlvbigpe2pzUGx1bWIuQ29ubmVjdG9ycy5GbG93Y2hhcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0UGF0aD1mdW5jdGlvbih2KXt2YXIgdz1cIm0gXCIrcCh2WzRdKStcIixcIitwKHZbNV0pK1wiIGxcIjtmb3IodmFyIHU9MDt1PHZbOF07dSsrKXt3PXcrXCIgXCIrcCh2WzkrKHUqMildKStcIixcIitwKHZbMTArKHUqMildKX13PXcrXCIgXCIrcCh2WzZdKStcIixcIitwKHZbN10pK1wiIGVcIjtyZXR1cm4gd319O2pzUGx1bWIuRW5kcG9pbnRzLnZtbC5Eb3Q9ZnVuY3Rpb24oKXtqc1BsdW1iLkVuZHBvaW50cy5Eb3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO2wuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ2V0Vm1sPWZ1bmN0aW9uKHcseCx1LHYsaSl7cmV0dXJuIGYoXCJvdmFsXCIsdyx4LHYsaSl9fTtqc1BsdW1iLkVuZHBvaW50cy52bWwuUmVjdGFuZ2xlPWZ1bmN0aW9uKCl7anNQbHVtYi5FbmRwb2ludHMuUmVjdGFuZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdldFZtbD1mdW5jdGlvbih3LHgsdSx2LGkpe3JldHVybiBmKFwicmVjdFwiLHcseCx2LGkpfX07anNQbHVtYi5FbmRwb2ludHMudm1sLkltYWdlPWpzUGx1bWIuRW5kcG9pbnRzLkltYWdlO2pzUGx1bWIuRW5kcG9pbnRzLnZtbC5CbGFuaz1qc1BsdW1iLkVuZHBvaW50cy5CbGFuaztqc1BsdW1iLk92ZXJsYXlzLnZtbC5MYWJlbD1qc1BsdW1iLk92ZXJsYXlzLkxhYmVsO3ZhciBvPWZ1bmN0aW9uKHgsdil7eC5hcHBseSh0aGlzLHYpO24uYXBwbHkodGhpcyx2KTt2YXIgdT10aGlzLHc9bnVsbDt1LmNhbnZhcz1udWxsO3UuaXNBcHBlbmRlZEF0VG9wTGV2ZWw9dHJ1ZTt2YXIgaT1mdW5jdGlvbih6LHkpe3JldHVyblwibSBcIitwKHouaHh5LngpK1wiLFwiK3Aoei5oeHkueSkrXCIgbCBcIitwKHoudGFpbFswXS54KStcIixcIitwKHoudGFpbFswXS55KStcIiBcIitwKHouY3h5LngpK1wiLFwiK3Aoei5jeHkueSkrXCIgXCIrcCh6LnRhaWxbMV0ueCkrXCIsXCIrcCh6LnRhaWxbMV0ueSkrXCIgeCBlXCJ9O3RoaXMucGFpbnQ9ZnVuY3Rpb24oQixHLEYsSCxMLEspe3ZhciB6PXt9O2lmKEgpe3ouc3Ryb2tlZD1cInRydWVcIjt6LnN0cm9rZWNvbG9yPWpzUGx1bWJVdGlsLmNvbnZlcnRTdHlsZShILHRydWUpfWlmKEYpe3ouc3Ryb2tld2VpZ2h0PUYrXCJweFwifWlmKEwpe3ouZmlsbGVkPVwidHJ1ZVwiO3ouZmlsbGNvbG9yPUx9dmFyIHk9TWF0aC5taW4oRy5oeHkueCxHLnRhaWxbMF0ueCxHLnRhaWxbMV0ueCxHLmN4eS54KSxKPU1hdGgubWluKEcuaHh5LnksRy50YWlsWzBdLnksRy50YWlsWzFdLnksRy5jeHkueSksQz1NYXRoLm1heChHLmh4eS54LEcudGFpbFswXS54LEcudGFpbFsxXS54LEcuY3h5LngpLEE9TWF0aC5tYXgoRy5oeHkueSxHLnRhaWxbMF0ueSxHLnRhaWxbMV0ueSxHLmN4eS55KSxJPU1hdGguYWJzKEMteSksRT1NYXRoLmFicyhBLUopLEQ9W3ksSixJLEVdO3oucGF0aD1pKEcsSyk7ei5jb29yZHNpemU9KEtbMl0qdCkrXCIsXCIrKEtbM10qdCk7RFswXT1LWzBdO0RbMV09S1sxXTtEWzJdPUtbMl07RFszXT1LWzNdO2lmKHUuY2FudmFzPT1udWxsKXt1LmNhbnZhcz1mKFwic2hhcGVcIixELHosQi5jYW52YXMucGFyZW50Tm9kZSxCLl9qc1BsdW1iKTtCLmFwcGVuZERpc3BsYXlFbGVtZW50KHUuY2FudmFzLHRydWUpO3UuYXR0YWNoTGlzdGVuZXJzKHUuY2FudmFzLEIpO3UuYXR0YWNoTGlzdGVuZXJzKHUuY2FudmFzLHUpfWVsc2V7ayh1LmNhbnZhcyxEKTtlKHUuY2FudmFzLHopfX07dGhpcy5yZWF0dGFjaExpc3RlbmVycz1mdW5jdGlvbigpe2lmKHUuY2FudmFzKXt1LnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudCh1LmNhbnZhcyx1KX19O3RoaXMuY2xlYW51cD1mdW5jdGlvbigpe2lmKHUuY2FudmFzIT1udWxsKXtqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LnJlbW92ZUVsZW1lbnQodS5jYW52YXMpfX19O2pzUGx1bWIuT3ZlcmxheXMudm1sLkFycm93PWZ1bmN0aW9uKCl7by5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLkFycm93LGFyZ3VtZW50c10pfTtqc1BsdW1iLk92ZXJsYXlzLnZtbC5QbGFpbkFycm93PWZ1bmN0aW9uKCl7by5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLlBsYWluQXJyb3csYXJndW1lbnRzXSl9O2pzUGx1bWIuT3ZlcmxheXMudm1sLkRpYW1vbmQ9ZnVuY3Rpb24oKXtvLmFwcGx5KHRoaXMsW2pzUGx1bWIuT3ZlcmxheXMuRGlhbW9uZCxhcmd1bWVudHNdKX19KSgpOyhmdW5jdGlvbigpe3ZhciBsPXtqb2luc3R5bGU6XCJzdHJva2UtbGluZWpvaW5cIixcInN0cm9rZS1saW5lam9pblwiOlwic3Ryb2tlLWxpbmVqb2luXCIsXCJzdHJva2UtZGFzaG9mZnNldFwiOlwic3Ryb2tlLWRhc2hvZmZzZXRcIixcInN0cm9rZS1saW5lY2FwXCI6XCJzdHJva2UtbGluZWNhcFwifSx3PVwic3Ryb2tlLWRhc2hhcnJheVwiLEE9XCJkYXNoc3R5bGVcIixlPVwibGluZWFyR3JhZGllbnRcIixiPVwicmFkaWFsR3JhZGllbnRcIixjPVwiZmlsbFwiLGE9XCJzdG9wXCIsej1cInN0cm9rZVwiLHE9XCJzdHJva2Utd2lkdGhcIixoPVwic3R5bGVcIixtPVwibm9uZVwiLHQ9XCJqc3BsdW1iX2dyYWRpZW50X1wiLG89XCJsaW5lV2lkdGhcIixDPXtzdmc6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHhodG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwifSxnPWZ1bmN0aW9uKEYsRCl7Zm9yKHZhciBFIGluIEQpe0Yuc2V0QXR0cmlidXRlKEUsXCJcIitEW0VdKX19LGY9ZnVuY3Rpb24oRSxEKXt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQy5zdmcsRSk7RD1EfHx7fTtELnZlcnNpb249XCIxLjFcIjtELnhtbG5zPUMueGh0bWw7ZyhGLEQpO3JldHVybiBGfSxuPWZ1bmN0aW9uKEQpe3JldHVyblwicG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIitEWzBdK1wicHg7dG9wOlwiK0RbMV0rXCJweFwifSxpPWZ1bmN0aW9uKEUpe2Zvcih2YXIgRD0wO0Q8RS5jaGlsZE5vZGVzLmxlbmd0aDtEKyspe2lmKEUuY2hpbGROb2Rlc1tEXS50YWdOYW1lPT1lfHxFLmNoaWxkTm9kZXNbRF0udGFnTmFtZT09Yil7RS5yZW1vdmVDaGlsZChFLmNoaWxkTm9kZXNbRF0pfX19LHY9ZnVuY3Rpb24oTixJLEYsRCxKKXt2YXIgRz10K0ouX2pzUGx1bWIuaWRzdGFtcCgpO2koTik7aWYoIUYuZ3JhZGllbnQub2Zmc2V0KXt2YXIgTD1mKGUse2lkOkcsZ3JhZGllbnRVbml0czpcInVzZXJTcGFjZU9uVXNlXCJ9KTtOLmFwcGVuZENoaWxkKEwpfWVsc2V7dmFyIEw9ZihiLHtpZDpHfSk7Ti5hcHBlbmRDaGlsZChMKX1mb3IodmFyIEs9MDtLPEYuZ3JhZGllbnQuc3RvcHMubGVuZ3RoO0srKyl7dmFyIEg9SztpZihELmxlbmd0aD09OCl7SD1EWzRdPERbNl0/SzpGLmdyYWRpZW50LnN0b3BzLmxlbmd0aC0xLUt9ZWxzZXtIPURbNF08RFs2XT9GLmdyYWRpZW50LnN0b3BzLmxlbmd0aC0xLUs6S312YXIgTT1qc1BsdW1iVXRpbC5jb252ZXJ0U3R5bGUoRi5ncmFkaWVudC5zdG9wc1tIXVsxXSx0cnVlKTt2YXIgTz1mKGEse29mZnNldDpNYXRoLmZsb29yKEYuZ3JhZGllbnQuc3RvcHNbS11bMF0qMTAwKStcIiVcIixcInN0b3AtY29sb3JcIjpNfSk7TC5hcHBlbmRDaGlsZChPKX12YXIgRT1GLnN0cm9rZVN0eWxlP3o6YztJLnNldEF0dHJpYnV0ZShoLEUrXCI6dXJsKCNcIitHK1wiKVwiKX0seD1mdW5jdGlvbihLLEcsRSxELEgpe2lmKEUuZ3JhZGllbnQpe3YoSyxHLEUsRCxIKX1lbHNle2koSyk7Ry5zZXRBdHRyaWJ1dGUoaCxcIlwiKX1HLnNldEF0dHJpYnV0ZShjLEUuZmlsbFN0eWxlP2pzUGx1bWJVdGlsLmNvbnZlcnRTdHlsZShFLmZpbGxTdHlsZSx0cnVlKTptKTtHLnNldEF0dHJpYnV0ZSh6LEUuc3Ryb2tlU3R5bGU/anNQbHVtYlV0aWwuY29udmVydFN0eWxlKEUuc3Ryb2tlU3R5bGUsdHJ1ZSk6bSk7aWYoRS5saW5lV2lkdGgpe0cuc2V0QXR0cmlidXRlKHEsRS5saW5lV2lkdGgpfWlmKEVbQV0mJkVbb10mJiFFW3ddKXt2YXIgTD1FW0FdLmluZGV4T2YoXCIsXCIpPT0tMT9cIiBcIjpcIixcIixJPUVbQV0uc3BsaXQoTCksRj1cIlwiO0kuZm9yRWFjaChmdW5jdGlvbihNKXtGKz0oTWF0aC5mbG9vcihNKkUubGluZVdpZHRoKStMKX0pO0cuc2V0QXR0cmlidXRlKHcsRil9ZWxzZXtpZihFW3ddKXtHLnNldEF0dHJpYnV0ZSh3LEVbd10pfX1mb3IodmFyIEogaW4gbCl7aWYoRVtKXSl7Ry5zZXRBdHRyaWJ1dGUobFtKXSxFW0pdKX19fSxCPWZ1bmN0aW9uKEYpe3ZhciBEPS8oWzAtOV0uKShwW3h0XSlcXHMoLiopLzt2YXIgRT1GLm1hdGNoKEQpO3JldHVybntzaXplOkVbMV0rRVsyXSxmb250OkVbM119fSxyPWZ1bmN0aW9uKEksSixFKXt2YXIgSz1FLnNwbGl0KFwiIFwiKSxIPUkuY2xhc3NOYW1lLEc9SC5iYXNlVmFsLnNwbGl0KFwiIFwiKTtmb3IodmFyIEY9MDtGPEsubGVuZ3RoO0YrKyl7aWYoSil7aWYoRy5pbmRleE9mKEtbRl0pPT0tMSl7Ry5wdXNoKEtbRl0pfX1lbHNle3ZhciBEPUcuaW5kZXhPZihLW0ZdKTtpZihEIT0tMSl7Ry5zcGxpY2UoRCwxKX19fUkuY2xhc3NOYW1lLmJhc2VWYWw9Ry5qb2luKFwiIFwiKX0sdT1mdW5jdGlvbihFLEQpe3IoRSx0cnVlLEQpfSxrPWZ1bmN0aW9uKEUsRCl7cihFLGZhbHNlLEQpfTtqc1BsdW1iVXRpbC5zdmc9e2FkZENsYXNzOnUscmVtb3ZlQ2xhc3M6ayxub2RlOmYsYXR0cjpnLHBvczpufTt2YXIgcz1mdW5jdGlvbihIKXt2YXIgRD10aGlzLEc9SC5wb2ludGVyRXZlbnRzU3BlY3x8XCJhbGxcIjtqc1BsdW1iLmpzUGx1bWJVSUNvbXBvbmVudC5hcHBseSh0aGlzLEgub3JpZ2luYWxBcmdzKTtELmNhbnZhcz1udWxsLEQucGF0aD1udWxsLEQuc3ZnPW51bGw7dmFyIEY9SC5jc3NDbGFzcytcIiBcIisoSC5vcmlnaW5hbEFyZ3NbMF0uY3NzQ2xhc3N8fFwiXCIpLEk9e3N0eWxlOlwiXCIsd2lkdGg6MCxoZWlnaHQ6MCxcInBvaW50ZXItZXZlbnRzXCI6Ryxwb3NpdGlvbjpcImFic29sdXRlXCJ9O2lmKEQudG9vbHRpcCl7SS50aXRsZT1ELnRvb2x0aXB9RC5zdmc9ZihcInN2Z1wiLEkpO2lmKEgudXNlRGl2V3JhcHBlcil7RC5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtELmNhbnZhcy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7anNQbHVtYi5zaXplQ2FudmFzKEQuY2FudmFzLDAsMCwxLDEpO0QuY2FudmFzLmNsYXNzTmFtZT1GO2lmKEQudG9vbHRpcCl7RC5jYW52YXMuc2V0QXR0cmlidXRlKFwidGl0bGVcIixELnRvb2x0aXApfX1lbHNle2coRC5zdmcse1wiY2xhc3NcIjpGfSk7RC5jYW52YXM9RC5zdmd9SC5fanNQbHVtYi5hcHBlbmRFbGVtZW50KEQuY2FudmFzLEgub3JpZ2luYWxBcmdzWzBdW1wicGFyZW50XCJdKTtpZihILnVzZURpdldyYXBwZXIpe0QuY2FudmFzLmFwcGVuZENoaWxkKEQuc3ZnKX12YXIgRT1bRC5jYW52YXNdO3RoaXMuZ2V0RGlzcGxheUVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIEV9O3RoaXMuYXBwZW5kRGlzcGxheUVsZW1lbnQ9ZnVuY3Rpb24oSil7RS5wdXNoKEopfTt0aGlzLnBhaW50PWZ1bmN0aW9uKE0sTCxLKXtpZihMIT1udWxsKXt2YXIgSj1NWzBdLE49TVsxXTtpZihILnVzZURpdldyYXBwZXIpe2pzUGx1bWIuc2l6ZUNhbnZhcyhELmNhbnZhcyxNWzBdLE1bMV0sTVsyXSxNWzNdKTtKPTAsTj0wfWcoRC5zdmcse3N0eWxlOm4oW0osTixNWzJdLE1bM11dKSx3aWR0aDpNWzJdLGhlaWdodDpNWzNdfSk7RC5fcGFpbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O3ZhciBkPWpzUGx1bWIuU3ZnQ29ubmVjdG9yPWZ1bmN0aW9uKEUpe3ZhciBEPXRoaXM7cy5hcHBseSh0aGlzLFt7Y3NzQ2xhc3M6RS5fanNQbHVtYi5jb25uZWN0b3JDbGFzcyxvcmlnaW5hbEFyZ3M6YXJndW1lbnRzLHBvaW50ZXJFdmVudHNTcGVjOlwibm9uZVwiLHRvb2x0aXA6RS50b29sdGlwLF9qc1BsdW1iOkUuX2pzUGx1bWJ9XSk7dGhpcy5fcGFpbnQ9ZnVuY3Rpb24oTCxIKXt2YXIgSz1ELmdldFBhdGgoTCksRj17ZDpLfSxKPW51bGw7RltcInBvaW50ZXItZXZlbnRzXCJdPVwiYWxsXCI7aWYoSC5vdXRsaW5lQ29sb3Ipe3ZhciBJPUgub3V0bGluZVdpZHRofHwxLEc9SC5saW5lV2lkdGgrKDIqSSksSj1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmV4dGVuZCh7fSxIKTtKLnN0cm9rZVN0eWxlPWpzUGx1bWJVdGlsLmNvbnZlcnRTdHlsZShILm91dGxpbmVDb2xvcik7Si5saW5lV2lkdGg9RztpZihELmJnUGF0aD09bnVsbCl7RC5iZ1BhdGg9ZihcInBhdGhcIixGKTtELnN2Zy5hcHBlbmRDaGlsZChELmJnUGF0aCk7RC5hdHRhY2hMaXN0ZW5lcnMoRC5iZ1BhdGgsRCl9ZWxzZXtnKEQuYmdQYXRoLEYpfXgoRC5zdmcsRC5iZ1BhdGgsSixMLEQpfWlmKEQucGF0aD09bnVsbCl7RC5wYXRoPWYoXCJwYXRoXCIsRik7RC5zdmcuYXBwZW5kQ2hpbGQoRC5wYXRoKTtELmF0dGFjaExpc3RlbmVycyhELnBhdGgsRCl9ZWxzZXtnKEQucGF0aCxGKX14KEQuc3ZnLEQucGF0aCxILEwsRCl9O3RoaXMucmVhdHRhY2hMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtpZihELmJnUGF0aCl7RC5yZWF0dGFjaExpc3RlbmVyc0ZvckVsZW1lbnQoRC5iZ1BhdGgsRCl9aWYoRC5wYXRoKXtELnJlYXR0YWNoTGlzdGVuZXJzRm9yRWxlbWVudChELnBhdGgsRCl9fX07anNQbHVtYi5Db25uZWN0b3JzLnN2Zy5CZXppZXI9ZnVuY3Rpb24oRCl7anNQbHVtYi5Db25uZWN0b3JzLkJlemllci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5nZXRQYXRoPWZ1bmN0aW9uKEYpe3ZhciBFPVwiTSBcIitGWzRdK1wiIFwiK0ZbNV07RSs9KFwiIEMgXCIrRls4XStcIiBcIitGWzldK1wiIFwiK0ZbMTBdK1wiIFwiK0ZbMTFdK1wiIFwiK0ZbNl0rXCIgXCIrRls3XSk7cmV0dXJuIEV9fTtqc1BsdW1iLkNvbm5lY3RvcnMuc3ZnLlN0cmFpZ2h0PWZ1bmN0aW9uKEQpe2pzUGx1bWIuQ29ubmVjdG9ycy5TdHJhaWdodC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5nZXRQYXRoPWZ1bmN0aW9uKEUpe3JldHVyblwiTSBcIitFWzRdK1wiIFwiK0VbNV0rXCIgTCBcIitFWzZdK1wiIFwiK0VbN119fTtqc1BsdW1iLkNvbm5lY3RvcnMuc3ZnLkZsb3djaGFydD1mdW5jdGlvbigpe3ZhciBEPXRoaXM7anNQbHVtYi5Db25uZWN0b3JzLkZsb3djaGFydC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5nZXRQYXRoPWZ1bmN0aW9uKEYpe3ZhciBHPVwiTSBcIitGWzRdK1wiLFwiK0ZbNV07Zm9yKHZhciBFPTA7RTxGWzhdO0UrKyl7Rz1HK1wiIEwgXCIrRls5KyhFKjIpXStcIiBcIitGWzEwKyhFKjIpXX1HPUcrXCIgXCIrRls2XStcIixcIitGWzddO3JldHVybiBHfX07dmFyIHk9d2luZG93LlN2Z0VuZHBvaW50PWZ1bmN0aW9uKEUpe3ZhciBEPXRoaXM7cy5hcHBseSh0aGlzLFt7Y3NzQ2xhc3M6RS5fanNQbHVtYi5lbmRwb2ludENsYXNzLG9yaWdpbmFsQXJnczphcmd1bWVudHMscG9pbnRlckV2ZW50c1NwZWM6XCJhbGxcIix1c2VEaXZXcmFwcGVyOnRydWUsX2pzUGx1bWI6RS5fanNQbHVtYn1dKTt0aGlzLl9wYWludD1mdW5jdGlvbihILEcpe3ZhciBGPWpzUGx1bWIuZXh0ZW5kKHt9LEcpO2lmKEYub3V0bGluZUNvbG9yKXtGLnN0cm9rZVdpZHRoPUYub3V0bGluZVdpZHRoO0Yuc3Ryb2tlU3R5bGU9anNQbHVtYlV0aWwuY29udmVydFN0eWxlKEYub3V0bGluZUNvbG9yLHRydWUpfWlmKEQubm9kZT09bnVsbCl7RC5ub2RlPUQubWFrZU5vZGUoSCxGKTtELnN2Zy5hcHBlbmRDaGlsZChELm5vZGUpO0QuYXR0YWNoTGlzdGVuZXJzKEQubm9kZSxEKX14KEQuc3ZnLEQubm9kZSxGLEgsRCk7bihELm5vZGUsSCl9O3RoaXMucmVhdHRhY2hMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtpZihELm5vZGUpe0QucmVhdHRhY2hMaXN0ZW5lcnNGb3JFbGVtZW50KEQubm9kZSxEKX19fTtqc1BsdW1iLkVuZHBvaW50cy5zdmcuRG90PWZ1bmN0aW9uKCl7anNQbHVtYi5FbmRwb2ludHMuRG90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm1ha2VOb2RlPWZ1bmN0aW9uKEUsRCl7cmV0dXJuIGYoXCJjaXJjbGVcIix7Y3g6RVsyXS8yLGN5OkVbM10vMixyOkVbMl0vMn0pfX07anNQbHVtYi5FbmRwb2ludHMuc3ZnLlJlY3RhbmdsZT1mdW5jdGlvbigpe2pzUGx1bWIuRW5kcG9pbnRzLlJlY3RhbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5tYWtlTm9kZT1mdW5jdGlvbihFLEQpe3JldHVybiBmKFwicmVjdFwiLHt3aWR0aDpFWzJdLGhlaWdodDpFWzNdfSl9fTtqc1BsdW1iLkVuZHBvaW50cy5zdmcuSW1hZ2U9anNQbHVtYi5FbmRwb2ludHMuSW1hZ2U7anNQbHVtYi5FbmRwb2ludHMuc3ZnLkJsYW5rPWpzUGx1bWIuRW5kcG9pbnRzLkJsYW5rO2pzUGx1bWIuT3ZlcmxheXMuc3ZnLkxhYmVsPWpzUGx1bWIuT3ZlcmxheXMuTGFiZWw7dmFyIHA9ZnVuY3Rpb24oSCxGKXtILmFwcGx5KHRoaXMsRik7anNQbHVtYi5qc1BsdW1iVUlDb21wb25lbnQuYXBwbHkodGhpcyxGKTt0aGlzLmlzQXBwZW5kZWRBdFRvcExldmVsPWZhbHNlO3ZhciBEPXRoaXMsRz1udWxsO3RoaXMucGFpbnQ9ZnVuY3Rpb24oSixNLEksTixLKXtpZihHPT1udWxsKXtHPWYoXCJwYXRoXCIse1wicG9pbnRlci1ldmVudHNcIjpcImFsbFwifSk7Si5zdmcuYXBwZW5kQ2hpbGQoRyk7RC5hdHRhY2hMaXN0ZW5lcnMoRyxKKTtELmF0dGFjaExpc3RlbmVycyhHLEQpfXZhciBMPUYmJihGLmxlbmd0aD09MSk/KEZbMF0uY3NzQ2xhc3N8fFwiXCIpOlwiXCI7ZyhHLHtkOkUoTSksXCJjbGFzc1wiOkwsc3Ryb2tlOk4/TjpudWxsLGZpbGw6Sz9LOm51bGx9KX07dmFyIEU9ZnVuY3Rpb24oSSl7cmV0dXJuXCJNXCIrSS5oeHkueCtcIixcIitJLmh4eS55K1wiIExcIitJLnRhaWxbMF0ueCtcIixcIitJLnRhaWxbMF0ueStcIiBMXCIrSS5jeHkueCtcIixcIitJLmN4eS55K1wiIExcIitJLnRhaWxbMV0ueCtcIixcIitJLnRhaWxbMV0ueStcIiBMXCIrSS5oeHkueCtcIixcIitJLmh4eS55fTt0aGlzLnJlYXR0YWNoTGlzdGVuZXJzPWZ1bmN0aW9uKCl7aWYoRyl7RC5yZWF0dGFjaExpc3RlbmVyc0ZvckVsZW1lbnQoRyxEKX19O3RoaXMuY2xlYW51cD1mdW5jdGlvbigpe2lmKEchPW51bGwpe2pzUGx1bWIuQ3VycmVudExpYnJhcnkucmVtb3ZlRWxlbWVudChHKX19fTtqc1BsdW1iLk92ZXJsYXlzLnN2Zy5BcnJvdz1mdW5jdGlvbigpe3AuYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5BcnJvdyxhcmd1bWVudHNdKX07anNQbHVtYi5PdmVybGF5cy5zdmcuUGxhaW5BcnJvdz1mdW5jdGlvbigpe3AuYXBwbHkodGhpcyxbanNQbHVtYi5PdmVybGF5cy5QbGFpbkFycm93LGFyZ3VtZW50c10pfTtqc1BsdW1iLk92ZXJsYXlzLnN2Zy5EaWFtb25kPWZ1bmN0aW9uKCl7cC5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLkRpYW1vbmQsYXJndW1lbnRzXSl9O2pzUGx1bWIuT3ZlcmxheXMuc3ZnLkd1aWRlTGluZXM9ZnVuY3Rpb24oKXt2YXIgST1udWxsLEQ9dGhpcyxIPW51bGwsRyxGO2pzUGx1bWIuT3ZlcmxheXMuR3VpZGVMaW5lcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5wYWludD1mdW5jdGlvbihLLE0sSixOLEwpe2lmKEk9PW51bGwpe0k9ZihcInBhdGhcIik7Sy5zdmcuYXBwZW5kQ2hpbGQoSSk7RC5hdHRhY2hMaXN0ZW5lcnMoSSxLKTtELmF0dGFjaExpc3RlbmVycyhJLEQpO0c9ZihcInBhdGhcIik7Sy5zdmcuYXBwZW5kQ2hpbGQoRyk7RC5hdHRhY2hMaXN0ZW5lcnMoRyxLKTtELmF0dGFjaExpc3RlbmVycyhHLEQpO0Y9ZihcInBhdGhcIik7Sy5zdmcuYXBwZW5kQ2hpbGQoRik7RC5hdHRhY2hMaXN0ZW5lcnMoRixLKTtELmF0dGFjaExpc3RlbmVycyhGLEQpfWcoSSx7ZDpFKE1bMF0sTVsxXSksc3Ryb2tlOlwicmVkXCIsZmlsbDpudWxsfSk7ZyhHLHtkOkUoTVsyXVswXSxNWzJdWzFdKSxzdHJva2U6XCJibHVlXCIsZmlsbDpudWxsfSk7ZyhGLHtkOkUoTVszXVswXSxNWzNdWzFdKSxzdHJva2U6XCJncmVlblwiLGZpbGw6bnVsbH0pfTt2YXIgRT1mdW5jdGlvbihLLEope3JldHVyblwiTSBcIitLLngrXCIsXCIrSy55K1wiIExcIitKLngrXCIsXCIrSi55fX19KSgpOyhmdW5jdGlvbigpe3ZhciBkPW51bGwsaT1mdW5jdGlvbihwLG8pe3JldHVybiBqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5Lmhhc0NsYXNzKGEocCksbyl9LGE9ZnVuY3Rpb24obyl7cmV0dXJuIGpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChvKX0sbT1mdW5jdGlvbihvKXtyZXR1cm4ganNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRPZmZzZXQoYShvKSl9LG49ZnVuY3Rpb24obyl7cmV0dXJuIGpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0UGFnZVhZKG8pfSxmPWZ1bmN0aW9uKG8pe3JldHVybiBqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldENsaWVudFhZKG8pfTt2YXIgaz1mdW5jdGlvbigpe3ZhciBxPXRoaXM7cS5vdmVybGF5UGxhY2VtZW50cz1bXTtqc1BsdW1iLmpzUGx1bWJVSUNvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7anNQbHVtYlV0aWwuRXZlbnRHZW5lcmF0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX292ZXI9ZnVuY3Rpb24oeil7dmFyIEI9bShhKHEuY2FudmFzKSksRD1uKHopLHU9RFswXS1CLmxlZnQsQz1EWzFdLUIudG9wO2lmKHU+MCYmQz4wJiZ1PHEuY2FudmFzLndpZHRoJiZDPHEuY2FudmFzLmhlaWdodCl7Zm9yKHZhciB2PTA7djxxLm92ZXJsYXlQbGFjZW1lbnRzLmxlbmd0aDt2Kyspe3ZhciB3PXEub3ZlcmxheVBsYWNlbWVudHNbdl07aWYodyYmKHdbMF08PXUmJndbMV0+PXUmJndbMl08PUMmJndbM10+PUMpKXtyZXR1cm4gdHJ1ZX19dmFyIEE9cS5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLmdldEltYWdlRGF0YShwYXJzZUludCh1KSxwYXJzZUludChDKSwxLDEpO3JldHVybiBBLmRhdGFbMF0hPTB8fEEuZGF0YVsxXSE9MHx8QS5kYXRhWzJdIT0wfHxBLmRhdGFbM10hPTB9cmV0dXJuIGZhbHNlfTt2YXIgcD1mYWxzZSxvPWZhbHNlLHQ9bnVsbCxzPWZhbHNlLHI9ZnVuY3Rpb24odix1KXtyZXR1cm4gdiE9bnVsbCYmaSh2LHUpfTt0aGlzLm1vdXNlbW92ZT1mdW5jdGlvbih4KXt2YXIgej1uKHgpLHc9Zih4KSx2PWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQod1swXSx3WzFdKSx5PXIodixcIl9qc1BsdW1iX292ZXJsYXlcIik7dmFyIHU9ZD09bnVsbCYmKHIodixcIl9qc1BsdW1iX2VuZHBvaW50XCIpfHxyKHYsXCJfanNQbHVtYl9jb25uZWN0b3JcIikpO2lmKCFwJiZ1JiZxLl9vdmVyKHgpKXtwPXRydWU7cS5maXJlKFwibW91c2VlbnRlclwiLHEseCk7cmV0dXJuIHRydWV9ZWxzZXtpZihwJiYoIXEuX292ZXIoeCl8fCF1KSYmIXkpe3A9ZmFsc2U7cS5maXJlKFwibW91c2VleGl0XCIscSx4KX19cS5maXJlKFwibW91c2Vtb3ZlXCIscSx4KX07dGhpcy5jbGljaz1mdW5jdGlvbih1KXtpZihwJiZxLl9vdmVyKHUpJiYhcyl7cS5maXJlKFwiY2xpY2tcIixxLHUpfXM9ZmFsc2V9O3RoaXMuZGJsY2xpY2s9ZnVuY3Rpb24odSl7aWYocCYmcS5fb3Zlcih1KSYmIXMpe3EuZmlyZShcImRibGNsaWNrXCIscSx1KX1zPWZhbHNlfTt0aGlzLm1vdXNlZG93bj1mdW5jdGlvbih1KXtpZihxLl9vdmVyKHUpJiYhbyl7bz10cnVlO3Q9bShhKHEuY2FudmFzKSk7cS5maXJlKFwibW91c2Vkb3duXCIscSx1KX19O3RoaXMubW91c2V1cD1mdW5jdGlvbih1KXtvPWZhbHNlO3EuZmlyZShcIm1vdXNldXBcIixxLHUpfTt0aGlzLmNvbnRleHRtZW51PWZ1bmN0aW9uKHUpe2lmKHAmJnEuX292ZXIodSkmJiFzKXtxLmZpcmUoXCJjb250ZXh0bWVudVwiLHEsdSl9cz1mYWxzZX19O3ZhciBjPWZ1bmN0aW9uKHApe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cC5fanNQbHVtYi5hcHBlbmRFbGVtZW50KG8scC5wYXJlbnQpO28uc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiO2lmKHBbXCJjbGFzc1wiXSl7by5jbGFzc05hbWU9cFtcImNsYXNzXCJdfXAuX2pzUGx1bWIuZ2V0SWQobyxwLnV1aWQpO2lmKHAudG9vbHRpcCl7by5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHAudG9vbHRpcCl9cmV0dXJuIG99O3ZhciBsPWZ1bmN0aW9uKHApe2suYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBvPVtdO3RoaXMuZ2V0RGlzcGxheUVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIG99O3RoaXMuYXBwZW5kRGlzcGxheUVsZW1lbnQ9ZnVuY3Rpb24ocSl7by5wdXNoKHEpfX07dmFyIGg9anNQbHVtYi5DYW52YXNDb25uZWN0b3I9ZnVuY3Rpb24ocil7bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG89ZnVuY3Rpb24odix0KXtwLmN0eC5zYXZlKCk7anNQbHVtYi5leHRlbmQocC5jdHgsdCk7aWYodC5ncmFkaWVudCl7dmFyIHU9cC5jcmVhdGVHcmFkaWVudCh2LHAuY3R4KTtmb3IodmFyIHM9MDtzPHQuZ3JhZGllbnQuc3RvcHMubGVuZ3RoO3MrKyl7dS5hZGRDb2xvclN0b3AodC5ncmFkaWVudC5zdG9wc1tzXVswXSx0LmdyYWRpZW50LnN0b3BzW3NdWzFdKX1wLmN0eC5zdHJva2VTdHlsZT11fXAuX3BhaW50KHYsdCk7cC5jdHgucmVzdG9yZSgpfTt2YXIgcD10aGlzLHE9cC5fanNQbHVtYi5jb25uZWN0b3JDbGFzcytcIiBcIisoci5jc3NDbGFzc3x8XCJcIik7cC5jYW52YXM9Yyh7XCJjbGFzc1wiOnEsX2pzUGx1bWI6cC5fanNQbHVtYixwYXJlbnQ6ci5wYXJlbnQsdG9vbHRpcDpyLnRvb2x0aXB9KTtwLmN0eD1wLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7cC5hcHBlbmREaXNwbGF5RWxlbWVudChwLmNhbnZhcyk7cC5wYWludD1mdW5jdGlvbih3LHQpe2lmKHQhPW51bGwpe2pzUGx1bWIuc2l6ZUNhbnZhcyhwLmNhbnZhcyx3WzBdLHdbMV0sd1syXSx3WzNdKTtpZih0Lm91dGxpbmVDb2xvciE9bnVsbCl7dmFyIHY9dC5vdXRsaW5lV2lkdGh8fDEscz10LmxpbmVXaWR0aCsoMip2KSx1PXtzdHJva2VTdHlsZTp0Lm91dGxpbmVDb2xvcixsaW5lV2lkdGg6c307byh3LHUpfW8odyx0KX19fTt2YXIgYj1mdW5jdGlvbihyKXt2YXIgcD10aGlzO2wuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBxPXAuX2pzUGx1bWIuZW5kcG9pbnRDbGFzcytcIiBcIisoci5jc3NDbGFzc3x8XCJcIiksbz17XCJjbGFzc1wiOnEsX2pzUGx1bWI6cC5fanNQbHVtYixwYXJlbnQ6ci5wYXJlbnQsdG9vbHRpcDpwLnRvb2x0aXB9O3AuY2FudmFzPWMobyk7cC5jdHg9cC5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3AuYXBwZW5kRGlzcGxheUVsZW1lbnQocC5jYW52YXMpO3RoaXMucGFpbnQ9ZnVuY3Rpb24oeCx1LHMpe2pzUGx1bWIuc2l6ZUNhbnZhcyhwLmNhbnZhcyx4WzBdLHhbMV0seFsyXSx4WzNdKTtpZih1Lm91dGxpbmVDb2xvciE9bnVsbCl7dmFyIHc9dS5vdXRsaW5lV2lkdGh8fDEsdD11LmxpbmVXaWR0aCsoMip3KTt2YXIgdj17c3Ryb2tlU3R5bGU6dS5vdXRsaW5lQ29sb3IsbGluZVdpZHRoOnR9fXAuX3BhaW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O2pzUGx1bWIuRW5kcG9pbnRzLmNhbnZhcy5Eb3Q9ZnVuY3Rpb24ocil7anNQbHVtYi5FbmRwb2ludHMuRG90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgcT10aGlzLHA9ZnVuY3Rpb24ocyl7dHJ5e3JldHVybiBwYXJzZUludChzKX1jYXRjaCh0KXtpZihzLnN1YnN0cmluZyhzLmxlbmd0aC0xKT09XCIlXCIpe3JldHVybiBwYXJzZUludChzLnN1YnN0cmluZygwLHMtMSkpfX19LG89ZnVuY3Rpb24odSl7dmFyIHM9cS5kZWZhdWx0T2Zmc2V0LHQ9cS5kZWZhdWx0SW5uZXJSYWRpdXM7dS5vZmZzZXQmJihzPXAodS5vZmZzZXQpKTt1LmlubmVyUmFkaXVzJiYodD1wKHUuaW5uZXJSYWRpdXMpKTtyZXR1cm5bcyx0XX07dGhpcy5fcGFpbnQ9ZnVuY3Rpb24oQSx0LHgpe2lmKHQhPW51bGwpe3ZhciBCPXEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx1PXguZ2V0T3JpZW50YXRpb24ocSk7anNQbHVtYi5leHRlbmQoQix0KTtpZih0LmdyYWRpZW50KXt2YXIgdj1vKHQuZ3JhZGllbnQpLHk9dVsxXT09MT92WzBdKi0xOnZbMF0scz11WzBdPT0xP3ZbMF0qLTE6dlswXSx6PUIuY3JlYXRlUmFkaWFsR3JhZGllbnQoQVs0XSxBWzRdLEFbNF0sQVs0XStzLEFbNF0reSx2WzFdKTtmb3IodmFyIHc9MDt3PHQuZ3JhZGllbnQuc3RvcHMubGVuZ3RoO3crKyl7ei5hZGRDb2xvclN0b3AodC5ncmFkaWVudC5zdG9wc1t3XVswXSx0LmdyYWRpZW50LnN0b3BzW3ddWzFdKX1CLmZpbGxTdHlsZT16fUIuYmVnaW5QYXRoKCk7Qi5hcmMoQVs0XSxBWzRdLEFbNF0sMCxNYXRoLlBJKjIsdHJ1ZSk7Qi5jbG9zZVBhdGgoKTtpZih0LmZpbGxTdHlsZXx8dC5ncmFkaWVudCl7Qi5maWxsKCl9aWYodC5zdHJva2VTdHlsZSl7Qi5zdHJva2UoKX19fX07anNQbHVtYi5FbmRwb2ludHMuY2FudmFzLlJlY3RhbmdsZT1mdW5jdGlvbihwKXt2YXIgbz10aGlzO2pzUGx1bWIuRW5kcG9pbnRzLlJlY3RhbmdsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fcGFpbnQ9ZnVuY3Rpb24oeCxyLHYpe3ZhciBBPW8uY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0PXYuZ2V0T3JpZW50YXRpb24obyk7anNQbHVtYi5leHRlbmQoQSxyKTtpZihyLmdyYWRpZW50KXt2YXIgej10WzFdPT0xP3hbM106dFsxXT09MD94WzNdLzI6MDt2YXIgeT10WzFdPT0tMT94WzNdOnRbMV09PTA/eFszXS8yOjA7dmFyIHM9dFswXT09MT94WzJdOnRbMF09PTA/eFsyXS8yOjA7dmFyIHE9dFswXT09LTE/eFsyXTp0WzBdPT0wP3hbMl0vMjowO3ZhciB3PUEuY3JlYXRlTGluZWFyR3JhZGllbnQocyx6LHEseSk7Zm9yKHZhciB1PTA7dTxyLmdyYWRpZW50LnN0b3BzLmxlbmd0aDt1Kyspe3cuYWRkQ29sb3JTdG9wKHIuZ3JhZGllbnQuc3RvcHNbdV1bMF0sci5ncmFkaWVudC5zdG9wc1t1XVsxXSl9QS5maWxsU3R5bGU9d31BLmJlZ2luUGF0aCgpO0EucmVjdCgwLDAseFsyXSx4WzNdKTtBLmNsb3NlUGF0aCgpO2lmKHIuZmlsbFN0eWxlfHxyLmdyYWRpZW50KXtBLmZpbGwoKX1pZihyLnN0cm9rZVN0eWxlKXtBLnN0cm9rZSgpfX19O2pzUGx1bWIuRW5kcG9pbnRzLmNhbnZhcy5UcmlhbmdsZT1mdW5jdGlvbihwKXt2YXIgbz10aGlzO2pzUGx1bWIuRW5kcG9pbnRzLlRyaWFuZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9wYWludD1mdW5jdGlvbih6LHEsdil7dmFyIHM9elsyXSxDPXpbM10sQj16WzBdLEE9elsxXSxEPW8uY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx3PTAsdT0wLHQ9MCxyPXYuZ2V0T3JpZW50YXRpb24obyk7aWYoclswXT09MSl7dz1zO3U9Qzt0PTE4MH1pZihyWzFdPT0tMSl7dz1zO3Q9OTB9aWYoclsxXT09MSl7dT1DO3Q9LTkwfUQuZmlsbFN0eWxlPXEuZmlsbFN0eWxlO0QudHJhbnNsYXRlKHcsdSk7RC5yb3RhdGUodCpNYXRoLlBJLzE4MCk7RC5iZWdpblBhdGgoKTtELm1vdmVUbygwLDApO0QubGluZVRvKHMvMixDLzIpO0QubGluZVRvKDAsQyk7RC5jbG9zZVBhdGgoKTtpZihxLmZpbGxTdHlsZXx8cS5ncmFkaWVudCl7RC5maWxsKCl9aWYocS5zdHJva2VTdHlsZSl7RC5zdHJva2UoKX19fTtqc1BsdW1iLkVuZHBvaW50cy5jYW52YXMuSW1hZ2U9anNQbHVtYi5FbmRwb2ludHMuSW1hZ2U7anNQbHVtYi5FbmRwb2ludHMuY2FudmFzLkJsYW5rPWpzUGx1bWIuRW5kcG9pbnRzLkJsYW5rO2pzUGx1bWIuQ29ubmVjdG9ycy5jYW52YXMuQmV6aWVyPWZ1bmN0aW9uKCl7dmFyIG89dGhpcztqc1BsdW1iLkNvbm5lY3RvcnMuQmV6aWVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtoLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9wYWludD1mdW5jdGlvbihxLHApe28uY3R4LmJlZ2luUGF0aCgpO28uY3R4Lm1vdmVUbyhxWzRdLHFbNV0pO28uY3R4LmJlemllckN1cnZlVG8ocVs4XSxxWzldLHFbMTBdLHFbMTFdLHFbNl0scVs3XSk7by5jdHguc3Ryb2tlKCl9O3RoaXMuY3JlYXRlR3JhZGllbnQ9ZnVuY3Rpb24ocixwLHEpe3JldHVybiBvLmN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChyWzZdLHJbN10scls0XSxyWzVdKX19O2pzUGx1bWIuQ29ubmVjdG9ycy5jYW52YXMuU3RyYWlnaHQ9ZnVuY3Rpb24oKXt2YXIgcD10aGlzLG89W251bGwsWzEsLTFdLFsxLDFdLFstMSwxXSxbLTEsLTFdXTtqc1BsdW1iLkNvbm5lY3RvcnMuU3RyYWlnaHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2guYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3BhaW50PWZ1bmN0aW9uKHIsdCl7cC5jdHguYmVnaW5QYXRoKCk7aWYodC5kYXNoc3R5bGUmJnQuZGFzaHN0eWxlLnNwbGl0KFwiIFwiKS5sZW5ndGg9PTIpe3ZhciB2PXQuZGFzaHN0eWxlLnNwbGl0KFwiIFwiKTtpZih2Lmxlbmd0aCE9Mil7dj1bMiwyXX12YXIgQz1bdlswXSp0LmxpbmVXaWR0aCx2WzFdKnQubGluZVdpZHRoXSx5PShyWzZdLXJbNF0pLyhyWzddLXJbNV0pLEc9anNQbHVtYlV0aWwuc2VnbWVudChbcls0XSxyWzVdXSxbcls2XSxyWzddXSkseD1vW0ddLHU9TWF0aC5hdGFuKHkpLHo9TWF0aC5zcXJ0KE1hdGgucG93KHJbNl0tcls0XSwyKStNYXRoLnBvdyhyWzddLXJbNV0sMikpLEI9TWF0aC5mbG9vcih6LyhDWzBdK0NbMV0pKSx3PVtyWzRdLHJbNV1dO2Zvcih2YXIgQT0wO0E8QjtBKyspe3AuY3R4Lm1vdmVUbyh3WzBdLHdbMV0pO3ZhciBxPXdbMF0rKE1hdGguYWJzKE1hdGguc2luKHUpKkNbMF0pKnhbMF0pLEY9d1sxXSsoTWF0aC5hYnMoTWF0aC5jb3ModSkqQ1swXSkqeFsxXSksRT13WzBdKyhNYXRoLmFicyhNYXRoLnNpbih1KSooQ1swXStDWzFdKSkqeFswXSksRD13WzFdKyhNYXRoLmFicyhNYXRoLmNvcyh1KSooQ1swXStDWzFdKSkqeFsxXSk7cC5jdHgubGluZVRvKHEsRik7dz1bRSxEXX1wLmN0eC5tb3ZlVG8od1swXSx3WzFdKTtwLmN0eC5saW5lVG8ocls2XSxyWzddKX1lbHNle3AuY3R4Lm1vdmVUbyhyWzRdLHJbNV0pO3AuY3R4LmxpbmVUbyhyWzZdLHJbN10pfXAuY3R4LnN0cm9rZSgpfTt0aGlzLmNyZWF0ZUdyYWRpZW50PWZ1bmN0aW9uKHIscSl7cmV0dXJuIHEuY3JlYXRlTGluZWFyR3JhZGllbnQocls0XSxyWzVdLHJbNl0scls3XSl9fTtqc1BsdW1iLkNvbm5lY3RvcnMuY2FudmFzLkZsb3djaGFydD1mdW5jdGlvbigpe3ZhciBvPXRoaXM7anNQbHVtYi5Db25uZWN0b3JzLkZsb3djaGFydC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fcGFpbnQ9ZnVuY3Rpb24ocixxKXtvLmN0eC5iZWdpblBhdGgoKTtvLmN0eC5tb3ZlVG8ocls0XSxyWzVdKTtmb3IodmFyIHA9MDtwPHJbOF07cCsrKXtvLmN0eC5saW5lVG8ocls5KyhwKjIpXSxyWzEwKyhwKjIpXSl9by5jdHgubGluZVRvKHJbNl0scls3XSk7by5jdHguc3Ryb2tlKCl9O3RoaXMuY3JlYXRlR3JhZGllbnQ9ZnVuY3Rpb24ocSxwKXtyZXR1cm4gcC5jcmVhdGVMaW5lYXJHcmFkaWVudChxWzRdLHFbNV0scVs2XSxxWzddKX19O2pzUGx1bWIuT3ZlcmxheXMuY2FudmFzLkxhYmVsPWpzUGx1bWIuT3ZlcmxheXMuTGFiZWw7dmFyIGc9ZnVuY3Rpb24oKXtqc1BsdW1iLmpzUGx1bWJVSUNvbXBvbmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBlPWZ1bmN0aW9uKHAsbyl7cC5hcHBseSh0aGlzLG8pO2cuYXBwbHkodGhpcyxvKTt0aGlzLnBhaW50PWZ1bmN0aW9uKHMsdSxxLHYsdCl7dmFyIHI9cy5jdHg7ci5saW5lV2lkdGg9cTtyLmJlZ2luUGF0aCgpO3IubW92ZVRvKHUuaHh5LngsdS5oeHkueSk7ci5saW5lVG8odS50YWlsWzBdLngsdS50YWlsWzBdLnkpO3IubGluZVRvKHUuY3h5LngsdS5jeHkueSk7ci5saW5lVG8odS50YWlsWzFdLngsdS50YWlsWzFdLnkpO3IubGluZVRvKHUuaHh5LngsdS5oeHkueSk7ci5jbG9zZVBhdGgoKTtpZih2KXtyLnN0cm9rZVN0eWxlPXY7ci5zdHJva2UoKX1pZih0KXtyLmZpbGxTdHlsZT10O3IuZmlsbCgpfX19O2pzUGx1bWIuT3ZlcmxheXMuY2FudmFzLkFycm93PWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLkFycm93LGFyZ3VtZW50c10pfTtqc1BsdW1iLk92ZXJsYXlzLmNhbnZhcy5QbGFpbkFycm93PWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLFtqc1BsdW1iLk92ZXJsYXlzLlBsYWluQXJyb3csYXJndW1lbnRzXSl9O2pzUGx1bWIuT3ZlcmxheXMuY2FudmFzLkRpYW1vbmQ9ZnVuY3Rpb24oKXtlLmFwcGx5KHRoaXMsW2pzUGx1bWIuT3ZlcmxheXMuRGlhbW9uZCxhcmd1bWVudHNdKX19KSgpOyhmdW5jdGlvbihhKXtqc1BsdW1iLkN1cnJlbnRMaWJyYXJ5PXthZGRDbGFzczpmdW5jdGlvbihjLGIpe2M9anNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGMpO3RyeXtpZihjWzBdLmNsYXNzTmFtZS5jb25zdHJ1Y3Rvcj09U1ZHQW5pbWF0ZWRTdHJpbmcpe2pzUGx1bWIudXRpbC5zdmcuYWRkQ2xhc3MoY1swXSxiKX19Y2F0Y2goZCl7fWMuYWRkQ2xhc3MoYil9LGFuaW1hdGU6ZnVuY3Rpb24oZCxjLGIpe2QuYW5pbWF0ZShjLGIpfSxhcHBlbmRFbGVtZW50OmZ1bmN0aW9uKGMsYil7anNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGIpLmFwcGVuZChjKX0sYWpheDpmdW5jdGlvbihiKXtiPWJ8fHt9O2IudHlwZT1iLnR5cGV8fFwiZ2V0XCI7YS5hamF4KGIpfSxiaW5kOmZ1bmN0aW9uKGIsYyxkKXtiPWpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKTtiLmJpbmQoYyxkKX0sZHJhZ0V2ZW50czp7c3RhcnQ6XCJzdGFydFwiLHN0b3A6XCJzdG9wXCIsZHJhZzpcImRyYWdcIixzdGVwOlwic3RlcFwiLG92ZXI6XCJvdmVyXCIsb3V0Olwib3V0XCIsZHJvcDpcImRyb3BcIixjb21wbGV0ZTpcImNvbXBsZXRlXCJ9LGV4dGVuZDpmdW5jdGlvbihjLGIpe3JldHVybiBhLmV4dGVuZChjLGIpfSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYi5hdHRyKGMpfSxnZXRDbGllbnRYWTpmdW5jdGlvbihiKXtyZXR1cm5bYi5jbGllbnRYLGIuY2xpZW50WV19LGdldERvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudH0sZ2V0RHJhZ09iamVjdDpmdW5jdGlvbihiKXtyZXR1cm4gYlsxXS5kcmFnZ2FibGV9LGdldERyYWdTY29wZTpmdW5jdGlvbihiKXtyZXR1cm4gYi5kcmFnZ2FibGUoXCJvcHRpb25cIixcInNjb3BlXCIpfSxnZXREcm9wRXZlbnQ6ZnVuY3Rpb24oYil7cmV0dXJuIGJbMF19LGdldERyb3BTY29wZTpmdW5jdGlvbihiKXtyZXR1cm4gYi5kcm9wcGFibGUoXCJvcHRpb25cIixcInNjb3BlXCIpfSxnZXRET01FbGVtZW50OmZ1bmN0aW9uKGIpe2lmKHR5cGVvZihiKT09XCJzdHJpbmdcIil7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIpfWVsc2V7aWYoYi5jb250ZXh0KXtyZXR1cm4gYlswXX1lbHNle3JldHVybiBifX19LGdldEVsZW1lbnRPYmplY3Q6ZnVuY3Rpb24oYil7cmV0dXJuIHR5cGVvZihiKT09XCJzdHJpbmdcIj9hKFwiI1wiK2IpOmEoYil9LGdldE9mZnNldDpmdW5jdGlvbihiKXtyZXR1cm4gYi5vZmZzZXQoKX0sZ2V0T3JpZ2luYWxFdmVudDpmdW5jdGlvbihiKXtyZXR1cm4gYi5vcmlnaW5hbEV2ZW50fSxnZXRQYWdlWFk6ZnVuY3Rpb24oYil7cmV0dXJuW2IucGFnZVgsYi5wYWdlWV19LGdldFBhcmVudDpmdW5jdGlvbihiKXtyZXR1cm4ganNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGIpLnBhcmVudCgpfSxnZXRTY3JvbGxMZWZ0OmZ1bmN0aW9uKGIpe3JldHVybiBiLnNjcm9sbExlZnQoKX0sZ2V0U2Nyb2xsVG9wOmZ1bmN0aW9uKGIpe3JldHVybiBiLnNjcm9sbFRvcCgpfSxnZXRTZWxlY3RvcjpmdW5jdGlvbihiKXtyZXR1cm4gYShiKX0sZ2V0U2l6ZTpmdW5jdGlvbihiKXtyZXR1cm5bYi5vdXRlcldpZHRoKCksYi5vdXRlckhlaWdodCgpXX0sZ2V0VGFnTmFtZTpmdW5jdGlvbihiKXt2YXIgYz1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYik7cmV0dXJuIGMubGVuZ3RoPjA/Y1swXS50YWdOYW1lOm51bGx9LGdldFVJUG9zaXRpb246ZnVuY3Rpb24oYyl7aWYoYy5sZW5ndGg9PTEpe3JldD17bGVmdDpjWzBdLnBhZ2VYLHRvcDpjWzBdLnBhZ2VZfX1lbHNle3ZhciBkPWNbMV0sYj1kLm9mZnNldDtyZXQ9Ynx8ZC5hYnNvbHV0ZVBvc2l0aW9ufXJldHVybiByZXR9LGhhc0NsYXNzOmZ1bmN0aW9uKGMsYil7cmV0dXJuIGMuaGFzQ2xhc3MoYil9LGluaXREcmFnZ2FibGU6ZnVuY3Rpb24oYyxiLGQpe2I9Ynx8e307Yi5oZWxwZXI9bnVsbDtpZihkKXtiLnNjb3BlPWIuc2NvcGV8fGpzUGx1bWIuRGVmYXVsdHMuU2NvcGV9Yy5kcmFnZ2FibGUoYil9LGluaXREcm9wcGFibGU6ZnVuY3Rpb24oYyxiKXtiLnNjb3BlPWIuc2NvcGV8fGpzUGx1bWIuRGVmYXVsdHMuU2NvcGU7Yy5kcm9wcGFibGUoYil9LGlzQWxyZWFkeURyYWdnYWJsZTpmdW5jdGlvbihiKXtiPWpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKTtyZXR1cm4gYi5oYXNDbGFzcyhcInVpLWRyYWdnYWJsZVwiKX0saXNEcmFnU3VwcG9ydGVkOmZ1bmN0aW9uKGMsYil7cmV0dXJuIGMuZHJhZ2dhYmxlfSxpc0Ryb3BTdXBwb3J0ZWQ6ZnVuY3Rpb24oYyxiKXtyZXR1cm4gYy5kcm9wcGFibGV9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGMsYil7Yz1qc1BsdW1iLkN1cnJlbnRMaWJyYXJ5LmdldEVsZW1lbnRPYmplY3QoYyk7dHJ5e2lmKGNbMF0uY2xhc3NOYW1lLmNvbnN0cnVjdG9yPT1TVkdBbmltYXRlZFN0cmluZyl7anNQbHVtYi51dGlsLnN2Zy5yZW1vdmVDbGFzcyhjWzBdLGIpfX1jYXRjaChkKXt9Yy5yZW1vdmVDbGFzcyhiKX0scmVtb3ZlRWxlbWVudDpmdW5jdGlvbihiLGMpe2pzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChiKS5yZW1vdmUoKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGMsZCxiKXtjLmF0dHIoZCxiKX0sc2V0RHJhZ2dhYmxlOmZ1bmN0aW9uKGMsYil7Yy5kcmFnZ2FibGUoXCJvcHRpb25cIixcImRpc2FibGVkXCIsIWIpfSxzZXREcmFnU2NvcGU6ZnVuY3Rpb24oYyxiKXtjLmRyYWdnYWJsZShcIm9wdGlvblwiLFwic2NvcGVcIixiKX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGIsYyl7anNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGIpLm9mZnNldChjKX0sdHJpZ2dlcjpmdW5jdGlvbihkLGUsYil7dmFyIGM9alF1ZXJ5Ll9kYXRhKGpzUGx1bWIuQ3VycmVudExpYnJhcnkuZ2V0RWxlbWVudE9iamVjdChkKVswXSxcImhhbmRsZVwiKTtjKGIpfSx1bmJpbmQ6ZnVuY3Rpb24oYixjLGQpe2I9anNQbHVtYi5DdXJyZW50TGlicmFyeS5nZXRFbGVtZW50T2JqZWN0KGIpO2IudW5iaW5kKGMsZCl9fTthKGRvY3VtZW50KS5yZWFkeShqc1BsdW1iLmluaXQpfSkoalF1ZXJ5KTsoZnVuY3Rpb24oKXtcInVuZGVmaW5lZFwiPT10eXBlb2YgTWF0aC5zZ24mJihNYXRoLnNnbj1mdW5jdGlvbihsKXtyZXR1cm4gMD09bD8wOjA8bD8xOi0xfSk7dmFyIGQ9e3N1YnRyYWN0OmZ1bmN0aW9uKG0sbCl7cmV0dXJue3g6bS54LWwueCx5Om0ueS1sLnl9fSxkb3RQcm9kdWN0OmZ1bmN0aW9uKG0sbCl7cmV0dXJuIG0ueCpsLngrbS55KmwueX0sc3F1YXJlOmZ1bmN0aW9uKGwpe3JldHVybiBNYXRoLnNxcnQobC54KmwueCtsLnkqbC55KX0sc2NhbGU6ZnVuY3Rpb24obSxsKXtyZXR1cm57eDptLngqbCx5Om0ueSpsfX19LGY9TWF0aC5wb3coMiwtNjUpLGg9ZnVuY3Rpb24oeSx4KXtmb3IodmFyIHQ9W10sdj14Lmxlbmd0aC0xLHI9Mip2LTEscz1bXSx3PVtdLHA9W10scT1bXSxvPVtbMSwwLjYsMC4zLDAuMV0sWzAuNCwwLjYsMC42LDAuNF0sWzAuMSwwLjMsMC42LDFdXSx1PTA7dTw9djt1Kyspe3NbdV09ZC5zdWJ0cmFjdCh4W3VdLHkpfWZvcih1PTA7dTw9di0xO3UrKyl7d1t1XT1kLnN1YnRyYWN0KHhbdSsxXSx4W3VdKTt3W3VdPWQuc2NhbGUod1t1XSwzKX1mb3IodT0wO3U8PXYtMTt1Kyspe2Zvcih2YXIgbT0wO208PXY7bSsrKXtwW3VdfHwocFt1XT1bXSk7cFt1XVttXT1kLmRvdFByb2R1Y3Qod1t1XSxzW21dKX19Zm9yKHU9MDt1PD1yO3UrKyl7cVt1XXx8KHFbdV09W10pO3FbdV0ueT0wO3FbdV0ueD1wYXJzZUZsb2F0KHUpL3J9cj12LTE7Zm9yKHM9MDtzPD12K3I7cysrKXt1PU1hdGgubWF4KDAscy1yKTtmb3Iodz1NYXRoLm1pbihzLHYpO3U8PXc7dSsrKXtqPXMtdTtxW3Ural0ueT1xW3Ural0ueStwW2pdW3VdKm9bal1bdV19fXY9eC5sZW5ndGgtMTtxPWEocSwyKnYtMSx0LDApO3I9ZC5zdWJ0cmFjdCh5LHhbMF0pO3A9ZC5zcXVhcmUocik7Zm9yKHU9bz0wO3U8cTt1Kyspe3I9ZC5zdWJ0cmFjdCh5LGsoeCx2LHRbdV0sbnVsbCxudWxsKSk7cj1kLnNxdWFyZShyKTtpZihyPHApe3A9cjtvPXRbdV19fXI9ZC5zdWJ0cmFjdCh5LHhbdl0pO3I9ZC5zcXVhcmUocik7aWYocjxwKXtwPXI7bz0xfXJldHVybntsb2NhdGlvbjpvLGRpc3RhbmNlOnB9fSxhPWZ1bmN0aW9uKEMsQix4LHope3ZhciB2PVtdLHc9W10sQT1bXSx0PVtdLHU9MCxzLHk7eT1NYXRoLnNnbihDWzBdLnkpO2Zvcih2YXIgcT0xO3E8PUI7cSsrKXtzPU1hdGguc2duKENbcV0ueSk7cyE9eSYmdSsrO3k9c31zd2l0Y2godSl7Y2FzZSAwOnJldHVybiAwO2Nhc2UgMTppZih6Pj02NCl7eFswXT0oQ1swXS54K0NbQl0ueCkvMjtyZXR1cm4gMX12YXIgcCx1PUNbMF0ueS1DW0JdLnk7eT1DW0JdLngtQ1swXS54O3E9Q1swXS54KkNbQl0ueS1DW0JdLngqQ1swXS55O3M9bWF4X2Rpc3RhbmNlX2JlbG93PTA7Zm9yKHA9MTtwPEI7cCsrKXt2YXIgcj11KkNbcF0ueCt5KkNbcF0ueStxO3I+cz9zPXI6cjxtYXhfZGlzdGFuY2VfYmVsb3cmJihtYXhfZGlzdGFuY2VfYmVsb3c9cil9cD15O3M9KDEqKHEtcyktcCowKSooMS8oMCpwLXUqMSkpO3A9eTt5PXEtbWF4X2Rpc3RhbmNlX2JlbG93O3U9KDEqeS1wKjApKigxLygwKnAtdSoxKSk7eT1NYXRoLm1pbihzLHUpO2lmKE1hdGgubWF4KHMsdSkteTxmKXtBPUNbQl0ueC1DWzBdLng7dD1DW0JdLnktQ1swXS55O3hbMF09MCsxKihBKihDWzBdLnktMCktdCooQ1swXS54LTApKSooMS8oQSowLXQqMSkpO3JldHVybiAxfX1rKEMsQiwwLjUsdix3KTtDPWEodixCLEEseisxKTtCPWEodyxCLHQseisxKTtmb3Ioej0wO3o8Qzt6Kyspe3hbel09QVt6XX1mb3Ioej0wO3o8Qjt6Kyspe3hbeitDXT10W3pdfXJldHVybiBDK0J9LGs9ZnVuY3Rpb24obSxsLHAscSxuKXtmb3IodmFyIG89W1tdXSxyPTA7cjw9bDtyKyspe29bMF1bcl09bVtyXX1mb3IobT0xO208PWw7bSsrKXtmb3Iocj0wO3I8PWwtbTtyKyspe29bbV18fChvW21dPVtdKTtvW21dW3JdfHwob1ttXVtyXT17fSk7b1ttXVtyXS54PSgxLXApKm9bbS0xXVtyXS54K3Aqb1ttLTFdW3IrMV0ueDtvW21dW3JdLnk9KDEtcCkqb1ttLTFdW3JdLnkrcCpvW20tMV1bcisxXS55fX1pZihxIT1udWxsKXtmb3Iocj0wO3I8PWw7cisrKXtxW3JdPW9bcl1bMF19fWlmKG4hPW51bGwpe2ZvcihyPTA7cjw9bDtyKyspe25bcl09b1tsLXJdW3JdfX1yZXR1cm4gb1tsXVswXX0sZz17fSxlPWZ1bmN0aW9uKHQpe3ZhciBzPWdbdF07aWYoIXMpe3ZhciBzPVtdLHA9ZnVuY3Rpb24odSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxxPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHUpe3JldHVybiB1fX0sbj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih1KXtyZXR1cm4gMS11fX0sbz1mdW5jdGlvbih1KXtyZXR1cm4gZnVuY3Rpb24odil7Zm9yKHZhciB4PTEsdz0wO3c8dS5sZW5ndGg7dysrKXt4PXgqdVt3XSh2KX1yZXR1cm4geH19O3MucHVzaChuZXcgZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odSl7cmV0dXJuIE1hdGgucG93KHUsdCl9fSk7Zm9yKHZhciByPTE7cjx0O3IrKyl7Zm9yKHZhciBsPVtuZXcgcCh0KV0sbT0wO208dC1yO20rKyl7bC5wdXNoKG5ldyBxKX1mb3IobT0wO208cjttKyspe2wucHVzaChuZXcgbil9cy5wdXNoKG5ldyBvKGwpKX1zLnB1c2gobmV3IGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHUpe3JldHVybiBNYXRoLnBvdygxLXUsdCl9fSk7Z1t0XT1zfXJldHVybiBzfSxjPWZ1bmN0aW9uKG0sbCl7Zm9yKHZhciBwPWUobS5sZW5ndGgtMSkscT0wLG49MCxvPTA7bzxtLmxlbmd0aDtvKyspe3E9cSttW29dLngqcFtvXShsKTtuPW4rbVtvXS55KnBbb10obCl9cmV0dXJue3g6cSx5Om59fSxiPWZ1bmN0aW9uKG0sbCxwKXtmb3IodmFyIHE9YyhtLGwpLG49MCxvPXA+MD8xOi0xLHI9bnVsbDtuPE1hdGguYWJzKHApOyl7bD1sKzAuMDA1Km87cj1jKG0sbCk7bj1uK01hdGguc3FydChNYXRoLnBvdyhyLngtcS54LDIpK01hdGgucG93KHIueS1xLnksMikpO3E9cn1yZXR1cm57cG9pbnQ6cixsb2NhdGlvbjpsfX0saT1mdW5jdGlvbihtLGwpe3ZhciBvPWMobSxsKSxwPWMobS5zbGljZSgwLG0ubGVuZ3RoLTEpLGwpLG49cC55LW8ueSxvPXAueC1vLng7cmV0dXJuIG49PTA/SW5maW5pdHk6TWF0aC5hdGFuKG4vbyl9O3dpbmRvdy5qc0Jlemllcj17ZGlzdGFuY2VGcm9tQ3VydmU6aCxncmFkaWVudEF0UG9pbnQ6aSxncmFkaWVudEF0UG9pbnRBbG9uZ0N1cnZlRnJvbTpmdW5jdGlvbihtLGwsbil7bD1iKG0sbCxuKTtpZihsLmxvY2F0aW9uPjEpe2wubG9jYXRpb249MX1pZihsLmxvY2F0aW9uPDApe2wubG9jYXRpb249MH1yZXR1cm4gaShtLGwubG9jYXRpb24pfSxuZWFyZXN0UG9pbnRPbkN1cnZlOmZ1bmN0aW9uKG0sbCl7dmFyIG49aChtLGwpO3JldHVybntwb2ludDprKGwsbC5sZW5ndGgtMSxuLmxvY2F0aW9uLG51bGwsbnVsbCksbG9jYXRpb246bi5sb2NhdGlvbn19LHBvaW50T25DdXJ2ZTpjLHBvaW50QWxvbmdDdXJ2ZUZyb206ZnVuY3Rpb24obSxsLG4pe3JldHVybiBiKG0sbCxuKS5wb2ludH0scGVycGVuZGljdWxhclRvQ3VydmVBdDpmdW5jdGlvbihtLGwsbixvKXtsPWIobSxsLG89PW51bGw/MDpvKTttPWkobSxsLmxvY2F0aW9uKTtvPU1hdGguYXRhbigtMS9tKTttPW4vMipNYXRoLnNpbihvKTtuPW4vMipNYXRoLmNvcyhvKTtyZXR1cm5be3g6bC5wb2ludC54K24seTpsLnBvaW50LnkrbX0se3g6bC5wb2ludC54LW4seTpsLnBvaW50LnktbX1dfSxsb2NhdGlvbkFsb25nQ3VydmVGcm9tOmZ1bmN0aW9uKG0sbCxuKXtyZXR1cm4gYihtLGwsbikubG9jYXRpb259fX0pKCk7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyohIGpRdWVyeSBVSSAtIHYxLjExLjQgLSAyMDE1LTAzLTExXG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiogSW5jbHVkZXM6IGNvcmUuanMsIHdpZGdldC5qcywgbW91c2UuanMsIHBvc2l0aW9uLmpzLCBhY2NvcmRpb24uanMsIGF1dG9jb21wbGV0ZS5qcywgYnV0dG9uLmpzLCBkYXRlcGlja2VyLmpzLCBkaWFsb2cuanMsIGRyYWdnYWJsZS5qcywgZHJvcHBhYmxlLmpzLCBlZmZlY3QuanMsIGVmZmVjdC1ibGluZC5qcywgZWZmZWN0LWJvdW5jZS5qcywgZWZmZWN0LWNsaXAuanMsIGVmZmVjdC1kcm9wLmpzLCBlZmZlY3QtZXhwbG9kZS5qcywgZWZmZWN0LWZhZGUuanMsIGVmZmVjdC1mb2xkLmpzLCBlZmZlY3QtaGlnaGxpZ2h0LmpzLCBlZmZlY3QtcHVmZi5qcywgZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdC1zY2FsZS5qcywgZWZmZWN0LXNoYWtlLmpzLCBlZmZlY3Qtc2l6ZS5qcywgZWZmZWN0LXNsaWRlLmpzLCBlZmZlY3QtdHJhbnNmZXIuanMsIG1lbnUuanMsIHByb2dyZXNzYmFyLmpzLCByZXNpemFibGUuanMsIHNlbGVjdGFibGUuanMsIHNlbGVjdG1lbnUuanMsIHNsaWRlci5qcywgc29ydGFibGUuanMsIHNwaW5uZXIuanMsIHRhYnMuanMsIHRvb2x0aXAuanNcbiogQ29weXJpZ2h0IDIwMTUgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovXG5cbihmdW5jdGlvbiggZmFjdG9yeSApIHtcblx0aWYgKCB0cnVlICkge1xuXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdCEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFsgX193ZWJwYWNrX3JlcXVpcmVfXygwKSBdLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPSAoZmFjdG9yeSksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gKHR5cGVvZiBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18gPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHQoX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fLmFwcGx5KGV4cG9ydHMsIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18pKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFsc1xuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xuXHR9XG59KGZ1bmN0aW9uKCAkICkge1xuLyohXG4gKiBqUXVlcnkgVUkgQ29yZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NhdGVnb3J5L3VpLWNvcmUvXG4gKi9cblxuXG4vLyAkLnVpIG1pZ2h0IGV4aXN0IGZyb20gY29tcG9uZW50cyB3aXRoIG5vIGRlcGVuZGVuY2llcywgZS5nLiwgJC51aS5wb3NpdGlvblxuJC51aSA9ICQudWkgfHwge307XG5cbiQuZXh0ZW5kKCAkLnVpLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cblx0a2V5Q29kZToge1xuXHRcdEJBQ0tTUEFDRTogOCxcblx0XHRDT01NQTogMTg4LFxuXHRcdERFTEVURTogNDYsXG5cdFx0RE9XTjogNDAsXG5cdFx0RU5EOiAzNSxcblx0XHRFTlRFUjogMTMsXG5cdFx0RVNDQVBFOiAyNyxcblx0XHRIT01FOiAzNixcblx0XHRMRUZUOiAzNyxcblx0XHRQQUdFX0RPV046IDM0LFxuXHRcdFBBR0VfVVA6IDMzLFxuXHRcdFBFUklPRDogMTkwLFxuXHRcdFJJR0hUOiAzOSxcblx0XHRTUEFDRTogMzIsXG5cdFx0VEFCOiA5LFxuXHRcdFVQOiAzOFxuXHR9XG59KTtcblxuLy8gcGx1Z2luc1xuJC5mbi5leHRlbmQoe1xuXHRzY3JvbGxQYXJlbnQ6IGZ1bmN0aW9uKCBpbmNsdWRlSGlkZGVuICkge1xuXHRcdHZhciBwb3NpdGlvbiA9IHRoaXMuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGV4Y2x1ZGVTdGF0aWNQYXJlbnQgPSBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiLFxuXHRcdFx0b3ZlcmZsb3dSZWdleCA9IGluY2x1ZGVIaWRkZW4gPyAvKGF1dG98c2Nyb2xsfGhpZGRlbikvIDogLyhhdXRvfHNjcm9sbCkvLFxuXHRcdFx0c2Nyb2xsUGFyZW50ID0gdGhpcy5wYXJlbnRzKCkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHBhcmVudCA9ICQoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBleGNsdWRlU3RhdGljUGFyZW50ICYmIHBhcmVudC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gb3ZlcmZsb3dSZWdleC50ZXN0KCBwYXJlbnQuY3NzKCBcIm92ZXJmbG93XCIgKSArIHBhcmVudC5jc3MoIFwib3ZlcmZsb3cteVwiICkgKyBwYXJlbnQuY3NzKCBcIm92ZXJmbG93LXhcIiApICk7XG5cdFx0XHR9KS5lcSggMCApO1xuXG5cdFx0cmV0dXJuIHBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgIXNjcm9sbFBhcmVudC5sZW5ndGggPyAkKCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApIDogc2Nyb2xsUGFyZW50O1xuXHR9LFxuXG5cdHVuaXF1ZUlkOiAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHV1aWQgPSAwO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhdGhpcy5pZCApIHtcblx0XHRcdFx0XHR0aGlzLmlkID0gXCJ1aS1pZC1cIiArICggKyt1dWlkICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cdH0pKCksXG5cblx0cmVtb3ZlVW5pcXVlSWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIC9edWktaWQtXFxkKyQvLnRlc3QoIHRoaXMuaWQgKSApIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUF0dHIoIFwiaWRcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59KTtcblxuLy8gc2VsZWN0b3JzXG5mdW5jdGlvbiBmb2N1c2FibGUoIGVsZW1lbnQsIGlzVGFiSW5kZXhOb3ROYU4gKSB7XG5cdHZhciBtYXAsIG1hcE5hbWUsIGltZyxcblx0XHRub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0aWYgKCBcImFyZWFcIiA9PT0gbm9kZU5hbWUgKSB7XG5cdFx0bWFwID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXHRcdG1hcE5hbWUgPSBtYXAubmFtZTtcblx0XHRpZiAoICFlbGVtZW50LmhyZWYgfHwgIW1hcE5hbWUgfHwgbWFwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwibWFwXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdGltZyA9ICQoIFwiaW1nW3VzZW1hcD0nI1wiICsgbWFwTmFtZSArIFwiJ11cIiApWyAwIF07XG5cdFx0cmV0dXJuICEhaW1nICYmIHZpc2libGUoIGltZyApO1xuXHR9XG5cdHJldHVybiAoIC9eKGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvLnRlc3QoIG5vZGVOYW1lICkgP1xuXHRcdCFlbGVtZW50LmRpc2FibGVkIDpcblx0XHRcImFcIiA9PT0gbm9kZU5hbWUgP1xuXHRcdFx0ZWxlbWVudC5ocmVmIHx8IGlzVGFiSW5kZXhOb3ROYU4gOlxuXHRcdFx0aXNUYWJJbmRleE5vdE5hTikgJiZcblx0XHQvLyB0aGUgZWxlbWVudCBhbmQgYWxsIG9mIGl0cyBhbmNlc3RvcnMgbXVzdCBiZSB2aXNpYmxlXG5cdFx0dmlzaWJsZSggZWxlbWVudCApO1xufVxuXG5mdW5jdGlvbiB2aXNpYmxlKCBlbGVtZW50ICkge1xuXHRyZXR1cm4gJC5leHByLmZpbHRlcnMudmlzaWJsZSggZWxlbWVudCApICYmXG5cdFx0ISQoIGVsZW1lbnQgKS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAkLmNzcyggdGhpcywgXCJ2aXNpYmlsaXR5XCIgKSA9PT0gXCJoaWRkZW5cIjtcblx0XHR9KS5sZW5ndGg7XG59XG5cbiQuZXh0ZW5kKCAkLmV4cHJbIFwiOlwiIF0sIHtcblx0ZGF0YTogJC5leHByLmNyZWF0ZVBzZXVkbyA/XG5cdFx0JC5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbiggZGF0YU5hbWUgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAhISQuZGF0YSggZWxlbSwgZGF0YU5hbWUgKTtcblx0XHRcdH07XG5cdFx0fSkgOlxuXHRcdC8vIHN1cHBvcnQ6IGpRdWVyeSA8MS44XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGksIG1hdGNoICkge1xuXHRcdFx0cmV0dXJuICEhJC5kYXRhKCBlbGVtLCBtYXRjaFsgMyBdICk7XG5cdFx0fSxcblxuXHRmb2N1c2FibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHJldHVybiBmb2N1c2FibGUoIGVsZW1lbnQsICFpc05hTiggJC5hdHRyKCBlbGVtZW50LCBcInRhYmluZGV4XCIgKSApICk7XG5cdH0sXG5cblx0dGFiYmFibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciB0YWJJbmRleCA9ICQuYXR0ciggZWxlbWVudCwgXCJ0YWJpbmRleFwiICksXG5cdFx0XHRpc1RhYkluZGV4TmFOID0gaXNOYU4oIHRhYkluZGV4ICk7XG5cdFx0cmV0dXJuICggaXNUYWJJbmRleE5hTiB8fCB0YWJJbmRleCA+PSAwICkgJiYgZm9jdXNhYmxlKCBlbGVtZW50LCAhaXNUYWJJbmRleE5hTiApO1xuXHR9XG59KTtcblxuLy8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcbmlmICggISQoIFwiPGE+XCIgKS5vdXRlcldpZHRoKCAxICkuanF1ZXJ5ICkge1xuXHQkLmVhY2goIFsgXCJXaWR0aFwiLCBcIkhlaWdodFwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdHZhciBzaWRlID0gbmFtZSA9PT0gXCJXaWR0aFwiID8gWyBcIkxlZnRcIiwgXCJSaWdodFwiIF0gOiBbIFwiVG9wXCIsIFwiQm90dG9tXCIgXSxcblx0XHRcdHR5cGUgPSBuYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRvcmlnID0ge1xuXHRcdFx0XHRpbm5lcldpZHRoOiAkLmZuLmlubmVyV2lkdGgsXG5cdFx0XHRcdGlubmVySGVpZ2h0OiAkLmZuLmlubmVySGVpZ2h0LFxuXHRcdFx0XHRvdXRlcldpZHRoOiAkLmZuLm91dGVyV2lkdGgsXG5cdFx0XHRcdG91dGVySGVpZ2h0OiAkLmZuLm91dGVySGVpZ2h0XG5cdFx0XHR9O1xuXG5cdFx0ZnVuY3Rpb24gcmVkdWNlKCBlbGVtLCBzaXplLCBib3JkZXIsIG1hcmdpbiApIHtcblx0XHRcdCQuZWFjaCggc2lkZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNpemUgLT0gcGFyc2VGbG9hdCggJC5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgdGhpcyApICkgfHwgMDtcblx0XHRcdFx0aWYgKCBib3JkZXIgKSB7XG5cdFx0XHRcdFx0c2l6ZSAtPSBwYXJzZUZsb2F0KCAkLmNzcyggZWxlbSwgXCJib3JkZXJcIiArIHRoaXMgKyBcIldpZHRoXCIgKSApIHx8IDA7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBtYXJnaW4gKSB7XG5cdFx0XHRcdFx0c2l6ZSAtPSBwYXJzZUZsb2F0KCAkLmNzcyggZWxlbSwgXCJtYXJnaW5cIiArIHRoaXMgKSApIHx8IDA7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHNpemU7XG5cdFx0fVxuXG5cdFx0JC5mblsgXCJpbm5lclwiICsgbmFtZSBdID0gZnVuY3Rpb24oIHNpemUgKSB7XG5cdFx0XHRpZiAoIHNpemUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWdbIFwiaW5uZXJcIiArIG5hbWUgXS5jYWxsKCB0aGlzICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoIHRoaXMgKS5jc3MoIHR5cGUsIHJlZHVjZSggdGhpcywgc2l6ZSApICsgXCJweFwiICk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0JC5mblsgXCJvdXRlclwiICsgbmFtZV0gPSBmdW5jdGlvbiggc2l6ZSwgbWFyZ2luICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2l6ZSAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWdbIFwib3V0ZXJcIiArIG5hbWUgXS5jYWxsKCB0aGlzLCBzaXplICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoIHRoaXMpLmNzcyggdHlwZSwgcmVkdWNlKCB0aGlzLCBzaXplLCB0cnVlLCBtYXJnaW4gKSArIFwicHhcIiApO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0fSk7XG59XG5cbi8vIHN1cHBvcnQ6IGpRdWVyeSA8MS44XG5pZiAoICEkLmZuLmFkZEJhY2sgKSB7XG5cdCQuZm4uYWRkQmFjayA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH07XG59XG5cbi8vIHN1cHBvcnQ6IGpRdWVyeSAxLjYuMSwgMS42LjIgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0Lzk0MTMpXG5pZiAoICQoIFwiPGE+XCIgKS5kYXRhKCBcImEtYlwiLCBcImFcIiApLnJlbW92ZURhdGEoIFwiYS1iXCIgKS5kYXRhKCBcImEtYlwiICkgKSB7XG5cdCQuZm4ucmVtb3ZlRGF0YSA9IChmdW5jdGlvbiggcmVtb3ZlRGF0YSApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbW92ZURhdGEuY2FsbCggdGhpcywgJC5jYW1lbENhc2UoIGtleSApICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gcmVtb3ZlRGF0YS5jYWxsKCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSkoICQuZm4ucmVtb3ZlRGF0YSApO1xufVxuXG4vLyBkZXByZWNhdGVkXG4kLnVpLmllID0gISEvbXNpZSBbXFx3Ll0rLy5leGVjKCBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgKTtcblxuJC5mbi5leHRlbmQoe1xuXHRmb2N1czogKGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggZGVsYXksIGZuICkge1xuXHRcdFx0cmV0dXJuIHR5cGVvZiBkZWxheSA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdCQoIGVsZW0gKS5mb2N1cygpO1xuXHRcdFx0XHRcdFx0aWYgKCBmbiApIHtcblx0XHRcdFx0XHRcdFx0Zm4uY2FsbCggZWxlbSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sIGRlbGF5ICk7XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0b3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSkoICQuZm4uZm9jdXMgKSxcblxuXHRkaXNhYmxlU2VsZWN0aW9uOiAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGV2ZW50VHlwZSA9IFwib25zZWxlY3RzdGFydFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSA/XG5cdFx0XHRcInNlbGVjdHN0YXJ0XCIgOlxuXHRcdFx0XCJtb3VzZWRvd25cIjtcblxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmJpbmQoIGV2ZW50VHlwZSArIFwiLnVpLWRpc2FibGVTZWxlY3Rpb25cIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0fSkoKSxcblxuXHRlbmFibGVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnVuYmluZCggXCIudWktZGlzYWJsZVNlbGVjdGlvblwiICk7XG5cdH0sXG5cblx0ekluZGV4OiBmdW5jdGlvbiggekluZGV4ICkge1xuXHRcdGlmICggekluZGV4ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jc3MoIFwiekluZGV4XCIsIHpJbmRleCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXNbIDAgXSApLCBwb3NpdGlvbiwgdmFsdWU7XG5cdFx0XHR3aGlsZSAoIGVsZW0ubGVuZ3RoICYmIGVsZW1bIDAgXSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdC8vIElnbm9yZSB6LWluZGV4IGlmIHBvc2l0aW9uIGlzIHNldCB0byBhIHZhbHVlIHdoZXJlIHotaW5kZXggaXMgaWdub3JlZCBieSB0aGUgYnJvd3NlclxuXHRcdFx0XHQvLyBUaGlzIG1ha2VzIGJlaGF2aW9yIG9mIHRoaXMgZnVuY3Rpb24gY29uc2lzdGVudCBhY3Jvc3MgYnJvd3NlcnNcblx0XHRcdFx0Ly8gV2ViS2l0IGFsd2F5cyByZXR1cm5zIGF1dG8gaWYgdGhlIGVsZW1lbnQgaXMgcG9zaXRpb25lZFxuXHRcdFx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcblx0XHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcInJlbGF0aXZlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApIHtcblx0XHRcdFx0XHQvLyBJRSByZXR1cm5zIDAgd2hlbiB6SW5kZXggaXMgbm90IHNwZWNpZmllZFxuXHRcdFx0XHRcdC8vIG90aGVyIGJyb3dzZXJzIHJldHVybiBhIHN0cmluZ1xuXHRcdFx0XHRcdC8vIHdlIGlnbm9yZSB0aGUgY2FzZSBvZiBuZXN0ZWQgZWxlbWVudHMgd2l0aCBhbiBleHBsaWNpdCB2YWx1ZSBvZiAwXG5cdFx0XHRcdFx0Ly8gPGRpdiBzdHlsZT1cInotaW5kZXg6IC0xMDtcIj48ZGl2IHN0eWxlPVwiei1pbmRleDogMDtcIj48L2Rpdj48L2Rpdj5cblx0XHRcdFx0XHR2YWx1ZSA9IHBhcnNlSW50KCBlbGVtLmNzcyggXCJ6SW5kZXhcIiApLCAxMCApO1xuXHRcdFx0XHRcdGlmICggIWlzTmFOKCB2YWx1ZSApICYmIHZhbHVlICE9PSAwICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtID0gZWxlbS5wYXJlbnQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gMDtcblx0fVxufSk7XG5cbi8vICQudWkucGx1Z2luIGlzIGRlcHJlY2F0ZWQuIFVzZSAkLndpZGdldCgpIGV4dGVuc2lvbnMgaW5zdGVhZC5cbiQudWkucGx1Z2luID0ge1xuXHRhZGQ6IGZ1bmN0aW9uKCBtb2R1bGUsIG9wdGlvbiwgc2V0ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0cHJvdG8gPSAkLnVpWyBtb2R1bGUgXS5wcm90b3R5cGU7XG5cdFx0Zm9yICggaSBpbiBzZXQgKSB7XG5cdFx0XHRwcm90by5wbHVnaW5zWyBpIF0gPSBwcm90by5wbHVnaW5zWyBpIF0gfHwgW107XG5cdFx0XHRwcm90by5wbHVnaW5zWyBpIF0ucHVzaCggWyBvcHRpb24sIHNldFsgaSBdIF0gKTtcblx0XHR9XG5cdH0sXG5cdGNhbGw6IGZ1bmN0aW9uKCBpbnN0YW5jZSwgbmFtZSwgYXJncywgYWxsb3dEaXNjb25uZWN0ZWQgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRzZXQgPSBpbnN0YW5jZS5wbHVnaW5zWyBuYW1lIF07XG5cblx0XHRpZiAoICFzZXQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCAhYWxsb3dEaXNjb25uZWN0ZWQgJiYgKCAhaW5zdGFuY2UuZWxlbWVudFsgMCBdLnBhcmVudE5vZGUgfHwgaW5zdGFuY2UuZWxlbWVudFsgMCBdLnBhcmVudE5vZGUubm9kZVR5cGUgPT09IDExICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRpZiAoIGluc3RhbmNlLm9wdGlvbnNbIHNldFsgaSBdWyAwIF0gXSApIHtcblx0XHRcdFx0c2V0WyBpIF1bIDEgXS5hcHBseSggaW5zdGFuY2UuZWxlbWVudCwgYXJncyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBXaWRnZXQgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9qUXVlcnkud2lkZ2V0L1xuICovXG5cblxudmFyIHdpZGdldF91dWlkID0gMCxcblx0d2lkZ2V0X3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4kLmNsZWFuRGF0YSA9IChmdW5jdGlvbiggb3JpZyApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZXZlbnRzLCBlbGVtLCBpO1xuXHRcdGZvciAoIGkgPSAwOyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHR0cnkge1xuXG5cdFx0XHRcdC8vIE9ubHkgdHJpZ2dlciByZW1vdmUgd2hlbiBuZWNlc3NhcnkgdG8gc2F2ZSB0aW1lXG5cdFx0XHRcdGV2ZW50cyA9ICQuX2RhdGEoIGVsZW0sIFwiZXZlbnRzXCIgKTtcblx0XHRcdFx0aWYgKCBldmVudHMgJiYgZXZlbnRzLnJlbW92ZSApIHtcblx0XHRcdFx0XHQkKCBlbGVtICkudHJpZ2dlckhhbmRsZXIoIFwicmVtb3ZlXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC84MjM1XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0fVxuXHRcdG9yaWcoIGVsZW1zICk7XG5cdH07XG59KSggJC5jbGVhbkRhdGEgKTtcblxuJC53aWRnZXQgPSBmdW5jdGlvbiggbmFtZSwgYmFzZSwgcHJvdG90eXBlICkge1xuXHR2YXIgZnVsbE5hbWUsIGV4aXN0aW5nQ29uc3RydWN0b3IsIGNvbnN0cnVjdG9yLCBiYXNlUHJvdG90eXBlLFxuXHRcdC8vIHByb3hpZWRQcm90b3R5cGUgYWxsb3dzIHRoZSBwcm92aWRlZCBwcm90b3R5cGUgdG8gcmVtYWluIHVubW9kaWZpZWRcblx0XHQvLyBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFzIGEgbWl4aW4gZm9yIG11bHRpcGxlIHdpZGdldHMgKCM4ODc2KVxuXHRcdHByb3hpZWRQcm90b3R5cGUgPSB7fSxcblx0XHRuYW1lc3BhY2UgPSBuYW1lLnNwbGl0KCBcIi5cIiApWyAwIF07XG5cblx0bmFtZSA9IG5hbWUuc3BsaXQoIFwiLlwiIClbIDEgXTtcblx0ZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyBcIi1cIiArIG5hbWU7XG5cblx0aWYgKCAhcHJvdG90eXBlICkge1xuXHRcdHByb3RvdHlwZSA9IGJhc2U7XG5cdFx0YmFzZSA9ICQuV2lkZ2V0O1xuXHR9XG5cblx0Ly8gY3JlYXRlIHNlbGVjdG9yIGZvciBwbHVnaW5cblx0JC5leHByWyBcIjpcIiBdWyBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpIF0gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGZ1bGxOYW1lICk7XG5cdH07XG5cblx0JFsgbmFtZXNwYWNlIF0gPSAkWyBuYW1lc3BhY2UgXSB8fCB7fTtcblx0ZXhpc3RpbmdDb25zdHJ1Y3RvciA9ICRbIG5hbWVzcGFjZSBdWyBuYW1lIF07XG5cdGNvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xuXHRcdC8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBcIm5ld1wiIGtleXdvcmRcblx0XHRpZiAoICF0aGlzLl9jcmVhdGVXaWRnZXQgKSB7XG5cdFx0XHRyZXR1cm4gbmV3IGNvbnN0cnVjdG9yKCBvcHRpb25zLCBlbGVtZW50ICk7XG5cdFx0fVxuXG5cdFx0Ly8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlXG5cdFx0Ly8gbXVzdCB1c2UgXCJuZXdcIiBrZXl3b3JkICh0aGUgY29kZSBhYm92ZSBhbHdheXMgcGFzc2VzIGFyZ3MpXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7XG5cdFx0fVxuXHR9O1xuXHQvLyBleHRlbmQgd2l0aCB0aGUgZXhpc3RpbmcgY29uc3RydWN0b3IgdG8gY2Fycnkgb3ZlciBhbnkgc3RhdGljIHByb3BlcnRpZXNcblx0JC5leHRlbmQoIGNvbnN0cnVjdG9yLCBleGlzdGluZ0NvbnN0cnVjdG9yLCB7XG5cdFx0dmVyc2lvbjogcHJvdG90eXBlLnZlcnNpb24sXG5cdFx0Ly8gY29weSB0aGUgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoZSBwcm90b3R5cGUgaW4gY2FzZSB3ZSBuZWVkIHRvXG5cdFx0Ly8gcmVkZWZpbmUgdGhlIHdpZGdldCBsYXRlclxuXHRcdF9wcm90bzogJC5leHRlbmQoIHt9LCBwcm90b3R5cGUgKSxcblx0XHQvLyB0cmFjayB3aWRnZXRzIHRoYXQgaW5oZXJpdCBmcm9tIHRoaXMgd2lkZ2V0IGluIGNhc2UgdGhpcyB3aWRnZXQgaXNcblx0XHQvLyByZWRlZmluZWQgYWZ0ZXIgYSB3aWRnZXQgaW5oZXJpdHMgZnJvbSBpdFxuXHRcdF9jaGlsZENvbnN0cnVjdG9yczogW11cblx0fSk7XG5cblx0YmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlKCk7XG5cdC8vIHdlIG5lZWQgdG8gbWFrZSB0aGUgb3B0aW9ucyBoYXNoIGEgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIG5ldyBpbnN0YW5jZVxuXHQvLyBvdGhlcndpc2Ugd2UnbGwgbW9kaWZ5IHRoZSBvcHRpb25zIGhhc2ggb24gdGhlIHByb3RvdHlwZSB0aGF0IHdlJ3JlXG5cdC8vIGluaGVyaXRpbmcgZnJvbVxuXHRiYXNlUHJvdG90eXBlLm9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMgKTtcblx0JC5lYWNoKCBwcm90b3R5cGUsIGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHtcblx0XHRpZiAoICEkLmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSB2YWx1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cHJveGllZFByb3RvdHlwZVsgcHJvcCBdID0gKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIF9zdXBlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBiYXNlLnByb3RvdHlwZVsgcHJvcCBdLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0X3N1cGVyQXBwbHkgPSBmdW5jdGlvbiggYXJncyApIHtcblx0XHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJncyApO1xuXHRcdFx0XHR9O1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgX19zdXBlciA9IHRoaXMuX3N1cGVyLFxuXHRcdFx0XHRcdF9fc3VwZXJBcHBseSA9IHRoaXMuX3N1cGVyQXBwbHksXG5cdFx0XHRcdFx0cmV0dXJuVmFsdWU7XG5cblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfc3VwZXJBcHBseTtcblxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHZhbHVlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHR0aGlzLl9zdXBlciA9IF9fc3VwZXI7XG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfX3N1cGVyQXBwbHk7XG5cblx0XHRcdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHRcdFx0fTtcblx0XHR9KSgpO1xuXHR9KTtcblx0Y29uc3RydWN0b3IucHJvdG90eXBlID0gJC53aWRnZXQuZXh0ZW5kKCBiYXNlUHJvdG90eXBlLCB7XG5cdFx0Ly8gVE9ETzogcmVtb3ZlIHN1cHBvcnQgZm9yIHdpZGdldEV2ZW50UHJlZml4XG5cdFx0Ly8gYWx3YXlzIHVzZSB0aGUgbmFtZSArIGEgY29sb24gYXMgdGhlIHByZWZpeCwgZS5nLiwgZHJhZ2dhYmxlOnN0YXJ0XG5cdFx0Ly8gZG9uJ3QgcHJlZml4IGZvciB3aWRnZXRzIHRoYXQgYXJlbid0IERPTS1iYXNlZFxuXHRcdHdpZGdldEV2ZW50UHJlZml4OiBleGlzdGluZ0NvbnN0cnVjdG9yID8gKGJhc2VQcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXggfHwgbmFtZSkgOiBuYW1lXG5cdH0sIHByb3hpZWRQcm90b3R5cGUsIHtcblx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG5cdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2UsXG5cdFx0d2lkZ2V0TmFtZTogbmFtZSxcblx0XHR3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcblx0fSk7XG5cblx0Ly8gSWYgdGhpcyB3aWRnZXQgaXMgYmVpbmcgcmVkZWZpbmVkIHRoZW4gd2UgbmVlZCB0byBmaW5kIGFsbCB3aWRnZXRzIHRoYXRcblx0Ly8gYXJlIGluaGVyaXRpbmcgZnJvbSBpdCBhbmQgcmVkZWZpbmUgYWxsIG9mIHRoZW0gc28gdGhhdCB0aGV5IGluaGVyaXQgZnJvbVxuXHQvLyB0aGUgbmV3IHZlcnNpb24gb2YgdGhpcyB3aWRnZXQuIFdlJ3JlIGVzc2VudGlhbGx5IHRyeWluZyB0byByZXBsYWNlIG9uZVxuXHQvLyBsZXZlbCBpbiB0aGUgcHJvdG90eXBlIGNoYWluLlxuXHRpZiAoIGV4aXN0aW5nQ29uc3RydWN0b3IgKSB7XG5cdFx0JC5lYWNoKCBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycywgZnVuY3Rpb24oIGksIGNoaWxkICkge1xuXHRcdFx0dmFyIGNoaWxkUHJvdG90eXBlID0gY2hpbGQucHJvdG90eXBlO1xuXG5cdFx0XHQvLyByZWRlZmluZSB0aGUgY2hpbGQgd2lkZ2V0IHVzaW5nIHRoZSBzYW1lIHByb3RvdHlwZSB0aGF0IHdhc1xuXHRcdFx0Ly8gb3JpZ2luYWxseSB1c2VkLCBidXQgaW5oZXJpdCBmcm9tIHRoZSBuZXcgdmVyc2lvbiBvZiB0aGUgYmFzZVxuXHRcdFx0JC53aWRnZXQoIGNoaWxkUHJvdG90eXBlLm5hbWVzcGFjZSArIFwiLlwiICsgY2hpbGRQcm90b3R5cGUud2lkZ2V0TmFtZSwgY29uc3RydWN0b3IsIGNoaWxkLl9wcm90byApO1xuXHRcdH0pO1xuXHRcdC8vIHJlbW92ZSB0aGUgbGlzdCBvZiBleGlzdGluZyBjaGlsZCBjb25zdHJ1Y3RvcnMgZnJvbSB0aGUgb2xkIGNvbnN0cnVjdG9yXG5cdFx0Ly8gc28gdGhlIG9sZCBjaGlsZCBjb25zdHJ1Y3RvcnMgY2FuIGJlIGdhcmJhZ2UgY29sbGVjdGVkXG5cdFx0ZGVsZXRlIGV4aXN0aW5nQ29uc3RydWN0b3IuX2NoaWxkQ29uc3RydWN0b3JzO1xuXHR9IGVsc2Uge1xuXHRcdGJhc2UuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goIGNvbnN0cnVjdG9yICk7XG5cdH1cblxuXHQkLndpZGdldC5icmlkZ2UoIG5hbWUsIGNvbnN0cnVjdG9yICk7XG5cblx0cmV0dXJuIGNvbnN0cnVjdG9yO1xufTtcblxuJC53aWRnZXQuZXh0ZW5kID0gZnVuY3Rpb24oIHRhcmdldCApIHtcblx0dmFyIGlucHV0ID0gd2lkZ2V0X3NsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApLFxuXHRcdGlucHV0SW5kZXggPSAwLFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdGtleSxcblx0XHR2YWx1ZTtcblx0Zm9yICggOyBpbnB1dEluZGV4IDwgaW5wdXRMZW5ndGg7IGlucHV0SW5kZXgrKyApIHtcblx0XHRmb3IgKCBrZXkgaW4gaW5wdXRbIGlucHV0SW5kZXggXSApIHtcblx0XHRcdHZhbHVlID0gaW5wdXRbIGlucHV0SW5kZXggXVsga2V5IF07XG5cdFx0XHRpZiAoIGlucHV0WyBpbnB1dEluZGV4IF0uaGFzT3duUHJvcGVydHkoIGtleSApICYmIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdC8vIENsb25lIG9iamVjdHNcblx0XHRcdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9ICQuaXNQbGFpbk9iamVjdCggdGFyZ2V0WyBrZXkgXSApID9cblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHRhcmdldFsga2V5IF0sIHZhbHVlICkgOlxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgZXh0ZW5kIHN0cmluZ3MsIGFycmF5cywgZXRjLiB3aXRoIG9iamVjdHNcblx0XHRcdFx0XHRcdCQud2lkZ2V0LmV4dGVuZCgge30sIHZhbHVlICk7XG5cdFx0XHRcdC8vIENvcHkgZXZlcnl0aGluZyBlbHNlIGJ5IHJlZmVyZW5jZVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRhcmdldFsga2V5IF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGFyZ2V0O1xufTtcblxuJC53aWRnZXQuYnJpZGdlID0gZnVuY3Rpb24oIG5hbWUsIG9iamVjdCApIHtcblx0dmFyIGZ1bGxOYW1lID0gb2JqZWN0LnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZSB8fCBuYW1lO1xuXHQkLmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIsXG5cdFx0XHRhcmdzID0gd2lkZ2V0X3NsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApLFxuXHRcdFx0cmV0dXJuVmFsdWUgPSB0aGlzO1xuXG5cdFx0aWYgKCBpc01ldGhvZENhbGwgKSB7XG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBtZXRob2RWYWx1ZSxcblx0XHRcdFx0XHRpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgZnVsbE5hbWUgKTtcblx0XHRcdFx0aWYgKCBvcHRpb25zID09PSBcImluc3RhbmNlXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhaW5zdGFuY2UgKSB7XG5cdFx0XHRcdFx0cmV0dXJuICQuZXJyb3IoIFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBcIiArIG5hbWUgKyBcIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgXCIgK1xuXHRcdFx0XHRcdFx0XCJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiICsgb3B0aW9ucyArIFwiJ1wiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCBpbnN0YW5jZVtvcHRpb25zXSApIHx8IG9wdGlvbnMuY2hhckF0KCAwICkgPT09IFwiX1wiICkge1xuXHRcdFx0XHRcdHJldHVybiAkLmVycm9yKCBcIm5vIHN1Y2ggbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIicgZm9yIFwiICsgbmFtZSArIFwiIHdpZGdldCBpbnN0YW5jZVwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bWV0aG9kVmFsdWUgPSBpbnN0YW5jZVsgb3B0aW9ucyBdLmFwcGx5KCBpbnN0YW5jZSwgYXJncyApO1xuXHRcdFx0XHRpZiAoIG1ldGhvZFZhbHVlICE9PSBpbnN0YW5jZSAmJiBtZXRob2RWYWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVyblZhbHVlID0gbWV0aG9kVmFsdWUgJiYgbWV0aG9kVmFsdWUuanF1ZXJ5ID9cblx0XHRcdFx0XHRcdHJldHVyblZhbHVlLnB1c2hTdGFjayggbWV0aG9kVmFsdWUuZ2V0KCkgKSA6XG5cdFx0XHRcdFx0XHRtZXRob2RWYWx1ZTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdFxuXHRcdFx0aWYgKCBhcmdzLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZC5hcHBseSggbnVsbCwgWyBvcHRpb25zIF0uY29uY2F0KGFyZ3MpICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBmdWxsTmFtZSApO1xuXHRcdFx0XHRpZiAoIGluc3RhbmNlICkge1xuXHRcdFx0XHRcdGluc3RhbmNlLm9wdGlvbiggb3B0aW9ucyB8fCB7fSApO1xuXHRcdFx0XHRcdGlmICggaW5zdGFuY2UuX2luaXQgKSB7XG5cdFx0XHRcdFx0XHRpbnN0YW5jZS5faW5pdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lLCBuZXcgb2JqZWN0KCBvcHRpb25zLCB0aGlzICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xuXHR9O1xufTtcblxuJC5XaWRnZXQgPSBmdW5jdGlvbiggLyogb3B0aW9ucywgZWxlbWVudCAqLyApIHt9O1xuJC5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzID0gW107XG5cbiQuV2lkZ2V0LnByb3RvdHlwZSA9IHtcblx0d2lkZ2V0TmFtZTogXCJ3aWRnZXRcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwiXCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxkaXY+XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRkaXNhYmxlZDogZmFsc2UsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRjcmVhdGU6IG51bGxcblx0fSxcblx0X2NyZWF0ZVdpZGdldDogZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7XG5cdFx0ZWxlbWVudCA9ICQoIGVsZW1lbnQgfHwgdGhpcy5kZWZhdWx0RWxlbWVudCB8fCB0aGlzIClbIDAgXTtcblx0XHR0aGlzLmVsZW1lbnQgPSAkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy51dWlkID0gd2lkZ2V0X3V1aWQrKztcblx0XHR0aGlzLmV2ZW50TmFtZXNwYWNlID0gXCIuXCIgKyB0aGlzLndpZGdldE5hbWUgKyB0aGlzLnV1aWQ7XG5cblx0XHR0aGlzLmJpbmRpbmdzID0gJCgpO1xuXHRcdHRoaXMuaG92ZXJhYmxlID0gJCgpO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCgpO1xuXG5cdFx0aWYgKCBlbGVtZW50ICE9PSB0aGlzICkge1xuXHRcdFx0JC5kYXRhKCBlbGVtZW50LCB0aGlzLndpZGdldEZ1bGxOYW1lLCB0aGlzICk7XG5cdFx0XHR0aGlzLl9vbiggdHJ1ZSwgdGhpcy5lbGVtZW50LCB7XG5cdFx0XHRcdHJlbW92ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdGlmICggZXZlbnQudGFyZ2V0ID09PSBlbGVtZW50ICkge1xuXHRcdFx0XHRcdFx0dGhpcy5kZXN0cm95KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuZG9jdW1lbnQgPSAkKCBlbGVtZW50LnN0eWxlID9cblx0XHRcdFx0Ly8gZWxlbWVudCB3aXRoaW4gdGhlIGRvY3VtZW50XG5cdFx0XHRcdGVsZW1lbnQub3duZXJEb2N1bWVudCA6XG5cdFx0XHRcdC8vIGVsZW1lbnQgaXMgd2luZG93IG9yIGRvY3VtZW50XG5cdFx0XHRcdGVsZW1lbnQuZG9jdW1lbnQgfHwgZWxlbWVudCApO1xuXHRcdFx0dGhpcy53aW5kb3cgPSAkKCB0aGlzLmRvY3VtZW50WzBdLmRlZmF1bHRWaWV3IHx8IHRoaXMuZG9jdW1lbnRbMF0ucGFyZW50V2luZG93ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vcHRpb25zID0gJC53aWRnZXQuZXh0ZW5kKCB7fSxcblx0XHRcdHRoaXMub3B0aW9ucyxcblx0XHRcdHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxcblx0XHRcdG9wdGlvbnMgKTtcblxuXHRcdHRoaXMuX2NyZWF0ZSgpO1xuXHRcdHRoaXMuX3RyaWdnZXIoIFwiY3JlYXRlXCIsIG51bGwsIHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpICk7XG5cdFx0dGhpcy5faW5pdCgpO1xuXHR9LFxuXHRfZ2V0Q3JlYXRlT3B0aW9uczogJC5ub29wLFxuXHRfZ2V0Q3JlYXRlRXZlbnREYXRhOiAkLm5vb3AsXG5cdF9jcmVhdGU6ICQubm9vcCxcblx0X2luaXQ6ICQubm9vcCxcblxuXHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9kZXN0cm95KCk7XG5cdFx0Ly8gd2UgY2FuIHByb2JhYmx5IHJlbW92ZSB0aGUgdW5iaW5kIGNhbGxzIGluIDIuMFxuXHRcdC8vIGFsbCBldmVudCBiaW5kaW5ncyBzaG91bGQgZ28gdGhyb3VnaCB0aGlzLl9vbigpXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQudW5iaW5kKCB0aGlzLmV2ZW50TmFtZXNwYWNlIClcblx0XHRcdC5yZW1vdmVEYXRhKCB0aGlzLndpZGdldEZ1bGxOYW1lIClcblx0XHRcdC8vIHN1cHBvcnQ6IGpxdWVyeSA8MS42LjNcblx0XHRcdC8vIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0Lzk0MTNcblx0XHRcdC5yZW1vdmVEYXRhKCAkLmNhbWVsQ2FzZSggdGhpcy53aWRnZXRGdWxsTmFtZSApICk7XG5cdFx0dGhpcy53aWRnZXQoKVxuXHRcdFx0LnVuYmluZCggdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKVxuXHRcdFx0LnJlbW92ZUNsYXNzKFxuXHRcdFx0XHR0aGlzLndpZGdldEZ1bGxOYW1lICsgXCItZGlzYWJsZWQgXCIgK1xuXHRcdFx0XHRcInVpLXN0YXRlLWRpc2FibGVkXCIgKTtcblxuXHRcdC8vIGNsZWFuIHVwIGV2ZW50cyBhbmQgc3RhdGVzXG5cdFx0dGhpcy5iaW5kaW5ncy51bmJpbmQoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcblx0XHR0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0dGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHR9LFxuXHRfZGVzdHJveTogJC5ub29wLFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWxlbWVudDtcblx0fSxcblxuXHRvcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBvcHRpb25zID0ga2V5LFxuXHRcdFx0cGFydHMsXG5cdFx0XHRjdXJPcHRpb24sXG5cdFx0XHRpO1xuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkge1xuXHRcdFx0Ly8gZG9uJ3QgcmV0dXJuIGEgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBoYXNoXG5cdFx0XHRyZXR1cm4gJC53aWRnZXQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Ly8gaGFuZGxlIG5lc3RlZCBrZXlzLCBlLmcuLCBcImZvby5iYXJcIiA9PiB7IGZvbzogeyBiYXI6IF9fXyB9IH1cblx0XHRcdG9wdGlvbnMgPSB7fTtcblx0XHRcdHBhcnRzID0ga2V5LnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0a2V5ID0gcGFydHMuc2hpZnQoKTtcblx0XHRcdGlmICggcGFydHMubGVuZ3RoICkge1xuXHRcdFx0XHRjdXJPcHRpb24gPSBvcHRpb25zWyBrZXkgXSA9ICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9uc1sga2V5IF0gKTtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKysgKSB7XG5cdFx0XHRcdFx0Y3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXSB8fCB7fTtcblx0XHRcdFx0XHRjdXJPcHRpb24gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRrZXkgPSBwYXJ0cy5wb3AoKTtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0XHRcdHJldHVybiBjdXJPcHRpb25bIGtleSBdID09PSB1bmRlZmluZWQgPyBudWxsIDogY3VyT3B0aW9uWyBrZXkgXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjdXJPcHRpb25bIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uc1sga2V5IF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLm9wdGlvbnNbIGtleSBdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9wdGlvbnNbIGtleSBdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5fc2V0T3B0aW9ucyggb3B0aW9ucyApO1xuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0Zm9yICgga2V5IGluIG9wdGlvbnMgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb24oIGtleSwgb3B0aW9uc1sga2V5IF0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5vcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMud2lkZ2V0KClcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCB0aGlzLndpZGdldEZ1bGxOYW1lICsgXCItZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXG5cdFx0XHQvLyBJZiB0aGUgd2lkZ2V0IGlzIGJlY29taW5nIGRpc2FibGVkLCB0aGVuIG5vdGhpbmcgaXMgaW50ZXJhY3RpdmVcblx0XHRcdGlmICggdmFsdWUgKSB7XG5cdFx0XHRcdHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcblx0XHRcdFx0dGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGVuYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoeyBkaXNhYmxlZDogZmFsc2UgfSk7XG5cdH0sXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IHRydWUgfSk7XG5cdH0sXG5cblx0X29uOiBmdW5jdGlvbiggc3VwcHJlc3NEaXNhYmxlZENoZWNrLCBlbGVtZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgZGVsZWdhdGVFbGVtZW50LFxuXHRcdFx0aW5zdGFuY2UgPSB0aGlzO1xuXG5cdFx0Ly8gbm8gc3VwcHJlc3NEaXNhYmxlZENoZWNrIGZsYWcsIHNodWZmbGUgYXJndW1lbnRzXG5cdFx0aWYgKCB0eXBlb2Ygc3VwcHJlc3NEaXNhYmxlZENoZWNrICE9PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcblx0XHRcdGVsZW1lbnQgPSBzdXBwcmVzc0Rpc2FibGVkQ2hlY2s7XG5cdFx0XHRzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBubyBlbGVtZW50IGFyZ3VtZW50LCBzaHVmZmxlIGFuZCB1c2UgdGhpcy5lbGVtZW50XG5cdFx0aWYgKCAhaGFuZGxlcnMgKSB7XG5cdFx0XHRoYW5kbGVycyA9IGVsZW1lbnQ7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXHRcdFx0ZGVsZWdhdGVFbGVtZW50ID0gdGhpcy53aWRnZXQoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudCA9IGRlbGVnYXRlRWxlbWVudCA9ICQoIGVsZW1lbnQgKTtcblx0XHRcdHRoaXMuYmluZGluZ3MgPSB0aGlzLmJpbmRpbmdzLmFkZCggZWxlbWVudCApO1xuXHRcdH1cblxuXHRcdCQuZWFjaCggaGFuZGxlcnMsIGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlciApIHtcblx0XHRcdGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcblx0XHRcdFx0Ly8gYWxsb3cgd2lkZ2V0cyB0byBjdXN0b21pemUgdGhlIGRpc2FibGVkIGhhbmRsaW5nXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgYXMgYW4gYXJyYXkgaW5zdGVhZCBvZiBib29sZWFuXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgY2xhc3MgYXMgbWV0aG9kIGZvciBkaXNhYmxpbmcgaW5kaXZpZHVhbCBwYXJ0c1xuXHRcdFx0XHRpZiAoICFzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgJiZcblx0XHRcdFx0XHRcdCggaW5zdGFuY2Uub3B0aW9ucy5kaXNhYmxlZCA9PT0gdHJ1ZSB8fFxuXHRcdFx0XHRcdFx0XHQkKCB0aGlzICkuaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAoIHR5cGVvZiBoYW5kbGVyID09PSBcInN0cmluZ1wiID8gaW5zdGFuY2VbIGhhbmRsZXIgXSA6IGhhbmRsZXIgKVxuXHRcdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjb3B5IHRoZSBndWlkIHNvIGRpcmVjdCB1bmJpbmRpbmcgd29ya3Ncblx0XHRcdGlmICggdHlwZW9mIGhhbmRsZXIgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdGhhbmRsZXJQcm94eS5ndWlkID0gaGFuZGxlci5ndWlkID1cblx0XHRcdFx0XHRoYW5kbGVyLmd1aWQgfHwgaGFuZGxlclByb3h5Lmd1aWQgfHwgJC5ndWlkKys7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBtYXRjaCA9IGV2ZW50Lm1hdGNoKCAvXihbXFx3Oi1dKilcXHMqKC4qKSQvICksXG5cdFx0XHRcdGV2ZW50TmFtZSA9IG1hdGNoWzFdICsgaW5zdGFuY2UuZXZlbnROYW1lc3BhY2UsXG5cdFx0XHRcdHNlbGVjdG9yID0gbWF0Y2hbMl07XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRkZWxlZ2F0ZUVsZW1lbnQuZGVsZWdhdGUoIHNlbGVjdG9yLCBldmVudE5hbWUsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudC5iaW5kKCBldmVudE5hbWUsIGhhbmRsZXJQcm94eSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdF9vZmY6IGZ1bmN0aW9uKCBlbGVtZW50LCBldmVudE5hbWUgKSB7XG5cdFx0ZXZlbnROYW1lID0gKGV2ZW50TmFtZSB8fCBcIlwiKS5zcGxpdCggXCIgXCIgKS5qb2luKCB0aGlzLmV2ZW50TmFtZXNwYWNlICsgXCIgXCIgKSArXG5cdFx0XHR0aGlzLmV2ZW50TmFtZXNwYWNlO1xuXHRcdGVsZW1lbnQudW5iaW5kKCBldmVudE5hbWUgKS51bmRlbGVnYXRlKCBldmVudE5hbWUgKTtcblxuXHRcdC8vIENsZWFyIHRoZSBzdGFjayB0byBhdm9pZCBtZW1vcnkgbGVha3MgKCMxMDA1Nilcblx0XHR0aGlzLmJpbmRpbmdzID0gJCggdGhpcy5iaW5kaW5ncy5ub3QoIGVsZW1lbnQgKS5nZXQoKSApO1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gJCggdGhpcy5mb2N1c2FibGUubm90KCBlbGVtZW50ICkuZ2V0KCkgKTtcblx0XHR0aGlzLmhvdmVyYWJsZSA9ICQoIHRoaXMuaG92ZXJhYmxlLm5vdCggZWxlbWVudCApLmdldCgpICk7XG5cdH0sXG5cblx0X2RlbGF5OiBmdW5jdGlvbiggaGFuZGxlciwgZGVsYXkgKSB7XG5cdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xuXHRcdFx0cmV0dXJuICggdHlwZW9mIGhhbmRsZXIgPT09IFwic3RyaW5nXCIgPyBpbnN0YW5jZVsgaGFuZGxlciBdIDogaGFuZGxlciApXG5cdFx0XHRcdC5hcHBseSggaW5zdGFuY2UsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHR2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KCBoYW5kbGVyUHJveHksIGRlbGF5IHx8IDAgKTtcblx0fSxcblxuXHRfaG92ZXJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZCggZWxlbWVudCApO1xuXHRcdHRoaXMuX29uKCBlbGVtZW50LCB7XG5cdFx0XHRtb3VzZWVudGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdCQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XG5cdFx0XHR9LFxuXHRcdFx0bW91c2VsZWF2ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdF9mb2N1c2FibGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHRoaXMuZm9jdXNhYmxlID0gdGhpcy5mb2N1c2FibGUuYWRkKCBlbGVtZW50ICk7XG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcblx0XHRcdGZvY3VzaW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLmFkZENsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH0sXG5cdFx0XHRmb2N1c291dDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdF90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7XG5cdFx0dmFyIHByb3AsIG9yaWcsXG5cdFx0XHRjYWxsYmFjayA9IHRoaXMub3B0aW9uc1sgdHlwZSBdO1xuXG5cdFx0ZGF0YSA9IGRhdGEgfHwge307XG5cdFx0ZXZlbnQgPSAkLkV2ZW50KCBldmVudCApO1xuXHRcdGV2ZW50LnR5cGUgPSAoIHR5cGUgPT09IHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggP1xuXHRcdFx0dHlwZSA6XG5cdFx0XHR0aGlzLndpZGdldEV2ZW50UHJlZml4ICsgdHlwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0Ly8gdGhlIG9yaWdpbmFsIGV2ZW50IG1heSBjb21lIGZyb20gYW55IGVsZW1lbnRcblx0XHQvLyBzbyB3ZSBuZWVkIHRvIHJlc2V0IHRoZSB0YXJnZXQgb24gdGhlIG5ldyBldmVudFxuXHRcdGV2ZW50LnRhcmdldCA9IHRoaXMuZWxlbWVudFsgMCBdO1xuXG5cdFx0Ly8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudFxuXHRcdG9yaWcgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuXHRcdGlmICggb3JpZyApIHtcblx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0aWYgKCAhKCBwcm9wIGluIGV2ZW50ICkgKSB7XG5cdFx0XHRcdFx0ZXZlbnRbIHByb3AgXSA9IG9yaWdbIHByb3AgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBldmVudCwgZGF0YSApO1xuXHRcdHJldHVybiAhKCAkLmlzRnVuY3Rpb24oIGNhbGxiYWNrICkgJiZcblx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLmVsZW1lbnRbMF0sIFsgZXZlbnQgXS5jb25jYXQoIGRhdGEgKSApID09PSBmYWxzZSB8fFxuXHRcdFx0ZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTtcblx0fVxufTtcblxuJC5lYWNoKCB7IHNob3c6IFwiZmFkZUluXCIsIGhpZGU6IFwiZmFkZU91dFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIGRlZmF1bHRFZmZlY3QgKSB7XG5cdCQuV2lkZ2V0LnByb3RvdHlwZVsgXCJfXCIgKyBtZXRob2QgXSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZWZmZWN0OiBvcHRpb25zIH07XG5cdFx0fVxuXHRcdHZhciBoYXNPcHRpb25zLFxuXHRcdFx0ZWZmZWN0TmFtZSA9ICFvcHRpb25zID9cblx0XHRcdFx0bWV0aG9kIDpcblx0XHRcdFx0b3B0aW9ucyA9PT0gdHJ1ZSB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiA/XG5cdFx0XHRcdFx0ZGVmYXVsdEVmZmVjdCA6XG5cdFx0XHRcdFx0b3B0aW9ucy5lZmZlY3QgfHwgZGVmYXVsdEVmZmVjdDtcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XHRpZiAoIHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHsgZHVyYXRpb246IG9wdGlvbnMgfTtcblx0XHR9XG5cdFx0aGFzT3B0aW9ucyA9ICEkLmlzRW1wdHlPYmplY3QoIG9wdGlvbnMgKTtcblx0XHRvcHRpb25zLmNvbXBsZXRlID0gY2FsbGJhY2s7XG5cdFx0aWYgKCBvcHRpb25zLmRlbGF5ICkge1xuXHRcdFx0ZWxlbWVudC5kZWxheSggb3B0aW9ucy5kZWxheSApO1xuXHRcdH1cblx0XHRpZiAoIGhhc09wdGlvbnMgJiYgJC5lZmZlY3RzICYmICQuZWZmZWN0cy5lZmZlY3RbIGVmZmVjdE5hbWUgXSApIHtcblx0XHRcdGVsZW1lbnRbIG1ldGhvZCBdKCBvcHRpb25zICk7XG5cdFx0fSBlbHNlIGlmICggZWZmZWN0TmFtZSAhPT0gbWV0aG9kICYmIGVsZW1lbnRbIGVmZmVjdE5hbWUgXSApIHtcblx0XHRcdGVsZW1lbnRbIGVmZmVjdE5hbWUgXSggb3B0aW9ucy5kdXJhdGlvbiwgb3B0aW9ucy5lYXNpbmcsIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW1lbnQucXVldWUoZnVuY3Rpb24oIG5leHQgKSB7XG5cdFx0XHRcdCQoIHRoaXMgKVsgbWV0aG9kIF0oKTtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKCBlbGVtZW50WyAwIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG59KTtcblxudmFyIHdpZGdldCA9ICQud2lkZ2V0O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIE1vdXNlIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbW91c2UvXG4gKi9cblxuXG52YXIgbW91c2VIYW5kbGVkID0gZmFsc2U7XG4kKCBkb2N1bWVudCApLm1vdXNldXAoIGZ1bmN0aW9uKCkge1xuXHRtb3VzZUhhbmRsZWQgPSBmYWxzZTtcbn0pO1xuXG52YXIgbW91c2UgPSAkLndpZGdldChcInVpLm1vdXNlXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdGNhbmNlbDogXCJpbnB1dCx0ZXh0YXJlYSxidXR0b24sc2VsZWN0LG9wdGlvblwiLFxuXHRcdGRpc3RhbmNlOiAxLFxuXHRcdGRlbGF5OiAwXG5cdH0sXG5cdF9tb3VzZUluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LmJpbmQoXCJtb3VzZWRvd24uXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZURvd24oZXZlbnQpO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKFwiY2xpY2suXCIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0XHRcdGlmICh0cnVlID09PSAkLmRhdGEoZXZlbnQudGFyZ2V0LCB0aGF0LndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKSkge1xuXHRcdFx0XHRcdCQucmVtb3ZlRGF0YShldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIpO1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHR0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblx0fSxcblxuXHQvLyBUT0RPOiBtYWtlIHN1cmUgZGVzdHJveWluZyBvbmUgaW5zdGFuY2Ugb2YgbW91c2UgZG9lc24ndCBtZXNzIHdpdGhcblx0Ly8gb3RoZXIgaW5zdGFuY2VzIG9mIG1vdXNlXG5cdF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC51bmJpbmQoXCIuXCIgKyB0aGlzLndpZGdldE5hbWUpO1xuXHRcdGlmICggdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgKSB7XG5cdFx0XHR0aGlzLmRvY3VtZW50XG5cdFx0XHRcdC51bmJpbmQoXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKVxuXHRcdFx0XHQudW5iaW5kKFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlKTtcblx0XHR9XG5cdH0sXG5cblx0X21vdXNlRG93bjogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHQvLyBkb24ndCBsZXQgbW9yZSB0aGFuIG9uZSB3aWRnZXQgaGFuZGxlIG1vdXNlU3RhcnRcblx0XHRpZiAoIG1vdXNlSGFuZGxlZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9tb3VzZU1vdmVkID0gZmFsc2U7XG5cblx0XHQvLyB3ZSBtYXkgaGF2ZSBtaXNzZWQgbW91c2V1cCAob3V0IG9mIHdpbmRvdylcblx0XHQodGhpcy5fbW91c2VTdGFydGVkICYmIHRoaXMuX21vdXNlVXAoZXZlbnQpKTtcblxuXHRcdHRoaXMuX21vdXNlRG93bkV2ZW50ID0gZXZlbnQ7XG5cblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRidG5Jc0xlZnQgPSAoZXZlbnQud2hpY2ggPT09IDEpLFxuXHRcdFx0Ly8gZXZlbnQudGFyZ2V0Lm5vZGVOYW1lIHdvcmtzIGFyb3VuZCBhIGJ1ZyBpbiBJRSA4IHdpdGhcblx0XHRcdC8vIGRpc2FibGVkIGlucHV0cyAoIzc2MjApXG5cdFx0XHRlbElzQ2FuY2VsID0gKHR5cGVvZiB0aGlzLm9wdGlvbnMuY2FuY2VsID09PSBcInN0cmluZ1wiICYmIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA/ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5jYW5jZWwpLmxlbmd0aCA6IGZhbHNlKTtcblx0XHRpZiAoIWJ0bklzTGVmdCB8fCBlbElzQ2FuY2VsIHx8ICF0aGlzLl9tb3VzZUNhcHR1cmUoZXZlbnQpKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aGlzLm1vdXNlRGVsYXlNZXQgPSAhdGhpcy5vcHRpb25zLmRlbGF5O1xuXHRcdGlmICghdGhpcy5tb3VzZURlbGF5TWV0KSB7XG5cdFx0XHR0aGlzLl9tb3VzZURlbGF5VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGF0Lm1vdXNlRGVsYXlNZXQgPSB0cnVlO1xuXHRcdFx0fSwgdGhpcy5vcHRpb25zLmRlbGF5KTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fbW91c2VEaXN0YW5jZU1ldChldmVudCkgJiYgdGhpcy5fbW91c2VEZWxheU1ldChldmVudCkpIHtcblx0XHRcdHRoaXMuX21vdXNlU3RhcnRlZCA9ICh0aGlzLl9tb3VzZVN0YXJ0KGV2ZW50KSAhPT0gZmFsc2UpO1xuXHRcdFx0aWYgKCF0aGlzLl9tb3VzZVN0YXJ0ZWQpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2xpY2sgZXZlbnQgbWF5IG5ldmVyIGhhdmUgZmlyZWQgKEdlY2tvICYgT3BlcmEpXG5cdFx0aWYgKHRydWUgPT09ICQuZGF0YShldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIpKSB7XG5cdFx0XHQkLnJlbW92ZURhdGEoZXZlbnQudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyBcIi5wcmV2ZW50Q2xpY2tFdmVudFwiKTtcblx0XHR9XG5cblx0XHQvLyB0aGVzZSBkZWxlZ2F0ZXMgYXJlIHJlcXVpcmVkIHRvIGtlZXAgY29udGV4dFxuXHRcdHRoaXMuX21vdXNlTW92ZURlbGVnYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZU1vdmUoZXZlbnQpO1xuXHRcdH07XG5cdFx0dGhpcy5fbW91c2VVcERlbGVnYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdHJldHVybiB0aGF0Ll9tb3VzZVVwKGV2ZW50KTtcblx0XHR9O1xuXG5cdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0LmJpbmQoIFwibW91c2Vtb3ZlLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSApXG5cdFx0XHQuYmluZCggXCJtb3VzZXVwLlwiICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUgKTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRtb3VzZUhhbmRsZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZU1vdmU6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0Ly8gT25seSBjaGVjayBmb3IgbW91c2V1cHMgb3V0c2lkZSB0aGUgZG9jdW1lbnQgaWYgeW91J3ZlIG1vdmVkIGluc2lkZSB0aGUgZG9jdW1lbnRcblx0XHQvLyBhdCBsZWFzdCBvbmNlLiBUaGlzIHByZXZlbnRzIHRoZSBmaXJpbmcgb2YgbW91c2V1cCBpbiB0aGUgY2FzZSBvZiBJRTw5LCB3aGljaCB3aWxsXG5cdFx0Ly8gZmlyZSBhIG1vdXNlbW92ZSBldmVudCBpZiBjb250ZW50IGlzIHBsYWNlZCB1bmRlciB0aGUgY3Vyc29yLiBTZWUgIzc3Nzhcblx0XHQvLyBTdXBwb3J0OiBJRSA8OVxuXHRcdGlmICggdGhpcy5fbW91c2VNb3ZlZCApIHtcblx0XHRcdC8vIElFIG1vdXNldXAgY2hlY2sgLSBtb3VzZXVwIGhhcHBlbmVkIHdoZW4gbW91c2Ugd2FzIG91dCBvZiB3aW5kb3dcblx0XHRcdGlmICgkLnVpLmllICYmICggIWRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPCA5ICkgJiYgIWV2ZW50LmJ1dHRvbikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fbW91c2VVcChldmVudCk7XG5cblx0XHRcdC8vIElmcmFtZSBtb3VzZXVwIGNoZWNrIC0gbW91c2V1cCBvY2N1cnJlZCBpbiBhbm90aGVyIGRvY3VtZW50XG5cdFx0XHR9IGVsc2UgaWYgKCAhZXZlbnQud2hpY2ggKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9tb3VzZVVwKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZXZlbnQud2hpY2ggfHwgZXZlbnQuYnV0dG9uICkge1xuXHRcdFx0dGhpcy5fbW91c2VNb3ZlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX21vdXNlU3RhcnRlZCkge1xuXHRcdFx0dGhpcy5fbW91c2VEcmFnKGV2ZW50KTtcblx0XHRcdHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9tb3VzZURpc3RhbmNlTWV0KGV2ZW50KSAmJiB0aGlzLl9tb3VzZURlbGF5TWV0KGV2ZW50KSkge1xuXHRcdFx0dGhpcy5fbW91c2VTdGFydGVkID1cblx0XHRcdFx0KHRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsIGV2ZW50KSAhPT0gZmFsc2UpO1xuXHRcdFx0KHRoaXMuX21vdXNlU3RhcnRlZCA/IHRoaXMuX21vdXNlRHJhZyhldmVudCkgOiB0aGlzLl9tb3VzZVVwKGV2ZW50KSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICF0aGlzLl9tb3VzZVN0YXJ0ZWQ7XG5cdH0sXG5cblx0X21vdXNlVXA6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dGhpcy5kb2N1bWVudFxuXHRcdFx0LnVuYmluZCggXCJtb3VzZW1vdmUuXCIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlIClcblx0XHRcdC51bmJpbmQoIFwibW91c2V1cC5cIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VVcERlbGVnYXRlICk7XG5cblx0XHRpZiAodGhpcy5fbW91c2VTdGFydGVkKSB7XG5cdFx0XHR0aGlzLl9tb3VzZVN0YXJ0ZWQgPSBmYWxzZTtcblxuXHRcdFx0aWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0KSB7XG5cdFx0XHRcdCQuZGF0YShldmVudC50YXJnZXQsIHRoaXMud2lkZ2V0TmFtZSArIFwiLnByZXZlbnRDbGlja0V2ZW50XCIsIHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9tb3VzZVN0b3AoZXZlbnQpO1xuXHRcdH1cblxuXHRcdG1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VEaXN0YW5jZU1ldDogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRyZXR1cm4gKE1hdGgubWF4KFxuXHRcdFx0XHRNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWCAtIGV2ZW50LnBhZ2VYKSxcblx0XHRcdFx0TWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVkgLSBldmVudC5wYWdlWSlcblx0XHRcdCkgPj0gdGhpcy5vcHRpb25zLmRpc3RhbmNlXG5cdFx0KTtcblx0fSxcblxuXHRfbW91c2VEZWxheU1ldDogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0O1xuXHR9LFxuXG5cdC8vIFRoZXNlIGFyZSBwbGFjZWhvbGRlciBtZXRob2RzLCB0byBiZSBvdmVycmlkZW4gYnkgZXh0ZW5kaW5nIHBsdWdpblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHt9LFxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbigvKiBldmVudCAqLykge30sXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKC8qIGV2ZW50ICovKSB7fSxcblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHsgcmV0dXJuIHRydWU7IH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFBvc2l0aW9uIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcG9zaXRpb24vXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG4kLnVpID0gJC51aSB8fCB7fTtcblxudmFyIGNhY2hlZFNjcm9sbGJhcldpZHRoLCBzdXBwb3J0c09mZnNldEZyYWN0aW9ucyxcblx0bWF4ID0gTWF0aC5tYXgsXG5cdGFicyA9IE1hdGguYWJzLFxuXHRyb3VuZCA9IE1hdGgucm91bmQsXG5cdHJob3Jpem9udGFsID0gL2xlZnR8Y2VudGVyfHJpZ2h0Lyxcblx0cnZlcnRpY2FsID0gL3RvcHxjZW50ZXJ8Ym90dG9tLyxcblx0cm9mZnNldCA9IC9bXFwrXFwtXVxcZCsoXFwuW1xcZF0rKT8lPy8sXG5cdHJwb3NpdGlvbiA9IC9eXFx3Ky8sXG5cdHJwZXJjZW50ID0gLyUkLyxcblx0X3Bvc2l0aW9uID0gJC5mbi5wb3NpdGlvbjtcblxuZnVuY3Rpb24gZ2V0T2Zmc2V0cyggb2Zmc2V0cywgd2lkdGgsIGhlaWdodCApIHtcblx0cmV0dXJuIFtcblx0XHRwYXJzZUZsb2F0KCBvZmZzZXRzWyAwIF0gKSAqICggcnBlcmNlbnQudGVzdCggb2Zmc2V0c1sgMCBdICkgPyB3aWR0aCAvIDEwMCA6IDEgKSxcblx0XHRwYXJzZUZsb2F0KCBvZmZzZXRzWyAxIF0gKSAqICggcnBlcmNlbnQudGVzdCggb2Zmc2V0c1sgMSBdICkgPyBoZWlnaHQgLyAxMDAgOiAxIClcblx0XTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDc3MoIGVsZW1lbnQsIHByb3BlcnR5ICkge1xuXHRyZXR1cm4gcGFyc2VJbnQoICQuY3NzKCBlbGVtZW50LCBwcm9wZXJ0eSApLCAxMCApIHx8IDA7XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbnMoIGVsZW0gKSB7XG5cdHZhciByYXcgPSBlbGVtWzBdO1xuXHRpZiAoIHJhdy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGVsZW0ud2lkdGgoKSxcblx0XHRcdGhlaWdodDogZWxlbS5oZWlnaHQoKSxcblx0XHRcdG9mZnNldDogeyB0b3A6IDAsIGxlZnQ6IDAgfVxuXHRcdH07XG5cdH1cblx0aWYgKCAkLmlzV2luZG93KCByYXcgKSApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGVsZW0ud2lkdGgoKSxcblx0XHRcdGhlaWdodDogZWxlbS5oZWlnaHQoKSxcblx0XHRcdG9mZnNldDogeyB0b3A6IGVsZW0uc2Nyb2xsVG9wKCksIGxlZnQ6IGVsZW0uc2Nyb2xsTGVmdCgpIH1cblx0XHR9O1xuXHR9XG5cdGlmICggcmF3LnByZXZlbnREZWZhdWx0ICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogMCxcblx0XHRcdGhlaWdodDogMCxcblx0XHRcdG9mZnNldDogeyB0b3A6IHJhdy5wYWdlWSwgbGVmdDogcmF3LnBhZ2VYIH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7XG5cdFx0d2lkdGg6IGVsZW0ub3V0ZXJXaWR0aCgpLFxuXHRcdGhlaWdodDogZWxlbS5vdXRlckhlaWdodCgpLFxuXHRcdG9mZnNldDogZWxlbS5vZmZzZXQoKVxuXHR9O1xufVxuXG4kLnBvc2l0aW9uID0ge1xuXHRzY3JvbGxiYXJXaWR0aDogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBjYWNoZWRTY3JvbGxiYXJXaWR0aCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIGNhY2hlZFNjcm9sbGJhcldpZHRoO1xuXHRcdH1cblx0XHR2YXIgdzEsIHcyLFxuXHRcdFx0ZGl2ID0gJCggXCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48L2Rpdj48L2Rpdj5cIiApLFxuXHRcdFx0aW5uZXJEaXYgPSBkaXYuY2hpbGRyZW4oKVswXTtcblxuXHRcdCQoIFwiYm9keVwiICkuYXBwZW5kKCBkaXYgKTtcblx0XHR3MSA9IGlubmVyRGl2Lm9mZnNldFdpZHRoO1xuXHRcdGRpdi5jc3MoIFwib3ZlcmZsb3dcIiwgXCJzY3JvbGxcIiApO1xuXG5cdFx0dzIgPSBpbm5lckRpdi5vZmZzZXRXaWR0aDtcblxuXHRcdGlmICggdzEgPT09IHcyICkge1xuXHRcdFx0dzIgPSBkaXZbMF0uY2xpZW50V2lkdGg7XG5cdFx0fVxuXG5cdFx0ZGl2LnJlbW92ZSgpO1xuXG5cdFx0cmV0dXJuIChjYWNoZWRTY3JvbGxiYXJXaWR0aCA9IHcxIC0gdzIpO1xuXHR9LFxuXHRnZXRTY3JvbGxJbmZvOiBmdW5jdGlvbiggd2l0aGluICkge1xuXHRcdHZhciBvdmVyZmxvd1ggPSB3aXRoaW4uaXNXaW5kb3cgfHwgd2l0aGluLmlzRG9jdW1lbnQgPyBcIlwiIDpcblx0XHRcdFx0d2l0aGluLmVsZW1lbnQuY3NzKCBcIm92ZXJmbG93LXhcIiApLFxuXHRcdFx0b3ZlcmZsb3dZID0gd2l0aGluLmlzV2luZG93IHx8IHdpdGhpbi5pc0RvY3VtZW50ID8gXCJcIiA6XG5cdFx0XHRcdHdpdGhpbi5lbGVtZW50LmNzcyggXCJvdmVyZmxvdy15XCIgKSxcblx0XHRcdGhhc092ZXJmbG93WCA9IG92ZXJmbG93WCA9PT0gXCJzY3JvbGxcIiB8fFxuXHRcdFx0XHQoIG92ZXJmbG93WCA9PT0gXCJhdXRvXCIgJiYgd2l0aGluLndpZHRoIDwgd2l0aGluLmVsZW1lbnRbMF0uc2Nyb2xsV2lkdGggKSxcblx0XHRcdGhhc092ZXJmbG93WSA9IG92ZXJmbG93WSA9PT0gXCJzY3JvbGxcIiB8fFxuXHRcdFx0XHQoIG92ZXJmbG93WSA9PT0gXCJhdXRvXCIgJiYgd2l0aGluLmhlaWdodCA8IHdpdGhpbi5lbGVtZW50WzBdLnNjcm9sbEhlaWdodCApO1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogaGFzT3ZlcmZsb3dZID8gJC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpIDogMCxcblx0XHRcdGhlaWdodDogaGFzT3ZlcmZsb3dYID8gJC5wb3NpdGlvbi5zY3JvbGxiYXJXaWR0aCgpIDogMFxuXHRcdH07XG5cdH0sXG5cdGdldFdpdGhpbkluZm86IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciB3aXRoaW5FbGVtZW50ID0gJCggZWxlbWVudCB8fCB3aW5kb3cgKSxcblx0XHRcdGlzV2luZG93ID0gJC5pc1dpbmRvdyggd2l0aGluRWxlbWVudFswXSApLFxuXHRcdFx0aXNEb2N1bWVudCA9ICEhd2l0aGluRWxlbWVudFsgMCBdICYmIHdpdGhpbkVsZW1lbnRbIDAgXS5ub2RlVHlwZSA9PT0gOTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZWxlbWVudDogd2l0aGluRWxlbWVudCxcblx0XHRcdGlzV2luZG93OiBpc1dpbmRvdyxcblx0XHRcdGlzRG9jdW1lbnQ6IGlzRG9jdW1lbnQsXG5cdFx0XHRvZmZzZXQ6IHdpdGhpbkVsZW1lbnQub2Zmc2V0KCkgfHwgeyBsZWZ0OiAwLCB0b3A6IDAgfSxcblx0XHRcdHNjcm9sbExlZnQ6IHdpdGhpbkVsZW1lbnQuc2Nyb2xsTGVmdCgpLFxuXHRcdFx0c2Nyb2xsVG9wOiB3aXRoaW5FbGVtZW50LnNjcm9sbFRvcCgpLFxuXG5cdFx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgMS42Lnhcblx0XHRcdC8vIGpRdWVyeSAxLjYgZG9lc24ndCBzdXBwb3J0IC5vdXRlcldpZHRoL0hlaWdodCgpIG9uIGRvY3VtZW50cyBvciB3aW5kb3dzXG5cdFx0XHR3aWR0aDogaXNXaW5kb3cgfHwgaXNEb2N1bWVudCA/IHdpdGhpbkVsZW1lbnQud2lkdGgoKSA6IHdpdGhpbkVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiBpc1dpbmRvdyB8fCBpc0RvY3VtZW50ID8gd2l0aGluRWxlbWVudC5oZWlnaHQoKSA6IHdpdGhpbkVsZW1lbnQub3V0ZXJIZWlnaHQoKVxuXHRcdH07XG5cdH1cbn07XG5cbiQuZm4ucG9zaXRpb24gPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0aWYgKCAhb3B0aW9ucyB8fCAhb3B0aW9ucy5vZiApIHtcblx0XHRyZXR1cm4gX3Bvc2l0aW9uLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0fVxuXG5cdC8vIG1ha2UgYSBjb3B5LCB3ZSBkb24ndCB3YW50IHRvIG1vZGlmeSBhcmd1bWVudHNcblx0b3B0aW9ucyA9ICQuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciBhdE9mZnNldCwgdGFyZ2V0V2lkdGgsIHRhcmdldEhlaWdodCwgdGFyZ2V0T2Zmc2V0LCBiYXNlUG9zaXRpb24sIGRpbWVuc2lvbnMsXG5cdFx0dGFyZ2V0ID0gJCggb3B0aW9ucy5vZiApLFxuXHRcdHdpdGhpbiA9ICQucG9zaXRpb24uZ2V0V2l0aGluSW5mbyggb3B0aW9ucy53aXRoaW4gKSxcblx0XHRzY3JvbGxJbmZvID0gJC5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKCB3aXRoaW4gKSxcblx0XHRjb2xsaXNpb24gPSAoIG9wdGlvbnMuY29sbGlzaW9uIHx8IFwiZmxpcFwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0b2Zmc2V0cyA9IHt9O1xuXG5cdGRpbWVuc2lvbnMgPSBnZXREaW1lbnNpb25zKCB0YXJnZXQgKTtcblx0aWYgKCB0YXJnZXRbMF0ucHJldmVudERlZmF1bHQgKSB7XG5cdFx0Ly8gZm9yY2UgbGVmdCB0b3AgdG8gYWxsb3cgZmxpcHBpbmdcblx0XHRvcHRpb25zLmF0ID0gXCJsZWZ0IHRvcFwiO1xuXHR9XG5cdHRhcmdldFdpZHRoID0gZGltZW5zaW9ucy53aWR0aDtcblx0dGFyZ2V0SGVpZ2h0ID0gZGltZW5zaW9ucy5oZWlnaHQ7XG5cdHRhcmdldE9mZnNldCA9IGRpbWVuc2lvbnMub2Zmc2V0O1xuXHQvLyBjbG9uZSB0byByZXVzZSBvcmlnaW5hbCB0YXJnZXRPZmZzZXQgbGF0ZXJcblx0YmFzZVBvc2l0aW9uID0gJC5leHRlbmQoIHt9LCB0YXJnZXRPZmZzZXQgKTtcblxuXHQvLyBmb3JjZSBteSBhbmQgYXQgdG8gaGF2ZSB2YWxpZCBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBwb3NpdGlvbnNcblx0Ly8gaWYgYSB2YWx1ZSBpcyBtaXNzaW5nIG9yIGludmFsaWQsIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGNlbnRlclxuXHQkLmVhY2goIFsgXCJteVwiLCBcImF0XCIgXSwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHBvcyA9ICggb3B0aW9uc1sgdGhpcyBdIHx8IFwiXCIgKS5zcGxpdCggXCIgXCIgKSxcblx0XHRcdGhvcml6b250YWxPZmZzZXQsXG5cdFx0XHR2ZXJ0aWNhbE9mZnNldDtcblxuXHRcdGlmICggcG9zLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0cG9zID0gcmhvcml6b250YWwudGVzdCggcG9zWyAwIF0gKSA/XG5cdFx0XHRcdHBvcy5jb25jYXQoIFsgXCJjZW50ZXJcIiBdICkgOlxuXHRcdFx0XHRydmVydGljYWwudGVzdCggcG9zWyAwIF0gKSA/XG5cdFx0XHRcdFx0WyBcImNlbnRlclwiIF0uY29uY2F0KCBwb3MgKSA6XG5cdFx0XHRcdFx0WyBcImNlbnRlclwiLCBcImNlbnRlclwiIF07XG5cdFx0fVxuXHRcdHBvc1sgMCBdID0gcmhvcml6b250YWwudGVzdCggcG9zWyAwIF0gKSA/IHBvc1sgMCBdIDogXCJjZW50ZXJcIjtcblx0XHRwb3NbIDEgXSA9IHJ2ZXJ0aWNhbC50ZXN0KCBwb3NbIDEgXSApID8gcG9zWyAxIF0gOiBcImNlbnRlclwiO1xuXG5cdFx0Ly8gY2FsY3VsYXRlIG9mZnNldHNcblx0XHRob3Jpem9udGFsT2Zmc2V0ID0gcm9mZnNldC5leGVjKCBwb3NbIDAgXSApO1xuXHRcdHZlcnRpY2FsT2Zmc2V0ID0gcm9mZnNldC5leGVjKCBwb3NbIDEgXSApO1xuXHRcdG9mZnNldHNbIHRoaXMgXSA9IFtcblx0XHRcdGhvcml6b250YWxPZmZzZXQgPyBob3Jpem9udGFsT2Zmc2V0WyAwIF0gOiAwLFxuXHRcdFx0dmVydGljYWxPZmZzZXQgPyB2ZXJ0aWNhbE9mZnNldFsgMCBdIDogMFxuXHRcdF07XG5cblx0XHQvLyByZWR1Y2UgdG8ganVzdCB0aGUgcG9zaXRpb25zIHdpdGhvdXQgdGhlIG9mZnNldHNcblx0XHRvcHRpb25zWyB0aGlzIF0gPSBbXG5cdFx0XHRycG9zaXRpb24uZXhlYyggcG9zWyAwIF0gKVsgMCBdLFxuXHRcdFx0cnBvc2l0aW9uLmV4ZWMoIHBvc1sgMSBdIClbIDAgXVxuXHRcdF07XG5cdH0pO1xuXG5cdC8vIG5vcm1hbGl6ZSBjb2xsaXNpb24gb3B0aW9uXG5cdGlmICggY29sbGlzaW9uLmxlbmd0aCA9PT0gMSApIHtcblx0XHRjb2xsaXNpb25bIDEgXSA9IGNvbGxpc2lvblsgMCBdO1xuXHR9XG5cblx0aWYgKCBvcHRpb25zLmF0WyAwIF0gPT09IFwicmlnaHRcIiApIHtcblx0XHRiYXNlUG9zaXRpb24ubGVmdCArPSB0YXJnZXRXaWR0aDtcblx0fSBlbHNlIGlmICggb3B0aW9ucy5hdFsgMCBdID09PSBcImNlbnRlclwiICkge1xuXHRcdGJhc2VQb3NpdGlvbi5sZWZ0ICs9IHRhcmdldFdpZHRoIC8gMjtcblx0fVxuXG5cdGlmICggb3B0aW9ucy5hdFsgMSBdID09PSBcImJvdHRvbVwiICkge1xuXHRcdGJhc2VQb3NpdGlvbi50b3AgKz0gdGFyZ2V0SGVpZ2h0O1xuXHR9IGVsc2UgaWYgKCBvcHRpb25zLmF0WyAxIF0gPT09IFwiY2VudGVyXCIgKSB7XG5cdFx0YmFzZVBvc2l0aW9uLnRvcCArPSB0YXJnZXRIZWlnaHQgLyAyO1xuXHR9XG5cblx0YXRPZmZzZXQgPSBnZXRPZmZzZXRzKCBvZmZzZXRzLmF0LCB0YXJnZXRXaWR0aCwgdGFyZ2V0SGVpZ2h0ICk7XG5cdGJhc2VQb3NpdGlvbi5sZWZ0ICs9IGF0T2Zmc2V0WyAwIF07XG5cdGJhc2VQb3NpdGlvbi50b3AgKz0gYXRPZmZzZXRbIDEgXTtcblxuXHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjb2xsaXNpb25Qb3NpdGlvbiwgdXNpbmcsXG5cdFx0XHRlbGVtID0gJCggdGhpcyApLFxuXHRcdFx0ZWxlbVdpZHRoID0gZWxlbS5vdXRlcldpZHRoKCksXG5cdFx0XHRlbGVtSGVpZ2h0ID0gZWxlbS5vdXRlckhlaWdodCgpLFxuXHRcdFx0bWFyZ2luTGVmdCA9IHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpbkxlZnRcIiApLFxuXHRcdFx0bWFyZ2luVG9wID0gcGFyc2VDc3MoIHRoaXMsIFwibWFyZ2luVG9wXCIgKSxcblx0XHRcdGNvbGxpc2lvbldpZHRoID0gZWxlbVdpZHRoICsgbWFyZ2luTGVmdCArIHBhcnNlQ3NzKCB0aGlzLCBcIm1hcmdpblJpZ2h0XCIgKSArIHNjcm9sbEluZm8ud2lkdGgsXG5cdFx0XHRjb2xsaXNpb25IZWlnaHQgPSBlbGVtSGVpZ2h0ICsgbWFyZ2luVG9wICsgcGFyc2VDc3MoIHRoaXMsIFwibWFyZ2luQm90dG9tXCIgKSArIHNjcm9sbEluZm8uaGVpZ2h0LFxuXHRcdFx0cG9zaXRpb24gPSAkLmV4dGVuZCgge30sIGJhc2VQb3NpdGlvbiApLFxuXHRcdFx0bXlPZmZzZXQgPSBnZXRPZmZzZXRzKCBvZmZzZXRzLm15LCBlbGVtLm91dGVyV2lkdGgoKSwgZWxlbS5vdXRlckhlaWdodCgpICk7XG5cblx0XHRpZiAoIG9wdGlvbnMubXlbIDAgXSA9PT0gXCJyaWdodFwiICkge1xuXHRcdFx0cG9zaXRpb24ubGVmdCAtPSBlbGVtV2lkdGg7XG5cdFx0fSBlbHNlIGlmICggb3B0aW9ucy5teVsgMCBdID09PSBcImNlbnRlclwiICkge1xuXHRcdFx0cG9zaXRpb24ubGVmdCAtPSBlbGVtV2lkdGggLyAyO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy5teVsgMSBdID09PSBcImJvdHRvbVwiICkge1xuXHRcdFx0cG9zaXRpb24udG9wIC09IGVsZW1IZWlnaHQ7XG5cdFx0fSBlbHNlIGlmICggb3B0aW9ucy5teVsgMSBdID09PSBcImNlbnRlclwiICkge1xuXHRcdFx0cG9zaXRpb24udG9wIC09IGVsZW1IZWlnaHQgLyAyO1xuXHRcdH1cblxuXHRcdHBvc2l0aW9uLmxlZnQgKz0gbXlPZmZzZXRbIDAgXTtcblx0XHRwb3NpdGlvbi50b3AgKz0gbXlPZmZzZXRbIDEgXTtcblxuXHRcdC8vIGlmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBmcmFjdGlvbnMsIHRoZW4gcm91bmQgZm9yIGNvbnNpc3RlbnQgcmVzdWx0c1xuXHRcdGlmICggIXN1cHBvcnRzT2Zmc2V0RnJhY3Rpb25zICkge1xuXHRcdFx0cG9zaXRpb24ubGVmdCA9IHJvdW5kKCBwb3NpdGlvbi5sZWZ0ICk7XG5cdFx0XHRwb3NpdGlvbi50b3AgPSByb3VuZCggcG9zaXRpb24udG9wICk7XG5cdFx0fVxuXG5cdFx0Y29sbGlzaW9uUG9zaXRpb24gPSB7XG5cdFx0XHRtYXJnaW5MZWZ0OiBtYXJnaW5MZWZ0LFxuXHRcdFx0bWFyZ2luVG9wOiBtYXJnaW5Ub3Bcblx0XHR9O1xuXG5cdFx0JC5lYWNoKCBbIFwibGVmdFwiLCBcInRvcFwiIF0sIGZ1bmN0aW9uKCBpLCBkaXIgKSB7XG5cdFx0XHRpZiAoICQudWkucG9zaXRpb25bIGNvbGxpc2lvblsgaSBdIF0gKSB7XG5cdFx0XHRcdCQudWkucG9zaXRpb25bIGNvbGxpc2lvblsgaSBdIF1bIGRpciBdKCBwb3NpdGlvbiwge1xuXHRcdFx0XHRcdHRhcmdldFdpZHRoOiB0YXJnZXRXaWR0aCxcblx0XHRcdFx0XHR0YXJnZXRIZWlnaHQ6IHRhcmdldEhlaWdodCxcblx0XHRcdFx0XHRlbGVtV2lkdGg6IGVsZW1XaWR0aCxcblx0XHRcdFx0XHRlbGVtSGVpZ2h0OiBlbGVtSGVpZ2h0LFxuXHRcdFx0XHRcdGNvbGxpc2lvblBvc2l0aW9uOiBjb2xsaXNpb25Qb3NpdGlvbixcblx0XHRcdFx0XHRjb2xsaXNpb25XaWR0aDogY29sbGlzaW9uV2lkdGgsXG5cdFx0XHRcdFx0Y29sbGlzaW9uSGVpZ2h0OiBjb2xsaXNpb25IZWlnaHQsXG5cdFx0XHRcdFx0b2Zmc2V0OiBbIGF0T2Zmc2V0WyAwIF0gKyBteU9mZnNldFsgMCBdLCBhdE9mZnNldCBbIDEgXSArIG15T2Zmc2V0WyAxIF0gXSxcblx0XHRcdFx0XHRteTogb3B0aW9ucy5teSxcblx0XHRcdFx0XHRhdDogb3B0aW9ucy5hdCxcblx0XHRcdFx0XHR3aXRoaW46IHdpdGhpbixcblx0XHRcdFx0XHRlbGVtOiBlbGVtXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKCBvcHRpb25zLnVzaW5nICkge1xuXHRcdFx0Ly8gYWRkcyBmZWVkYmFjayBhcyBzZWNvbmQgYXJndW1lbnQgdG8gdXNpbmcgY2FsbGJhY2ssIGlmIHByZXNlbnRcblx0XHRcdHVzaW5nID0gZnVuY3Rpb24oIHByb3BzICkge1xuXHRcdFx0XHR2YXIgbGVmdCA9IHRhcmdldE9mZnNldC5sZWZ0IC0gcG9zaXRpb24ubGVmdCxcblx0XHRcdFx0XHRyaWdodCA9IGxlZnQgKyB0YXJnZXRXaWR0aCAtIGVsZW1XaWR0aCxcblx0XHRcdFx0XHR0b3AgPSB0YXJnZXRPZmZzZXQudG9wIC0gcG9zaXRpb24udG9wLFxuXHRcdFx0XHRcdGJvdHRvbSA9IHRvcCArIHRhcmdldEhlaWdodCAtIGVsZW1IZWlnaHQsXG5cdFx0XHRcdFx0ZmVlZGJhY2sgPSB7XG5cdFx0XHRcdFx0XHR0YXJnZXQ6IHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudDogdGFyZ2V0LFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiB0YXJnZXRPZmZzZXQubGVmdCxcblx0XHRcdFx0XHRcdFx0dG9wOiB0YXJnZXRPZmZzZXQudG9wLFxuXHRcdFx0XHRcdFx0XHR3aWR0aDogdGFyZ2V0V2lkdGgsXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogdGFyZ2V0SGVpZ2h0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0ZWxlbWVudDoge1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50OiBlbGVtLFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiBwb3NpdGlvbi5sZWZ0LFxuXHRcdFx0XHRcdFx0XHR0b3A6IHBvc2l0aW9uLnRvcCxcblx0XHRcdFx0XHRcdFx0d2lkdGg6IGVsZW1XaWR0aCxcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBlbGVtSGVpZ2h0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0aG9yaXpvbnRhbDogcmlnaHQgPCAwID8gXCJsZWZ0XCIgOiBsZWZ0ID4gMCA/IFwicmlnaHRcIiA6IFwiY2VudGVyXCIsXG5cdFx0XHRcdFx0XHR2ZXJ0aWNhbDogYm90dG9tIDwgMCA/IFwidG9wXCIgOiB0b3AgPiAwID8gXCJib3R0b21cIiA6IFwibWlkZGxlXCJcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoIHRhcmdldFdpZHRoIDwgZWxlbVdpZHRoICYmIGFicyggbGVmdCArIHJpZ2h0ICkgPCB0YXJnZXRXaWR0aCApIHtcblx0XHRcdFx0XHRmZWVkYmFjay5ob3Jpem9udGFsID0gXCJjZW50ZXJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHRhcmdldEhlaWdodCA8IGVsZW1IZWlnaHQgJiYgYWJzKCB0b3AgKyBib3R0b20gKSA8IHRhcmdldEhlaWdodCApIHtcblx0XHRcdFx0XHRmZWVkYmFjay52ZXJ0aWNhbCA9IFwibWlkZGxlXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBtYXgoIGFicyggbGVmdCApLCBhYnMoIHJpZ2h0ICkgKSA+IG1heCggYWJzKCB0b3AgKSwgYWJzKCBib3R0b20gKSApICkge1xuXHRcdFx0XHRcdGZlZWRiYWNrLmltcG9ydGFudCA9IFwiaG9yaXpvbnRhbFwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZlZWRiYWNrLmltcG9ydGFudCA9IFwidmVydGljYWxcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIHRoaXMsIHByb3BzLCBmZWVkYmFjayApO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRlbGVtLm9mZnNldCggJC5leHRlbmQoIHBvc2l0aW9uLCB7IHVzaW5nOiB1c2luZyB9ICkgKTtcblx0fSk7XG59O1xuXG4kLnVpLnBvc2l0aW9uID0ge1xuXHRmaXQ6IHtcblx0XHRsZWZ0OiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5pc1dpbmRvdyA/IHdpdGhpbi5zY3JvbGxMZWZ0IDogd2l0aGluLm9mZnNldC5sZWZ0LFxuXHRcdFx0XHRvdXRlcldpZHRoID0gd2l0aGluLndpZHRoLFxuXHRcdFx0XHRjb2xsaXNpb25Qb3NMZWZ0ID0gcG9zaXRpb24ubGVmdCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxcblx0XHRcdFx0b3ZlckxlZnQgPSB3aXRoaW5PZmZzZXQgLSBjb2xsaXNpb25Qb3NMZWZ0LFxuXHRcdFx0XHRvdmVyUmlnaHQgPSBjb2xsaXNpb25Qb3NMZWZ0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtIG91dGVyV2lkdGggLSB3aXRoaW5PZmZzZXQsXG5cdFx0XHRcdG5ld092ZXJSaWdodDtcblxuXHRcdFx0Ly8gZWxlbWVudCBpcyB3aWRlciB0aGFuIHdpdGhpblxuXHRcdFx0aWYgKCBkYXRhLmNvbGxpc2lvbldpZHRoID4gb3V0ZXJXaWR0aCApIHtcblx0XHRcdFx0Ly8gZWxlbWVudCBpcyBpbml0aWFsbHkgb3ZlciB0aGUgbGVmdCBzaWRlIG9mIHdpdGhpblxuXHRcdFx0XHRpZiAoIG92ZXJMZWZ0ID4gMCAmJiBvdmVyUmlnaHQgPD0gMCApIHtcblx0XHRcdFx0XHRuZXdPdmVyUmlnaHQgPSBwb3NpdGlvbi5sZWZ0ICsgb3ZlckxlZnQgKyBkYXRhLmNvbGxpc2lvbldpZHRoIC0gb3V0ZXJXaWR0aCAtIHdpdGhpbk9mZnNldDtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG92ZXJMZWZ0IC0gbmV3T3ZlclJpZ2h0O1xuXHRcdFx0XHQvLyBlbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIHJpZ2h0IHNpZGUgb2Ygd2l0aGluXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG92ZXJSaWdodCA+IDAgJiYgb3ZlckxlZnQgPD0gMCApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi5sZWZ0ID0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHQvLyBlbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIGJvdGggbGVmdCBhbmQgcmlnaHQgc2lkZXMgb2Ygd2l0aGluXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCBvdmVyTGVmdCA+IG92ZXJSaWdodCApIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgPSB3aXRoaW5PZmZzZXQgKyBvdXRlcldpZHRoIC0gZGF0YS5jb2xsaXNpb25XaWR0aDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cG9zaXRpb24ubGVmdCA9IHdpdGhpbk9mZnNldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdC8vIHRvbyBmYXIgbGVmdCAtPiBhbGlnbiB3aXRoIGxlZnQgZWRnZVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlckxlZnQgPiAwICkge1xuXHRcdFx0XHRwb3NpdGlvbi5sZWZ0ICs9IG92ZXJMZWZ0O1xuXHRcdFx0Ly8gdG9vIGZhciByaWdodCAtPiBhbGlnbiB3aXRoIHJpZ2h0IGVkZ2Vcblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJSaWdodCA+IDAgKSB7XG5cdFx0XHRcdHBvc2l0aW9uLmxlZnQgLT0gb3ZlclJpZ2h0O1xuXHRcdFx0Ly8gYWRqdXN0IGJhc2VkIG9uIHBvc2l0aW9uIGFuZCBtYXJnaW5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHBvc2l0aW9uLmxlZnQgPSBtYXgoIHBvc2l0aW9uLmxlZnQgLSBjb2xsaXNpb25Qb3NMZWZ0LCBwb3NpdGlvbi5sZWZ0ICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0b3A6IGZ1bmN0aW9uKCBwb3NpdGlvbiwgZGF0YSApIHtcblx0XHRcdHZhciB3aXRoaW4gPSBkYXRhLndpdGhpbixcblx0XHRcdFx0d2l0aGluT2Zmc2V0ID0gd2l0aGluLmlzV2luZG93ID8gd2l0aGluLnNjcm9sbFRvcCA6IHdpdGhpbi5vZmZzZXQudG9wLFxuXHRcdFx0XHRvdXRlckhlaWdodCA9IGRhdGEud2l0aGluLmhlaWdodCxcblx0XHRcdFx0Y29sbGlzaW9uUG9zVG9wID0gcG9zaXRpb24udG9wIC0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsXG5cdFx0XHRcdG92ZXJUb3AgPSB3aXRoaW5PZmZzZXQgLSBjb2xsaXNpb25Qb3NUb3AsXG5cdFx0XHRcdG92ZXJCb3R0b20gPSBjb2xsaXNpb25Qb3NUb3AgKyBkYXRhLmNvbGxpc2lvbkhlaWdodCAtIG91dGVySGVpZ2h0IC0gd2l0aGluT2Zmc2V0LFxuXHRcdFx0XHRuZXdPdmVyQm90dG9tO1xuXG5cdFx0XHQvLyBlbGVtZW50IGlzIHRhbGxlciB0aGFuIHdpdGhpblxuXHRcdFx0aWYgKCBkYXRhLmNvbGxpc2lvbkhlaWdodCA+IG91dGVySGVpZ2h0ICkge1xuXHRcdFx0XHQvLyBlbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIHRoZSB0b3Agb2Ygd2l0aGluXG5cdFx0XHRcdGlmICggb3ZlclRvcCA+IDAgJiYgb3ZlckJvdHRvbSA8PSAwICkge1xuXHRcdFx0XHRcdG5ld092ZXJCb3R0b20gPSBwb3NpdGlvbi50b3AgKyBvdmVyVG9wICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtIHdpdGhpbk9mZnNldDtcblx0XHRcdFx0XHRwb3NpdGlvbi50b3AgKz0gb3ZlclRvcCAtIG5ld092ZXJCb3R0b207XG5cdFx0XHRcdC8vIGVsZW1lbnQgaXMgaW5pdGlhbGx5IG92ZXIgYm90dG9tIG9mIHdpdGhpblxuXHRcdFx0XHR9IGVsc2UgaWYgKCBvdmVyQm90dG9tID4gMCAmJiBvdmVyVG9wIDw9IDAgKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24udG9wID0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHQvLyBlbGVtZW50IGlzIGluaXRpYWxseSBvdmVyIGJvdGggdG9wIGFuZCBib3R0b20gb2Ygd2l0aGluXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKCBvdmVyVG9wID4gb3ZlckJvdHRvbSApIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLnRvcCA9IHdpdGhpbk9mZnNldCArIG91dGVySGVpZ2h0IC0gZGF0YS5jb2xsaXNpb25IZWlnaHQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uLnRvcCA9IHdpdGhpbk9mZnNldDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdC8vIHRvbyBmYXIgdXAgLT4gYWxpZ24gd2l0aCB0b3Bcblx0XHRcdH0gZWxzZSBpZiAoIG92ZXJUb3AgPiAwICkge1xuXHRcdFx0XHRwb3NpdGlvbi50b3AgKz0gb3ZlclRvcDtcblx0XHRcdC8vIHRvbyBmYXIgZG93biAtPiBhbGlnbiB3aXRoIGJvdHRvbSBlZGdlXG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyQm90dG9tID4gMCApIHtcblx0XHRcdFx0cG9zaXRpb24udG9wIC09IG92ZXJCb3R0b207XG5cdFx0XHQvLyBhZGp1c3QgYmFzZWQgb24gcG9zaXRpb24gYW5kIG1hcmdpblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cG9zaXRpb24udG9wID0gbWF4KCBwb3NpdGlvbi50b3AgLSBjb2xsaXNpb25Qb3NUb3AsIHBvc2l0aW9uLnRvcCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0ZmxpcDoge1xuXHRcdGxlZnQ6IGZ1bmN0aW9uKCBwb3NpdGlvbiwgZGF0YSApIHtcblx0XHRcdHZhciB3aXRoaW4gPSBkYXRhLndpdGhpbixcblx0XHRcdFx0d2l0aGluT2Zmc2V0ID0gd2l0aGluLm9mZnNldC5sZWZ0ICsgd2l0aGluLnNjcm9sbExlZnQsXG5cdFx0XHRcdG91dGVyV2lkdGggPSB3aXRoaW4ud2lkdGgsXG5cdFx0XHRcdG9mZnNldExlZnQgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsTGVmdCA6IHdpdGhpbi5vZmZzZXQubGVmdCxcblx0XHRcdFx0Y29sbGlzaW9uUG9zTGVmdCA9IHBvc2l0aW9uLmxlZnQgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsXG5cdFx0XHRcdG92ZXJMZWZ0ID0gY29sbGlzaW9uUG9zTGVmdCAtIG9mZnNldExlZnQsXG5cdFx0XHRcdG92ZXJSaWdodCA9IGNvbGxpc2lvblBvc0xlZnQgKyBkYXRhLmNvbGxpc2lvbldpZHRoIC0gb3V0ZXJXaWR0aCAtIG9mZnNldExlZnQsXG5cdFx0XHRcdG15T2Zmc2V0ID0gZGF0YS5teVsgMCBdID09PSBcImxlZnRcIiA/XG5cdFx0XHRcdFx0LWRhdGEuZWxlbVdpZHRoIDpcblx0XHRcdFx0XHRkYXRhLm15WyAwIF0gPT09IFwicmlnaHRcIiA/XG5cdFx0XHRcdFx0XHRkYXRhLmVsZW1XaWR0aCA6XG5cdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRhdE9mZnNldCA9IGRhdGEuYXRbIDAgXSA9PT0gXCJsZWZ0XCIgP1xuXHRcdFx0XHRcdGRhdGEudGFyZ2V0V2lkdGggOlxuXHRcdFx0XHRcdGRhdGEuYXRbIDAgXSA9PT0gXCJyaWdodFwiID9cblx0XHRcdFx0XHRcdC1kYXRhLnRhcmdldFdpZHRoIDpcblx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdG9mZnNldCA9IC0yICogZGF0YS5vZmZzZXRbIDAgXSxcblx0XHRcdFx0bmV3T3ZlclJpZ2h0LFxuXHRcdFx0XHRuZXdPdmVyTGVmdDtcblxuXHRcdFx0aWYgKCBvdmVyTGVmdCA8IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJSaWdodCA9IHBvc2l0aW9uLmxlZnQgKyBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtIG91dGVyV2lkdGggLSB3aXRoaW5PZmZzZXQ7XG5cdFx0XHRcdGlmICggbmV3T3ZlclJpZ2h0IDwgMCB8fCBuZXdPdmVyUmlnaHQgPCBhYnMoIG92ZXJMZWZ0ICkgKSB7XG5cdFx0XHRcdFx0cG9zaXRpb24ubGVmdCArPSBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCBvdmVyUmlnaHQgPiAwICkge1xuXHRcdFx0XHRuZXdPdmVyTGVmdCA9IHBvc2l0aW9uLmxlZnQgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQgKyBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0IC0gb2Zmc2V0TGVmdDtcblx0XHRcdFx0aWYgKCBuZXdPdmVyTGVmdCA+IDAgfHwgYWJzKCBuZXdPdmVyTGVmdCApIDwgb3ZlclJpZ2h0ICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLmxlZnQgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dG9wOiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7XG5cdFx0XHR2YXIgd2l0aGluID0gZGF0YS53aXRoaW4sXG5cdFx0XHRcdHdpdGhpbk9mZnNldCA9IHdpdGhpbi5vZmZzZXQudG9wICsgd2l0aGluLnNjcm9sbFRvcCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQgPSB3aXRoaW4uaGVpZ2h0LFxuXHRcdFx0XHRvZmZzZXRUb3AgPSB3aXRoaW4uaXNXaW5kb3cgPyB3aXRoaW4uc2Nyb2xsVG9wIDogd2l0aGluLm9mZnNldC50b3AsXG5cdFx0XHRcdGNvbGxpc2lvblBvc1RvcCA9IHBvc2l0aW9uLnRvcCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLFxuXHRcdFx0XHRvdmVyVG9wID0gY29sbGlzaW9uUG9zVG9wIC0gb2Zmc2V0VG9wLFxuXHRcdFx0XHRvdmVyQm90dG9tID0gY29sbGlzaW9uUG9zVG9wICsgZGF0YS5jb2xsaXNpb25IZWlnaHQgLSBvdXRlckhlaWdodCAtIG9mZnNldFRvcCxcblx0XHRcdFx0dG9wID0gZGF0YS5teVsgMSBdID09PSBcInRvcFwiLFxuXHRcdFx0XHRteU9mZnNldCA9IHRvcCA/XG5cdFx0XHRcdFx0LWRhdGEuZWxlbUhlaWdodCA6XG5cdFx0XHRcdFx0ZGF0YS5teVsgMSBdID09PSBcImJvdHRvbVwiID9cblx0XHRcdFx0XHRcdGRhdGEuZWxlbUhlaWdodCA6XG5cdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRhdE9mZnNldCA9IGRhdGEuYXRbIDEgXSA9PT0gXCJ0b3BcIiA/XG5cdFx0XHRcdFx0ZGF0YS50YXJnZXRIZWlnaHQgOlxuXHRcdFx0XHRcdGRhdGEuYXRbIDEgXSA9PT0gXCJib3R0b21cIiA/XG5cdFx0XHRcdFx0XHQtZGF0YS50YXJnZXRIZWlnaHQgOlxuXHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0b2Zmc2V0ID0gLTIgKiBkYXRhLm9mZnNldFsgMSBdLFxuXHRcdFx0XHRuZXdPdmVyVG9wLFxuXHRcdFx0XHRuZXdPdmVyQm90dG9tO1xuXHRcdFx0aWYgKCBvdmVyVG9wIDwgMCApIHtcblx0XHRcdFx0bmV3T3ZlckJvdHRvbSA9IHBvc2l0aW9uLnRvcCArIG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQgKyBkYXRhLmNvbGxpc2lvbkhlaWdodCAtIG91dGVySGVpZ2h0IC0gd2l0aGluT2Zmc2V0O1xuXHRcdFx0XHRpZiAoIG5ld092ZXJCb3R0b20gPCAwIHx8IG5ld092ZXJCb3R0b20gPCBhYnMoIG92ZXJUb3AgKSApIHtcblx0XHRcdFx0XHRwb3NpdGlvbi50b3AgKz0gbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICggb3ZlckJvdHRvbSA+IDAgKSB7XG5cdFx0XHRcdG5ld092ZXJUb3AgPSBwb3NpdGlvbi50b3AgLSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCArIG15T2Zmc2V0ICsgYXRPZmZzZXQgKyBvZmZzZXQgLSBvZmZzZXRUb3A7XG5cdFx0XHRcdGlmICggbmV3T3ZlclRvcCA+IDAgfHwgYWJzKCBuZXdPdmVyVG9wICkgPCBvdmVyQm90dG9tICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uLnRvcCArPSBteU9mZnNldCArIGF0T2Zmc2V0ICsgb2Zmc2V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRmbGlwZml0OiB7XG5cdFx0bGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHQkLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHQkLnVpLnBvc2l0aW9uLmZpdC5sZWZ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9LFxuXHRcdHRvcDogZnVuY3Rpb24oKSB7XG5cdFx0XHQkLnVpLnBvc2l0aW9uLmZsaXAudG9wLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdCQudWkucG9zaXRpb24uZml0LnRvcC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBmcmFjdGlvbiBzdXBwb3J0IHRlc3RcbihmdW5jdGlvbigpIHtcblx0dmFyIHRlc3RFbGVtZW50LCB0ZXN0RWxlbWVudFBhcmVudCwgdGVzdEVsZW1lbnRTdHlsZSwgb2Zmc2V0TGVmdCwgaSxcblx0XHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiYm9keVwiIClbIDAgXSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly9DcmVhdGUgYSBcImZha2UgYm9keVwiIGZvciB0ZXN0aW5nIGJhc2VkIG9uIG1ldGhvZCB1c2VkIGluIGpRdWVyeS5zdXBwb3J0XG5cdHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggYm9keSA/IFwiZGl2XCIgOiBcImJvZHlcIiApO1xuXHR0ZXN0RWxlbWVudFN0eWxlID0ge1xuXHRcdHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG5cdFx0d2lkdGg6IDAsXG5cdFx0aGVpZ2h0OiAwLFxuXHRcdGJvcmRlcjogMCxcblx0XHRtYXJnaW46IDAsXG5cdFx0YmFja2dyb3VuZDogXCJub25lXCJcblx0fTtcblx0aWYgKCBib2R5ICkge1xuXHRcdCQuZXh0ZW5kKCB0ZXN0RWxlbWVudFN0eWxlLCB7XG5cdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0bGVmdDogXCItMTAwMHB4XCIsXG5cdFx0XHR0b3A6IFwiLTEwMDBweFwiXG5cdFx0fSk7XG5cdH1cblx0Zm9yICggaSBpbiB0ZXN0RWxlbWVudFN0eWxlICkge1xuXHRcdHRlc3RFbGVtZW50LnN0eWxlWyBpIF0gPSB0ZXN0RWxlbWVudFN0eWxlWyBpIF07XG5cdH1cblx0dGVzdEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXHR0ZXN0RWxlbWVudFBhcmVudCA9IGJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHR0ZXN0RWxlbWVudFBhcmVudC5pbnNlcnRCZWZvcmUoIHRlc3RFbGVtZW50LCB0ZXN0RWxlbWVudFBhcmVudC5maXJzdENoaWxkICk7XG5cblx0ZGl2LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMTAuNzQzMjIyMnB4O1wiO1xuXG5cdG9mZnNldExlZnQgPSAkKCBkaXYgKS5vZmZzZXQoKS5sZWZ0O1xuXHRzdXBwb3J0c09mZnNldEZyYWN0aW9ucyA9IG9mZnNldExlZnQgPiAxMCAmJiBvZmZzZXRMZWZ0IDwgMTE7XG5cblx0dGVzdEVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcblx0dGVzdEVsZW1lbnRQYXJlbnQucmVtb3ZlQ2hpbGQoIHRlc3RFbGVtZW50ICk7XG59KSgpO1xuXG59KSgpO1xuXG52YXIgcG9zaXRpb24gPSAkLnVpLnBvc2l0aW9uO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEFjY29yZGlvbiAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2FjY29yZGlvbi9cbiAqL1xuXG5cbnZhciBhY2NvcmRpb24gPSAkLndpZGdldCggXCJ1aS5hY2NvcmRpb25cIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YWN0aXZlOiAwLFxuXHRcdGFuaW1hdGU6IHt9LFxuXHRcdGNvbGxhcHNpYmxlOiBmYWxzZSxcblx0XHRldmVudDogXCJjbGlja1wiLFxuXHRcdGhlYWRlcjogXCI+IGxpID4gOmZpcnN0LWNoaWxkLD4gOm5vdChsaSk6ZXZlblwiLFxuXHRcdGhlaWdodFN0eWxlOiBcImF1dG9cIixcblx0XHRpY29uczoge1xuXHRcdFx0YWN0aXZlSGVhZGVyOiBcInVpLWljb24tdHJpYW5nbGUtMS1zXCIsXG5cdFx0XHRoZWFkZXI6IFwidWktaWNvbi10cmlhbmdsZS0xLWVcIlxuXHRcdH0sXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRhY3RpdmF0ZTogbnVsbCxcblx0XHRiZWZvcmVBY3RpdmF0ZTogbnVsbFxuXHR9LFxuXG5cdGhpZGVQcm9wczoge1xuXHRcdGJvcmRlclRvcFdpZHRoOiBcImhpZGVcIixcblx0XHRib3JkZXJCb3R0b21XaWR0aDogXCJoaWRlXCIsXG5cdFx0cGFkZGluZ1RvcDogXCJoaWRlXCIsXG5cdFx0cGFkZGluZ0JvdHRvbTogXCJoaWRlXCIsXG5cdFx0aGVpZ2h0OiBcImhpZGVcIlxuXHR9LFxuXG5cdHNob3dQcm9wczoge1xuXHRcdGJvcmRlclRvcFdpZHRoOiBcInNob3dcIixcblx0XHRib3JkZXJCb3R0b21XaWR0aDogXCJzaG93XCIsXG5cdFx0cGFkZGluZ1RvcDogXCJzaG93XCIsXG5cdFx0cGFkZGluZ0JvdHRvbTogXCJzaG93XCIsXG5cdFx0aGVpZ2h0OiBcInNob3dcIlxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcdHRoaXMucHJldlNob3cgPSB0aGlzLnByZXZIaWRlID0gJCgpO1xuXHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldFwiIClcblx0XHRcdC8vIEFSSUFcblx0XHRcdC5hdHRyKCBcInJvbGVcIiwgXCJ0YWJsaXN0XCIgKTtcblxuXHRcdC8vIGRvbid0IGFsbG93IGNvbGxhcHNpYmxlOiBmYWxzZSBhbmQgYWN0aXZlOiBmYWxzZSAvIG51bGxcblx0XHRpZiAoICFvcHRpb25zLmNvbGxhcHNpYmxlICYmIChvcHRpb25zLmFjdGl2ZSA9PT0gZmFsc2UgfHwgb3B0aW9ucy5hY3RpdmUgPT0gbnVsbCkgKSB7XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSA9IDA7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcHJvY2Vzc1BhbmVscygpO1xuXHRcdC8vIGhhbmRsZSBuZWdhdGl2ZSB2YWx1ZXNcblx0XHRpZiAoIG9wdGlvbnMuYWN0aXZlIDwgMCApIHtcblx0XHRcdG9wdGlvbnMuYWN0aXZlICs9IHRoaXMuaGVhZGVycy5sZW5ndGg7XG5cdFx0fVxuXHRcdHRoaXMuX3JlZnJlc2goKTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlRXZlbnREYXRhOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVhZGVyOiB0aGlzLmFjdGl2ZSxcblx0XHRcdHBhbmVsOiAhdGhpcy5hY3RpdmUubGVuZ3RoID8gJCgpIDogdGhpcy5hY3RpdmUubmV4dCgpXG5cdFx0fTtcblx0fSxcblxuXHRfY3JlYXRlSWNvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpY29ucyA9IHRoaXMub3B0aW9ucy5pY29ucztcblx0XHRpZiAoIGljb25zICkge1xuXHRcdFx0JCggXCI8c3Bhbj5cIiApXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24taGVhZGVyLWljb24gdWktaWNvbiBcIiArIGljb25zLmhlYWRlciApXG5cdFx0XHRcdC5wcmVwZW5kVG8oIHRoaXMuaGVhZGVycyApO1xuXHRcdFx0dGhpcy5hY3RpdmUuY2hpbGRyZW4oIFwiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvblwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBpY29ucy5oZWFkZXIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIGljb25zLmFjdGl2ZUhlYWRlciApO1xuXHRcdFx0dGhpcy5oZWFkZXJzLmFkZENsYXNzKCBcInVpLWFjY29yZGlvbi1pY29uc1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kZXN0cm95SWNvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGVhZGVyc1xuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWFjY29yZGlvbi1pY29uc1wiIClcblx0XHRcdC5jaGlsZHJlbiggXCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIgKVxuXHRcdFx0XHQucmVtb3ZlKCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjb250ZW50cztcblxuXHRcdC8vIGNsZWFuIHVwIG1haW4gZWxlbWVudFxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWFjY29yZGlvbiB1aS13aWRnZXQgdWktaGVscGVyLXJlc2V0XCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiICk7XG5cblx0XHQvLyBjbGVhbiB1cCBoZWFkZXJzXG5cdFx0dGhpcy5oZWFkZXJzXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktYWNjb3JkaW9uLWhlYWRlciB1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1kZWZhdWx0IFwiICtcblx0XHRcdFx0XCJ1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtZXhwYW5kZWRcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLXNlbGVjdGVkXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1jb250cm9sc1wiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInRhYkluZGV4XCIgKVxuXHRcdFx0LnJlbW92ZVVuaXF1ZUlkKCk7XG5cblx0XHR0aGlzLl9kZXN0cm95SWNvbnMoKTtcblxuXHRcdC8vIGNsZWFuIHVwIGNvbnRlbnQgcGFuZWxzXG5cdFx0Y29udGVudHMgPSB0aGlzLmhlYWRlcnMubmV4dCgpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gXCIgK1xuXHRcdFx0XHRcInVpLWFjY29yZGlvbi1jb250ZW50IHVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZFwiIClcblx0XHRcdC5jc3MoIFwiZGlzcGxheVwiLCBcIlwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWhpZGRlblwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtbGFiZWxsZWRieVwiIClcblx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUgIT09IFwiY29udGVudFwiICkge1xuXHRcdFx0Y29udGVudHMuY3NzKCBcImhlaWdodFwiLCBcIlwiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImFjdGl2ZVwiICkge1xuXHRcdFx0Ly8gX2FjdGl2YXRlKCkgd2lsbCBoYW5kbGUgaW52YWxpZCB2YWx1ZXMgYW5kIHVwZGF0ZSB0aGlzLm9wdGlvbnNcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCB2YWx1ZSApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImV2ZW50XCIgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ldmVudCApIHtcblx0XHRcdFx0dGhpcy5fb2ZmKCB0aGlzLmhlYWRlcnMsIHRoaXMub3B0aW9ucy5ldmVudCApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fc2V0dXBFdmVudHMoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIHNldHRpbmcgY29sbGFwc2libGU6IGZhbHNlIHdoaWxlIGNvbGxhcHNlZDsgb3BlbiBmaXJzdCBwYW5lbFxuXHRcdGlmICgga2V5ID09PSBcImNvbGxhcHNpYmxlXCIgJiYgIXZhbHVlICYmIHRoaXMub3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIDAgKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJpY29uc1wiICkge1xuXHRcdFx0dGhpcy5fZGVzdHJveUljb25zKCk7XG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLl9jcmVhdGVJY29ucygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vICM1MzMyIC0gb3BhY2l0eSBkb2Vzbid0IGNhc2NhZGUgdG8gcG9zaXRpb25lZCBlbGVtZW50cyBpbiBJRVxuXHRcdC8vIHNvIHdlIG5lZWQgdG8gYWRkIHRoZSBkaXNhYmxlZCBjbGFzcyB0byB0aGUgaGVhZGVycyBhbmQgcGFuZWxzXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApXG5cdFx0XHRcdC5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgdmFsdWUgKTtcblx0XHRcdHRoaXMuaGVhZGVycy5hZGQoIHRoaXMuaGVhZGVycy5uZXh0KCkgKVxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdH1cblx0fSxcblxuXHRfa2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGtleUNvZGUgPSAkLnVpLmtleUNvZGUsXG5cdFx0XHRsZW5ndGggPSB0aGlzLmhlYWRlcnMubGVuZ3RoLFxuXHRcdFx0Y3VycmVudEluZGV4ID0gdGhpcy5oZWFkZXJzLmluZGV4KCBldmVudC50YXJnZXQgKSxcblx0XHRcdHRvRm9jdXMgPSBmYWxzZTtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRjYXNlIGtleUNvZGUuUklHSFQ6XG5cdFx0XHRjYXNlIGtleUNvZGUuRE9XTjpcblx0XHRcdFx0dG9Gb2N1cyA9IHRoaXMuaGVhZGVyc1sgKCBjdXJyZW50SW5kZXggKyAxICkgJSBsZW5ndGggXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIGtleUNvZGUuTEVGVDpcblx0XHRcdGNhc2Uga2V5Q29kZS5VUDpcblx0XHRcdFx0dG9Gb2N1cyA9IHRoaXMuaGVhZGVyc1sgKCBjdXJyZW50SW5kZXggLSAxICsgbGVuZ3RoICkgJSBsZW5ndGggXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIGtleUNvZGUuU1BBQ0U6XG5cdFx0XHRjYXNlIGtleUNvZGUuRU5URVI6XG5cdFx0XHRcdHRoaXMuX2V2ZW50SGFuZGxlciggZXZlbnQgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIGtleUNvZGUuSE9NRTpcblx0XHRcdFx0dG9Gb2N1cyA9IHRoaXMuaGVhZGVyc1sgMCBdO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2Uga2V5Q29kZS5FTkQ6XG5cdFx0XHRcdHRvRm9jdXMgPSB0aGlzLmhlYWRlcnNbIGxlbmd0aCAtIDEgXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0aWYgKCB0b0ZvY3VzICkge1xuXHRcdFx0JCggZXZlbnQudGFyZ2V0ICkuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xuXHRcdFx0JCggdG9Gb2N1cyApLmF0dHIoIFwidGFiSW5kZXhcIiwgMCApO1xuXHRcdFx0dG9Gb2N1cy5mb2N1cygpO1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdH0sXG5cblx0X3BhbmVsS2V5RG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlVQICYmIGV2ZW50LmN0cmxLZXkgKSB7XG5cdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkucHJldigpLmZvY3VzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcdHRoaXMuX3Byb2Nlc3NQYW5lbHMoKTtcblxuXHRcdC8vIHdhcyBjb2xsYXBzZWQgb3Igbm8gcGFuZWxcblx0XHRpZiAoICggb3B0aW9ucy5hY3RpdmUgPT09IGZhbHNlICYmIG9wdGlvbnMuY29sbGFwc2libGUgPT09IHRydWUgKSB8fCAhdGhpcy5oZWFkZXJzLmxlbmd0aCApIHtcblx0XHRcdG9wdGlvbnMuYWN0aXZlID0gZmFsc2U7XG5cdFx0XHR0aGlzLmFjdGl2ZSA9ICQoKTtcblx0XHQvLyBhY3RpdmUgZmFsc2Ugb25seSB3aGVuIGNvbGxhcHNpYmxlIGlzIHRydWVcblx0XHR9IGVsc2UgaWYgKCBvcHRpb25zLmFjdGl2ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggMCApO1xuXHRcdC8vIHdhcyBhY3RpdmUsIGJ1dCBhY3RpdmUgcGFuZWwgaXMgZ29uZVxuXHRcdH0gZWxzZSBpZiAoIHRoaXMuYWN0aXZlLmxlbmd0aCAmJiAhJC5jb250YWlucyggdGhpcy5lbGVtZW50WyAwIF0sIHRoaXMuYWN0aXZlWyAwIF0gKSApIHtcblx0XHRcdC8vIGFsbCByZW1haW5pbmcgcGFuZWwgYXJlIGRpc2FibGVkXG5cdFx0XHRpZiAoIHRoaXMuaGVhZGVycy5sZW5ndGggPT09IHRoaXMuaGVhZGVycy5maW5kKFwiLnVpLXN0YXRlLWRpc2FibGVkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucy5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XG5cdFx0XHQvLyBhY3RpdmF0ZSBwcmV2aW91cyBwYW5lbFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGUoIE1hdGgubWF4KCAwLCBvcHRpb25zLmFjdGl2ZSAtIDEgKSApO1xuXHRcdFx0fVxuXHRcdC8vIHdhcyBhY3RpdmUsIGFjdGl2ZSBwYW5lbCBzdGlsbCBleGlzdHNcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGFjdGl2ZSBpbmRleCBpcyBjb3JyZWN0XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSA9IHRoaXMuaGVhZGVycy5pbmRleCggdGhpcy5hY3RpdmUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kZXN0cm95SWNvbnMoKTtcblxuXHRcdHRoaXMuX3JlZnJlc2goKTtcblx0fSxcblxuXHRfcHJvY2Vzc1BhbmVsczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZXZIZWFkZXJzID0gdGhpcy5oZWFkZXJzLFxuXHRcdFx0cHJldlBhbmVscyA9IHRoaXMucGFuZWxzO1xuXG5cdFx0dGhpcy5oZWFkZXJzID0gdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5oZWFkZXIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWFjY29yZGlvbi1oZWFkZXIgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsXCIgKTtcblxuXHRcdHRoaXMucGFuZWxzID0gdGhpcy5oZWFkZXJzLm5leHQoKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWFjY29yZGlvbi1jb250ZW50IHVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIgKVxuXHRcdFx0LmZpbHRlciggXCI6bm90KC51aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUpXCIgKVxuXHRcdFx0LmhpZGUoKTtcblxuXHRcdC8vIEF2b2lkIG1lbW9yeSBsZWFrcyAoIzEwMDU2KVxuXHRcdGlmICggcHJldlBhbmVscyApIHtcblx0XHRcdHRoaXMuX29mZiggcHJldkhlYWRlcnMubm90KCB0aGlzLmhlYWRlcnMgKSApO1xuXHRcdFx0dGhpcy5fb2ZmKCBwcmV2UGFuZWxzLm5vdCggdGhpcy5wYW5lbHMgKSApO1xuXHRcdH1cblx0fSxcblxuXHRfcmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1heEhlaWdodCxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRoZWlnaHRTdHlsZSA9IG9wdGlvbnMuaGVpZ2h0U3R5bGUsXG5cdFx0XHRwYXJlbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50KCk7XG5cblx0XHR0aGlzLmFjdGl2ZSA9IHRoaXMuX2ZpbmRBY3RpdmUoIG9wdGlvbnMuYWN0aXZlIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcFwiIClcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIgKTtcblx0XHR0aGlzLmFjdGl2ZS5uZXh0KClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmVcIiApXG5cdFx0XHQuc2hvdygpO1xuXG5cdFx0dGhpcy5oZWFkZXJzXG5cdFx0XHQuYXR0ciggXCJyb2xlXCIsIFwidGFiXCIgKVxuXHRcdFx0LmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBoZWFkZXIgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0aGVhZGVySWQgPSBoZWFkZXIudW5pcXVlSWQoKS5hdHRyKCBcImlkXCIgKSxcblx0XHRcdFx0XHRwYW5lbCA9IGhlYWRlci5uZXh0KCksXG5cdFx0XHRcdFx0cGFuZWxJZCA9IHBhbmVsLnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICk7XG5cdFx0XHRcdGhlYWRlci5hdHRyKCBcImFyaWEtY29udHJvbHNcIiwgcGFuZWxJZCApO1xuXHRcdFx0XHRwYW5lbC5hdHRyKCBcImFyaWEtbGFiZWxsZWRieVwiLCBoZWFkZXJJZCApO1xuXHRcdFx0fSlcblx0XHRcdC5uZXh0KClcblx0XHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcInRhYnBhbmVsXCIgKTtcblxuXHRcdHRoaXMuaGVhZGVyc1xuXHRcdFx0Lm5vdCggdGhpcy5hY3RpdmUgKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0XHR0YWJJbmRleDogLTFcblx0XHRcdH0pXG5cdFx0XHQubmV4dCgpXG5cdFx0XHRcdC5hdHRyKHtcblx0XHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5oaWRlKCk7XG5cblx0XHQvLyBtYWtlIHN1cmUgYXQgbGVhc3Qgb25lIGhlYWRlciBpcyBpbiB0aGUgdGFiIG9yZGVyXG5cdFx0aWYgKCAhdGhpcy5hY3RpdmUubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5oZWFkZXJzLmVxKCAwICkuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWN0aXZlLmF0dHIoe1xuXHRcdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdFwiYXJpYS1leHBhbmRlZFwiOiBcInRydWVcIixcblx0XHRcdFx0dGFiSW5kZXg6IDBcblx0XHRcdH0pXG5cdFx0XHQubmV4dCgpXG5cdFx0XHRcdC5hdHRyKHtcblx0XHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwiZmFsc2VcIlxuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHR0aGlzLl9jcmVhdGVJY29ucygpO1xuXG5cdFx0dGhpcy5fc2V0dXBFdmVudHMoIG9wdGlvbnMuZXZlbnQgKTtcblxuXHRcdGlmICggaGVpZ2h0U3R5bGUgPT09IFwiZmlsbFwiICkge1xuXHRcdFx0bWF4SGVpZ2h0ID0gcGFyZW50LmhlaWdodCgpO1xuXHRcdFx0dGhpcy5lbGVtZW50LnNpYmxpbmdzKCBcIjp2aXNpYmxlXCIgKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcblxuXHRcdFx0XHRpZiAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0bWF4SGVpZ2h0IC09IGVsZW0ub3V0ZXJIZWlnaHQoIHRydWUgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmhlYWRlcnMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0bWF4SGVpZ2h0IC09ICQoIHRoaXMgKS5vdXRlckhlaWdodCggdHJ1ZSApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuaGVhZGVycy5uZXh0KClcblx0XHRcdFx0LmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JCggdGhpcyApLmhlaWdodCggTWF0aC5tYXgoIDAsIG1heEhlaWdodCAtXG5cdFx0XHRcdFx0XHQkKCB0aGlzICkuaW5uZXJIZWlnaHQoKSArICQoIHRoaXMgKS5oZWlnaHQoKSApICk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5jc3MoIFwib3ZlcmZsb3dcIiwgXCJhdXRvXCIgKTtcblx0XHR9IGVsc2UgaWYgKCBoZWlnaHRTdHlsZSA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0XHRtYXhIZWlnaHQgPSAwO1xuXHRcdFx0dGhpcy5oZWFkZXJzLm5leHQoKVxuXHRcdFx0XHQuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRtYXhIZWlnaHQgPSBNYXRoLm1heCggbWF4SGVpZ2h0LCAkKCB0aGlzICkuY3NzKCBcImhlaWdodFwiLCBcIlwiICkuaGVpZ2h0KCkgKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmhlaWdodCggbWF4SGVpZ2h0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hY3RpdmF0ZTogZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdHZhciBhY3RpdmUgPSB0aGlzLl9maW5kQWN0aXZlKCBpbmRleCApWyAwIF07XG5cblx0XHQvLyB0cnlpbmcgdG8gYWN0aXZhdGUgdGhlIGFscmVhZHkgYWN0aXZlIHBhbmVsXG5cdFx0aWYgKCBhY3RpdmUgPT09IHRoaXMuYWN0aXZlWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdHJ5aW5nIHRvIGNvbGxhcHNlLCBzaW11bGF0ZSBhIGNsaWNrIG9uIHRoZSBjdXJyZW50bHkgYWN0aXZlIGhlYWRlclxuXHRcdGFjdGl2ZSA9IGFjdGl2ZSB8fCB0aGlzLmFjdGl2ZVsgMCBdO1xuXG5cdFx0dGhpcy5fZXZlbnRIYW5kbGVyKHtcblx0XHRcdHRhcmdldDogYWN0aXZlLFxuXHRcdFx0Y3VycmVudFRhcmdldDogYWN0aXZlLFxuXHRcdFx0cHJldmVudERlZmF1bHQ6ICQubm9vcFxuXHRcdH0pO1xuXHR9LFxuXG5cdF9maW5kQWN0aXZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJudW1iZXJcIiA/IHRoaXMuaGVhZGVycy5lcSggc2VsZWN0b3IgKSA6ICQoKTtcblx0fSxcblxuXHRfc2V0dXBFdmVudHM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgZXZlbnRzID0ge1xuXHRcdFx0a2V5ZG93bjogXCJfa2V5ZG93blwiXG5cdFx0fTtcblx0XHRpZiAoIGV2ZW50ICkge1xuXHRcdFx0JC5lYWNoKCBldmVudC5zcGxpdCggXCIgXCIgKSwgZnVuY3Rpb24oIGluZGV4LCBldmVudE5hbWUgKSB7XG5cdFx0XHRcdGV2ZW50c1sgZXZlbnROYW1lIF0gPSBcIl9ldmVudEhhbmRsZXJcIjtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuX29mZiggdGhpcy5oZWFkZXJzLmFkZCggdGhpcy5oZWFkZXJzLm5leHQoKSApICk7XG5cdFx0dGhpcy5fb24oIHRoaXMuaGVhZGVycywgZXZlbnRzICk7XG5cdFx0dGhpcy5fb24oIHRoaXMuaGVhZGVycy5uZXh0KCksIHsga2V5ZG93bjogXCJfcGFuZWxLZXlEb3duXCIgfSk7XG5cdFx0dGhpcy5faG92ZXJhYmxlKCB0aGlzLmhlYWRlcnMgKTtcblx0XHR0aGlzLl9mb2N1c2FibGUoIHRoaXMuaGVhZGVycyApO1xuXHR9LFxuXG5cdF9ldmVudEhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGFjdGl2ZSA9IHRoaXMuYWN0aXZlLFxuXHRcdFx0Y2xpY2tlZCA9ICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSxcblx0XHRcdGNsaWNrZWRJc0FjdGl2ZSA9IGNsaWNrZWRbIDAgXSA9PT0gYWN0aXZlWyAwIF0sXG5cdFx0XHRjb2xsYXBzaW5nID0gY2xpY2tlZElzQWN0aXZlICYmIG9wdGlvbnMuY29sbGFwc2libGUsXG5cdFx0XHR0b1Nob3cgPSBjb2xsYXBzaW5nID8gJCgpIDogY2xpY2tlZC5uZXh0KCksXG5cdFx0XHR0b0hpZGUgPSBhY3RpdmUubmV4dCgpLFxuXHRcdFx0ZXZlbnREYXRhID0ge1xuXHRcdFx0XHRvbGRIZWFkZXI6IGFjdGl2ZSxcblx0XHRcdFx0b2xkUGFuZWw6IHRvSGlkZSxcblx0XHRcdFx0bmV3SGVhZGVyOiBjb2xsYXBzaW5nID8gJCgpIDogY2xpY2tlZCxcblx0XHRcdFx0bmV3UGFuZWw6IHRvU2hvd1xuXHRcdFx0fTtcblxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoXG5cdFx0XHRcdC8vIGNsaWNrIG9uIGFjdGl2ZSBoZWFkZXIsIGJ1dCBub3QgY29sbGFwc2libGVcblx0XHRcdFx0KCBjbGlja2VkSXNBY3RpdmUgJiYgIW9wdGlvbnMuY29sbGFwc2libGUgKSB8fFxuXHRcdFx0XHQvLyBhbGxvdyBjYW5jZWxpbmcgYWN0aXZhdGlvblxuXHRcdFx0XHQoIHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlQWN0aXZhdGVcIiwgZXZlbnQsIGV2ZW50RGF0YSApID09PSBmYWxzZSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG9wdGlvbnMuYWN0aXZlID0gY29sbGFwc2luZyA/IGZhbHNlIDogdGhpcy5oZWFkZXJzLmluZGV4KCBjbGlja2VkICk7XG5cblx0XHQvLyB3aGVuIHRoZSBjYWxsIHRvIC5fdG9nZ2xlKCkgY29tZXMgYWZ0ZXIgdGhlIGNsYXNzIGNoYW5nZXNcblx0XHQvLyBpdCBjYXVzZXMgYSB2ZXJ5IG9kZCBidWcgaW4gSUUgOCAoc2VlICM2NzIwKVxuXHRcdHRoaXMuYWN0aXZlID0gY2xpY2tlZElzQWN0aXZlID8gJCgpIDogY2xpY2tlZDtcblx0XHR0aGlzLl90b2dnbGUoIGV2ZW50RGF0YSApO1xuXG5cdFx0Ly8gc3dpdGNoIGNsYXNzZXNcblx0XHQvLyBjb3JuZXIgY2xhc3NlcyBvbiB0aGUgcHJldmlvdXNseSBhY3RpdmUgaGVhZGVyIHN0YXkgYWZ0ZXIgdGhlIGFuaW1hdGlvblxuXHRcdGFjdGl2ZS5yZW1vdmVDbGFzcyggXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdGlmICggb3B0aW9ucy5pY29ucyApIHtcblx0XHRcdGFjdGl2ZS5jaGlsZHJlbiggXCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uXCIgKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIG9wdGlvbnMuaWNvbnMuYWN0aXZlSGVhZGVyIClcblx0XHRcdFx0LmFkZENsYXNzKCBvcHRpb25zLmljb25zLmhlYWRlciApO1xuXHRcdH1cblxuXHRcdGlmICggIWNsaWNrZWRJc0FjdGl2ZSApIHtcblx0XHRcdGNsaWNrZWRcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWNvcm5lci1hbGxcIiApXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcFwiICk7XG5cdFx0XHRpZiAoIG9wdGlvbnMuaWNvbnMgKSB7XG5cdFx0XHRcdGNsaWNrZWQuY2hpbGRyZW4oIFwiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvblwiIClcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIG9wdGlvbnMuaWNvbnMuaGVhZGVyIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIG9wdGlvbnMuaWNvbnMuYWN0aXZlSGVhZGVyICk7XG5cdFx0XHR9XG5cblx0XHRcdGNsaWNrZWRcblx0XHRcdFx0Lm5leHQoKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X3RvZ2dsZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0dmFyIHRvU2hvdyA9IGRhdGEubmV3UGFuZWwsXG5cdFx0XHR0b0hpZGUgPSB0aGlzLnByZXZTaG93Lmxlbmd0aCA/IHRoaXMucHJldlNob3cgOiBkYXRhLm9sZFBhbmVsO1xuXG5cdFx0Ly8gaGFuZGxlIGFjdGl2YXRpbmcgYSBwYW5lbCBkdXJpbmcgdGhlIGFuaW1hdGlvbiBmb3IgYW5vdGhlciBhY3RpdmF0aW9uXG5cdFx0dGhpcy5wcmV2U2hvdy5hZGQoIHRoaXMucHJldkhpZGUgKS5zdG9wKCB0cnVlLCB0cnVlICk7XG5cdFx0dGhpcy5wcmV2U2hvdyA9IHRvU2hvdztcblx0XHR0aGlzLnByZXZIaWRlID0gdG9IaWRlO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYW5pbWF0ZSApIHtcblx0XHRcdHRoaXMuX2FuaW1hdGUoIHRvU2hvdywgdG9IaWRlLCBkYXRhICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRvSGlkZS5oaWRlKCk7XG5cdFx0XHR0b1Nob3cuc2hvdygpO1xuXHRcdFx0dGhpcy5fdG9nZ2xlQ29tcGxldGUoIGRhdGEgKTtcblx0XHR9XG5cblx0XHR0b0hpZGUuYXR0cih7XG5cdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG5cdFx0fSk7XG5cdFx0dG9IaWRlLnByZXYoKS5hdHRyKHtcblx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcImZhbHNlXCIsXG5cdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG5cdFx0fSk7XG5cdFx0Ly8gaWYgd2UncmUgc3dpdGNoaW5nIHBhbmVscywgcmVtb3ZlIHRoZSBvbGQgaGVhZGVyIGZyb20gdGhlIHRhYiBvcmRlclxuXHRcdC8vIGlmIHdlJ3JlIG9wZW5pbmcgZnJvbSBjb2xsYXBzZWQgc3RhdGUsIHJlbW92ZSB0aGUgcHJldmlvdXMgaGVhZGVyIGZyb20gdGhlIHRhYiBvcmRlclxuXHRcdC8vIGlmIHdlJ3JlIGNvbGxhcHNpbmcsIHRoZW4ga2VlcCB0aGUgY29sbGFwc2luZyBoZWFkZXIgaW4gdGhlIHRhYiBvcmRlclxuXHRcdGlmICggdG9TaG93Lmxlbmd0aCAmJiB0b0hpZGUubGVuZ3RoICkge1xuXHRcdFx0dG9IaWRlLnByZXYoKS5hdHRyKHtcblx0XHRcdFx0XCJ0YWJJbmRleFwiOiAtMSxcblx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIlxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmICggdG9TaG93Lmxlbmd0aCApIHtcblx0XHRcdHRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBwYXJzZUludCggJCggdGhpcyApLmF0dHIoIFwidGFiSW5kZXhcIiApLCAxMCApID09PSAwO1xuXHRcdFx0fSlcblx0XHRcdC5hdHRyKCBcInRhYkluZGV4XCIsIC0xICk7XG5cdFx0fVxuXG5cdFx0dG9TaG93XG5cdFx0XHQuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIgKVxuXHRcdFx0LnByZXYoKVxuXHRcdFx0XHQuYXR0cih7XG5cdFx0XHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XHRcdFwiYXJpYS1leHBhbmRlZFwiOiBcInRydWVcIixcblx0XHRcdFx0XHR0YWJJbmRleDogMFxuXHRcdFx0XHR9KTtcblx0fSxcblxuXHRfYW5pbWF0ZTogZnVuY3Rpb24oIHRvU2hvdywgdG9IaWRlLCBkYXRhICkge1xuXHRcdHZhciB0b3RhbCwgZWFzaW5nLCBkdXJhdGlvbixcblx0XHRcdHRoYXQgPSB0aGlzLFxuXHRcdFx0YWRqdXN0ID0gMCxcblx0XHRcdGJveFNpemluZyA9IHRvU2hvdy5jc3MoIFwiYm94LXNpemluZ1wiICksXG5cdFx0XHRkb3duID0gdG9TaG93Lmxlbmd0aCAmJlxuXHRcdFx0XHQoICF0b0hpZGUubGVuZ3RoIHx8ICggdG9TaG93LmluZGV4KCkgPCB0b0hpZGUuaW5kZXgoKSApICksXG5cdFx0XHRhbmltYXRlID0gdGhpcy5vcHRpb25zLmFuaW1hdGUgfHwge30sXG5cdFx0XHRvcHRpb25zID0gZG93biAmJiBhbmltYXRlLmRvd24gfHwgYW5pbWF0ZSxcblx0XHRcdGNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoYXQuX3RvZ2dsZUNvbXBsZXRlKCBkYXRhICk7XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdGR1cmF0aW9uID0gb3B0aW9ucztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGVhc2luZyA9IG9wdGlvbnM7XG5cdFx0fVxuXHRcdC8vIGZhbGwgYmFjayBmcm9tIG9wdGlvbnMgdG8gYW5pbWF0aW9uIGluIGNhc2Ugb2YgcGFydGlhbCBkb3duIHNldHRpbmdzXG5cdFx0ZWFzaW5nID0gZWFzaW5nIHx8IG9wdGlvbnMuZWFzaW5nIHx8IGFuaW1hdGUuZWFzaW5nO1xuXHRcdGR1cmF0aW9uID0gZHVyYXRpb24gfHwgb3B0aW9ucy5kdXJhdGlvbiB8fCBhbmltYXRlLmR1cmF0aW9uO1xuXG5cdFx0aWYgKCAhdG9IaWRlLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0b1Nob3cuYW5pbWF0ZSggdGhpcy5zaG93UHJvcHMsIGR1cmF0aW9uLCBlYXNpbmcsIGNvbXBsZXRlICk7XG5cdFx0fVxuXHRcdGlmICggIXRvU2hvdy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdG9IaWRlLmFuaW1hdGUoIHRoaXMuaGlkZVByb3BzLCBkdXJhdGlvbiwgZWFzaW5nLCBjb21wbGV0ZSApO1xuXHRcdH1cblxuXHRcdHRvdGFsID0gdG9TaG93LnNob3coKS5vdXRlckhlaWdodCgpO1xuXHRcdHRvSGlkZS5hbmltYXRlKCB0aGlzLmhpZGVQcm9wcywge1xuXHRcdFx0ZHVyYXRpb246IGR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nOiBlYXNpbmcsXG5cdFx0XHRzdGVwOiBmdW5jdGlvbiggbm93LCBmeCApIHtcblx0XHRcdFx0Zngubm93ID0gTWF0aC5yb3VuZCggbm93ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dG9TaG93XG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYW5pbWF0ZSggdGhpcy5zaG93UHJvcHMsIHtcblx0XHRcdFx0ZHVyYXRpb246IGR1cmF0aW9uLFxuXHRcdFx0XHRlYXNpbmc6IGVhc2luZyxcblx0XHRcdFx0Y29tcGxldGU6IGNvbXBsZXRlLFxuXHRcdFx0XHRzdGVwOiBmdW5jdGlvbiggbm93LCBmeCApIHtcblx0XHRcdFx0XHRmeC5ub3cgPSBNYXRoLnJvdW5kKCBub3cgKTtcblx0XHRcdFx0XHRpZiAoIGZ4LnByb3AgIT09IFwiaGVpZ2h0XCIgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGJveFNpemluZyA9PT0gXCJjb250ZW50LWJveFwiICkge1xuXHRcdFx0XHRcdFx0XHRhZGp1c3QgKz0gZngubm93O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIHRoYXQub3B0aW9ucy5oZWlnaHRTdHlsZSAhPT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdFx0XHRmeC5ub3cgPSBNYXRoLnJvdW5kKCB0b3RhbCAtIHRvSGlkZS5vdXRlckhlaWdodCgpIC0gYWRqdXN0ICk7XG5cdFx0XHRcdFx0XHRhZGp1c3QgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH0sXG5cblx0X3RvZ2dsZUNvbXBsZXRlOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHR2YXIgdG9IaWRlID0gZGF0YS5vbGRQYW5lbDtcblxuXHRcdHRvSGlkZVxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZVwiIClcblx0XHRcdC5wcmV2KClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWNvcm5lci10b3BcIiApXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIgKTtcblxuXHRcdC8vIFdvcmsgYXJvdW5kIGZvciByZW5kZXJpbmcgYnVnIGluIElFICgjNTQyMSlcblx0XHRpZiAoIHRvSGlkZS5sZW5ndGggKSB7XG5cdFx0XHR0b0hpZGUucGFyZW50KClbIDAgXS5jbGFzc05hbWUgPSB0b0hpZGUucGFyZW50KClbIDAgXS5jbGFzc05hbWU7XG5cdFx0fVxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiYWN0aXZhdGVcIiwgbnVsbCwgZGF0YSApO1xuXHR9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBNZW51IDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbWVudS9cbiAqL1xuXG5cbnZhciBtZW51ID0gJC53aWRnZXQoIFwidWkubWVudVwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjx1bD5cIixcblx0ZGVsYXk6IDMwMCxcblx0b3B0aW9uczoge1xuXHRcdGljb25zOiB7XG5cdFx0XHRzdWJtZW51OiBcInVpLWljb24tY2FyYXQtMS1lXCJcblx0XHR9LFxuXHRcdGl0ZW1zOiBcIj4gKlwiLFxuXHRcdG1lbnVzOiBcInVsXCIsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImxlZnQtMSB0b3BcIixcblx0XHRcdGF0OiBcInJpZ2h0IHRvcFwiXG5cdFx0fSxcblx0XHRyb2xlOiBcIm1lbnVcIixcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGJsdXI6IG51bGwsXG5cdFx0Zm9jdXM6IG51bGwsXG5cdFx0c2VsZWN0OiBudWxsXG5cdH0sXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5hY3RpdmVNZW51ID0gdGhpcy5lbGVtZW50O1xuXG5cdFx0Ly8gRmxhZyB1c2VkIHRvIHByZXZlbnQgZmlyaW5nIG9mIHRoZSBjbGljayBoYW5kbGVyXG5cdFx0Ly8gYXMgdGhlIGV2ZW50IGJ1YmJsZXMgdXAgdGhyb3VnaCBuZXN0ZWQgbWVudXNcblx0XHR0aGlzLm1vdXNlSGFuZGxlZCA9IGZhbHNlO1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnVuaXF1ZUlkKClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudFwiIClcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1tZW51LWljb25zXCIsICEhdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLWljb25cIiApLmxlbmd0aCApXG5cdFx0XHQuYXR0cih7XG5cdFx0XHRcdHJvbGU6IHRoaXMub3B0aW9ucy5yb2xlLFxuXHRcdFx0XHR0YWJJbmRleDogMFxuXHRcdFx0fSk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApXG5cdFx0XHRcdC5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgXCJ0cnVlXCIgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9vbih7XG5cdFx0XHQvLyBQcmV2ZW50IGZvY3VzIGZyb20gc3RpY2tpbmcgdG8gbGlua3MgaW5zaWRlIG1lbnUgYWZ0ZXIgY2xpY2tpbmdcblx0XHRcdC8vIHRoZW0gKGZvY3VzIHNob3VsZCBhbHdheXMgc3RheSBvbiBVTCBkdXJpbmcgbmF2aWdhdGlvbikuXG5cdFx0XHRcIm1vdXNlZG93biAudWktbWVudS1pdGVtXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0sXG5cdFx0XHRcImNsaWNrIC51aS1tZW51LWl0ZW1cIjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICk7XG5cdFx0XHRcdGlmICggIXRoaXMubW91c2VIYW5kbGVkICYmIHRhcmdldC5ub3QoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3QoIGV2ZW50ICk7XG5cblx0XHRcdFx0XHQvLyBPbmx5IHNldCB0aGUgbW91c2VIYW5kbGVkIGZsYWcgaWYgdGhlIGV2ZW50IHdpbGwgYnViYmxlLCBzZWUgIzk0NjkuXG5cdFx0XHRcdFx0aWYgKCAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdHRoaXMubW91c2VIYW5kbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPcGVuIHN1Ym1lbnUgb24gY2xpY2tcblx0XHRcdFx0XHRpZiAoIHRhcmdldC5oYXMoIFwiLnVpLW1lbnVcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdHRoaXMuZXhwYW5kKCBldmVudCApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICF0aGlzLmVsZW1lbnQuaXMoIFwiOmZvY3VzXCIgKSAmJiAkKCB0aGlzLmRvY3VtZW50WyAwIF0uYWN0aXZlRWxlbWVudCApLmNsb3Nlc3QoIFwiLnVpLW1lbnVcIiApLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVkaXJlY3QgZm9jdXMgdG8gdGhlIG1lbnVcblx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImZvY3VzXCIsIFsgdHJ1ZSBdICk7XG5cblx0XHRcdFx0XHRcdC8vIElmIHRoZSBhY3RpdmUgaXRlbSBpcyBvbiB0aGUgdG9wIGxldmVsLCBsZXQgaXQgc3RheSBhY3RpdmUuXG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGJsdXIgdGhlIGFjdGl2ZSBpdGVtIHNpbmNlIGl0IGlzIG5vIGxvbmdlciB2aXNpYmxlLlxuXHRcdFx0XHRcdFx0aWYgKCB0aGlzLmFjdGl2ZSAmJiB0aGlzLmFjdGl2ZS5wYXJlbnRzKCBcIi51aS1tZW51XCIgKS5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdFwibW91c2VlbnRlciAudWktbWVudS1pdGVtXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0Ly8gSWdub3JlIG1vdXNlIGV2ZW50cyB3aGlsZSB0eXBlYWhlYWQgaXMgYWN0aXZlLCBzZWUgIzEwNDU4LlxuXHRcdFx0XHQvLyBQcmV2ZW50cyBmb2N1c2luZyB0aGUgd3JvbmcgaXRlbSB3aGVuIHR5cGVhaGVhZCBjYXVzZXMgYSBzY3JvbGwgd2hpbGUgdGhlIG1vdXNlXG5cdFx0XHRcdC8vIGlzIG92ZXIgYW4gaXRlbSBpbiB0aGUgbWVudVxuXHRcdFx0XHRpZiAoIHRoaXMucHJldmlvdXNGaWx0ZXIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciB0YXJnZXQgPSAkKCBldmVudC5jdXJyZW50VGFyZ2V0ICk7XG5cdFx0XHRcdC8vIFJlbW92ZSB1aS1zdGF0ZS1hY3RpdmUgY2xhc3MgZnJvbSBzaWJsaW5ncyBvZiB0aGUgbmV3bHkgZm9jdXNlZCBtZW51IGl0ZW1cblx0XHRcdFx0Ly8gdG8gYXZvaWQgYSBqdW1wIGNhdXNlZCBieSBhZGphY2VudCBlbGVtZW50cyBib3RoIGhhdmluZyBhIGNsYXNzIHdpdGggYSBib3JkZXJcblx0XHRcdFx0dGFyZ2V0LnNpYmxpbmdzKCBcIi51aS1zdGF0ZS1hY3RpdmVcIiApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCB0YXJnZXQgKTtcblx0XHRcdH0sXG5cdFx0XHRtb3VzZWxlYXZlOiBcImNvbGxhcHNlQWxsXCIsXG5cdFx0XHRcIm1vdXNlbGVhdmUgLnVpLW1lbnVcIjogXCJjb2xsYXBzZUFsbFwiLFxuXHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwga2VlcEFjdGl2ZUl0ZW0gKSB7XG5cdFx0XHRcdC8vIElmIHRoZXJlJ3MgYWxyZWFkeSBhbiBhY3RpdmUgaXRlbSwga2VlcCBpdCBhY3RpdmVcblx0XHRcdFx0Ly8gSWYgbm90LCBhY3RpdmF0ZSB0aGUgZmlyc3QgaXRlbVxuXHRcdFx0XHR2YXIgaXRlbSA9IHRoaXMuYWN0aXZlIHx8IHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKS5lcSggMCApO1xuXG5cdFx0XHRcdGlmICggIWtlZXBBY3RpdmVJdGVtICkge1xuXHRcdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBpdGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRibHVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggISQuY29udGFpbnMoIHRoaXMuZWxlbWVudFswXSwgdGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNvbGxhcHNlQWxsKCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0a2V5ZG93bjogXCJfa2V5ZG93blwiXG5cdFx0fSk7XG5cblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdC8vIENsaWNrcyBvdXRzaWRlIG9mIGEgbWVudSBjb2xsYXBzZSBhbnkgb3BlbiBtZW51c1xuXHRcdHRoaXMuX29uKCB0aGlzLmRvY3VtZW50LCB7XG5cdFx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuX2Nsb3NlT25Eb2N1bWVudENsaWNrKCBldmVudCApICkge1xuXHRcdFx0XHRcdHRoaXMuY29sbGFwc2VBbGwoIGV2ZW50ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNldCB0aGUgbW91c2VIYW5kbGVkIGZsYWdcblx0XHRcdFx0dGhpcy5tb3VzZUhhbmRsZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gRGVzdHJveSAoc3ViKW1lbnVzXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiApXG5cdFx0XHQuZmluZCggXCIudWktbWVudVwiICkuYWRkQmFjaygpXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1tZW51LWljb25zIHVpLWZyb250XCIgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJ0YWJJbmRleFwiIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1sYWJlbGxlZGJ5XCIgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWV4cGFuZGVkXCIgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWhpZGRlblwiIClcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiIClcblx0XHRcdFx0LnJlbW92ZVVuaXF1ZUlkKClcblx0XHRcdFx0LnNob3coKTtcblxuXHRcdC8vIERlc3Ryb3kgbWVudSBpdGVtc1xuXHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1tZW51LWl0ZW1cIiApXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktbWVudS1pdGVtXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtZGlzYWJsZWRcIiApXG5cdFx0XHQucmVtb3ZlVW5pcXVlSWQoKVxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwidGFiSW5kZXhcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1oYXNwb3B1cFwiIClcblx0XHRcdC5jaGlsZHJlbigpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBlbGVtLmRhdGEoIFwidWktbWVudS1zdWJtZW51LWNhcmF0XCIgKSApIHtcblx0XHRcdFx0XHRlbGVtLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdC8vIERlc3Ryb3kgbWVudSBkaXZpZGVyc1xuXHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1tZW51LWRpdmlkZXJcIiApLnJlbW92ZUNsYXNzKCBcInVpLW1lbnUtZGl2aWRlciB1aS13aWRnZXQtY29udGVudFwiICk7XG5cdH0sXG5cblx0X2tleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgbWF0Y2gsIHByZXYsIGNoYXJhY3Rlciwgc2tpcCxcblx0XHRcdHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcblxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9VUDpcblx0XHRcdHRoaXMucHJldmlvdXNQYWdlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0dGhpcy5uZXh0UGFnZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkhPTUU6XG5cdFx0XHR0aGlzLl9tb3ZlKCBcImZpcnN0XCIsIFwiZmlyc3RcIiwgZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkVORDpcblx0XHRcdHRoaXMuX21vdmUoIFwibGFzdFwiLCBcImxhc3RcIiwgZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0dGhpcy5wcmV2aW91cyggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLkRPV046XG5cdFx0XHR0aGlzLm5leHQoIGV2ZW50ICk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0dGhpcy5jb2xsYXBzZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0aWYgKCB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUuaXMoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKSApIHtcblx0XHRcdFx0dGhpcy5leHBhbmQoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICQudWkua2V5Q29kZS5FTlRFUjpcblx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCBldmVudCApO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAkLnVpLmtleUNvZGUuRVNDQVBFOlxuXHRcdFx0dGhpcy5jb2xsYXBzZSggZXZlbnQgKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuXHRcdFx0cHJldiA9IHRoaXMucHJldmlvdXNGaWx0ZXIgfHwgXCJcIjtcblx0XHRcdGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoIGV2ZW50LmtleUNvZGUgKTtcblx0XHRcdHNraXAgPSBmYWxzZTtcblxuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmZpbHRlclRpbWVyICk7XG5cblx0XHRcdGlmICggY2hhcmFjdGVyID09PSBwcmV2ICkge1xuXHRcdFx0XHRza2lwID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNoYXJhY3RlciA9IHByZXYgKyBjaGFyYWN0ZXI7XG5cdFx0XHR9XG5cblx0XHRcdG1hdGNoID0gdGhpcy5fZmlsdGVyTWVudUl0ZW1zKCBjaGFyYWN0ZXIgKTtcblx0XHRcdG1hdGNoID0gc2tpcCAmJiBtYXRjaC5pbmRleCggdGhpcy5hY3RpdmUubmV4dCgpICkgIT09IC0xID9cblx0XHRcdFx0dGhpcy5hY3RpdmUubmV4dEFsbCggXCIudWktbWVudS1pdGVtXCIgKSA6XG5cdFx0XHRcdG1hdGNoO1xuXG5cdFx0XHQvLyBJZiBubyBtYXRjaGVzIG9uIHRoZSBjdXJyZW50IGZpbHRlciwgcmVzZXQgdG8gdGhlIGxhc3QgY2hhcmFjdGVyIHByZXNzZWRcblx0XHRcdC8vIHRvIG1vdmUgZG93biB0aGUgbWVudSB0byB0aGUgZmlyc3QgaXRlbSB0aGF0IHN0YXJ0cyB3aXRoIHRoYXQgY2hhcmFjdGVyXG5cdFx0XHRpZiAoICFtYXRjaC5sZW5ndGggKSB7XG5cdFx0XHRcdGNoYXJhY3RlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoIGV2ZW50LmtleUNvZGUgKTtcblx0XHRcdFx0bWF0Y2ggPSB0aGlzLl9maWx0ZXJNZW51SXRlbXMoIGNoYXJhY3RlciApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1hdGNoLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIG1hdGNoICk7XG5cdFx0XHRcdHRoaXMucHJldmlvdXNGaWx0ZXIgPSBjaGFyYWN0ZXI7XG5cdFx0XHRcdHRoaXMuZmlsdGVyVGltZXIgPSB0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcjtcblx0XHRcdFx0fSwgMTAwMCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBwcmV2ZW50RGVmYXVsdCApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hY3RpdmF0ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMuYWN0aXZlLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHRpZiAoIHRoaXMuYWN0aXZlLmlzKCBcIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11cIiApICkge1xuXHRcdFx0XHR0aGlzLmV4cGFuZCggZXZlbnQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2VsZWN0KCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbWVudXMsIGl0ZW1zLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRpY29uID0gdGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUsXG5cdFx0XHRzdWJtZW51cyA9IHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMubWVudXMgKTtcblxuXHRcdHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyggXCJ1aS1tZW51LWljb25zXCIsICEhdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLWljb25cIiApLmxlbmd0aCApO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSBuZXN0ZWQgbWVudXNcblx0XHRzdWJtZW51cy5maWx0ZXIoIFwiOm5vdCgudWktbWVudSlcIiApXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktZnJvbnRcIiApXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQuYXR0cih7XG5cdFx0XHRcdHJvbGU6IHRoaXMub3B0aW9ucy5yb2xlLFxuXHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuXHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiXG5cdFx0XHR9KVxuXHRcdFx0LmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBtZW51ID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGl0ZW0gPSBtZW51LnBhcmVudCgpLFxuXHRcdFx0XHRcdHN1Ym1lbnVDYXJhdCA9ICQoIFwiPHNwYW4+XCIgKVxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLW1lbnUtaWNvbiB1aS1pY29uIFwiICsgaWNvbiApXG5cdFx0XHRcdFx0XHQuZGF0YSggXCJ1aS1tZW51LXN1Ym1lbnUtY2FyYXRcIiwgdHJ1ZSApO1xuXG5cdFx0XHRcdGl0ZW1cblx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLWhhc3BvcHVwXCIsIFwidHJ1ZVwiIClcblx0XHRcdFx0XHQucHJlcGVuZCggc3VibWVudUNhcmF0ICk7XG5cdFx0XHRcdG1lbnUuYXR0ciggXCJhcmlhLWxhYmVsbGVkYnlcIiwgaXRlbS5hdHRyKCBcImlkXCIgKSApO1xuXHRcdFx0fSk7XG5cblx0XHRtZW51cyA9IHN1Ym1lbnVzLmFkZCggdGhpcy5lbGVtZW50ICk7XG5cdFx0aXRlbXMgPSBtZW51cy5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbWVudS1pdGVtcyBjb250YWluaW5nIHNwYWNlcyBhbmQvb3IgZGFzaGVzIG9ubHkgYXMgZGl2aWRlcnNcblx0XHRpdGVtcy5ub3QoIFwiLnVpLW1lbnUtaXRlbVwiICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpdGVtID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCB0aGF0Ll9pc0RpdmlkZXIoIGl0ZW0gKSApIHtcblx0XHRcdFx0aXRlbS5hZGRDbGFzcyggXCJ1aS13aWRnZXQtY29udGVudCB1aS1tZW51LWRpdmlkZXJcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRG9uJ3QgcmVmcmVzaCBsaXN0IGl0ZW1zIHRoYXQgYXJlIGFscmVhZHkgYWRhcHRlZFxuXHRcdGl0ZW1zLm5vdCggXCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyXCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLW1lbnUtaXRlbVwiIClcblx0XHRcdC51bmlxdWVJZCgpXG5cdFx0XHQuYXR0cih7XG5cdFx0XHRcdHRhYkluZGV4OiAtMSxcblx0XHRcdFx0cm9sZTogdGhpcy5faXRlbVJvbGUoKVxuXHRcdFx0fSk7XG5cblx0XHQvLyBBZGQgYXJpYS1kaXNhYmxlZCBhdHRyaWJ1dGUgdG8gYW55IGRpc2FibGVkIG1lbnUgaXRlbVxuXHRcdGl0ZW1zLmZpbHRlciggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIiApO1xuXG5cdFx0Ly8gSWYgdGhlIGFjdGl2ZSBpdGVtIGhhcyBiZWVuIHJlbW92ZWQsIGJsdXIgdGhlIG1lbnVcblx0XHRpZiAoIHRoaXMuYWN0aXZlICYmICEkLmNvbnRhaW5zKCB0aGlzLmVsZW1lbnRbIDAgXSwgdGhpcy5hY3RpdmVbIDAgXSApICkge1xuXHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pdGVtUm9sZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG1lbnU6IFwibWVudWl0ZW1cIixcblx0XHRcdGxpc3Rib3g6IFwib3B0aW9uXCJcblx0XHR9WyB0aGlzLm9wdGlvbnMucm9sZSBdO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImljb25zXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudS1pY29uXCIgKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIHRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51IClcblx0XHRcdFx0LmFkZENsYXNzKCB2YWx1ZS5zdWJtZW51ICk7XG5cdFx0fVxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsICEhdmFsdWUgKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0fVxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cdH0sXG5cblx0Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwgaXRlbSApIHtcblx0XHR2YXIgbmVzdGVkLCBmb2N1c2VkO1xuXHRcdHRoaXMuYmx1ciggZXZlbnQsIGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09IFwiZm9jdXNcIiApO1xuXG5cdFx0dGhpcy5fc2Nyb2xsSW50b1ZpZXcoIGl0ZW0gKTtcblxuXHRcdHRoaXMuYWN0aXZlID0gaXRlbS5maXJzdCgpO1xuXHRcdGZvY3VzZWQgPSB0aGlzLmFjdGl2ZS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHQvLyBPbmx5IHVwZGF0ZSBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQgaWYgdGhlcmUncyBhIHJvbGVcblx0XHQvLyBvdGhlcndpc2Ugd2UgYXNzdW1lIGZvY3VzIGlzIG1hbmFnZWQgZWxzZXdoZXJlXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucm9sZSApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5hdHRyKCBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLCBmb2N1c2VkLmF0dHIoIFwiaWRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gSGlnaGxpZ2h0IGFjdGl2ZSBwYXJlbnQgbWVudSBpdGVtLCBpZiBhbnlcblx0XHR0aGlzLmFjdGl2ZVxuXHRcdFx0LnBhcmVudCgpXG5cdFx0XHQuY2xvc2VzdCggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cblx0XHRpZiAoIGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09IFwia2V5ZG93blwiICkge1xuXHRcdFx0dGhpcy5fY2xvc2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50aW1lciA9IHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdFx0fSwgdGhpcy5kZWxheSApO1xuXHRcdH1cblxuXHRcdG5lc3RlZCA9IGl0ZW0uY2hpbGRyZW4oIFwiLnVpLW1lbnVcIiApO1xuXHRcdGlmICggbmVzdGVkLmxlbmd0aCAmJiBldmVudCAmJiAoIC9ebW91c2UvLnRlc3QoIGV2ZW50LnR5cGUgKSApICkge1xuXHRcdFx0dGhpcy5fc3RhcnRPcGVuaW5nKG5lc3RlZCk7XG5cdFx0fVxuXHRcdHRoaXMuYWN0aXZlTWVudSA9IGl0ZW0ucGFyZW50KCk7XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImZvY3VzXCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApO1xuXHR9LFxuXG5cdF9zY3JvbGxJbnRvVmlldzogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0dmFyIGJvcmRlclRvcCwgcGFkZGluZ1RvcCwgb2Zmc2V0LCBzY3JvbGwsIGVsZW1lbnRIZWlnaHQsIGl0ZW1IZWlnaHQ7XG5cdFx0aWYgKCB0aGlzLl9oYXNTY3JvbGwoKSApIHtcblx0XHRcdGJvcmRlclRvcCA9IHBhcnNlRmxvYXQoICQuY3NzKCB0aGlzLmFjdGl2ZU1lbnVbMF0sIFwiYm9yZGVyVG9wV2lkdGhcIiApICkgfHwgMDtcblx0XHRcdHBhZGRpbmdUb3AgPSBwYXJzZUZsb2F0KCAkLmNzcyggdGhpcy5hY3RpdmVNZW51WzBdLCBcInBhZGRpbmdUb3BcIiApICkgfHwgMDtcblx0XHRcdG9mZnNldCA9IGl0ZW0ub2Zmc2V0KCkudG9wIC0gdGhpcy5hY3RpdmVNZW51Lm9mZnNldCgpLnRvcCAtIGJvcmRlclRvcCAtIHBhZGRpbmdUb3A7XG5cdFx0XHRzY3JvbGwgPSB0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCk7XG5cdFx0XHRlbGVtZW50SGVpZ2h0ID0gdGhpcy5hY3RpdmVNZW51LmhlaWdodCgpO1xuXHRcdFx0aXRlbUhlaWdodCA9IGl0ZW0ub3V0ZXJIZWlnaHQoKTtcblxuXHRcdFx0aWYgKCBvZmZzZXQgPCAwICkge1xuXHRcdFx0XHR0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCBzY3JvbGwgKyBvZmZzZXQgKTtcblx0XHRcdH0gZWxzZSBpZiAoIG9mZnNldCArIGl0ZW1IZWlnaHQgPiBlbGVtZW50SGVpZ2h0ICkge1xuXHRcdFx0XHR0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCBzY3JvbGwgKyBvZmZzZXQgLSBlbGVtZW50SGVpZ2h0ICsgaXRlbUhlaWdodCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRibHVyOiBmdW5jdGlvbiggZXZlbnQsIGZyb21Gb2N1cyApIHtcblx0XHRpZiAoICFmcm9tRm9jdXMgKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHR9XG5cblx0XHRpZiAoICF0aGlzLmFjdGl2ZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLmFjdGl2ZS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0dGhpcy5hY3RpdmUgPSBudWxsO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJibHVyXCIsIGV2ZW50LCB7IGl0ZW06IHRoaXMuYWN0aXZlIH0gKTtcblx0fSxcblxuXHRfc3RhcnRPcGVuaW5nOiBmdW5jdGlvbiggc3VibWVudSApIHtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblxuXHRcdC8vIERvbid0IG9wZW4gaWYgYWxyZWFkeSBvcGVuIGZpeGVzIGEgRmlyZWZveCBidWcgdGhhdCBjYXVzZWQgYSAuNSBwaXhlbFxuXHRcdC8vIHNoaWZ0IGluIHRoZSBzdWJtZW51IHBvc2l0aW9uIHdoZW4gbW91c2luZyBvdmVyIHRoZSBjYXJhdCBpY29uXG5cdFx0aWYgKCBzdWJtZW51LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiApICE9PSBcInRydWVcIiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnRpbWVyID0gdGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdFx0dGhpcy5fb3Blbiggc3VibWVudSApO1xuXHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0fSxcblxuXHRfb3BlbjogZnVuY3Rpb24oIHN1Ym1lbnUgKSB7XG5cdFx0dmFyIHBvc2l0aW9uID0gJC5leHRlbmQoe1xuXHRcdFx0b2Y6IHRoaXMuYWN0aXZlXG5cdFx0fSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uICk7XG5cblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCIudWktbWVudVwiICkubm90KCBzdWJtZW51LnBhcmVudHMoIFwiLnVpLW1lbnVcIiApIClcblx0XHRcdC5oaWRlKClcblx0XHRcdC5hdHRyKCBcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiICk7XG5cblx0XHRzdWJtZW51XG5cdFx0XHQuc2hvdygpXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWhpZGRlblwiIClcblx0XHRcdC5hdHRyKCBcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIgKVxuXHRcdFx0LnBvc2l0aW9uKCBwb3NpdGlvbiApO1xuXHR9LFxuXG5cdGNvbGxhcHNlQWxsOiBmdW5jdGlvbiggZXZlbnQsIGFsbCApIHtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHR0aGlzLnRpbWVyID0gdGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBJZiB3ZSB3ZXJlIHBhc3NlZCBhbiBldmVudCwgbG9vayBmb3IgdGhlIHN1Ym1lbnUgdGhhdCBjb250YWlucyB0aGUgZXZlbnRcblx0XHRcdHZhciBjdXJyZW50TWVudSA9IGFsbCA/IHRoaXMuZWxlbWVudCA6XG5cdFx0XHRcdCQoIGV2ZW50ICYmIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1tZW51XCIgKSApO1xuXG5cdFx0XHQvLyBJZiB3ZSBmb3VuZCBubyB2YWxpZCBzdWJtZW51IGFuY2VzdG9yLCB1c2UgdGhlIG1haW4gbWVudSB0byBjbG9zZSBhbGwgc3ViIG1lbnVzIGFueXdheVxuXHRcdFx0aWYgKCAhY3VycmVudE1lbnUubGVuZ3RoICkge1xuXHRcdFx0XHRjdXJyZW50TWVudSA9IHRoaXMuZWxlbWVudDtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY2xvc2UoIGN1cnJlbnRNZW51ICk7XG5cblx0XHRcdHRoaXMuYmx1ciggZXZlbnQgKTtcblx0XHRcdHRoaXMuYWN0aXZlTWVudSA9IGN1cnJlbnRNZW51O1xuXHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0fSxcblxuXHQvLyBXaXRoIG5vIGFyZ3VtZW50cywgY2xvc2VzIHRoZSBjdXJyZW50bHkgYWN0aXZlIG1lbnUgLSBpZiBub3RoaW5nIGlzIGFjdGl2ZVxuXHQvLyBpdCBjbG9zZXMgYWxsIG1lbnVzLiAgSWYgcGFzc2VkIGFuIGFyZ3VtZW50LCBpdCB3aWxsIHNlYXJjaCBmb3IgbWVudXMgQkVMT1dcblx0X2Nsb3NlOiBmdW5jdGlvbiggc3RhcnRNZW51ICkge1xuXHRcdGlmICggIXN0YXJ0TWVudSApIHtcblx0XHRcdHN0YXJ0TWVudSA9IHRoaXMuYWN0aXZlID8gdGhpcy5hY3RpdmUucGFyZW50KCkgOiB0aGlzLmVsZW1lbnQ7XG5cdFx0fVxuXG5cdFx0c3RhcnRNZW51XG5cdFx0XHQuZmluZCggXCIudWktbWVudVwiIClcblx0XHRcdFx0LmhpZGUoKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIiApXG5cdFx0XHRcdC5hdHRyKCBcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiIClcblx0XHRcdC5lbmQoKVxuXHRcdFx0LmZpbmQoIFwiLnVpLXN0YXRlLWFjdGl2ZVwiICkubm90KCBcIi51aS1zdGF0ZS1mb2N1c1wiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdH0sXG5cblx0X2Nsb3NlT25Eb2N1bWVudENsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0cmV0dXJuICEkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1tZW51XCIgKS5sZW5ndGg7XG5cdH0sXG5cblx0X2lzRGl2aWRlcjogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cblx0XHQvLyBNYXRjaCBoeXBoZW4sIGVtIGRhc2gsIGVuIGRhc2hcblx0XHRyZXR1cm4gIS9bXlxcLVxcdTIwMTRcXHUyMDEzXFxzXS8udGVzdCggaXRlbS50ZXh0KCkgKTtcblx0fSxcblxuXHRjb2xsYXBzZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBuZXdJdGVtID0gdGhpcy5hY3RpdmUgJiZcblx0XHRcdHRoaXMuYWN0aXZlLnBhcmVudCgpLmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiLCB0aGlzLmVsZW1lbnQgKTtcblx0XHRpZiAoIG5ld0l0ZW0gJiYgbmV3SXRlbS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLl9jbG9zZSgpO1xuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIG5ld0l0ZW0gKTtcblx0XHR9XG5cdH0sXG5cblx0ZXhwYW5kOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIG5ld0l0ZW0gPSB0aGlzLmFjdGl2ZSAmJlxuXHRcdFx0dGhpcy5hY3RpdmVcblx0XHRcdFx0LmNoaWxkcmVuKCBcIi51aS1tZW51IFwiIClcblx0XHRcdFx0LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApXG5cdFx0XHRcdC5maXJzdCgpO1xuXG5cdFx0aWYgKCBuZXdJdGVtICYmIG5ld0l0ZW0ubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5fb3BlbiggbmV3SXRlbS5wYXJlbnQoKSApO1xuXG5cdFx0XHQvLyBEZWxheSBzbyBGaXJlZm94IHdpbGwgbm90IGhpZGUgYWN0aXZlZGVzY2VuZGFudCBjaGFuZ2UgaW4gZXhwYW5kaW5nIHN1Ym1lbnUgZnJvbSBBVFxuXHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBuZXdJdGVtICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cblx0bmV4dDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHRoaXMuX21vdmUoIFwibmV4dFwiLCBcImZpcnN0XCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0cHJldmlvdXM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl9tb3ZlKCBcInByZXZcIiwgXCJsYXN0XCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0aXNGaXJzdEl0ZW06IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUucHJldkFsbCggXCIudWktbWVudS1pdGVtXCIgKS5sZW5ndGg7XG5cdH0sXG5cblx0aXNMYXN0SXRlbTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlICYmICF0aGlzLmFjdGl2ZS5uZXh0QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApLmxlbmd0aDtcblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZmlsdGVyLCBldmVudCApIHtcblx0XHR2YXIgbmV4dDtcblx0XHRpZiAoIHRoaXMuYWN0aXZlICkge1xuXHRcdFx0aWYgKCBkaXJlY3Rpb24gPT09IFwiZmlyc3RcIiB8fCBkaXJlY3Rpb24gPT09IFwibGFzdFwiICkge1xuXHRcdFx0XHRuZXh0ID0gdGhpcy5hY3RpdmVcblx0XHRcdFx0XHRbIGRpcmVjdGlvbiA9PT0gXCJmaXJzdFwiID8gXCJwcmV2QWxsXCIgOiBcIm5leHRBbGxcIiBdKCBcIi51aS1tZW51LWl0ZW1cIiApXG5cdFx0XHRcdFx0LmVxKCAtMSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV4dCA9IHRoaXMuYWN0aXZlXG5cdFx0XHRcdFx0WyBkaXJlY3Rpb24gKyBcIkFsbFwiIF0oIFwiLnVpLW1lbnUtaXRlbVwiIClcblx0XHRcdFx0XHQuZXEoIDAgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCAhbmV4dCB8fCAhbmV4dC5sZW5ndGggfHwgIXRoaXMuYWN0aXZlICkge1xuXHRcdFx0bmV4dCA9IHRoaXMuYWN0aXZlTWVudS5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVsgZmlsdGVyIF0oKTtcblx0XHR9XG5cblx0XHR0aGlzLmZvY3VzKCBldmVudCwgbmV4dCApO1xuXHR9LFxuXG5cdG5leHRQYWdlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGl0ZW0sIGJhc2UsIGhlaWdodDtcblxuXHRcdGlmICggIXRoaXMuYWN0aXZlICkge1xuXHRcdFx0dGhpcy5uZXh0KCBldmVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuaXNMYXN0SXRlbSgpICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuX2hhc1Njcm9sbCgpICkge1xuXHRcdFx0YmFzZSA9IHRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcDtcblx0XHRcdGhlaWdodCA9IHRoaXMuZWxlbWVudC5oZWlnaHQoKTtcblx0XHRcdHRoaXMuYWN0aXZlLm5leHRBbGwoIFwiLnVpLW1lbnUtaXRlbVwiICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0aXRlbSA9ICQoIHRoaXMgKTtcblx0XHRcdFx0cmV0dXJuIGl0ZW0ub2Zmc2V0KCkudG9wIC0gYmFzZSAtIGhlaWdodCA8IDA7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIGl0ZW0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5mb2N1cyggZXZlbnQsIHRoaXMuYWN0aXZlTWVudS5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVxuXHRcdFx0XHRbICF0aGlzLmFjdGl2ZSA/IFwiZmlyc3RcIiA6IFwibGFzdFwiIF0oKSApO1xuXHRcdH1cblx0fSxcblxuXHRwcmV2aW91c1BhZ2U6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgaXRlbSwgYmFzZSwgaGVpZ2h0O1xuXHRcdGlmICggIXRoaXMuYWN0aXZlICkge1xuXHRcdFx0dGhpcy5uZXh0KCBldmVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMuaXNGaXJzdEl0ZW0oKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLl9oYXNTY3JvbGwoKSApIHtcblx0XHRcdGJhc2UgPSB0aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3A7XG5cdFx0XHRoZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7XG5cdFx0XHR0aGlzLmFjdGl2ZS5wcmV2QWxsKCBcIi51aS1tZW51LWl0ZW1cIiApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGl0ZW0gPSAkKCB0aGlzICk7XG5cdFx0XHRcdHJldHVybiBpdGVtLm9mZnNldCgpLnRvcCAtIGJhc2UgKyBoZWlnaHQgPiAwO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCBpdGVtICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuZm9jdXMoIGV2ZW50LCB0aGlzLmFjdGl2ZU1lbnUuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zICkuZmlyc3QoKSApO1xuXHRcdH1cblx0fSxcblxuXHRfaGFzU2Nyb2xsOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkgPCB0aGlzLmVsZW1lbnQucHJvcCggXCJzY3JvbGxIZWlnaHRcIiApO1xuXHR9LFxuXG5cdHNlbGVjdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdC8vIFRPRE86IEl0IHNob3VsZCBuZXZlciBiZSBwb3NzaWJsZSB0byBub3QgaGF2ZSBhbiBhY3RpdmUgaXRlbSBhdCB0aGlzXG5cdFx0Ly8gcG9pbnQsIGJ1dCB0aGUgdGVzdHMgZG9uJ3QgdHJpZ2dlciBtb3VzZWVudGVyIGJlZm9yZSBjbGljay5cblx0XHR0aGlzLmFjdGl2ZSA9IHRoaXMuYWN0aXZlIHx8ICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiICk7XG5cdFx0dmFyIHVpID0geyBpdGVtOiB0aGlzLmFjdGl2ZSB9O1xuXHRcdGlmICggIXRoaXMuYWN0aXZlLmhhcyggXCIudWktbWVudVwiICkubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5jb2xsYXBzZUFsbCggZXZlbnQsIHRydWUgKTtcblx0XHR9XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzZWxlY3RcIiwgZXZlbnQsIHVpICk7XG5cdH0sXG5cblx0X2ZpbHRlck1lbnVJdGVtczogZnVuY3Rpb24oY2hhcmFjdGVyKSB7XG5cdFx0dmFyIGVzY2FwZWRDaGFyYWN0ZXIgPSBjaGFyYWN0ZXIucmVwbGFjZSggL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXFxzXS9nLCBcIlxcXFwkJlwiICksXG5cdFx0XHRyZWdleCA9IG5ldyBSZWdFeHAoIFwiXlwiICsgZXNjYXBlZENoYXJhY3RlciwgXCJpXCIgKTtcblxuXHRcdHJldHVybiB0aGlzLmFjdGl2ZU1lbnVcblx0XHRcdC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKVxuXG5cdFx0XHQvLyBPbmx5IG1hdGNoIG9uIGl0ZW1zLCBub3QgZGl2aWRlcnMgb3Igb3RoZXIgY29udGVudCAoIzEwNTcxKVxuXHRcdFx0LmZpbHRlciggXCIudWktbWVudS1pdGVtXCIgKVxuXHRcdFx0LmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHJlZ2V4LnRlc3QoICQudHJpbSggJCggdGhpcyApLnRleHQoKSApICk7XG5cdFx0XHR9KTtcblx0fVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgQXV0b2NvbXBsZXRlIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYXV0b2NvbXBsZXRlL1xuICovXG5cblxuJC53aWRnZXQoIFwidWkuYXV0b2NvbXBsZXRlXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPGlucHV0PlwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YXBwZW5kVG86IG51bGwsXG5cdFx0YXV0b0ZvY3VzOiBmYWxzZSxcblx0XHRkZWxheTogMzAwLFxuXHRcdG1pbkxlbmd0aDogMSxcblx0XHRwb3NpdGlvbjoge1xuXHRcdFx0bXk6IFwibGVmdCB0b3BcIixcblx0XHRcdGF0OiBcImxlZnQgYm90dG9tXCIsXG5cdFx0XHRjb2xsaXNpb246IFwibm9uZVwiXG5cdFx0fSxcblx0XHRzb3VyY2U6IG51bGwsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRjaGFuZ2U6IG51bGwsXG5cdFx0Y2xvc2U6IG51bGwsXG5cdFx0Zm9jdXM6IG51bGwsXG5cdFx0b3BlbjogbnVsbCxcblx0XHRyZXNwb25zZTogbnVsbCxcblx0XHRzZWFyY2g6IG51bGwsXG5cdFx0c2VsZWN0OiBudWxsXG5cdH0sXG5cblx0cmVxdWVzdEluZGV4OiAwLFxuXHRwZW5kaW5nOiAwLFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIFNvbWUgYnJvd3NlcnMgb25seSByZXBlYXQga2V5ZG93biBldmVudHMsIG5vdCBrZXlwcmVzcyBldmVudHMsXG5cdFx0Ly8gc28gd2UgdXNlIHRoZSBzdXBwcmVzc0tleVByZXNzIGZsYWcgdG8gZGV0ZXJtaW5lIGlmIHdlJ3ZlIGFscmVhZHlcblx0XHQvLyBoYW5kbGVkIHRoZSBrZXlkb3duIGV2ZW50LiAjNzI2OVxuXHRcdC8vIFVuZm9ydHVuYXRlbHkgdGhlIGNvZGUgZm9yICYgaW4ga2V5cHJlc3MgaXMgdGhlIHNhbWUgYXMgdGhlIHVwIGFycm93LFxuXHRcdC8vIHNvIHdlIHVzZSB0aGUgc3VwcHJlc3NLZXlQcmVzc1JlcGVhdCBmbGFnIHRvIGF2b2lkIGhhbmRsaW5nIGtleXByZXNzXG5cdFx0Ly8gZXZlbnRzIHdoZW4gd2Uga25vdyB0aGUga2V5ZG93biBldmVudCB3YXMgdXNlZCB0byBtb2RpZnkgdGhlXG5cdFx0Ly8gc2VhcmNoIHRlcm0uICM3Nzk5XG5cdFx0dmFyIHN1cHByZXNzS2V5UHJlc3MsIHN1cHByZXNzS2V5UHJlc3NSZXBlYXQsIHN1cHByZXNzSW5wdXQsXG5cdFx0XHRub2RlTmFtZSA9IHRoaXMuZWxlbWVudFsgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRpc1RleHRhcmVhID0gbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIixcblx0XHRcdGlzSW5wdXQgPSBub2RlTmFtZSA9PT0gXCJpbnB1dFwiO1xuXG5cdFx0dGhpcy5pc011bHRpTGluZSA9XG5cdFx0XHQvLyBUZXh0YXJlYXMgYXJlIGFsd2F5cyBtdWx0aS1saW5lXG5cdFx0XHRpc1RleHRhcmVhID8gdHJ1ZSA6XG5cdFx0XHQvLyBJbnB1dHMgYXJlIGFsd2F5cyBzaW5nbGUtbGluZSwgZXZlbiBpZiBpbnNpZGUgYSBjb250ZW50RWRpdGFibGUgZWxlbWVudFxuXHRcdFx0Ly8gSUUgYWxzbyB0cmVhdHMgaW5wdXRzIGFzIGNvbnRlbnRFZGl0YWJsZVxuXHRcdFx0aXNJbnB1dCA/IGZhbHNlIDpcblx0XHRcdC8vIEFsbCBvdGhlciBlbGVtZW50IHR5cGVzIGFyZSBkZXRlcm1pbmVkIGJ5IHdoZXRoZXIgb3Igbm90IHRoZXkncmUgY29udGVudEVkaXRhYmxlXG5cdFx0XHR0aGlzLmVsZW1lbnQucHJvcCggXCJpc0NvbnRlbnRFZGl0YWJsZVwiICk7XG5cblx0XHR0aGlzLnZhbHVlTWV0aG9kID0gdGhpcy5lbGVtZW50WyBpc1RleHRhcmVhIHx8IGlzSW5wdXQgPyBcInZhbFwiIDogXCJ0ZXh0XCIgXTtcblx0XHR0aGlzLmlzTmV3TWVudSA9IHRydWU7XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1hdXRvY29tcGxldGUtaW5wdXRcIiApXG5cdFx0XHQuYXR0ciggXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIiApO1xuXG5cdFx0dGhpcy5fb24oIHRoaXMuZWxlbWVudCwge1xuXHRcdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuZWxlbWVudC5wcm9wKCBcInJlYWRPbmx5XCIgKSApIHtcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRzdXBwcmVzc0lucHV0ID0gdHJ1ZTtcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzUmVwZWF0ID0gdHJ1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gZmFsc2U7XG5cdFx0XHRcdHN1cHByZXNzSW5wdXQgPSBmYWxzZTtcblx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzc1JlcGVhdCA9IGZhbHNlO1xuXHRcdFx0XHR2YXIga2V5Q29kZSA9ICQudWkua2V5Q29kZTtcblx0XHRcdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJwcmV2aW91c1BhZ2VcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9tb3ZlKCBcIm5leHRQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5VUDpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9rZXlFdmVudCggXCJwcmV2aW91c1wiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuRE9XTjpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9rZXlFdmVudCggXCJuZXh0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5FTlRFUjpcblx0XHRcdFx0XHQvLyB3aGVuIG1lbnUgaXMgb3BlbiBhbmQgaGFzIGZvY3VzXG5cdFx0XHRcdFx0aWYgKCB0aGlzLm1lbnUuYWN0aXZlICkge1xuXHRcdFx0XHRcdFx0Ly8gIzYwNTUgLSBPcGVyYSBzdGlsbCBhbGxvd3MgdGhlIGtleXByZXNzIHRvIG9jY3VyXG5cdFx0XHRcdFx0XHQvLyB3aGljaCBjYXVzZXMgZm9ybXMgdG8gc3VibWl0XG5cdFx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHR0aGlzLm1lbnUuc2VsZWN0KCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLlRBQjpcblx0XHRcdFx0XHRpZiAoIHRoaXMubWVudS5hY3RpdmUgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1lbnUuc2VsZWN0KCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLkVTQ0FQRTpcblx0XHRcdFx0XHRpZiAoIHRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSApIHtcblx0XHRcdFx0XHRcdGlmICggIXRoaXMuaXNNdWx0aUxpbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX3ZhbHVlKCB0aGlzLnRlcm0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0XHRcdFx0XHQvLyBEaWZmZXJlbnQgYnJvd3NlcnMgaGF2ZSBkaWZmZXJlbnQgZGVmYXVsdCBiZWhhdmlvciBmb3IgZXNjYXBlXG5cdFx0XHRcdFx0XHQvLyBTaW5nbGUgcHJlc3MgY2FuIG1lYW4gdW5kbyBvciBjbGVhclxuXHRcdFx0XHRcdFx0Ly8gRG91YmxlIHByZXNzIGluIElFIG1lYW5zIGNsZWFyIHRoZSB3aG9sZSBmb3JtXG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRzdXBwcmVzc0tleVByZXNzUmVwZWF0ID0gdHJ1ZTtcblx0XHRcdFx0XHQvLyBzZWFyY2ggdGltZW91dCBzaG91bGQgYmUgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgaW5wdXQgdmFsdWUgaXMgY2hhbmdlZFxuXHRcdFx0XHRcdHRoaXMuX3NlYXJjaFRpbWVvdXQoIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRrZXlwcmVzczogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoIHN1cHByZXNzS2V5UHJlc3MgKSB7XG5cdFx0XHRcdFx0c3VwcHJlc3NLZXlQcmVzcyA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmICggIXRoaXMuaXNNdWx0aUxpbmUgfHwgdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggc3VwcHJlc3NLZXlQcmVzc1JlcGVhdCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyByZXBsaWNhdGUgc29tZSBrZXkgaGFuZGxlcnMgdG8gYWxsb3cgdGhlbSB0byByZXBlYXQgaW4gRmlyZWZveCBhbmQgT3BlcmFcblx0XHRcdFx0dmFyIGtleUNvZGUgPSAkLnVpLmtleUNvZGU7XG5cdFx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwicHJldmlvdXNQYWdlXCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2Uga2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0UGFnZVwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIGtleUNvZGUuVVA6XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwicHJldmlvdXNcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBrZXlDb2RlLkRPV046XG5cdFx0XHRcdFx0dGhpcy5fa2V5RXZlbnQoIFwibmV4dFwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0aW5wdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCBzdXBwcmVzc0lucHV0ICkge1xuXHRcdFx0XHRcdHN1cHByZXNzSW5wdXQgPSBmYWxzZTtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9zZWFyY2hUaW1lb3V0KCBldmVudCApO1xuXHRcdFx0fSxcblx0XHRcdGZvY3VzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuXHRcdFx0XHR0aGlzLnByZXZpb3VzID0gdGhpcy5fdmFsdWUoKTtcblx0XHRcdH0sXG5cdFx0XHRibHVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5jYW5jZWxCbHVyICkge1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnNlYXJjaGluZyApO1xuXHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0XHR0aGlzLl9jaGFuZ2UoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLl9pbml0U291cmNlKCk7XG5cdFx0dGhpcy5tZW51ID0gJCggXCI8dWw+XCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWF1dG9jb21wbGV0ZSB1aS1mcm9udFwiIClcblx0XHRcdC5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oKSApXG5cdFx0XHQubWVudSh7XG5cdFx0XHRcdC8vIGRpc2FibGUgQVJJQSBzdXBwb3J0LCB0aGUgbGl2ZSByZWdpb24gdGFrZXMgY2FyZSBvZiB0aGF0XG5cdFx0XHRcdHJvbGU6IG51bGxcblx0XHRcdH0pXG5cdFx0XHQuaGlkZSgpXG5cdFx0XHQubWVudSggXCJpbnN0YW5jZVwiICk7XG5cblx0XHR0aGlzLl9vbiggdGhpcy5tZW51LmVsZW1lbnQsIHtcblx0XHRcdG1vdXNlZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQvLyBwcmV2ZW50IG1vdmluZyBmb2N1cyBvdXQgb2YgdGhlIHRleHQgZmllbGRcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHQvLyBJRSBkb2Vzbid0IHByZXZlbnQgbW92aW5nIGZvY3VzIGV2ZW4gd2l0aCBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRcdC8vIHNvIHdlIHNldCBhIGZsYWcgdG8ga25vdyB3aGVuIHdlIHNob3VsZCBpZ25vcmUgdGhlIGJsdXIgZXZlbnRcblx0XHRcdFx0dGhpcy5jYW5jZWxCbHVyID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gY2xpY2tpbmcgb24gdGhlIHNjcm9sbGJhciBjYXVzZXMgZm9jdXMgdG8gc2hpZnQgdG8gdGhlIGJvZHlcblx0XHRcdFx0Ly8gYnV0IHdlIGNhbid0IGRldGVjdCBhIG1vdXNldXAgb3IgYSBjbGljayBpbW1lZGlhdGVseSBhZnRlcndhcmRcblx0XHRcdFx0Ly8gc28gd2UgaGF2ZSB0byB0cmFjayB0aGUgbmV4dCBtb3VzZWRvd24gYW5kIGNsb3NlIHRoZSBtZW51IGlmXG5cdFx0XHRcdC8vIHRoZSB1c2VyIGNsaWNrcyBzb21ld2hlcmUgb3V0c2lkZSBvZiB0aGUgYXV0b2NvbXBsZXRlXG5cdFx0XHRcdHZhciBtZW51RWxlbWVudCA9IHRoaXMubWVudS5lbGVtZW50WyAwIF07XG5cdFx0XHRcdGlmICggISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLW1lbnUtaXRlbVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdFx0XHRcdFx0dGhpcy5kb2N1bWVudC5vbmUoIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBldmVudC50YXJnZXQgIT09IHRoYXQuZWxlbWVudFsgMCBdICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRldmVudC50YXJnZXQgIT09IG1lbnVFbGVtZW50ICYmXG5cdFx0XHRcdFx0XHRcdFx0XHQhJC5jb250YWlucyggbWVudUVsZW1lbnQsIGV2ZW50LnRhcmdldCApICkge1xuXHRcdFx0XHRcdFx0XHRcdHRoYXQuY2xvc2UoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRtZW51Zm9jdXM6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHZhciBsYWJlbCwgaXRlbTtcblx0XHRcdFx0Ly8gc3VwcG9ydDogRmlyZWZveFxuXHRcdFx0XHQvLyBQcmV2ZW50IGFjY2lkZW50YWwgYWN0aXZhdGlvbiBvZiBtZW51IGl0ZW1zIGluIEZpcmVmb3ggKCM3MDI0ICM5MTE4KVxuXHRcdFx0XHRpZiAoIHRoaXMuaXNOZXdNZW51ICkge1xuXHRcdFx0XHRcdHRoaXMuaXNOZXdNZW51ID0gZmFsc2U7XG5cdFx0XHRcdFx0aWYgKCBldmVudC5vcmlnaW5hbEV2ZW50ICYmIC9ebW91c2UvLnRlc3QoIGV2ZW50Lm9yaWdpbmFsRXZlbnQudHlwZSApICkge1xuXHRcdFx0XHRcdFx0dGhpcy5tZW51LmJsdXIoKTtcblxuXHRcdFx0XHRcdFx0dGhpcy5kb2N1bWVudC5vbmUoIFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHQkKCBldmVudC50YXJnZXQgKS50cmlnZ2VyKCBldmVudC5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGl0ZW0gPSB1aS5pdGVtLmRhdGEoIFwidWktYXV0b2NvbXBsZXRlLWl0ZW1cIiApO1xuXHRcdFx0XHRpZiAoIGZhbHNlICE9PSB0aGlzLl90cmlnZ2VyKCBcImZvY3VzXCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApICkge1xuXHRcdFx0XHRcdC8vIHVzZSB2YWx1ZSB0byBtYXRjaCB3aGF0IHdpbGwgZW5kIHVwIGluIHRoZSBpbnB1dCwgaWYgaXQgd2FzIGEga2V5IGV2ZW50XG5cdFx0XHRcdFx0aWYgKCBldmVudC5vcmlnaW5hbEV2ZW50ICYmIC9ea2V5Ly50ZXN0KCBldmVudC5vcmlnaW5hbEV2ZW50LnR5cGUgKSApIHtcblx0XHRcdFx0XHRcdHRoaXMuX3ZhbHVlKCBpdGVtLnZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQW5ub3VuY2UgdGhlIHZhbHVlIGluIHRoZSBsaXZlUmVnaW9uXG5cdFx0XHRcdGxhYmVsID0gdWkuaXRlbS5hdHRyKCBcImFyaWEtbGFiZWxcIiApIHx8IGl0ZW0udmFsdWU7XG5cdFx0XHRcdGlmICggbGFiZWwgJiYgJC50cmltKCBsYWJlbCApLmxlbmd0aCApIHtcblx0XHRcdFx0XHR0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0XHRcdFx0JCggXCI8ZGl2PlwiICkudGV4dCggbGFiZWwgKS5hcHBlbmRUbyggdGhpcy5saXZlUmVnaW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRtZW51c2VsZWN0OiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR2YXIgaXRlbSA9IHVpLml0ZW0uZGF0YSggXCJ1aS1hdXRvY29tcGxldGUtaXRlbVwiICksXG5cdFx0XHRcdFx0cHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuXG5cdFx0XHRcdC8vIG9ubHkgdHJpZ2dlciB3aGVuIGZvY3VzIHdhcyBsb3N0IChjbGljayBvbiBtZW51KVxuXHRcdFx0XHRpZiAoIHRoaXMuZWxlbWVudFsgMCBdICE9PSB0aGlzLmRvY3VtZW50WyAwIF0uYWN0aXZlRWxlbWVudCApIHtcblx0XHRcdFx0XHR0aGlzLmVsZW1lbnQuZm9jdXMoKTtcblx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0Ly8gIzYxMDkgLSBJRSB0cmlnZ2VycyB0d28gZm9jdXMgZXZlbnRzIGFuZCB0aGUgc2Vjb25kXG5cdFx0XHRcdFx0Ly8gaXMgYXN5bmNocm9ub3VzLCBzbyB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBwcmV2aW91c1xuXHRcdFx0XHRcdC8vIHRlcm0gc3luY2hyb25vdXNseSBhbmQgYXN5bmNocm9ub3VzbHkgOi0oXG5cdFx0XHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0XHR0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIGZhbHNlICE9PSB0aGlzLl90cmlnZ2VyKCBcInNlbGVjdFwiLCBldmVudCwgeyBpdGVtOiBpdGVtIH0gKSApIHtcblx0XHRcdFx0XHR0aGlzLl92YWx1ZSggaXRlbS52YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHJlc2V0IHRoZSB0ZXJtIGFmdGVyIHRoZSBzZWxlY3QgZXZlbnRcblx0XHRcdFx0Ly8gdGhpcyBhbGxvd3MgY3VzdG9tIHNlbGVjdCBoYW5kbGluZyB0byB3b3JrIHByb3Blcmx5XG5cdFx0XHRcdHRoaXMudGVybSA9IHRoaXMuX3ZhbHVlKCk7XG5cblx0XHRcdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5saXZlUmVnaW9uID0gJCggXCI8c3Bhbj5cIiwge1xuXHRcdFx0XHRyb2xlOiBcInN0YXR1c1wiLFxuXHRcdFx0XHRcImFyaWEtbGl2ZVwiOiBcImFzc2VydGl2ZVwiLFxuXHRcdFx0XHRcImFyaWEtcmVsZXZhbnRcIjogXCJhZGRpdGlvbnNcIlxuXHRcdFx0fSlcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5ICk7XG5cblx0XHQvLyB0dXJuaW5nIG9mZiBhdXRvY29tcGxldGUgcHJldmVudHMgdGhlIGJyb3dzZXIgZnJvbSByZW1lbWJlcmluZyB0aGVcblx0XHQvLyB2YWx1ZSB3aGVuIG5hdmlnYXRpbmcgdGhyb3VnaCBoaXN0b3J5LCBzbyB3ZSByZS1lbmFibGUgYXV0b2NvbXBsZXRlXG5cdFx0Ly8gaWYgdGhlIHBhZ2UgaXMgdW5sb2FkZWQgYmVmb3JlIHRoZSB3aWRnZXQgaXMgZGVzdHJveWVkLiAjNzc5MFxuXHRcdHRoaXMuX29uKCB0aGlzLndpbmRvdywge1xuXHRcdFx0YmVmb3JldW5sb2FkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoIFwiYXV0b2NvbXBsZXRlXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnNlYXJjaGluZyApO1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWF1dG9jb21wbGV0ZS1pbnB1dFwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImF1dG9jb21wbGV0ZVwiICk7XG5cdFx0dGhpcy5tZW51LmVsZW1lbnQucmVtb3ZlKCk7XG5cdFx0dGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cdFx0aWYgKCBrZXkgPT09IFwic291cmNlXCIgKSB7XG5cdFx0XHR0aGlzLl9pbml0U291cmNlKCk7XG5cdFx0fVxuXHRcdGlmICgga2V5ID09PSBcImFwcGVuZFRvXCIgKSB7XG5cdFx0XHR0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyggdGhpcy5fYXBwZW5kVG8oKSApO1xuXHRcdH1cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICYmIHZhbHVlICYmIHRoaXMueGhyICkge1xuXHRcdFx0dGhpcy54aHIuYWJvcnQoKTtcblx0XHR9XG5cdH0sXG5cblx0X2FwcGVuZFRvOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblxuXHRcdGlmICggZWxlbWVudCApIHtcblx0XHRcdGVsZW1lbnQgPSBlbGVtZW50LmpxdWVyeSB8fCBlbGVtZW50Lm5vZGVUeXBlID9cblx0XHRcdFx0JCggZWxlbWVudCApIDpcblx0XHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBlbGVtZW50ICkuZXEoIDAgKTtcblx0XHR9XG5cblx0XHRpZiAoICFlbGVtZW50IHx8ICFlbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiLnVpLWZyb250XCIgKTtcblx0XHR9XG5cblx0XHRpZiAoICFlbGVtZW50Lmxlbmd0aCApIHtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblx0fSxcblxuXHRfaW5pdFNvdXJjZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFycmF5LCB1cmwsXG5cdFx0XHR0aGF0ID0gdGhpcztcblx0XHRpZiAoICQuaXNBcnJheSggdGhpcy5vcHRpb25zLnNvdXJjZSApICkge1xuXHRcdFx0YXJyYXkgPSB0aGlzLm9wdGlvbnMuc291cmNlO1xuXHRcdFx0dGhpcy5zb3VyY2UgPSBmdW5jdGlvbiggcmVxdWVzdCwgcmVzcG9uc2UgKSB7XG5cdFx0XHRcdHJlc3BvbnNlKCAkLnVpLmF1dG9jb21wbGV0ZS5maWx0ZXIoIGFycmF5LCByZXF1ZXN0LnRlcm0gKSApO1xuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLnNvdXJjZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHVybCA9IHRoaXMub3B0aW9ucy5zb3VyY2U7XG5cdFx0XHR0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uKCByZXF1ZXN0LCByZXNwb25zZSApIHtcblx0XHRcdFx0aWYgKCB0aGF0LnhociApIHtcblx0XHRcdFx0XHR0aGF0Lnhoci5hYm9ydCgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoYXQueGhyID0gJC5hamF4KHtcblx0XHRcdFx0XHR1cmw6IHVybCxcblx0XHRcdFx0XHRkYXRhOiByZXF1ZXN0LFxuXHRcdFx0XHRcdGRhdGFUeXBlOiBcImpzb25cIixcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlKCBkYXRhICk7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZShbXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc291cmNlID0gdGhpcy5vcHRpb25zLnNvdXJjZTtcblx0XHR9XG5cdH0sXG5cblx0X3NlYXJjaFRpbWVvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRjbGVhclRpbWVvdXQoIHRoaXMuc2VhcmNoaW5nICk7XG5cdFx0dGhpcy5zZWFyY2hpbmcgPSB0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gU2VhcmNoIGlmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZCwgb3IgaWYgdGhlIHVzZXIgcmV0eXBlcyB0aGUgc2FtZSB2YWx1ZSAoc2VlICM3NDM0KVxuXHRcdFx0dmFyIGVxdWFsVmFsdWVzID0gdGhpcy50ZXJtID09PSB0aGlzLl92YWx1ZSgpLFxuXHRcdFx0XHRtZW51VmlzaWJsZSA9IHRoaXMubWVudS5lbGVtZW50LmlzKCBcIjp2aXNpYmxlXCIgKSxcblx0XHRcdFx0bW9kaWZpZXJLZXkgPSBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5O1xuXG5cdFx0XHRpZiAoICFlcXVhbFZhbHVlcyB8fCAoIGVxdWFsVmFsdWVzICYmICFtZW51VmlzaWJsZSAmJiAhbW9kaWZpZXJLZXkgKSApIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuXHRcdFx0XHR0aGlzLnNlYXJjaCggbnVsbCwgZXZlbnQgKTtcblx0XHRcdH1cblx0XHR9LCB0aGlzLm9wdGlvbnMuZGVsYXkgKTtcblx0fSxcblxuXHRzZWFyY2g6IGZ1bmN0aW9uKCB2YWx1ZSwgZXZlbnQgKSB7XG5cdFx0dmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiB0aGlzLl92YWx1ZSgpO1xuXG5cdFx0Ly8gYWx3YXlzIHNhdmUgdGhlIGFjdHVhbCB2YWx1ZSwgbm90IHRoZSBvbmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50XG5cdFx0dGhpcy50ZXJtID0gdGhpcy5fdmFsdWUoKTtcblxuXHRcdGlmICggdmFsdWUubGVuZ3RoIDwgdGhpcy5vcHRpb25zLm1pbkxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5fdHJpZ2dlciggXCJzZWFyY2hcIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX3NlYXJjaCggdmFsdWUgKTtcblx0fSxcblxuXHRfc2VhcmNoOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dGhpcy5wZW5kaW5nKys7XG5cdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCBcInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIgKTtcblx0XHR0aGlzLmNhbmNlbFNlYXJjaCA9IGZhbHNlO1xuXG5cdFx0dGhpcy5zb3VyY2UoIHsgdGVybTogdmFsdWUgfSwgdGhpcy5fcmVzcG9uc2UoKSApO1xuXHR9LFxuXG5cdF9yZXNwb25zZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluZGV4ID0gKyt0aGlzLnJlcXVlc3RJbmRleDtcblxuXHRcdHJldHVybiAkLnByb3h5KGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0aWYgKCBpbmRleCA9PT0gdGhpcy5yZXF1ZXN0SW5kZXggKSB7XG5cdFx0XHRcdHRoaXMuX19yZXNwb25zZSggY29udGVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnBlbmRpbmctLTtcblx0XHRcdGlmICggIXRoaXMucGVuZGluZyApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nXCIgKTtcblx0XHRcdH1cblx0XHR9LCB0aGlzICk7XG5cdH0sXG5cblx0X19yZXNwb25zZTogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0aWYgKCBjb250ZW50ICkge1xuXHRcdFx0Y29udGVudCA9IHRoaXMuX25vcm1hbGl6ZSggY29udGVudCApO1xuXHRcdH1cblx0XHR0aGlzLl90cmlnZ2VyKCBcInJlc3BvbnNlXCIsIG51bGwsIHsgY29udGVudDogY29udGVudCB9ICk7XG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIGNvbnRlbnQgJiYgY29udGVudC5sZW5ndGggJiYgIXRoaXMuY2FuY2VsU2VhcmNoICkge1xuXHRcdFx0dGhpcy5fc3VnZ2VzdCggY29udGVudCApO1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gdXNlIC5fY2xvc2UoKSBpbnN0ZWFkIG9mIC5jbG9zZSgpIHNvIHdlIGRvbid0IGNhbmNlbCBmdXR1cmUgc2VhcmNoZXNcblx0XHRcdHRoaXMuX2Nsb3NlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGNsb3NlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5jYW5jZWxTZWFyY2ggPSB0cnVlO1xuXHRcdHRoaXMuX2Nsb3NlKCBldmVudCApO1xuXHR9LFxuXG5cdF9jbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0dGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpO1xuXHRcdFx0dGhpcy5tZW51LmJsdXIoKTtcblx0XHRcdHRoaXMuaXNOZXdNZW51ID0gdHJ1ZTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2xvc2VcIiwgZXZlbnQgKTtcblx0XHR9XG5cdH0sXG5cblx0X2NoYW5nZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5wcmV2aW91cyAhPT0gdGhpcy5fdmFsdWUoKSApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50LCB7IGl0ZW06IHRoaXMuc2VsZWN0ZWRJdGVtIH0gKTtcblx0XHR9XG5cdH0sXG5cblx0X25vcm1hbGl6ZTogZnVuY3Rpb24oIGl0ZW1zICkge1xuXHRcdC8vIGFzc3VtZSBhbGwgaXRlbXMgaGF2ZSB0aGUgcmlnaHQgZm9ybWF0IHdoZW4gdGhlIGZpcnN0IGl0ZW0gaXMgY29tcGxldGVcblx0XHRpZiAoIGl0ZW1zLmxlbmd0aCAmJiBpdGVtc1sgMCBdLmxhYmVsICYmIGl0ZW1zWyAwIF0udmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gaXRlbXM7XG5cdFx0fVxuXHRcdHJldHVybiAkLm1hcCggaXRlbXMsIGZ1bmN0aW9uKCBpdGVtICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgaXRlbSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRsYWJlbDogaXRlbSxcblx0XHRcdFx0XHR2YWx1ZTogaXRlbVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKCB7fSwgaXRlbSwge1xuXHRcdFx0XHRsYWJlbDogaXRlbS5sYWJlbCB8fCBpdGVtLnZhbHVlLFxuXHRcdFx0XHR2YWx1ZTogaXRlbS52YWx1ZSB8fCBpdGVtLmxhYmVsXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSxcblxuXHRfc3VnZ2VzdDogZnVuY3Rpb24oIGl0ZW1zICkge1xuXHRcdHZhciB1bCA9IHRoaXMubWVudS5lbGVtZW50LmVtcHR5KCk7XG5cdFx0dGhpcy5fcmVuZGVyTWVudSggdWwsIGl0ZW1zICk7XG5cdFx0dGhpcy5pc05ld01lbnUgPSB0cnVlO1xuXHRcdHRoaXMubWVudS5yZWZyZXNoKCk7XG5cblx0XHQvLyBzaXplIGFuZCBwb3NpdGlvbiBtZW51XG5cdFx0dWwuc2hvdygpO1xuXHRcdHRoaXMuX3Jlc2l6ZU1lbnUoKTtcblx0XHR1bC5wb3NpdGlvbiggJC5leHRlbmQoe1xuXHRcdFx0b2Y6IHRoaXMuZWxlbWVudFxuXHRcdH0sIHRoaXMub3B0aW9ucy5wb3NpdGlvbiApICk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5hdXRvRm9jdXMgKSB7XG5cdFx0XHR0aGlzLm1lbnUubmV4dCgpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVzaXplTWVudTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVsID0gdGhpcy5tZW51LmVsZW1lbnQ7XG5cdFx0dWwub3V0ZXJXaWR0aCggTWF0aC5tYXgoXG5cdFx0XHQvLyBGaXJlZm94IHdyYXBzIGxvbmcgdGV4dCAocG9zc2libHkgYSByb3VuZGluZyBidWcpXG5cdFx0XHQvLyBzbyB3ZSBhZGQgMXB4IHRvIGF2b2lkIHRoZSB3cmFwcGluZyAoIzc1MTMpXG5cdFx0XHR1bC53aWR0aCggXCJcIiApLm91dGVyV2lkdGgoKSArIDEsXG5cdFx0XHR0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpXG5cdFx0KSApO1xuXHR9LFxuXG5cdF9yZW5kZXJNZW51OiBmdW5jdGlvbiggdWwsIGl0ZW1zICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHQkLmVhY2goIGl0ZW1zLCBmdW5jdGlvbiggaW5kZXgsIGl0ZW0gKSB7XG5cdFx0XHR0aGF0Ll9yZW5kZXJJdGVtRGF0YSggdWwsIGl0ZW0gKTtcblx0XHR9KTtcblx0fSxcblxuXHRfcmVuZGVySXRlbURhdGE6IGZ1bmN0aW9uKCB1bCwgaXRlbSApIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVuZGVySXRlbSggdWwsIGl0ZW0gKS5kYXRhKCBcInVpLWF1dG9jb21wbGV0ZS1pdGVtXCIsIGl0ZW0gKTtcblx0fSxcblxuXHRfcmVuZGVySXRlbTogZnVuY3Rpb24oIHVsLCBpdGVtICkge1xuXHRcdHJldHVybiAkKCBcIjxsaT5cIiApLnRleHQoIGl0ZW0ubGFiZWwgKS5hcHBlbmRUbyggdWwgKTtcblx0fSxcblxuXHRfbW92ZTogZnVuY3Rpb24oIGRpcmVjdGlvbiwgZXZlbnQgKSB7XG5cdFx0aWYgKCAhdGhpcy5tZW51LmVsZW1lbnQuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0dGhpcy5zZWFyY2goIG51bGwsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICggdGhpcy5tZW51LmlzRmlyc3RJdGVtKCkgJiYgL15wcmV2aW91cy8udGVzdCggZGlyZWN0aW9uICkgfHxcblx0XHRcdFx0dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSAmJiAvXm5leHQvLnRlc3QoIGRpcmVjdGlvbiApICkge1xuXG5cdFx0XHRpZiAoICF0aGlzLmlzTXVsdGlMaW5lICkge1xuXHRcdFx0XHR0aGlzLl92YWx1ZSggdGhpcy50ZXJtICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMubWVudS5ibHVyKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMubWVudVsgZGlyZWN0aW9uIF0oIGV2ZW50ICk7XG5cdH0sXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnQ7XG5cdH0sXG5cblx0X3ZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSggdGhpcy5lbGVtZW50LCBhcmd1bWVudHMgKTtcblx0fSxcblxuXHRfa2V5RXZlbnQ6IGZ1bmN0aW9uKCBrZXlFdmVudCwgZXZlbnQgKSB7XG5cdFx0aWYgKCAhdGhpcy5pc011bHRpTGluZSB8fCB0aGlzLm1lbnUuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XG5cdFx0XHR0aGlzLl9tb3ZlKCBrZXlFdmVudCwgZXZlbnQgKTtcblxuXHRcdFx0Ly8gcHJldmVudHMgbW92aW5nIGN1cnNvciB0byBiZWdpbm5pbmcvZW5kIG9mIHRoZSB0ZXh0IGZpZWxkIGluIHNvbWUgYnJvd3NlcnNcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9XG59KTtcblxuJC5leHRlbmQoICQudWkuYXV0b2NvbXBsZXRlLCB7XG5cdGVzY2FwZVJlZ2V4OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIHZhbHVlLnJlcGxhY2UoIC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I1xcc10vZywgXCJcXFxcJCZcIiApO1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBhcnJheSwgdGVybSApIHtcblx0XHR2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoICQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KCB0ZXJtICksIFwiaVwiICk7XG5cdFx0cmV0dXJuICQuZ3JlcCggYXJyYXksIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiBtYXRjaGVyLnRlc3QoIHZhbHVlLmxhYmVsIHx8IHZhbHVlLnZhbHVlIHx8IHZhbHVlICk7XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG4vLyBsaXZlIHJlZ2lvbiBleHRlbnNpb24sIGFkZGluZyBhIGBtZXNzYWdlc2Agb3B0aW9uXG4vLyBOT1RFOiBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBBUEkuIFdlIGFyZSBzdGlsbCBpbnZlc3RpZ2F0aW5nXG4vLyBhIGZ1bGwgc29sdXRpb24gZm9yIHN0cmluZyBtYW5pcHVsYXRpb24gYW5kIGludGVybmF0aW9uYWxpemF0aW9uLlxuJC53aWRnZXQoIFwidWkuYXV0b2NvbXBsZXRlXCIsICQudWkuYXV0b2NvbXBsZXRlLCB7XG5cdG9wdGlvbnM6IHtcblx0XHRtZXNzYWdlczoge1xuXHRcdFx0bm9SZXN1bHRzOiBcIk5vIHNlYXJjaCByZXN1bHRzLlwiLFxuXHRcdFx0cmVzdWx0czogZnVuY3Rpb24oIGFtb3VudCApIHtcblx0XHRcdFx0cmV0dXJuIGFtb3VudCArICggYW1vdW50ID4gMSA/IFwiIHJlc3VsdHMgYXJlXCIgOiBcIiByZXN1bHQgaXNcIiApICtcblx0XHRcdFx0XHRcIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfX3Jlc3BvbnNlOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHR2YXIgbWVzc2FnZTtcblx0XHR0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLmNhbmNlbFNlYXJjaCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCBjb250ZW50ICYmIGNvbnRlbnQubGVuZ3RoICkge1xuXHRcdFx0bWVzc2FnZSA9IHRoaXMub3B0aW9ucy5tZXNzYWdlcy5yZXN1bHRzKCBjb250ZW50Lmxlbmd0aCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtZXNzYWdlID0gdGhpcy5vcHRpb25zLm1lc3NhZ2VzLm5vUmVzdWx0cztcblx0XHR9XG5cdFx0dGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpO1xuXHRcdCQoIFwiPGRpdj5cIiApLnRleHQoIG1lc3NhZ2UgKS5hcHBlbmRUbyggdGhpcy5saXZlUmVnaW9uICk7XG5cdH1cbn0pO1xuXG52YXIgYXV0b2NvbXBsZXRlID0gJC51aS5hdXRvY29tcGxldGU7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgQnV0dG9uIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYnV0dG9uL1xuICovXG5cblxudmFyIGxhc3RBY3RpdmUsXG5cdGJhc2VDbGFzc2VzID0gXCJ1aS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbFwiLFxuXHR0eXBlQ2xhc3NlcyA9IFwidWktYnV0dG9uLWljb25zLW9ubHkgdWktYnV0dG9uLWljb24tb25seSB1aS1idXR0b24tdGV4dC1pY29ucyB1aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgdWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgdWktYnV0dG9uLXRleHQtb25seVwiLFxuXHRmb3JtUmVzZXRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGZvcm0gPSAkKCB0aGlzICk7XG5cdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdGZvcm0uZmluZCggXCI6dWktYnV0dG9uXCIgKS5idXR0b24oIFwicmVmcmVzaFwiICk7XG5cdFx0fSwgMSApO1xuXHR9LFxuXHRyYWRpb0dyb3VwID0gZnVuY3Rpb24oIHJhZGlvICkge1xuXHRcdHZhciBuYW1lID0gcmFkaW8ubmFtZSxcblx0XHRcdGZvcm0gPSByYWRpby5mb3JtLFxuXHRcdFx0cmFkaW9zID0gJCggW10gKTtcblx0XHRpZiAoIG5hbWUgKSB7XG5cdFx0XHRuYW1lID0gbmFtZS5yZXBsYWNlKCAvJy9nLCBcIlxcXFwnXCIgKTtcblx0XHRcdGlmICggZm9ybSApIHtcblx0XHRcdFx0cmFkaW9zID0gJCggZm9ybSApLmZpbmQoIFwiW25hbWU9J1wiICsgbmFtZSArIFwiJ11bdHlwZT1yYWRpb11cIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmFkaW9zID0gJCggXCJbbmFtZT0nXCIgKyBuYW1lICsgXCInXVt0eXBlPXJhZGlvXVwiLCByYWRpby5vd25lckRvY3VtZW50IClcblx0XHRcdFx0XHQuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuICF0aGlzLmZvcm07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByYWRpb3M7XG5cdH07XG5cbiQud2lkZ2V0KCBcInVpLmJ1dHRvblwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxidXR0b24+XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRkaXNhYmxlZDogbnVsbCxcblx0XHR0ZXh0OiB0cnVlLFxuXHRcdGxhYmVsOiBudWxsLFxuXHRcdGljb25zOiB7XG5cdFx0XHRwcmltYXJ5OiBudWxsLFxuXHRcdFx0c2Vjb25kYXJ5OiBudWxsXG5cdFx0fVxuXHR9LFxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQuY2xvc2VzdCggXCJmb3JtXCIgKVxuXHRcdFx0LnVuYmluZCggXCJyZXNldFwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSApXG5cdFx0XHQuYmluZCggXCJyZXNldFwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZm9ybVJlc2V0SGFuZGxlciApO1xuXG5cdFx0aWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLmRpc2FibGVkICE9PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9ICEhdGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiLCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kZXRlcm1pbmVCdXR0b25UeXBlKCk7XG5cdFx0dGhpcy5oYXNUaXRsZSA9ICEhdGhpcy5idXR0b25FbGVtZW50LmF0dHIoIFwidGl0bGVcIiApO1xuXG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdHRvZ2dsZUJ1dHRvbiA9IHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiIHx8IHRoaXMudHlwZSA9PT0gXCJyYWRpb1wiLFxuXHRcdFx0YWN0aXZlQ2xhc3MgPSAhdG9nZ2xlQnV0dG9uID8gXCJ1aS1zdGF0ZS1hY3RpdmVcIiA6IFwiXCI7XG5cblx0XHRpZiAoIG9wdGlvbnMubGFiZWwgPT09IG51bGwgKSB7XG5cdFx0XHRvcHRpb25zLmxhYmVsID0gKHRoaXMudHlwZSA9PT0gXCJpbnB1dFwiID8gdGhpcy5idXR0b25FbGVtZW50LnZhbCgpIDogdGhpcy5idXR0b25FbGVtZW50Lmh0bWwoKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5faG92ZXJhYmxlKCB0aGlzLmJ1dHRvbkVsZW1lbnQgKTtcblxuXHRcdHRoaXMuYnV0dG9uRWxlbWVudFxuXHRcdFx0LmFkZENsYXNzKCBiYXNlQ2xhc3NlcyApXG5cdFx0XHQuYXR0ciggXCJyb2xlXCIsIFwiYnV0dG9uXCIgKVxuXHRcdFx0LmJpbmQoIFwibW91c2VlbnRlclwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCB0aGlzID09PSBsYXN0QWN0aXZlICkge1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LmJpbmQoIFwibW91c2VsZWF2ZVwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUNsYXNzKCBhY3RpdmVDbGFzcyApO1xuXHRcdFx0fSlcblx0XHRcdC5iaW5kKCBcImNsaWNrXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdC8vIENhbid0IHVzZSBfZm9jdXNhYmxlKCkgYmVjYXVzZSB0aGUgZWxlbWVudCB0aGF0IHJlY2VpdmVzIGZvY3VzXG5cdFx0Ly8gYW5kIHRoZSBlbGVtZW50IHRoYXQgZ2V0cyB0aGUgdWktc3RhdGUtZm9jdXMgY2xhc3MgYXJlIGRpZmZlcmVudFxuXHRcdHRoaXMuX29uKHtcblx0XHRcdGZvY3VzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50LmFkZENsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH0sXG5cdFx0XHRibHVyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmICggdG9nZ2xlQnV0dG9uICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmJpbmQoIFwiY2hhbmdlXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5yZWZyZXNoKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiICkge1xuXHRcdFx0dGhpcy5idXR0b25FbGVtZW50LmJpbmQoIFwiY2xpY2tcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5iaW5kKCBcImNsaWNrXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBvcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0dGhhdC5idXR0b25FbGVtZW50LmF0dHIoIFwiYXJpYS1wcmVzc2VkXCIsIFwidHJ1ZVwiICk7XG5cblx0XHRcdFx0dmFyIHJhZGlvID0gdGhhdC5lbGVtZW50WyAwIF07XG5cdFx0XHRcdHJhZGlvR3JvdXAoIHJhZGlvIClcblx0XHRcdFx0XHQubm90KCByYWRpbyApXG5cdFx0XHRcdFx0Lm1hcChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiAkKCB0aGlzICkuYnV0dG9uKCBcIndpZGdldFwiIClbIDAgXTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1wcmVzc2VkXCIsIFwiZmFsc2VcIiApO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudFxuXHRcdFx0XHQuYmluZCggXCJtb3VzZWRvd25cIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdFx0bGFzdEFjdGl2ZSA9IHRoaXM7XG5cdFx0XHRcdFx0dGhhdC5kb2N1bWVudC5vbmUoIFwibW91c2V1cFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGxhc3RBY3RpdmUgPSBudWxsO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYmluZCggXCJtb3VzZXVwXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYmluZCggXCJrZXlkb3duXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuU1BBQ0UgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVOVEVSICkge1xuXHRcdFx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQvLyBzZWUgIzg1NTksIHdlIGJpbmQgdG8gYmx1ciBoZXJlIGluIGNhc2UgdGhlIGJ1dHRvbiBlbGVtZW50IGxvc2VzXG5cdFx0XHRcdC8vIGZvY3VzIGJldHdlZW4ga2V5ZG93biBhbmQga2V5dXAsIGl0IHdvdWxkIGJlIGxlZnQgaW4gYW4gXCJhY3RpdmVcIiBzdGF0ZVxuXHRcdFx0XHQuYmluZCggXCJrZXl1cFwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIGJsdXJcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0aWYgKCB0aGlzLmJ1dHRvbkVsZW1lbnQuaXMoXCJhXCIpICkge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQua2V5dXAoZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRpZiAoIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5TUEFDRSApIHtcblx0XHRcdFx0XHRcdC8vIFRPRE8gcGFzcyB0aHJvdWdoIG9yaWdpbmFsIGV2ZW50IGNvcnJlY3RseSAoanVzdCBhcyAybmQgYXJndW1lbnQgZG9lc24ndCB3b3JrKVxuXHRcdFx0XHRcdFx0JCggdGhpcyApLmNsaWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9zZXRPcHRpb24oIFwiZGlzYWJsZWRcIiwgb3B0aW9ucy5kaXNhYmxlZCApO1xuXHRcdHRoaXMuX3Jlc2V0QnV0dG9uKCk7XG5cdH0sXG5cblx0X2RldGVybWluZUJ1dHRvblR5cGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBhbmNlc3RvciwgbGFiZWxTZWxlY3RvciwgY2hlY2tlZDtcblxuXHRcdGlmICggdGhpcy5lbGVtZW50LmlzKFwiW3R5cGU9Y2hlY2tib3hdXCIpICkge1xuXHRcdFx0dGhpcy50eXBlID0gXCJjaGVja2JveFwiO1xuXHRcdH0gZWxzZSBpZiAoIHRoaXMuZWxlbWVudC5pcyhcIlt0eXBlPXJhZGlvXVwiKSApIHtcblx0XHRcdHRoaXMudHlwZSA9IFwicmFkaW9cIjtcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmVsZW1lbnQuaXMoXCJpbnB1dFwiKSApIHtcblx0XHRcdHRoaXMudHlwZSA9IFwiaW5wdXRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50eXBlID0gXCJidXR0b25cIjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiIHx8IHRoaXMudHlwZSA9PT0gXCJyYWRpb1wiICkge1xuXHRcdFx0Ly8gd2UgZG9uJ3Qgc2VhcmNoIGFnYWluc3QgdGhlIGRvY3VtZW50IGluIGNhc2UgdGhlIGVsZW1lbnRcblx0XHRcdC8vIGlzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSBET01cblx0XHRcdGFuY2VzdG9yID0gdGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCk7XG5cdFx0XHRsYWJlbFNlbGVjdG9yID0gXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5lbGVtZW50LmF0dHIoXCJpZFwiKSArIFwiJ11cIjtcblx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudCA9IGFuY2VzdG9yLmZpbmQoIGxhYmVsU2VsZWN0b3IgKTtcblx0XHRcdGlmICggIXRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGggKSB7XG5cdFx0XHRcdGFuY2VzdG9yID0gYW5jZXN0b3IubGVuZ3RoID8gYW5jZXN0b3Iuc2libGluZ3MoKSA6IHRoaXMuZWxlbWVudC5zaWJsaW5ncygpO1xuXHRcdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQgPSBhbmNlc3Rvci5maWx0ZXIoIGxhYmVsU2VsZWN0b3IgKTtcblx0XHRcdFx0aWYgKCAhdGhpcy5idXR0b25FbGVtZW50Lmxlbmd0aCApIHtcblx0XHRcdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQgPSBhbmNlc3Rvci5maW5kKCBsYWJlbFNlbGVjdG9yICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiApO1xuXG5cdFx0XHRjaGVja2VkID0gdGhpcy5lbGVtZW50LmlzKCBcIjpjaGVja2VkXCIgKTtcblx0XHRcdGlmICggY2hlY2tlZCApIHtcblx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50LmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQucHJvcCggXCJhcmlhLXByZXNzZWRcIiwgY2hlY2tlZCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cdFx0fVxuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnV0dG9uRWxlbWVudDtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlXCIgKTtcblx0XHR0aGlzLmJ1dHRvbkVsZW1lbnRcblx0XHRcdC5yZW1vdmVDbGFzcyggYmFzZUNsYXNzZXMgKyBcIiB1aS1zdGF0ZS1hY3RpdmUgXCIgKyB0eXBlQ2xhc3NlcyApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1wcmVzc2VkXCIgKVxuXHRcdFx0Lmh0bWwoIHRoaXMuYnV0dG9uRWxlbWVudC5maW5kKFwiLnVpLWJ1dHRvbi10ZXh0XCIpLmh0bWwoKSApO1xuXG5cdFx0aWYgKCAhdGhpcy5oYXNUaXRsZSApIHtcblx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyKCBcInRpdGxlXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdFx0XHR0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiLCAhIXZhbHVlICk7XG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiIHx8IHRoaXMudHlwZSA9PT0gXCJyYWRpb1wiICkge1xuXHRcdFx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1mb2N1c1wiICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzIHVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fcmVzZXRCdXR0b24oKTtcblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHQvL1NlZSAjODIzNyAmICM4ODI4XG5cdFx0dmFyIGlzRGlzYWJsZWQgPSB0aGlzLmVsZW1lbnQuaXMoIFwiaW5wdXQsIGJ1dHRvblwiICkgPyB0aGlzLmVsZW1lbnQuaXMoIFwiOmRpc2FibGVkXCIgKSA6IHRoaXMuZWxlbWVudC5oYXNDbGFzcyggXCJ1aS1idXR0b24tZGlzYWJsZWRcIiApO1xuXG5cdFx0aWYgKCBpc0Rpc2FibGVkICE9PSB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLl9zZXRPcHRpb24oIFwiZGlzYWJsZWRcIiwgaXNEaXNhYmxlZCApO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJyYWRpb1wiICkge1xuXHRcdFx0cmFkaW9Hcm91cCggdGhpcy5lbGVtZW50WzBdICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaXMoIFwiOmNoZWNrZWRcIiApICkge1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5idXR0b24oIFwid2lkZ2V0XCIgKVxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiIClcblx0XHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtcHJlc3NlZFwiLCBcInRydWVcIiApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5idXR0b24oIFwid2lkZ2V0XCIgKVxuXHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiIClcblx0XHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtcHJlc3NlZFwiLCBcImZhbHNlXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgKSB7XG5cdFx0XHRpZiAoIHRoaXMuZWxlbWVudC5pcyggXCI6Y2hlY2tlZFwiICkgKSB7XG5cdFx0XHRcdHRoaXMuYnV0dG9uRWxlbWVudFxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1wcmVzc2VkXCIsIFwidHJ1ZVwiICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbkVsZW1lbnRcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtcHJlc3NlZFwiLCBcImZhbHNlXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3Jlc2V0QnV0dG9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMubGFiZWwgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC52YWwoIHRoaXMub3B0aW9ucy5sYWJlbCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR2YXIgYnV0dG9uRWxlbWVudCA9IHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcyggdHlwZUNsYXNzZXMgKSxcblx0XHRcdGJ1dHRvblRleHQgPSAkKCBcIjxzcGFuPjwvc3Bhbj5cIiwgdGhpcy5kb2N1bWVudFswXSApXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1idXR0b24tdGV4dFwiIClcblx0XHRcdFx0Lmh0bWwoIHRoaXMub3B0aW9ucy5sYWJlbCApXG5cdFx0XHRcdC5hcHBlbmRUbyggYnV0dG9uRWxlbWVudC5lbXB0eSgpIClcblx0XHRcdFx0LnRleHQoKSxcblx0XHRcdGljb25zID0gdGhpcy5vcHRpb25zLmljb25zLFxuXHRcdFx0bXVsdGlwbGVJY29ucyA9IGljb25zLnByaW1hcnkgJiYgaWNvbnMuc2Vjb25kYXJ5LFxuXHRcdFx0YnV0dG9uQ2xhc3NlcyA9IFtdO1xuXG5cdFx0aWYgKCBpY29ucy5wcmltYXJ5IHx8IGljb25zLnNlY29uZGFyeSApIHtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnRleHQgKSB7XG5cdFx0XHRcdGJ1dHRvbkNsYXNzZXMucHVzaCggXCJ1aS1idXR0b24tdGV4dC1pY29uXCIgKyAoIG11bHRpcGxlSWNvbnMgPyBcInNcIiA6ICggaWNvbnMucHJpbWFyeSA/IFwiLXByaW1hcnlcIiA6IFwiLXNlY29uZGFyeVwiICkgKSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGljb25zLnByaW1hcnkgKSB7XG5cdFx0XHRcdGJ1dHRvbkVsZW1lbnQucHJlcGVuZCggXCI8c3BhbiBjbGFzcz0ndWktYnV0dG9uLWljb24tcHJpbWFyeSB1aS1pY29uIFwiICsgaWNvbnMucHJpbWFyeSArIFwiJz48L3NwYW4+XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpY29ucy5zZWNvbmRhcnkgKSB7XG5cdFx0XHRcdGJ1dHRvbkVsZW1lbnQuYXBwZW5kKCBcIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1zZWNvbmRhcnkgdWktaWNvbiBcIiArIGljb25zLnNlY29uZGFyeSArIFwiJz48L3NwYW4+XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLnRleHQgKSB7XG5cdFx0XHRcdGJ1dHRvbkNsYXNzZXMucHVzaCggbXVsdGlwbGVJY29ucyA/IFwidWktYnV0dG9uLWljb25zLW9ubHlcIiA6IFwidWktYnV0dG9uLWljb24tb25seVwiICk7XG5cblx0XHRcdFx0aWYgKCAhdGhpcy5oYXNUaXRsZSApIHtcblx0XHRcdFx0XHRidXR0b25FbGVtZW50LmF0dHIoIFwidGl0bGVcIiwgJC50cmltKCBidXR0b25UZXh0ICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRidXR0b25DbGFzc2VzLnB1c2goIFwidWktYnV0dG9uLXRleHQtb25seVwiICk7XG5cdFx0fVxuXHRcdGJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoIGJ1dHRvbkNsYXNzZXMuam9pbiggXCIgXCIgKSApO1xuXHR9XG59KTtcblxuJC53aWRnZXQoIFwidWkuYnV0dG9uc2V0XCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdGl0ZW1zOiBcImJ1dHRvbiwgaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBpbnB1dFt0eXBlPWNoZWNrYm94XSwgaW5wdXRbdHlwZT1yYWRpb10sIGEsIDpkYXRhKHVpLWJ1dHRvbilcIlxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1idXR0b25zZXRcIiApO1xuXHR9LFxuXG5cdF9pbml0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5idXR0b25zLmJ1dHRvbiggXCJvcHRpb25cIiwga2V5LCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHJ0bCA9IHRoaXMuZWxlbWVudC5jc3MoIFwiZGlyZWN0aW9uXCIgKSA9PT0gXCJydGxcIixcblx0XHRcdGFsbEJ1dHRvbnMgPSB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5vcHRpb25zLml0ZW1zICksXG5cdFx0XHRleGlzdGluZ0J1dHRvbnMgPSBhbGxCdXR0b25zLmZpbHRlciggXCI6dWktYnV0dG9uXCIgKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbmV3IGJ1dHRvbnNcblx0XHRhbGxCdXR0b25zLm5vdCggXCI6dWktYnV0dG9uXCIgKS5idXR0b24oKTtcblxuXHRcdC8vIFJlZnJlc2ggZXhpc3RpbmcgYnV0dG9uc1xuXHRcdGV4aXN0aW5nQnV0dG9ucy5idXR0b24oIFwicmVmcmVzaFwiICk7XG5cblx0XHR0aGlzLmJ1dHRvbnMgPSBhbGxCdXR0b25zXG5cdFx0XHQubWFwKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmJ1dHRvbiggXCJ3aWRnZXRcIiApWyAwIF07XG5cdFx0XHR9KVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktY29ybmVyLWFsbCB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHRcIiApXG5cdFx0XHRcdC5maWx0ZXIoIFwiOmZpcnN0XCIgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggcnRsID8gXCJ1aS1jb3JuZXItcmlnaHRcIiA6IFwidWktY29ybmVyLWxlZnRcIiApXG5cdFx0XHRcdC5lbmQoKVxuXHRcdFx0XHQuZmlsdGVyKCBcIjpsYXN0XCIgKVxuXHRcdFx0XHRcdC5hZGRDbGFzcyggcnRsID8gXCJ1aS1jb3JuZXItbGVmdFwiIDogXCJ1aS1jb3JuZXItcmlnaHRcIiApXG5cdFx0XHRcdC5lbmQoKVxuXHRcdFx0LmVuZCgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktYnV0dG9uc2V0XCIgKTtcblx0XHR0aGlzLmJ1dHRvbnNcblx0XHRcdC5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKCB0aGlzICkuYnV0dG9uKCBcIndpZGdldFwiIClbIDAgXTtcblx0XHRcdH0pXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHRcIiApXG5cdFx0XHQuZW5kKClcblx0XHRcdC5idXR0b24oIFwiZGVzdHJveVwiICk7XG5cdH1cbn0pO1xuXG52YXIgYnV0dG9uID0gJC51aS5idXR0b247XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRGF0ZXBpY2tlciAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RhdGVwaWNrZXIvXG4gKi9cblxuXG4kLmV4dGVuZCgkLnVpLCB7IGRhdGVwaWNrZXI6IHsgdmVyc2lvbjogXCIxLjExLjRcIiB9IH0pO1xuXG52YXIgZGF0ZXBpY2tlcl9pbnN0QWN0aXZlO1xuXG5mdW5jdGlvbiBkYXRlcGlja2VyX2dldFppbmRleCggZWxlbSApIHtcblx0dmFyIHBvc2l0aW9uLCB2YWx1ZTtcblx0d2hpbGUgKCBlbGVtLmxlbmd0aCAmJiBlbGVtWyAwIF0gIT09IGRvY3VtZW50ICkge1xuXHRcdC8vIElnbm9yZSB6LWluZGV4IGlmIHBvc2l0aW9uIGlzIHNldCB0byBhIHZhbHVlIHdoZXJlIHotaW5kZXggaXMgaWdub3JlZCBieSB0aGUgYnJvd3NlclxuXHRcdC8vIFRoaXMgbWFrZXMgYmVoYXZpb3Igb2YgdGhpcyBmdW5jdGlvbiBjb25zaXN0ZW50IGFjcm9zcyBicm93c2Vyc1xuXHRcdC8vIFdlYktpdCBhbHdheXMgcmV0dXJucyBhdXRvIGlmIHRoZSBlbGVtZW50IGlzIHBvc2l0aW9uZWRcblx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcblx0XHRpZiAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkge1xuXHRcdFx0Ly8gSUUgcmV0dXJucyAwIHdoZW4gekluZGV4IGlzIG5vdCBzcGVjaWZpZWRcblx0XHRcdC8vIG90aGVyIGJyb3dzZXJzIHJldHVybiBhIHN0cmluZ1xuXHRcdFx0Ly8gd2UgaWdub3JlIHRoZSBjYXNlIG9mIG5lc3RlZCBlbGVtZW50cyB3aXRoIGFuIGV4cGxpY2l0IHZhbHVlIG9mIDBcblx0XHRcdC8vIDxkaXYgc3R5bGU9XCJ6LWluZGV4OiAtMTA7XCI+PGRpdiBzdHlsZT1cInotaW5kZXg6IDA7XCI+PC9kaXY+PC9kaXY+XG5cdFx0XHR2YWx1ZSA9IHBhcnNlSW50KCBlbGVtLmNzcyggXCJ6SW5kZXhcIiApLCAxMCApO1xuXHRcdFx0aWYgKCAhaXNOYU4oIHZhbHVlICkgJiYgdmFsdWUgIT09IDAgKSB7XG5cdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxlbSA9IGVsZW0ucGFyZW50KCk7XG5cdH1cblxuXHRyZXR1cm4gMDtcbn1cbi8qIERhdGUgcGlja2VyIG1hbmFnZXIuXG4gICBVc2UgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLCAkLmRhdGVwaWNrZXIsIHRvIGludGVyYWN0IHdpdGggdGhlIGRhdGUgcGlja2VyLlxuICAgU2V0dGluZ3MgZm9yIChncm91cHMgb2YpIGRhdGUgcGlja2VycyBhcmUgbWFpbnRhaW5lZCBpbiBhbiBpbnN0YW5jZSBvYmplY3QsXG4gICBhbGxvd2luZyBtdWx0aXBsZSBkaWZmZXJlbnQgc2V0dGluZ3Mgb24gdGhlIHNhbWUgcGFnZS4gKi9cblxuZnVuY3Rpb24gRGF0ZXBpY2tlcigpIHtcblx0dGhpcy5fY3VySW5zdCA9IG51bGw7IC8vIFRoZSBjdXJyZW50IGluc3RhbmNlIGluIHVzZVxuXHR0aGlzLl9rZXlFdmVudCA9IGZhbHNlOyAvLyBJZiB0aGUgbGFzdCBldmVudCB3YXMgYSBrZXkgZXZlbnRcblx0dGhpcy5fZGlzYWJsZWRJbnB1dHMgPSBbXTsgLy8gTGlzdCBvZiBkYXRlIHBpY2tlciBpbnB1dHMgdGhhdCBoYXZlIGJlZW4gZGlzYWJsZWRcblx0dGhpcy5fZGF0ZXBpY2tlclNob3dpbmcgPSBmYWxzZTsgLy8gVHJ1ZSBpZiB0aGUgcG9wdXAgcGlja2VyIGlzIHNob3dpbmcgLCBmYWxzZSBpZiBub3Rcblx0dGhpcy5faW5EaWFsb2cgPSBmYWxzZTsgLy8gVHJ1ZSBpZiBzaG93aW5nIHdpdGhpbiBhIFwiZGlhbG9nXCIsIGZhbHNlIGlmIG5vdFxuXHR0aGlzLl9tYWluRGl2SWQgPSBcInVpLWRhdGVwaWNrZXItZGl2XCI7IC8vIFRoZSBJRCBvZiB0aGUgbWFpbiBkYXRlcGlja2VyIGRpdmlzaW9uXG5cdHRoaXMuX2lubGluZUNsYXNzID0gXCJ1aS1kYXRlcGlja2VyLWlubGluZVwiOyAvLyBUaGUgbmFtZSBvZiB0aGUgaW5saW5lIG1hcmtlciBjbGFzc1xuXHR0aGlzLl9hcHBlbmRDbGFzcyA9IFwidWktZGF0ZXBpY2tlci1hcHBlbmRcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIGFwcGVuZCBtYXJrZXIgY2xhc3Ncblx0dGhpcy5fdHJpZ2dlckNsYXNzID0gXCJ1aS1kYXRlcGlja2VyLXRyaWdnZXJcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIHRyaWdnZXIgbWFya2VyIGNsYXNzXG5cdHRoaXMuX2RpYWxvZ0NsYXNzID0gXCJ1aS1kYXRlcGlja2VyLWRpYWxvZ1wiOyAvLyBUaGUgbmFtZSBvZiB0aGUgZGlhbG9nIG1hcmtlciBjbGFzc1xuXHR0aGlzLl9kaXNhYmxlQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItZGlzYWJsZWRcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIGRpc2FibGVkIGNvdmVyaW5nIG1hcmtlciBjbGFzc1xuXHR0aGlzLl91bnNlbGVjdGFibGVDbGFzcyA9IFwidWktZGF0ZXBpY2tlci11bnNlbGVjdGFibGVcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIHVuc2VsZWN0YWJsZSBjZWxsIG1hcmtlciBjbGFzc1xuXHR0aGlzLl9jdXJyZW50Q2xhc3MgPSBcInVpLWRhdGVwaWNrZXItY3VycmVudC1kYXlcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIGN1cnJlbnQgZGF5IG1hcmtlciBjbGFzc1xuXHR0aGlzLl9kYXlPdmVyQ2xhc3MgPSBcInVpLWRhdGVwaWNrZXItZGF5cy1jZWxsLW92ZXJcIjsgLy8gVGhlIG5hbWUgb2YgdGhlIGRheSBob3ZlciBtYXJrZXIgY2xhc3Ncblx0dGhpcy5yZWdpb25hbCA9IFtdOyAvLyBBdmFpbGFibGUgcmVnaW9uYWwgc2V0dGluZ3MsIGluZGV4ZWQgYnkgbGFuZ3VhZ2UgY29kZVxuXHR0aGlzLnJlZ2lvbmFsW1wiXCJdID0geyAvLyBEZWZhdWx0IHJlZ2lvbmFsIHNldHRpbmdzXG5cdFx0Y2xvc2VUZXh0OiBcIkRvbmVcIiwgLy8gRGlzcGxheSB0ZXh0IGZvciBjbG9zZSBsaW5rXG5cdFx0cHJldlRleHQ6IFwiUHJldlwiLCAvLyBEaXNwbGF5IHRleHQgZm9yIHByZXZpb3VzIG1vbnRoIGxpbmtcblx0XHRuZXh0VGV4dDogXCJOZXh0XCIsIC8vIERpc3BsYXkgdGV4dCBmb3IgbmV4dCBtb250aCBsaW5rXG5cdFx0Y3VycmVudFRleHQ6IFwiVG9kYXlcIiwgLy8gRGlzcGxheSB0ZXh0IGZvciBjdXJyZW50IG1vbnRoIGxpbmtcblx0XHRtb250aE5hbWVzOiBbXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcblx0XHRcdFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSwgLy8gTmFtZXMgb2YgbW9udGhzIGZvciBkcm9wLWRvd24gYW5kIGZvcm1hdHRpbmdcblx0XHRtb250aE5hbWVzU2hvcnQ6IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXSwgLy8gRm9yIGZvcm1hdHRpbmdcblx0XHRkYXlOYW1lczogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl0sIC8vIEZvciBmb3JtYXR0aW5nXG5cdFx0ZGF5TmFtZXNTaG9ydDogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLCAvLyBGb3IgZm9ybWF0dGluZ1xuXHRcdGRheU5hbWVzTWluOiBbXCJTdVwiLFwiTW9cIixcIlR1XCIsXCJXZVwiLFwiVGhcIixcIkZyXCIsXCJTYVwiXSwgLy8gQ29sdW1uIGhlYWRpbmdzIGZvciBkYXlzIHN0YXJ0aW5nIGF0IFN1bmRheVxuXHRcdHdlZWtIZWFkZXI6IFwiV2tcIiwgLy8gQ29sdW1uIGhlYWRlciBmb3Igd2VlayBvZiB0aGUgeWVhclxuXHRcdGRhdGVGb3JtYXQ6IFwibW0vZGQveXlcIiwgLy8gU2VlIGZvcm1hdCBvcHRpb25zIG9uIHBhcnNlRGF0ZVxuXHRcdGZpcnN0RGF5OiAwLCAvLyBUaGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLCBTdW4gPSAwLCBNb24gPSAxLCAuLi5cblx0XHRpc1JUTDogZmFsc2UsIC8vIFRydWUgaWYgcmlnaHQtdG8tbGVmdCBsYW5ndWFnZSwgZmFsc2UgaWYgbGVmdC10by1yaWdodFxuXHRcdHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsIC8vIFRydWUgaWYgdGhlIHllYXIgc2VsZWN0IHByZWNlZGVzIG1vbnRoLCBmYWxzZSBmb3IgbW9udGggdGhlbiB5ZWFyXG5cdFx0eWVhclN1ZmZpeDogXCJcIiAvLyBBZGRpdGlvbmFsIHRleHQgdG8gYXBwZW5kIHRvIHRoZSB5ZWFyIGluIHRoZSBtb250aCBoZWFkZXJzXG5cdH07XG5cdHRoaXMuX2RlZmF1bHRzID0geyAvLyBHbG9iYWwgZGVmYXVsdHMgZm9yIGFsbCB0aGUgZGF0ZSBwaWNrZXIgaW5zdGFuY2VzXG5cdFx0c2hvd09uOiBcImZvY3VzXCIsIC8vIFwiZm9jdXNcIiBmb3IgcG9wdXAgb24gZm9jdXMsXG5cdFx0XHQvLyBcImJ1dHRvblwiIGZvciB0cmlnZ2VyIGJ1dHRvbiwgb3IgXCJib3RoXCIgZm9yIGVpdGhlclxuXHRcdHNob3dBbmltOiBcImZhZGVJblwiLCAvLyBOYW1lIG9mIGpRdWVyeSBhbmltYXRpb24gZm9yIHBvcHVwXG5cdFx0c2hvd09wdGlvbnM6IHt9LCAvLyBPcHRpb25zIGZvciBlbmhhbmNlZCBhbmltYXRpb25zXG5cdFx0ZGVmYXVsdERhdGU6IG51bGwsIC8vIFVzZWQgd2hlbiBmaWVsZCBpcyBibGFuazogYWN0dWFsIGRhdGUsXG5cdFx0XHQvLyArLy1udW1iZXIgZm9yIG9mZnNldCBmcm9tIHRvZGF5LCBudWxsIGZvciB0b2RheVxuXHRcdGFwcGVuZFRleHQ6IFwiXCIsIC8vIERpc3BsYXkgdGV4dCBmb2xsb3dpbmcgdGhlIGlucHV0IGJveCwgZS5nLiBzaG93aW5nIHRoZSBmb3JtYXRcblx0XHRidXR0b25UZXh0OiBcIi4uLlwiLCAvLyBUZXh0IGZvciB0cmlnZ2VyIGJ1dHRvblxuXHRcdGJ1dHRvbkltYWdlOiBcIlwiLCAvLyBVUkwgZm9yIHRyaWdnZXIgYnV0dG9uIGltYWdlXG5cdFx0YnV0dG9uSW1hZ2VPbmx5OiBmYWxzZSwgLy8gVHJ1ZSBpZiB0aGUgaW1hZ2UgYXBwZWFycyBhbG9uZSwgZmFsc2UgaWYgaXQgYXBwZWFycyBvbiBhIGJ1dHRvblxuXHRcdGhpZGVJZk5vUHJldk5leHQ6IGZhbHNlLCAvLyBUcnVlIHRvIGhpZGUgbmV4dC9wcmV2aW91cyBtb250aCBsaW5rc1xuXHRcdFx0Ly8gaWYgbm90IGFwcGxpY2FibGUsIGZhbHNlIHRvIGp1c3QgZGlzYWJsZSB0aGVtXG5cdFx0bmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDogZmFsc2UsIC8vIFRydWUgaWYgZGF0ZSBmb3JtYXR0aW5nIGFwcGxpZWQgdG8gcHJldi90b2RheS9uZXh0IGxpbmtzXG5cdFx0Z290b0N1cnJlbnQ6IGZhbHNlLCAvLyBUcnVlIGlmIHRvZGF5IGxpbmsgZ29lcyBiYWNrIHRvIGN1cnJlbnQgc2VsZWN0aW9uIGluc3RlYWRcblx0XHRjaGFuZ2VNb250aDogZmFsc2UsIC8vIFRydWUgaWYgbW9udGggY2FuIGJlIHNlbGVjdGVkIGRpcmVjdGx5LCBmYWxzZSBpZiBvbmx5IHByZXYvbmV4dFxuXHRcdGNoYW5nZVllYXI6IGZhbHNlLCAvLyBUcnVlIGlmIHllYXIgY2FuIGJlIHNlbGVjdGVkIGRpcmVjdGx5LCBmYWxzZSBpZiBvbmx5IHByZXYvbmV4dFxuXHRcdHllYXJSYW5nZTogXCJjLTEwOmMrMTBcIiwgLy8gUmFuZ2Ugb2YgeWVhcnMgdG8gZGlzcGxheSBpbiBkcm9wLWRvd24sXG5cdFx0XHQvLyBlaXRoZXIgcmVsYXRpdmUgdG8gdG9kYXkncyB5ZWFyICgtbm46K25uKSwgcmVsYXRpdmUgdG8gY3VycmVudGx5IGRpc3BsYXllZCB5ZWFyXG5cdFx0XHQvLyAoYy1ubjpjK25uKSwgYWJzb2x1dGUgKG5ubm46bm5ubiksIG9yIGEgY29tYmluYXRpb24gb2YgdGhlIGFib3ZlIChubm5uOi1uKVxuXHRcdHNob3dPdGhlck1vbnRoczogZmFsc2UsIC8vIFRydWUgdG8gc2hvdyBkYXRlcyBpbiBvdGhlciBtb250aHMsIGZhbHNlIHRvIGxlYXZlIGJsYW5rXG5cdFx0c2VsZWN0T3RoZXJNb250aHM6IGZhbHNlLCAvLyBUcnVlIHRvIGFsbG93IHNlbGVjdGlvbiBvZiBkYXRlcyBpbiBvdGhlciBtb250aHMsIGZhbHNlIGZvciB1bnNlbGVjdGFibGVcblx0XHRzaG93V2VlazogZmFsc2UsIC8vIFRydWUgdG8gc2hvdyB3ZWVrIG9mIHRoZSB5ZWFyLCBmYWxzZSB0byBub3Qgc2hvdyBpdFxuXHRcdGNhbGN1bGF0ZVdlZWs6IHRoaXMuaXNvODYwMVdlZWssIC8vIEhvdyB0byBjYWxjdWxhdGUgdGhlIHdlZWsgb2YgdGhlIHllYXIsXG5cdFx0XHQvLyB0YWtlcyBhIERhdGUgYW5kIHJldHVybnMgdGhlIG51bWJlciBvZiB0aGUgd2VlayBmb3IgaXRcblx0XHRzaG9ydFllYXJDdXRvZmY6IFwiKzEwXCIsIC8vIFNob3J0IHllYXIgdmFsdWVzIDwgdGhpcyBhcmUgaW4gdGhlIGN1cnJlbnQgY2VudHVyeSxcblx0XHRcdC8vID4gdGhpcyBhcmUgaW4gdGhlIHByZXZpb3VzIGNlbnR1cnksXG5cdFx0XHQvLyBzdHJpbmcgdmFsdWUgc3RhcnRpbmcgd2l0aCBcIitcIiBmb3IgY3VycmVudCB5ZWFyICsgdmFsdWVcblx0XHRtaW5EYXRlOiBudWxsLCAvLyBUaGUgZWFybGllc3Qgc2VsZWN0YWJsZSBkYXRlLCBvciBudWxsIGZvciBubyBsaW1pdFxuXHRcdG1heERhdGU6IG51bGwsIC8vIFRoZSBsYXRlc3Qgc2VsZWN0YWJsZSBkYXRlLCBvciBudWxsIGZvciBubyBsaW1pdFxuXHRcdGR1cmF0aW9uOiBcImZhc3RcIiwgLy8gRHVyYXRpb24gb2YgZGlzcGxheS9jbG9zdXJlXG5cdFx0YmVmb3JlU2hvd0RheTogbnVsbCwgLy8gRnVuY3Rpb24gdGhhdCB0YWtlcyBhIGRhdGUgYW5kIHJldHVybnMgYW4gYXJyYXkgd2l0aFxuXHRcdFx0Ly8gWzBdID0gdHJ1ZSBpZiBzZWxlY3RhYmxlLCBmYWxzZSBpZiBub3QsIFsxXSA9IGN1c3RvbSBDU1MgY2xhc3MgbmFtZShzKSBvciBcIlwiLFxuXHRcdFx0Ly8gWzJdID0gY2VsbCB0aXRsZSAob3B0aW9uYWwpLCBlLmcuICQuZGF0ZXBpY2tlci5ub1dlZWtlbmRzXG5cdFx0YmVmb3JlU2hvdzogbnVsbCwgLy8gRnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBpbnB1dCBmaWVsZCBhbmRcblx0XHRcdC8vIHJldHVybnMgYSBzZXQgb2YgY3VzdG9tIHNldHRpbmdzIGZvciB0aGUgZGF0ZSBwaWNrZXJcblx0XHRvblNlbGVjdDogbnVsbCwgLy8gRGVmaW5lIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBhIGRhdGUgaXMgc2VsZWN0ZWRcblx0XHRvbkNoYW5nZU1vbnRoWWVhcjogbnVsbCwgLy8gRGVmaW5lIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiB0aGUgbW9udGggb3IgeWVhciBpcyBjaGFuZ2VkXG5cdFx0b25DbG9zZTogbnVsbCwgLy8gRGVmaW5lIGEgY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiB0aGUgZGF0ZXBpY2tlciBpcyBjbG9zZWRcblx0XHRudW1iZXJPZk1vbnRoczogMSwgLy8gTnVtYmVyIG9mIG1vbnRocyB0byBzaG93IGF0IGEgdGltZVxuXHRcdHNob3dDdXJyZW50QXRQb3M6IDAsIC8vIFRoZSBwb3NpdGlvbiBpbiBtdWx0aXBlIG1vbnRocyBhdCB3aGljaCB0byBzaG93IHRoZSBjdXJyZW50IG1vbnRoIChzdGFydGluZyBhdCAwKVxuXHRcdHN0ZXBNb250aHM6IDEsIC8vIE51bWJlciBvZiBtb250aHMgdG8gc3RlcCBiYWNrL2ZvcndhcmRcblx0XHRzdGVwQmlnTW9udGhzOiAxMiwgLy8gTnVtYmVyIG9mIG1vbnRocyB0byBzdGVwIGJhY2svZm9yd2FyZCBmb3IgdGhlIGJpZyBsaW5rc1xuXHRcdGFsdEZpZWxkOiBcIlwiLCAvLyBTZWxlY3RvciBmb3IgYW4gYWx0ZXJuYXRlIGZpZWxkIHRvIHN0b3JlIHNlbGVjdGVkIGRhdGVzIGludG9cblx0XHRhbHRGb3JtYXQ6IFwiXCIsIC8vIFRoZSBkYXRlIGZvcm1hdCB0byB1c2UgZm9yIHRoZSBhbHRlcm5hdGUgZmllbGRcblx0XHRjb25zdHJhaW5JbnB1dDogdHJ1ZSwgLy8gVGhlIGlucHV0IGlzIGNvbnN0cmFpbmVkIGJ5IHRoZSBjdXJyZW50IGRhdGUgZm9ybWF0XG5cdFx0c2hvd0J1dHRvblBhbmVsOiBmYWxzZSwgLy8gVHJ1ZSB0byBzaG93IGJ1dHRvbiBwYW5lbCwgZmFsc2UgdG8gbm90IHNob3cgaXRcblx0XHRhdXRvU2l6ZTogZmFsc2UsIC8vIFRydWUgdG8gc2l6ZSB0aGUgaW5wdXQgZm9yIHRoZSBkYXRlIGZvcm1hdCwgZmFsc2UgdG8gbGVhdmUgYXMgaXNcblx0XHRkaXNhYmxlZDogZmFsc2UgLy8gVGhlIGluaXRpYWwgZGlzYWJsZWQgc3RhdGVcblx0fTtcblx0JC5leHRlbmQodGhpcy5fZGVmYXVsdHMsIHRoaXMucmVnaW9uYWxbXCJcIl0pO1xuXHR0aGlzLnJlZ2lvbmFsLmVuID0gJC5leHRlbmQoIHRydWUsIHt9LCB0aGlzLnJlZ2lvbmFsWyBcIlwiIF0pO1xuXHR0aGlzLnJlZ2lvbmFsWyBcImVuLVVTXCIgXSA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgdGhpcy5yZWdpb25hbC5lbiApO1xuXHR0aGlzLmRwRGl2ID0gZGF0ZXBpY2tlcl9iaW5kSG92ZXIoJChcIjxkaXYgaWQ9J1wiICsgdGhpcy5fbWFpbkRpdklkICsgXCInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PC9kaXY+XCIpKTtcbn1cblxuJC5leHRlbmQoRGF0ZXBpY2tlci5wcm90b3R5cGUsIHtcblx0LyogQ2xhc3MgbmFtZSBhZGRlZCB0byBlbGVtZW50cyB0byBpbmRpY2F0ZSBhbHJlYWR5IGNvbmZpZ3VyZWQgd2l0aCBhIGRhdGUgcGlja2VyLiAqL1xuXHRtYXJrZXJDbGFzc05hbWU6IFwiaGFzRGF0ZXBpY2tlclwiLFxuXG5cdC8vS2VlcCB0cmFjayBvZiB0aGUgbWF4aW11bSBudW1iZXIgb2Ygcm93cyBkaXNwbGF5ZWQgKHNlZSAjNzA0Mylcblx0bWF4Um93czogNCxcblxuXHQvLyBUT0RPIHJlbmFtZSB0byBcIndpZGdldFwiIHdoZW4gc3dpdGNoaW5nIHRvIHdpZGdldCBmYWN0b3J5XG5cdF93aWRnZXREYXRlcGlja2VyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5kcERpdjtcblx0fSxcblxuXHQvKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyBmb3IgYWxsIGluc3RhbmNlcyBvZiB0aGUgZGF0ZSBwaWNrZXIuXG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgIG9iamVjdCAtIHRoZSBuZXcgc2V0dGluZ3MgdG8gdXNlIGFzIGRlZmF1bHRzIChhbm9ueW1vdXMgb2JqZWN0KVxuXHQgKiBAcmV0dXJuIHRoZSBtYW5hZ2VyIG9iamVjdFxuXHQgKi9cblx0c2V0RGVmYXVsdHM6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG5cdFx0ZGF0ZXBpY2tlcl9leHRlbmRSZW1vdmUodGhpcy5fZGVmYXVsdHMsIHNldHRpbmdzIHx8IHt9KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvKiBBdHRhY2ggdGhlIGRhdGUgcGlja2VyIHRvIGEgalF1ZXJ5IHNlbGVjdGlvbi5cblx0ICogQHBhcmFtICB0YXJnZXRcdGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICogQHBhcmFtICBzZXR0aW5ncyAgb2JqZWN0IC0gdGhlIG5ldyBzZXR0aW5ncyB0byB1c2UgZm9yIHRoaXMgZGF0ZSBwaWNrZXIgaW5zdGFuY2UgKGFub255bW91cylcblx0ICovXG5cdF9hdHRhY2hEYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQsIHNldHRpbmdzKSB7XG5cdFx0dmFyIG5vZGVOYW1lLCBpbmxpbmUsIGluc3Q7XG5cdFx0bm9kZU5hbWUgPSB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRpbmxpbmUgPSAobm9kZU5hbWUgPT09IFwiZGl2XCIgfHwgbm9kZU5hbWUgPT09IFwic3BhblwiKTtcblx0XHRpZiAoIXRhcmdldC5pZCkge1xuXHRcdFx0dGhpcy51dWlkICs9IDE7XG5cdFx0XHR0YXJnZXQuaWQgPSBcImRwXCIgKyB0aGlzLnV1aWQ7XG5cdFx0fVxuXHRcdGluc3QgPSB0aGlzLl9uZXdJbnN0KCQodGFyZ2V0KSwgaW5saW5lKTtcblx0XHRpbnN0LnNldHRpbmdzID0gJC5leHRlbmQoe30sIHNldHRpbmdzIHx8IHt9KTtcblx0XHRpZiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIikge1xuXHRcdFx0dGhpcy5fY29ubmVjdERhdGVwaWNrZXIodGFyZ2V0LCBpbnN0KTtcblx0XHR9IGVsc2UgaWYgKGlubGluZSkge1xuXHRcdFx0dGhpcy5faW5saW5lRGF0ZXBpY2tlcih0YXJnZXQsIGluc3QpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2JqZWN0LiAqL1xuXHRfbmV3SW5zdDogZnVuY3Rpb24odGFyZ2V0LCBpbmxpbmUpIHtcblx0XHR2YXIgaWQgPSB0YXJnZXRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1xcLV0pL2csIFwiXFxcXFxcXFwkMVwiKTsgLy8gZXNjYXBlIGpRdWVyeSBtZXRhIGNoYXJzXG5cdFx0cmV0dXJuIHtpZDogaWQsIGlucHV0OiB0YXJnZXQsIC8vIGFzc29jaWF0ZWQgdGFyZ2V0XG5cdFx0XHRzZWxlY3RlZERheTogMCwgc2VsZWN0ZWRNb250aDogMCwgc2VsZWN0ZWRZZWFyOiAwLCAvLyBjdXJyZW50IHNlbGVjdGlvblxuXHRcdFx0ZHJhd01vbnRoOiAwLCBkcmF3WWVhcjogMCwgLy8gbW9udGggYmVpbmcgZHJhd25cblx0XHRcdGlubGluZTogaW5saW5lLCAvLyBpcyBkYXRlcGlja2VyIGlubGluZSBvciBub3Rcblx0XHRcdGRwRGl2OiAoIWlubGluZSA/IHRoaXMuZHBEaXYgOiAvLyBwcmVzZW50YXRpb24gZGl2XG5cdFx0XHRkYXRlcGlja2VyX2JpbmRIb3ZlcigkKFwiPGRpdiBjbGFzcz0nXCIgKyB0aGlzLl9pbmxpbmVDbGFzcyArIFwiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48L2Rpdj5cIikpKX07XG5cdH0sXG5cblx0LyogQXR0YWNoIHRoZSBkYXRlIHBpY2tlciB0byBhbiBpbnB1dCBmaWVsZC4gKi9cblx0X2Nvbm5lY3REYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQsIGluc3QpIHtcblx0XHR2YXIgaW5wdXQgPSAkKHRhcmdldCk7XG5cdFx0aW5zdC5hcHBlbmQgPSAkKFtdKTtcblx0XHRpbnN0LnRyaWdnZXIgPSAkKFtdKTtcblx0XHRpZiAoaW5wdXQuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX2F0dGFjaG1lbnRzKGlucHV0LCBpbnN0KTtcblx0XHRpbnB1dC5hZGRDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkua2V5ZG93bih0aGlzLl9kb0tleURvd24pLlxuXHRcdFx0a2V5cHJlc3ModGhpcy5fZG9LZXlQcmVzcykua2V5dXAodGhpcy5fZG9LZXlVcCk7XG5cdFx0dGhpcy5fYXV0b1NpemUoaW5zdCk7XG5cdFx0JC5kYXRhKHRhcmdldCwgXCJkYXRlcGlja2VyXCIsIGluc3QpO1xuXHRcdC8vSWYgZGlzYWJsZWQgb3B0aW9uIGlzIHRydWUsIGRpc2FibGUgdGhlIGRhdGVwaWNrZXIgb25jZSBpdCBoYXMgYmVlbiBhdHRhY2hlZCB0byB0aGUgaW5wdXQgKHNlZSB0aWNrZXQgIzU2NjUpXG5cdFx0aWYoIGluc3Quc2V0dGluZ3MuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlciggdGFyZ2V0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIE1ha2UgYXR0YWNobWVudHMgYmFzZWQgb24gc2V0dGluZ3MuICovXG5cdF9hdHRhY2htZW50czogZnVuY3Rpb24oaW5wdXQsIGluc3QpIHtcblx0XHR2YXIgc2hvd09uLCBidXR0b25UZXh0LCBidXR0b25JbWFnZSxcblx0XHRcdGFwcGVuZFRleHQgPSB0aGlzLl9nZXQoaW5zdCwgXCJhcHBlbmRUZXh0XCIpLFxuXHRcdFx0aXNSVEwgPSB0aGlzLl9nZXQoaW5zdCwgXCJpc1JUTFwiKTtcblxuXHRcdGlmIChpbnN0LmFwcGVuZCkge1xuXHRcdFx0aW5zdC5hcHBlbmQucmVtb3ZlKCk7XG5cdFx0fVxuXHRcdGlmIChhcHBlbmRUZXh0KSB7XG5cdFx0XHRpbnN0LmFwcGVuZCA9ICQoXCI8c3BhbiBjbGFzcz0nXCIgKyB0aGlzLl9hcHBlbmRDbGFzcyArIFwiJz5cIiArIGFwcGVuZFRleHQgKyBcIjwvc3Bhbj5cIik7XG5cdFx0XHRpbnB1dFtpc1JUTCA/IFwiYmVmb3JlXCIgOiBcImFmdGVyXCJdKGluc3QuYXBwZW5kKTtcblx0XHR9XG5cblx0XHRpbnB1dC51bmJpbmQoXCJmb2N1c1wiLCB0aGlzLl9zaG93RGF0ZXBpY2tlcik7XG5cblx0XHRpZiAoaW5zdC50cmlnZ2VyKSB7XG5cdFx0XHRpbnN0LnRyaWdnZXIucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0c2hvd09uID0gdGhpcy5fZ2V0KGluc3QsIFwic2hvd09uXCIpO1xuXHRcdGlmIChzaG93T24gPT09IFwiZm9jdXNcIiB8fCBzaG93T24gPT09IFwiYm90aFwiKSB7IC8vIHBvcC11cCBkYXRlIHBpY2tlciB3aGVuIGluIHRoZSBtYXJrZWQgZmllbGRcblx0XHRcdGlucHV0LmZvY3VzKHRoaXMuX3Nob3dEYXRlcGlja2VyKTtcblx0XHR9XG5cdFx0aWYgKHNob3dPbiA9PT0gXCJidXR0b25cIiB8fCBzaG93T24gPT09IFwiYm90aFwiKSB7IC8vIHBvcC11cCBkYXRlIHBpY2tlciB3aGVuIGJ1dHRvbiBjbGlja2VkXG5cdFx0XHRidXR0b25UZXh0ID0gdGhpcy5fZ2V0KGluc3QsIFwiYnV0dG9uVGV4dFwiKTtcblx0XHRcdGJ1dHRvbkltYWdlID0gdGhpcy5fZ2V0KGluc3QsIFwiYnV0dG9uSW1hZ2VcIik7XG5cdFx0XHRpbnN0LnRyaWdnZXIgPSAkKHRoaXMuX2dldChpbnN0LCBcImJ1dHRvbkltYWdlT25seVwiKSA/XG5cdFx0XHRcdCQoXCI8aW1nLz5cIikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5cblx0XHRcdFx0XHRhdHRyKHsgc3JjOiBidXR0b25JbWFnZSwgYWx0OiBidXR0b25UZXh0LCB0aXRsZTogYnV0dG9uVGV4dCB9KSA6XG5cdFx0XHRcdCQoXCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PC9idXR0b24+XCIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuXG5cdFx0XHRcdFx0aHRtbCghYnV0dG9uSW1hZ2UgPyBidXR0b25UZXh0IDogJChcIjxpbWcvPlwiKS5hdHRyKFxuXHRcdFx0XHRcdHsgc3JjOmJ1dHRvbkltYWdlLCBhbHQ6YnV0dG9uVGV4dCwgdGl0bGU6YnV0dG9uVGV4dCB9KSkpO1xuXHRcdFx0aW5wdXRbaXNSVEwgPyBcImJlZm9yZVwiIDogXCJhZnRlclwiXShpbnN0LnRyaWdnZXIpO1xuXHRcdFx0aW5zdC50cmlnZ2VyLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoJC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCA9PT0gaW5wdXRbMF0pIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoJC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCAhPT0gaW5wdXRbMF0pIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcihpbnB1dFswXSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcihpbnB1dFswXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIEFwcGx5IHRoZSBtYXhpbXVtIGxlbmd0aCBmb3IgdGhlIGRhdGUgZm9ybWF0LiAqL1xuXHRfYXV0b1NpemU6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHRpZiAodGhpcy5fZ2V0KGluc3QsIFwiYXV0b1NpemVcIikgJiYgIWluc3QuaW5saW5lKSB7XG5cdFx0XHR2YXIgZmluZE1heCwgbWF4LCBtYXhJLCBpLFxuXHRcdFx0XHRkYXRlID0gbmV3IERhdGUoMjAwOSwgMTIgLSAxLCAyMCksIC8vIEVuc3VyZSBkb3VibGUgZGlnaXRzXG5cdFx0XHRcdGRhdGVGb3JtYXQgPSB0aGlzLl9nZXQoaW5zdCwgXCJkYXRlRm9ybWF0XCIpO1xuXG5cdFx0XHRpZiAoZGF0ZUZvcm1hdC5tYXRjaCgvW0RNXS8pKSB7XG5cdFx0XHRcdGZpbmRNYXggPSBmdW5jdGlvbihuYW1lcykge1xuXHRcdFx0XHRcdG1heCA9IDA7XG5cdFx0XHRcdFx0bWF4SSA9IDA7XG5cdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRpZiAobmFtZXNbaV0ubGVuZ3RoID4gbWF4KSB7XG5cdFx0XHRcdFx0XHRcdG1heCA9IG5hbWVzW2ldLmxlbmd0aDtcblx0XHRcdFx0XHRcdFx0bWF4SSA9IGk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXhJO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRkYXRlLnNldE1vbnRoKGZpbmRNYXgodGhpcy5fZ2V0KGluc3QsIChkYXRlRm9ybWF0Lm1hdGNoKC9NTS8pID9cblx0XHRcdFx0XHRcIm1vbnRoTmFtZXNcIiA6IFwibW9udGhOYW1lc1Nob3J0XCIpKSkpO1xuXHRcdFx0XHRkYXRlLnNldERhdGUoZmluZE1heCh0aGlzLl9nZXQoaW5zdCwgKGRhdGVGb3JtYXQubWF0Y2goL0RELykgP1xuXHRcdFx0XHRcdFwiZGF5TmFtZXNcIiA6IFwiZGF5TmFtZXNTaG9ydFwiKSkpICsgMjAgLSBkYXRlLmdldERheSgpKTtcblx0XHRcdH1cblx0XHRcdGluc3QuaW5wdXQuYXR0cihcInNpemVcIiwgdGhpcy5fZm9ybWF0RGF0ZShpbnN0LCBkYXRlKS5sZW5ndGgpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBBdHRhY2ggYW4gaW5saW5lIGRhdGUgcGlja2VyIHRvIGEgZGl2LiAqL1xuXHRfaW5saW5lRGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0LCBpbnN0KSB7XG5cdFx0dmFyIGRpdlNwYW4gPSAkKHRhcmdldCk7XG5cdFx0aWYgKGRpdlNwYW4uaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRpdlNwYW4uYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmFwcGVuZChpbnN0LmRwRGl2KTtcblx0XHQkLmRhdGEodGFyZ2V0LCBcImRhdGVwaWNrZXJcIiwgaW5zdCk7XG5cdFx0dGhpcy5fc2V0RGF0ZShpbnN0LCB0aGlzLl9nZXREZWZhdWx0RGF0ZShpbnN0KSwgdHJ1ZSk7XG5cdFx0dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpbnN0KTtcblx0XHR0aGlzLl91cGRhdGVBbHRlcm5hdGUoaW5zdCk7XG5cdFx0Ly9JZiBkaXNhYmxlZCBvcHRpb24gaXMgdHJ1ZSwgZGlzYWJsZSB0aGUgZGF0ZXBpY2tlciBiZWZvcmUgc2hvd2luZyBpdCAoc2VlIHRpY2tldCAjNTY2NSlcblx0XHRpZiggaW5zdC5zZXR0aW5ncy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKCB0YXJnZXQgKTtcblx0XHR9XG5cdFx0Ly8gU2V0IGRpc3BsYXk6YmxvY2sgaW4gcGxhY2Ugb2YgaW5zdC5kcERpdi5zaG93KCkgd2hpY2ggd29uJ3Qgd29yayBvbiBkaXNjb25uZWN0ZWQgZWxlbWVudHNcblx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnl1aS5jb20vdGlja2V0Lzc1NTIgLSBBIERhdGVwaWNrZXIgY3JlYXRlZCBvbiBhIGRldGFjaGVkIGRpdiBoYXMgemVybyBoZWlnaHRcblx0XHRpbnN0LmRwRGl2LmNzcyggXCJkaXNwbGF5XCIsIFwiYmxvY2tcIiApO1xuXHR9LFxuXG5cdC8qIFBvcC11cCB0aGUgZGF0ZSBwaWNrZXIgaW4gYSBcImRpYWxvZ1wiIGJveC5cblx0ICogQHBhcmFtICBpbnB1dCBlbGVtZW50IC0gaWdub3JlZFxuXHQgKiBAcGFyYW0gIGRhdGVcdHN0cmluZyBvciBEYXRlIC0gdGhlIGluaXRpYWwgZGF0ZSB0byBkaXNwbGF5XG5cdCAqIEBwYXJhbSAgb25TZWxlY3QgIGZ1bmN0aW9uIC0gdGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIGRhdGUgaXMgc2VsZWN0ZWRcblx0ICogQHBhcmFtICBzZXR0aW5ncyAgb2JqZWN0IC0gdXBkYXRlIHRoZSBkaWFsb2cgZGF0ZSBwaWNrZXIgaW5zdGFuY2UncyBzZXR0aW5ncyAoYW5vbnltb3VzIG9iamVjdClcblx0ICogQHBhcmFtICBwb3MgaW50WzJdIC0gY29vcmRpbmF0ZXMgZm9yIHRoZSBkaWFsb2cncyBwb3NpdGlvbiB3aXRoaW4gdGhlIHNjcmVlbiBvclxuXHQgKlx0XHRcdFx0XHRldmVudCAtIHdpdGggeC95IGNvb3JkaW5hdGVzIG9yXG5cdCAqXHRcdFx0XHRcdGxlYXZlIGVtcHR5IGZvciBkZWZhdWx0IChzY3JlZW4gY2VudHJlKVxuXHQgKiBAcmV0dXJuIHRoZSBtYW5hZ2VyIG9iamVjdFxuXHQgKi9cblx0X2RpYWxvZ0RhdGVwaWNrZXI6IGZ1bmN0aW9uKGlucHV0LCBkYXRlLCBvblNlbGVjdCwgc2V0dGluZ3MsIHBvcykge1xuXHRcdHZhciBpZCwgYnJvd3NlcldpZHRoLCBicm93c2VySGVpZ2h0LCBzY3JvbGxYLCBzY3JvbGxZLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2RpYWxvZ0luc3Q7IC8vIGludGVybmFsIGluc3RhbmNlXG5cblx0XHRpZiAoIWluc3QpIHtcblx0XHRcdHRoaXMudXVpZCArPSAxO1xuXHRcdFx0aWQgPSBcImRwXCIgKyB0aGlzLnV1aWQ7XG5cdFx0XHR0aGlzLl9kaWFsb2dJbnB1dCA9ICQoXCI8aW5wdXQgdHlwZT0ndGV4dCcgaWQ9J1wiICsgaWQgK1xuXHRcdFx0XHRcIicgc3R5bGU9J3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTAwcHg7IHdpZHRoOiAwcHg7Jy8+XCIpO1xuXHRcdFx0dGhpcy5fZGlhbG9nSW5wdXQua2V5ZG93bih0aGlzLl9kb0tleURvd24pO1xuXHRcdFx0JChcImJvZHlcIikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KTtcblx0XHRcdGluc3QgPSB0aGlzLl9kaWFsb2dJbnN0ID0gdGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCwgZmFsc2UpO1xuXHRcdFx0aW5zdC5zZXR0aW5ncyA9IHt9O1xuXHRcdFx0JC5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCBcImRhdGVwaWNrZXJcIiwgaW5zdCk7XG5cdFx0fVxuXHRcdGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKGluc3Quc2V0dGluZ3MsIHNldHRpbmdzIHx8IHt9KTtcblx0XHRkYXRlID0gKGRhdGUgJiYgZGF0ZS5jb25zdHJ1Y3RvciA9PT0gRGF0ZSA/IHRoaXMuX2Zvcm1hdERhdGUoaW5zdCwgZGF0ZSkgOiBkYXRlKTtcblx0XHR0aGlzLl9kaWFsb2dJbnB1dC52YWwoZGF0ZSk7XG5cblx0XHR0aGlzLl9wb3MgPSAocG9zID8gKHBvcy5sZW5ndGggPyBwb3MgOiBbcG9zLnBhZ2VYLCBwb3MucGFnZVldKSA6IG51bGwpO1xuXHRcdGlmICghdGhpcy5fcG9zKSB7XG5cdFx0XHRicm93c2VyV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cdFx0XHRicm93c2VySGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblx0XHRcdHNjcm9sbFggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQ7XG5cdFx0XHRzY3JvbGxZID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDtcblx0XHRcdHRoaXMuX3BvcyA9IC8vIHNob3VsZCB1c2UgYWN0dWFsIHdpZHRoL2hlaWdodCBiZWxvd1xuXHRcdFx0XHRbKGJyb3dzZXJXaWR0aCAvIDIpIC0gMTAwICsgc2Nyb2xsWCwgKGJyb3dzZXJIZWlnaHQgLyAyKSAtIDE1MCArIHNjcm9sbFldO1xuXHRcdH1cblxuXHRcdC8vIG1vdmUgaW5wdXQgb24gc2NyZWVuIGZvciBmb2N1cywgYnV0IGhpZGRlbiBiZWhpbmQgZGlhbG9nXG5cdFx0dGhpcy5fZGlhbG9nSW5wdXQuY3NzKFwibGVmdFwiLCAodGhpcy5fcG9zWzBdICsgMjApICsgXCJweFwiKS5jc3MoXCJ0b3BcIiwgdGhpcy5fcG9zWzFdICsgXCJweFwiKTtcblx0XHRpbnN0LnNldHRpbmdzLm9uU2VsZWN0ID0gb25TZWxlY3Q7XG5cdFx0dGhpcy5faW5EaWFsb2cgPSB0cnVlO1xuXHRcdHRoaXMuZHBEaXYuYWRkQ2xhc3ModGhpcy5fZGlhbG9nQ2xhc3MpO1xuXHRcdHRoaXMuX3Nob3dEYXRlcGlja2VyKHRoaXMuX2RpYWxvZ0lucHV0WzBdKTtcblx0XHRpZiAoJC5ibG9ja1VJKSB7XG5cdFx0XHQkLmJsb2NrVUkodGhpcy5kcERpdik7XG5cdFx0fVxuXHRcdCQuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwgXCJkYXRlcGlja2VyXCIsIGluc3QpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8qIERldGFjaCBhIGRhdGVwaWNrZXIgZnJvbSBpdHMgY29udHJvbC5cblx0ICogQHBhcmFtICB0YXJnZXRcdGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICovXG5cdF9kZXN0cm95RGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0dmFyIG5vZGVOYW1lLFxuXHRcdFx0JHRhcmdldCA9ICQodGFyZ2V0KSxcblx0XHRcdGluc3QgPSAkLmRhdGEodGFyZ2V0LCBcImRhdGVwaWNrZXJcIik7XG5cblx0XHRpZiAoISR0YXJnZXQuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bm9kZU5hbWUgPSB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHQkLnJlbW92ZURhdGEodGFyZ2V0LCBcImRhdGVwaWNrZXJcIik7XG5cdFx0aWYgKG5vZGVOYW1lID09PSBcImlucHV0XCIpIHtcblx0XHRcdGluc3QuYXBwZW5kLnJlbW92ZSgpO1xuXHRcdFx0aW5zdC50cmlnZ2VyLnJlbW92ZSgpO1xuXHRcdFx0JHRhcmdldC5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuXG5cdFx0XHRcdHVuYmluZChcImZvY3VzXCIsIHRoaXMuX3Nob3dEYXRlcGlja2VyKS5cblx0XHRcdFx0dW5iaW5kKFwia2V5ZG93blwiLCB0aGlzLl9kb0tleURvd24pLlxuXHRcdFx0XHR1bmJpbmQoXCJrZXlwcmVzc1wiLCB0aGlzLl9kb0tleVByZXNzKS5cblx0XHRcdFx0dW5iaW5kKFwia2V5dXBcIiwgdGhpcy5fZG9LZXlVcCk7XG5cdFx0fSBlbHNlIGlmIChub2RlTmFtZSA9PT0gXCJkaXZcIiB8fCBub2RlTmFtZSA9PT0gXCJzcGFuXCIpIHtcblx0XHRcdCR0YXJnZXQucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmVtcHR5KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBkYXRlcGlja2VyX2luc3RBY3RpdmUgPT09IGluc3QgKSB7XG5cdFx0XHRkYXRlcGlja2VyX2luc3RBY3RpdmUgPSBudWxsO1xuXHRcdH1cblx0fSxcblxuXHQvKiBFbmFibGUgdGhlIGRhdGUgcGlja2VyIHRvIGEgalF1ZXJ5IHNlbGVjdGlvbi5cblx0ICogQHBhcmFtICB0YXJnZXRcdGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICovXG5cdF9lbmFibGVEYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQpIHtcblx0XHR2YXIgbm9kZU5hbWUsIGlubGluZSxcblx0XHRcdCR0YXJnZXQgPSAkKHRhcmdldCksXG5cdFx0XHRpbnN0ID0gJC5kYXRhKHRhcmdldCwgXCJkYXRlcGlja2VyXCIpO1xuXG5cdFx0aWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdG5vZGVOYW1lID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKG5vZGVOYW1lID09PSBcImlucHV0XCIpIHtcblx0XHRcdHRhcmdldC5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdFx0aW5zdC50cmlnZ2VyLmZpbHRlcihcImJ1dHRvblwiKS5cblx0XHRcdFx0ZWFjaChmdW5jdGlvbigpIHsgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOyB9KS5lbmQoKS5cblx0XHRcdFx0ZmlsdGVyKFwiaW1nXCIpLmNzcyh7b3BhY2l0eTogXCIxLjBcIiwgY3Vyc29yOiBcIlwifSk7XG5cdFx0fSBlbHNlIGlmIChub2RlTmFtZSA9PT0gXCJkaXZcIiB8fCBub2RlTmFtZSA9PT0gXCJzcGFuXCIpIHtcblx0XHRcdGlubGluZSA9ICR0YXJnZXQuY2hpbGRyZW4oXCIuXCIgKyB0aGlzLl9pbmxpbmVDbGFzcyk7XG5cdFx0XHRpbmxpbmUuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpO1xuXHRcdFx0aW5saW5lLmZpbmQoXCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhclwiKS5cblx0XHRcdFx0cHJvcChcImRpc2FibGVkXCIsIGZhbHNlKTtcblx0XHR9XG5cdFx0dGhpcy5fZGlzYWJsZWRJbnB1dHMgPSAkLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxcblx0XHRcdGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiAodmFsdWUgPT09IHRhcmdldCA/IG51bGwgOiB2YWx1ZSk7IH0pOyAvLyBkZWxldGUgZW50cnlcblx0fSxcblxuXHQvKiBEaXNhYmxlIHRoZSBkYXRlIHBpY2tlciB0byBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0XHRlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfZGlzYWJsZURhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCkge1xuXHRcdHZhciBub2RlTmFtZSwgaW5saW5lLFxuXHRcdFx0JHRhcmdldCA9ICQodGFyZ2V0KSxcblx0XHRcdGluc3QgPSAkLmRhdGEodGFyZ2V0LCBcImRhdGVwaWNrZXJcIik7XG5cblx0XHRpZiAoISR0YXJnZXQuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bm9kZU5hbWUgPSB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRpZiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIikge1xuXHRcdFx0dGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGluc3QudHJpZ2dlci5maWx0ZXIoXCJidXR0b25cIikuXG5cdFx0XHRcdGVhY2goZnVuY3Rpb24oKSB7IHRoaXMuZGlzYWJsZWQgPSB0cnVlOyB9KS5lbmQoKS5cblx0XHRcdFx0ZmlsdGVyKFwiaW1nXCIpLmNzcyh7b3BhY2l0eTogXCIwLjVcIiwgY3Vyc29yOiBcImRlZmF1bHRcIn0pO1xuXHRcdH0gZWxzZSBpZiAobm9kZU5hbWUgPT09IFwiZGl2XCIgfHwgbm9kZU5hbWUgPT09IFwic3BhblwiKSB7XG5cdFx0XHRpbmxpbmUgPSAkdGFyZ2V0LmNoaWxkcmVuKFwiLlwiICsgdGhpcy5faW5saW5lQ2xhc3MpO1xuXHRcdFx0aW5saW5lLmNoaWxkcmVuKCkuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKTtcblx0XHRcdGlubGluZS5maW5kKFwic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXJcIikuXG5cdFx0XHRcdHByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcblx0XHR9XG5cdFx0dGhpcy5fZGlzYWJsZWRJbnB1dHMgPSAkLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxcblx0XHRcdGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiAodmFsdWUgPT09IHRhcmdldCA/IG51bGwgOiB2YWx1ZSk7IH0pOyAvLyBkZWxldGUgZW50cnlcblx0XHR0aGlzLl9kaXNhYmxlZElucHV0c1t0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGhdID0gdGFyZ2V0O1xuXHR9LFxuXG5cdC8qIElzIHRoZSBmaXJzdCBmaWVsZCBpbiBhIGpRdWVyeSBjb2xsZWN0aW9uIGRpc2FibGVkIGFzIGEgZGF0ZXBpY2tlcj9cblx0ICogQHBhcmFtICB0YXJnZXRcdGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICogQHJldHVybiBib29sZWFuIC0gdHJ1ZSBpZiBkaXNhYmxlZCwgZmFsc2UgaWYgZW5hYmxlZFxuXHQgKi9cblx0X2lzRGlzYWJsZWREYXRlcGlja2VyOiBmdW5jdGlvbih0YXJnZXQpIHtcblx0XHRpZiAoIXRhcmdldCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAodGhpcy5fZGlzYWJsZWRJbnB1dHNbaV0gPT09IHRhcmdldCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdC8qIFJldHJpZXZlIHRoZSBpbnN0YW5jZSBkYXRhIGZvciB0aGUgdGFyZ2V0IGNvbnRyb2wuXG5cdCAqIEBwYXJhbSAgdGFyZ2V0ICBlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEByZXR1cm4gIG9iamVjdCAtIHRoZSBhc3NvY2lhdGVkIGluc3RhbmNlIGRhdGFcblx0ICogQHRocm93cyAgZXJyb3IgaWYgYSBqUXVlcnkgcHJvYmxlbSBnZXR0aW5nIGRhdGFcblx0ICovXG5cdF9nZXRJbnN0OiBmdW5jdGlvbih0YXJnZXQpIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuICQuZGF0YSh0YXJnZXQsIFwiZGF0ZXBpY2tlclwiKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGVycikge1xuXHRcdFx0dGhyb3cgXCJNaXNzaW5nIGluc3RhbmNlIGRhdGEgZm9yIHRoaXMgZGF0ZXBpY2tlclwiO1xuXHRcdH1cblx0fSxcblxuXHQvKiBVcGRhdGUgb3IgcmV0cmlldmUgdGhlIHNldHRpbmdzIGZvciBhIGRhdGUgcGlja2VyIGF0dGFjaGVkIHRvIGFuIGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uLlxuXHQgKiBAcGFyYW0gIHRhcmdldCAgZWxlbWVudCAtIHRoZSB0YXJnZXQgaW5wdXQgZmllbGQgb3IgZGl2aXNpb24gb3Igc3BhblxuXHQgKiBAcGFyYW0gIG5hbWVcdG9iamVjdCAtIHRoZSBuZXcgc2V0dGluZ3MgdG8gdXBkYXRlIG9yXG5cdCAqXHRcdFx0XHRzdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgc2V0dGluZyB0byBjaGFuZ2Ugb3IgcmV0cmlldmUsXG5cdCAqXHRcdFx0XHR3aGVuIHJldHJpZXZpbmcgYWxzbyBcImFsbFwiIGZvciBhbGwgaW5zdGFuY2Ugc2V0dGluZ3Mgb3Jcblx0ICpcdFx0XHRcdFwiZGVmYXVsdHNcIiBmb3IgYWxsIGdsb2JhbCBkZWZhdWx0c1xuXHQgKiBAcGFyYW0gIHZhbHVlICAgYW55IC0gdGhlIG5ldyB2YWx1ZSBmb3IgdGhlIHNldHRpbmdcblx0ICpcdFx0XHRcdChvbWl0IGlmIGFib3ZlIGlzIGFuIG9iamVjdCBvciB0byByZXRyaWV2ZSBhIHZhbHVlKVxuXHQgKi9cblx0X29wdGlvbkRhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcblx0XHR2YXIgc2V0dGluZ3MsIGRhdGUsIG1pbkRhdGUsIG1heERhdGUsXG5cdFx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXQpO1xuXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdHJldHVybiAobmFtZSA9PT0gXCJkZWZhdWx0c1wiID8gJC5leHRlbmQoe30sICQuZGF0ZXBpY2tlci5fZGVmYXVsdHMpIDpcblx0XHRcdFx0KGluc3QgPyAobmFtZSA9PT0gXCJhbGxcIiA/ICQuZXh0ZW5kKHt9LCBpbnN0LnNldHRpbmdzKSA6XG5cdFx0XHRcdHRoaXMuX2dldChpbnN0LCBuYW1lKSkgOiBudWxsKSk7XG5cdFx0fVxuXG5cdFx0c2V0dGluZ3MgPSBuYW1lIHx8IHt9O1xuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0c2V0dGluZ3MgPSB7fTtcblx0XHRcdHNldHRpbmdzW25hbWVdID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKGluc3QpIHtcblx0XHRcdGlmICh0aGlzLl9jdXJJbnN0ID09PSBpbnN0KSB7XG5cdFx0XHRcdHRoaXMuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHR9XG5cblx0XHRcdGRhdGUgPSB0aGlzLl9nZXREYXRlRGF0ZXBpY2tlcih0YXJnZXQsIHRydWUpO1xuXHRcdFx0bWluRGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoaW5zdCwgXCJtaW5cIik7XG5cdFx0XHRtYXhEYXRlID0gdGhpcy5fZ2V0TWluTWF4RGF0ZShpbnN0LCBcIm1heFwiKTtcblx0XHRcdGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKGluc3Quc2V0dGluZ3MsIHNldHRpbmdzKTtcblx0XHRcdC8vIHJlZm9ybWF0IHRoZSBvbGQgbWluRGF0ZS9tYXhEYXRlIHZhbHVlcyBpZiBkYXRlRm9ybWF0IGNoYW5nZXMgYW5kIGEgbmV3IG1pbkRhdGUvbWF4RGF0ZSBpc24ndCBwcm92aWRlZFxuXHRcdFx0aWYgKG1pbkRhdGUgIT09IG51bGwgJiYgc2V0dGluZ3MuZGF0ZUZvcm1hdCAhPT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm1pbkRhdGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpbnN0LnNldHRpbmdzLm1pbkRhdGUgPSB0aGlzLl9mb3JtYXREYXRlKGluc3QsIG1pbkRhdGUpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG1heERhdGUgIT09IG51bGwgJiYgc2V0dGluZ3MuZGF0ZUZvcm1hdCAhPT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm1heERhdGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpbnN0LnNldHRpbmdzLm1heERhdGUgPSB0aGlzLl9mb3JtYXREYXRlKGluc3QsIG1heERhdGUpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBcImRpc2FibGVkXCIgaW4gc2V0dGluZ3MgKSB7XG5cdFx0XHRcdGlmICggc2V0dGluZ3MuZGlzYWJsZWQgKSB7XG5cdFx0XHRcdFx0dGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodGFyZ2V0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9lbmFibGVEYXRlcGlja2VyKHRhcmdldCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuX2F0dGFjaG1lbnRzKCQodGFyZ2V0KSwgaW5zdCk7XG5cdFx0XHR0aGlzLl9hdXRvU2l6ZShpbnN0KTtcblx0XHRcdHRoaXMuX3NldERhdGUoaW5zdCwgZGF0ZSk7XG5cdFx0XHR0aGlzLl91cGRhdGVBbHRlcm5hdGUoaW5zdCk7XG5cdFx0XHR0aGlzLl91cGRhdGVEYXRlcGlja2VyKGluc3QpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBjaGFuZ2UgbWV0aG9kIGRlcHJlY2F0ZWRcblx0X2NoYW5nZURhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCwgbmFtZSwgdmFsdWUpIHtcblx0XHR0aGlzLl9vcHRpb25EYXRlcGlja2VyKHRhcmdldCwgbmFtZSwgdmFsdWUpO1xuXHR9LFxuXG5cdC8qIFJlZHJhdyB0aGUgZGF0ZSBwaWNrZXIgYXR0YWNoZWQgdG8gYW4gaW5wdXQgZmllbGQgb3IgZGl2aXNpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0ICBlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqL1xuXHRfcmVmcmVzaERhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCkge1xuXHRcdHZhciBpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXQpO1xuXHRcdGlmIChpbnN0KSB7XG5cdFx0XHR0aGlzLl91cGRhdGVEYXRlcGlja2VyKGluc3QpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBTZXQgdGhlIGRhdGVzIGZvciBhIGpRdWVyeSBzZWxlY3Rpb24uXG5cdCAqIEBwYXJhbSAgdGFyZ2V0IGVsZW1lbnQgLSB0aGUgdGFyZ2V0IGlucHV0IGZpZWxkIG9yIGRpdmlzaW9uIG9yIHNwYW5cblx0ICogQHBhcmFtICBkYXRlXHREYXRlIC0gdGhlIG5ldyBkYXRlXG5cdCAqL1xuXHRfc2V0RGF0ZURhdGVwaWNrZXI6IGZ1bmN0aW9uKHRhcmdldCwgZGF0ZSkge1xuXHRcdHZhciBpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXQpO1xuXHRcdGlmIChpbnN0KSB7XG5cdFx0XHR0aGlzLl9zZXREYXRlKGluc3QsIGRhdGUpO1xuXHRcdFx0dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpbnN0KTtcblx0XHRcdHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpbnN0KTtcblx0XHR9XG5cdH0sXG5cblx0LyogR2V0IHRoZSBkYXRlKHMpIGZvciB0aGUgZmlyc3QgZW50cnkgaW4gYSBqUXVlcnkgc2VsZWN0aW9uLlxuXHQgKiBAcGFyYW0gIHRhcmdldCBlbGVtZW50IC0gdGhlIHRhcmdldCBpbnB1dCBmaWVsZCBvciBkaXZpc2lvbiBvciBzcGFuXG5cdCAqIEBwYXJhbSAgbm9EZWZhdWx0IGJvb2xlYW4gLSB0cnVlIGlmIG5vIGRlZmF1bHQgZGF0ZSBpcyB0byBiZSB1c2VkXG5cdCAqIEByZXR1cm4gRGF0ZSAtIHRoZSBjdXJyZW50IGRhdGVcblx0ICovXG5cdF9nZXREYXRlRGF0ZXBpY2tlcjogZnVuY3Rpb24odGFyZ2V0LCBub0RlZmF1bHQpIHtcblx0XHR2YXIgaW5zdCA9IHRoaXMuX2dldEluc3QodGFyZ2V0KTtcblx0XHRpZiAoaW5zdCAmJiAhaW5zdC5pbmxpbmUpIHtcblx0XHRcdHRoaXMuX3NldERhdGVGcm9tRmllbGQoaW5zdCwgbm9EZWZhdWx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIChpbnN0ID8gdGhpcy5fZ2V0RGF0ZShpbnN0KSA6IG51bGwpO1xuXHR9LFxuXG5cdC8qIEhhbmRsZSBrZXlzdHJva2VzLiAqL1xuXHRfZG9LZXlEb3duOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBvblNlbGVjdCwgZGF0ZVN0ciwgc2VsLFxuXHRcdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdChldmVudC50YXJnZXQpLFxuXHRcdFx0aGFuZGxlZCA9IHRydWUsXG5cdFx0XHRpc1JUTCA9IGluc3QuZHBEaXYuaXMoXCIudWktZGF0ZXBpY2tlci1ydGxcIik7XG5cblx0XHRpbnN0Ll9rZXlFdmVudCA9IHRydWU7XG5cdFx0aWYgKCQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpIHtcblx0XHRcdHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuXHRcdFx0XHRjYXNlIDk6ICQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtcblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGJyZWFrOyAvLyBoaWRlIG9uIHRhYiBvdXRcblx0XHRcdFx0Y2FzZSAxMzogc2VsID0gJChcInRkLlwiICsgJC5kYXRlcGlja2VyLl9kYXlPdmVyQ2xhc3MgKyBcIjpub3QoLlwiICtcblx0XHRcdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fY3VycmVudENsYXNzICsgXCIpXCIsIGluc3QuZHBEaXYpO1xuXHRcdFx0XHRcdFx0aWYgKHNlbFswXSkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3NlbGVjdERheShldmVudC50YXJnZXQsIGluc3Quc2VsZWN0ZWRNb250aCwgaW5zdC5zZWxlY3RlZFllYXIsIHNlbFswXSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG9uU2VsZWN0ID0gJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJvblNlbGVjdFwiKTtcblx0XHRcdFx0XHRcdGlmIChvblNlbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRkYXRlU3RyID0gJC5kYXRlcGlja2VyLl9mb3JtYXREYXRlKGluc3QpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIHRyaWdnZXIgY3VzdG9tIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHRcdG9uU2VsZWN0LmFwcGx5KChpbnN0LmlucHV0ID8gaW5zdC5pbnB1dFswXSA6IG51bGwpLCBbZGF0ZVN0ciwgaW5zdF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIGRvbid0IHN1Ym1pdCB0aGUgZm9ybVxuXHRcdFx0XHRjYXNlIDI3OiAkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gaGlkZSBvbiBlc2NhcGVcblx0XHRcdFx0Y2FzZSAzMzogJC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGV2ZW50LnRhcmdldCwgKGV2ZW50LmN0cmxLZXkgP1xuXHRcdFx0XHRcdFx0XHQtJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzdGVwQmlnTW9udGhzXCIpIDpcblx0XHRcdFx0XHRcdFx0LSQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic3RlcE1vbnRoc1wiKSksIFwiTVwiKTtcblx0XHRcdFx0XHRcdGJyZWFrOyAvLyBwcmV2aW91cyBtb250aC95ZWFyIG9uIHBhZ2UgdXAvKyBjdHJsXG5cdFx0XHRcdGNhc2UgMzQ6ICQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIChldmVudC5jdHJsS2V5ID9cblx0XHRcdFx0XHRcdFx0KyQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic3RlcEJpZ01vbnRoc1wiKSA6XG5cdFx0XHRcdFx0XHRcdCskLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInN0ZXBNb250aHNcIikpLCBcIk1cIik7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gbmV4dCBtb250aC95ZWFyIG9uIHBhZ2UgZG93bi8rIGN0cmxcblx0XHRcdFx0Y2FzZSAzNTogaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkge1xuXHRcdFx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZShldmVudC50YXJnZXQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aGFuZGxlZCA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcblx0XHRcdFx0XHRcdGJyZWFrOyAvLyBjbGVhciBvbiBjdHJsIG9yIGNvbW1hbmQgK2VuZFxuXHRcdFx0XHRjYXNlIDM2OiBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fZ290b1RvZGF5KGV2ZW50LnRhcmdldCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vIGN1cnJlbnQgb24gY3RybCBvciBjb21tYW5kICtob21lXG5cdFx0XHRcdGNhc2UgMzc6IGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGV2ZW50LnRhcmdldCwgKGlzUlRMID8gKzEgOiAtMSksIFwiRFwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cdFx0XHRcdFx0XHQvLyAtMSBkYXkgb24gY3RybCBvciBjb21tYW5kICtsZWZ0XG5cdFx0XHRcdFx0XHRpZiAoZXZlbnQub3JpZ2luYWxFdmVudC5hbHRLZXkpIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGV2ZW50LnRhcmdldCwgKGV2ZW50LmN0cmxLZXkgP1xuXHRcdFx0XHRcdFx0XHRcdC0kLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInN0ZXBCaWdNb250aHNcIikgOlxuXHRcdFx0XHRcdFx0XHRcdC0kLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInN0ZXBNb250aHNcIikpLCBcIk1cIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvLyBuZXh0IG1vbnRoL3llYXIgb24gYWx0ICtsZWZ0IG9uIE1hY1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgMzg6IGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGV2ZW50LnRhcmdldCwgLTcsIFwiRFwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cdFx0XHRcdFx0XHRicmVhazsgLy8gLTEgd2VlayBvbiBjdHJsIG9yIGNvbW1hbmQgK3VwXG5cdFx0XHRcdGNhc2UgMzk6IGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcblx0XHRcdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGV2ZW50LnRhcmdldCwgKGlzUlRMID8gLTEgOiArMSksIFwiRFwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGhhbmRsZWQgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cdFx0XHRcdFx0XHQvLyArMSBkYXkgb24gY3RybCBvciBjb21tYW5kICtyaWdodFxuXHRcdFx0XHRcdFx0aWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQuYWx0S2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsIChldmVudC5jdHJsS2V5ID9cblx0XHRcdFx0XHRcdFx0XHQrJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzdGVwQmlnTW9udGhzXCIpIDpcblx0XHRcdFx0XHRcdFx0XHQrJC5kYXRlcGlja2VyLl9nZXQoaW5zdCwgXCJzdGVwTW9udGhzXCIpKSwgXCJNXCIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly8gbmV4dCBtb250aC95ZWFyIG9uIGFsdCArcmlnaHRcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIDQwOiBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSB7XG5cdFx0XHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShldmVudC50YXJnZXQsICs3LCBcIkRcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRoYW5kbGVkID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHRcdFx0XHRcdFx0YnJlYWs7IC8vICsxIHdlZWsgb24gY3RybCBvciBjb21tYW5kICtkb3duXG5cdFx0XHRcdGRlZmF1bHQ6IGhhbmRsZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM2ICYmIGV2ZW50LmN0cmxLZXkpIHsgLy8gZGlzcGxheSB0aGUgZGF0ZSBwaWNrZXIgb24gY3RybCtob21lXG5cdFx0XHQkLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRoYW5kbGVkID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKGhhbmRsZWQpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cblx0LyogRmlsdGVyIGVudGVyZWQgY2hhcmFjdGVycyAtIGJhc2VkIG9uIGRhdGUgZm9ybWF0LiAqL1xuXHRfZG9LZXlQcmVzczogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgY2hhcnMsIGNocixcblx0XHRcdGluc3QgPSAkLmRhdGVwaWNrZXIuX2dldEluc3QoZXZlbnQudGFyZ2V0KTtcblxuXHRcdGlmICgkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcImNvbnN0cmFpbklucHV0XCIpKSB7XG5cdFx0XHRjaGFycyA9ICQuZGF0ZXBpY2tlci5fcG9zc2libGVDaGFycygkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcImRhdGVGb3JtYXRcIikpO1xuXHRcdFx0Y2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5jaGFyQ29kZSA9PSBudWxsID8gZXZlbnQua2V5Q29kZSA6IGV2ZW50LmNoYXJDb2RlKTtcblx0XHRcdHJldHVybiBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgKGNociA8IFwiIFwiIHx8ICFjaGFycyB8fCBjaGFycy5pbmRleE9mKGNocikgPiAtMSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFN5bmNocm9uaXNlIG1hbnVhbCBlbnRyeSBhbmQgZmllbGQvYWx0ZXJuYXRlIGZpZWxkLiAqL1xuXHRfZG9LZXlVcDogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgZGF0ZSxcblx0XHRcdGluc3QgPSAkLmRhdGVwaWNrZXIuX2dldEluc3QoZXZlbnQudGFyZ2V0KTtcblxuXHRcdGlmIChpbnN0LmlucHV0LnZhbCgpICE9PSBpbnN0Lmxhc3RWYWwpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwiZGF0ZUZvcm1hdFwiKSxcblx0XHRcdFx0XHQoaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQudmFsKCkgOiBudWxsKSxcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhpbnN0KSk7XG5cblx0XHRcdFx0aWYgKGRhdGUpIHsgLy8gb25seSBpZiB2YWxpZFxuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChpbnN0KTtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShpbnN0KTtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaW5zdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGNhdGNoIChlcnIpIHtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0LyogUG9wLXVwIHRoZSBkYXRlIHBpY2tlciBmb3IgYSBnaXZlbiBpbnB1dCBmaWVsZC5cblx0ICogSWYgZmFsc2UgcmV0dXJuZWQgZnJvbSBiZWZvcmVTaG93IGV2ZW50IGhhbmRsZXIgZG8gbm90IHNob3cuXG5cdCAqIEBwYXJhbSAgaW5wdXQgIGVsZW1lbnQgLSB0aGUgaW5wdXQgZmllbGQgYXR0YWNoZWQgdG8gdGhlIGRhdGUgcGlja2VyIG9yXG5cdCAqXHRcdFx0XHRcdGV2ZW50IC0gaWYgdHJpZ2dlcmVkIGJ5IGZvY3VzXG5cdCAqL1xuXHRfc2hvd0RhdGVwaWNrZXI6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0aW5wdXQgPSBpbnB1dC50YXJnZXQgfHwgaW5wdXQ7XG5cdFx0aWYgKGlucHV0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwiaW5wdXRcIikgeyAvLyBmaW5kIGZyb20gYnV0dG9uL2ltYWdlIHRyaWdnZXJcblx0XHRcdGlucHV0ID0gJChcImlucHV0XCIsIGlucHV0LnBhcmVudE5vZGUpWzBdO1xuXHRcdH1cblxuXHRcdGlmICgkLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGlucHV0KSB8fCAkLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCA9PT0gaW5wdXQpIHsgLy8gYWxyZWFkeSBoZXJlXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGluc3QsIGJlZm9yZVNob3csIGJlZm9yZVNob3dTZXR0aW5ncywgaXNGaXhlZCxcblx0XHRcdG9mZnNldCwgc2hvd0FuaW0sIGR1cmF0aW9uO1xuXG5cdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdChpbnB1dCk7XG5cdFx0aWYgKCQuZGF0ZXBpY2tlci5fY3VySW5zdCAmJiAkLmRhdGVwaWNrZXIuX2N1ckluc3QgIT09IGluc3QpIHtcblx0XHRcdCQuZGF0ZXBpY2tlci5fY3VySW5zdC5kcERpdi5zdG9wKHRydWUsIHRydWUpO1xuXHRcdFx0aWYgKCBpbnN0ICYmICQuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcgKSB7XG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoICQuZGF0ZXBpY2tlci5fY3VySW5zdC5pbnB1dFswXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGJlZm9yZVNob3cgPSAkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcImJlZm9yZVNob3dcIik7XG5cdFx0YmVmb3JlU2hvd1NldHRpbmdzID0gYmVmb3JlU2hvdyA/IGJlZm9yZVNob3cuYXBwbHkoaW5wdXQsIFtpbnB1dCwgaW5zdF0pIDoge307XG5cdFx0aWYoYmVmb3JlU2hvd1NldHRpbmdzID09PSBmYWxzZSl7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKGluc3Quc2V0dGluZ3MsIGJlZm9yZVNob3dTZXR0aW5ncyk7XG5cblx0XHRpbnN0Lmxhc3RWYWwgPSBudWxsO1xuXHRcdCQuZGF0ZXBpY2tlci5fbGFzdElucHV0ID0gaW5wdXQ7XG5cdFx0JC5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGluc3QpO1xuXG5cdFx0aWYgKCQuZGF0ZXBpY2tlci5faW5EaWFsb2cpIHsgLy8gaGlkZSBjdXJzb3Jcblx0XHRcdGlucHV0LnZhbHVlID0gXCJcIjtcblx0XHR9XG5cdFx0aWYgKCEkLmRhdGVwaWNrZXIuX3BvcykgeyAvLyBwb3NpdGlvbiBiZWxvdyBpbnB1dFxuXHRcdFx0JC5kYXRlcGlja2VyLl9wb3MgPSAkLmRhdGVwaWNrZXIuX2ZpbmRQb3MoaW5wdXQpO1xuXHRcdFx0JC5kYXRlcGlja2VyLl9wb3NbMV0gKz0gaW5wdXQub2Zmc2V0SGVpZ2h0OyAvLyBhZGQgdGhlIGhlaWdodFxuXHRcdH1cblxuXHRcdGlzRml4ZWQgPSBmYWxzZTtcblx0XHQkKGlucHV0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlzRml4ZWQgfD0gJCh0aGlzKS5jc3MoXCJwb3NpdGlvblwiKSA9PT0gXCJmaXhlZFwiO1xuXHRcdFx0cmV0dXJuICFpc0ZpeGVkO1xuXHRcdH0pO1xuXG5cdFx0b2Zmc2V0ID0ge2xlZnQ6ICQuZGF0ZXBpY2tlci5fcG9zWzBdLCB0b3A6ICQuZGF0ZXBpY2tlci5fcG9zWzFdfTtcblx0XHQkLmRhdGVwaWNrZXIuX3BvcyA9IG51bGw7XG5cdFx0Ly90byBhdm9pZCBmbGFzaGVzIG9uIEZpcmVmb3hcblx0XHRpbnN0LmRwRGl2LmVtcHR5KCk7XG5cdFx0Ly8gZGV0ZXJtaW5lIHNpemluZyBvZmZzY3JlZW5cblx0XHRpbnN0LmRwRGl2LmNzcyh7cG9zaXRpb246IFwiYWJzb2x1dGVcIiwgZGlzcGxheTogXCJibG9ja1wiLCB0b3A6IFwiLTEwMDBweFwifSk7XG5cdFx0JC5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKGluc3QpO1xuXHRcdC8vIGZpeCB3aWR0aCBmb3IgZHluYW1pYyBudW1iZXIgb2YgZGF0ZSBwaWNrZXJzXG5cdFx0Ly8gYW5kIGFkanVzdCBwb3NpdGlvbiBiZWZvcmUgc2hvd2luZ1xuXHRcdG9mZnNldCA9ICQuZGF0ZXBpY2tlci5fY2hlY2tPZmZzZXQoaW5zdCwgb2Zmc2V0LCBpc0ZpeGVkKTtcblx0XHRpbnN0LmRwRGl2LmNzcyh7cG9zaXRpb246ICgkLmRhdGVwaWNrZXIuX2luRGlhbG9nICYmICQuYmxvY2tVSSA/XG5cdFx0XHRcInN0YXRpY1wiIDogKGlzRml4ZWQgPyBcImZpeGVkXCIgOiBcImFic29sdXRlXCIpKSwgZGlzcGxheTogXCJub25lXCIsXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCArIFwicHhcIiwgdG9wOiBvZmZzZXQudG9wICsgXCJweFwifSk7XG5cblx0XHRpZiAoIWluc3QuaW5saW5lKSB7XG5cdFx0XHRzaG93QW5pbSA9ICQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic2hvd0FuaW1cIik7XG5cdFx0XHRkdXJhdGlvbiA9ICQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwiZHVyYXRpb25cIik7XG5cdFx0XHRpbnN0LmRwRGl2LmNzcyggXCJ6LWluZGV4XCIsIGRhdGVwaWNrZXJfZ2V0WmluZGV4KCAkKCBpbnB1dCApICkgKyAxICk7XG5cdFx0XHQkLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nID0gdHJ1ZTtcblxuXHRcdFx0aWYgKCAkLmVmZmVjdHMgJiYgJC5lZmZlY3RzLmVmZmVjdFsgc2hvd0FuaW0gXSApIHtcblx0XHRcdFx0aW5zdC5kcERpdi5zaG93KHNob3dBbmltLCAkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcInNob3dPcHRpb25zXCIpLCBkdXJhdGlvbik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0LmRwRGl2W3Nob3dBbmltIHx8IFwic2hvd1wiXShzaG93QW5pbSA/IGR1cmF0aW9uIDogbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggJC5kYXRlcGlja2VyLl9zaG91bGRGb2N1c0lucHV0KCBpbnN0ICkgKSB7XG5cdFx0XHRcdGluc3QuaW5wdXQuZm9jdXMoKTtcblx0XHRcdH1cblxuXHRcdFx0JC5kYXRlcGlja2VyLl9jdXJJbnN0ID0gaW5zdDtcblx0XHR9XG5cdH0sXG5cblx0LyogR2VuZXJhdGUgdGhlIGRhdGUgcGlja2VyIGNvbnRlbnQuICovXG5cdF91cGRhdGVEYXRlcGlja2VyOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0dGhpcy5tYXhSb3dzID0gNDsgLy9SZXNldCB0aGUgbWF4IG51bWJlciBvZiByb3dzIGJlaW5nIGRpc3BsYXllZCAoc2VlICM3MDQzKVxuXHRcdGRhdGVwaWNrZXJfaW5zdEFjdGl2ZSA9IGluc3Q7IC8vIGZvciBkZWxlZ2F0ZSBob3ZlciBldmVudHNcblx0XHRpbnN0LmRwRGl2LmVtcHR5KCkuYXBwZW5kKHRoaXMuX2dlbmVyYXRlSFRNTChpbnN0KSk7XG5cdFx0dGhpcy5fYXR0YWNoSGFuZGxlcnMoaW5zdCk7XG5cblx0XHR2YXIgb3JpZ3llYXJzaHRtbCxcblx0XHRcdG51bU1vbnRocyA9IHRoaXMuX2dldE51bWJlck9mTW9udGhzKGluc3QpLFxuXHRcdFx0Y29scyA9IG51bU1vbnRoc1sxXSxcblx0XHRcdHdpZHRoID0gMTcsXG5cdFx0XHRhY3RpdmVDZWxsID0gaW5zdC5kcERpdi5maW5kKCBcIi5cIiArIHRoaXMuX2RheU92ZXJDbGFzcyArIFwiIGFcIiApO1xuXG5cdFx0aWYgKCBhY3RpdmVDZWxsLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRkYXRlcGlja2VyX2hhbmRsZU1vdXNlb3Zlci5hcHBseSggYWN0aXZlQ2VsbC5nZXQoIDAgKSApO1xuXHRcdH1cblxuXHRcdGluc3QuZHBEaXYucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNFwiKS53aWR0aChcIlwiKTtcblx0XHRpZiAoY29scyA+IDEpIHtcblx0XHRcdGluc3QuZHBEaXYuYWRkQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLW11bHRpLVwiICsgY29scykuY3NzKFwid2lkdGhcIiwgKHdpZHRoICogY29scykgKyBcImVtXCIpO1xuXHRcdH1cblx0XHRpbnN0LmRwRGl2WyhudW1Nb250aHNbMF0gIT09IDEgfHwgbnVtTW9udGhzWzFdICE9PSAxID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIpICtcblx0XHRcdFwiQ2xhc3NcIl0oXCJ1aS1kYXRlcGlja2VyLW11bHRpXCIpO1xuXHRcdGluc3QuZHBEaXZbKHRoaXMuX2dldChpbnN0LCBcImlzUlRMXCIpID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIpICtcblx0XHRcdFwiQ2xhc3NcIl0oXCJ1aS1kYXRlcGlja2VyLXJ0bFwiKTtcblxuXHRcdGlmIChpbnN0ID09PSAkLmRhdGVwaWNrZXIuX2N1ckluc3QgJiYgJC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAkLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQoIGluc3QgKSApIHtcblx0XHRcdGluc3QuaW5wdXQuZm9jdXMoKTtcblx0XHR9XG5cblx0XHQvLyBkZWZmZXJlZCByZW5kZXIgb2YgdGhlIHllYXJzIHNlbGVjdCAodG8gYXZvaWQgZmxhc2hlcyBvbiBGaXJlZm94KVxuXHRcdGlmKCBpbnN0LnllYXJzaHRtbCApe1xuXHRcdFx0b3JpZ3llYXJzaHRtbCA9IGluc3QueWVhcnNodG1sO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHQvL2Fzc3VyZSB0aGF0IGluc3QueWVhcnNodG1sIGRpZG4ndCBjaGFuZ2UuXG5cdFx0XHRcdGlmKCBvcmlneWVhcnNodG1sID09PSBpbnN0LnllYXJzaHRtbCAmJiBpbnN0LnllYXJzaHRtbCApe1xuXHRcdFx0XHRcdGluc3QuZHBEaXYuZmluZChcInNlbGVjdC51aS1kYXRlcGlja2VyLXllYXI6Zmlyc3RcIikucmVwbGFjZVdpdGgoaW5zdC55ZWFyc2h0bWwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9yaWd5ZWFyc2h0bWwgPSBpbnN0LnllYXJzaHRtbCA9IG51bGw7XG5cdFx0XHR9LCAwKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gIzY2OTQgLSBkb24ndCBmb2N1cyB0aGUgaW5wdXQgaWYgaXQncyBhbHJlYWR5IGZvY3VzZWRcblx0Ly8gdGhpcyBicmVha3MgdGhlIGNoYW5nZSBldmVudCBpbiBJRVxuXHQvLyBTdXBwb3J0OiBJRSBhbmQgalF1ZXJ5IDwxLjlcblx0X3Nob3VsZEZvY3VzSW5wdXQ6IGZ1bmN0aW9uKCBpbnN0ICkge1xuXHRcdHJldHVybiBpbnN0LmlucHV0ICYmIGluc3QuaW5wdXQuaXMoIFwiOnZpc2libGVcIiApICYmICFpbnN0LmlucHV0LmlzKCBcIjpkaXNhYmxlZFwiICkgJiYgIWluc3QuaW5wdXQuaXMoIFwiOmZvY3VzXCIgKTtcblx0fSxcblxuXHQvKiBDaGVjayBwb3NpdGlvbmluZyB0byByZW1haW4gb24gc2NyZWVuLiAqL1xuXHRfY2hlY2tPZmZzZXQ6IGZ1bmN0aW9uKGluc3QsIG9mZnNldCwgaXNGaXhlZCkge1xuXHRcdHZhciBkcFdpZHRoID0gaW5zdC5kcERpdi5vdXRlcldpZHRoKCksXG5cdFx0XHRkcEhlaWdodCA9IGluc3QuZHBEaXYub3V0ZXJIZWlnaHQoKSxcblx0XHRcdGlucHV0V2lkdGggPSBpbnN0LmlucHV0ID8gaW5zdC5pbnB1dC5vdXRlcldpZHRoKCkgOiAwLFxuXHRcdFx0aW5wdXRIZWlnaHQgPSBpbnN0LmlucHV0ID8gaW5zdC5pbnB1dC5vdXRlckhlaWdodCgpIDogMCxcblx0XHRcdHZpZXdXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCArIChpc0ZpeGVkID8gMCA6ICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSksXG5cdFx0XHR2aWV3SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCArIChpc0ZpeGVkID8gMCA6ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTtcblxuXHRcdG9mZnNldC5sZWZ0IC09ICh0aGlzLl9nZXQoaW5zdCwgXCJpc1JUTFwiKSA/IChkcFdpZHRoIC0gaW5wdXRXaWR0aCkgOiAwKTtcblx0XHRvZmZzZXQubGVmdCAtPSAoaXNGaXhlZCAmJiBvZmZzZXQubGVmdCA9PT0gaW5zdC5pbnB1dC5vZmZzZXQoKS5sZWZ0KSA/ICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSA6IDA7XG5cdFx0b2Zmc2V0LnRvcCAtPSAoaXNGaXhlZCAmJiBvZmZzZXQudG9wID09PSAoaW5zdC5pbnB1dC5vZmZzZXQoKS50b3AgKyBpbnB1dEhlaWdodCkpID8gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgOiAwO1xuXG5cdFx0Ly8gbm93IGNoZWNrIGlmIGRhdGVwaWNrZXIgaXMgc2hvd2luZyBvdXRzaWRlIHdpbmRvdyB2aWV3cG9ydCAtIG1vdmUgdG8gYSBiZXR0ZXIgcGxhY2UgaWYgc28uXG5cdFx0b2Zmc2V0LmxlZnQgLT0gTWF0aC5taW4ob2Zmc2V0LmxlZnQsIChvZmZzZXQubGVmdCArIGRwV2lkdGggPiB2aWV3V2lkdGggJiYgdmlld1dpZHRoID4gZHBXaWR0aCkgP1xuXHRcdFx0TWF0aC5hYnMob2Zmc2V0LmxlZnQgKyBkcFdpZHRoIC0gdmlld1dpZHRoKSA6IDApO1xuXHRcdG9mZnNldC50b3AgLT0gTWF0aC5taW4ob2Zmc2V0LnRvcCwgKG9mZnNldC50b3AgKyBkcEhlaWdodCA+IHZpZXdIZWlnaHQgJiYgdmlld0hlaWdodCA+IGRwSGVpZ2h0KSA/XG5cdFx0XHRNYXRoLmFicyhkcEhlaWdodCArIGlucHV0SGVpZ2h0KSA6IDApO1xuXG5cdFx0cmV0dXJuIG9mZnNldDtcblx0fSxcblxuXHQvKiBGaW5kIGFuIG9iamVjdCdzIHBvc2l0aW9uIG9uIHRoZSBzY3JlZW4uICovXG5cdF9maW5kUG9zOiBmdW5jdGlvbihvYmopIHtcblx0XHR2YXIgcG9zaXRpb24sXG5cdFx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdChvYmopLFxuXHRcdFx0aXNSVEwgPSB0aGlzLl9nZXQoaW5zdCwgXCJpc1JUTFwiKTtcblxuXHRcdHdoaWxlIChvYmogJiYgKG9iai50eXBlID09PSBcImhpZGRlblwiIHx8IG9iai5ub2RlVHlwZSAhPT0gMSB8fCAkLmV4cHIuZmlsdGVycy5oaWRkZW4ob2JqKSkpIHtcblx0XHRcdG9iaiA9IG9ialtpc1JUTCA/IFwicHJldmlvdXNTaWJsaW5nXCIgOiBcIm5leHRTaWJsaW5nXCJdO1xuXHRcdH1cblxuXHRcdHBvc2l0aW9uID0gJChvYmopLm9mZnNldCgpO1xuXHRcdHJldHVybiBbcG9zaXRpb24ubGVmdCwgcG9zaXRpb24udG9wXTtcblx0fSxcblxuXHQvKiBIaWRlIHRoZSBkYXRlIHBpY2tlciBmcm9tIHZpZXcuXG5cdCAqIEBwYXJhbSAgaW5wdXQgIGVsZW1lbnQgLSB0aGUgaW5wdXQgZmllbGQgYXR0YWNoZWQgdG8gdGhlIGRhdGUgcGlja2VyXG5cdCAqL1xuXHRfaGlkZURhdGVwaWNrZXI6IGZ1bmN0aW9uKGlucHV0KSB7XG5cdFx0dmFyIHNob3dBbmltLCBkdXJhdGlvbiwgcG9zdFByb2Nlc3MsIG9uQ2xvc2UsXG5cdFx0XHRpbnN0ID0gdGhpcy5fY3VySW5zdDtcblxuXHRcdGlmICghaW5zdCB8fCAoaW5wdXQgJiYgaW5zdCAhPT0gJC5kYXRhKGlucHV0LCBcImRhdGVwaWNrZXJcIikpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nKSB7XG5cdFx0XHRzaG93QW5pbSA9IHRoaXMuX2dldChpbnN0LCBcInNob3dBbmltXCIpO1xuXHRcdFx0ZHVyYXRpb24gPSB0aGlzLl9nZXQoaW5zdCwgXCJkdXJhdGlvblwiKTtcblx0XHRcdHBvc3RQcm9jZXNzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQuZGF0ZXBpY2tlci5fdGlkeURpYWxvZyhpbnN0KTtcblx0XHRcdH07XG5cblx0XHRcdC8vIERFUFJFQ0FURUQ6IGFmdGVyIEJDIGZvciAxLjgueCAkLmVmZmVjdHNbIHNob3dBbmltIF0gaXMgbm90IG5lZWRlZFxuXHRcdFx0aWYgKCAkLmVmZmVjdHMgJiYgKCAkLmVmZmVjdHMuZWZmZWN0WyBzaG93QW5pbSBdIHx8ICQuZWZmZWN0c1sgc2hvd0FuaW0gXSApICkge1xuXHRcdFx0XHRpbnN0LmRwRGl2LmhpZGUoc2hvd0FuaW0sICQuZGF0ZXBpY2tlci5fZ2V0KGluc3QsIFwic2hvd09wdGlvbnNcIiksIGR1cmF0aW9uLCBwb3N0UHJvY2Vzcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbnN0LmRwRGl2WyhzaG93QW5pbSA9PT0gXCJzbGlkZURvd25cIiA/IFwic2xpZGVVcFwiIDpcblx0XHRcdFx0XHQoc2hvd0FuaW0gPT09IFwiZmFkZUluXCIgPyBcImZhZGVPdXRcIiA6IFwiaGlkZVwiKSldKChzaG93QW5pbSA/IGR1cmF0aW9uIDogbnVsbCksIHBvc3RQcm9jZXNzKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFzaG93QW5pbSkge1xuXHRcdFx0XHRwb3N0UHJvY2VzcygpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fZGF0ZXBpY2tlclNob3dpbmcgPSBmYWxzZTtcblxuXHRcdFx0b25DbG9zZSA9IHRoaXMuX2dldChpbnN0LCBcIm9uQ2xvc2VcIik7XG5cdFx0XHRpZiAob25DbG9zZSkge1xuXHRcdFx0XHRvbkNsb3NlLmFwcGx5KChpbnN0LmlucHV0ID8gaW5zdC5pbnB1dFswXSA6IG51bGwpLCBbKGluc3QuaW5wdXQgPyBpbnN0LmlucHV0LnZhbCgpIDogXCJcIiksIGluc3RdKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gbnVsbDtcblx0XHRcdGlmICh0aGlzLl9pbkRpYWxvZykge1xuXHRcdFx0XHR0aGlzLl9kaWFsb2dJbnB1dC5jc3MoeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCBsZWZ0OiBcIjBcIiwgdG9wOiBcIi0xMDBweFwiIH0pO1xuXHRcdFx0XHRpZiAoJC5ibG9ja1VJKSB7XG5cdFx0XHRcdFx0JC51bmJsb2NrVUkoKTtcblx0XHRcdFx0XHQkKFwiYm9keVwiKS5hcHBlbmQodGhpcy5kcERpdik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuX2luRGlhbG9nID0gZmFsc2U7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFRpZHkgdXAgYWZ0ZXIgYSBkaWFsb2cgZGlzcGxheS4gKi9cblx0X3RpZHlEaWFsb2c6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHRpbnN0LmRwRGl2LnJlbW92ZUNsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKS51bmJpbmQoXCIudWktZGF0ZXBpY2tlci1jYWxlbmRhclwiKTtcblx0fSxcblxuXHQvKiBDbG9zZSBkYXRlIHBpY2tlciBpZiBjbGlja2VkIGVsc2V3aGVyZS4gKi9cblx0X2NoZWNrRXh0ZXJuYWxDbGljazogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRpZiAoISQuZGF0ZXBpY2tlci5fY3VySW5zdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpLFxuXHRcdFx0aW5zdCA9ICQuZGF0ZXBpY2tlci5fZ2V0SW5zdCgkdGFyZ2V0WzBdKTtcblxuXHRcdGlmICggKCAoICR0YXJnZXRbMF0uaWQgIT09ICQuZGF0ZXBpY2tlci5fbWFpbkRpdklkICYmXG5cdFx0XHRcdCR0YXJnZXQucGFyZW50cyhcIiNcIiArICQuZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGggPT09IDAgJiZcblx0XHRcdFx0ISR0YXJnZXQuaGFzQ2xhc3MoJC5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkgJiZcblx0XHRcdFx0ISR0YXJnZXQuY2xvc2VzdChcIi5cIiArICQuZGF0ZXBpY2tlci5fdHJpZ2dlckNsYXNzKS5sZW5ndGggJiZcblx0XHRcdFx0JC5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyAmJiAhKCQuZGF0ZXBpY2tlci5faW5EaWFsb2cgJiYgJC5ibG9ja1VJKSApICkgfHxcblx0XHRcdCggJHRhcmdldC5oYXNDbGFzcygkLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKSAmJiAkLmRhdGVwaWNrZXIuX2N1ckluc3QgIT09IGluc3QgKSApIHtcblx0XHRcdFx0JC5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBBZGp1c3Qgb25lIG9mIHRoZSBkYXRlIHN1Yi1maWVsZHMuICovXG5cdF9hZGp1c3REYXRlOiBmdW5jdGlvbihpZCwgb2Zmc2V0LCBwZXJpb2QpIHtcblx0XHR2YXIgdGFyZ2V0ID0gJChpZCksXG5cdFx0XHRpbnN0ID0gdGhpcy5fZ2V0SW5zdCh0YXJnZXRbMF0pO1xuXG5cdFx0aWYgKHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKHRhcmdldFswXSkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fYWRqdXN0SW5zdERhdGUoaW5zdCwgb2Zmc2V0ICtcblx0XHRcdChwZXJpb2QgPT09IFwiTVwiID8gdGhpcy5fZ2V0KGluc3QsIFwic2hvd0N1cnJlbnRBdFBvc1wiKSA6IDApLCAvLyB1bmRvIHBvc2l0aW9uaW5nXG5cdFx0XHRwZXJpb2QpO1xuXHRcdHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaW5zdCk7XG5cdH0sXG5cblx0LyogQWN0aW9uIGZvciBjdXJyZW50IGxpbmsuICovXG5cdF9nb3RvVG9kYXk6IGZ1bmN0aW9uKGlkKSB7XG5cdFx0dmFyIGRhdGUsXG5cdFx0XHR0YXJnZXQgPSAkKGlkKSxcblx0XHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KHRhcmdldFswXSk7XG5cblx0XHRpZiAodGhpcy5fZ2V0KGluc3QsIFwiZ290b0N1cnJlbnRcIikgJiYgaW5zdC5jdXJyZW50RGF5KSB7XG5cdFx0XHRpbnN0LnNlbGVjdGVkRGF5ID0gaW5zdC5jdXJyZW50RGF5O1xuXHRcdFx0aW5zdC5kcmF3TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGggPSBpbnN0LmN1cnJlbnRNb250aDtcblx0XHRcdGluc3QuZHJhd1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhciA9IGluc3QuY3VycmVudFllYXI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0aW5zdC5zZWxlY3RlZERheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXHRcdFx0aW5zdC5kcmF3TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG5cdFx0XHRpbnN0LmRyYXdZZWFyID0gaW5zdC5zZWxlY3RlZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0fVxuXHRcdHRoaXMuX25vdGlmeUNoYW5nZShpbnN0KTtcblx0XHR0aGlzLl9hZGp1c3REYXRlKHRhcmdldCk7XG5cdH0sXG5cblx0LyogQWN0aW9uIGZvciBzZWxlY3RpbmcgYSBuZXcgbW9udGgveWVhci4gKi9cblx0X3NlbGVjdE1vbnRoWWVhcjogZnVuY3Rpb24oaWQsIHNlbGVjdCwgcGVyaW9kKSB7XG5cdFx0dmFyIHRhcmdldCA9ICQoaWQpLFxuXHRcdFx0aW5zdCA9IHRoaXMuX2dldEluc3QodGFyZ2V0WzBdKTtcblxuXHRcdGluc3RbXCJzZWxlY3RlZFwiICsgKHBlcmlvZCA9PT0gXCJNXCIgPyBcIk1vbnRoXCIgOiBcIlllYXJcIildID1cblx0XHRpbnN0W1wiZHJhd1wiICsgKHBlcmlvZCA9PT0gXCJNXCIgPyBcIk1vbnRoXCIgOiBcIlllYXJcIildID1cblx0XHRcdHBhcnNlSW50KHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS52YWx1ZSwxMCk7XG5cblx0XHR0aGlzLl9ub3RpZnlDaGFuZ2UoaW5zdCk7XG5cdFx0dGhpcy5fYWRqdXN0RGF0ZSh0YXJnZXQpO1xuXHR9LFxuXG5cdC8qIEFjdGlvbiBmb3Igc2VsZWN0aW5nIGEgZGF5LiAqL1xuXHRfc2VsZWN0RGF5OiBmdW5jdGlvbihpZCwgbW9udGgsIHllYXIsIHRkKSB7XG5cdFx0dmFyIGluc3QsXG5cdFx0XHR0YXJnZXQgPSAkKGlkKTtcblxuXHRcdGlmICgkKHRkKS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcykgfHwgdGhpcy5faXNEaXNhYmxlZERhdGVwaWNrZXIodGFyZ2V0WzBdKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KHRhcmdldFswXSk7XG5cdFx0aW5zdC5zZWxlY3RlZERheSA9IGluc3QuY3VycmVudERheSA9ICQoXCJhXCIsIHRkKS5odG1sKCk7XG5cdFx0aW5zdC5zZWxlY3RlZE1vbnRoID0gaW5zdC5jdXJyZW50TW9udGggPSBtb250aDtcblx0XHRpbnN0LnNlbGVjdGVkWWVhciA9IGluc3QuY3VycmVudFllYXIgPSB5ZWFyO1xuXHRcdHRoaXMuX3NlbGVjdERhdGUoaWQsIHRoaXMuX2Zvcm1hdERhdGUoaW5zdCxcblx0XHRcdGluc3QuY3VycmVudERheSwgaW5zdC5jdXJyZW50TW9udGgsIGluc3QuY3VycmVudFllYXIpKTtcblx0fSxcblxuXHQvKiBFcmFzZSB0aGUgaW5wdXQgZmllbGQgYW5kIGhpZGUgdGhlIGRhdGUgcGlja2VyLiAqL1xuXHRfY2xlYXJEYXRlOiBmdW5jdGlvbihpZCkge1xuXHRcdHZhciB0YXJnZXQgPSAkKGlkKTtcblx0XHR0aGlzLl9zZWxlY3REYXRlKHRhcmdldCwgXCJcIik7XG5cdH0sXG5cblx0LyogVXBkYXRlIHRoZSBpbnB1dCBmaWVsZCB3aXRoIHRoZSBzZWxlY3RlZCBkYXRlLiAqL1xuXHRfc2VsZWN0RGF0ZTogZnVuY3Rpb24oaWQsIGRhdGVTdHIpIHtcblx0XHR2YXIgb25TZWxlY3QsXG5cdFx0XHR0YXJnZXQgPSAkKGlkKSxcblx0XHRcdGluc3QgPSB0aGlzLl9nZXRJbnN0KHRhcmdldFswXSk7XG5cblx0XHRkYXRlU3RyID0gKGRhdGVTdHIgIT0gbnVsbCA/IGRhdGVTdHIgOiB0aGlzLl9mb3JtYXREYXRlKGluc3QpKTtcblx0XHRpZiAoaW5zdC5pbnB1dCkge1xuXHRcdFx0aW5zdC5pbnB1dC52YWwoZGF0ZVN0cik7XG5cdFx0fVxuXHRcdHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpbnN0KTtcblxuXHRcdG9uU2VsZWN0ID0gdGhpcy5fZ2V0KGluc3QsIFwib25TZWxlY3RcIik7XG5cdFx0aWYgKG9uU2VsZWN0KSB7XG5cdFx0XHRvblNlbGVjdC5hcHBseSgoaW5zdC5pbnB1dCA/IGluc3QuaW5wdXRbMF0gOiBudWxsKSwgW2RhdGVTdHIsIGluc3RdKTsgIC8vIHRyaWdnZXIgY3VzdG9tIGNhbGxiYWNrXG5cdFx0fSBlbHNlIGlmIChpbnN0LmlucHV0KSB7XG5cdFx0XHRpbnN0LmlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIik7IC8vIGZpcmUgdGhlIGNoYW5nZSBldmVudFxuXHRcdH1cblxuXHRcdGlmIChpbnN0LmlubGluZSl7XG5cdFx0XHR0aGlzLl91cGRhdGVEYXRlcGlja2VyKGluc3QpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9oaWRlRGF0ZXBpY2tlcigpO1xuXHRcdFx0dGhpcy5fbGFzdElucHV0ID0gaW5zdC5pbnB1dFswXTtcblx0XHRcdGlmICh0eXBlb2YoaW5zdC5pbnB1dFswXSkgIT09IFwib2JqZWN0XCIpIHtcblx0XHRcdFx0aW5zdC5pbnB1dC5mb2N1cygpOyAvLyByZXN0b3JlIGZvY3VzXG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xuXHRcdH1cblx0fSxcblxuXHQvKiBVcGRhdGUgYW55IGFsdGVybmF0ZSBmaWVsZCB0byBzeW5jaHJvbmlzZSB3aXRoIHRoZSBtYWluIGZpZWxkLiAqL1xuXHRfdXBkYXRlQWx0ZXJuYXRlOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0dmFyIGFsdEZvcm1hdCwgZGF0ZSwgZGF0ZVN0cixcblx0XHRcdGFsdEZpZWxkID0gdGhpcy5fZ2V0KGluc3QsIFwiYWx0RmllbGRcIik7XG5cblx0XHRpZiAoYWx0RmllbGQpIHsgLy8gdXBkYXRlIGFsdGVybmF0ZSBmaWVsZCB0b29cblx0XHRcdGFsdEZvcm1hdCA9IHRoaXMuX2dldChpbnN0LCBcImFsdEZvcm1hdFwiKSB8fCB0aGlzLl9nZXQoaW5zdCwgXCJkYXRlRm9ybWF0XCIpO1xuXHRcdFx0ZGF0ZSA9IHRoaXMuX2dldERhdGUoaW5zdCk7XG5cdFx0XHRkYXRlU3RyID0gdGhpcy5mb3JtYXREYXRlKGFsdEZvcm1hdCwgZGF0ZSwgdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGluc3QpKTtcblx0XHRcdCQoYWx0RmllbGQpLmVhY2goZnVuY3Rpb24oKSB7ICQodGhpcykudmFsKGRhdGVTdHIpOyB9KTtcblx0XHR9XG5cdH0sXG5cblx0LyogU2V0IGFzIGJlZm9yZVNob3dEYXkgZnVuY3Rpb24gdG8gcHJldmVudCBzZWxlY3Rpb24gb2Ygd2Vla2VuZHMuXG5cdCAqIEBwYXJhbSAgZGF0ZSAgRGF0ZSAtIHRoZSBkYXRlIHRvIGN1c3RvbWlzZVxuXHQgKiBAcmV0dXJuIFtib29sZWFuLCBzdHJpbmddIC0gaXMgdGhpcyBkYXRlIHNlbGVjdGFibGU/LCB3aGF0IGlzIGl0cyBDU1MgY2xhc3M/XG5cdCAqL1xuXHRub1dlZWtlbmRzOiBmdW5jdGlvbihkYXRlKSB7XG5cdFx0dmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7XG5cdFx0cmV0dXJuIFsoZGF5ID4gMCAmJiBkYXkgPCA2KSwgXCJcIl07XG5cdH0sXG5cblx0LyogU2V0IGFzIGNhbGN1bGF0ZVdlZWsgdG8gZGV0ZXJtaW5lIHRoZSB3ZWVrIG9mIHRoZSB5ZWFyIGJhc2VkIG9uIHRoZSBJU08gODYwMSBkZWZpbml0aW9uLlxuXHQgKiBAcGFyYW0gIGRhdGUgIERhdGUgLSB0aGUgZGF0ZSB0byBnZXQgdGhlIHdlZWsgZm9yXG5cdCAqIEByZXR1cm4gIG51bWJlciAtIHRoZSBudW1iZXIgb2YgdGhlIHdlZWsgd2l0aGluIHRoZSB5ZWFyIHRoYXQgY29udGFpbnMgdGhpcyBkYXRlXG5cdCAqL1xuXHRpc284NjAxV2VlazogZnVuY3Rpb24oZGF0ZSkge1xuXHRcdHZhciB0aW1lLFxuXHRcdFx0Y2hlY2tEYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuXG5cdFx0Ly8gRmluZCBUaHVyc2RheSBvZiB0aGlzIHdlZWsgc3RhcnRpbmcgb24gTW9uZGF5XG5cdFx0Y2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTtcblxuXHRcdHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuXHRcdGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG5cdFx0Y2hlY2tEYXRlLnNldERhdGUoMSk7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG5cdH0sXG5cblx0LyogUGFyc2UgYSBzdHJpbmcgdmFsdWUgaW50byBhIGRhdGUgb2JqZWN0LlxuXHQgKiBTZWUgZm9ybWF0RGF0ZSBiZWxvdyBmb3IgdGhlIHBvc3NpYmxlIGZvcm1hdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSAgZm9ybWF0IHN0cmluZyAtIHRoZSBleHBlY3RlZCBmb3JtYXQgb2YgdGhlIGRhdGVcblx0ICogQHBhcmFtICB2YWx1ZSBzdHJpbmcgLSB0aGUgZGF0ZSBpbiB0aGUgYWJvdmUgZm9ybWF0XG5cdCAqIEBwYXJhbSAgc2V0dGluZ3MgT2JqZWN0IC0gYXR0cmlidXRlcyBpbmNsdWRlOlxuXHQgKlx0XHRcdFx0XHRzaG9ydFllYXJDdXRvZmYgIG51bWJlciAtIHRoZSBjdXRvZmYgeWVhciBmb3IgZGV0ZXJtaW5pbmcgdGhlIGNlbnR1cnkgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRkYXlOYW1lc1Nob3J0XHRzdHJpbmdbN10gLSBhYmJyZXZpYXRlZCBuYW1lcyBvZiB0aGUgZGF5cyBmcm9tIFN1bmRheSAob3B0aW9uYWwpXG5cdCAqXHRcdFx0XHRcdGRheU5hbWVzXHRcdHN0cmluZ1s3XSAtIG5hbWVzIG9mIHRoZSBkYXlzIGZyb20gU3VuZGF5IChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0bW9udGhOYW1lc1Nob3J0IHN0cmluZ1sxMl0gLSBhYmJyZXZpYXRlZCBuYW1lcyBvZiB0aGUgbW9udGhzIChvcHRpb25hbClcblx0ICpcdFx0XHRcdFx0bW9udGhOYW1lc1x0XHRzdHJpbmdbMTJdIC0gbmFtZXMgb2YgdGhlIG1vbnRocyAob3B0aW9uYWwpXG5cdCAqIEByZXR1cm4gIERhdGUgLSB0aGUgZXh0cmFjdGVkIGRhdGUgdmFsdWUgb3IgbnVsbCBpZiB2YWx1ZSBpcyBibGFua1xuXHQgKi9cblx0cGFyc2VEYXRlOiBmdW5jdGlvbiAoZm9ybWF0LCB2YWx1ZSwgc2V0dGluZ3MpIHtcblx0XHRpZiAoZm9ybWF0ID09IG51bGwgfHwgdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgXCJJbnZhbGlkIGFyZ3VtZW50c1wiO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiA/IHZhbHVlLnRvU3RyaW5nKCkgOiB2YWx1ZSArIFwiXCIpO1xuXHRcdGlmICh2YWx1ZSA9PT0gXCJcIikge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0dmFyIGlGb3JtYXQsIGRpbSwgZXh0cmEsXG5cdFx0XHRpVmFsdWUgPSAwLFxuXHRcdFx0c2hvcnRZZWFyQ3V0b2ZmVGVtcCA9IChzZXR0aW5ncyA/IHNldHRpbmdzLnNob3J0WWVhckN1dG9mZiA6IG51bGwpIHx8IHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixcblx0XHRcdHNob3J0WWVhckN1dG9mZiA9ICh0eXBlb2Ygc2hvcnRZZWFyQ3V0b2ZmVGVtcCAhPT0gXCJzdHJpbmdcIiA/IHNob3J0WWVhckN1dG9mZlRlbXAgOlxuXHRcdFx0XHRuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgJSAxMDAgKyBwYXJzZUludChzaG9ydFllYXJDdXRvZmZUZW1wLCAxMCkpLFxuXHRcdFx0ZGF5TmFtZXNTaG9ydCA9IChzZXR0aW5ncyA/IHNldHRpbmdzLmRheU5hbWVzU2hvcnQgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LFxuXHRcdFx0ZGF5TmFtZXMgPSAoc2V0dGluZ3MgPyBzZXR0aW5ncy5kYXlOYW1lcyA6IG51bGwpIHx8IHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLFxuXHRcdFx0bW9udGhOYW1lc1Nob3J0ID0gKHNldHRpbmdzID8gc2V0dGluZ3MubW9udGhOYW1lc1Nob3J0IDogbnVsbCkgfHwgdGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LFxuXHRcdFx0bW9udGhOYW1lcyA9IChzZXR0aW5ncyA/IHNldHRpbmdzLm1vbnRoTmFtZXMgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLFxuXHRcdFx0eWVhciA9IC0xLFxuXHRcdFx0bW9udGggPSAtMSxcblx0XHRcdGRheSA9IC0xLFxuXHRcdFx0ZG95ID0gLTEsXG5cdFx0XHRsaXRlcmFsID0gZmFsc2UsXG5cdFx0XHRkYXRlLFxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciBhIGZvcm1hdCBjaGFyYWN0ZXIgaXMgZG91YmxlZFxuXHRcdFx0bG9va0FoZWFkID0gZnVuY3Rpb24obWF0Y2gpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSAoaUZvcm1hdCArIDEgPCBmb3JtYXQubGVuZ3RoICYmIGZvcm1hdC5jaGFyQXQoaUZvcm1hdCArIDEpID09PSBtYXRjaCk7XG5cdFx0XHRcdGlmIChtYXRjaGVzKSB7XG5cdFx0XHRcdFx0aUZvcm1hdCsrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaGVzO1xuXHRcdFx0fSxcblx0XHRcdC8vIEV4dHJhY3QgYSBudW1iZXIgZnJvbSB0aGUgc3RyaW5nIHZhbHVlXG5cdFx0XHRnZXROdW1iZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuXHRcdFx0XHR2YXIgaXNEb3VibGVkID0gbG9va0FoZWFkKG1hdGNoKSxcblx0XHRcdFx0XHRzaXplID0gKG1hdGNoID09PSBcIkBcIiA/IDE0IDogKG1hdGNoID09PSBcIiFcIiA/IDIwIDpcblx0XHRcdFx0XHQobWF0Y2ggPT09IFwieVwiICYmIGlzRG91YmxlZCA/IDQgOiAobWF0Y2ggPT09IFwib1wiID8gMyA6IDIpKSkpLFxuXHRcdFx0XHRcdG1pblNpemUgPSAobWF0Y2ggPT09IFwieVwiID8gc2l6ZSA6IDEpLFxuXHRcdFx0XHRcdGRpZ2l0cyA9IG5ldyBSZWdFeHAoXCJeXFxcXGR7XCIgKyBtaW5TaXplICsgXCIsXCIgKyBzaXplICsgXCJ9XCIpLFxuXHRcdFx0XHRcdG51bSA9IHZhbHVlLnN1YnN0cmluZyhpVmFsdWUpLm1hdGNoKGRpZ2l0cyk7XG5cdFx0XHRcdGlmICghbnVtKSB7XG5cdFx0XHRcdFx0dGhyb3cgXCJNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiBcIiArIGlWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpVmFsdWUgKz0gbnVtWzBdLmxlbmd0aDtcblx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KG51bVswXSwgMTApO1xuXHRcdFx0fSxcblx0XHRcdC8vIEV4dHJhY3QgYSBuYW1lIGZyb20gdGhlIHN0cmluZyB2YWx1ZSBhbmQgY29udmVydCB0byBhbiBpbmRleFxuXHRcdFx0Z2V0TmFtZSA9IGZ1bmN0aW9uKG1hdGNoLCBzaG9ydE5hbWVzLCBsb25nTmFtZXMpIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gLTEsXG5cdFx0XHRcdFx0bmFtZXMgPSAkLm1hcChsb29rQWhlYWQobWF0Y2gpID8gbG9uZ05hbWVzIDogc2hvcnROYW1lcywgZnVuY3Rpb24gKHYsIGspIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIFtrLCB2XSBdO1xuXHRcdFx0XHRcdH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdFx0XHRcdHJldHVybiAtKGFbMV0ubGVuZ3RoIC0gYlsxXS5sZW5ndGgpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdCQuZWFjaChuYW1lcywgZnVuY3Rpb24gKGksIHBhaXIpIHtcblx0XHRcdFx0XHR2YXIgbmFtZSA9IHBhaXJbMV07XG5cdFx0XHRcdFx0aWYgKHZhbHVlLnN1YnN0cihpVmFsdWUsIG5hbWUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdFx0XHRcdGluZGV4ID0gcGFpclswXTtcblx0XHRcdFx0XHRcdGlWYWx1ZSArPSBuYW1lLmxlbmd0aDtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGluZGV4ICsgMTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBcIlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiBcIiArIGlWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdC8vIENvbmZpcm0gdGhhdCBhIGxpdGVyYWwgY2hhcmFjdGVyIG1hdGNoZXMgdGhlIHN0cmluZyB2YWx1ZVxuXHRcdFx0Y2hlY2tMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICh2YWx1ZS5jaGFyQXQoaVZhbHVlKSAhPT0gZm9ybWF0LmNoYXJBdChpRm9ybWF0KSkge1xuXHRcdFx0XHRcdHRocm93IFwiVW5leHBlY3RlZCBsaXRlcmFsIGF0IHBvc2l0aW9uIFwiICsgaVZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlWYWx1ZSsrO1xuXHRcdFx0fTtcblxuXHRcdGZvciAoaUZvcm1hdCA9IDA7IGlGb3JtYXQgPCBmb3JtYXQubGVuZ3RoOyBpRm9ybWF0KyspIHtcblx0XHRcdGlmIChsaXRlcmFsKSB7XG5cdFx0XHRcdGlmIChmb3JtYXQuY2hhckF0KGlGb3JtYXQpID09PSBcIidcIiAmJiAhbG9va0FoZWFkKFwiJ1wiKSkge1xuXHRcdFx0XHRcdGxpdGVyYWwgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjaGVja0xpdGVyYWwoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3dpdGNoIChmb3JtYXQuY2hhckF0KGlGb3JtYXQpKSB7XG5cdFx0XHRcdFx0Y2FzZSBcImRcIjpcblx0XHRcdFx0XHRcdGRheSA9IGdldE51bWJlcihcImRcIik7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiRFwiOlxuXHRcdFx0XHRcdFx0Z2V0TmFtZShcIkRcIiwgZGF5TmFtZXNTaG9ydCwgZGF5TmFtZXMpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIm9cIjpcblx0XHRcdFx0XHRcdGRveSA9IGdldE51bWJlcihcIm9cIik7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwibVwiOlxuXHRcdFx0XHRcdFx0bW9udGggPSBnZXROdW1iZXIoXCJtXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIk1cIjpcblx0XHRcdFx0XHRcdG1vbnRoID0gZ2V0TmFtZShcIk1cIiwgbW9udGhOYW1lc1Nob3J0LCBtb250aE5hbWVzKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJ5XCI6XG5cdFx0XHRcdFx0XHR5ZWFyID0gZ2V0TnVtYmVyKFwieVwiKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJAXCI6XG5cdFx0XHRcdFx0XHRkYXRlID0gbmV3IERhdGUoZ2V0TnVtYmVyKFwiQFwiKSk7XG5cdFx0XHRcdFx0XHR5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0XHRcdFx0bW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuXHRcdFx0XHRcdFx0ZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiIVwiOlxuXHRcdFx0XHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKChnZXROdW1iZXIoXCIhXCIpIC0gdGhpcy5fdGlja3NUbzE5NzApIC8gMTAwMDApO1xuXHRcdFx0XHRcdFx0eWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdFx0XHRcdG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcblx0XHRcdFx0XHRcdGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBcIidcIjpcblx0XHRcdFx0XHRcdGlmIChsb29rQWhlYWQoXCInXCIpKXtcblx0XHRcdFx0XHRcdFx0Y2hlY2tMaXRlcmFsKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRsaXRlcmFsID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjaGVja0xpdGVyYWwoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChpVmFsdWUgPCB2YWx1ZS5sZW5ndGgpe1xuXHRcdFx0ZXh0cmEgPSB2YWx1ZS5zdWJzdHIoaVZhbHVlKTtcblx0XHRcdGlmICghL15cXHMrLy50ZXN0KGV4dHJhKSkge1xuXHRcdFx0XHR0aHJvdyBcIkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogXCIgKyBleHRyYTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoeWVhciA9PT0gLTEpIHtcblx0XHRcdHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0fSBlbHNlIGlmICh5ZWFyIDwgMTAwKSB7XG5cdFx0XHR5ZWFyICs9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAlIDEwMCArXG5cdFx0XHRcdCh5ZWFyIDw9IHNob3J0WWVhckN1dG9mZiA/IDAgOiAtMTAwKTtcblx0XHR9XG5cblx0XHRpZiAoZG95ID4gLTEpIHtcblx0XHRcdG1vbnRoID0gMTtcblx0XHRcdGRheSA9IGRveTtcblx0XHRcdGRvIHtcblx0XHRcdFx0ZGltID0gdGhpcy5fZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGggLSAxKTtcblx0XHRcdFx0aWYgKGRheSA8PSBkaW0pIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRtb250aCsrO1xuXHRcdFx0XHRkYXkgLT0gZGltO1xuXHRcdFx0fSB3aGlsZSAodHJ1ZSk7XG5cdFx0fVxuXG5cdFx0ZGF0ZSA9IHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5KSk7XG5cdFx0aWYgKGRhdGUuZ2V0RnVsbFllYXIoKSAhPT0geWVhciB8fCBkYXRlLmdldE1vbnRoKCkgKyAxICE9PSBtb250aCB8fCBkYXRlLmdldERhdGUoKSAhPT0gZGF5KSB7XG5cdFx0XHR0aHJvdyBcIkludmFsaWQgZGF0ZVwiOyAvLyBFLmcuIDMxLzAyLzAwXG5cdFx0fVxuXHRcdHJldHVybiBkYXRlO1xuXHR9LFxuXG5cdC8qIFN0YW5kYXJkIGRhdGUgZm9ybWF0cy4gKi9cblx0QVRPTTogXCJ5eS1tbS1kZFwiLCAvLyBSRkMgMzMzOSAoSVNPIDg2MDEpXG5cdENPT0tJRTogXCJELCBkZCBNIHl5XCIsXG5cdElTT184NjAxOiBcInl5LW1tLWRkXCIsXG5cdFJGQ184MjI6IFwiRCwgZCBNIHlcIixcblx0UkZDXzg1MDogXCJERCwgZGQtTS15XCIsXG5cdFJGQ18xMDM2OiBcIkQsIGQgTSB5XCIsXG5cdFJGQ18xMTIzOiBcIkQsIGQgTSB5eVwiLFxuXHRSRkNfMjgyMjogXCJELCBkIE0geXlcIixcblx0UlNTOiBcIkQsIGQgTSB5XCIsIC8vIFJGQyA4MjJcblx0VElDS1M6IFwiIVwiLFxuXHRUSU1FU1RBTVA6IFwiQFwiLFxuXHRXM0M6IFwieXktbW0tZGRcIiwgLy8gSVNPIDg2MDFcblxuXHRfdGlja3NUbzE5NzA6ICgoKDE5NzAgLSAxKSAqIDM2NSArIE1hdGguZmxvb3IoMTk3MCAvIDQpIC0gTWF0aC5mbG9vcigxOTcwIC8gMTAwKSArXG5cdFx0TWF0aC5mbG9vcigxOTcwIC8gNDAwKSkgKiAyNCAqIDYwICogNjAgKiAxMDAwMDAwMCksXG5cblx0LyogRm9ybWF0IGEgZGF0ZSBvYmplY3QgaW50byBhIHN0cmluZyB2YWx1ZS5cblx0ICogVGhlIGZvcm1hdCBjYW4gYmUgY29tYmluYXRpb25zIG9mIHRoZSBmb2xsb3dpbmc6XG5cdCAqIGQgIC0gZGF5IG9mIG1vbnRoIChubyBsZWFkaW5nIHplcm8pXG5cdCAqIGRkIC0gZGF5IG9mIG1vbnRoICh0d28gZGlnaXQpXG5cdCAqIG8gIC0gZGF5IG9mIHllYXIgKG5vIGxlYWRpbmcgemVyb3MpXG5cdCAqIG9vIC0gZGF5IG9mIHllYXIgKHRocmVlIGRpZ2l0KVxuXHQgKiBEICAtIGRheSBuYW1lIHNob3J0XG5cdCAqIEREIC0gZGF5IG5hbWUgbG9uZ1xuXHQgKiBtICAtIG1vbnRoIG9mIHllYXIgKG5vIGxlYWRpbmcgemVybylcblx0ICogbW0gLSBtb250aCBvZiB5ZWFyICh0d28gZGlnaXQpXG5cdCAqIE0gIC0gbW9udGggbmFtZSBzaG9ydFxuXHQgKiBNTSAtIG1vbnRoIG5hbWUgbG9uZ1xuXHQgKiB5ICAtIHllYXIgKHR3byBkaWdpdClcblx0ICogeXkgLSB5ZWFyIChmb3VyIGRpZ2l0KVxuXHQgKiBAIC0gVW5peCB0aW1lc3RhbXAgKG1zIHNpbmNlIDAxLzAxLzE5NzApXG5cdCAqICEgLSBXaW5kb3dzIHRpY2tzICgxMDBucyBzaW5jZSAwMS8wMS8wMDAxKVxuXHQgKiBcIi4uLlwiIC0gbGl0ZXJhbCB0ZXh0XG5cdCAqICcnIC0gc2luZ2xlIHF1b3RlXG5cdCAqXG5cdCAqIEBwYXJhbSAgZm9ybWF0IHN0cmluZyAtIHRoZSBkZXNpcmVkIGZvcm1hdCBvZiB0aGUgZGF0ZVxuXHQgKiBAcGFyYW0gIGRhdGUgRGF0ZSAtIHRoZSBkYXRlIHZhbHVlIHRvIGZvcm1hdFxuXHQgKiBAcGFyYW0gIHNldHRpbmdzIE9iamVjdCAtIGF0dHJpYnV0ZXMgaW5jbHVkZTpcblx0ICpcdFx0XHRcdFx0ZGF5TmFtZXNTaG9ydFx0c3RyaW5nWzddIC0gYWJicmV2aWF0ZWQgbmFtZXMgb2YgdGhlIGRheXMgZnJvbSBTdW5kYXkgKG9wdGlvbmFsKVxuXHQgKlx0XHRcdFx0XHRkYXlOYW1lc1x0XHRzdHJpbmdbN10gLSBuYW1lcyBvZiB0aGUgZGF5cyBmcm9tIFN1bmRheSAob3B0aW9uYWwpXG5cdCAqXHRcdFx0XHRcdG1vbnRoTmFtZXNTaG9ydCBzdHJpbmdbMTJdIC0gYWJicmV2aWF0ZWQgbmFtZXMgb2YgdGhlIG1vbnRocyAob3B0aW9uYWwpXG5cdCAqXHRcdFx0XHRcdG1vbnRoTmFtZXNcdFx0c3RyaW5nWzEyXSAtIG5hbWVzIG9mIHRoZSBtb250aHMgKG9wdGlvbmFsKVxuXHQgKiBAcmV0dXJuICBzdHJpbmcgLSB0aGUgZGF0ZSBpbiB0aGUgYWJvdmUgZm9ybWF0XG5cdCAqL1xuXHRmb3JtYXREYXRlOiBmdW5jdGlvbiAoZm9ybWF0LCBkYXRlLCBzZXR0aW5ncykge1xuXHRcdGlmICghZGF0ZSkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGlGb3JtYXQsXG5cdFx0XHRkYXlOYW1lc1Nob3J0ID0gKHNldHRpbmdzID8gc2V0dGluZ3MuZGF5TmFtZXNTaG9ydCA6IG51bGwpIHx8IHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsXG5cdFx0XHRkYXlOYW1lcyA9IChzZXR0aW5ncyA/IHNldHRpbmdzLmRheU5hbWVzIDogbnVsbCkgfHwgdGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsXG5cdFx0XHRtb250aE5hbWVzU2hvcnQgPSAoc2V0dGluZ3MgPyBzZXR0aW5ncy5tb250aE5hbWVzU2hvcnQgOiBudWxsKSB8fCB0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQsXG5cdFx0XHRtb250aE5hbWVzID0gKHNldHRpbmdzID8gc2V0dGluZ3MubW9udGhOYW1lcyA6IG51bGwpIHx8IHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsXG5cdFx0XHQvLyBDaGVjayB3aGV0aGVyIGEgZm9ybWF0IGNoYXJhY3RlciBpcyBkb3VibGVkXG5cdFx0XHRsb29rQWhlYWQgPSBmdW5jdGlvbihtYXRjaCkge1xuXHRcdFx0XHR2YXIgbWF0Y2hlcyA9IChpRm9ybWF0ICsgMSA8IGZvcm1hdC5sZW5ndGggJiYgZm9ybWF0LmNoYXJBdChpRm9ybWF0ICsgMSkgPT09IG1hdGNoKTtcblx0XHRcdFx0aWYgKG1hdGNoZXMpIHtcblx0XHRcdFx0XHRpRm9ybWF0Kys7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoZXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gRm9ybWF0IGEgbnVtYmVyLCB3aXRoIGxlYWRpbmcgemVybyBpZiBuZWNlc3Nhcnlcblx0XHRcdGZvcm1hdE51bWJlciA9IGZ1bmN0aW9uKG1hdGNoLCB2YWx1ZSwgbGVuKSB7XG5cdFx0XHRcdHZhciBudW0gPSBcIlwiICsgdmFsdWU7XG5cdFx0XHRcdGlmIChsb29rQWhlYWQobWF0Y2gpKSB7XG5cdFx0XHRcdFx0d2hpbGUgKG51bS5sZW5ndGggPCBsZW4pIHtcblx0XHRcdFx0XHRcdG51bSA9IFwiMFwiICsgbnVtO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbnVtO1xuXHRcdFx0fSxcblx0XHRcdC8vIEZvcm1hdCBhIG5hbWUsIHNob3J0IG9yIGxvbmcgYXMgcmVxdWVzdGVkXG5cdFx0XHRmb3JtYXROYW1lID0gZnVuY3Rpb24obWF0Y2gsIHZhbHVlLCBzaG9ydE5hbWVzLCBsb25nTmFtZXMpIHtcblx0XHRcdFx0cmV0dXJuIChsb29rQWhlYWQobWF0Y2gpID8gbG9uZ05hbWVzW3ZhbHVlXSA6IHNob3J0TmFtZXNbdmFsdWVdKTtcblx0XHRcdH0sXG5cdFx0XHRvdXRwdXQgPSBcIlwiLFxuXHRcdFx0bGl0ZXJhbCA9IGZhbHNlO1xuXG5cdFx0aWYgKGRhdGUpIHtcblx0XHRcdGZvciAoaUZvcm1hdCA9IDA7IGlGb3JtYXQgPCBmb3JtYXQubGVuZ3RoOyBpRm9ybWF0KyspIHtcblx0XHRcdFx0aWYgKGxpdGVyYWwpIHtcblx0XHRcdFx0XHRpZiAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSA9PT0gXCInXCIgJiYgIWxvb2tBaGVhZChcIidcIikpIHtcblx0XHRcdFx0XHRcdGxpdGVyYWwgPSBmYWxzZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdC5jaGFyQXQoaUZvcm1hdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN3aXRjaCAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSkge1xuXHRcdFx0XHRcdFx0Y2FzZSBcImRcIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdE51bWJlcihcImRcIiwgZGF0ZS5nZXREYXRlKCksIDIpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJEXCI6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXROYW1lKFwiRFwiLCBkYXRlLmdldERheSgpLCBkYXlOYW1lc1Nob3J0LCBkYXlOYW1lcyk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIm9cIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdE51bWJlcihcIm9cIixcblx0XHRcdFx0XHRcdFx0XHRNYXRoLnJvdW5kKChuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMCkuZ2V0VGltZSgpKSAvIDg2NDAwMDAwKSwgMyk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIm1cIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdE51bWJlcihcIm1cIiwgZGF0ZS5nZXRNb250aCgpICsgMSwgMik7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIk1cIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGZvcm1hdE5hbWUoXCJNXCIsIGRhdGUuZ2V0TW9udGgoKSwgbW9udGhOYW1lc1Nob3J0LCBtb250aE5hbWVzKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwieVwiOlxuXHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gKGxvb2tBaGVhZChcInlcIikgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOlxuXHRcdFx0XHRcdFx0XHRcdChkYXRlLmdldFllYXIoKSAlIDEwMCA8IDEwID8gXCIwXCIgOiBcIlwiKSArIGRhdGUuZ2V0WWVhcigpICUgMTAwKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiQFwiOlxuXHRcdFx0XHRcdFx0XHRvdXRwdXQgKz0gZGF0ZS5nZXRUaW1lKCk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSBcIiFcIjpcblx0XHRcdFx0XHRcdFx0b3V0cHV0ICs9IGRhdGUuZ2V0VGltZSgpICogMTAwMDAgKyB0aGlzLl90aWNrc1RvMTk3MDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwiJ1wiOlxuXHRcdFx0XHRcdFx0XHRpZiAobG9va0FoZWFkKFwiJ1wiKSkge1xuXHRcdFx0XHRcdFx0XHRcdG91dHB1dCArPSBcIidcIjtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRsaXRlcmFsID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdG91dHB1dCArPSBmb3JtYXQuY2hhckF0KGlGb3JtYXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9LFxuXG5cdC8qIEV4dHJhY3QgYWxsIHBvc3NpYmxlIGNoYXJhY3RlcnMgZnJvbSB0aGUgZGF0ZSBmb3JtYXQuICovXG5cdF9wb3NzaWJsZUNoYXJzOiBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdFx0dmFyIGlGb3JtYXQsXG5cdFx0XHRjaGFycyA9IFwiXCIsXG5cdFx0XHRsaXRlcmFsID0gZmFsc2UsXG5cdFx0XHQvLyBDaGVjayB3aGV0aGVyIGEgZm9ybWF0IGNoYXJhY3RlciBpcyBkb3VibGVkXG5cdFx0XHRsb29rQWhlYWQgPSBmdW5jdGlvbihtYXRjaCkge1xuXHRcdFx0XHR2YXIgbWF0Y2hlcyA9IChpRm9ybWF0ICsgMSA8IGZvcm1hdC5sZW5ndGggJiYgZm9ybWF0LmNoYXJBdChpRm9ybWF0ICsgMSkgPT09IG1hdGNoKTtcblx0XHRcdFx0aWYgKG1hdGNoZXMpIHtcblx0XHRcdFx0XHRpRm9ybWF0Kys7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoZXM7XG5cdFx0XHR9O1xuXG5cdFx0Zm9yIChpRm9ybWF0ID0gMDsgaUZvcm1hdCA8IGZvcm1hdC5sZW5ndGg7IGlGb3JtYXQrKykge1xuXHRcdFx0aWYgKGxpdGVyYWwpIHtcblx0XHRcdFx0aWYgKGZvcm1hdC5jaGFyQXQoaUZvcm1hdCkgPT09IFwiJ1wiICYmICFsb29rQWhlYWQoXCInXCIpKSB7XG5cdFx0XHRcdFx0bGl0ZXJhbCA9IGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNoYXJzICs9IGZvcm1hdC5jaGFyQXQoaUZvcm1hdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN3aXRjaCAoZm9ybWF0LmNoYXJBdChpRm9ybWF0KSkge1xuXHRcdFx0XHRcdGNhc2UgXCJkXCI6IGNhc2UgXCJtXCI6IGNhc2UgXCJ5XCI6IGNhc2UgXCJAXCI6XG5cdFx0XHRcdFx0XHRjaGFycyArPSBcIjAxMjM0NTY3ODlcIjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJEXCI6IGNhc2UgXCJNXCI6XG5cdFx0XHRcdFx0XHRyZXR1cm4gbnVsbDsgLy8gQWNjZXB0IGFueXRoaW5nXG5cdFx0XHRcdFx0Y2FzZSBcIidcIjpcblx0XHRcdFx0XHRcdGlmIChsb29rQWhlYWQoXCInXCIpKSB7XG5cdFx0XHRcdFx0XHRcdGNoYXJzICs9IFwiJ1wiO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bGl0ZXJhbCA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0Y2hhcnMgKz0gZm9ybWF0LmNoYXJBdChpRm9ybWF0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2hhcnM7XG5cdH0sXG5cblx0LyogR2V0IGEgc2V0dGluZyB2YWx1ZSwgZGVmYXVsdGluZyBpZiBuZWNlc3NhcnkuICovXG5cdF9nZXQ6IGZ1bmN0aW9uKGluc3QsIG5hbWUpIHtcblx0XHRyZXR1cm4gaW5zdC5zZXR0aW5nc1tuYW1lXSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdGluc3Quc2V0dGluZ3NbbmFtZV0gOiB0aGlzLl9kZWZhdWx0c1tuYW1lXTtcblx0fSxcblxuXHQvKiBQYXJzZSBleGlzdGluZyBkYXRlIGFuZCBpbml0aWFsaXNlIGRhdGUgcGlja2VyLiAqL1xuXHRfc2V0RGF0ZUZyb21GaWVsZDogZnVuY3Rpb24oaW5zdCwgbm9EZWZhdWx0KSB7XG5cdFx0aWYgKGluc3QuaW5wdXQudmFsKCkgPT09IGluc3QubGFzdFZhbCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBkYXRlRm9ybWF0ID0gdGhpcy5fZ2V0KGluc3QsIFwiZGF0ZUZvcm1hdFwiKSxcblx0XHRcdGRhdGVzID0gaW5zdC5sYXN0VmFsID0gaW5zdC5pbnB1dCA/IGluc3QuaW5wdXQudmFsKCkgOiBudWxsLFxuXHRcdFx0ZGVmYXVsdERhdGUgPSB0aGlzLl9nZXREZWZhdWx0RGF0ZShpbnN0KSxcblx0XHRcdGRhdGUgPSBkZWZhdWx0RGF0ZSxcblx0XHRcdHNldHRpbmdzID0gdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGluc3QpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGRhdGUgPSB0aGlzLnBhcnNlRGF0ZShkYXRlRm9ybWF0LCBkYXRlcywgc2V0dGluZ3MpIHx8IGRlZmF1bHREYXRlO1xuXHRcdH0gY2F0Y2ggKGV2ZW50KSB7XG5cdFx0XHRkYXRlcyA9IChub0RlZmF1bHQgPyBcIlwiIDogZGF0ZXMpO1xuXHRcdH1cblx0XHRpbnN0LnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7XG5cdFx0aW5zdC5kcmF3TW9udGggPSBpbnN0LnNlbGVjdGVkTW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG5cdFx0aW5zdC5kcmF3WWVhciA9IGluc3Quc2VsZWN0ZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdGluc3QuY3VycmVudERheSA9IChkYXRlcyA/IGRhdGUuZ2V0RGF0ZSgpIDogMCk7XG5cdFx0aW5zdC5jdXJyZW50TW9udGggPSAoZGF0ZXMgPyBkYXRlLmdldE1vbnRoKCkgOiAwKTtcblx0XHRpbnN0LmN1cnJlbnRZZWFyID0gKGRhdGVzID8gZGF0ZS5nZXRGdWxsWWVhcigpIDogMCk7XG5cdFx0dGhpcy5fYWRqdXN0SW5zdERhdGUoaW5zdCk7XG5cdH0sXG5cblx0LyogUmV0cmlldmUgdGhlIGRlZmF1bHQgZGF0ZSBzaG93biBvbiBvcGVuaW5nLiAqL1xuXHRfZ2V0RGVmYXVsdERhdGU6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVzdHJpY3RNaW5NYXgoaW5zdCxcblx0XHRcdHRoaXMuX2RldGVybWluZURhdGUoaW5zdCwgdGhpcy5fZ2V0KGluc3QsIFwiZGVmYXVsdERhdGVcIiksIG5ldyBEYXRlKCkpKTtcblx0fSxcblxuXHQvKiBBIGRhdGUgbWF5IGJlIHNwZWNpZmllZCBhcyBhbiBleGFjdCB2YWx1ZSBvciBhIHJlbGF0aXZlIG9uZS4gKi9cblx0X2RldGVybWluZURhdGU6IGZ1bmN0aW9uKGluc3QsIGRhdGUsIGRlZmF1bHREYXRlKSB7XG5cdFx0dmFyIG9mZnNldE51bWVyaWMgPSBmdW5jdGlvbihvZmZzZXQpIHtcblx0XHRcdFx0dmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBvZmZzZXQpO1xuXHRcdFx0XHRyZXR1cm4gZGF0ZTtcblx0XHRcdH0sXG5cdFx0XHRvZmZzZXRTdHJpbmcgPSBmdW5jdGlvbihvZmZzZXQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXR1cm4gJC5kYXRlcGlja2VyLnBhcnNlRGF0ZSgkLmRhdGVwaWNrZXIuX2dldChpbnN0LCBcImRhdGVGb3JtYXRcIiksXG5cdFx0XHRcdFx0XHRvZmZzZXQsICQuZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGluc3QpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXRjaCAoZSkge1xuXHRcdFx0XHRcdC8vIElnbm9yZVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGRhdGUgPSAob2Zmc2V0LnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLykgP1xuXHRcdFx0XHRcdCQuZGF0ZXBpY2tlci5fZ2V0RGF0ZShpbnN0KSA6IG51bGwpIHx8IG5ldyBEYXRlKCksXG5cdFx0XHRcdFx0eWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKSxcblx0XHRcdFx0XHRtb250aCA9IGRhdGUuZ2V0TW9udGgoKSxcblx0XHRcdFx0XHRkYXkgPSBkYXRlLmdldERhdGUoKSxcblx0XHRcdFx0XHRwYXR0ZXJuID0gLyhbK1xcLV0/WzAtOV0rKVxccyooZHxEfHd8V3xtfE18eXxZKT8vZyxcblx0XHRcdFx0XHRtYXRjaGVzID0gcGF0dGVybi5leGVjKG9mZnNldCk7XG5cblx0XHRcdFx0d2hpbGUgKG1hdGNoZXMpIHtcblx0XHRcdFx0XHRzd2l0Y2ggKG1hdGNoZXNbMl0gfHwgXCJkXCIpIHtcblx0XHRcdFx0XHRcdGNhc2UgXCJkXCIgOiBjYXNlIFwiRFwiIDpcblx0XHRcdFx0XHRcdFx0ZGF5ICs9IHBhcnNlSW50KG1hdGNoZXNbMV0sMTApOyBicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgXCJ3XCIgOiBjYXNlIFwiV1wiIDpcblx0XHRcdFx0XHRcdFx0ZGF5ICs9IHBhcnNlSW50KG1hdGNoZXNbMV0sMTApICogNzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwibVwiIDogY2FzZSBcIk1cIiA6XG5cdFx0XHRcdFx0XHRcdG1vbnRoICs9IHBhcnNlSW50KG1hdGNoZXNbMV0sMTApO1xuXHRcdFx0XHRcdFx0XHRkYXkgPSBNYXRoLm1pbihkYXksICQuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIFwieVwiOiBjYXNlIFwiWVwiIDpcblx0XHRcdFx0XHRcdFx0eWVhciArPSBwYXJzZUludChtYXRjaGVzWzFdLDEwKTtcblx0XHRcdFx0XHRcdFx0ZGF5ID0gTWF0aC5taW4oZGF5LCAkLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtYXRjaGVzID0gcGF0dGVybi5leGVjKG9mZnNldCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuXHRcdFx0fSxcblx0XHRcdG5ld0RhdGUgPSAoZGF0ZSA9PSBudWxsIHx8IGRhdGUgPT09IFwiXCIgPyBkZWZhdWx0RGF0ZSA6ICh0eXBlb2YgZGF0ZSA9PT0gXCJzdHJpbmdcIiA/IG9mZnNldFN0cmluZyhkYXRlKSA6XG5cdFx0XHRcdCh0eXBlb2YgZGF0ZSA9PT0gXCJudW1iZXJcIiA/IChpc05hTihkYXRlKSA/IGRlZmF1bHREYXRlIDogb2Zmc2V0TnVtZXJpYyhkYXRlKSkgOiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSkpKSk7XG5cblx0XHRuZXdEYXRlID0gKG5ld0RhdGUgJiYgbmV3RGF0ZS50b1N0cmluZygpID09PSBcIkludmFsaWQgRGF0ZVwiID8gZGVmYXVsdERhdGUgOiBuZXdEYXRlKTtcblx0XHRpZiAobmV3RGF0ZSkge1xuXHRcdFx0bmV3RGF0ZS5zZXRIb3VycygwKTtcblx0XHRcdG5ld0RhdGUuc2V0TWludXRlcygwKTtcblx0XHRcdG5ld0RhdGUuc2V0U2Vjb25kcygwKTtcblx0XHRcdG5ld0RhdGUuc2V0TWlsbGlzZWNvbmRzKDApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3RGF0ZSk7XG5cdH0sXG5cblx0LyogSGFuZGxlIHN3aXRjaCB0by9mcm9tIGRheWxpZ2h0IHNhdmluZy5cblx0ICogSG91cnMgbWF5IGJlIG5vbi16ZXJvIG9uIGRheWxpZ2h0IHNhdmluZyBjdXQtb3Zlcjpcblx0ICogPiAxMiB3aGVuIG1pZG5pZ2h0IGNoYW5nZW92ZXIsIGJ1dCB0aGVuIGNhbm5vdCBnZW5lcmF0ZVxuXHQgKiBtaWRuaWdodCBkYXRldGltZSwgc28ganVtcCB0byAxQU0sIG90aGVyd2lzZSByZXNldC5cblx0ICogQHBhcmFtICBkYXRlICAoRGF0ZSkgdGhlIGRhdGUgdG8gY2hlY2tcblx0ICogQHJldHVybiAgKERhdGUpIHRoZSBjb3JyZWN0ZWQgZGF0ZVxuXHQgKi9cblx0X2RheWxpZ2h0U2F2aW5nQWRqdXN0OiBmdW5jdGlvbihkYXRlKSB7XG5cdFx0aWYgKCFkYXRlKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0ZGF0ZS5zZXRIb3VycyhkYXRlLmdldEhvdXJzKCkgPiAxMiA/IGRhdGUuZ2V0SG91cnMoKSArIDIgOiAwKTtcblx0XHRyZXR1cm4gZGF0ZTtcblx0fSxcblxuXHQvKiBTZXQgdGhlIGRhdGUocykgZGlyZWN0bHkuICovXG5cdF9zZXREYXRlOiBmdW5jdGlvbihpbnN0LCBkYXRlLCBub0NoYW5nZSkge1xuXHRcdHZhciBjbGVhciA9ICFkYXRlLFxuXHRcdFx0b3JpZ01vbnRoID0gaW5zdC5zZWxlY3RlZE1vbnRoLFxuXHRcdFx0b3JpZ1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhcixcblx0XHRcdG5ld0RhdGUgPSB0aGlzLl9yZXN0cmljdE1pbk1heChpbnN0LCB0aGlzLl9kZXRlcm1pbmVEYXRlKGluc3QsIGRhdGUsIG5ldyBEYXRlKCkpKTtcblxuXHRcdGluc3Quc2VsZWN0ZWREYXkgPSBpbnN0LmN1cnJlbnREYXkgPSBuZXdEYXRlLmdldERhdGUoKTtcblx0XHRpbnN0LmRyYXdNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCA9IGluc3QuY3VycmVudE1vbnRoID0gbmV3RGF0ZS5nZXRNb250aCgpO1xuXHRcdGluc3QuZHJhd1llYXIgPSBpbnN0LnNlbGVjdGVkWWVhciA9IGluc3QuY3VycmVudFllYXIgPSBuZXdEYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0aWYgKChvcmlnTW9udGggIT09IGluc3Quc2VsZWN0ZWRNb250aCB8fCBvcmlnWWVhciAhPT0gaW5zdC5zZWxlY3RlZFllYXIpICYmICFub0NoYW5nZSkge1xuXHRcdFx0dGhpcy5fbm90aWZ5Q2hhbmdlKGluc3QpO1xuXHRcdH1cblx0XHR0aGlzLl9hZGp1c3RJbnN0RGF0ZShpbnN0KTtcblx0XHRpZiAoaW5zdC5pbnB1dCkge1xuXHRcdFx0aW5zdC5pbnB1dC52YWwoY2xlYXIgPyBcIlwiIDogdGhpcy5fZm9ybWF0RGF0ZShpbnN0KSk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qIFJldHJpZXZlIHRoZSBkYXRlKHMpIGRpcmVjdGx5LiAqL1xuXHRfZ2V0RGF0ZTogZnVuY3Rpb24oaW5zdCkge1xuXHRcdHZhciBzdGFydERhdGUgPSAoIWluc3QuY3VycmVudFllYXIgfHwgKGluc3QuaW5wdXQgJiYgaW5zdC5pbnB1dC52YWwoKSA9PT0gXCJcIikgPyBudWxsIDpcblx0XHRcdHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKFxuXHRcdFx0aW5zdC5jdXJyZW50WWVhciwgaW5zdC5jdXJyZW50TW9udGgsIGluc3QuY3VycmVudERheSkpKTtcblx0XHRcdHJldHVybiBzdGFydERhdGU7XG5cdH0sXG5cblx0LyogQXR0YWNoIHRoZSBvbnh4eCBoYW5kbGVycy4gIFRoZXNlIGFyZSBkZWNsYXJlZCBzdGF0aWNhbGx5IHNvXG5cdCAqIHRoZXkgd29yayB3aXRoIHN0YXRpYyBjb2RlIHRyYW5zZm9ybWVycyBsaWtlIENhamEuXG5cdCAqL1xuXHRfYXR0YWNoSGFuZGxlcnM6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHR2YXIgc3RlcE1vbnRocyA9IHRoaXMuX2dldChpbnN0LCBcInN0ZXBNb250aHNcIiksXG5cdFx0XHRpZCA9IFwiI1wiICsgaW5zdC5pZC5yZXBsYWNlKCAvXFxcXFxcXFwvZywgXCJcXFxcXCIgKTtcblx0XHRpbnN0LmRwRGl2LmZpbmQoXCJbZGF0YS1oYW5kbGVyXVwiKS5tYXAoZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGhhbmRsZXIgPSB7XG5cdFx0XHRcdHByZXY6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoaWQsIC1zdGVwTW9udGhzLCBcIk1cIik7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG5leHQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoaWQsICtzdGVwTW9udGhzLCBcIk1cIik7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGhpZGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRvZGF5OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaWQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzZWxlY3REYXk6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3NlbGVjdERheShpZCwgK3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1tb250aFwiKSwgK3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS15ZWFyXCIpLCB0aGlzKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlbGVjdE1vbnRoOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0JC5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoaWQsIHRoaXMsIFwiTVwiKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNlbGVjdFllYXI6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHQkLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpZCwgdGhpcywgXCJZXCIpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdCQodGhpcykuYmluZCh0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtZXZlbnRcIiksIGhhbmRsZXJbdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhhbmRsZXJcIildKTtcblx0XHR9KTtcblx0fSxcblxuXHQvKiBHZW5lcmF0ZSB0aGUgSFRNTCBmb3IgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGRhdGUgcGlja2VyLiAqL1xuXHRfZ2VuZXJhdGVIVE1MOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0dmFyIG1heERyYXcsIHByZXZUZXh0LCBwcmV2LCBuZXh0VGV4dCwgbmV4dCwgY3VycmVudFRleHQsIGdvdG9EYXRlLFxuXHRcdFx0Y29udHJvbHMsIGJ1dHRvblBhbmVsLCBmaXJzdERheSwgc2hvd1dlZWssIGRheU5hbWVzLCBkYXlOYW1lc01pbixcblx0XHRcdG1vbnRoTmFtZXMsIG1vbnRoTmFtZXNTaG9ydCwgYmVmb3JlU2hvd0RheSwgc2hvd090aGVyTW9udGhzLFxuXHRcdFx0c2VsZWN0T3RoZXJNb250aHMsIGRlZmF1bHREYXRlLCBodG1sLCBkb3csIHJvdywgZ3JvdXAsIGNvbCwgc2VsZWN0ZWREYXRlLFxuXHRcdFx0Y29ybmVyQ2xhc3MsIGNhbGVuZGVyLCB0aGVhZCwgZGF5LCBkYXlzSW5Nb250aCwgbGVhZERheXMsIGN1clJvd3MsIG51bVJvd3MsXG5cdFx0XHRwcmludERhdGUsIGRSb3csIHRib2R5LCBkYXlTZXR0aW5ncywgb3RoZXJNb250aCwgdW5zZWxlY3RhYmxlLFxuXHRcdFx0dGVtcERhdGUgPSBuZXcgRGF0ZSgpLFxuXHRcdFx0dG9kYXkgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChcblx0XHRcdFx0bmV3IERhdGUodGVtcERhdGUuZ2V0RnVsbFllYXIoKSwgdGVtcERhdGUuZ2V0TW9udGgoKSwgdGVtcERhdGUuZ2V0RGF0ZSgpKSksIC8vIGNsZWFyIHRpbWVcblx0XHRcdGlzUlRMID0gdGhpcy5fZ2V0KGluc3QsIFwiaXNSVExcIiksXG5cdFx0XHRzaG93QnV0dG9uUGFuZWwgPSB0aGlzLl9nZXQoaW5zdCwgXCJzaG93QnV0dG9uUGFuZWxcIiksXG5cdFx0XHRoaWRlSWZOb1ByZXZOZXh0ID0gdGhpcy5fZ2V0KGluc3QsIFwiaGlkZUlmTm9QcmV2TmV4dFwiKSxcblx0XHRcdG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQgPSB0aGlzLl9nZXQoaW5zdCwgXCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0XCIpLFxuXHRcdFx0bnVtTW9udGhzID0gdGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoaW5zdCksXG5cdFx0XHRzaG93Q3VycmVudEF0UG9zID0gdGhpcy5fZ2V0KGluc3QsIFwic2hvd0N1cnJlbnRBdFBvc1wiKSxcblx0XHRcdHN0ZXBNb250aHMgPSB0aGlzLl9nZXQoaW5zdCwgXCJzdGVwTW9udGhzXCIpLFxuXHRcdFx0aXNNdWx0aU1vbnRoID0gKG51bU1vbnRoc1swXSAhPT0gMSB8fCBudW1Nb250aHNbMV0gIT09IDEpLFxuXHRcdFx0Y3VycmVudERhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCgoIWluc3QuY3VycmVudERheSA/IG5ldyBEYXRlKDk5OTksIDksIDkpIDpcblx0XHRcdFx0bmV3IERhdGUoaW5zdC5jdXJyZW50WWVhciwgaW5zdC5jdXJyZW50TW9udGgsIGluc3QuY3VycmVudERheSkpKSxcblx0XHRcdG1pbkRhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKGluc3QsIFwibWluXCIpLFxuXHRcdFx0bWF4RGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoaW5zdCwgXCJtYXhcIiksXG5cdFx0XHRkcmF3TW9udGggPSBpbnN0LmRyYXdNb250aCAtIHNob3dDdXJyZW50QXRQb3MsXG5cdFx0XHRkcmF3WWVhciA9IGluc3QuZHJhd1llYXI7XG5cblx0XHRpZiAoZHJhd01vbnRoIDwgMCkge1xuXHRcdFx0ZHJhd01vbnRoICs9IDEyO1xuXHRcdFx0ZHJhd1llYXItLTtcblx0XHR9XG5cdFx0aWYgKG1heERhdGUpIHtcblx0XHRcdG1heERyYXcgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShtYXhEYXRlLmdldEZ1bGxZZWFyKCksXG5cdFx0XHRcdG1heERhdGUuZ2V0TW9udGgoKSAtIChudW1Nb250aHNbMF0gKiBudW1Nb250aHNbMV0pICsgMSwgbWF4RGF0ZS5nZXREYXRlKCkpKTtcblx0XHRcdG1heERyYXcgPSAobWluRGF0ZSAmJiBtYXhEcmF3IDwgbWluRGF0ZSA/IG1pbkRhdGUgOiBtYXhEcmF3KTtcblx0XHRcdHdoaWxlICh0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkcmF3WWVhciwgZHJhd01vbnRoLCAxKSkgPiBtYXhEcmF3KSB7XG5cdFx0XHRcdGRyYXdNb250aC0tO1xuXHRcdFx0XHRpZiAoZHJhd01vbnRoIDwgMCkge1xuXHRcdFx0XHRcdGRyYXdNb250aCA9IDExO1xuXHRcdFx0XHRcdGRyYXdZZWFyLS07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aW5zdC5kcmF3TW9udGggPSBkcmF3TW9udGg7XG5cdFx0aW5zdC5kcmF3WWVhciA9IGRyYXdZZWFyO1xuXG5cdFx0cHJldlRleHQgPSB0aGlzLl9nZXQoaW5zdCwgXCJwcmV2VGV4dFwiKTtcblx0XHRwcmV2VGV4dCA9ICghbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCA/IHByZXZUZXh0IDogdGhpcy5mb3JtYXREYXRlKHByZXZUZXh0LFxuXHRcdFx0dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZHJhd1llYXIsIGRyYXdNb250aCAtIHN0ZXBNb250aHMsIDEpKSxcblx0XHRcdHRoaXMuX2dldEZvcm1hdENvbmZpZyhpbnN0KSkpO1xuXG5cdFx0cHJldiA9ICh0aGlzLl9jYW5BZGp1c3RNb250aChpbnN0LCAtMSwgZHJhd1llYXIsIGRyYXdNb250aCkgP1xuXHRcdFx0XCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0ncHJldicgZGF0YS1ldmVudD0nY2xpY2snXCIgK1xuXHRcdFx0XCIgdGl0bGU9J1wiICsgcHJldlRleHQgKyBcIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtXCIgKyAoIGlzUlRMID8gXCJlXCIgOiBcIndcIikgKyBcIic+XCIgKyBwcmV2VGV4dCArIFwiPC9zcGFuPjwvYT5cIiA6XG5cdFx0XHQoaGlkZUlmTm9QcmV2TmV4dCA/IFwiXCIgOiBcIjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9J1wiKyBwcmV2VGV4dCArXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiICsgKCBpc1JUTCA/IFwiZVwiIDogXCJ3XCIpICsgXCInPlwiICsgcHJldlRleHQgKyBcIjwvc3Bhbj48L2E+XCIpKTtcblxuXHRcdG5leHRUZXh0ID0gdGhpcy5fZ2V0KGluc3QsIFwibmV4dFRleHRcIik7XG5cdFx0bmV4dFRleHQgPSAoIW5hdmlnYXRpb25Bc0RhdGVGb3JtYXQgPyBuZXh0VGV4dCA6IHRoaXMuZm9ybWF0RGF0ZShuZXh0VGV4dCxcblx0XHRcdHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGRyYXdZZWFyLCBkcmF3TW9udGggKyBzdGVwTW9udGhzLCAxKSksXG5cdFx0XHR0aGlzLl9nZXRGb3JtYXRDb25maWcoaW5zdCkpKTtcblxuXHRcdG5leHQgPSAodGhpcy5fY2FuQWRqdXN0TW9udGgoaW5zdCwgKzEsIGRyYXdZZWFyLCBkcmF3TW9udGgpID9cblx0XHRcdFwiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J25leHQnIGRhdGEtZXZlbnQ9J2NsaWNrJ1wiICtcblx0XHRcdFwiIHRpdGxlPSdcIiArIG5leHRUZXh0ICsgXCInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLVwiICsgKCBpc1JUTCA/IFwid1wiIDogXCJlXCIpICsgXCInPlwiICsgbmV4dFRleHQgKyBcIjwvc3Bhbj48L2E+XCIgOlxuXHRcdFx0KGhpZGVJZk5vUHJldk5leHQgPyBcIlwiIDogXCI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSdcIisgbmV4dFRleHQgKyBcIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtXCIgKyAoIGlzUlRMID8gXCJ3XCIgOiBcImVcIikgKyBcIic+XCIgKyBuZXh0VGV4dCArIFwiPC9zcGFuPjwvYT5cIikpO1xuXG5cdFx0Y3VycmVudFRleHQgPSB0aGlzLl9nZXQoaW5zdCwgXCJjdXJyZW50VGV4dFwiKTtcblx0XHRnb3RvRGF0ZSA9ICh0aGlzLl9nZXQoaW5zdCwgXCJnb3RvQ3VycmVudFwiKSAmJiBpbnN0LmN1cnJlbnREYXkgPyBjdXJyZW50RGF0ZSA6IHRvZGF5KTtcblx0XHRjdXJyZW50VGV4dCA9ICghbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCA/IGN1cnJlbnRUZXh0IDpcblx0XHRcdHRoaXMuZm9ybWF0RGF0ZShjdXJyZW50VGV4dCwgZ290b0RhdGUsIHRoaXMuX2dldEZvcm1hdENvbmZpZyhpbnN0KSkpO1xuXG5cdFx0Y29udHJvbHMgPSAoIWluc3QuaW5saW5lID8gXCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0naGlkZScgZGF0YS1ldmVudD0nY2xpY2snPlwiICtcblx0XHRcdHRoaXMuX2dldChpbnN0LCBcImNsb3NlVGV4dFwiKSArIFwiPC9idXR0b24+XCIgOiBcIlwiKTtcblxuXHRcdGJ1dHRvblBhbmVsID0gKHNob3dCdXR0b25QYW5lbCkgPyBcIjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCc+XCIgKyAoaXNSVEwgPyBjb250cm9scyA6IFwiXCIpICtcblx0XHRcdCh0aGlzLl9pc0luUmFuZ2UoaW5zdCwgZ290b0RhdGUpID8gXCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljaydcIiArXG5cdFx0XHRcIj5cIiArIGN1cnJlbnRUZXh0ICsgXCI8L2J1dHRvbj5cIiA6IFwiXCIpICsgKGlzUlRMID8gXCJcIiA6IGNvbnRyb2xzKSArIFwiPC9kaXY+XCIgOiBcIlwiO1xuXG5cdFx0Zmlyc3REYXkgPSBwYXJzZUludCh0aGlzLl9nZXQoaW5zdCwgXCJmaXJzdERheVwiKSwxMCk7XG5cdFx0Zmlyc3REYXkgPSAoaXNOYU4oZmlyc3REYXkpID8gMCA6IGZpcnN0RGF5KTtcblxuXHRcdHNob3dXZWVrID0gdGhpcy5fZ2V0KGluc3QsIFwic2hvd1dlZWtcIik7XG5cdFx0ZGF5TmFtZXMgPSB0aGlzLl9nZXQoaW5zdCwgXCJkYXlOYW1lc1wiKTtcblx0XHRkYXlOYW1lc01pbiA9IHRoaXMuX2dldChpbnN0LCBcImRheU5hbWVzTWluXCIpO1xuXHRcdG1vbnRoTmFtZXMgPSB0aGlzLl9nZXQoaW5zdCwgXCJtb250aE5hbWVzXCIpO1xuXHRcdG1vbnRoTmFtZXNTaG9ydCA9IHRoaXMuX2dldChpbnN0LCBcIm1vbnRoTmFtZXNTaG9ydFwiKTtcblx0XHRiZWZvcmVTaG93RGF5ID0gdGhpcy5fZ2V0KGluc3QsIFwiYmVmb3JlU2hvd0RheVwiKTtcblx0XHRzaG93T3RoZXJNb250aHMgPSB0aGlzLl9nZXQoaW5zdCwgXCJzaG93T3RoZXJNb250aHNcIik7XG5cdFx0c2VsZWN0T3RoZXJNb250aHMgPSB0aGlzLl9nZXQoaW5zdCwgXCJzZWxlY3RPdGhlck1vbnRoc1wiKTtcblx0XHRkZWZhdWx0RGF0ZSA9IHRoaXMuX2dldERlZmF1bHREYXRlKGluc3QpO1xuXHRcdGh0bWwgPSBcIlwiO1xuXHRcdGRvdztcblx0XHRmb3IgKHJvdyA9IDA7IHJvdyA8IG51bU1vbnRoc1swXTsgcm93KyspIHtcblx0XHRcdGdyb3VwID0gXCJcIjtcblx0XHRcdHRoaXMubWF4Um93cyA9IDQ7XG5cdFx0XHRmb3IgKGNvbCA9IDA7IGNvbCA8IG51bU1vbnRoc1sxXTsgY29sKyspIHtcblx0XHRcdFx0c2VsZWN0ZWREYXRlID0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoZHJhd1llYXIsIGRyYXdNb250aCwgaW5zdC5zZWxlY3RlZERheSkpO1xuXHRcdFx0XHRjb3JuZXJDbGFzcyA9IFwiIHVpLWNvcm5lci1hbGxcIjtcblx0XHRcdFx0Y2FsZW5kZXIgPSBcIlwiO1xuXHRcdFx0XHRpZiAoaXNNdWx0aU1vbnRoKSB7XG5cdFx0XHRcdFx0Y2FsZW5kZXIgKz0gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwXCI7XG5cdFx0XHRcdFx0aWYgKG51bU1vbnRoc1sxXSA+IDEpIHtcblx0XHRcdFx0XHRcdHN3aXRjaCAoY29sKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgMDogY2FsZW5kZXIgKz0gXCIgdWktZGF0ZXBpY2tlci1ncm91cC1maXJzdFwiO1xuXHRcdFx0XHRcdFx0XHRcdGNvcm5lckNsYXNzID0gXCIgdWktY29ybmVyLVwiICsgKGlzUlRMID8gXCJyaWdodFwiIDogXCJsZWZ0XCIpOyBicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSBudW1Nb250aHNbMV0tMTogY2FsZW5kZXIgKz0gXCIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0XCI7XG5cdFx0XHRcdFx0XHRcdFx0Y29ybmVyQ2xhc3MgPSBcIiB1aS1jb3JuZXItXCIgKyAoaXNSVEwgPyBcImxlZnRcIiA6IFwicmlnaHRcIik7IGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRkZWZhdWx0OiBjYWxlbmRlciArPSBcIiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZVwiOyBjb3JuZXJDbGFzcyA9IFwiXCI7IGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYWxlbmRlciArPSBcIic+XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FsZW5kZXIgKz0gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeFwiICsgY29ybmVyQ2xhc3MgKyBcIic+XCIgK1xuXHRcdFx0XHRcdCgvYWxsfGxlZnQvLnRlc3QoY29ybmVyQ2xhc3MpICYmIHJvdyA9PT0gMCA/IChpc1JUTCA/IG5leHQgOiBwcmV2KSA6IFwiXCIpICtcblx0XHRcdFx0XHQoL2FsbHxyaWdodC8udGVzdChjb3JuZXJDbGFzcykgJiYgcm93ID09PSAwID8gKGlzUlRMID8gcHJldiA6IG5leHQpIDogXCJcIikgK1xuXHRcdFx0XHRcdHRoaXMuX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyKGluc3QsIGRyYXdNb250aCwgZHJhd1llYXIsIG1pbkRhdGUsIG1heERhdGUsXG5cdFx0XHRcdFx0cm93ID4gMCB8fCBjb2wgPiAwLCBtb250aE5hbWVzLCBtb250aE5hbWVzU2hvcnQpICsgLy8gZHJhdyBtb250aCBoZWFkZXJzXG5cdFx0XHRcdFx0XCI8L2Rpdj48dGFibGUgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2FsZW5kYXInPjx0aGVhZD5cIiArXG5cdFx0XHRcdFx0XCI8dHI+XCI7XG5cdFx0XHRcdHRoZWFkID0gKHNob3dXZWVrID8gXCI8dGggY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPlwiICsgdGhpcy5fZ2V0KGluc3QsIFwid2Vla0hlYWRlclwiKSArIFwiPC90aD5cIiA6IFwiXCIpO1xuXHRcdFx0XHRmb3IgKGRvdyA9IDA7IGRvdyA8IDc7IGRvdysrKSB7IC8vIGRheXMgb2YgdGhlIHdlZWtcblx0XHRcdFx0XHRkYXkgPSAoZG93ICsgZmlyc3REYXkpICUgNztcblx0XHRcdFx0XHR0aGVhZCArPSBcIjx0aCBzY29wZT0nY29sJ1wiICsgKChkb3cgKyBmaXJzdERheSArIDYpICUgNyA+PSA1ID8gXCIgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1lbmQnXCIgOiBcIlwiKSArIFwiPlwiICtcblx0XHRcdFx0XHRcdFwiPHNwYW4gdGl0bGU9J1wiICsgZGF5TmFtZXNbZGF5XSArIFwiJz5cIiArIGRheU5hbWVzTWluW2RheV0gKyBcIjwvc3Bhbj48L3RoPlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhbGVuZGVyICs9IHRoZWFkICsgXCI8L3RyPjwvdGhlYWQ+PHRib2R5PlwiO1xuXHRcdFx0XHRkYXlzSW5Nb250aCA9IHRoaXMuX2dldERheXNJbk1vbnRoKGRyYXdZZWFyLCBkcmF3TW9udGgpO1xuXHRcdFx0XHRpZiAoZHJhd1llYXIgPT09IGluc3Quc2VsZWN0ZWRZZWFyICYmIGRyYXdNb250aCA9PT0gaW5zdC5zZWxlY3RlZE1vbnRoKSB7XG5cdFx0XHRcdFx0aW5zdC5zZWxlY3RlZERheSA9IE1hdGgubWluKGluc3Quc2VsZWN0ZWREYXksIGRheXNJbk1vbnRoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRsZWFkRGF5cyA9ICh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgoZHJhd1llYXIsIGRyYXdNb250aCkgLSBmaXJzdERheSArIDcpICUgNztcblx0XHRcdFx0Y3VyUm93cyA9IE1hdGguY2VpbCgobGVhZERheXMgKyBkYXlzSW5Nb250aCkgLyA3KTsgLy8gY2FsY3VsYXRlIHRoZSBudW1iZXIgb2Ygcm93cyB0byBnZW5lcmF0ZVxuXHRcdFx0XHRudW1Sb3dzID0gKGlzTXVsdGlNb250aCA/IHRoaXMubWF4Um93cyA+IGN1clJvd3MgPyB0aGlzLm1heFJvd3MgOiBjdXJSb3dzIDogY3VyUm93cyk7IC8vSWYgbXVsdGlwbGUgbW9udGhzLCB1c2UgdGhlIGhpZ2hlciBudW1iZXIgb2Ygcm93cyAoc2VlICM3MDQzKVxuXHRcdFx0XHR0aGlzLm1heFJvd3MgPSBudW1Sb3dzO1xuXHRcdFx0XHRwcmludERhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkcmF3WWVhciwgZHJhd01vbnRoLCAxIC0gbGVhZERheXMpKTtcblx0XHRcdFx0Zm9yIChkUm93ID0gMDsgZFJvdyA8IG51bVJvd3M7IGRSb3crKykgeyAvLyBjcmVhdGUgZGF0ZSBwaWNrZXIgcm93c1xuXHRcdFx0XHRcdGNhbGVuZGVyICs9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdHRib2R5ID0gKCFzaG93V2VlayA/IFwiXCIgOiBcIjx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+XCIgK1xuXHRcdFx0XHRcdFx0dGhpcy5fZ2V0KGluc3QsIFwiY2FsY3VsYXRlV2Vla1wiKShwcmludERhdGUpICsgXCI8L3RkPlwiKTtcblx0XHRcdFx0XHRmb3IgKGRvdyA9IDA7IGRvdyA8IDc7IGRvdysrKSB7IC8vIGNyZWF0ZSBkYXRlIHBpY2tlciBkYXlzXG5cdFx0XHRcdFx0XHRkYXlTZXR0aW5ncyA9IChiZWZvcmVTaG93RGF5ID9cblx0XHRcdFx0XHRcdFx0YmVmb3JlU2hvd0RheS5hcHBseSgoaW5zdC5pbnB1dCA/IGluc3QuaW5wdXRbMF0gOiBudWxsKSwgW3ByaW50RGF0ZV0pIDogW3RydWUsIFwiXCJdKTtcblx0XHRcdFx0XHRcdG90aGVyTW9udGggPSAocHJpbnREYXRlLmdldE1vbnRoKCkgIT09IGRyYXdNb250aCk7XG5cdFx0XHRcdFx0XHR1bnNlbGVjdGFibGUgPSAob3RoZXJNb250aCAmJiAhc2VsZWN0T3RoZXJNb250aHMpIHx8ICFkYXlTZXR0aW5nc1swXSB8fFxuXHRcdFx0XHRcdFx0XHQobWluRGF0ZSAmJiBwcmludERhdGUgPCBtaW5EYXRlKSB8fCAobWF4RGF0ZSAmJiBwcmludERhdGUgPiBtYXhEYXRlKTtcblx0XHRcdFx0XHRcdHRib2R5ICs9IFwiPHRkIGNsYXNzPSdcIiArXG5cdFx0XHRcdFx0XHRcdCgoZG93ICsgZmlyc3REYXkgKyA2KSAlIDcgPj0gNSA/IFwiIHVpLWRhdGVwaWNrZXItd2Vlay1lbmRcIiA6IFwiXCIpICsgLy8gaGlnaGxpZ2h0IHdlZWtlbmRzXG5cdFx0XHRcdFx0XHRcdChvdGhlck1vbnRoID8gXCIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aFwiIDogXCJcIikgKyAvLyBoaWdobGlnaHQgZGF5cyBmcm9tIG90aGVyIG1vbnRoc1xuXHRcdFx0XHRcdFx0XHQoKHByaW50RGF0ZS5nZXRUaW1lKCkgPT09IHNlbGVjdGVkRGF0ZS5nZXRUaW1lKCkgJiYgZHJhd01vbnRoID09PSBpbnN0LnNlbGVjdGVkTW9udGggJiYgaW5zdC5fa2V5RXZlbnQpIHx8IC8vIHVzZXIgcHJlc3NlZCBrZXlcblx0XHRcdFx0XHRcdFx0KGRlZmF1bHREYXRlLmdldFRpbWUoKSA9PT0gcHJpbnREYXRlLmdldFRpbWUoKSAmJiBkZWZhdWx0RGF0ZS5nZXRUaW1lKCkgPT09IHNlbGVjdGVkRGF0ZS5nZXRUaW1lKCkpID9cblx0XHRcdFx0XHRcdFx0Ly8gb3IgZGVmYXVsdERhdGUgaXMgY3VycmVudCBwcmludGVkRGF0ZSBhbmQgZGVmYXVsdERhdGUgaXMgc2VsZWN0ZWREYXRlXG5cdFx0XHRcdFx0XHRcdFwiIFwiICsgdGhpcy5fZGF5T3ZlckNsYXNzIDogXCJcIikgKyAvLyBoaWdobGlnaHQgc2VsZWN0ZWQgZGF5XG5cdFx0XHRcdFx0XHRcdCh1bnNlbGVjdGFibGUgPyBcIiBcIiArIHRoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzICsgXCIgdWktc3RhdGUtZGlzYWJsZWRcIjogXCJcIikgKyAgLy8gaGlnaGxpZ2h0IHVuc2VsZWN0YWJsZSBkYXlzXG5cdFx0XHRcdFx0XHRcdChvdGhlck1vbnRoICYmICFzaG93T3RoZXJNb250aHMgPyBcIlwiIDogXCIgXCIgKyBkYXlTZXR0aW5nc1sxXSArIC8vIGhpZ2hsaWdodCBjdXN0b20gZGF0ZXNcblx0XHRcdFx0XHRcdFx0KHByaW50RGF0ZS5nZXRUaW1lKCkgPT09IGN1cnJlbnREYXRlLmdldFRpbWUoKSA/IFwiIFwiICsgdGhpcy5fY3VycmVudENsYXNzIDogXCJcIikgKyAvLyBoaWdobGlnaHQgc2VsZWN0ZWQgZGF5XG5cdFx0XHRcdFx0XHRcdChwcmludERhdGUuZ2V0VGltZSgpID09PSB0b2RheS5nZXRUaW1lKCkgPyBcIiB1aS1kYXRlcGlja2VyLXRvZGF5XCIgOiBcIlwiKSkgKyBcIidcIiArIC8vIGhpZ2hsaWdodCB0b2RheSAoaWYgZGlmZmVyZW50KVxuXHRcdFx0XHRcdFx0XHQoKCFvdGhlck1vbnRoIHx8IHNob3dPdGhlck1vbnRocykgJiYgZGF5U2V0dGluZ3NbMl0gPyBcIiB0aXRsZT0nXCIgKyBkYXlTZXR0aW5nc1syXS5yZXBsYWNlKC8nL2csIFwiJiMzOTtcIikgKyBcIidcIiA6IFwiXCIpICsgLy8gY2VsbCB0aXRsZVxuXHRcdFx0XHRcdFx0XHQodW5zZWxlY3RhYmxlID8gXCJcIiA6IFwiIGRhdGEtaGFuZGxlcj0nc2VsZWN0RGF5JyBkYXRhLWV2ZW50PSdjbGljaycgZGF0YS1tb250aD0nXCIgKyBwcmludERhdGUuZ2V0TW9udGgoKSArIFwiJyBkYXRhLXllYXI9J1wiICsgcHJpbnREYXRlLmdldEZ1bGxZZWFyKCkgKyBcIidcIikgKyBcIj5cIiArIC8vIGFjdGlvbnNcblx0XHRcdFx0XHRcdFx0KG90aGVyTW9udGggJiYgIXNob3dPdGhlck1vbnRocyA/IFwiJiN4YTA7XCIgOiAvLyBkaXNwbGF5IGZvciBvdGhlciBtb250aHNcblx0XHRcdFx0XHRcdFx0KHVuc2VsZWN0YWJsZSA/IFwiPHNwYW4gY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQnPlwiICsgcHJpbnREYXRlLmdldERhdGUoKSArIFwiPC9zcGFuPlwiIDogXCI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdFwiICtcblx0XHRcdFx0XHRcdFx0KHByaW50RGF0ZS5nZXRUaW1lKCkgPT09IHRvZGF5LmdldFRpbWUoKSA/IFwiIHVpLXN0YXRlLWhpZ2hsaWdodFwiIDogXCJcIikgK1xuXHRcdFx0XHRcdFx0XHQocHJpbnREYXRlLmdldFRpbWUoKSA9PT0gY3VycmVudERhdGUuZ2V0VGltZSgpID8gXCIgdWktc3RhdGUtYWN0aXZlXCIgOiBcIlwiKSArIC8vIGhpZ2hsaWdodCBzZWxlY3RlZCBkYXlcblx0XHRcdFx0XHRcdFx0KG90aGVyTW9udGggPyBcIiB1aS1wcmlvcml0eS1zZWNvbmRhcnlcIiA6IFwiXCIpICsgLy8gZGlzdGluZ3Vpc2ggZGF0ZXMgZnJvbSBvdGhlciBtb250aHNcblx0XHRcdFx0XHRcdFx0XCInIGhyZWY9JyMnPlwiICsgcHJpbnREYXRlLmdldERhdGUoKSArIFwiPC9hPlwiKSkgKyBcIjwvdGQ+XCI7IC8vIGRpc3BsYXkgc2VsZWN0YWJsZSBkYXRlXG5cdFx0XHRcdFx0XHRwcmludERhdGUuc2V0RGF0ZShwcmludERhdGUuZ2V0RGF0ZSgpICsgMSk7XG5cdFx0XHRcdFx0XHRwcmludERhdGUgPSB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChwcmludERhdGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYWxlbmRlciArPSB0Ym9keSArIFwiPC90cj5cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRkcmF3TW9udGgrKztcblx0XHRcdFx0aWYgKGRyYXdNb250aCA+IDExKSB7XG5cdFx0XHRcdFx0ZHJhd01vbnRoID0gMDtcblx0XHRcdFx0XHRkcmF3WWVhcisrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhbGVuZGVyICs9IFwiPC90Ym9keT48L3RhYmxlPlwiICsgKGlzTXVsdGlNb250aCA/IFwiPC9kaXY+XCIgK1xuXHRcdFx0XHRcdFx0XHQoKG51bU1vbnRoc1swXSA+IDAgJiYgY29sID09PSBudW1Nb250aHNbMV0tMSkgPyBcIjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItcm93LWJyZWFrJz48L2Rpdj5cIiA6IFwiXCIpIDogXCJcIik7XG5cdFx0XHRcdGdyb3VwICs9IGNhbGVuZGVyO1xuXHRcdFx0fVxuXHRcdFx0aHRtbCArPSBncm91cDtcblx0XHR9XG5cdFx0aHRtbCArPSBidXR0b25QYW5lbDtcblx0XHRpbnN0Ll9rZXlFdmVudCA9IGZhbHNlO1xuXHRcdHJldHVybiBodG1sO1xuXHR9LFxuXG5cdC8qIEdlbmVyYXRlIHRoZSBtb250aCBhbmQgeWVhciBoZWFkZXIuICovXG5cdF9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcjogZnVuY3Rpb24oaW5zdCwgZHJhd01vbnRoLCBkcmF3WWVhciwgbWluRGF0ZSwgbWF4RGF0ZSxcblx0XHRcdHNlY29uZGFyeSwgbW9udGhOYW1lcywgbW9udGhOYW1lc1Nob3J0KSB7XG5cblx0XHR2YXIgaW5NaW5ZZWFyLCBpbk1heFllYXIsIG1vbnRoLCB5ZWFycywgdGhpc1llYXIsIGRldGVybWluZVllYXIsIHllYXIsIGVuZFllYXIsXG5cdFx0XHRjaGFuZ2VNb250aCA9IHRoaXMuX2dldChpbnN0LCBcImNoYW5nZU1vbnRoXCIpLFxuXHRcdFx0Y2hhbmdlWWVhciA9IHRoaXMuX2dldChpbnN0LCBcImNoYW5nZVllYXJcIiksXG5cdFx0XHRzaG93TW9udGhBZnRlclllYXIgPSB0aGlzLl9nZXQoaW5zdCwgXCJzaG93TW9udGhBZnRlclllYXJcIiksXG5cdFx0XHRodG1sID0gXCI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz5cIixcblx0XHRcdG1vbnRoSHRtbCA9IFwiXCI7XG5cblx0XHQvLyBtb250aCBzZWxlY3Rpb25cblx0XHRpZiAoc2Vjb25kYXJ5IHx8ICFjaGFuZ2VNb250aCkge1xuXHRcdFx0bW9udGhIdG1sICs9IFwiPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXItbW9udGgnPlwiICsgbW9udGhOYW1lc1tkcmF3TW9udGhdICsgXCI8L3NwYW4+XCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluTWluWWVhciA9IChtaW5EYXRlICYmIG1pbkRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gZHJhd1llYXIpO1xuXHRcdFx0aW5NYXhZZWFyID0gKG1heERhdGUgJiYgbWF4RGF0ZS5nZXRGdWxsWWVhcigpID09PSBkcmF3WWVhcik7XG5cdFx0XHRtb250aEh0bWwgKz0gXCI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPlwiO1xuXHRcdFx0Zm9yICggbW9udGggPSAwOyBtb250aCA8IDEyOyBtb250aCsrKSB7XG5cdFx0XHRcdGlmICgoIWluTWluWWVhciB8fCBtb250aCA+PSBtaW5EYXRlLmdldE1vbnRoKCkpICYmICghaW5NYXhZZWFyIHx8IG1vbnRoIDw9IG1heERhdGUuZ2V0TW9udGgoKSkpIHtcblx0XHRcdFx0XHRtb250aEh0bWwgKz0gXCI8b3B0aW9uIHZhbHVlPSdcIiArIG1vbnRoICsgXCInXCIgK1xuXHRcdFx0XHRcdFx0KG1vbnRoID09PSBkcmF3TW9udGggPyBcIiBzZWxlY3RlZD0nc2VsZWN0ZWQnXCIgOiBcIlwiKSArXG5cdFx0XHRcdFx0XHRcIj5cIiArIG1vbnRoTmFtZXNTaG9ydFttb250aF0gKyBcIjwvb3B0aW9uPlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtb250aEh0bWwgKz0gXCI8L3NlbGVjdD5cIjtcblx0XHR9XG5cblx0XHRpZiAoIXNob3dNb250aEFmdGVyWWVhcikge1xuXHRcdFx0aHRtbCArPSBtb250aEh0bWwgKyAoc2Vjb25kYXJ5IHx8ICEoY2hhbmdlTW9udGggJiYgY2hhbmdlWWVhcikgPyBcIiYjeGEwO1wiIDogXCJcIik7XG5cdFx0fVxuXG5cdFx0Ly8geWVhciBzZWxlY3Rpb25cblx0XHRpZiAoICFpbnN0LnllYXJzaHRtbCApIHtcblx0XHRcdGluc3QueWVhcnNodG1sID0gXCJcIjtcblx0XHRcdGlmIChzZWNvbmRhcnkgfHwgIWNoYW5nZVllYXIpIHtcblx0XHRcdFx0aHRtbCArPSBcIjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInPlwiICsgZHJhd1llYXIgKyBcIjwvc3Bhbj5cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGRldGVybWluZSByYW5nZSBvZiB5ZWFycyB0byBkaXNwbGF5XG5cdFx0XHRcdHllYXJzID0gdGhpcy5fZ2V0KGluc3QsIFwieWVhclJhbmdlXCIpLnNwbGl0KFwiOlwiKTtcblx0XHRcdFx0dGhpc1llYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRcdGRldGVybWluZVllYXIgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0XHRcdHZhciB5ZWFyID0gKHZhbHVlLm1hdGNoKC9jWytcXC1dLiovKSA/IGRyYXdZZWFyICsgcGFyc2VJbnQodmFsdWUuc3Vic3RyaW5nKDEpLCAxMCkgOlxuXHRcdFx0XHRcdFx0KHZhbHVlLm1hdGNoKC9bK1xcLV0uKi8pID8gdGhpc1llYXIgKyBwYXJzZUludCh2YWx1ZSwgMTApIDpcblx0XHRcdFx0XHRcdHBhcnNlSW50KHZhbHVlLCAxMCkpKTtcblx0XHRcdFx0XHRyZXR1cm4gKGlzTmFOKHllYXIpID8gdGhpc1llYXIgOiB5ZWFyKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0eWVhciA9IGRldGVybWluZVllYXIoeWVhcnNbMF0pO1xuXHRcdFx0XHRlbmRZZWFyID0gTWF0aC5tYXgoeWVhciwgZGV0ZXJtaW5lWWVhcih5ZWFyc1sxXSB8fCBcIlwiKSk7XG5cdFx0XHRcdHllYXIgPSAobWluRGF0ZSA/IE1hdGgubWF4KHllYXIsIG1pbkRhdGUuZ2V0RnVsbFllYXIoKSkgOiB5ZWFyKTtcblx0XHRcdFx0ZW5kWWVhciA9IChtYXhEYXRlID8gTWF0aC5taW4oZW5kWWVhciwgbWF4RGF0ZS5nZXRGdWxsWWVhcigpKSA6IGVuZFllYXIpO1xuXHRcdFx0XHRpbnN0LnllYXJzaHRtbCArPSBcIjxzZWxlY3QgY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcicgZGF0YS1oYW5kbGVyPSdzZWxlY3RZZWFyJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPlwiO1xuXHRcdFx0XHRmb3IgKDsgeWVhciA8PSBlbmRZZWFyOyB5ZWFyKyspIHtcblx0XHRcdFx0XHRpbnN0LnllYXJzaHRtbCArPSBcIjxvcHRpb24gdmFsdWU9J1wiICsgeWVhciArIFwiJ1wiICtcblx0XHRcdFx0XHRcdCh5ZWFyID09PSBkcmF3WWVhciA/IFwiIHNlbGVjdGVkPSdzZWxlY3RlZCdcIiA6IFwiXCIpICtcblx0XHRcdFx0XHRcdFwiPlwiICsgeWVhciArIFwiPC9vcHRpb24+XCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zdC55ZWFyc2h0bWwgKz0gXCI8L3NlbGVjdD5cIjtcblxuXHRcdFx0XHRodG1sICs9IGluc3QueWVhcnNodG1sO1xuXHRcdFx0XHRpbnN0LnllYXJzaHRtbCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aHRtbCArPSB0aGlzLl9nZXQoaW5zdCwgXCJ5ZWFyU3VmZml4XCIpO1xuXHRcdGlmIChzaG93TW9udGhBZnRlclllYXIpIHtcblx0XHRcdGh0bWwgKz0gKHNlY29uZGFyeSB8fCAhKGNoYW5nZU1vbnRoICYmIGNoYW5nZVllYXIpID8gXCImI3hhMDtcIiA6IFwiXCIpICsgbW9udGhIdG1sO1xuXHRcdH1cblx0XHRodG1sICs9IFwiPC9kaXY+XCI7IC8vIENsb3NlIGRhdGVwaWNrZXJfaGVhZGVyXG5cdFx0cmV0dXJuIGh0bWw7XG5cdH0sXG5cblx0LyogQWRqdXN0IG9uZSBvZiB0aGUgZGF0ZSBzdWItZmllbGRzLiAqL1xuXHRfYWRqdXN0SW5zdERhdGU6IGZ1bmN0aW9uKGluc3QsIG9mZnNldCwgcGVyaW9kKSB7XG5cdFx0dmFyIHllYXIgPSBpbnN0LmRyYXdZZWFyICsgKHBlcmlvZCA9PT0gXCJZXCIgPyBvZmZzZXQgOiAwKSxcblx0XHRcdG1vbnRoID0gaW5zdC5kcmF3TW9udGggKyAocGVyaW9kID09PSBcIk1cIiA/IG9mZnNldCA6IDApLFxuXHRcdFx0ZGF5ID0gTWF0aC5taW4oaW5zdC5zZWxlY3RlZERheSwgdGhpcy5fZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpKSArIChwZXJpb2QgPT09IFwiRFwiID8gb2Zmc2V0IDogMCksXG5cdFx0XHRkYXRlID0gdGhpcy5fcmVzdHJpY3RNaW5NYXgoaW5zdCwgdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoeWVhciwgbW9udGgsIGRheSkpKTtcblxuXHRcdGluc3Quc2VsZWN0ZWREYXkgPSBkYXRlLmdldERhdGUoKTtcblx0XHRpbnN0LmRyYXdNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcblx0XHRpbnN0LmRyYXdZZWFyID0gaW5zdC5zZWxlY3RlZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG5cdFx0aWYgKHBlcmlvZCA9PT0gXCJNXCIgfHwgcGVyaW9kID09PSBcIllcIikge1xuXHRcdFx0dGhpcy5fbm90aWZ5Q2hhbmdlKGluc3QpO1xuXHRcdH1cblx0fSxcblxuXHQvKiBFbnN1cmUgYSBkYXRlIGlzIHdpdGhpbiBhbnkgbWluL21heCBib3VuZHMuICovXG5cdF9yZXN0cmljdE1pbk1heDogZnVuY3Rpb24oaW5zdCwgZGF0ZSkge1xuXHRcdHZhciBtaW5EYXRlID0gdGhpcy5fZ2V0TWluTWF4RGF0ZShpbnN0LCBcIm1pblwiKSxcblx0XHRcdG1heERhdGUgPSB0aGlzLl9nZXRNaW5NYXhEYXRlKGluc3QsIFwibWF4XCIpLFxuXHRcdFx0bmV3RGF0ZSA9IChtaW5EYXRlICYmIGRhdGUgPCBtaW5EYXRlID8gbWluRGF0ZSA6IGRhdGUpO1xuXHRcdHJldHVybiAobWF4RGF0ZSAmJiBuZXdEYXRlID4gbWF4RGF0ZSA/IG1heERhdGUgOiBuZXdEYXRlKTtcblx0fSxcblxuXHQvKiBOb3RpZnkgY2hhbmdlIG9mIG1vbnRoL3llYXIuICovXG5cdF9ub3RpZnlDaGFuZ2U6IGZ1bmN0aW9uKGluc3QpIHtcblx0XHR2YXIgb25DaGFuZ2UgPSB0aGlzLl9nZXQoaW5zdCwgXCJvbkNoYW5nZU1vbnRoWWVhclwiKTtcblx0XHRpZiAob25DaGFuZ2UpIHtcblx0XHRcdG9uQ2hhbmdlLmFwcGx5KChpbnN0LmlucHV0ID8gaW5zdC5pbnB1dFswXSA6IG51bGwpLFxuXHRcdFx0XHRbaW5zdC5zZWxlY3RlZFllYXIsIGluc3Quc2VsZWN0ZWRNb250aCArIDEsIGluc3RdKTtcblx0XHR9XG5cdH0sXG5cblx0LyogRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgbW9udGhzIHRvIHNob3cuICovXG5cdF9nZXROdW1iZXJPZk1vbnRoczogZnVuY3Rpb24oaW5zdCkge1xuXHRcdHZhciBudW1Nb250aHMgPSB0aGlzLl9nZXQoaW5zdCwgXCJudW1iZXJPZk1vbnRoc1wiKTtcblx0XHRyZXR1cm4gKG51bU1vbnRocyA9PSBudWxsID8gWzEsIDFdIDogKHR5cGVvZiBudW1Nb250aHMgPT09IFwibnVtYmVyXCIgPyBbMSwgbnVtTW9udGhzXSA6IG51bU1vbnRocykpO1xuXHR9LFxuXG5cdC8qIERldGVybWluZSB0aGUgY3VycmVudCBtYXhpbXVtIGRhdGUgLSBlbnN1cmUgbm8gdGltZSBjb21wb25lbnRzIGFyZSBzZXQuICovXG5cdF9nZXRNaW5NYXhEYXRlOiBmdW5jdGlvbihpbnN0LCBtaW5NYXgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZGV0ZXJtaW5lRGF0ZShpbnN0LCB0aGlzLl9nZXQoaW5zdCwgbWluTWF4ICsgXCJEYXRlXCIpLCBudWxsKTtcblx0fSxcblxuXHQvKiBGaW5kIHRoZSBudW1iZXIgb2YgZGF5cyBpbiBhIGdpdmVuIG1vbnRoLiAqL1xuXHRfZ2V0RGF5c0luTW9udGg6IGZ1bmN0aW9uKHllYXIsIG1vbnRoKSB7XG5cdFx0cmV0dXJuIDMyIC0gdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoeWVhciwgbW9udGgsIDMyKSkuZ2V0RGF0ZSgpO1xuXHR9LFxuXG5cdC8qIEZpbmQgdGhlIGRheSBvZiB0aGUgd2VlayBvZiB0aGUgZmlyc3Qgb2YgYSBtb250aC4gKi9cblx0X2dldEZpcnN0RGF5T2ZNb250aDogZnVuY3Rpb24oeWVhciwgbW9udGgpIHtcblx0XHRyZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLmdldERheSgpO1xuXHR9LFxuXG5cdC8qIERldGVybWluZXMgaWYgd2Ugc2hvdWxkIGFsbG93IGEgXCJuZXh0L3ByZXZcIiBtb250aCBkaXNwbGF5IGNoYW5nZS4gKi9cblx0X2NhbkFkanVzdE1vbnRoOiBmdW5jdGlvbihpbnN0LCBvZmZzZXQsIGN1clllYXIsIGN1ck1vbnRoKSB7XG5cdFx0dmFyIG51bU1vbnRocyA9IHRoaXMuX2dldE51bWJlck9mTW9udGhzKGluc3QpLFxuXHRcdFx0ZGF0ZSA9IHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGN1clllYXIsXG5cdFx0XHRjdXJNb250aCArIChvZmZzZXQgPCAwID8gb2Zmc2V0IDogbnVtTW9udGhzWzBdICogbnVtTW9udGhzWzFdKSwgMSkpO1xuXG5cdFx0aWYgKG9mZnNldCA8IDApIHtcblx0XHRcdGRhdGUuc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aChkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5faXNJblJhbmdlKGluc3QsIGRhdGUpO1xuXHR9LFxuXG5cdC8qIElzIHRoZSBnaXZlbiBkYXRlIGluIHRoZSBhY2NlcHRlZCByYW5nZT8gKi9cblx0X2lzSW5SYW5nZTogZnVuY3Rpb24oaW5zdCwgZGF0ZSkge1xuXHRcdHZhciB5ZWFyU3BsaXQsIGN1cnJlbnRZZWFyLFxuXHRcdFx0bWluRGF0ZSA9IHRoaXMuX2dldE1pbk1heERhdGUoaW5zdCwgXCJtaW5cIiksXG5cdFx0XHRtYXhEYXRlID0gdGhpcy5fZ2V0TWluTWF4RGF0ZShpbnN0LCBcIm1heFwiKSxcblx0XHRcdG1pblllYXIgPSBudWxsLFxuXHRcdFx0bWF4WWVhciA9IG51bGwsXG5cdFx0XHR5ZWFycyA9IHRoaXMuX2dldChpbnN0LCBcInllYXJSYW5nZVwiKTtcblx0XHRcdGlmICh5ZWFycyl7XG5cdFx0XHRcdHllYXJTcGxpdCA9IHllYXJzLnNwbGl0KFwiOlwiKTtcblx0XHRcdFx0Y3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG5cdFx0XHRcdG1pblllYXIgPSBwYXJzZUludCh5ZWFyU3BsaXRbMF0sIDEwKTtcblx0XHRcdFx0bWF4WWVhciA9IHBhcnNlSW50KHllYXJTcGxpdFsxXSwgMTApO1xuXHRcdFx0XHRpZiAoIHllYXJTcGxpdFswXS5tYXRjaCgvWytcXC1dLiovKSApIHtcblx0XHRcdFx0XHRtaW5ZZWFyICs9IGN1cnJlbnRZZWFyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggeWVhclNwbGl0WzFdLm1hdGNoKC9bK1xcLV0uKi8pICkge1xuXHRcdFx0XHRcdG1heFllYXIgKz0gY3VycmVudFllYXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdHJldHVybiAoKCFtaW5EYXRlIHx8IGRhdGUuZ2V0VGltZSgpID49IG1pbkRhdGUuZ2V0VGltZSgpKSAmJlxuXHRcdFx0KCFtYXhEYXRlIHx8IGRhdGUuZ2V0VGltZSgpIDw9IG1heERhdGUuZ2V0VGltZSgpKSAmJlxuXHRcdFx0KCFtaW5ZZWFyIHx8IGRhdGUuZ2V0RnVsbFllYXIoKSA+PSBtaW5ZZWFyKSAmJlxuXHRcdFx0KCFtYXhZZWFyIHx8IGRhdGUuZ2V0RnVsbFllYXIoKSA8PSBtYXhZZWFyKSk7XG5cdH0sXG5cblx0LyogUHJvdmlkZSB0aGUgY29uZmlndXJhdGlvbiBzZXR0aW5ncyBmb3IgZm9ybWF0dGluZy9wYXJzaW5nLiAqL1xuXHRfZ2V0Rm9ybWF0Q29uZmlnOiBmdW5jdGlvbihpbnN0KSB7XG5cdFx0dmFyIHNob3J0WWVhckN1dG9mZiA9IHRoaXMuX2dldChpbnN0LCBcInNob3J0WWVhckN1dG9mZlwiKTtcblx0XHRzaG9ydFllYXJDdXRvZmYgPSAodHlwZW9mIHNob3J0WWVhckN1dG9mZiAhPT0gXCJzdHJpbmdcIiA/IHNob3J0WWVhckN1dG9mZiA6XG5cdFx0XHRuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgJSAxMDAgKyBwYXJzZUludChzaG9ydFllYXJDdXRvZmYsIDEwKSk7XG5cdFx0cmV0dXJuIHtzaG9ydFllYXJDdXRvZmY6IHNob3J0WWVhckN1dG9mZixcblx0XHRcdGRheU5hbWVzU2hvcnQ6IHRoaXMuX2dldChpbnN0LCBcImRheU5hbWVzU2hvcnRcIiksIGRheU5hbWVzOiB0aGlzLl9nZXQoaW5zdCwgXCJkYXlOYW1lc1wiKSxcblx0XHRcdG1vbnRoTmFtZXNTaG9ydDogdGhpcy5fZ2V0KGluc3QsIFwibW9udGhOYW1lc1Nob3J0XCIpLCBtb250aE5hbWVzOiB0aGlzLl9nZXQoaW5zdCwgXCJtb250aE5hbWVzXCIpfTtcblx0fSxcblxuXHQvKiBGb3JtYXQgdGhlIGdpdmVuIGRhdGUgZm9yIGRpc3BsYXkuICovXG5cdF9mb3JtYXREYXRlOiBmdW5jdGlvbihpbnN0LCBkYXksIG1vbnRoLCB5ZWFyKSB7XG5cdFx0aWYgKCFkYXkpIHtcblx0XHRcdGluc3QuY3VycmVudERheSA9IGluc3Quc2VsZWN0ZWREYXk7XG5cdFx0XHRpbnN0LmN1cnJlbnRNb250aCA9IGluc3Quc2VsZWN0ZWRNb250aDtcblx0XHRcdGluc3QuY3VycmVudFllYXIgPSBpbnN0LnNlbGVjdGVkWWVhcjtcblx0XHR9XG5cdFx0dmFyIGRhdGUgPSAoZGF5ID8gKHR5cGVvZiBkYXkgPT09IFwib2JqZWN0XCIgPyBkYXkgOlxuXHRcdFx0dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoeWVhciwgbW9udGgsIGRheSkpKSA6XG5cdFx0XHR0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpbnN0LmN1cnJlbnRZZWFyLCBpbnN0LmN1cnJlbnRNb250aCwgaW5zdC5jdXJyZW50RGF5KSkpO1xuXHRcdHJldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5fZ2V0KGluc3QsIFwiZGF0ZUZvcm1hdFwiKSwgZGF0ZSwgdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGluc3QpKTtcblx0fVxufSk7XG5cbi8qXG4gKiBCaW5kIGhvdmVyIGV2ZW50cyBmb3IgZGF0ZXBpY2tlciBlbGVtZW50cy5cbiAqIERvbmUgdmlhIGRlbGVnYXRlIHNvIHRoZSBiaW5kaW5nIG9ubHkgb2NjdXJzIG9uY2UgaW4gdGhlIGxpZmV0aW1lIG9mIHRoZSBwYXJlbnQgZGl2LlxuICogR2xvYmFsIGRhdGVwaWNrZXJfaW5zdEFjdGl2ZSwgc2V0IGJ5IF91cGRhdGVEYXRlcGlja2VyIGFsbG93cyB0aGUgaGFuZGxlcnMgdG8gZmluZCB0aGVpciB3YXkgYmFjayB0byB0aGUgYWN0aXZlIHBpY2tlci5cbiAqL1xuZnVuY3Rpb24gZGF0ZXBpY2tlcl9iaW5kSG92ZXIoZHBEaXYpIHtcblx0dmFyIHNlbGVjdG9yID0gXCJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGFcIjtcblx0cmV0dXJuIGRwRGl2LmRlbGVnYXRlKHNlbGVjdG9yLCBcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpO1xuXHRcdFx0aWYgKHRoaXMuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1kYXRlcGlja2VyLXByZXZcIikgIT09IC0xKSB7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXJcIik7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItbmV4dFwiKSAhPT0gLTEpIHtcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlclwiKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5kZWxlZ2F0ZSggc2VsZWN0b3IsIFwibW91c2VvdmVyXCIsIGRhdGVwaWNrZXJfaGFuZGxlTW91c2VvdmVyICk7XG59XG5cbmZ1bmN0aW9uIGRhdGVwaWNrZXJfaGFuZGxlTW91c2VvdmVyKCkge1xuXHRpZiAoISQuZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIoIGRhdGVwaWNrZXJfaW5zdEFjdGl2ZS5pbmxpbmU/IGRhdGVwaWNrZXJfaW5zdEFjdGl2ZS5kcERpdi5wYXJlbnQoKVswXSA6IGRhdGVwaWNrZXJfaW5zdEFjdGl2ZS5pbnB1dFswXSkpIHtcblx0XHQkKHRoaXMpLnBhcmVudHMoXCIudWktZGF0ZXBpY2tlci1jYWxlbmRhclwiKS5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKTtcblx0XHRpZiAodGhpcy5jbGFzc05hbWUuaW5kZXhPZihcInVpLWRhdGVwaWNrZXItcHJldlwiKSAhPT0gLTEpIHtcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXJcIik7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmNsYXNzTmFtZS5pbmRleE9mKFwidWktZGF0ZXBpY2tlci1uZXh0XCIpICE9PSAtMSkge1xuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcyhcInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlclwiKTtcblx0XHR9XG5cdH1cbn1cblxuLyogalF1ZXJ5IGV4dGVuZCBub3cgaWdub3JlcyBudWxscyEgKi9cbmZ1bmN0aW9uIGRhdGVwaWNrZXJfZXh0ZW5kUmVtb3ZlKHRhcmdldCwgcHJvcHMpIHtcblx0JC5leHRlbmQodGFyZ2V0LCBwcm9wcyk7XG5cdGZvciAodmFyIG5hbWUgaW4gcHJvcHMpIHtcblx0XHRpZiAocHJvcHNbbmFtZV0gPT0gbnVsbCkge1xuXHRcdFx0dGFyZ2V0W25hbWVdID0gcHJvcHNbbmFtZV07XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEludm9rZSB0aGUgZGF0ZXBpY2tlciBmdW5jdGlvbmFsaXR5LlxuICAgQHBhcmFtICBvcHRpb25zICBzdHJpbmcgLSBhIGNvbW1hbmQsIG9wdGlvbmFsbHkgZm9sbG93ZWQgYnkgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIG9yXG5cdFx0XHRcdFx0T2JqZWN0IC0gc2V0dGluZ3MgZm9yIGF0dGFjaGluZyBuZXcgZGF0ZXBpY2tlciBmdW5jdGlvbmFsaXR5XG4gICBAcmV0dXJuICBqUXVlcnkgb2JqZWN0ICovXG4kLmZuLmRhdGVwaWNrZXIgPSBmdW5jdGlvbihvcHRpb25zKXtcblxuXHQvKiBWZXJpZnkgYW4gZW1wdHkgY29sbGVjdGlvbiB3YXNuJ3QgcGFzc2VkIC0gRml4ZXMgIzY5NzYgKi9cblx0aWYgKCAhdGhpcy5sZW5ndGggKSB7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKiBJbml0aWFsaXNlIHRoZSBkYXRlIHBpY2tlci4gKi9cblx0aWYgKCEkLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQpIHtcblx0XHQkKGRvY3VtZW50KS5tb3VzZWRvd24oJC5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spO1xuXHRcdCQuZGF0ZXBpY2tlci5pbml0aWFsaXplZCA9IHRydWU7XG5cdH1cblxuXHQvKiBBcHBlbmQgZGF0ZXBpY2tlciBtYWluIGNvbnRhaW5lciB0byBib2R5IGlmIG5vdCBleGlzdC4gKi9cblx0aWYgKCQoXCIjXCIrJC5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCA9PT0gMCkge1xuXHRcdCQoXCJib2R5XCIpLmFwcGVuZCgkLmRhdGVwaWNrZXIuZHBEaXYpO1xuXHR9XG5cblx0dmFyIG90aGVyQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiAmJiAob3B0aW9ucyA9PT0gXCJpc0Rpc2FibGVkXCIgfHwgb3B0aW9ucyA9PT0gXCJnZXREYXRlXCIgfHwgb3B0aW9ucyA9PT0gXCJ3aWRnZXRcIikpIHtcblx0XHRyZXR1cm4gJC5kYXRlcGlja2VyW1wiX1wiICsgb3B0aW9ucyArIFwiRGF0ZXBpY2tlclwiXS5cblx0XHRcdGFwcGx5KCQuZGF0ZXBpY2tlciwgW3RoaXNbMF1dLmNvbmNhdChvdGhlckFyZ3MpKTtcblx0fVxuXHRpZiAob3B0aW9ucyA9PT0gXCJvcHRpb25cIiAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAyICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gJC5kYXRlcGlja2VyW1wiX1wiICsgb3B0aW9ucyArIFwiRGF0ZXBpY2tlclwiXS5cblx0XHRcdGFwcGx5KCQuZGF0ZXBpY2tlciwgW3RoaXNbMF1dLmNvbmNhdChvdGhlckFyZ3MpKTtcblx0fVxuXHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cblx0XHRcdCQuZGF0ZXBpY2tlcltcIl9cIiArIG9wdGlvbnMgKyBcIkRhdGVwaWNrZXJcIl0uXG5cdFx0XHRcdGFwcGx5KCQuZGF0ZXBpY2tlciwgW3RoaXNdLmNvbmNhdChvdGhlckFyZ3MpKSA6XG5cdFx0XHQkLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcywgb3B0aW9ucyk7XG5cdH0pO1xufTtcblxuJC5kYXRlcGlja2VyID0gbmV3IERhdGVwaWNrZXIoKTsgLy8gc2luZ2xldG9uIGluc3RhbmNlXG4kLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiQuZGF0ZXBpY2tlci51dWlkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4kLmRhdGVwaWNrZXIudmVyc2lvbiA9IFwiMS4xMS40XCI7XG5cbnZhciBkYXRlcGlja2VyID0gJC5kYXRlcGlja2VyO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIERyYWdnYWJsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RyYWdnYWJsZS9cbiAqL1xuXG5cbiQud2lkZ2V0KFwidWkuZHJhZ2dhYmxlXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwiZHJhZ1wiLFxuXHRvcHRpb25zOiB7XG5cdFx0YWRkQ2xhc3NlczogdHJ1ZSxcblx0XHRhcHBlbmRUbzogXCJwYXJlbnRcIixcblx0XHRheGlzOiBmYWxzZSxcblx0XHRjb25uZWN0VG9Tb3J0YWJsZTogZmFsc2UsXG5cdFx0Y29udGFpbm1lbnQ6IGZhbHNlLFxuXHRcdGN1cnNvcjogXCJhdXRvXCIsXG5cdFx0Y3Vyc29yQXQ6IGZhbHNlLFxuXHRcdGdyaWQ6IGZhbHNlLFxuXHRcdGhhbmRsZTogZmFsc2UsXG5cdFx0aGVscGVyOiBcIm9yaWdpbmFsXCIsXG5cdFx0aWZyYW1lRml4OiBmYWxzZSxcblx0XHRvcGFjaXR5OiBmYWxzZSxcblx0XHRyZWZyZXNoUG9zaXRpb25zOiBmYWxzZSxcblx0XHRyZXZlcnQ6IGZhbHNlLFxuXHRcdHJldmVydER1cmF0aW9uOiA1MDAsXG5cdFx0c2NvcGU6IFwiZGVmYXVsdFwiLFxuXHRcdHNjcm9sbDogdHJ1ZSxcblx0XHRzY3JvbGxTZW5zaXRpdml0eTogMjAsXG5cdFx0c2Nyb2xsU3BlZWQ6IDIwLFxuXHRcdHNuYXA6IGZhbHNlLFxuXHRcdHNuYXBNb2RlOiBcImJvdGhcIixcblx0XHRzbmFwVG9sZXJhbmNlOiAyMCxcblx0XHRzdGFjazogZmFsc2UsXG5cdFx0ekluZGV4OiBmYWxzZSxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGRyYWc6IG51bGwsXG5cdFx0c3RhcnQ6IG51bGwsXG5cdFx0c3RvcDogbnVsbFxuXHR9LFxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhlbHBlciA9PT0gXCJvcmlnaW5hbFwiICkge1xuXHRcdFx0dGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5vcHRpb25zLmFkZENsYXNzZXMpe1xuXHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktZHJhZ2dhYmxlXCIpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5vcHRpb25zLmRpc2FibGVkKXtcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLWRyYWdnYWJsZS1kaXNhYmxlZFwiKTtcblx0XHR9XG5cdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHRcdGlmICgga2V5ID09PSBcImhhbmRsZVwiICkge1xuXHRcdFx0dGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0XHR0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTtcblx0XHR9XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggKCB0aGlzLmhlbHBlciB8fCB0aGlzLmVsZW1lbnQgKS5pcyggXCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nXCIgKSApIHtcblx0XHRcdHRoaXMuZGVzdHJveU9uQ2xlYXIgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktZHJhZ2dhYmxlIHVpLWRyYWdnYWJsZS1kcmFnZ2luZyB1aS1kcmFnZ2FibGUtZGlzYWJsZWRcIiApO1xuXHRcdHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpO1xuXHRcdHRoaXMuX21vdXNlRGVzdHJveSgpO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLl9ibHVyQWN0aXZlRWxlbWVudCggZXZlbnQgKTtcblxuXHRcdC8vIGFtb25nIG90aGVycywgcHJldmVudCBhIGRyYWcgb24gYSByZXNpemFibGUtaGFuZGxlXG5cdFx0aWYgKHRoaXMuaGVscGVyIHx8IG8uZGlzYWJsZWQgfHwgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCIudWktcmVzaXphYmxlLWhhbmRsZVwiKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly9RdWl0IGlmIHdlJ3JlIG5vdCBvbiBhIHZhbGlkIGhhbmRsZVxuXHRcdHRoaXMuaGFuZGxlID0gdGhpcy5fZ2V0SGFuZGxlKGV2ZW50KTtcblx0XHRpZiAoIXRoaXMuaGFuZGxlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy5fYmxvY2tGcmFtZXMoIG8uaWZyYW1lRml4ID09PSB0cnVlID8gXCJpZnJhbWVcIiA6IG8uaWZyYW1lRml4ICk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9LFxuXG5cdF9ibG9ja0ZyYW1lczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMuaWZyYW1lQmxvY2tzID0gdGhpcy5kb2N1bWVudC5maW5kKCBzZWxlY3RvciApLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpZnJhbWUgPSAkKCB0aGlzICk7XG5cblx0XHRcdHJldHVybiAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0XHQuY3NzKCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIiApXG5cdFx0XHRcdC5hcHBlbmRUbyggaWZyYW1lLnBhcmVudCgpIClcblx0XHRcdFx0Lm91dGVyV2lkdGgoIGlmcmFtZS5vdXRlcldpZHRoKCkgKVxuXHRcdFx0XHQub3V0ZXJIZWlnaHQoIGlmcmFtZS5vdXRlckhlaWdodCgpIClcblx0XHRcdFx0Lm9mZnNldCggaWZyYW1lLm9mZnNldCgpIClbIDAgXTtcblx0XHR9KTtcblx0fSxcblxuXHRfdW5ibG9ja0ZyYW1lczogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLmlmcmFtZUJsb2NrcyApIHtcblx0XHRcdHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpO1xuXHRcdFx0ZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzO1xuXHRcdH1cblx0fSxcblxuXHRfYmx1ckFjdGl2ZUVsZW1lbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgZG9jdW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF07XG5cblx0XHQvLyBPbmx5IG5lZWQgdG8gYmx1ciBpZiB0aGUgZXZlbnQgb2NjdXJyZWQgb24gdGhlIGRyYWdnYWJsZSBpdHNlbGYsIHNlZSAjMTA1Mjdcblx0XHRpZiAoICF0aGlzLmhhbmRsZUVsZW1lbnQuaXMoIGV2ZW50LnRhcmdldCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHN1cHBvcnQ6IElFOVxuXHRcdC8vIElFOSB0aHJvd3MgYW4gXCJVbnNwZWNpZmllZCBlcnJvclwiIGFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGZyb20gYW4gPGlmcmFtZT5cblx0XHR0cnkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTksIElFMTBcblx0XHRcdC8vIElmIHRoZSA8Ym9keT4gaXMgYmx1cnJlZCwgSUUgd2lsbCBzd2l0Y2ggd2luZG93cywgc2VlICM5NTIwXG5cdFx0XHRpZiAoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImJvZHlcIiApIHtcblxuXHRcdFx0XHQvLyBCbHVyIGFueSBlbGVtZW50IHRoYXQgY3VycmVudGx5IGhhcyBmb2N1cywgc2VlICM0MjYxXG5cdFx0XHRcdCQoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgKS5ibHVyKCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoIGVycm9yICkge31cblx0fSxcblxuXHRfbW91c2VTdGFydDogZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0Ly9DcmVhdGUgYW5kIGFwcGVuZCB0aGUgdmlzaWJsZSBoZWxwZXJcblx0XHR0aGlzLmhlbHBlciA9IHRoaXMuX2NyZWF0ZUhlbHBlcihldmVudCk7XG5cblx0XHR0aGlzLmhlbHBlci5hZGRDbGFzcyhcInVpLWRyYWdnYWJsZS1kcmFnZ2luZ1wiKTtcblxuXHRcdC8vQ2FjaGUgdGhlIGhlbHBlciBzaXplXG5cdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXG5cdFx0Ly9JZiBkZG1hbmFnZXIgaXMgdXNlZCBmb3IgZHJvcHBhYmxlcywgc2V0IHRoZSBnbG9iYWwgZHJhZ2dhYmxlXG5cdFx0aWYgKCQudWkuZGRtYW5hZ2VyKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5jdXJyZW50ID0gdGhpcztcblx0XHR9XG5cblx0XHQvKlxuXHRcdCAqIC0gUG9zaXRpb24gZ2VuZXJhdGlvbiAtXG5cdFx0ICogVGhpcyBibG9jayBnZW5lcmF0ZXMgZXZlcnl0aGluZyBwb3NpdGlvbiByZWxhdGVkIC0gaXQncyB0aGUgY29yZSBvZiBkcmFnZ2FibGVzLlxuXHRcdCAqL1xuXG5cdFx0Ly9DYWNoZSB0aGUgbWFyZ2lucyBvZiB0aGUgb3JpZ2luYWwgZWxlbWVudFxuXHRcdHRoaXMuX2NhY2hlTWFyZ2lucygpO1xuXG5cdFx0Ly9TdG9yZSB0aGUgaGVscGVyJ3MgY3NzIHBvc2l0aW9uXG5cdFx0dGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcyggXCJwb3NpdGlvblwiICk7XG5cdFx0dGhpcy5zY3JvbGxQYXJlbnQgPSB0aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoIHRydWUgKTtcblx0XHR0aGlzLm9mZnNldFBhcmVudCA9IHRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpO1xuXHRcdHRoaXMuaGFzRml4ZWRBbmNlc3RvciA9IHRoaXMuaGVscGVyLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAkKCB0aGlzICkuY3NzKCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiO1xuXHRcdFx0fSkubGVuZ3RoID4gMDtcblxuXHRcdC8vVGhlIGVsZW1lbnQncyBhYnNvbHV0ZSBwb3NpdGlvbiBvbiB0aGUgcGFnZSBtaW51cyBtYXJnaW5zXG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuZWxlbWVudC5vZmZzZXQoKTtcblx0XHR0aGlzLl9yZWZyZXNoT2Zmc2V0cyggZXZlbnQgKTtcblxuXHRcdC8vR2VuZXJhdGUgdGhlIG9yaWdpbmFsIHBvc2l0aW9uXG5cdFx0dGhpcy5vcmlnaW5hbFBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50LCBmYWxzZSApO1xuXHRcdHRoaXMub3JpZ2luYWxQYWdlWCA9IGV2ZW50LnBhZ2VYO1xuXHRcdHRoaXMub3JpZ2luYWxQYWdlWSA9IGV2ZW50LnBhZ2VZO1xuXG5cdFx0Ly9BZGp1c3QgdGhlIG1vdXNlIG9mZnNldCByZWxhdGl2ZSB0byB0aGUgaGVscGVyIGlmIFwiY3Vyc29yQXRcIiBpcyBzdXBwbGllZFxuXHRcdChvLmN1cnNvckF0ICYmIHRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoby5jdXJzb3JBdCkpO1xuXG5cdFx0Ly9TZXQgYSBjb250YWlubWVudCBpZiBnaXZlbiBpbiB0aGUgb3B0aW9uc1xuXHRcdHRoaXMuX3NldENvbnRhaW5tZW50KCk7XG5cblx0XHQvL1RyaWdnZXIgZXZlbnQgKyBjYWxsYmFja3Ncblx0XHRpZiAodGhpcy5fdHJpZ2dlcihcInN0YXJ0XCIsIGV2ZW50KSA9PT0gZmFsc2UpIHtcblx0XHRcdHRoaXMuX2NsZWFyKCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly9SZWNhY2hlIHRoZSBoZWxwZXIgc2l6ZVxuXHRcdHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTtcblxuXHRcdC8vUHJlcGFyZSB0aGUgZHJvcHBhYmxlIG9mZnNldHNcblx0XHRpZiAoJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91cikge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdC8vIFJlc2V0IGhlbHBlcidzIHJpZ2h0L2JvdHRvbSBjc3MgaWYgdGhleSdyZSBzZXQgYW5kIHNldCBleHBsaWNpdCB3aWR0aC9oZWlnaHQgaW5zdGVhZFxuXHRcdC8vIGFzIHRoaXMgcHJldmVudHMgcmVzaXppbmcgb2YgZWxlbWVudHMgd2l0aCByaWdodC9ib3R0b20gc2V0IChzZWUgIzc3NzIpXG5cdFx0dGhpcy5fbm9ybWFsaXplUmlnaHRCb3R0b20oKTtcblxuXHRcdHRoaXMuX21vdXNlRHJhZyhldmVudCwgdHJ1ZSk7IC8vRXhlY3V0ZSB0aGUgZHJhZyBvbmNlIC0gdGhpcyBjYXVzZXMgdGhlIGhlbHBlciBub3QgdG8gYmUgdmlzaWJsZSBiZWZvcmUgZ2V0dGluZyBpdHMgY29ycmVjdCBwb3NpdGlvblxuXG5cdFx0Ly9JZiB0aGUgZGRtYW5hZ2VyIGlzIHVzZWQgZm9yIGRyb3BwYWJsZXMsIGluZm9ybSB0aGUgbWFuYWdlciB0aGF0IGRyYWdnaW5nIGhhcyBzdGFydGVkIChzZWUgIzUwMDMpXG5cdFx0aWYgKCAkLnVpLmRkbWFuYWdlciApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWdTdGFydCh0aGlzLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X3JlZnJlc2hPZmZzZXRzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dGhpcy5vZmZzZXQgPSB7XG5cdFx0XHR0b3A6IHRoaXMucG9zaXRpb25BYnMudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCxcblx0XHRcdGxlZnQ6IHRoaXMucG9zaXRpb25BYnMubGVmdCAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0c2Nyb2xsOiBmYWxzZSxcblx0XHRcdHBhcmVudDogdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCksXG5cdFx0XHRyZWxhdGl2ZTogdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKVxuXHRcdH07XG5cblx0XHR0aGlzLm9mZnNldC5jbGljayA9IHtcblx0XHRcdGxlZnQ6IGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQubGVmdCxcblx0XHRcdHRvcDogZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC50b3Bcblx0XHR9O1xuXHR9LFxuXG5cdF9tb3VzZURyYWc6IGZ1bmN0aW9uKGV2ZW50LCBub1Byb3BhZ2F0aW9uKSB7XG5cdFx0Ly8gcmVzZXQgYW55IG5lY2Vzc2FyeSBjYWNoZWQgcHJvcGVydGllcyAoc2VlICM1MDA5KVxuXHRcdGlmICggdGhpcy5oYXNGaXhlZEFuY2VzdG9yICkge1xuXHRcdFx0dGhpcy5vZmZzZXQucGFyZW50ID0gdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCk7XG5cdFx0fVxuXG5cdFx0Ly9Db21wdXRlIHRoZSBoZWxwZXJzIHBvc2l0aW9uXG5cdFx0dGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oIGV2ZW50LCB0cnVlICk7XG5cdFx0dGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKFwiYWJzb2x1dGVcIik7XG5cblx0XHQvL0NhbGwgcGx1Z2lucyBhbmQgY2FsbGJhY2tzIGFuZCB1c2UgdGhlIHJlc3VsdGluZyBwb3NpdGlvbiBpZiBzb21ldGhpbmcgaXMgcmV0dXJuZWRcblx0XHRpZiAoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdHZhciB1aSA9IHRoaXMuX3VpSGFzaCgpO1xuXHRcdFx0aWYgKHRoaXMuX3RyaWdnZXIoXCJkcmFnXCIsIGV2ZW50LCB1aSkgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHRoaXMuX21vdXNlVXAoe30pO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBvc2l0aW9uID0gdWkucG9zaXRpb247XG5cdFx0fVxuXG5cdFx0dGhpcy5oZWxwZXJbIDAgXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgXCJweFwiO1xuXHRcdHRoaXMuaGVscGVyWyAwIF0uc3R5bGUudG9wID0gdGhpcy5wb3NpdGlvbi50b3AgKyBcInB4XCI7XG5cblx0XHRpZiAoJC51aS5kZG1hbmFnZXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyYWcodGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0Ly9JZiB3ZSBhcmUgdXNpbmcgZHJvcHBhYmxlcywgaW5mb3JtIHRoZSBtYW5hZ2VyIGFib3V0IHRoZSBkcm9wXG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0ZHJvcHBlZCA9IGZhbHNlO1xuXHRcdGlmICgkLnVpLmRkbWFuYWdlciAmJiAhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdGRyb3BwZWQgPSAkLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHQvL2lmIGEgZHJvcCBjb21lcyBmcm9tIG91dHNpZGUgKGEgc29ydGFibGUpXG5cdFx0aWYgKHRoaXMuZHJvcHBlZCkge1xuXHRcdFx0ZHJvcHBlZCA9IHRoaXMuZHJvcHBlZDtcblx0XHRcdHRoaXMuZHJvcHBlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICgodGhpcy5vcHRpb25zLnJldmVydCA9PT0gXCJpbnZhbGlkXCIgJiYgIWRyb3BwZWQpIHx8ICh0aGlzLm9wdGlvbnMucmV2ZXJ0ID09PSBcInZhbGlkXCIgJiYgZHJvcHBlZCkgfHwgdGhpcy5vcHRpb25zLnJldmVydCA9PT0gdHJ1ZSB8fCAoJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpICYmIHRoaXMub3B0aW9ucy5yZXZlcnQuY2FsbCh0aGlzLmVsZW1lbnQsIGRyb3BwZWQpKSkge1xuXHRcdFx0JCh0aGlzLmhlbHBlcikuYW5pbWF0ZSh0aGlzLm9yaWdpbmFsUG9zaXRpb24sIHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwgMTApLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHRoYXQuX3RyaWdnZXIoXCJzdG9wXCIsIGV2ZW50KSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0XHR0aGF0Ll9jbGVhcigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMuX3RyaWdnZXIoXCJzdG9wXCIsIGV2ZW50KSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0dGhpcy5fY2xlYXIoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X21vdXNlVXA6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLl91bmJsb2NrRnJhbWVzKCk7XG5cblx0XHQvL0lmIHRoZSBkZG1hbmFnZXIgaXMgdXNlZCBmb3IgZHJvcHBhYmxlcywgaW5mb3JtIHRoZSBtYW5hZ2VyIHRoYXQgZHJhZ2dpbmcgaGFzIHN0b3BwZWQgKHNlZSAjNTAwMylcblx0XHRpZiAoICQudWkuZGRtYW5hZ2VyICkge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIuZHJhZ1N0b3AodGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdC8vIE9ubHkgbmVlZCB0byBmb2N1cyBpZiB0aGUgZXZlbnQgb2NjdXJyZWQgb24gdGhlIGRyYWdnYWJsZSBpdHNlbGYsIHNlZSAjMTA1Mjdcblx0XHRpZiAoIHRoaXMuaGFuZGxlRWxlbWVudC5pcyggZXZlbnQudGFyZ2V0ICkgKSB7XG5cdFx0XHQvLyBUaGUgaW50ZXJhY3Rpb24gaXMgb3Zlcjsgd2hldGhlciBvciBub3QgdGhlIGNsaWNrIHJlc3VsdGVkIGluIGEgZHJhZywgZm9jdXMgdGhlIGVsZW1lbnRcblx0XHRcdHRoaXMuZWxlbWVudC5mb2N1cygpO1xuXHRcdH1cblxuXHRcdHJldHVybiAkLnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fSxcblxuXHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYgKHRoaXMuaGVscGVyLmlzKFwiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZ1wiKSkge1xuXHRcdFx0dGhpcy5fbW91c2VVcCh7fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NsZWFyKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cblx0fSxcblxuXHRfZ2V0SGFuZGxlOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHJldHVybiB0aGlzLm9wdGlvbnMuaGFuZGxlID9cblx0XHRcdCEhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggdGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5oYW5kbGUgKSApLmxlbmd0aCA6XG5cdFx0XHR0cnVlO1xuXHR9LFxuXG5cdF9zZXRIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGFuZGxlRWxlbWVudCA9IHRoaXMub3B0aW9ucy5oYW5kbGUgP1xuXHRcdFx0dGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5oYW5kbGUgKSA6IHRoaXMuZWxlbWVudDtcblx0XHR0aGlzLmhhbmRsZUVsZW1lbnQuYWRkQ2xhc3MoIFwidWktZHJhZ2dhYmxlLWhhbmRsZVwiICk7XG5cdH0sXG5cblx0X3JlbW92ZUhhbmRsZUNsYXNzTmFtZTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5oYW5kbGVFbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWRyYWdnYWJsZS1oYW5kbGVcIiApO1xuXHR9LFxuXG5cdF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHR2YXIgbyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGhlbHBlcklzRnVuY3Rpb24gPSAkLmlzRnVuY3Rpb24oIG8uaGVscGVyICksXG5cdFx0XHRoZWxwZXIgPSBoZWxwZXJJc0Z1bmN0aW9uID9cblx0XHRcdFx0JCggby5oZWxwZXIuYXBwbHkoIHRoaXMuZWxlbWVudFsgMCBdLCBbIGV2ZW50IF0gKSApIDpcblx0XHRcdFx0KCBvLmhlbHBlciA9PT0gXCJjbG9uZVwiID9cblx0XHRcdFx0XHR0aGlzLmVsZW1lbnQuY2xvbmUoKS5yZW1vdmVBdHRyKCBcImlkXCIgKSA6XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50ICk7XG5cblx0XHRpZiAoIWhlbHBlci5wYXJlbnRzKFwiYm9keVwiKS5sZW5ndGgpIHtcblx0XHRcdGhlbHBlci5hcHBlbmRUbygoby5hcHBlbmRUbyA9PT0gXCJwYXJlbnRcIiA/IHRoaXMuZWxlbWVudFswXS5wYXJlbnROb2RlIDogby5hcHBlbmRUbykpO1xuXHRcdH1cblxuXHRcdC8vIGh0dHA6Ly9idWdzLmpxdWVyeXVpLmNvbS90aWNrZXQvOTQ0NlxuXHRcdC8vIGEgaGVscGVyIGZ1bmN0aW9uIGNhbiByZXR1cm4gdGhlIG9yaWdpbmFsIGVsZW1lbnRcblx0XHQvLyB3aGljaCB3b3VsZG4ndCBoYXZlIGJlZW4gc2V0IHRvIHJlbGF0aXZlIGluIF9jcmVhdGVcblx0XHRpZiAoIGhlbHBlcklzRnVuY3Rpb24gJiYgaGVscGVyWyAwIF0gPT09IHRoaXMuZWxlbWVudFsgMCBdICkge1xuXHRcdFx0dGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpO1xuXHRcdH1cblxuXHRcdGlmIChoZWxwZXJbMF0gIT09IHRoaXMuZWxlbWVudFswXSAmJiAhKC8oZml4ZWR8YWJzb2x1dGUpLykudGVzdChoZWxwZXIuY3NzKFwicG9zaXRpb25cIikpKSB7XG5cdFx0XHRoZWxwZXIuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGVscGVyO1xuXG5cdH0sXG5cblx0X3NldFBvc2l0aW9uUmVsYXRpdmU6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggISggL14oPzpyfGF8ZikvICkudGVzdCggdGhpcy5lbGVtZW50LmNzcyggXCJwb3NpdGlvblwiICkgKSApIHtcblx0XHRcdHRoaXMuZWxlbWVudFsgMCBdLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblx0fSxcblxuXHRfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjogZnVuY3Rpb24ob2JqKSB7XG5cdFx0aWYgKHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdG9iaiA9IG9iai5zcGxpdChcIiBcIik7XG5cdFx0fVxuXHRcdGlmICgkLmlzQXJyYXkob2JqKSkge1xuXHRcdFx0b2JqID0geyBsZWZ0OiArb2JqWzBdLCB0b3A6ICtvYmpbMV0gfHwgMCB9O1xuXHRcdH1cblx0XHRpZiAoXCJsZWZ0XCIgaW4gb2JqKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay5sZWZ0ID0gb2JqLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKFwicmlnaHRcIiBpbiBvYmopIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gb2JqLnJpZ2h0ICsgdGhpcy5tYXJnaW5zLmxlZnQ7XG5cdFx0fVxuXHRcdGlmIChcInRvcFwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gb2JqLnRvcCArIHRoaXMubWFyZ2lucy50b3A7XG5cdFx0fVxuXHRcdGlmIChcImJvdHRvbVwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2sudG9wID0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSBvYmouYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdH0sXG5cblx0X2lzUm9vdE5vZGU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHJldHVybiAoIC8oaHRtbHxib2R5KS9pICkudGVzdCggZWxlbWVudC50YWdOYW1lICkgfHwgZWxlbWVudCA9PT0gdGhpcy5kb2N1bWVudFsgMCBdO1xuXHR9LFxuXG5cdF9nZXRQYXJlbnRPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0Ly9HZXQgdGhlIG9mZnNldFBhcmVudCBhbmQgY2FjaGUgaXRzIHBvc2l0aW9uXG5cdFx0dmFyIHBvID0gdGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCksXG5cdFx0XHRkb2N1bWVudCA9IHRoaXMuZG9jdW1lbnRbIDAgXTtcblxuXHRcdC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2UgbmVlZCB0byBtb2RpZnkgYSBvZmZzZXQgY2FsY3VsYXRlZCBvbiBzdGFydCwgc2luY2UgdGhlIGZvbGxvd2luZyBoYXBwZW5lZDpcblx0XHQvLyAxLiBUaGUgcG9zaXRpb24gb2YgdGhlIGhlbHBlciBpcyBhYnNvbHV0ZSwgc28gaXQncyBwb3NpdGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBuZXh0IHBvc2l0aW9uZWQgcGFyZW50XG5cdFx0Ly8gMi4gVGhlIGFjdHVhbCBvZmZzZXQgcGFyZW50IGlzIGEgY2hpbGQgb2YgdGhlIHNjcm9sbCBwYXJlbnQsIGFuZCB0aGUgc2Nyb2xsIHBhcmVudCBpc24ndCB0aGUgZG9jdW1lbnQsIHdoaWNoIG1lYW5zIHRoYXRcblx0XHQvLyAgICB0aGUgc2Nyb2xsIGlzIGluY2x1ZGVkIGluIHRoZSBpbml0aWFsIGNhbGN1bGF0aW9uIG9mIHRoZSBvZmZzZXQgb2YgdGhlIHBhcmVudCwgYW5kIG5ldmVyIHJlY2FsY3VsYXRlZCB1cG9uIGRyYWdcblx0XHRpZiAodGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSBkb2N1bWVudCAmJiAkLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLCB0aGlzLm9mZnNldFBhcmVudFswXSkpIHtcblx0XHRcdHBvLmxlZnQgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpO1xuXHRcdFx0cG8udG9wICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpO1xuXHRcdH1cblxuXHRcdGlmICggdGhpcy5faXNSb290Tm9kZSggdGhpcy5vZmZzZXRQYXJlbnRbIDAgXSApICkge1xuXHRcdFx0cG8gPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHBvLnRvcCArIChwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwgMTApIHx8IDApLFxuXHRcdFx0bGVmdDogcG8ubGVmdCArIChwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoXCJib3JkZXJMZWZ0V2lkdGhcIiksIDEwKSB8fCAwKVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2V0UmVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5jc3NQb3NpdGlvbiAhPT0gXCJyZWxhdGl2ZVwiICkge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0dmFyIHAgPSB0aGlzLmVsZW1lbnQucG9zaXRpb24oKSxcblx0XHRcdHNjcm9sbElzUm9vdE5vZGUgPSB0aGlzLl9pc1Jvb3ROb2RlKCB0aGlzLnNjcm9sbFBhcmVudFsgMCBdICk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBwLnRvcCAtICggcGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCBcInRvcFwiICksIDEwKSB8fCAwICkgKyAoICFzY3JvbGxJc1Jvb3ROb2RlID8gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkgOiAwICksXG5cdFx0XHRsZWZ0OiBwLmxlZnQgLSAoIHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcyggXCJsZWZ0XCIgKSwgMTApIHx8IDAgKSArICggIXNjcm9sbElzUm9vdE5vZGUgPyB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkgOiAwIClcblx0XHR9O1xuXG5cdH0sXG5cblx0X2NhY2hlTWFyZ2luczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5tYXJnaW5zID0ge1xuXHRcdFx0bGVmdDogKHBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoXCJtYXJnaW5MZWZ0XCIpLCAxMCkgfHwgMCksXG5cdFx0XHR0b3A6IChwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKFwibWFyZ2luVG9wXCIpLCAxMCkgfHwgMCksXG5cdFx0XHRyaWdodDogKHBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoXCJtYXJnaW5SaWdodFwiKSwgMTApIHx8IDApLFxuXHRcdFx0Ym90dG9tOiAocGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcyhcIm1hcmdpbkJvdHRvbVwiKSwgMTApIHx8IDApXG5cdFx0fTtcblx0fSxcblxuXHRfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucyA9IHtcblx0XHRcdHdpZHRoOiB0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IHRoaXMuaGVscGVyLm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHR9LFxuXG5cdF9zZXRDb250YWlubWVudDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgaXNVc2VyU2Nyb2xsYWJsZSwgYywgY2UsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0ZG9jdW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF07XG5cblx0XHR0aGlzLnJlbGF0aXZlQ29udGFpbmVyID0gbnVsbDtcblxuXHRcdGlmICggIW8uY29udGFpbm1lbnQgKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gbnVsbDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG8uY29udGFpbm1lbnQgPT09IFwid2luZG93XCIgKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHQkKCB3aW5kb3cgKS5zY3JvbGxMZWZ0KCkgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsXG5cdFx0XHRcdCQoIHdpbmRvdyApLnNjcm9sbFRvcCgpIC0gdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wIC0gdGhpcy5vZmZzZXQucGFyZW50LnRvcCxcblx0XHRcdFx0JCggd2luZG93ICkuc2Nyb2xsTGVmdCgpICsgJCggd2luZG93ICkud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0JCggd2luZG93ICkuc2Nyb2xsVG9wKCkgKyAoICQoIHdpbmRvdyApLmhlaWdodCgpIHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQgKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcFxuXHRcdFx0XTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG8uY29udGFpbm1lbnQgPT09IFwiZG9jdW1lbnRcIikge1xuXHRcdFx0dGhpcy5jb250YWlubWVudCA9IFtcblx0XHRcdFx0MCxcblx0XHRcdFx0MCxcblx0XHRcdFx0JCggZG9jdW1lbnQgKS53aWR0aCgpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHQoICQoIGRvY3VtZW50ICkuaGVpZ2h0KCkgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCApIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wXG5cdFx0XHRdO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggby5jb250YWlubWVudC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gby5jb250YWlubWVudDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG8uY29udGFpbm1lbnQgPT09IFwicGFyZW50XCIgKSB7XG5cdFx0XHRvLmNvbnRhaW5tZW50ID0gdGhpcy5oZWxwZXJbIDAgXS5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdGMgPSAkKCBvLmNvbnRhaW5tZW50ICk7XG5cdFx0Y2UgPSBjWyAwIF07XG5cblx0XHRpZiAoICFjZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpc1VzZXJTY3JvbGxhYmxlID0gLyhzY3JvbGx8YXV0bykvLnRlc3QoIGMuY3NzKCBcIm92ZXJmbG93XCIgKSApO1xuXG5cdFx0dGhpcy5jb250YWlubWVudCA9IFtcblx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcImJvcmRlckxlZnRXaWR0aFwiICksIDEwICkgfHwgMCApICsgKCBwYXJzZUludCggYy5jc3MoIFwicGFkZGluZ0xlZnRcIiApLCAxMCApIHx8IDAgKSxcblx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcImJvcmRlclRvcFdpZHRoXCIgKSwgMTAgKSB8fCAwICkgKyAoIHBhcnNlSW50KCBjLmNzcyggXCJwYWRkaW5nVG9wXCIgKSwgMTAgKSB8fCAwICksXG5cdFx0XHQoIGlzVXNlclNjcm9sbGFibGUgPyBNYXRoLm1heCggY2Uuc2Nyb2xsV2lkdGgsIGNlLm9mZnNldFdpZHRoICkgOiBjZS5vZmZzZXRXaWR0aCApIC1cblx0XHRcdFx0KCBwYXJzZUludCggYy5jc3MoIFwiYm9yZGVyUmlnaHRXaWR0aFwiICksIDEwICkgfHwgMCApIC1cblx0XHRcdFx0KCBwYXJzZUludCggYy5jc3MoIFwicGFkZGluZ1JpZ2h0XCIgKSwgMTAgKSB8fCAwICkgLVxuXHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC1cblx0XHRcdFx0dGhpcy5tYXJnaW5zLmxlZnQgLVxuXHRcdFx0XHR0aGlzLm1hcmdpbnMucmlnaHQsXG5cdFx0XHQoIGlzVXNlclNjcm9sbGFibGUgPyBNYXRoLm1heCggY2Uuc2Nyb2xsSGVpZ2h0LCBjZS5vZmZzZXRIZWlnaHQgKSA6IGNlLm9mZnNldEhlaWdodCApIC1cblx0XHRcdFx0KCBwYXJzZUludCggYy5jc3MoIFwiYm9yZGVyQm90dG9tV2lkdGhcIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGMuY3NzKCBcInBhZGRpbmdCb3R0b21cIiApLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC1cblx0XHRcdFx0dGhpcy5tYXJnaW5zLnRvcCAtXG5cdFx0XHRcdHRoaXMubWFyZ2lucy5ib3R0b21cblx0XHRdO1xuXHRcdHRoaXMucmVsYXRpdmVDb250YWluZXIgPSBjO1xuXHR9LFxuXG5cdF9jb252ZXJ0UG9zaXRpb25UbzogZnVuY3Rpb24oZCwgcG9zKSB7XG5cblx0XHRpZiAoIXBvcykge1xuXHRcdFx0cG9zID0gdGhpcy5wb3NpdGlvbjtcblx0XHR9XG5cblx0XHR2YXIgbW9kID0gZCA9PT0gXCJhYnNvbHV0ZVwiID8gMSA6IC0xLFxuXHRcdFx0c2Nyb2xsSXNSb290Tm9kZSA9IHRoaXMuX2lzUm9vdE5vZGUoIHRoaXMuc2Nyb2xsUGFyZW50WyAwIF0gKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IChcblx0XHRcdFx0cG9zLnRvcFx0K1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAqIG1vZCArXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LnRvcCAqIG1vZCAtXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMub2Zmc2V0LnNjcm9sbC50b3AgOiAoIHNjcm9sbElzUm9vdE5vZGUgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCApICkgKiBtb2QpXG5cdFx0XHQpLFxuXHRcdFx0bGVmdDogKFxuXHRcdFx0XHRwb3MubGVmdCArXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAqIG1vZCArXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBtb2RcdC1cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgPyAtdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgOiAoIHNjcm9sbElzUm9vdE5vZGUgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgKSApICogbW9kKVxuXHRcdFx0KVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24oIGV2ZW50LCBjb25zdHJhaW5Qb3NpdGlvbiApIHtcblxuXHRcdHZhciBjb250YWlubWVudCwgY28sIHRvcCwgbGVmdCxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRzY3JvbGxJc1Jvb3ROb2RlID0gdGhpcy5faXNSb290Tm9kZSggdGhpcy5zY3JvbGxQYXJlbnRbIDAgXSApLFxuXHRcdFx0cGFnZVggPSBldmVudC5wYWdlWCxcblx0XHRcdHBhZ2VZID0gZXZlbnQucGFnZVk7XG5cblx0XHQvLyBDYWNoZSB0aGUgc2Nyb2xsXG5cdFx0aWYgKCAhc2Nyb2xsSXNSb290Tm9kZSB8fCAhdGhpcy5vZmZzZXQuc2Nyb2xsICkge1xuXHRcdFx0dGhpcy5vZmZzZXQuc2Nyb2xsID0ge1xuXHRcdFx0XHR0b3A6IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLFxuXHRcdFx0XHRsZWZ0OiB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KClcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiAtIFBvc2l0aW9uIGNvbnN0cmFpbmluZyAtXG5cdFx0ICogQ29uc3RyYWluIHRoZSBwb3NpdGlvbiB0byBhIG1peCBvZiBncmlkLCBjb250YWlubWVudC5cblx0XHQgKi9cblxuXHRcdC8vIElmIHdlIGFyZSBub3QgZHJhZ2dpbmcgeWV0LCB3ZSB3b24ndCBjaGVjayBmb3Igb3B0aW9uc1xuXHRcdGlmICggY29uc3RyYWluUG9zaXRpb24gKSB7XG5cdFx0XHRpZiAoIHRoaXMuY29udGFpbm1lbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5yZWxhdGl2ZUNvbnRhaW5lciApe1xuXHRcdFx0XHRcdGNvID0gdGhpcy5yZWxhdGl2ZUNvbnRhaW5lci5vZmZzZXQoKTtcblx0XHRcdFx0XHRjb250YWlubWVudCA9IFtcblx0XHRcdFx0XHRcdHRoaXMuY29udGFpbm1lbnRbIDAgXSArIGNvLmxlZnQsXG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5tZW50WyAxIF0gKyBjby50b3AsXG5cdFx0XHRcdFx0XHR0aGlzLmNvbnRhaW5tZW50WyAyIF0gKyBjby5sZWZ0LFxuXHRcdFx0XHRcdFx0dGhpcy5jb250YWlubWVudFsgMyBdICsgY28udG9wXG5cdFx0XHRcdFx0XTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250YWlubWVudCA9IHRoaXMuY29udGFpbm1lbnQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDwgY29udGFpbm1lbnRbMF0pIHtcblx0XHRcdFx0XHRwYWdlWCA9IGNvbnRhaW5tZW50WzBdICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPCBjb250YWlubWVudFsxXSkge1xuXHRcdFx0XHRcdHBhZ2VZID0gY29udGFpbm1lbnRbMV0gKyB0aGlzLm9mZnNldC5jbGljay50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IGNvbnRhaW5tZW50WzJdKSB7XG5cdFx0XHRcdFx0cGFnZVggPSBjb250YWlubWVudFsyXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID4gY29udGFpbm1lbnRbM10pIHtcblx0XHRcdFx0XHRwYWdlWSA9IGNvbnRhaW5tZW50WzNdICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvLmdyaWQpIHtcblx0XHRcdFx0Ly9DaGVjayBmb3IgZ3JpZCBlbGVtZW50cyBzZXQgdG8gMCB0byBwcmV2ZW50IGRpdmlkZSBieSAwIGVycm9yIGNhdXNpbmcgaW52YWxpZCBhcmd1bWVudCBlcnJvcnMgaW4gSUUgKHNlZSB0aWNrZXQgIzY5NTApXG5cdFx0XHRcdHRvcCA9IG8uZ3JpZFsxXSA/IHRoaXMub3JpZ2luYWxQYWdlWSArIE1hdGgucm91bmQoKHBhZ2VZIC0gdGhpcy5vcmlnaW5hbFBhZ2VZKSAvIG8uZ3JpZFsxXSkgKiBvLmdyaWRbMV0gOiB0aGlzLm9yaWdpbmFsUGFnZVk7XG5cdFx0XHRcdHBhZ2VZID0gY29udGFpbm1lbnQgPyAoKHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSBjb250YWlubWVudFsxXSB8fCB0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPiBjb250YWlubWVudFszXSkgPyB0b3AgOiAoKHRvcCAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSBjb250YWlubWVudFsxXSkgPyB0b3AgLSBvLmdyaWRbMV0gOiB0b3AgKyBvLmdyaWRbMV0pKSA6IHRvcDtcblxuXHRcdFx0XHRsZWZ0ID0gby5ncmlkWzBdID8gdGhpcy5vcmlnaW5hbFBhZ2VYICsgTWF0aC5yb3VuZCgocGFnZVggLSB0aGlzLm9yaWdpbmFsUGFnZVgpIC8gby5ncmlkWzBdKSAqIG8uZ3JpZFswXSA6IHRoaXMub3JpZ2luYWxQYWdlWDtcblx0XHRcdFx0cGFnZVggPSBjb250YWlubWVudCA/ICgobGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPj0gY29udGFpbm1lbnRbMF0gfHwgbGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiBjb250YWlubWVudFsyXSkgPyBsZWZ0IDogKChsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSBjb250YWlubWVudFswXSkgPyBsZWZ0IC0gby5ncmlkWzBdIDogbGVmdCArIG8uZ3JpZFswXSkpIDogbGVmdDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBvLmF4aXMgPT09IFwieVwiICkge1xuXHRcdFx0XHRwYWdlWCA9IHRoaXMub3JpZ2luYWxQYWdlWDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBvLmF4aXMgPT09IFwieFwiICkge1xuXHRcdFx0XHRwYWdlWSA9IHRoaXMub3JpZ2luYWxQYWdlWTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cdFx0XHRcdHBhZ2VZIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLnRvcFx0LVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgK1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdCggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMub2Zmc2V0LnNjcm9sbC50b3AgOiAoIHNjcm9sbElzUm9vdE5vZGUgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCApIClcblx0XHRcdCksXG5cdFx0XHRsZWZ0OiAoXG5cdFx0XHRcdHBhZ2VYIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIG1vdXNlIHBvc2l0aW9uXG5cdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENsaWNrIG9mZnNldCAocmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQpXG5cdFx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQubGVmdCArXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gVGhlIG9mZnNldFBhcmVudCdzIG9mZnNldCB3aXRob3V0IGJvcmRlcnMgKG9mZnNldCArIGJvcmRlcilcblx0XHRcdFx0KCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgPyAtdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgOiAoIHNjcm9sbElzUm9vdE5vZGUgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgKSApXG5cdFx0XHQpXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9jbGVhcjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5oZWxwZXIucmVtb3ZlQ2xhc3MoXCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIik7XG5cdFx0aWYgKHRoaXMuaGVscGVyWzBdICE9PSB0aGlzLmVsZW1lbnRbMF0gJiYgIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbCkge1xuXHRcdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cdFx0fVxuXHRcdHRoaXMuaGVscGVyID0gbnVsbDtcblx0XHR0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgPSBmYWxzZTtcblx0XHRpZiAoIHRoaXMuZGVzdHJveU9uQ2xlYXIgKSB7XG5cdFx0XHR0aGlzLmRlc3Ryb3koKTtcblx0XHR9XG5cdH0sXG5cblx0X25vcm1hbGl6ZVJpZ2h0Qm90dG9tOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5heGlzICE9PSBcInlcIiAmJiB0aGlzLmhlbHBlci5jc3MoIFwicmlnaHRcIiApICE9PSBcImF1dG9cIiApIHtcblx0XHRcdHRoaXMuaGVscGVyLndpZHRoKCB0aGlzLmhlbHBlci53aWR0aCgpICk7XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoIFwicmlnaHRcIiwgXCJhdXRvXCIgKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXhpcyAhPT0gXCJ4XCIgJiYgdGhpcy5oZWxwZXIuY3NzKCBcImJvdHRvbVwiICkgIT09IFwiYXV0b1wiICkge1xuXHRcdFx0dGhpcy5oZWxwZXIuaGVpZ2h0KCB0aGlzLmhlbHBlci5oZWlnaHQoKSApO1xuXHRcdFx0dGhpcy5oZWxwZXIuY3NzKCBcImJvdHRvbVwiLCBcImF1dG9cIiApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBGcm9tIG5vdyBvbiBidWxrIHN0dWZmIC0gbWFpbmx5IGhlbHBlcnNcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCB1aSApIHtcblx0XHR1aSA9IHVpIHx8IHRoaXMuX3VpSGFzaCgpO1xuXHRcdCQudWkucGx1Z2luLmNhbGwoIHRoaXMsIHR5cGUsIFsgZXZlbnQsIHVpLCB0aGlzIF0sIHRydWUgKTtcblxuXHRcdC8vIEFic29sdXRlIHBvc2l0aW9uIGFuZCBvZmZzZXQgKHNlZSAjNjg4NCApIGhhdmUgdG8gYmUgcmVjYWxjdWxhdGVkIGFmdGVyIHBsdWdpbnNcblx0XHRpZiAoIC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QoIHR5cGUgKSApIHtcblx0XHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyggXCJhYnNvbHV0ZVwiICk7XG5cdFx0XHR1aS5vZmZzZXQgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdH1cblx0XHRyZXR1cm4gJC5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmNhbGwoIHRoaXMsIHR5cGUsIGV2ZW50LCB1aSApO1xuXHR9LFxuXG5cdHBsdWdpbnM6IHt9LFxuXG5cdF91aUhhc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRoZWxwZXI6IHRoaXMuaGVscGVyLFxuXHRcdFx0cG9zaXRpb246IHRoaXMucG9zaXRpb24sXG5cdFx0XHRvcmlnaW5hbFBvc2l0aW9uOiB0aGlzLm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRvZmZzZXQ6IHRoaXMucG9zaXRpb25BYnNcblx0XHR9O1xuXHR9XG5cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwiZHJhZ2dhYmxlXCIsIFwiY29ubmVjdFRvU29ydGFibGVcIiwge1xuXHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgZHJhZ2dhYmxlICkge1xuXHRcdHZhciB1aVNvcnRhYmxlID0gJC5leHRlbmQoIHt9LCB1aSwge1xuXHRcdFx0aXRlbTogZHJhZ2dhYmxlLmVsZW1lbnRcblx0XHR9KTtcblxuXHRcdGRyYWdnYWJsZS5zb3J0YWJsZXMgPSBbXTtcblx0XHQkKCBkcmFnZ2FibGUub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc29ydGFibGUgPSAkKCB0aGlzICkuc29ydGFibGUoIFwiaW5zdGFuY2VcIiApO1xuXG5cdFx0XHRpZiAoIHNvcnRhYmxlICYmICFzb3J0YWJsZS5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0XHRkcmFnZ2FibGUuc29ydGFibGVzLnB1c2goIHNvcnRhYmxlICk7XG5cblx0XHRcdFx0Ly8gcmVmcmVzaFBvc2l0aW9ucyBpcyBjYWxsZWQgYXQgZHJhZyBzdGFydCB0byByZWZyZXNoIHRoZSBjb250YWluZXJDYWNoZVxuXHRcdFx0XHQvLyB3aGljaCBpcyB1c2VkIGluIGRyYWcuIFRoaXMgZW5zdXJlcyBpdCdzIGluaXRpYWxpemVkIGFuZCBzeW5jaHJvbml6ZWRcblx0XHRcdFx0Ly8gd2l0aCBhbnkgY2hhbmdlcyB0aGF0IG1pZ2h0IGhhdmUgaGFwcGVuZWQgb24gdGhlIHBhZ2Ugc2luY2UgaW5pdGlhbGl6YXRpb24uXG5cdFx0XHRcdHNvcnRhYmxlLnJlZnJlc2hQb3NpdGlvbnMoKTtcblx0XHRcdFx0c29ydGFibGUuX3RyaWdnZXIoXCJhY3RpdmF0ZVwiLCBldmVudCwgdWlTb3J0YWJsZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWksIGRyYWdnYWJsZSApIHtcblx0XHR2YXIgdWlTb3J0YWJsZSA9ICQuZXh0ZW5kKCB7fSwgdWksIHtcblx0XHRcdGl0ZW06IGRyYWdnYWJsZS5lbGVtZW50XG5cdFx0fSk7XG5cblx0XHRkcmFnZ2FibGUuY2FuY2VsSGVscGVyUmVtb3ZhbCA9IGZhbHNlO1xuXG5cdFx0JC5lYWNoKCBkcmFnZ2FibGUuc29ydGFibGVzLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzb3J0YWJsZSA9IHRoaXM7XG5cblx0XHRcdGlmICggc29ydGFibGUuaXNPdmVyICkge1xuXHRcdFx0XHRzb3J0YWJsZS5pc092ZXIgPSAwO1xuXG5cdFx0XHRcdC8vIEFsbG93IHRoaXMgc29ydGFibGUgdG8gaGFuZGxlIHJlbW92aW5nIHRoZSBoZWxwZXJcblx0XHRcdFx0ZHJhZ2dhYmxlLmNhbmNlbEhlbHBlclJlbW92YWwgPSB0cnVlO1xuXHRcdFx0XHRzb3J0YWJsZS5jYW5jZWxIZWxwZXJSZW1vdmFsID0gZmFsc2U7XG5cblx0XHRcdFx0Ly8gVXNlIF9zdG9yZWRDU1MgVG8gcmVzdG9yZSBwcm9wZXJ0aWVzIGluIHRoZSBzb3J0YWJsZSxcblx0XHRcdFx0Ly8gYXMgdGhpcyBhbHNvIGhhbmRsZXMgcmV2ZXJ0ICgjOTY3NSkgc2luY2UgdGhlIGRyYWdnYWJsZVxuXHRcdFx0XHQvLyBtYXkgaGF2ZSBtb2RpZmllZCB0aGVtIGluIHVuZXhwZWN0ZWQgd2F5cyAoIzg4MDkpXG5cdFx0XHRcdHNvcnRhYmxlLl9zdG9yZWRDU1MgPSB7XG5cdFx0XHRcdFx0cG9zaXRpb246IHNvcnRhYmxlLnBsYWNlaG9sZGVyLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0XHRcdFx0dG9wOiBzb3J0YWJsZS5wbGFjZWhvbGRlci5jc3MoIFwidG9wXCIgKSxcblx0XHRcdFx0XHRsZWZ0OiBzb3J0YWJsZS5wbGFjZWhvbGRlci5jc3MoIFwibGVmdFwiIClcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRzb3J0YWJsZS5fbW91c2VTdG9wKGV2ZW50KTtcblxuXHRcdFx0XHQvLyBPbmNlIGRyYWcgaGFzIGVuZGVkLCB0aGUgc29ydGFibGUgc2hvdWxkIHJldHVybiB0byB1c2luZ1xuXHRcdFx0XHQvLyBpdHMgb3JpZ2luYWwgaGVscGVyLCBub3QgdGhlIHNoYXJlZCBoZWxwZXIgZnJvbSBkcmFnZ2FibGVcblx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5oZWxwZXIgPSBzb3J0YWJsZS5vcHRpb25zLl9oZWxwZXI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBQcmV2ZW50IHRoaXMgU29ydGFibGUgZnJvbSByZW1vdmluZyB0aGUgaGVscGVyLlxuXHRcdFx0XHQvLyBIb3dldmVyLCBkb24ndCBzZXQgdGhlIGRyYWdnYWJsZSB0byByZW1vdmUgdGhlIGhlbHBlclxuXHRcdFx0XHQvLyBlaXRoZXIgYXMgYW5vdGhlciBjb25uZWN0ZWQgU29ydGFibGUgbWF5IHlldCBoYW5kbGUgdGhlIHJlbW92YWwuXG5cdFx0XHRcdHNvcnRhYmxlLmNhbmNlbEhlbHBlclJlbW92YWwgPSB0cnVlO1xuXG5cdFx0XHRcdHNvcnRhYmxlLl90cmlnZ2VyKCBcImRlYWN0aXZhdGVcIiwgZXZlbnQsIHVpU29ydGFibGUgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblx0ZHJhZzogZnVuY3Rpb24oIGV2ZW50LCB1aSwgZHJhZ2dhYmxlICkge1xuXHRcdCQuZWFjaCggZHJhZ2dhYmxlLnNvcnRhYmxlcywgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5uZXJtb3N0SW50ZXJzZWN0aW5nID0gZmFsc2UsXG5cdFx0XHRcdHNvcnRhYmxlID0gdGhpcztcblxuXHRcdFx0Ly8gQ29weSBvdmVyIHZhcmlhYmxlcyB0aGF0IHNvcnRhYmxlJ3MgX2ludGVyc2VjdHNXaXRoIHVzZXNcblx0XHRcdHNvcnRhYmxlLnBvc2l0aW9uQWJzID0gZHJhZ2dhYmxlLnBvc2l0aW9uQWJzO1xuXHRcdFx0c29ydGFibGUuaGVscGVyUHJvcG9ydGlvbnMgPSBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnM7XG5cdFx0XHRzb3J0YWJsZS5vZmZzZXQuY2xpY2sgPSBkcmFnZ2FibGUub2Zmc2V0LmNsaWNrO1xuXG5cdFx0XHRpZiAoIHNvcnRhYmxlLl9pbnRlcnNlY3RzV2l0aCggc29ydGFibGUuY29udGFpbmVyQ2FjaGUgKSApIHtcblx0XHRcdFx0aW5uZXJtb3N0SW50ZXJzZWN0aW5nID0gdHJ1ZTtcblxuXHRcdFx0XHQkLmVhY2goIGRyYWdnYWJsZS5zb3J0YWJsZXMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIENvcHkgb3ZlciB2YXJpYWJsZXMgdGhhdCBzb3J0YWJsZSdzIF9pbnRlcnNlY3RzV2l0aCB1c2VzXG5cdFx0XHRcdFx0dGhpcy5wb3NpdGlvbkFicyA9IGRyYWdnYWJsZS5wb3NpdGlvbkFicztcblx0XHRcdFx0XHR0aGlzLmhlbHBlclByb3BvcnRpb25zID0gZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zO1xuXHRcdFx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrID0gZHJhZ2dhYmxlLm9mZnNldC5jbGljaztcblxuXHRcdFx0XHRcdGlmICggdGhpcyAhPT0gc29ydGFibGUgJiZcblx0XHRcdFx0XHRcdFx0dGhpcy5faW50ZXJzZWN0c1dpdGgoIHRoaXMuY29udGFpbmVyQ2FjaGUgKSAmJlxuXHRcdFx0XHRcdFx0XHQkLmNvbnRhaW5zKCBzb3J0YWJsZS5lbGVtZW50WyAwIF0sIHRoaXMuZWxlbWVudFsgMCBdICkgKSB7XG5cdFx0XHRcdFx0XHRpbm5lcm1vc3RJbnRlcnNlY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gaW5uZXJtb3N0SW50ZXJzZWN0aW5nO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpbm5lcm1vc3RJbnRlcnNlY3RpbmcgKSB7XG5cdFx0XHRcdC8vIElmIGl0IGludGVyc2VjdHMsIHdlIHVzZSBhIGxpdHRsZSBpc092ZXIgdmFyaWFibGUgYW5kIHNldCBpdCBvbmNlLFxuXHRcdFx0XHQvLyBzbyB0aGF0IHRoZSBtb3ZlLWluIHN0dWZmIGdldHMgZmlyZWQgb25seSBvbmNlLlxuXHRcdFx0XHRpZiAoICFzb3J0YWJsZS5pc092ZXIgKSB7XG5cdFx0XHRcdFx0c29ydGFibGUuaXNPdmVyID0gMTtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGRyYWdnYWJsZSdzIHBhcmVudCBpbiBjYXNlIHdlIG5lZWQgdG8gcmVhcHBlbmQgdG8gaXQgbGF0ZXIuXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLl9wYXJlbnQgPSB1aS5oZWxwZXIucGFyZW50KCk7XG5cblx0XHRcdFx0XHRzb3J0YWJsZS5jdXJyZW50SXRlbSA9IHVpLmhlbHBlclxuXHRcdFx0XHRcdFx0LmFwcGVuZFRvKCBzb3J0YWJsZS5lbGVtZW50IClcblx0XHRcdFx0XHRcdC5kYXRhKCBcInVpLXNvcnRhYmxlLWl0ZW1cIiwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgaGVscGVyIG9wdGlvbiB0byBsYXRlciByZXN0b3JlIGl0XG5cdFx0XHRcdFx0c29ydGFibGUub3B0aW9ucy5faGVscGVyID0gc29ydGFibGUub3B0aW9ucy5oZWxwZXI7XG5cblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLmhlbHBlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHVpLmhlbHBlclsgMCBdO1xuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHQvLyBGaXJlIHRoZSBzdGFydCBldmVudHMgb2YgdGhlIHNvcnRhYmxlIHdpdGggb3VyIHBhc3NlZCBicm93c2VyIGV2ZW50LFxuXHRcdFx0XHRcdC8vIGFuZCBvdXIgb3duIGhlbHBlciAoc28gaXQgZG9lc24ndCBjcmVhdGUgYSBuZXcgb25lKVxuXHRcdFx0XHRcdGV2ZW50LnRhcmdldCA9IHNvcnRhYmxlLmN1cnJlbnRJdGVtWyAwIF07XG5cdFx0XHRcdFx0c29ydGFibGUuX21vdXNlQ2FwdHVyZSggZXZlbnQsIHRydWUgKTtcblx0XHRcdFx0XHRzb3J0YWJsZS5fbW91c2VTdGFydCggZXZlbnQsIHRydWUsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIEJlY2F1c2UgdGhlIGJyb3dzZXIgZXZlbnQgaXMgd2F5IG9mZiB0aGUgbmV3IGFwcGVuZGVkIHBvcnRsZXQsXG5cdFx0XHRcdFx0Ly8gbW9kaWZ5IG5lY2Vzc2FyeSB2YXJpYWJsZXMgdG8gcmVmbGVjdCB0aGUgY2hhbmdlc1xuXHRcdFx0XHRcdHNvcnRhYmxlLm9mZnNldC5jbGljay50b3AgPSBkcmFnZ2FibGUub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0XHRzb3J0YWJsZS5vZmZzZXQuY2xpY2subGVmdCA9IGRyYWdnYWJsZS5vZmZzZXQuY2xpY2subGVmdDtcblx0XHRcdFx0XHRzb3J0YWJsZS5vZmZzZXQucGFyZW50LmxlZnQgLT0gZHJhZ2dhYmxlLm9mZnNldC5wYXJlbnQubGVmdCAtXG5cdFx0XHRcdFx0XHRzb3J0YWJsZS5vZmZzZXQucGFyZW50LmxlZnQ7XG5cdFx0XHRcdFx0c29ydGFibGUub2Zmc2V0LnBhcmVudC50b3AgLT0gZHJhZ2dhYmxlLm9mZnNldC5wYXJlbnQudG9wIC1cblx0XHRcdFx0XHRcdHNvcnRhYmxlLm9mZnNldC5wYXJlbnQudG9wO1xuXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLl90cmlnZ2VyKCBcInRvU29ydGFibGVcIiwgZXZlbnQgKTtcblxuXHRcdFx0XHRcdC8vIEluZm9ybSBkcmFnZ2FibGUgdGhhdCB0aGUgaGVscGVyIGlzIGluIGEgdmFsaWQgZHJvcCB6b25lLFxuXHRcdFx0XHRcdC8vIHVzZWQgc29sZWx5IGluIHRoZSByZXZlcnQgb3B0aW9uIHRvIGhhbmRsZSBcInZhbGlkL2ludmFsaWRcIi5cblx0XHRcdFx0XHRkcmFnZ2FibGUuZHJvcHBlZCA9IHNvcnRhYmxlLmVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBOZWVkIHRvIHJlZnJlc2hQb3NpdGlvbnMgb2YgYWxsIHNvcnRhYmxlcyBpbiB0aGUgY2FzZSB0aGF0XG5cdFx0XHRcdFx0Ly8gYWRkaW5nIHRvIG9uZSBzb3J0YWJsZSBjaGFuZ2VzIHRoZSBsb2NhdGlvbiBvZiB0aGUgb3RoZXIgc29ydGFibGVzICgjOTY3NSlcblx0XHRcdFx0XHQkLmVhY2goIGRyYWdnYWJsZS5zb3J0YWJsZXMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBoYWNrIHNvIHJlY2VpdmUvdXBkYXRlIGNhbGxiYWNrcyB3b3JrIChtb3N0bHkpXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLmN1cnJlbnRJdGVtID0gZHJhZ2dhYmxlLmVsZW1lbnQ7XG5cdFx0XHRcdFx0c29ydGFibGUuZnJvbU91dHNpZGUgPSBkcmFnZ2FibGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNvcnRhYmxlLmN1cnJlbnRJdGVtICkge1xuXHRcdFx0XHRcdHNvcnRhYmxlLl9tb3VzZURyYWcoIGV2ZW50ICk7XG5cdFx0XHRcdFx0Ly8gQ29weSB0aGUgc29ydGFibGUncyBwb3NpdGlvbiBiZWNhdXNlIHRoZSBkcmFnZ2FibGUncyBjYW4gcG90ZW50aWFsbHkgcmVmbGVjdFxuXHRcdFx0XHRcdC8vIGEgcmVsYXRpdmUgcG9zaXRpb24sIHdoaWxlIHNvcnRhYmxlIGlzIGFsd2F5cyBhYnNvbHV0ZSwgd2hpY2ggdGhlIGRyYWdnZWRcblx0XHRcdFx0XHQvLyBlbGVtZW50IGhhcyBub3cgYmVjb21lLiAoIzg4MDkpXG5cdFx0XHRcdFx0dWkucG9zaXRpb24gPSBzb3J0YWJsZS5wb3NpdGlvbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSWYgaXQgZG9lc24ndCBpbnRlcnNlY3Qgd2l0aCB0aGUgc29ydGFibGUsIGFuZCBpdCBpbnRlcnNlY3RlZCBiZWZvcmUsXG5cdFx0XHRcdC8vIHdlIGZha2UgdGhlIGRyYWcgc3RvcCBvZiB0aGUgc29ydGFibGUsIGJ1dCBtYWtlIHN1cmUgaXQgZG9lc24ndCByZW1vdmVcblx0XHRcdFx0Ly8gdGhlIGhlbHBlciBieSB1c2luZyBjYW5jZWxIZWxwZXJSZW1vdmFsLlxuXHRcdFx0XHRpZiAoIHNvcnRhYmxlLmlzT3ZlciApIHtcblxuXHRcdFx0XHRcdHNvcnRhYmxlLmlzT3ZlciA9IDA7XG5cdFx0XHRcdFx0c29ydGFibGUuY2FuY2VsSGVscGVyUmVtb3ZhbCA9IHRydWU7XG5cblx0XHRcdFx0XHQvLyBDYWxsaW5nIHNvcnRhYmxlJ3MgbW91c2VTdG9wIHdvdWxkIHRyaWdnZXIgYSByZXZlcnQsXG5cdFx0XHRcdFx0Ly8gc28gcmV2ZXJ0IG11c3QgYmUgdGVtcG9yYXJpbHkgZmFsc2UgdW50aWwgYWZ0ZXIgbW91c2VTdG9wIGlzIGNhbGxlZC5cblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLl9yZXZlcnQgPSBzb3J0YWJsZS5vcHRpb25zLnJldmVydDtcblx0XHRcdFx0XHRzb3J0YWJsZS5vcHRpb25zLnJldmVydCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0c29ydGFibGUuX3RyaWdnZXIoIFwib3V0XCIsIGV2ZW50LCBzb3J0YWJsZS5fdWlIYXNoKCBzb3J0YWJsZSApICk7XG5cdFx0XHRcdFx0c29ydGFibGUuX21vdXNlU3RvcCggZXZlbnQsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIHJlc3RvcmUgc29ydGFibGUgYmVoYXZpb3JzIHRoYXQgd2VyZSBtb2RmaWVkXG5cdFx0XHRcdFx0Ly8gd2hlbiB0aGUgZHJhZ2dhYmxlIGVudGVyZWQgdGhlIHNvcnRhYmxlIGFyZWEgKCM5NDgxKVxuXHRcdFx0XHRcdHNvcnRhYmxlLm9wdGlvbnMucmV2ZXJ0ID0gc29ydGFibGUub3B0aW9ucy5fcmV2ZXJ0O1xuXHRcdFx0XHRcdHNvcnRhYmxlLm9wdGlvbnMuaGVscGVyID0gc29ydGFibGUub3B0aW9ucy5faGVscGVyO1xuXG5cdFx0XHRcdFx0aWYgKCBzb3J0YWJsZS5wbGFjZWhvbGRlciApIHtcblx0XHRcdFx0XHRcdHNvcnRhYmxlLnBsYWNlaG9sZGVyLnJlbW92ZSgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFJlc3RvcmUgYW5kIHJlY2FsY3VsYXRlIHRoZSBkcmFnZ2FibGUncyBvZmZzZXQgY29uc2lkZXJpbmcgdGhlIHNvcnRhYmxlXG5cdFx0XHRcdFx0Ly8gbWF5IGhhdmUgbW9kaWZpZWQgdGhlbSBpbiB1bmV4cGVjdGVkIHdheXMuICgjODgwOSwgIzEwNjY5KVxuXHRcdFx0XHRcdHVpLmhlbHBlci5hcHBlbmRUbyggZHJhZ2dhYmxlLl9wYXJlbnQgKTtcblx0XHRcdFx0XHRkcmFnZ2FibGUuX3JlZnJlc2hPZmZzZXRzKCBldmVudCApO1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uID0gZHJhZ2dhYmxlLl9nZW5lcmF0ZVBvc2l0aW9uKCBldmVudCwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLl90cmlnZ2VyKCBcImZyb21Tb3J0YWJsZVwiLCBldmVudCApO1xuXG5cdFx0XHRcdFx0Ly8gSW5mb3JtIGRyYWdnYWJsZSB0aGF0IHRoZSBoZWxwZXIgaXMgbm8gbG9uZ2VyIGluIGEgdmFsaWQgZHJvcCB6b25lXG5cdFx0XHRcdFx0ZHJhZ2dhYmxlLmRyb3BwZWQgPSBmYWxzZTtcblxuXHRcdFx0XHRcdC8vIE5lZWQgdG8gcmVmcmVzaFBvc2l0aW9ucyBvZiBhbGwgc29ydGFibGVzIGp1c3QgaW4gY2FzZSByZW1vdmluZ1xuXHRcdFx0XHRcdC8vIGZyb20gb25lIHNvcnRhYmxlIGNoYW5nZXMgdGhlIGxvY2F0aW9uIG9mIG90aGVyIHNvcnRhYmxlcyAoIzk2NzUpXG5cdFx0XHRcdFx0JC5lYWNoKCBkcmFnZ2FibGUuc29ydGFibGVzLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaFBvc2l0aW9ucygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIiwgXCJjdXJzb3JcIiwge1xuXHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaW5zdGFuY2UgKSB7XG5cdFx0dmFyIHQgPSAkKCBcImJvZHlcIiApLFxuXHRcdFx0byA9IGluc3RhbmNlLm9wdGlvbnM7XG5cblx0XHRpZiAodC5jc3MoXCJjdXJzb3JcIikpIHtcblx0XHRcdG8uX2N1cnNvciA9IHQuY3NzKFwiY3Vyc29yXCIpO1xuXHRcdH1cblx0XHR0LmNzcyhcImN1cnNvclwiLCBvLmN1cnNvcik7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciBvID0gaW5zdGFuY2Uub3B0aW9ucztcblx0XHRpZiAoby5fY3Vyc29yKSB7XG5cdFx0XHQkKFwiYm9keVwiKS5jc3MoXCJjdXJzb3JcIiwgby5fY3Vyc29yKTtcblx0XHR9XG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIiwgXCJvcGFjaXR5XCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciB0ID0gJCggdWkuaGVscGVyICksXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucztcblx0XHRpZiAodC5jc3MoXCJvcGFjaXR5XCIpKSB7XG5cdFx0XHRvLl9vcGFjaXR5ID0gdC5jc3MoXCJvcGFjaXR5XCIpO1xuXHRcdH1cblx0XHR0LmNzcyhcIm9wYWNpdHlcIiwgby5vcGFjaXR5KTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaW5zdGFuY2UgKSB7XG5cdFx0dmFyIG8gPSBpbnN0YW5jZS5vcHRpb25zO1xuXHRcdGlmIChvLl9vcGFjaXR5KSB7XG5cdFx0XHQkKHVpLmhlbHBlcikuY3NzKFwib3BhY2l0eVwiLCBvLl9vcGFjaXR5KTtcblx0XHR9XG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIiwgXCJzY3JvbGxcIiwge1xuXHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaSApIHtcblx0XHRpZiAoICFpLnNjcm9sbFBhcmVudE5vdEhpZGRlbiApIHtcblx0XHRcdGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuID0gaS5oZWxwZXIuc2Nyb2xsUGFyZW50KCBmYWxzZSApO1xuXHRcdH1cblxuXHRcdGlmICggaS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bIDAgXSAhPT0gaS5kb2N1bWVudFsgMCBdICYmIGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWyAwIF0udGFnTmFtZSAhPT0gXCJIVE1MXCIgKSB7XG5cdFx0XHRpLm92ZXJmbG93T2Zmc2V0ID0gaS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCk7XG5cdFx0fVxuXHR9LFxuXHRkcmFnOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpICApIHtcblxuXHRcdHZhciBvID0gaS5vcHRpb25zLFxuXHRcdFx0c2Nyb2xsZWQgPSBmYWxzZSxcblx0XHRcdHNjcm9sbFBhcmVudCA9IGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWyAwIF0sXG5cdFx0XHRkb2N1bWVudCA9IGkuZG9jdW1lbnRbIDAgXTtcblxuXHRcdGlmICggc2Nyb2xsUGFyZW50ICE9PSBkb2N1bWVudCAmJiBzY3JvbGxQYXJlbnQudGFnTmFtZSAhPT0gXCJIVE1MXCIgKSB7XG5cdFx0XHRpZiAoICFvLmF4aXMgfHwgby5heGlzICE9PSBcInhcIiApIHtcblx0XHRcdFx0aWYgKCAoIGkub3ZlcmZsb3dPZmZzZXQudG9wICsgc2Nyb2xsUGFyZW50Lm9mZnNldEhlaWdodCApIC0gZXZlbnQucGFnZVkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudC5zY3JvbGxUb3AgPSBzY3JvbGxlZCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3AgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBldmVudC5wYWdlWSAtIGkub3ZlcmZsb3dPZmZzZXQudG9wIDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsZWQgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wIC0gby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICFvLmF4aXMgfHwgby5heGlzICE9PSBcInlcIiApIHtcblx0XHRcdFx0aWYgKCAoIGkub3ZlcmZsb3dPZmZzZXQubGVmdCArIHNjcm9sbFBhcmVudC5vZmZzZXRXaWR0aCApIC0gZXZlbnQucGFnZVggPCBvLnNjcm9sbFNlbnNpdGl2aXR5ICkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0ID0gc2Nyb2xsZWQgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIGV2ZW50LnBhZ2VYIC0gaS5vdmVyZmxvd09mZnNldC5sZWZ0IDwgby5zY3JvbGxTZW5zaXRpdml0eSApIHtcblx0XHRcdFx0XHRzY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQgLSBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRpZiAoIW8uYXhpcyB8fCBvLmF4aXMgIT09IFwieFwiKSB7XG5cdFx0XHRcdGlmIChldmVudC5wYWdlWSAtICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpIC0gby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoJCh3aW5kb3cpLmhlaWdodCgpIC0gKGV2ZW50LnBhZ2VZIC0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gJChkb2N1bWVudCkuc2Nyb2xsVG9wKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpICsgby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCFvLmF4aXMgfHwgby5heGlzICE9PSBcInlcIikge1xuXHRcdFx0XHRpZiAoZXZlbnQucGFnZVggLSAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSAkKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSAtIG8uc2Nyb2xsU3BlZWQpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCQod2luZG93KS53aWR0aCgpIC0gKGV2ZW50LnBhZ2VYIC0gJChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9ICQoZG9jdW1lbnQpLnNjcm9sbExlZnQoJChkb2N1bWVudCkuc2Nyb2xsTGVmdCgpICsgby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmIChzY3JvbGxlZCAhPT0gZmFsc2UgJiYgJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91cikge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoaSwgZXZlbnQpO1xuXHRcdH1cblxuXHR9XG59KTtcblxuJC51aS5wbHVnaW4uYWRkKFwiZHJhZ2dhYmxlXCIsIFwic25hcFwiLCB7XG5cdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpICkge1xuXG5cdFx0dmFyIG8gPSBpLm9wdGlvbnM7XG5cblx0XHRpLnNuYXBFbGVtZW50cyA9IFtdO1xuXG5cdFx0JChvLnNuYXAuY29uc3RydWN0b3IgIT09IFN0cmluZyA/ICggby5zbmFwLml0ZW1zIHx8IFwiOmRhdGEodWktZHJhZ2dhYmxlKVwiICkgOiBvLnNuYXApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJHQgPSAkKHRoaXMpLFxuXHRcdFx0XHQkbyA9ICR0Lm9mZnNldCgpO1xuXHRcdFx0aWYgKHRoaXMgIT09IGkuZWxlbWVudFswXSkge1xuXHRcdFx0XHRpLnNuYXBFbGVtZW50cy5wdXNoKHtcblx0XHRcdFx0XHRpdGVtOiB0aGlzLFxuXHRcdFx0XHRcdHdpZHRoOiAkdC5vdXRlcldpZHRoKCksIGhlaWdodDogJHQub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0XHR0b3A6ICRvLnRvcCwgbGVmdDogJG8ubGVmdFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHR9LFxuXHRkcmFnOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0ICkge1xuXG5cdFx0dmFyIHRzLCBicywgbHMsIHJzLCBsLCByLCB0LCBiLCBpLCBmaXJzdCxcblx0XHRcdG8gPSBpbnN0Lm9wdGlvbnMsXG5cdFx0XHRkID0gby5zbmFwVG9sZXJhbmNlLFxuXHRcdFx0eDEgPSB1aS5vZmZzZXQubGVmdCwgeDIgPSB4MSArIGluc3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsXG5cdFx0XHR5MSA9IHVpLm9mZnNldC50b3AsIHkyID0geTEgKyBpbnN0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodDtcblxuXHRcdGZvciAoaSA9IGluc3Quc25hcEVsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblxuXHRcdFx0bCA9IGluc3Quc25hcEVsZW1lbnRzW2ldLmxlZnQgLSBpbnN0Lm1hcmdpbnMubGVmdDtcblx0XHRcdHIgPSBsICsgaW5zdC5zbmFwRWxlbWVudHNbaV0ud2lkdGg7XG5cdFx0XHR0ID0gaW5zdC5zbmFwRWxlbWVudHNbaV0udG9wIC0gaW5zdC5tYXJnaW5zLnRvcDtcblx0XHRcdGIgPSB0ICsgaW5zdC5zbmFwRWxlbWVudHNbaV0uaGVpZ2h0O1xuXG5cdFx0XHRpZiAoIHgyIDwgbCAtIGQgfHwgeDEgPiByICsgZCB8fCB5MiA8IHQgLSBkIHx8IHkxID4gYiArIGQgfHwgISQuY29udGFpbnMoIGluc3Quc25hcEVsZW1lbnRzWyBpIF0uaXRlbS5vd25lckRvY3VtZW50LCBpbnN0LnNuYXBFbGVtZW50c1sgaSBdLml0ZW0gKSApIHtcblx0XHRcdFx0aWYgKGluc3Quc25hcEVsZW1lbnRzW2ldLnNuYXBwaW5nKSB7XG5cdFx0XHRcdFx0KGluc3Qub3B0aW9ucy5zbmFwLnJlbGVhc2UgJiYgaW5zdC5vcHRpb25zLnNuYXAucmVsZWFzZS5jYWxsKGluc3QuZWxlbWVudCwgZXZlbnQsICQuZXh0ZW5kKGluc3QuX3VpSGFzaCgpLCB7IHNuYXBJdGVtOiBpbnN0LnNuYXBFbGVtZW50c1tpXS5pdGVtIH0pKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zdC5zbmFwRWxlbWVudHNbaV0uc25hcHBpbmcgPSBmYWxzZTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvLnNuYXBNb2RlICE9PSBcImlubmVyXCIpIHtcblx0XHRcdFx0dHMgPSBNYXRoLmFicyh0IC0geTIpIDw9IGQ7XG5cdFx0XHRcdGJzID0gTWF0aC5hYnMoYiAtIHkxKSA8PSBkO1xuXHRcdFx0XHRscyA9IE1hdGguYWJzKGwgLSB4MikgPD0gZDtcblx0XHRcdFx0cnMgPSBNYXRoLmFicyhyIC0geDEpIDw9IGQ7XG5cdFx0XHRcdGlmICh0cykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLnRvcCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IHQgLSBpbnN0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodCwgbGVmdDogMCB9KS50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGJzKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24udG9wID0gaW5zdC5fY29udmVydFBvc2l0aW9uVG8oXCJyZWxhdGl2ZVwiLCB7IHRvcDogYiwgbGVmdDogMCB9KS50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGxzKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24ubGVmdCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IDAsIGxlZnQ6IGwgLSBpbnN0LmhlbHBlclByb3BvcnRpb25zLndpZHRoIH0pLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJzKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24ubGVmdCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IDAsIGxlZnQ6IHIgfSkubGVmdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmaXJzdCA9ICh0cyB8fCBicyB8fCBscyB8fCBycyk7XG5cblx0XHRcdGlmIChvLnNuYXBNb2RlICE9PSBcIm91dGVyXCIpIHtcblx0XHRcdFx0dHMgPSBNYXRoLmFicyh0IC0geTEpIDw9IGQ7XG5cdFx0XHRcdGJzID0gTWF0aC5hYnMoYiAtIHkyKSA8PSBkO1xuXHRcdFx0XHRscyA9IE1hdGguYWJzKGwgLSB4MSkgPD0gZDtcblx0XHRcdFx0cnMgPSBNYXRoLmFicyhyIC0geDIpIDw9IGQ7XG5cdFx0XHRcdGlmICh0cykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLnRvcCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IHQsIGxlZnQ6IDAgfSkudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChicykge1xuXHRcdFx0XHRcdHVpLnBvc2l0aW9uLnRvcCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IGIgLSBpbnN0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodCwgbGVmdDogMCB9KS50b3A7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGxzKSB7XG5cdFx0XHRcdFx0dWkucG9zaXRpb24ubGVmdCA9IGluc3QuX2NvbnZlcnRQb3NpdGlvblRvKFwicmVsYXRpdmVcIiwgeyB0b3A6IDAsIGxlZnQ6IGwgfSkubGVmdDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnMpIHtcblx0XHRcdFx0XHR1aS5wb3NpdGlvbi5sZWZ0ID0gaW5zdC5fY29udmVydFBvc2l0aW9uVG8oXCJyZWxhdGl2ZVwiLCB7IHRvcDogMCwgbGVmdDogciAtIGluc3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggfSkubGVmdDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWluc3Quc25hcEVsZW1lbnRzW2ldLnNuYXBwaW5nICYmICh0cyB8fCBicyB8fCBscyB8fCBycyB8fCBmaXJzdCkpIHtcblx0XHRcdFx0KGluc3Qub3B0aW9ucy5zbmFwLnNuYXAgJiYgaW5zdC5vcHRpb25zLnNuYXAuc25hcC5jYWxsKGluc3QuZWxlbWVudCwgZXZlbnQsICQuZXh0ZW5kKGluc3QuX3VpSGFzaCgpLCB7IHNuYXBJdGVtOiBpbnN0LnNuYXBFbGVtZW50c1tpXS5pdGVtIH0pKSk7XG5cdFx0XHR9XG5cdFx0XHRpbnN0LnNuYXBFbGVtZW50c1tpXS5zbmFwcGluZyA9ICh0cyB8fCBicyB8fCBscyB8fCBycyB8fCBmaXJzdCk7XG5cblx0XHR9XG5cblx0fVxufSk7XG5cbiQudWkucGx1Z2luLmFkZChcImRyYWdnYWJsZVwiLCBcInN0YWNrXCIsIHtcblx0c3RhcnQ6IGZ1bmN0aW9uKCBldmVudCwgdWksIGluc3RhbmNlICkge1xuXHRcdHZhciBtaW4sXG5cdFx0XHRvID0gaW5zdGFuY2Uub3B0aW9ucyxcblx0XHRcdGdyb3VwID0gJC5tYWtlQXJyYXkoJChvLnN0YWNrKSkuc29ydChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdHJldHVybiAocGFyc2VJbnQoJChhKS5jc3MoXCJ6SW5kZXhcIiksIDEwKSB8fCAwKSAtIChwYXJzZUludCgkKGIpLmNzcyhcInpJbmRleFwiKSwgMTApIHx8IDApO1xuXHRcdFx0fSk7XG5cblx0XHRpZiAoIWdyb3VwLmxlbmd0aCkgeyByZXR1cm47IH1cblxuXHRcdG1pbiA9IHBhcnNlSW50KCQoZ3JvdXBbMF0pLmNzcyhcInpJbmRleFwiKSwgMTApIHx8IDA7XG5cdFx0JChncm91cCkuZWFjaChmdW5jdGlvbihpKSB7XG5cdFx0XHQkKHRoaXMpLmNzcyhcInpJbmRleFwiLCBtaW4gKyBpKTtcblx0XHR9KTtcblx0XHR0aGlzLmNzcyhcInpJbmRleFwiLCAobWluICsgZ3JvdXAubGVuZ3RoKSk7XG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJkcmFnZ2FibGVcIiwgXCJ6SW5kZXhcIiwge1xuXHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSwgaW5zdGFuY2UgKSB7XG5cdFx0dmFyIHQgPSAkKCB1aS5oZWxwZXIgKSxcblx0XHRcdG8gPSBpbnN0YW5jZS5vcHRpb25zO1xuXG5cdFx0aWYgKHQuY3NzKFwiekluZGV4XCIpKSB7XG5cdFx0XHRvLl96SW5kZXggPSB0LmNzcyhcInpJbmRleFwiKTtcblx0XHR9XG5cdFx0dC5jc3MoXCJ6SW5kZXhcIiwgby56SW5kZXgpO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpLCBpbnN0YW5jZSApIHtcblx0XHR2YXIgbyA9IGluc3RhbmNlLm9wdGlvbnM7XG5cblx0XHRpZiAoby5fekluZGV4KSB7XG5cdFx0XHQkKHVpLmhlbHBlcikuY3NzKFwiekluZGV4XCIsIG8uX3pJbmRleCk7XG5cdFx0fVxuXHR9XG59KTtcblxudmFyIGRyYWdnYWJsZSA9ICQudWkuZHJhZ2dhYmxlO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFJlc2l6YWJsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Jlc2l6YWJsZS9cbiAqL1xuXG5cbiQud2lkZ2V0KFwidWkucmVzaXphYmxlXCIsICQudWkubW91c2UsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwicmVzaXplXCIsXG5cdG9wdGlvbnM6IHtcblx0XHRhbHNvUmVzaXplOiBmYWxzZSxcblx0XHRhbmltYXRlOiBmYWxzZSxcblx0XHRhbmltYXRlRHVyYXRpb246IFwic2xvd1wiLFxuXHRcdGFuaW1hdGVFYXNpbmc6IFwic3dpbmdcIixcblx0XHRhc3BlY3RSYXRpbzogZmFsc2UsXG5cdFx0YXV0b0hpZGU6IGZhbHNlLFxuXHRcdGNvbnRhaW5tZW50OiBmYWxzZSxcblx0XHRnaG9zdDogZmFsc2UsXG5cdFx0Z3JpZDogZmFsc2UsXG5cdFx0aGFuZGxlczogXCJlLHMsc2VcIixcblx0XHRoZWxwZXI6IGZhbHNlLFxuXHRcdG1heEhlaWdodDogbnVsbCxcblx0XHRtYXhXaWR0aDogbnVsbCxcblx0XHRtaW5IZWlnaHQ6IDEwLFxuXHRcdG1pbldpZHRoOiAxMCxcblx0XHQvLyBTZWUgIzc5NjBcblx0XHR6SW5kZXg6IDkwLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0cmVzaXplOiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGxcblx0fSxcblxuXHRfbnVtOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIHBhcnNlSW50KCB2YWx1ZSwgMTAgKSB8fCAwO1xuXHR9LFxuXG5cdF9pc051bWJlcjogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiAhaXNOYU4oIHBhcnNlSW50KCB2YWx1ZSwgMTAgKSApO1xuXHR9LFxuXG5cdF9oYXNTY3JvbGw6IGZ1bmN0aW9uKCBlbCwgYSApIHtcblxuXHRcdGlmICggJCggZWwgKS5jc3MoIFwib3ZlcmZsb3dcIiApID09PSBcImhpZGRlblwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dmFyIHNjcm9sbCA9ICggYSAmJiBhID09PSBcImxlZnRcIiApID8gXCJzY3JvbGxMZWZ0XCIgOiBcInNjcm9sbFRvcFwiLFxuXHRcdFx0aGFzID0gZmFsc2U7XG5cblx0XHRpZiAoIGVsWyBzY3JvbGwgXSA+IDAgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBkZXRlcm1pbmUgd2hpY2ggY2FzZXMgYWN0dWFsbHkgY2F1c2UgdGhpcyB0byBoYXBwZW5cblx0XHQvLyBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgdGhlIHNjcm9sbCBzZXQsIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvXG5cdFx0Ly8gc2V0IHRoZSBzY3JvbGxcblx0XHRlbFsgc2Nyb2xsIF0gPSAxO1xuXHRcdGhhcyA9ICggZWxbIHNjcm9sbCBdID4gMCApO1xuXHRcdGVsWyBzY3JvbGwgXSA9IDA7XG5cdFx0cmV0dXJuIGhhcztcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblxuXHRcdHZhciBuLCBpLCBoYW5kbGUsIGF4aXMsIGhuYW1lLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLXJlc2l6YWJsZVwiKTtcblxuXHRcdCQuZXh0ZW5kKHRoaXMsIHtcblx0XHRcdF9hc3BlY3RSYXRpbzogISEoby5hc3BlY3RSYXRpbyksXG5cdFx0XHRhc3BlY3RSYXRpbzogby5hc3BlY3RSYXRpbyxcblx0XHRcdG9yaWdpbmFsRWxlbWVudDogdGhpcy5lbGVtZW50LFxuXHRcdFx0X3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHM6IFtdLFxuXHRcdFx0X2hlbHBlcjogby5oZWxwZXIgfHwgby5naG9zdCB8fCBvLmFuaW1hdGUgPyBvLmhlbHBlciB8fCBcInVpLXJlc2l6YWJsZS1oZWxwZXJcIiA6IG51bGxcblx0XHR9KTtcblxuXHRcdC8vIFdyYXAgdGhlIGVsZW1lbnQgaWYgaXQgY2Fubm90IGhvbGQgY2hpbGQgbm9kZXNcblx0XHRpZiAodGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpKSB7XG5cblx0XHRcdHRoaXMuZWxlbWVudC53cmFwKFxuXHRcdFx0XHQkKFwiPGRpdiBjbGFzcz0ndWktd3JhcHBlcicgc3R5bGU9J292ZXJmbG93OiBoaWRkZW47Jz48L2Rpdj5cIikuY3NzKHtcblx0XHRcdFx0XHRwb3NpdGlvbjogdGhpcy5lbGVtZW50LmNzcyhcInBvc2l0aW9uXCIpLFxuXHRcdFx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCksXG5cdFx0XHRcdFx0dG9wOiB0aGlzLmVsZW1lbnQuY3NzKFwidG9wXCIpLFxuXHRcdFx0XHRcdGxlZnQ6IHRoaXMuZWxlbWVudC5jc3MoXCJsZWZ0XCIpXG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLmVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50KCkuZGF0YShcblx0XHRcdFx0XCJ1aS1yZXNpemFibGVcIiwgdGhpcy5lbGVtZW50LnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiIClcblx0XHRcdCk7XG5cblx0XHRcdHRoaXMuZWxlbWVudElzV3JhcHBlciA9IHRydWU7XG5cblx0XHRcdHRoaXMuZWxlbWVudC5jc3Moe1xuXHRcdFx0XHRtYXJnaW5MZWZ0OiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJtYXJnaW5MZWZ0XCIpLFxuXHRcdFx0XHRtYXJnaW5Ub3A6IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcIm1hcmdpblRvcFwiKSxcblx0XHRcdFx0bWFyZ2luUmlnaHQ6IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcIm1hcmdpblJpZ2h0XCIpLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcIm1hcmdpbkJvdHRvbVwiKVxuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe1xuXHRcdFx0XHRtYXJnaW5MZWZ0OiAwLFxuXHRcdFx0XHRtYXJnaW5Ub3A6IDAsXG5cdFx0XHRcdG1hcmdpblJpZ2h0OiAwLFxuXHRcdFx0XHRtYXJnaW5Cb3R0b206IDBcblx0XHRcdH0pO1xuXHRcdFx0Ly8gc3VwcG9ydDogU2FmYXJpXG5cdFx0XHQvLyBQcmV2ZW50IFNhZmFyaSB0ZXh0YXJlYSByZXNpemVcblx0XHRcdHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZSA9IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcInJlc2l6ZVwiKTtcblx0XHRcdHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcInJlc2l6ZVwiLCBcIm5vbmVcIik7XG5cblx0XHRcdHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMucHVzaCggdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtcblx0XHRcdFx0cG9zaXRpb246IFwic3RhdGljXCIsXG5cdFx0XHRcdHpvb206IDEsXG5cdFx0XHRcdGRpc3BsYXk6IFwiYmxvY2tcIlxuXHRcdFx0fSkgKTtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUU5XG5cdFx0XHQvLyBhdm9pZCBJRSBqdW1wIChoYXJkIHNldCB0aGUgbWFyZ2luKVxuXHRcdFx0dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHsgbWFyZ2luOiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoXCJtYXJnaW5cIikgfSk7XG5cblx0XHRcdHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYW5kbGVzID0gby5oYW5kbGVzIHx8XG5cdFx0XHQoICEkKFwiLnVpLXJlc2l6YWJsZS1oYW5kbGVcIiwgdGhpcy5lbGVtZW50KS5sZW5ndGggP1xuXHRcdFx0XHRcImUscyxzZVwiIDoge1xuXHRcdFx0XHRcdG46IFwiLnVpLXJlc2l6YWJsZS1uXCIsXG5cdFx0XHRcdFx0ZTogXCIudWktcmVzaXphYmxlLWVcIixcblx0XHRcdFx0XHRzOiBcIi51aS1yZXNpemFibGUtc1wiLFxuXHRcdFx0XHRcdHc6IFwiLnVpLXJlc2l6YWJsZS13XCIsXG5cdFx0XHRcdFx0c2U6IFwiLnVpLXJlc2l6YWJsZS1zZVwiLFxuXHRcdFx0XHRcdHN3OiBcIi51aS1yZXNpemFibGUtc3dcIixcblx0XHRcdFx0XHRuZTogXCIudWktcmVzaXphYmxlLW5lXCIsXG5cdFx0XHRcdFx0bnc6IFwiLnVpLXJlc2l6YWJsZS1ud1wiXG5cdFx0XHRcdH0gKTtcblxuXHRcdHRoaXMuX2hhbmRsZXMgPSAkKCk7XG5cdFx0aWYgKCB0aGlzLmhhbmRsZXMuY29uc3RydWN0b3IgPT09IFN0cmluZyApIHtcblxuXHRcdFx0aWYgKCB0aGlzLmhhbmRsZXMgPT09IFwiYWxsXCIpIHtcblx0XHRcdFx0dGhpcy5oYW5kbGVzID0gXCJuLGUscyx3LHNlLHN3LG5lLG53XCI7XG5cdFx0XHR9XG5cblx0XHRcdG4gPSB0aGlzLmhhbmRsZXMuc3BsaXQoXCIsXCIpO1xuXHRcdFx0dGhpcy5oYW5kbGVzID0ge307XG5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0aGFuZGxlID0gJC50cmltKG5baV0pO1xuXHRcdFx0XHRobmFtZSA9IFwidWktcmVzaXphYmxlLVwiICsgaGFuZGxlO1xuXHRcdFx0XHRheGlzID0gJChcIjxkaXYgY2xhc3M9J3VpLXJlc2l6YWJsZS1oYW5kbGUgXCIgKyBobmFtZSArIFwiJz48L2Rpdj5cIik7XG5cblx0XHRcdFx0YXhpcy5jc3MoeyB6SW5kZXg6IG8uekluZGV4IH0pO1xuXG5cdFx0XHRcdC8vIFRPRE8gOiBXaGF0J3MgZ29pbmcgb24gaGVyZT9cblx0XHRcdFx0aWYgKFwic2VcIiA9PT0gaGFuZGxlKSB7XG5cdFx0XHRcdFx0YXhpcy5hZGRDbGFzcyhcInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2VcIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmhhbmRsZXNbaGFuZGxlXSA9IFwiLnVpLXJlc2l6YWJsZS1cIiArIGhhbmRsZTtcblx0XHRcdFx0dGhpcy5lbGVtZW50LmFwcGVuZChheGlzKTtcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHRoaXMuX3JlbmRlckF4aXMgPSBmdW5jdGlvbih0YXJnZXQpIHtcblxuXHRcdFx0dmFyIGksIGF4aXMsIHBhZFBvcywgcGFkV3JhcHBlcjtcblxuXHRcdFx0dGFyZ2V0ID0gdGFyZ2V0IHx8IHRoaXMuZWxlbWVudDtcblxuXHRcdFx0Zm9yIChpIGluIHRoaXMuaGFuZGxlcykge1xuXG5cdFx0XHRcdGlmICh0aGlzLmhhbmRsZXNbaV0uY29uc3RydWN0b3IgPT09IFN0cmluZykge1xuXHRcdFx0XHRcdHRoaXMuaGFuZGxlc1tpXSA9IHRoaXMuZWxlbWVudC5jaGlsZHJlbiggdGhpcy5oYW5kbGVzWyBpIF0gKS5maXJzdCgpLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIGlmICggdGhpcy5oYW5kbGVzWyBpIF0uanF1ZXJ5IHx8IHRoaXMuaGFuZGxlc1sgaSBdLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdHRoaXMuaGFuZGxlc1sgaSBdID0gJCggdGhpcy5oYW5kbGVzWyBpIF0gKTtcblx0XHRcdFx0XHR0aGlzLl9vbiggdGhpcy5oYW5kbGVzWyBpIF0sIHsgXCJtb3VzZWRvd25cIjogdGhhdC5fbW91c2VEb3duIH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRoaXMuZWxlbWVudElzV3JhcHBlciAmJiB0aGlzLm9yaWdpbmFsRWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXih0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9uKSQvaSkpIHtcblxuXHRcdFx0XHRcdGF4aXMgPSAkKHRoaXMuaGFuZGxlc1tpXSwgdGhpcy5lbGVtZW50KTtcblxuXHRcdFx0XHRcdHBhZFdyYXBwZXIgPSAvc3d8bmV8bnd8c2V8bnxzLy50ZXN0KGkpID8gYXhpcy5vdXRlckhlaWdodCgpIDogYXhpcy5vdXRlcldpZHRoKCk7XG5cblx0XHRcdFx0XHRwYWRQb3MgPSBbIFwicGFkZGluZ1wiLFxuXHRcdFx0XHRcdFx0L25lfG53fG4vLnRlc3QoaSkgPyBcIlRvcFwiIDpcblx0XHRcdFx0XHRcdC9zZXxzd3xzLy50ZXN0KGkpID8gXCJCb3R0b21cIiA6XG5cdFx0XHRcdFx0XHQvXmUkLy50ZXN0KGkpID8gXCJSaWdodFwiIDogXCJMZWZ0XCIgXS5qb2luKFwiXCIpO1xuXG5cdFx0XHRcdFx0dGFyZ2V0LmNzcyhwYWRQb3MsIHBhZFdyYXBwZXIpO1xuXG5cdFx0XHRcdFx0dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX2hhbmRsZXMgPSB0aGlzLl9oYW5kbGVzLmFkZCggdGhpcy5oYW5kbGVzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gVE9ETzogbWFrZSByZW5kZXJBeGlzIGEgcHJvdG90eXBlIGZ1bmN0aW9uXG5cdFx0dGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpO1xuXG5cdFx0dGhpcy5faGFuZGxlcyA9IHRoaXMuX2hhbmRsZXMuYWRkKCB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktcmVzaXphYmxlLWhhbmRsZVwiICkgKTtcblx0XHR0aGlzLl9oYW5kbGVzLmRpc2FibGVTZWxlY3Rpb24oKTtcblxuXHRcdHRoaXMuX2hhbmRsZXMubW91c2VvdmVyKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCF0aGF0LnJlc2l6aW5nKSB7XG5cdFx0XHRcdGlmICh0aGlzLmNsYXNzTmFtZSkge1xuXHRcdFx0XHRcdGF4aXMgPSB0aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGF0LmF4aXMgPSBheGlzICYmIGF4aXNbMV0gPyBheGlzWzFdIDogXCJzZVwiO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKG8uYXV0b0hpZGUpIHtcblx0XHRcdHRoaXMuX2hhbmRsZXMuaGlkZSgpO1xuXHRcdFx0JCh0aGlzLmVsZW1lbnQpXG5cdFx0XHRcdC5hZGRDbGFzcyhcInVpLXJlc2l6YWJsZS1hdXRvaGlkZVwiKVxuXHRcdFx0XHQubW91c2VlbnRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoby5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwidWktcmVzaXphYmxlLWF1dG9oaWRlXCIpO1xuXHRcdFx0XHRcdHRoYXQuX2hhbmRsZXMuc2hvdygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQubW91c2VsZWF2ZShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoby5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIXRoYXQucmVzaXppbmcpIHtcblx0XHRcdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJ1aS1yZXNpemFibGUtYXV0b2hpZGVcIik7XG5cdFx0XHRcdFx0XHR0aGF0Ll9oYW5kbGVzLmhpZGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuX21vdXNlSW5pdCgpO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblxuXHRcdHRoaXMuX21vdXNlRGVzdHJveSgpO1xuXG5cdFx0dmFyIHdyYXBwZXIsXG5cdFx0XHRfZGVzdHJveSA9IGZ1bmN0aW9uKGV4cCkge1xuXHRcdFx0XHQkKGV4cClcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoXCJ1aS1yZXNpemFibGUgdWktcmVzaXphYmxlLWRpc2FibGVkIHVpLXJlc2l6YWJsZS1yZXNpemluZ1wiKVxuXHRcdFx0XHRcdC5yZW1vdmVEYXRhKFwicmVzaXphYmxlXCIpXG5cdFx0XHRcdFx0LnJlbW92ZURhdGEoXCJ1aS1yZXNpemFibGVcIilcblx0XHRcdFx0XHQudW5iaW5kKFwiLnJlc2l6YWJsZVwiKVxuXHRcdFx0XHRcdC5maW5kKFwiLnVpLXJlc2l6YWJsZS1oYW5kbGVcIilcblx0XHRcdFx0XHRcdC5yZW1vdmUoKTtcblx0XHRcdH07XG5cblx0XHQvLyBUT0RPOiBVbndyYXAgYXQgc2FtZSBET00gcG9zaXRpb25cblx0XHRpZiAodGhpcy5lbGVtZW50SXNXcmFwcGVyKSB7XG5cdFx0XHRfZGVzdHJveSh0aGlzLmVsZW1lbnQpO1xuXHRcdFx0d3JhcHBlciA9IHRoaXMuZWxlbWVudDtcblx0XHRcdHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7XG5cdFx0XHRcdHBvc2l0aW9uOiB3cmFwcGVyLmNzcyhcInBvc2l0aW9uXCIpLFxuXHRcdFx0XHR3aWR0aDogd3JhcHBlci5vdXRlcldpZHRoKCksXG5cdFx0XHRcdGhlaWdodDogd3JhcHBlci5vdXRlckhlaWdodCgpLFxuXHRcdFx0XHR0b3A6IHdyYXBwZXIuY3NzKFwidG9wXCIpLFxuXHRcdFx0XHRsZWZ0OiB3cmFwcGVyLmNzcyhcImxlZnRcIilcblx0XHRcdH0pLmluc2VydEFmdGVyKCB3cmFwcGVyICk7XG5cdFx0XHR3cmFwcGVyLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhcInJlc2l6ZVwiLCB0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpO1xuXHRcdF9kZXN0cm95KHRoaXMub3JpZ2luYWxFbGVtZW50KTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGksIGhhbmRsZSxcblx0XHRcdGNhcHR1cmUgPSBmYWxzZTtcblxuXHRcdGZvciAoaSBpbiB0aGlzLmhhbmRsZXMpIHtcblx0XHRcdGhhbmRsZSA9ICQodGhpcy5oYW5kbGVzW2ldKVswXTtcblx0XHRcdGlmIChoYW5kbGUgPT09IGV2ZW50LnRhcmdldCB8fCAkLmNvbnRhaW5zKGhhbmRsZSwgZXZlbnQudGFyZ2V0KSkge1xuXHRcdFx0XHRjYXB0dXJlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiBjYXB0dXJlO1xuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dmFyIGN1cmxlZnQsIGN1cnRvcCwgY3Vyc29yLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGVsID0gdGhpcy5lbGVtZW50O1xuXG5cdFx0dGhpcy5yZXNpemluZyA9IHRydWU7XG5cblx0XHR0aGlzLl9yZW5kZXJQcm94eSgpO1xuXG5cdFx0Y3VybGVmdCA9IHRoaXMuX251bSh0aGlzLmhlbHBlci5jc3MoXCJsZWZ0XCIpKTtcblx0XHRjdXJ0b3AgPSB0aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKFwidG9wXCIpKTtcblxuXHRcdGlmIChvLmNvbnRhaW5tZW50KSB7XG5cdFx0XHRjdXJsZWZ0ICs9ICQoby5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpIHx8IDA7XG5cdFx0XHRjdXJ0b3AgKz0gJChvLmNvbnRhaW5tZW50KS5zY3JvbGxUb3AoKSB8fCAwO1xuXHRcdH1cblxuXHRcdHRoaXMub2Zmc2V0ID0gdGhpcy5oZWxwZXIub2Zmc2V0KCk7XG5cdFx0dGhpcy5wb3NpdGlvbiA9IHsgbGVmdDogY3VybGVmdCwgdG9wOiBjdXJ0b3AgfTtcblxuXHRcdHRoaXMuc2l6ZSA9IHRoaXMuX2hlbHBlciA/IHtcblx0XHRcdFx0d2lkdGg6IHRoaXMuaGVscGVyLndpZHRoKCksXG5cdFx0XHRcdGhlaWdodDogdGhpcy5oZWxwZXIuaGVpZ2h0KClcblx0XHRcdH0gOiB7XG5cdFx0XHRcdHdpZHRoOiBlbC53aWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6IGVsLmhlaWdodCgpXG5cdFx0XHR9O1xuXG5cdFx0dGhpcy5vcmlnaW5hbFNpemUgPSB0aGlzLl9oZWxwZXIgPyB7XG5cdFx0XHRcdHdpZHRoOiBlbC5vdXRlcldpZHRoKCksXG5cdFx0XHRcdGhlaWdodDogZWwub3V0ZXJIZWlnaHQoKVxuXHRcdFx0fSA6IHtcblx0XHRcdFx0d2lkdGg6IGVsLndpZHRoKCksXG5cdFx0XHRcdGhlaWdodDogZWwuaGVpZ2h0KClcblx0XHRcdH07XG5cblx0XHR0aGlzLnNpemVEaWZmID0ge1xuXHRcdFx0d2lkdGg6IGVsLm91dGVyV2lkdGgoKSAtIGVsLndpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IGVsLm91dGVySGVpZ2h0KCkgLSBlbC5oZWlnaHQoKVxuXHRcdH07XG5cblx0XHR0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB7IGxlZnQ6IGN1cmxlZnQsIHRvcDogY3VydG9wIH07XG5cdFx0dGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb24gPSB7IGxlZnQ6IGV2ZW50LnBhZ2VYLCB0b3A6IGV2ZW50LnBhZ2VZIH07XG5cblx0XHR0aGlzLmFzcGVjdFJhdGlvID0gKHR5cGVvZiBvLmFzcGVjdFJhdGlvID09PSBcIm51bWJlclwiKSA/XG5cdFx0XHRvLmFzcGVjdFJhdGlvIDpcblx0XHRcdCgodGhpcy5vcmlnaW5hbFNpemUud2lkdGggLyB0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQpIHx8IDEpO1xuXG5cdFx0Y3Vyc29yID0gJChcIi51aS1yZXNpemFibGUtXCIgKyB0aGlzLmF4aXMpLmNzcyhcImN1cnNvclwiKTtcblx0XHQkKFwiYm9keVwiKS5jc3MoXCJjdXJzb3JcIiwgY3Vyc29yID09PSBcImF1dG9cIiA/IHRoaXMuYXhpcyArIFwiLXJlc2l6ZVwiIDogY3Vyc29yKTtcblxuXHRcdGVsLmFkZENsYXNzKFwidWktcmVzaXphYmxlLXJlc2l6aW5nXCIpO1xuXHRcdHRoaXMuX3Byb3BhZ2F0ZShcInN0YXJ0XCIsIGV2ZW50KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dmFyIGRhdGEsIHByb3BzLFxuXHRcdFx0c21wID0gdGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb24sXG5cdFx0XHRhID0gdGhpcy5heGlzLFxuXHRcdFx0ZHggPSAoZXZlbnQucGFnZVggLSBzbXAubGVmdCkgfHwgMCxcblx0XHRcdGR5ID0gKGV2ZW50LnBhZ2VZIC0gc21wLnRvcCkgfHwgMCxcblx0XHRcdHRyaWdnZXIgPSB0aGlzLl9jaGFuZ2VbYV07XG5cblx0XHR0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpO1xuXG5cdFx0aWYgKCF0cmlnZ2VyKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0ZGF0YSA9IHRyaWdnZXIuYXBwbHkodGhpcywgWyBldmVudCwgZHgsIGR5IF0pO1xuXG5cdFx0dGhpcy5fdXBkYXRlVmlydHVhbEJvdW5kYXJpZXMoZXZlbnQuc2hpZnRLZXkpO1xuXHRcdGlmICh0aGlzLl9hc3BlY3RSYXRpbyB8fCBldmVudC5zaGlmdEtleSkge1xuXHRcdFx0ZGF0YSA9IHRoaXMuX3VwZGF0ZVJhdGlvKGRhdGEsIGV2ZW50KTtcblx0XHR9XG5cblx0XHRkYXRhID0gdGhpcy5fcmVzcGVjdFNpemUoZGF0YSwgZXZlbnQpO1xuXG5cdFx0dGhpcy5fdXBkYXRlQ2FjaGUoZGF0YSk7XG5cblx0XHR0aGlzLl9wcm9wYWdhdGUoXCJyZXNpemVcIiwgZXZlbnQpO1xuXG5cdFx0cHJvcHMgPSB0aGlzLl9hcHBseUNoYW5nZXMoKTtcblxuXHRcdGlmICggIXRoaXMuX2hlbHBlciAmJiB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhJC5pc0VtcHR5T2JqZWN0KCBwcm9wcyApICkge1xuXHRcdFx0dGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwicmVzaXplXCIsIGV2ZW50LCB0aGlzLnVpKCkgKTtcblx0XHRcdHRoaXMuX2FwcGx5Q2hhbmdlcygpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfbW91c2VTdG9wOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dGhpcy5yZXNpemluZyA9IGZhbHNlO1xuXHRcdHZhciBwciwgaXN0YSwgc29mZnNldGgsIHNvZmZzZXR3LCBzLCBsZWZ0LCB0b3AsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLCB0aGF0ID0gdGhpcztcblxuXHRcdGlmICh0aGlzLl9oZWxwZXIpIHtcblxuXHRcdFx0cHIgPSB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzO1xuXHRcdFx0aXN0YSA9IHByLmxlbmd0aCAmJiAoL3RleHRhcmVhL2kpLnRlc3QocHJbMF0ubm9kZU5hbWUpO1xuXHRcdFx0c29mZnNldGggPSBpc3RhICYmIHRoaXMuX2hhc1Njcm9sbChwclswXSwgXCJsZWZ0XCIpID8gMCA6IHRoYXQuc2l6ZURpZmYuaGVpZ2h0O1xuXHRcdFx0c29mZnNldHcgPSBpc3RhID8gMCA6IHRoYXQuc2l6ZURpZmYud2lkdGg7XG5cblx0XHRcdHMgPSB7XG5cdFx0XHRcdHdpZHRoOiAodGhhdC5oZWxwZXIud2lkdGgoKSAgLSBzb2Zmc2V0dyksXG5cdFx0XHRcdGhlaWdodDogKHRoYXQuaGVscGVyLmhlaWdodCgpIC0gc29mZnNldGgpXG5cdFx0XHR9O1xuXHRcdFx0bGVmdCA9IChwYXJzZUludCh0aGF0LmVsZW1lbnQuY3NzKFwibGVmdFwiKSwgMTApICtcblx0XHRcdFx0KHRoYXQucG9zaXRpb24ubGVmdCAtIHRoYXQub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KSkgfHwgbnVsbDtcblx0XHRcdHRvcCA9IChwYXJzZUludCh0aGF0LmVsZW1lbnQuY3NzKFwidG9wXCIpLCAxMCkgK1xuXHRcdFx0XHQodGhhdC5wb3NpdGlvbi50b3AgLSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24udG9wKSkgfHwgbnVsbDtcblxuXHRcdFx0aWYgKCFvLmFuaW1hdGUpIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LmNzcygkLmV4dGVuZChzLCB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH0pKTtcblx0XHRcdH1cblxuXHRcdFx0dGhhdC5oZWxwZXIuaGVpZ2h0KHRoYXQuc2l6ZS5oZWlnaHQpO1xuXHRcdFx0dGhhdC5oZWxwZXIud2lkdGgodGhhdC5zaXplLndpZHRoKTtcblxuXHRcdFx0aWYgKHRoaXMuX2hlbHBlciAmJiAhby5hbmltYXRlKSB7XG5cdFx0XHRcdHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0JChcImJvZHlcIikuY3NzKFwiY3Vyc29yXCIsIFwiYXV0b1wiKTtcblxuXHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXJlc2l6YWJsZS1yZXNpemluZ1wiKTtcblxuXHRcdHRoaXMuX3Byb3BhZ2F0ZShcInN0b3BcIiwgZXZlbnQpO1xuXG5cdFx0aWYgKHRoaXMuX2hlbHBlcikge1xuXHRcdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0X3VwZGF0ZVByZXZQcm9wZXJ0aWVzOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnByZXZQb3NpdGlvbiA9IHtcblx0XHRcdHRvcDogdGhpcy5wb3NpdGlvbi50b3AsXG5cdFx0XHRsZWZ0OiB0aGlzLnBvc2l0aW9uLmxlZnRcblx0XHR9O1xuXHRcdHRoaXMucHJldlNpemUgPSB7XG5cdFx0XHR3aWR0aDogdGhpcy5zaXplLndpZHRoLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLnNpemUuaGVpZ2h0XG5cdFx0fTtcblx0fSxcblxuXHRfYXBwbHlDaGFuZ2VzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgcHJvcHMgPSB7fTtcblxuXHRcdGlmICggdGhpcy5wb3NpdGlvbi50b3AgIT09IHRoaXMucHJldlBvc2l0aW9uLnRvcCApIHtcblx0XHRcdHByb3BzLnRvcCA9IHRoaXMucG9zaXRpb24udG9wICsgXCJweFwiO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMucG9zaXRpb24ubGVmdCAhPT0gdGhpcy5wcmV2UG9zaXRpb24ubGVmdCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSB0aGlzLnBvc2l0aW9uLmxlZnQgKyBcInB4XCI7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5zaXplLndpZHRoICE9PSB0aGlzLnByZXZTaXplLndpZHRoICkge1xuXHRcdFx0cHJvcHMud2lkdGggPSB0aGlzLnNpemUud2lkdGggKyBcInB4XCI7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5zaXplLmhlaWdodCAhPT0gdGhpcy5wcmV2U2l6ZS5oZWlnaHQgKSB7XG5cdFx0XHRwcm9wcy5oZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0ICsgXCJweFwiO1xuXHRcdH1cblxuXHRcdHRoaXMuaGVscGVyLmNzcyggcHJvcHMgKTtcblxuXHRcdHJldHVybiBwcm9wcztcblx0fSxcblxuXHRfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6IGZ1bmN0aW9uKGZvcmNlQXNwZWN0UmF0aW8pIHtcblx0XHR2YXIgcE1pbldpZHRoLCBwTWF4V2lkdGgsIHBNaW5IZWlnaHQsIHBNYXhIZWlnaHQsIGIsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0YiA9IHtcblx0XHRcdG1pbldpZHRoOiB0aGlzLl9pc051bWJlcihvLm1pbldpZHRoKSA/IG8ubWluV2lkdGggOiAwLFxuXHRcdFx0bWF4V2lkdGg6IHRoaXMuX2lzTnVtYmVyKG8ubWF4V2lkdGgpID8gby5tYXhXaWR0aCA6IEluZmluaXR5LFxuXHRcdFx0bWluSGVpZ2h0OiB0aGlzLl9pc051bWJlcihvLm1pbkhlaWdodCkgPyBvLm1pbkhlaWdodCA6IDAsXG5cdFx0XHRtYXhIZWlnaHQ6IHRoaXMuX2lzTnVtYmVyKG8ubWF4SGVpZ2h0KSA/IG8ubWF4SGVpZ2h0IDogSW5maW5pdHlcblx0XHR9O1xuXG5cdFx0aWYgKHRoaXMuX2FzcGVjdFJhdGlvIHx8IGZvcmNlQXNwZWN0UmF0aW8pIHtcblx0XHRcdHBNaW5XaWR0aCA9IGIubWluSGVpZ2h0ICogdGhpcy5hc3BlY3RSYXRpbztcblx0XHRcdHBNaW5IZWlnaHQgPSBiLm1pbldpZHRoIC8gdGhpcy5hc3BlY3RSYXRpbztcblx0XHRcdHBNYXhXaWR0aCA9IGIubWF4SGVpZ2h0ICogdGhpcy5hc3BlY3RSYXRpbztcblx0XHRcdHBNYXhIZWlnaHQgPSBiLm1heFdpZHRoIC8gdGhpcy5hc3BlY3RSYXRpbztcblxuXHRcdFx0aWYgKHBNaW5XaWR0aCA+IGIubWluV2lkdGgpIHtcblx0XHRcdFx0Yi5taW5XaWR0aCA9IHBNaW5XaWR0aDtcblx0XHRcdH1cblx0XHRcdGlmIChwTWluSGVpZ2h0ID4gYi5taW5IZWlnaHQpIHtcblx0XHRcdFx0Yi5taW5IZWlnaHQgPSBwTWluSGVpZ2h0O1xuXHRcdFx0fVxuXHRcdFx0aWYgKHBNYXhXaWR0aCA8IGIubWF4V2lkdGgpIHtcblx0XHRcdFx0Yi5tYXhXaWR0aCA9IHBNYXhXaWR0aDtcblx0XHRcdH1cblx0XHRcdGlmIChwTWF4SGVpZ2h0IDwgYi5tYXhIZWlnaHQpIHtcblx0XHRcdFx0Yi5tYXhIZWlnaHQgPSBwTWF4SGVpZ2h0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl92Qm91bmRhcmllcyA9IGI7XG5cdH0sXG5cblx0X3VwZGF0ZUNhY2hlOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dGhpcy5vZmZzZXQgPSB0aGlzLmhlbHBlci5vZmZzZXQoKTtcblx0XHRpZiAodGhpcy5faXNOdW1iZXIoZGF0YS5sZWZ0KSkge1xuXHRcdFx0dGhpcy5wb3NpdGlvbi5sZWZ0ID0gZGF0YS5sZWZ0O1xuXHRcdH1cblx0XHRpZiAodGhpcy5faXNOdW1iZXIoZGF0YS50b3ApKSB7XG5cdFx0XHR0aGlzLnBvc2l0aW9uLnRvcCA9IGRhdGEudG9wO1xuXHRcdH1cblx0XHRpZiAodGhpcy5faXNOdW1iZXIoZGF0YS5oZWlnaHQpKSB7XG5cdFx0XHR0aGlzLnNpemUuaGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG5cdFx0fVxuXHRcdGlmICh0aGlzLl9pc051bWJlcihkYXRhLndpZHRoKSkge1xuXHRcdFx0dGhpcy5zaXplLndpZHRoID0gZGF0YS53aWR0aDtcblx0XHR9XG5cdH0sXG5cblx0X3VwZGF0ZVJhdGlvOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdHZhciBjcG9zID0gdGhpcy5wb3NpdGlvbixcblx0XHRcdGNzaXplID0gdGhpcy5zaXplLFxuXHRcdFx0YSA9IHRoaXMuYXhpcztcblxuXHRcdGlmICh0aGlzLl9pc051bWJlcihkYXRhLmhlaWdodCkpIHtcblx0XHRcdGRhdGEud2lkdGggPSAoZGF0YS5oZWlnaHQgKiB0aGlzLmFzcGVjdFJhdGlvKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuX2lzTnVtYmVyKGRhdGEud2lkdGgpKSB7XG5cdFx0XHRkYXRhLmhlaWdodCA9IChkYXRhLndpZHRoIC8gdGhpcy5hc3BlY3RSYXRpbyk7XG5cdFx0fVxuXG5cdFx0aWYgKGEgPT09IFwic3dcIikge1xuXHRcdFx0ZGF0YS5sZWZ0ID0gY3Bvcy5sZWZ0ICsgKGNzaXplLndpZHRoIC0gZGF0YS53aWR0aCk7XG5cdFx0XHRkYXRhLnRvcCA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChhID09PSBcIm53XCIpIHtcblx0XHRcdGRhdGEudG9wID0gY3Bvcy50b3AgKyAoY3NpemUuaGVpZ2h0IC0gZGF0YS5oZWlnaHQpO1xuXHRcdFx0ZGF0YS5sZWZ0ID0gY3Bvcy5sZWZ0ICsgKGNzaXplLndpZHRoIC0gZGF0YS53aWR0aCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cblx0X3Jlc3BlY3RTaXplOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdHZhciBvID0gdGhpcy5fdkJvdW5kYXJpZXMsXG5cdFx0XHRhID0gdGhpcy5heGlzLFxuXHRcdFx0aXNtYXh3ID0gdGhpcy5faXNOdW1iZXIoZGF0YS53aWR0aCkgJiYgby5tYXhXaWR0aCAmJiAoby5tYXhXaWR0aCA8IGRhdGEud2lkdGgpLFxuXHRcdFx0aXNtYXhoID0gdGhpcy5faXNOdW1iZXIoZGF0YS5oZWlnaHQpICYmIG8ubWF4SGVpZ2h0ICYmIChvLm1heEhlaWdodCA8IGRhdGEuaGVpZ2h0KSxcblx0XHRcdGlzbWludyA9IHRoaXMuX2lzTnVtYmVyKGRhdGEud2lkdGgpICYmIG8ubWluV2lkdGggJiYgKG8ubWluV2lkdGggPiBkYXRhLndpZHRoKSxcblx0XHRcdGlzbWluaCA9IHRoaXMuX2lzTnVtYmVyKGRhdGEuaGVpZ2h0KSAmJiBvLm1pbkhlaWdodCAmJiAoby5taW5IZWlnaHQgPiBkYXRhLmhlaWdodCksXG5cdFx0XHRkdyA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0ICsgdGhpcy5vcmlnaW5hbFNpemUud2lkdGgsXG5cdFx0XHRkaCA9IHRoaXMucG9zaXRpb24udG9wICsgdGhpcy5zaXplLmhlaWdodCxcblx0XHRcdGN3ID0gL3N3fG53fHcvLnRlc3QoYSksIGNoID0gL253fG5lfG4vLnRlc3QoYSk7XG5cdFx0aWYgKGlzbWludykge1xuXHRcdFx0ZGF0YS53aWR0aCA9IG8ubWluV2lkdGg7XG5cdFx0fVxuXHRcdGlmIChpc21pbmgpIHtcblx0XHRcdGRhdGEuaGVpZ2h0ID0gby5taW5IZWlnaHQ7XG5cdFx0fVxuXHRcdGlmIChpc21heHcpIHtcblx0XHRcdGRhdGEud2lkdGggPSBvLm1heFdpZHRoO1xuXHRcdH1cblx0XHRpZiAoaXNtYXhoKSB7XG5cdFx0XHRkYXRhLmhlaWdodCA9IG8ubWF4SGVpZ2h0O1xuXHRcdH1cblxuXHRcdGlmIChpc21pbncgJiYgY3cpIHtcblx0XHRcdGRhdGEubGVmdCA9IGR3IC0gby5taW5XaWR0aDtcblx0XHR9XG5cdFx0aWYgKGlzbWF4dyAmJiBjdykge1xuXHRcdFx0ZGF0YS5sZWZ0ID0gZHcgLSBvLm1heFdpZHRoO1xuXHRcdH1cblx0XHRpZiAoaXNtaW5oICYmIGNoKSB7XG5cdFx0XHRkYXRhLnRvcCA9IGRoIC0gby5taW5IZWlnaHQ7XG5cdFx0fVxuXHRcdGlmIChpc21heGggJiYgY2gpIHtcblx0XHRcdGRhdGEudG9wID0gZGggLSBvLm1heEhlaWdodDtcblx0XHR9XG5cblx0XHQvLyBGaXhpbmcganVtcCBlcnJvciBvbiB0b3AvbGVmdCAtIGJ1ZyAjMjMzMFxuXHRcdGlmICghZGF0YS53aWR0aCAmJiAhZGF0YS5oZWlnaHQgJiYgIWRhdGEubGVmdCAmJiBkYXRhLnRvcCkge1xuXHRcdFx0ZGF0YS50b3AgPSBudWxsO1xuXHRcdH0gZWxzZSBpZiAoIWRhdGEud2lkdGggJiYgIWRhdGEuaGVpZ2h0ICYmICFkYXRhLnRvcCAmJiBkYXRhLmxlZnQpIHtcblx0XHRcdGRhdGEubGVmdCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cblx0X2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9uczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0d2lkdGhzID0gW10sXG5cdFx0XHRib3JkZXJzID0gW1xuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJib3JkZXJUb3BXaWR0aFwiICksXG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcImJvcmRlclJpZ2h0V2lkdGhcIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJib3JkZXJCb3R0b21XaWR0aFwiICksXG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcImJvcmRlckxlZnRXaWR0aFwiIClcblx0XHRcdF0sXG5cdFx0XHRwYWRkaW5ncyA9IFtcblx0XHRcdFx0ZWxlbWVudC5jc3MoIFwicGFkZGluZ1RvcFwiICksXG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcInBhZGRpbmdSaWdodFwiICksXG5cdFx0XHRcdGVsZW1lbnQuY3NzKCBcInBhZGRpbmdCb3R0b21cIiApLFxuXHRcdFx0XHRlbGVtZW50LmNzcyggXCJwYWRkaW5nTGVmdFwiIClcblx0XHRcdF07XG5cblx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHR3aWR0aHNbIGkgXSA9ICggcGFyc2VJbnQoIGJvcmRlcnNbIGkgXSwgMTAgKSB8fCAwICk7XG5cdFx0XHR3aWR0aHNbIGkgXSArPSAoIHBhcnNlSW50KCBwYWRkaW5nc1sgaSBdLCAxMCApIHx8IDAgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVpZ2h0OiB3aWR0aHNbIDAgXSArIHdpZHRoc1sgMiBdLFxuXHRcdFx0d2lkdGg6IHdpZHRoc1sgMSBdICsgd2lkdGhzWyAzIF1cblx0XHR9O1xuXHR9LFxuXG5cdF9wcm9wb3J0aW9uYWxseVJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAoIXRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIHByZWwsXG5cdFx0XHRpID0gMCxcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmhlbHBlciB8fCB0aGlzLmVsZW1lbnQ7XG5cblx0XHRmb3IgKCA7IGkgPCB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdHByZWwgPSB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2ldO1xuXG5cdFx0XHQvLyBUT0RPOiBTZWVtcyBsaWtlIGEgYnVnIHRvIGNhY2hlIHRoaXMub3V0ZXJEaW1lbnNpb25zXG5cdFx0XHQvLyBjb25zaWRlcmluZyB0aGF0IHdlIGFyZSBpbiBhIGxvb3AuXG5cdFx0XHRpZiAoIXRoaXMub3V0ZXJEaW1lbnNpb25zKSB7XG5cdFx0XHRcdHRoaXMub3V0ZXJEaW1lbnNpb25zID0gdGhpcy5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKCBwcmVsICk7XG5cdFx0XHR9XG5cblx0XHRcdHByZWwuY3NzKHtcblx0XHRcdFx0aGVpZ2h0OiAoZWxlbWVudC5oZWlnaHQoKSAtIHRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodCkgfHwgMCxcblx0XHRcdFx0d2lkdGg6IChlbGVtZW50LndpZHRoKCkgLSB0aGlzLm91dGVyRGltZW5zaW9ucy53aWR0aCkgfHwgMFxuXHRcdFx0fSk7XG5cblx0XHR9XG5cblx0fSxcblxuXHRfcmVuZGVyUHJveHk6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIGVsID0gdGhpcy5lbGVtZW50LCBvID0gdGhpcy5vcHRpb25zO1xuXHRcdHRoaXMuZWxlbWVudE9mZnNldCA9IGVsLm9mZnNldCgpO1xuXG5cdFx0aWYgKHRoaXMuX2hlbHBlcikge1xuXG5cdFx0XHR0aGlzLmhlbHBlciA9IHRoaXMuaGVscGVyIHx8ICQoXCI8ZGl2IHN0eWxlPSdvdmVyZmxvdzpoaWRkZW47Jz48L2Rpdj5cIik7XG5cblx0XHRcdHRoaXMuaGVscGVyLmFkZENsYXNzKHRoaXMuX2hlbHBlcikuY3NzKHtcblx0XHRcdFx0d2lkdGg6IHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkgLSAxLFxuXHRcdFx0XHRoZWlnaHQ6IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpIC0gMSxcblx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0bGVmdDogdGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQgKyBcInB4XCIsXG5cdFx0XHRcdHRvcDogdGhpcy5lbGVtZW50T2Zmc2V0LnRvcCArIFwicHhcIixcblx0XHRcdFx0ekluZGV4OiArK28uekluZGV4IC8vVE9ETzogRG9uJ3QgbW9kaWZ5IG9wdGlvblxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuaGVscGVyXG5cdFx0XHRcdC5hcHBlbmRUbyhcImJvZHlcIilcblx0XHRcdFx0LmRpc2FibGVTZWxlY3Rpb24oKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmhlbHBlciA9IHRoaXMuZWxlbWVudDtcblx0XHR9XG5cblx0fSxcblxuXHRfY2hhbmdlOiB7XG5cdFx0ZTogZnVuY3Rpb24oZXZlbnQsIGR4KSB7XG5cdFx0XHRyZXR1cm4geyB3aWR0aDogdGhpcy5vcmlnaW5hbFNpemUud2lkdGggKyBkeCB9O1xuXHRcdH0sXG5cdFx0dzogZnVuY3Rpb24oZXZlbnQsIGR4KSB7XG5cdFx0XHR2YXIgY3MgPSB0aGlzLm9yaWdpbmFsU2l6ZSwgc3AgPSB0aGlzLm9yaWdpbmFsUG9zaXRpb247XG5cdFx0XHRyZXR1cm4geyBsZWZ0OiBzcC5sZWZ0ICsgZHgsIHdpZHRoOiBjcy53aWR0aCAtIGR4IH07XG5cdFx0fSxcblx0XHRuOiBmdW5jdGlvbihldmVudCwgZHgsIGR5KSB7XG5cdFx0XHR2YXIgY3MgPSB0aGlzLm9yaWdpbmFsU2l6ZSwgc3AgPSB0aGlzLm9yaWdpbmFsUG9zaXRpb247XG5cdFx0XHRyZXR1cm4geyB0b3A6IHNwLnRvcCArIGR5LCBoZWlnaHQ6IGNzLmhlaWdodCAtIGR5IH07XG5cdFx0fSxcblx0XHRzOiBmdW5jdGlvbihldmVudCwgZHgsIGR5KSB7XG5cdFx0XHRyZXR1cm4geyBoZWlnaHQ6IHRoaXMub3JpZ2luYWxTaXplLmhlaWdodCArIGR5IH07XG5cdFx0fSxcblx0XHRzZTogZnVuY3Rpb24oZXZlbnQsIGR4LCBkeSkge1xuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG5cdFx0XHRcdHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdKSk7XG5cdFx0fSxcblx0XHRzdzogZnVuY3Rpb24oZXZlbnQsIGR4LCBkeSkge1xuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG5cdFx0XHRcdHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdKSk7XG5cdFx0fSxcblx0XHRuZTogZnVuY3Rpb24oZXZlbnQsIGR4LCBkeSkge1xuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG5cdFx0XHRcdHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdKSk7XG5cdFx0fSxcblx0XHRudzogZnVuY3Rpb24oZXZlbnQsIGR4LCBkeSkge1xuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG5cdFx0XHRcdHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsIFsgZXZlbnQsIGR4LCBkeSBdKSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9wcm9wYWdhdGU6IGZ1bmN0aW9uKG4sIGV2ZW50KSB7XG5cdFx0JC51aS5wbHVnaW4uY2FsbCh0aGlzLCBuLCBbIGV2ZW50LCB0aGlzLnVpKCkgXSk7XG5cdFx0KG4gIT09IFwicmVzaXplXCIgJiYgdGhpcy5fdHJpZ2dlcihuLCBldmVudCwgdGhpcy51aSgpKSk7XG5cdH0sXG5cblx0cGx1Z2luczoge30sXG5cblx0dWk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvcmlnaW5hbEVsZW1lbnQ6IHRoaXMub3JpZ2luYWxFbGVtZW50LFxuXHRcdFx0ZWxlbWVudDogdGhpcy5lbGVtZW50LFxuXHRcdFx0aGVscGVyOiB0aGlzLmhlbHBlcixcblx0XHRcdHBvc2l0aW9uOiB0aGlzLnBvc2l0aW9uLFxuXHRcdFx0c2l6ZTogdGhpcy5zaXplLFxuXHRcdFx0b3JpZ2luYWxTaXplOiB0aGlzLm9yaWdpbmFsU2l6ZSxcblx0XHRcdG9yaWdpbmFsUG9zaXRpb246IHRoaXMub3JpZ2luYWxQb3NpdGlvblxuXHRcdH07XG5cdH1cblxufSk7XG5cbi8qXG4gKiBSZXNpemFibGUgRXh0ZW5zaW9uc1xuICovXG5cbiQudWkucGx1Z2luLmFkZChcInJlc2l6YWJsZVwiLCBcImFuaW1hdGVcIiwge1xuXG5cdHN0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9ICQodGhpcykucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnMsXG5cdFx0XHRwciA9IHRoYXQuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsXG5cdFx0XHRpc3RhID0gcHIubGVuZ3RoICYmICgvdGV4dGFyZWEvaSkudGVzdChwclswXS5ub2RlTmFtZSksXG5cdFx0XHRzb2Zmc2V0aCA9IGlzdGEgJiYgdGhhdC5faGFzU2Nyb2xsKHByWzBdLCBcImxlZnRcIikgPyAwIDogdGhhdC5zaXplRGlmZi5oZWlnaHQsXG5cdFx0XHRzb2Zmc2V0dyA9IGlzdGEgPyAwIDogdGhhdC5zaXplRGlmZi53aWR0aCxcblx0XHRcdHN0eWxlID0geyB3aWR0aDogKHRoYXQuc2l6ZS53aWR0aCAtIHNvZmZzZXR3KSwgaGVpZ2h0OiAodGhhdC5zaXplLmhlaWdodCAtIHNvZmZzZXRoKSB9LFxuXHRcdFx0bGVmdCA9IChwYXJzZUludCh0aGF0LmVsZW1lbnQuY3NzKFwibGVmdFwiKSwgMTApICtcblx0XHRcdFx0KHRoYXQucG9zaXRpb24ubGVmdCAtIHRoYXQub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KSkgfHwgbnVsbCxcblx0XHRcdHRvcCA9IChwYXJzZUludCh0aGF0LmVsZW1lbnQuY3NzKFwidG9wXCIpLCAxMCkgK1xuXHRcdFx0XHQodGhhdC5wb3NpdGlvbi50b3AgLSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24udG9wKSkgfHwgbnVsbDtcblxuXHRcdHRoYXQuZWxlbWVudC5hbmltYXRlKFxuXHRcdFx0JC5leHRlbmQoc3R5bGUsIHRvcCAmJiBsZWZ0ID8geyB0b3A6IHRvcCwgbGVmdDogbGVmdCB9IDoge30pLCB7XG5cdFx0XHRcdGR1cmF0aW9uOiBvLmFuaW1hdGVEdXJhdGlvbixcblx0XHRcdFx0ZWFzaW5nOiBvLmFuaW1hdGVFYXNpbmcsXG5cdFx0XHRcdHN0ZXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB7XG5cdFx0XHRcdFx0XHR3aWR0aDogcGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcIndpZHRoXCIpLCAxMCksXG5cdFx0XHRcdFx0XHRoZWlnaHQ6IHBhcnNlSW50KHRoYXQuZWxlbWVudC5jc3MoXCJoZWlnaHRcIiksIDEwKSxcblx0XHRcdFx0XHRcdHRvcDogcGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcInRvcFwiKSwgMTApLFxuXHRcdFx0XHRcdFx0bGVmdDogcGFyc2VJbnQodGhhdC5lbGVtZW50LmNzcyhcImxlZnRcIiksIDEwKVxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRpZiAocHIgJiYgcHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHQkKHByWzBdKS5jc3MoeyB3aWR0aDogZGF0YS53aWR0aCwgaGVpZ2h0OiBkYXRhLmhlaWdodCB9KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBwcm9wYWdhdGluZyByZXNpemUsIGFuZCB1cGRhdGluZyB2YWx1ZXMgZm9yIGVhY2ggYW5pbWF0aW9uIHN0ZXBcblx0XHRcdFx0XHR0aGF0Ll91cGRhdGVDYWNoZShkYXRhKTtcblx0XHRcdFx0XHR0aGF0Ll9wcm9wYWdhdGUoXCJyZXNpemVcIiwgZXZlbnQpO1xuXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoIFwicmVzaXphYmxlXCIsIFwiY29udGFpbm1lbnRcIiwge1xuXG5cdHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCwgcCwgY28sIGNoLCBjdywgd2lkdGgsIGhlaWdodCxcblx0XHRcdHRoYXQgPSAkKCB0aGlzICkucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnMsXG5cdFx0XHRlbCA9IHRoYXQuZWxlbWVudCxcblx0XHRcdG9jID0gby5jb250YWlubWVudCxcblx0XHRcdGNlID0gKCBvYyBpbnN0YW5jZW9mICQgKSA/IG9jLmdldCggMCApIDogKCAvcGFyZW50Ly50ZXN0KCBvYyApICkgPyBlbC5wYXJlbnQoKS5nZXQoIDAgKSA6IG9jO1xuXG5cdFx0aWYgKCAhY2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhhdC5jb250YWluZXJFbGVtZW50ID0gJCggY2UgKTtcblxuXHRcdGlmICggL2RvY3VtZW50Ly50ZXN0KCBvYyApIHx8IG9jID09PSBkb2N1bWVudCApIHtcblx0XHRcdHRoYXQuY29udGFpbmVyT2Zmc2V0ID0ge1xuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR0b3A6IDBcblx0XHRcdH07XG5cdFx0XHR0aGF0LmNvbnRhaW5lclBvc2l0aW9uID0ge1xuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR0b3A6IDBcblx0XHRcdH07XG5cblx0XHRcdHRoYXQucGFyZW50RGF0YSA9IHtcblx0XHRcdFx0ZWxlbWVudDogJCggZG9jdW1lbnQgKSxcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0dG9wOiAwLFxuXHRcdFx0XHR3aWR0aDogJCggZG9jdW1lbnQgKS53aWR0aCgpLFxuXHRcdFx0XHRoZWlnaHQ6ICQoIGRvY3VtZW50ICkuaGVpZ2h0KCkgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudCA9ICQoIGNlICk7XG5cdFx0XHRwID0gW107XG5cdFx0XHQkKFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkxlZnRcIiwgXCJCb3R0b21cIiBdKS5lYWNoKGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRcdFx0XHRwWyBpIF0gPSB0aGF0Ll9udW0oIGVsZW1lbnQuY3NzKCBcInBhZGRpbmdcIiArIG5hbWUgKSApO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoYXQuY29udGFpbmVyT2Zmc2V0ID0gZWxlbWVudC5vZmZzZXQoKTtcblx0XHRcdHRoYXQuY29udGFpbmVyUG9zaXRpb24gPSBlbGVtZW50LnBvc2l0aW9uKCk7XG5cdFx0XHR0aGF0LmNvbnRhaW5lclNpemUgPSB7XG5cdFx0XHRcdGhlaWdodDogKCBlbGVtZW50LmlubmVySGVpZ2h0KCkgLSBwWyAzIF0gKSxcblx0XHRcdFx0d2lkdGg6ICggZWxlbWVudC5pbm5lcldpZHRoKCkgLSBwWyAxIF0gKVxuXHRcdFx0fTtcblxuXHRcdFx0Y28gPSB0aGF0LmNvbnRhaW5lck9mZnNldDtcblx0XHRcdGNoID0gdGhhdC5jb250YWluZXJTaXplLmhlaWdodDtcblx0XHRcdGN3ID0gdGhhdC5jb250YWluZXJTaXplLndpZHRoO1xuXHRcdFx0d2lkdGggPSAoIHRoYXQuX2hhc1Njcm9sbCAoIGNlLCBcImxlZnRcIiApID8gY2Uuc2Nyb2xsV2lkdGggOiBjdyApO1xuXHRcdFx0aGVpZ2h0ID0gKCB0aGF0Ll9oYXNTY3JvbGwgKCBjZSApID8gY2Uuc2Nyb2xsSGVpZ2h0IDogY2ggKSA7XG5cblx0XHRcdHRoYXQucGFyZW50RGF0YSA9IHtcblx0XHRcdFx0ZWxlbWVudDogY2UsXG5cdFx0XHRcdGxlZnQ6IGNvLmxlZnQsXG5cdFx0XHRcdHRvcDogY28udG9wLFxuXHRcdFx0XHR3aWR0aDogd2lkdGgsXG5cdFx0XHRcdGhlaWdodDogaGVpZ2h0XG5cdFx0XHR9O1xuXHRcdH1cblx0fSxcblxuXHRyZXNpemU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgd29zZXQsIGhvc2V0LCBpc1BhcmVudCwgaXNPZmZzZXRSZWxhdGl2ZSxcblx0XHRcdHRoYXQgPSAkKCB0aGlzICkucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnMsXG5cdFx0XHRjbyA9IHRoYXQuY29udGFpbmVyT2Zmc2V0LFxuXHRcdFx0Y3AgPSB0aGF0LnBvc2l0aW9uLFxuXHRcdFx0cFJhdGlvID0gdGhhdC5fYXNwZWN0UmF0aW8gfHwgZXZlbnQuc2hpZnRLZXksXG5cdFx0XHRjb3AgPSB7XG5cdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0bGVmdDogMFxuXHRcdFx0fSxcblx0XHRcdGNlID0gdGhhdC5jb250YWluZXJFbGVtZW50LFxuXHRcdFx0Y29udGludWVSZXNpemUgPSB0cnVlO1xuXG5cdFx0aWYgKCBjZVsgMCBdICE9PSBkb2N1bWVudCAmJiAoIC9zdGF0aWMvICkudGVzdCggY2UuY3NzKCBcInBvc2l0aW9uXCIgKSApICkge1xuXHRcdFx0Y29wID0gY287XG5cdFx0fVxuXG5cdFx0aWYgKCBjcC5sZWZ0IDwgKCB0aGF0Ll9oZWxwZXIgPyBjby5sZWZ0IDogMCApICkge1xuXHRcdFx0dGhhdC5zaXplLndpZHRoID0gdGhhdC5zaXplLndpZHRoICtcblx0XHRcdFx0KCB0aGF0Ll9oZWxwZXIgP1xuXHRcdFx0XHRcdCggdGhhdC5wb3NpdGlvbi5sZWZ0IC0gY28ubGVmdCApIDpcblx0XHRcdFx0XHQoIHRoYXQucG9zaXRpb24ubGVmdCAtIGNvcC5sZWZ0ICkgKTtcblxuXHRcdFx0aWYgKCBwUmF0aW8gKSB7XG5cdFx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSB0aGF0LnNpemUud2lkdGggLyB0aGF0LmFzcGVjdFJhdGlvO1xuXHRcdFx0XHRjb250aW51ZVJlc2l6ZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dGhhdC5wb3NpdGlvbi5sZWZ0ID0gby5oZWxwZXIgPyBjby5sZWZ0IDogMDtcblx0XHR9XG5cblx0XHRpZiAoIGNwLnRvcCA8ICggdGhhdC5faGVscGVyID8gY28udG9wIDogMCApICkge1xuXHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IHRoYXQuc2l6ZS5oZWlnaHQgK1xuXHRcdFx0XHQoIHRoYXQuX2hlbHBlciA/XG5cdFx0XHRcdFx0KCB0aGF0LnBvc2l0aW9uLnRvcCAtIGNvLnRvcCApIDpcblx0XHRcdFx0XHR0aGF0LnBvc2l0aW9uLnRvcCApO1xuXG5cdFx0XHRpZiAoIHBSYXRpbyApIHtcblx0XHRcdFx0dGhhdC5zaXplLndpZHRoID0gdGhhdC5zaXplLmhlaWdodCAqIHRoYXQuYXNwZWN0UmF0aW87XG5cdFx0XHRcdGNvbnRpbnVlUmVzaXplID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR0aGF0LnBvc2l0aW9uLnRvcCA9IHRoYXQuX2hlbHBlciA/IGNvLnRvcCA6IDA7XG5cdFx0fVxuXG5cdFx0aXNQYXJlbnQgPSB0aGF0LmNvbnRhaW5lckVsZW1lbnQuZ2V0KCAwICkgPT09IHRoYXQuZWxlbWVudC5wYXJlbnQoKS5nZXQoIDAgKTtcblx0XHRpc09mZnNldFJlbGF0aXZlID0gL3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KCB0aGF0LmNvbnRhaW5lckVsZW1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSApO1xuXG5cdFx0aWYgKCBpc1BhcmVudCAmJiBpc09mZnNldFJlbGF0aXZlICkge1xuXHRcdFx0dGhhdC5vZmZzZXQubGVmdCA9IHRoYXQucGFyZW50RGF0YS5sZWZ0ICsgdGhhdC5wb3NpdGlvbi5sZWZ0O1xuXHRcdFx0dGhhdC5vZmZzZXQudG9wID0gdGhhdC5wYXJlbnREYXRhLnRvcCArIHRoYXQucG9zaXRpb24udG9wO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGF0Lm9mZnNldC5sZWZ0ID0gdGhhdC5lbGVtZW50Lm9mZnNldCgpLmxlZnQ7XG5cdFx0XHR0aGF0Lm9mZnNldC50b3AgPSB0aGF0LmVsZW1lbnQub2Zmc2V0KCkudG9wO1xuXHRcdH1cblxuXHRcdHdvc2V0ID0gTWF0aC5hYnMoIHRoYXQuc2l6ZURpZmYud2lkdGggK1xuXHRcdFx0KHRoYXQuX2hlbHBlciA/XG5cdFx0XHRcdHRoYXQub2Zmc2V0LmxlZnQgLSBjb3AubGVmdCA6XG5cdFx0XHRcdCh0aGF0Lm9mZnNldC5sZWZ0IC0gY28ubGVmdCkpICk7XG5cblx0XHRob3NldCA9IE1hdGguYWJzKCB0aGF0LnNpemVEaWZmLmhlaWdodCArXG5cdFx0XHQodGhhdC5faGVscGVyID9cblx0XHRcdFx0dGhhdC5vZmZzZXQudG9wIC0gY29wLnRvcCA6XG5cdFx0XHRcdCh0aGF0Lm9mZnNldC50b3AgLSBjby50b3ApKSApO1xuXG5cdFx0aWYgKCB3b3NldCArIHRoYXQuc2l6ZS53aWR0aCA+PSB0aGF0LnBhcmVudERhdGEud2lkdGggKSB7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSB0aGF0LnBhcmVudERhdGEud2lkdGggLSB3b3NldDtcblx0XHRcdGlmICggcFJhdGlvICkge1xuXHRcdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gdGhhdC5zaXplLndpZHRoIC8gdGhhdC5hc3BlY3RSYXRpbztcblx0XHRcdFx0Y29udGludWVSZXNpemUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGhvc2V0ICsgdGhhdC5zaXplLmhlaWdodCA+PSB0aGF0LnBhcmVudERhdGEuaGVpZ2h0ICkge1xuXHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IHRoYXQucGFyZW50RGF0YS5oZWlnaHQgLSBob3NldDtcblx0XHRcdGlmICggcFJhdGlvICkge1xuXHRcdFx0XHR0aGF0LnNpemUud2lkdGggPSB0aGF0LnNpemUuaGVpZ2h0ICogdGhhdC5hc3BlY3RSYXRpbztcblx0XHRcdFx0Y29udGludWVSZXNpemUgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICFjb250aW51ZVJlc2l6ZSApIHtcblx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IHRoYXQucHJldlBvc2l0aW9uLmxlZnQ7XG5cdFx0XHR0aGF0LnBvc2l0aW9uLnRvcCA9IHRoYXQucHJldlBvc2l0aW9uLnRvcDtcblx0XHRcdHRoYXQuc2l6ZS53aWR0aCA9IHRoYXQucHJldlNpemUud2lkdGg7XG5cdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gdGhhdC5wcmV2U2l6ZS5oZWlnaHQ7XG5cdFx0fVxuXHR9LFxuXG5cdHN0b3A6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gJCggdGhpcyApLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0Y28gPSB0aGF0LmNvbnRhaW5lck9mZnNldCxcblx0XHRcdGNvcCA9IHRoYXQuY29udGFpbmVyUG9zaXRpb24sXG5cdFx0XHRjZSA9IHRoYXQuY29udGFpbmVyRWxlbWVudCxcblx0XHRcdGhlbHBlciA9ICQoIHRoYXQuaGVscGVyICksXG5cdFx0XHRobyA9IGhlbHBlci5vZmZzZXQoKSxcblx0XHRcdHcgPSBoZWxwZXIub3V0ZXJXaWR0aCgpIC0gdGhhdC5zaXplRGlmZi53aWR0aCxcblx0XHRcdGggPSBoZWxwZXIub3V0ZXJIZWlnaHQoKSAtIHRoYXQuc2l6ZURpZmYuaGVpZ2h0O1xuXG5cdFx0aWYgKCB0aGF0Ll9oZWxwZXIgJiYgIW8uYW5pbWF0ZSAmJiAoIC9yZWxhdGl2ZS8gKS50ZXN0KCBjZS5jc3MoIFwicG9zaXRpb25cIiApICkgKSB7XG5cdFx0XHQkKCB0aGlzICkuY3NzKHtcblx0XHRcdFx0bGVmdDogaG8ubGVmdCAtIGNvcC5sZWZ0IC0gY28ubGVmdCxcblx0XHRcdFx0d2lkdGg6IHcsXG5cdFx0XHRcdGhlaWdodDogaFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGF0Ll9oZWxwZXIgJiYgIW8uYW5pbWF0ZSAmJiAoIC9zdGF0aWMvICkudGVzdCggY2UuY3NzKCBcInBvc2l0aW9uXCIgKSApICkge1xuXHRcdFx0JCggdGhpcyApLmNzcyh7XG5cdFx0XHRcdGxlZnQ6IGhvLmxlZnQgLSBjb3AubGVmdCAtIGNvLmxlZnQsXG5cdFx0XHRcdHdpZHRoOiB3LFxuXHRcdFx0XHRoZWlnaHQ6IGhcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufSk7XG5cbiQudWkucGx1Z2luLmFkZChcInJlc2l6YWJsZVwiLCBcImFsc29SZXNpemVcIiwge1xuXG5cdHN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9ICQodGhpcykucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnM7XG5cblx0XHQkKG8uYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbCA9ICQodGhpcyk7XG5cdFx0XHRlbC5kYXRhKFwidWktcmVzaXphYmxlLWFsc29yZXNpemVcIiwge1xuXHRcdFx0XHR3aWR0aDogcGFyc2VJbnQoZWwud2lkdGgoKSwgMTApLCBoZWlnaHQ6IHBhcnNlSW50KGVsLmhlaWdodCgpLCAxMCksXG5cdFx0XHRcdGxlZnQ6IHBhcnNlSW50KGVsLmNzcyhcImxlZnRcIiksIDEwKSwgdG9wOiBwYXJzZUludChlbC5jc3MoXCJ0b3BcIiksIDEwKVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH0sXG5cblx0cmVzaXplOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblx0XHR2YXIgdGhhdCA9ICQodGhpcykucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKSxcblx0XHRcdG8gPSB0aGF0Lm9wdGlvbnMsXG5cdFx0XHRvcyA9IHRoYXQub3JpZ2luYWxTaXplLFxuXHRcdFx0b3AgPSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRkZWx0YSA9IHtcblx0XHRcdFx0aGVpZ2h0OiAodGhhdC5zaXplLmhlaWdodCAtIG9zLmhlaWdodCkgfHwgMCxcblx0XHRcdFx0d2lkdGg6ICh0aGF0LnNpemUud2lkdGggLSBvcy53aWR0aCkgfHwgMCxcblx0XHRcdFx0dG9wOiAodGhhdC5wb3NpdGlvbi50b3AgLSBvcC50b3ApIHx8IDAsXG5cdFx0XHRcdGxlZnQ6ICh0aGF0LnBvc2l0aW9uLmxlZnQgLSBvcC5sZWZ0KSB8fCAwXG5cdFx0XHR9O1xuXG5cdFx0XHQkKG8uYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsID0gJCh0aGlzKSwgc3RhcnQgPSAkKHRoaXMpLmRhdGEoXCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZVwiKSwgc3R5bGUgPSB7fSxcblx0XHRcdFx0XHRjc3MgPSBlbC5wYXJlbnRzKHVpLm9yaWdpbmFsRWxlbWVudFswXSkubGVuZ3RoID9cblx0XHRcdFx0XHRcdFx0WyBcIndpZHRoXCIsIFwiaGVpZ2h0XCIgXSA6XG5cdFx0XHRcdFx0XHRcdFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInRvcFwiLCBcImxlZnRcIiBdO1xuXG5cdFx0XHRcdCQuZWFjaChjc3MsIGZ1bmN0aW9uKGksIHByb3ApIHtcblx0XHRcdFx0XHR2YXIgc3VtID0gKHN0YXJ0W3Byb3BdIHx8IDApICsgKGRlbHRhW3Byb3BdIHx8IDApO1xuXHRcdFx0XHRcdGlmIChzdW0gJiYgc3VtID49IDApIHtcblx0XHRcdFx0XHRcdHN0eWxlW3Byb3BdID0gc3VtIHx8IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRlbC5jc3Moc3R5bGUpO1xuXHRcdFx0fSk7XG5cdH0sXG5cblx0c3RvcDogZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5yZW1vdmVEYXRhKFwicmVzaXphYmxlLWFsc29yZXNpemVcIik7XG5cdH1cbn0pO1xuXG4kLnVpLnBsdWdpbi5hZGQoXCJyZXNpemFibGVcIiwgXCJnaG9zdFwiLCB7XG5cblx0c3RhcnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksIG8gPSB0aGF0Lm9wdGlvbnMsIGNzID0gdGhhdC5zaXplO1xuXG5cdFx0dGhhdC5naG9zdCA9IHRoYXQub3JpZ2luYWxFbGVtZW50LmNsb25lKCk7XG5cdFx0dGhhdC5naG9zdFxuXHRcdFx0LmNzcyh7XG5cdFx0XHRcdG9wYWNpdHk6IDAuMjUsXG5cdFx0XHRcdGRpc3BsYXk6IFwiYmxvY2tcIixcblx0XHRcdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRcdFx0aGVpZ2h0OiBjcy5oZWlnaHQsXG5cdFx0XHRcdHdpZHRoOiBjcy53aWR0aCxcblx0XHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHR0b3A6IDBcblx0XHRcdH0pXG5cdFx0XHQuYWRkQ2xhc3MoXCJ1aS1yZXNpemFibGUtZ2hvc3RcIilcblx0XHRcdC5hZGRDbGFzcyh0eXBlb2Ygby5naG9zdCA9PT0gXCJzdHJpbmdcIiA/IG8uZ2hvc3QgOiBcIlwiKTtcblxuXHRcdHRoYXQuZ2hvc3QuYXBwZW5kVG8odGhhdC5oZWxwZXIpO1xuXG5cdH0sXG5cblx0cmVzaXplOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9ICQodGhpcykucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRpZiAodGhhdC5naG9zdCkge1xuXHRcdFx0dGhhdC5naG9zdC5jc3Moe1xuXHRcdFx0XHRwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuXHRcdFx0XHRoZWlnaHQ6IHRoYXQuc2l6ZS5oZWlnaHQsXG5cdFx0XHRcdHdpZHRoOiB0aGF0LnNpemUud2lkdGhcblx0XHRcdH0pO1xuXHRcdH1cblx0fSxcblxuXHRzdG9wOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9ICQodGhpcykucmVzaXphYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRpZiAodGhhdC5naG9zdCAmJiB0aGF0LmhlbHBlcikge1xuXHRcdFx0dGhhdC5oZWxwZXIuZ2V0KDApLnJlbW92ZUNoaWxkKHRoYXQuZ2hvc3QuZ2V0KDApKTtcblx0XHR9XG5cdH1cblxufSk7XG5cbiQudWkucGx1Z2luLmFkZChcInJlc2l6YWJsZVwiLCBcImdyaWRcIiwge1xuXG5cdHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG91dGVyRGltZW5zaW9ucyxcblx0XHRcdHRoYXQgPSAkKHRoaXMpLnJlc2l6YWJsZSggXCJpbnN0YW5jZVwiICksXG5cdFx0XHRvID0gdGhhdC5vcHRpb25zLFxuXHRcdFx0Y3MgPSB0aGF0LnNpemUsXG5cdFx0XHRvcyA9IHRoYXQub3JpZ2luYWxTaXplLFxuXHRcdFx0b3AgPSB0aGF0Lm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRhID0gdGhhdC5heGlzLFxuXHRcdFx0Z3JpZCA9IHR5cGVvZiBvLmdyaWQgPT09IFwibnVtYmVyXCIgPyBbIG8uZ3JpZCwgby5ncmlkIF0gOiBvLmdyaWQsXG5cdFx0XHRncmlkWCA9IChncmlkWzBdIHx8IDEpLFxuXHRcdFx0Z3JpZFkgPSAoZ3JpZFsxXSB8fCAxKSxcblx0XHRcdG94ID0gTWF0aC5yb3VuZCgoY3Mud2lkdGggLSBvcy53aWR0aCkgLyBncmlkWCkgKiBncmlkWCxcblx0XHRcdG95ID0gTWF0aC5yb3VuZCgoY3MuaGVpZ2h0IC0gb3MuaGVpZ2h0KSAvIGdyaWRZKSAqIGdyaWRZLFxuXHRcdFx0bmV3V2lkdGggPSBvcy53aWR0aCArIG94LFxuXHRcdFx0bmV3SGVpZ2h0ID0gb3MuaGVpZ2h0ICsgb3ksXG5cdFx0XHRpc01heFdpZHRoID0gby5tYXhXaWR0aCAmJiAoby5tYXhXaWR0aCA8IG5ld1dpZHRoKSxcblx0XHRcdGlzTWF4SGVpZ2h0ID0gby5tYXhIZWlnaHQgJiYgKG8ubWF4SGVpZ2h0IDwgbmV3SGVpZ2h0KSxcblx0XHRcdGlzTWluV2lkdGggPSBvLm1pbldpZHRoICYmIChvLm1pbldpZHRoID4gbmV3V2lkdGgpLFxuXHRcdFx0aXNNaW5IZWlnaHQgPSBvLm1pbkhlaWdodCAmJiAoby5taW5IZWlnaHQgPiBuZXdIZWlnaHQpO1xuXG5cdFx0by5ncmlkID0gZ3JpZDtcblxuXHRcdGlmIChpc01pbldpZHRoKSB7XG5cdFx0XHRuZXdXaWR0aCArPSBncmlkWDtcblx0XHR9XG5cdFx0aWYgKGlzTWluSGVpZ2h0KSB7XG5cdFx0XHRuZXdIZWlnaHQgKz0gZ3JpZFk7XG5cdFx0fVxuXHRcdGlmIChpc01heFdpZHRoKSB7XG5cdFx0XHRuZXdXaWR0aCAtPSBncmlkWDtcblx0XHR9XG5cdFx0aWYgKGlzTWF4SGVpZ2h0KSB7XG5cdFx0XHRuZXdIZWlnaHQgLT0gZ3JpZFk7XG5cdFx0fVxuXG5cdFx0aWYgKC9eKHNlfHN8ZSkkLy50ZXN0KGEpKSB7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSBuZXdXaWR0aDtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdFx0fSBlbHNlIGlmICgvXihuZSkkLy50ZXN0KGEpKSB7XG5cdFx0XHR0aGF0LnNpemUud2lkdGggPSBuZXdXaWR0aDtcblx0XHRcdHRoYXQuc2l6ZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdFx0XHR0aGF0LnBvc2l0aW9uLnRvcCA9IG9wLnRvcCAtIG95O1xuXHRcdH0gZWxzZSBpZiAoL14oc3cpJC8udGVzdChhKSkge1xuXHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHR0aGF0LnNpemUuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXHRcdFx0dGhhdC5wb3NpdGlvbi5sZWZ0ID0gb3AubGVmdCAtIG94O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIG5ld0hlaWdodCAtIGdyaWRZIDw9IDAgfHwgbmV3V2lkdGggLSBncmlkWCA8PSAwKSB7XG5cdFx0XHRcdG91dGVyRGltZW5zaW9ucyA9IHRoYXQuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyggdGhpcyApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG5ld0hlaWdodCAtIGdyaWRZID4gMCApIHtcblx0XHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IG5ld0hlaWdodDtcblx0XHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSBvcC50b3AgLSBveTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld0hlaWdodCA9IGdyaWRZIC0gb3V0ZXJEaW1lbnNpb25zLmhlaWdodDtcblx0XHRcdFx0dGhhdC5zaXplLmhlaWdodCA9IG5ld0hlaWdodDtcblx0XHRcdFx0dGhhdC5wb3NpdGlvbi50b3AgPSBvcC50b3AgKyBvcy5oZWlnaHQgLSBuZXdIZWlnaHQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG5ld1dpZHRoIC0gZ3JpZFggPiAwICkge1xuXHRcdFx0XHR0aGF0LnNpemUud2lkdGggPSBuZXdXaWR0aDtcblx0XHRcdFx0dGhhdC5wb3NpdGlvbi5sZWZ0ID0gb3AubGVmdCAtIG94O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3V2lkdGggPSBncmlkWCAtIG91dGVyRGltZW5zaW9ucy53aWR0aDtcblx0XHRcdFx0dGhhdC5zaXplLndpZHRoID0gbmV3V2lkdGg7XG5cdFx0XHRcdHRoYXQucG9zaXRpb24ubGVmdCA9IG9wLmxlZnQgKyBvcy53aWR0aCAtIG5ld1dpZHRoO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG59KTtcblxudmFyIHJlc2l6YWJsZSA9ICQudWkucmVzaXphYmxlO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIERpYWxvZyAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RpYWxvZy9cbiAqL1xuXG5cbnZhciBkaWFsb2cgPSAkLndpZGdldCggXCJ1aS5kaWFsb2dcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YXBwZW5kVG86IFwiYm9keVwiLFxuXHRcdGF1dG9PcGVuOiB0cnVlLFxuXHRcdGJ1dHRvbnM6IFtdLFxuXHRcdGNsb3NlT25Fc2NhcGU6IHRydWUsXG5cdFx0Y2xvc2VUZXh0OiBcIkNsb3NlXCIsXG5cdFx0ZGlhbG9nQ2xhc3M6IFwiXCIsXG5cdFx0ZHJhZ2dhYmxlOiB0cnVlLFxuXHRcdGhpZGU6IG51bGwsXG5cdFx0aGVpZ2h0OiBcImF1dG9cIixcblx0XHRtYXhIZWlnaHQ6IG51bGwsXG5cdFx0bWF4V2lkdGg6IG51bGwsXG5cdFx0bWluSGVpZ2h0OiAxNTAsXG5cdFx0bWluV2lkdGg6IDE1MCxcblx0XHRtb2RhbDogZmFsc2UsXG5cdFx0cG9zaXRpb246IHtcblx0XHRcdG15OiBcImNlbnRlclwiLFxuXHRcdFx0YXQ6IFwiY2VudGVyXCIsXG5cdFx0XHRvZjogd2luZG93LFxuXHRcdFx0Y29sbGlzaW9uOiBcImZpdFwiLFxuXHRcdFx0Ly8gRW5zdXJlIHRoZSB0aXRsZWJhciBpcyBhbHdheXMgdmlzaWJsZVxuXHRcdFx0dXNpbmc6IGZ1bmN0aW9uKCBwb3MgKSB7XG5cdFx0XHRcdHZhciB0b3BPZmZzZXQgPSAkKCB0aGlzICkuY3NzKCBwb3MgKS5vZmZzZXQoKS50b3A7XG5cdFx0XHRcdGlmICggdG9wT2Zmc2V0IDwgMCApIHtcblx0XHRcdFx0XHQkKCB0aGlzICkuY3NzKCBcInRvcFwiLCBwb3MudG9wIC0gdG9wT2Zmc2V0ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlc2l6YWJsZTogdHJ1ZSxcblx0XHRzaG93OiBudWxsLFxuXHRcdHRpdGxlOiBudWxsLFxuXHRcdHdpZHRoOiAzMDAsXG5cblx0XHQvLyBjYWxsYmFja3Ncblx0XHRiZWZvcmVDbG9zZTogbnVsbCxcblx0XHRjbG9zZTogbnVsbCxcblx0XHRkcmFnOiBudWxsLFxuXHRcdGRyYWdTdGFydDogbnVsbCxcblx0XHRkcmFnU3RvcDogbnVsbCxcblx0XHRmb2N1czogbnVsbCxcblx0XHRvcGVuOiBudWxsLFxuXHRcdHJlc2l6ZTogbnVsbCxcblx0XHRyZXNpemVTdGFydDogbnVsbCxcblx0XHRyZXNpemVTdG9wOiBudWxsXG5cdH0sXG5cblx0c2l6ZVJlbGF0ZWRPcHRpb25zOiB7XG5cdFx0YnV0dG9uczogdHJ1ZSxcblx0XHRoZWlnaHQ6IHRydWUsXG5cdFx0bWF4SGVpZ2h0OiB0cnVlLFxuXHRcdG1heFdpZHRoOiB0cnVlLFxuXHRcdG1pbkhlaWdodDogdHJ1ZSxcblx0XHRtaW5XaWR0aDogdHJ1ZSxcblx0XHR3aWR0aDogdHJ1ZVxuXHR9LFxuXG5cdHJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zOiB7XG5cdFx0bWF4SGVpZ2h0OiB0cnVlLFxuXHRcdG1heFdpZHRoOiB0cnVlLFxuXHRcdG1pbkhlaWdodDogdHJ1ZSxcblx0XHRtaW5XaWR0aDogdHJ1ZVxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMub3JpZ2luYWxDc3MgPSB7XG5cdFx0XHRkaXNwbGF5OiB0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5kaXNwbGF5LFxuXHRcdFx0d2lkdGg6IHRoaXMuZWxlbWVudFsgMCBdLnN0eWxlLndpZHRoLFxuXHRcdFx0bWluSGVpZ2h0OiB0aGlzLmVsZW1lbnRbIDAgXS5zdHlsZS5taW5IZWlnaHQsXG5cdFx0XHRtYXhIZWlnaHQ6IHRoaXMuZWxlbWVudFsgMCBdLnN0eWxlLm1heEhlaWdodCxcblx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50WyAwIF0uc3R5bGUuaGVpZ2h0XG5cdFx0fTtcblx0XHR0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB7XG5cdFx0XHRwYXJlbnQ6IHRoaXMuZWxlbWVudC5wYXJlbnQoKSxcblx0XHRcdGluZGV4OiB0aGlzLmVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCggdGhpcy5lbGVtZW50IClcblx0XHR9O1xuXHRcdHRoaXMub3JpZ2luYWxUaXRsZSA9IHRoaXMuZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKTtcblx0XHR0aGlzLm9wdGlvbnMudGl0bGUgPSB0aGlzLm9wdGlvbnMudGl0bGUgfHwgdGhpcy5vcmlnaW5hbFRpdGxlO1xuXG5cdFx0dGhpcy5fY3JlYXRlV3JhcHBlcigpO1xuXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQuc2hvdygpXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJ0aXRsZVwiIClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1kaWFsb2ctY29udGVudCB1aS13aWRnZXQtY29udGVudFwiIClcblx0XHRcdC5hcHBlbmRUbyggdGhpcy51aURpYWxvZyApO1xuXG5cdFx0dGhpcy5fY3JlYXRlVGl0bGViYXIoKTtcblx0XHR0aGlzLl9jcmVhdGVCdXR0b25QYW5lKCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUgJiYgJC5mbi5kcmFnZ2FibGUgKSB7XG5cdFx0XHR0aGlzLl9tYWtlRHJhZ2dhYmxlKCk7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcHRpb25zLnJlc2l6YWJsZSAmJiAkLmZuLnJlc2l6YWJsZSApIHtcblx0XHRcdHRoaXMuX21ha2VSZXNpemFibGUoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9pc09wZW4gPSBmYWxzZTtcblxuXHRcdHRoaXMuX3RyYWNrRm9jdXMoKTtcblx0fSxcblxuXHRfaW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXV0b09wZW4gKSB7XG5cdFx0XHR0aGlzLm9wZW4oKTtcblx0XHR9XG5cdH0sXG5cblx0X2FwcGVuZFRvOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblx0XHRpZiAoIGVsZW1lbnQgJiYgKGVsZW1lbnQuanF1ZXJ5IHx8IGVsZW1lbnQubm9kZVR5cGUpICkge1xuXHRcdFx0cmV0dXJuICQoIGVsZW1lbnQgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZG9jdW1lbnQuZmluZCggZWxlbWVudCB8fCBcImJvZHlcIiApLmVxKCAwICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXh0LFxuXHRcdFx0b3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbjtcblxuXHRcdHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpO1xuXHRcdHRoaXMuX2Rlc3Ryb3lPdmVybGF5KCk7XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktZGlhbG9nLWNvbnRlbnQgdWktd2lkZ2V0LWNvbnRlbnRcIiApXG5cdFx0XHQuY3NzKCB0aGlzLm9yaWdpbmFsQ3NzIClcblx0XHRcdC8vIFdpdGhvdXQgZGV0YWNoaW5nIGZpcnN0LCB0aGUgZm9sbG93aW5nIGJlY29tZXMgcmVhbGx5IHNsb3dcblx0XHRcdC5kZXRhY2goKTtcblxuXHRcdHRoaXMudWlEaWFsb2cuc3RvcCggdHJ1ZSwgdHJ1ZSApLnJlbW92ZSgpO1xuXG5cdFx0aWYgKCB0aGlzLm9yaWdpbmFsVGl0bGUgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJ0aXRsZVwiLCB0aGlzLm9yaWdpbmFsVGl0bGUgKTtcblx0XHR9XG5cblx0XHRuZXh0ID0gb3JpZ2luYWxQb3NpdGlvbi5wYXJlbnQuY2hpbGRyZW4oKS5lcSggb3JpZ2luYWxQb3NpdGlvbi5pbmRleCApO1xuXHRcdC8vIERvbid0IHRyeSB0byBwbGFjZSB0aGUgZGlhbG9nIG5leHQgdG8gaXRzZWxmICgjODYxMylcblx0XHRpZiAoIG5leHQubGVuZ3RoICYmIG5leHRbIDAgXSAhPT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRuZXh0LmJlZm9yZSggdGhpcy5lbGVtZW50ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9yaWdpbmFsUG9zaXRpb24ucGFyZW50LmFwcGVuZCggdGhpcy5lbGVtZW50ICk7XG5cdFx0fVxuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudWlEaWFsb2c7XG5cdH0sXG5cblx0ZGlzYWJsZTogJC5ub29wLFxuXHRlbmFibGU6ICQubm9vcCxcblxuXHRjbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBhY3RpdmVFbGVtZW50LFxuXHRcdFx0dGhhdCA9IHRoaXM7XG5cblx0XHRpZiAoICF0aGlzLl9pc09wZW4gfHwgdGhpcy5fdHJpZ2dlciggXCJiZWZvcmVDbG9zZVwiLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9pc09wZW4gPSBmYWxzZTtcblx0XHR0aGlzLl9mb2N1c2VkRWxlbWVudCA9IG51bGw7XG5cdFx0dGhpcy5fZGVzdHJveU92ZXJsYXkoKTtcblx0XHR0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTtcblxuXHRcdGlmICggIXRoaXMub3BlbmVyLmZpbHRlciggXCI6Zm9jdXNhYmxlXCIgKS5mb2N1cygpLmxlbmd0aCApIHtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUU5XG5cdFx0XHQvLyBJRTkgdGhyb3dzIGFuIFwiVW5zcGVjaWZpZWQgZXJyb3JcIiBhY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBmcm9tIGFuIDxpZnJhbWU+XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhY3RpdmVFbGVtZW50ID0gdGhpcy5kb2N1bWVudFsgMCBdLmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU5LCBJRTEwXG5cdFx0XHRcdC8vIElmIHRoZSA8Ym9keT4gaXMgYmx1cnJlZCwgSUUgd2lsbCBzd2l0Y2ggd2luZG93cywgc2VlICM0NTIwXG5cdFx0XHRcdGlmICggYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwiYm9keVwiICkge1xuXG5cdFx0XHRcdFx0Ly8gSGlkaW5nIGEgZm9jdXNlZCBlbGVtZW50IGRvZXNuJ3QgdHJpZ2dlciBibHVyIGluIFdlYktpdFxuXHRcdFx0XHRcdC8vIHNvIGluIGNhc2Ugd2UgaGF2ZSBub3RoaW5nIHRvIGZvY3VzIG9uLCBleHBsaWNpdGx5IGJsdXIgdGhlIGFjdGl2ZSBlbGVtZW50XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTQ3MTgyXG5cdFx0XHRcdFx0JCggYWN0aXZlRWxlbWVudCApLmJsdXIoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoIGVycm9yICkge31cblx0XHR9XG5cblx0XHR0aGlzLl9oaWRlKCB0aGlzLnVpRGlhbG9nLCB0aGlzLm9wdGlvbnMuaGlkZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImNsb3NlXCIsIGV2ZW50ICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0aXNPcGVuOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5faXNPcGVuO1xuXHR9LFxuXG5cdG1vdmVUb1RvcDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fbW92ZVRvVG9wKCk7XG5cdH0sXG5cblx0X21vdmVUb1RvcDogZnVuY3Rpb24oIGV2ZW50LCBzaWxlbnQgKSB7XG5cdFx0dmFyIG1vdmVkID0gZmFsc2UsXG5cdFx0XHR6SW5kaWNlcyA9IHRoaXMudWlEaWFsb2cuc2libGluZ3MoIFwiLnVpLWZyb250OnZpc2libGVcIiApLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICskKCB0aGlzICkuY3NzKCBcInotaW5kZXhcIiApO1xuXHRcdFx0fSkuZ2V0KCksXG5cdFx0XHR6SW5kZXhNYXggPSBNYXRoLm1heC5hcHBseSggbnVsbCwgekluZGljZXMgKTtcblxuXHRcdGlmICggekluZGV4TWF4ID49ICt0aGlzLnVpRGlhbG9nLmNzcyggXCJ6LWluZGV4XCIgKSApIHtcblx0XHRcdHRoaXMudWlEaWFsb2cuY3NzKCBcInotaW5kZXhcIiwgekluZGV4TWF4ICsgMSApO1xuXHRcdFx0bW92ZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggbW92ZWQgJiYgIXNpbGVudCApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiZm9jdXNcIiwgZXZlbnQgKTtcblx0XHR9XG5cdFx0cmV0dXJuIG1vdmVkO1xuXHR9LFxuXG5cdG9wZW46IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRpZiAoIHRoaXMuX2lzT3BlbiApIHtcblx0XHRcdGlmICggdGhpcy5fbW92ZVRvVG9wKCkgKSB7XG5cdFx0XHRcdHRoaXMuX2ZvY3VzVGFiYmFibGUoKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9pc09wZW4gPSB0cnVlO1xuXHRcdHRoaXMub3BlbmVyID0gJCggdGhpcy5kb2N1bWVudFsgMCBdLmFjdGl2ZUVsZW1lbnQgKTtcblxuXHRcdHRoaXMuX3NpemUoKTtcblx0XHR0aGlzLl9wb3NpdGlvbigpO1xuXHRcdHRoaXMuX2NyZWF0ZU92ZXJsYXkoKTtcblx0XHR0aGlzLl9tb3ZlVG9Ub3AoIG51bGwsIHRydWUgKTtcblxuXHRcdC8vIEVuc3VyZSB0aGUgb3ZlcmxheSBpcyBtb3ZlZCB0byB0aGUgdG9wIHdpdGggdGhlIGRpYWxvZywgYnV0IG9ubHkgd2hlblxuXHRcdC8vIG9wZW5pbmcuIFRoZSBvdmVybGF5IHNob3VsZG4ndCBtb3ZlIGFmdGVyIHRoZSBkaWFsb2cgaXMgb3BlbiBzbyB0aGF0XG5cdFx0Ly8gbW9kZWxlc3MgZGlhbG9ncyBvcGVuZWQgYWZ0ZXIgdGhlIG1vZGFsIGRpYWxvZyBzdGFjayBwcm9wZXJseS5cblx0XHRpZiAoIHRoaXMub3ZlcmxheSApIHtcblx0XHRcdHRoaXMub3ZlcmxheS5jc3MoIFwiei1pbmRleFwiLCB0aGlzLnVpRGlhbG9nLmNzcyggXCJ6LWluZGV4XCIgKSAtIDEgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zaG93KCB0aGlzLnVpRGlhbG9nLCB0aGlzLm9wdGlvbnMuc2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGF0Ll9mb2N1c1RhYmJhYmxlKCk7XG5cdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImZvY3VzXCIgKTtcblx0XHR9KTtcblxuXHRcdC8vIFRyYWNrIHRoZSBkaWFsb2cgaW1tZWRpYXRlbHkgdXBvbiBvcGVuZW5pbmcgaW4gY2FzZSBhIGZvY3VzIGV2ZW50XG5cdFx0Ly8gc29tZWhvdyBvY2N1cnMgb3V0c2lkZSBvZiB0aGUgZGlhbG9nIGJlZm9yZSBhbiBlbGVtZW50IGluc2lkZSB0aGVcblx0XHQvLyBkaWFsb2cgaXMgZm9jdXNlZCAoIzEwMTUyKVxuXHRcdHRoaXMuX21ha2VGb2N1c1RhcmdldCgpO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIgKTtcblx0fSxcblxuXHRfZm9jdXNUYWJiYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gU2V0IGZvY3VzIHRvIHRoZSBmaXJzdCBtYXRjaDpcblx0XHQvLyAxLiBBbiBlbGVtZW50IHRoYXQgd2FzIGZvY3VzZWQgcHJldmlvdXNseVxuXHRcdC8vIDIuIEZpcnN0IGVsZW1lbnQgaW5zaWRlIHRoZSBkaWFsb2cgbWF0Y2hpbmcgW2F1dG9mb2N1c11cblx0XHQvLyAzLiBUYWJiYWJsZSBlbGVtZW50IGluc2lkZSB0aGUgY29udGVudCBlbGVtZW50XG5cdFx0Ly8gNC4gVGFiYmFibGUgZWxlbWVudCBpbnNpZGUgdGhlIGJ1dHRvbnBhbmVcblx0XHQvLyA1LiBUaGUgY2xvc2UgYnV0dG9uXG5cdFx0Ly8gNi4gVGhlIGRpYWxvZyBpdHNlbGZcblx0XHR2YXIgaGFzRm9jdXMgPSB0aGlzLl9mb2N1c2VkRWxlbWVudDtcblx0XHRpZiAoICFoYXNGb2N1cyApIHtcblx0XHRcdGhhc0ZvY3VzID0gdGhpcy5lbGVtZW50LmZpbmQoIFwiW2F1dG9mb2N1c11cIiApO1xuXHRcdH1cblx0XHRpZiAoICFoYXNGb2N1cy5sZW5ndGggKSB7XG5cdFx0XHRoYXNGb2N1cyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIjp0YWJiYWJsZVwiICk7XG5cdFx0fVxuXHRcdGlmICggIWhhc0ZvY3VzLmxlbmd0aCApIHtcblx0XHRcdGhhc0ZvY3VzID0gdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuZmluZCggXCI6dGFiYmFibGVcIiApO1xuXHRcdH1cblx0XHRpZiAoICFoYXNGb2N1cy5sZW5ndGggKSB7XG5cdFx0XHRoYXNGb2N1cyA9IHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmZpbHRlciggXCI6dGFiYmFibGVcIiApO1xuXHRcdH1cblx0XHRpZiAoICFoYXNGb2N1cy5sZW5ndGggKSB7XG5cdFx0XHRoYXNGb2N1cyA9IHRoaXMudWlEaWFsb2c7XG5cdFx0fVxuXHRcdGhhc0ZvY3VzLmVxKCAwICkuZm9jdXMoKTtcblx0fSxcblxuXHRfa2VlcEZvY3VzOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0ZnVuY3Rpb24gY2hlY2tGb2N1cygpIHtcblx0XHRcdHZhciBhY3RpdmVFbGVtZW50ID0gdGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LFxuXHRcdFx0XHRpc0FjdGl2ZSA9IHRoaXMudWlEaWFsb2dbMF0gPT09IGFjdGl2ZUVsZW1lbnQgfHxcblx0XHRcdFx0XHQkLmNvbnRhaW5zKCB0aGlzLnVpRGlhbG9nWzBdLCBhY3RpdmVFbGVtZW50ICk7XG5cdFx0XHRpZiAoICFpc0FjdGl2ZSApIHtcblx0XHRcdFx0dGhpcy5fZm9jdXNUYWJiYWJsZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNoZWNrRm9jdXMuY2FsbCggdGhpcyApO1xuXHRcdC8vIHN1cHBvcnQ6IElFXG5cdFx0Ly8gSUUgPD0gOCBkb2Vzbid0IHByZXZlbnQgbW92aW5nIGZvY3VzIGV2ZW4gd2l0aCBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0Ly8gc28gd2UgY2hlY2sgYWdhaW4gbGF0ZXJcblx0XHR0aGlzLl9kZWxheSggY2hlY2tGb2N1cyApO1xuXHR9LFxuXG5cdF9jcmVhdGVXcmFwcGVyOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnVpRGlhbG9nID0gJChcIjxkaXY+XCIpXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLWZyb250IFwiICtcblx0XHRcdFx0dGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzIClcblx0XHRcdC5oaWRlKClcblx0XHRcdC5hdHRyKHtcblx0XHRcdFx0Ly8gU2V0dGluZyB0YWJJbmRleCBtYWtlcyB0aGUgZGl2IGZvY3VzYWJsZVxuXHRcdFx0XHR0YWJJbmRleDogLTEsXG5cdFx0XHRcdHJvbGU6IFwiZGlhbG9nXCJcblx0XHRcdH0pXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblxuXHRcdHRoaXMuX29uKCB0aGlzLnVpRGlhbG9nLCB7XG5cdFx0XHRrZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIGV2ZW50LmtleUNvZGUgJiZcblx0XHRcdFx0XHRcdGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5FU0NBUEUgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHByZXZlbnQgdGFiYmluZyBvdXQgb2YgZGlhbG9nc1xuXHRcdFx0XHRpZiAoIGV2ZW50LmtleUNvZGUgIT09ICQudWkua2V5Q29kZS5UQUIgfHwgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciB0YWJiYWJsZXMgPSB0aGlzLnVpRGlhbG9nLmZpbmQoIFwiOnRhYmJhYmxlXCIgKSxcblx0XHRcdFx0XHRmaXJzdCA9IHRhYmJhYmxlcy5maWx0ZXIoIFwiOmZpcnN0XCIgKSxcblx0XHRcdFx0XHRsYXN0ID0gdGFiYmFibGVzLmZpbHRlciggXCI6bGFzdFwiICk7XG5cblx0XHRcdFx0aWYgKCAoIGV2ZW50LnRhcmdldCA9PT0gbGFzdFswXSB8fCBldmVudC50YXJnZXQgPT09IHRoaXMudWlEaWFsb2dbMF0gKSAmJiAhZXZlbnQuc2hpZnRLZXkgKSB7XG5cdFx0XHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRmaXJzdC5mb2N1cygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoICggZXZlbnQudGFyZ2V0ID09PSBmaXJzdFswXSB8fCBldmVudC50YXJnZXQgPT09IHRoaXMudWlEaWFsb2dbMF0gKSAmJiBldmVudC5zaGlmdEtleSApIHtcblx0XHRcdFx0XHR0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGxhc3QuZm9jdXMoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bW91c2Vkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5fbW92ZVRvVG9wKCBldmVudCApICkge1xuXHRcdFx0XHRcdHRoaXMuX2ZvY3VzVGFiYmFibGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgYW55IGV4aXN0aW5nIGFyaWEtZGVzY3JpYmVkYnkgYXR0cmlidXRlIG1lYW5zXG5cdFx0Ly8gdGhhdCB0aGUgZGlhbG9nIGNvbnRlbnQgaXMgbWFya2VkIHVwIHByb3Blcmx5XG5cdFx0Ly8gb3RoZXJ3aXNlIHdlIGJydXRlIGZvcmNlIHRoZSBjb250ZW50IGFzIHRoZSBkZXNjcmlwdGlvblxuXHRcdGlmICggIXRoaXMuZWxlbWVudC5maW5kKCBcIlthcmlhLWRlc2NyaWJlZGJ5XVwiICkubGVuZ3RoICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5hdHRyKHtcblx0XHRcdFx0XCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoIFwiaWRcIiApXG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cblx0X2NyZWF0ZVRpdGxlYmFyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdWlEaWFsb2dUaXRsZTtcblxuXHRcdHRoaXMudWlEaWFsb2dUaXRsZWJhciA9ICQoIFwiPGRpdj5cIiApXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktZGlhbG9nLXRpdGxlYmFyIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCB1aS1oZWxwZXItY2xlYXJmaXhcIiApXG5cdFx0XHQucHJlcGVuZFRvKCB0aGlzLnVpRGlhbG9nICk7XG5cdFx0dGhpcy5fb24oIHRoaXMudWlEaWFsb2dUaXRsZWJhciwge1xuXHRcdFx0bW91c2Vkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdC8vIERvbid0IHByZXZlbnQgY2xpY2sgb24gY2xvc2UgYnV0dG9uICgjODgzOClcblx0XHRcdFx0Ly8gRm9jdXNpbmcgYSBkaWFsb2cgdGhhdCBpcyBwYXJ0aWFsbHkgc2Nyb2xsZWQgb3V0IG9mIHZpZXdcblx0XHRcdFx0Ly8gY2F1c2VzIHRoZSBicm93c2VyIHRvIHNjcm9sbCBpdCBpbnRvIHZpZXcsIHByZXZlbnRpbmcgdGhlIGNsaWNrIGV2ZW50XG5cdFx0XHRcdGlmICggISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZVwiICkgKSB7XG5cdFx0XHRcdFx0Ly8gRGlhbG9nIGlzbid0IGdldHRpbmcgZm9jdXMgd2hlbiBkcmFnZ2luZyAoIzgwNjMpXG5cdFx0XHRcdFx0dGhpcy51aURpYWxvZy5mb2N1cygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBzdXBwb3J0OiBJRVxuXHRcdC8vIFVzZSB0eXBlPVwiYnV0dG9uXCIgdG8gcHJldmVudCBlbnRlciBrZXlwcmVzc2VzIGluIHRleHRib3hlcyBmcm9tIGNsb3NpbmcgdGhlXG5cdFx0Ly8gZGlhbG9nIGluIElFICgjOTMxMilcblx0XHR0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSA9ICQoIFwiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjwvYnV0dG9uPlwiIClcblx0XHRcdC5idXR0b24oe1xuXHRcdFx0XHRsYWJlbDogdGhpcy5vcHRpb25zLmNsb3NlVGV4dCxcblx0XHRcdFx0aWNvbnM6IHtcblx0XHRcdFx0XHRwcmltYXJ5OiBcInVpLWljb24tY2xvc2V0aGlja1wiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRleHQ6IGZhbHNlXG5cdFx0XHR9KVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZVwiIClcblx0XHRcdC5hcHBlbmRUbyggdGhpcy51aURpYWxvZ1RpdGxlYmFyICk7XG5cdFx0dGhpcy5fb24oIHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLCB7XG5cdFx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR0aGlzLmNsb3NlKCBldmVudCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dWlEaWFsb2dUaXRsZSA9ICQoIFwiPHNwYW4+XCIgKVxuXHRcdFx0LnVuaXF1ZUlkKClcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1kaWFsb2ctdGl0bGVcIiApXG5cdFx0XHQucHJlcGVuZFRvKCB0aGlzLnVpRGlhbG9nVGl0bGViYXIgKTtcblx0XHR0aGlzLl90aXRsZSggdWlEaWFsb2dUaXRsZSApO1xuXG5cdFx0dGhpcy51aURpYWxvZy5hdHRyKHtcblx0XHRcdFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHVpRGlhbG9nVGl0bGUuYXR0ciggXCJpZFwiIClcblx0XHR9KTtcblx0fSxcblxuXHRfdGl0bGU6IGZ1bmN0aW9uKCB0aXRsZSApIHtcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMudGl0bGUgKSB7XG5cdFx0XHR0aXRsZS5odG1sKCBcIiYjMTYwO1wiICk7XG5cdFx0fVxuXHRcdHRpdGxlLnRleHQoIHRoaXMub3B0aW9ucy50aXRsZSApO1xuXHR9LFxuXG5cdF9jcmVhdGVCdXR0b25QYW5lOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSA9ICQoIFwiPGRpdj5cIiApXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktZGlhbG9nLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4XCIgKTtcblxuXHRcdHRoaXMudWlCdXR0b25TZXQgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWRpYWxvZy1idXR0b25zZXRcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMudWlEaWFsb2dCdXR0b25QYW5lICk7XG5cblx0XHR0aGlzLl9jcmVhdGVCdXR0b25zKCk7XG5cdH0sXG5cblx0X2NyZWF0ZUJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdGJ1dHRvbnMgPSB0aGlzLm9wdGlvbnMuYnV0dG9ucztcblxuXHRcdC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGJ1dHRvbiBwYW5lLCByZW1vdmUgaXRcblx0XHR0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5yZW1vdmUoKTtcblx0XHR0aGlzLnVpQnV0dG9uU2V0LmVtcHR5KCk7XG5cblx0XHRpZiAoICQuaXNFbXB0eU9iamVjdCggYnV0dG9ucyApIHx8ICgkLmlzQXJyYXkoIGJ1dHRvbnMgKSAmJiAhYnV0dG9ucy5sZW5ndGgpICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5yZW1vdmVDbGFzcyggXCJ1aS1kaWFsb2ctYnV0dG9uc1wiICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0JC5lYWNoKCBidXR0b25zLCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdFx0XHR2YXIgY2xpY2ssIGJ1dHRvbk9wdGlvbnM7XG5cdFx0XHRwcm9wcyA9ICQuaXNGdW5jdGlvbiggcHJvcHMgKSA/XG5cdFx0XHRcdHsgY2xpY2s6IHByb3BzLCB0ZXh0OiBuYW1lIH0gOlxuXHRcdFx0XHRwcm9wcztcblx0XHRcdC8vIERlZmF1bHQgdG8gYSBub24tc3VibWl0dGluZyBidXR0b25cblx0XHRcdHByb3BzID0gJC5leHRlbmQoIHsgdHlwZTogXCJidXR0b25cIiB9LCBwcm9wcyApO1xuXHRcdFx0Ly8gQ2hhbmdlIHRoZSBjb250ZXh0IGZvciB0aGUgY2xpY2sgY2FsbGJhY2sgdG8gYmUgdGhlIG1haW4gZWxlbWVudFxuXHRcdFx0Y2xpY2sgPSBwcm9wcy5jbGljaztcblx0XHRcdHByb3BzLmNsaWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNsaWNrLmFwcGx5KCB0aGF0LmVsZW1lbnRbIDAgXSwgYXJndW1lbnRzICk7XG5cdFx0XHR9O1xuXHRcdFx0YnV0dG9uT3B0aW9ucyA9IHtcblx0XHRcdFx0aWNvbnM6IHByb3BzLmljb25zLFxuXHRcdFx0XHR0ZXh0OiBwcm9wcy5zaG93VGV4dFxuXHRcdFx0fTtcblx0XHRcdGRlbGV0ZSBwcm9wcy5pY29ucztcblx0XHRcdGRlbGV0ZSBwcm9wcy5zaG93VGV4dDtcblx0XHRcdCQoIFwiPGJ1dHRvbj48L2J1dHRvbj5cIiwgcHJvcHMgKVxuXHRcdFx0XHQuYnV0dG9uKCBidXR0b25PcHRpb25zIClcblx0XHRcdFx0LmFwcGVuZFRvKCB0aGF0LnVpQnV0dG9uU2V0ICk7XG5cdFx0fSk7XG5cdFx0dGhpcy51aURpYWxvZy5hZGRDbGFzcyggXCJ1aS1kaWFsb2ctYnV0dG9uc1wiICk7XG5cdFx0dGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8oIHRoaXMudWlEaWFsb2cgKTtcblx0fSxcblxuXHRfbWFrZURyYWdnYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdGZ1bmN0aW9uIGZpbHRlcmVkVWkoIHVpICkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0cG9zaXRpb246IHVpLnBvc2l0aW9uLFxuXHRcdFx0XHRvZmZzZXQ6IHVpLm9mZnNldFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHR0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7XG5cdFx0XHRjYW5jZWw6IFwiLnVpLWRpYWxvZy1jb250ZW50LCAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlXCIsXG5cdFx0XHRoYW5kbGU6IFwiLnVpLWRpYWxvZy10aXRsZWJhclwiLFxuXHRcdFx0Y29udGFpbm1lbnQ6IFwiZG9jdW1lbnRcIixcblx0XHRcdHN0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHQkKCB0aGlzICkuYWRkQ2xhc3MoIFwidWktZGlhbG9nLWRyYWdnaW5nXCIgKTtcblx0XHRcdFx0dGhhdC5fYmxvY2tGcmFtZXMoKTtcblx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJkcmFnU3RhcnRcIiwgZXZlbnQsIGZpbHRlcmVkVWkoIHVpICkgKTtcblx0XHRcdH0sXG5cdFx0XHRkcmFnOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImRyYWdcIiwgZXZlbnQsIGZpbHRlcmVkVWkoIHVpICkgKTtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHR2YXIgbGVmdCA9IHVpLm9mZnNldC5sZWZ0IC0gdGhhdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksXG5cdFx0XHRcdFx0dG9wID0gdWkub2Zmc2V0LnRvcCAtIHRoYXQuZG9jdW1lbnQuc2Nyb2xsVG9wKCk7XG5cblx0XHRcdFx0b3B0aW9ucy5wb3NpdGlvbiA9IHtcblx0XHRcdFx0XHRteTogXCJsZWZ0IHRvcFwiLFxuXHRcdFx0XHRcdGF0OiBcImxlZnRcIiArIChsZWZ0ID49IDAgPyBcIitcIiA6IFwiXCIpICsgbGVmdCArIFwiIFwiICtcblx0XHRcdFx0XHRcdFwidG9wXCIgKyAodG9wID49IDAgPyBcIitcIiA6IFwiXCIpICsgdG9wLFxuXHRcdFx0XHRcdG9mOiB0aGF0LndpbmRvd1xuXHRcdFx0XHR9O1xuXHRcdFx0XHQkKCB0aGlzICkucmVtb3ZlQ2xhc3MoIFwidWktZGlhbG9nLWRyYWdnaW5nXCIgKTtcblx0XHRcdFx0dGhhdC5fdW5ibG9ja0ZyYW1lcygpO1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImRyYWdTdG9wXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0X21ha2VSZXNpemFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRoYW5kbGVzID0gb3B0aW9ucy5yZXNpemFibGUsXG5cdFx0XHQvLyAudWktcmVzaXphYmxlIGhhcyBwb3NpdGlvbjogcmVsYXRpdmUgZGVmaW5lZCBpbiB0aGUgc3R5bGVzaGVldFxuXHRcdFx0Ly8gYnV0IGRpYWxvZ3MgaGF2ZSB0byB1c2UgYWJzb2x1dGUgb3IgZml4ZWQgcG9zaXRpb25pbmdcblx0XHRcdHBvc2l0aW9uID0gdGhpcy51aURpYWxvZy5jc3MoXCJwb3NpdGlvblwiKSxcblx0XHRcdHJlc2l6ZUhhbmRsZXMgPSB0eXBlb2YgaGFuZGxlcyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdGhhbmRsZXNcdDpcblx0XHRcdFx0XCJuLGUscyx3LHNlLHN3LG5lLG53XCI7XG5cblx0XHRmdW5jdGlvbiBmaWx0ZXJlZFVpKCB1aSApIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG9yaWdpbmFsUG9zaXRpb246IHVpLm9yaWdpbmFsUG9zaXRpb24sXG5cdFx0XHRcdG9yaWdpbmFsU2l6ZTogdWkub3JpZ2luYWxTaXplLFxuXHRcdFx0XHRwb3NpdGlvbjogdWkucG9zaXRpb24sXG5cdFx0XHRcdHNpemU6IHVpLnNpemVcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dGhpcy51aURpYWxvZy5yZXNpemFibGUoe1xuXHRcdFx0Y2FuY2VsOiBcIi51aS1kaWFsb2ctY29udGVudFwiLFxuXHRcdFx0Y29udGFpbm1lbnQ6IFwiZG9jdW1lbnRcIixcblx0XHRcdGFsc29SZXNpemU6IHRoaXMuZWxlbWVudCxcblx0XHRcdG1heFdpZHRoOiBvcHRpb25zLm1heFdpZHRoLFxuXHRcdFx0bWF4SGVpZ2h0OiBvcHRpb25zLm1heEhlaWdodCxcblx0XHRcdG1pbldpZHRoOiBvcHRpb25zLm1pbldpZHRoLFxuXHRcdFx0bWluSGVpZ2h0OiB0aGlzLl9taW5IZWlnaHQoKSxcblx0XHRcdGhhbmRsZXM6IHJlc2l6ZUhhbmRsZXMsXG5cdFx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0JCggdGhpcyApLmFkZENsYXNzKCBcInVpLWRpYWxvZy1yZXNpemluZ1wiICk7XG5cdFx0XHRcdHRoYXQuX2Jsb2NrRnJhbWVzKCk7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwicmVzaXplU3RhcnRcIiwgZXZlbnQsIGZpbHRlcmVkVWkoIHVpICkgKTtcblx0XHRcdH0sXG5cdFx0XHRyZXNpemU6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwicmVzaXplXCIsIGV2ZW50LCBmaWx0ZXJlZFVpKCB1aSApICk7XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0dmFyIG9mZnNldCA9IHRoYXQudWlEaWFsb2cub2Zmc2V0KCksXG5cdFx0XHRcdFx0bGVmdCA9IG9mZnNldC5sZWZ0IC0gdGhhdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksXG5cdFx0XHRcdFx0dG9wID0gb2Zmc2V0LnRvcCAtIHRoYXQuZG9jdW1lbnQuc2Nyb2xsVG9wKCk7XG5cblx0XHRcdFx0b3B0aW9ucy5oZWlnaHQgPSB0aGF0LnVpRGlhbG9nLmhlaWdodCgpO1xuXHRcdFx0XHRvcHRpb25zLndpZHRoID0gdGhhdC51aURpYWxvZy53aWR0aCgpO1xuXHRcdFx0XHRvcHRpb25zLnBvc2l0aW9uID0ge1xuXHRcdFx0XHRcdG15OiBcImxlZnQgdG9wXCIsXG5cdFx0XHRcdFx0YXQ6IFwibGVmdFwiICsgKGxlZnQgPj0gMCA/IFwiK1wiIDogXCJcIikgKyBsZWZ0ICsgXCIgXCIgK1xuXHRcdFx0XHRcdFx0XCJ0b3BcIiArICh0b3AgPj0gMCA/IFwiK1wiIDogXCJcIikgKyB0b3AsXG5cdFx0XHRcdFx0b2Y6IHRoYXQud2luZG93XG5cdFx0XHRcdH07XG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmVDbGFzcyggXCJ1aS1kaWFsb2ctcmVzaXppbmdcIiApO1xuXHRcdFx0XHR0aGF0Ll91bmJsb2NrRnJhbWVzKCk7XG5cdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwicmVzaXplU3RvcFwiLCBldmVudCwgZmlsdGVyZWRVaSggdWkgKSApO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0LmNzcyggXCJwb3NpdGlvblwiLCBwb3NpdGlvbiApO1xuXHR9LFxuXG5cdF90cmFja0ZvY3VzOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9vbiggdGhpcy53aWRnZXQoKSwge1xuXHRcdFx0Zm9jdXNpbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLl9tYWtlRm9jdXNUYXJnZXQoKTtcblx0XHRcdFx0dGhpcy5fZm9jdXNlZEVsZW1lbnQgPSAkKCBldmVudC50YXJnZXQgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHRfbWFrZUZvY3VzVGFyZ2V0OiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTtcblx0XHR0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQoIHRoaXMgKTtcblx0fSxcblxuXHRfdW50cmFja0luc3RhbmNlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2VzID0gdGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKSxcblx0XHRcdGV4aXN0cyA9ICQuaW5BcnJheSggdGhpcywgaW5zdGFuY2VzICk7XG5cdFx0aWYgKCBleGlzdHMgIT09IC0xICkge1xuXHRcdFx0aW5zdGFuY2VzLnNwbGljZSggZXhpc3RzLCAxICk7XG5cdFx0fVxuXHR9LFxuXG5cdF90cmFja2luZ0luc3RhbmNlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlcyA9IHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctaW5zdGFuY2VzXCIgKTtcblx0XHRpZiAoICFpbnN0YW5jZXMgKSB7XG5cdFx0XHRpbnN0YW5jZXMgPSBbXTtcblx0XHRcdHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctaW5zdGFuY2VzXCIsIGluc3RhbmNlcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gaW5zdGFuY2VzO1xuXHR9LFxuXG5cdF9taW5IZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0cmV0dXJuIG9wdGlvbnMuaGVpZ2h0ID09PSBcImF1dG9cIiA/XG5cdFx0XHRvcHRpb25zLm1pbkhlaWdodCA6XG5cdFx0XHRNYXRoLm1pbiggb3B0aW9ucy5taW5IZWlnaHQsIG9wdGlvbnMuaGVpZ2h0ICk7XG5cdH0sXG5cblx0X3Bvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHQvLyBOZWVkIHRvIHNob3cgdGhlIGRpYWxvZyB0byBnZXQgdGhlIGFjdHVhbCBvZmZzZXQgaW4gdGhlIHBvc2l0aW9uIHBsdWdpblxuXHRcdHZhciBpc1Zpc2libGUgPSB0aGlzLnVpRGlhbG9nLmlzKCBcIjp2aXNpYmxlXCIgKTtcblx0XHRpZiAoICFpc1Zpc2libGUgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nLnNob3coKTtcblx0XHR9XG5cdFx0dGhpcy51aURpYWxvZy5wb3NpdGlvbiggdGhpcy5vcHRpb25zLnBvc2l0aW9uICk7XG5cdFx0aWYgKCAhaXNWaXNpYmxlICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5oaWRlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRyZXNpemUgPSBmYWxzZSxcblx0XHRcdHJlc2l6YWJsZU9wdGlvbnMgPSB7fTtcblxuXHRcdCQuZWFjaCggb3B0aW9ucywgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHR0aGF0Ll9zZXRPcHRpb24oIGtleSwgdmFsdWUgKTtcblxuXHRcdFx0aWYgKCBrZXkgaW4gdGhhdC5zaXplUmVsYXRlZE9wdGlvbnMgKSB7XG5cdFx0XHRcdHJlc2l6ZSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGtleSBpbiB0aGF0LnJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zICkge1xuXHRcdFx0XHRyZXNpemFibGVPcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKCByZXNpemUgKSB7XG5cdFx0XHR0aGlzLl9zaXplKCk7XG5cdFx0XHR0aGlzLl9wb3NpdGlvbigpO1xuXHRcdH1cblx0XHRpZiAoIHRoaXMudWlEaWFsb2cuaXMoIFwiOmRhdGEodWktcmVzaXphYmxlKVwiICkgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSggXCJvcHRpb25cIiwgcmVzaXphYmxlT3B0aW9ucyApO1xuXHRcdH1cblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaXNEcmFnZ2FibGUsIGlzUmVzaXphYmxlLFxuXHRcdFx0dWlEaWFsb2cgPSB0aGlzLnVpRGlhbG9nO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlhbG9nQ2xhc3NcIiApIHtcblx0XHRcdHVpRGlhbG9nXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzIClcblx0XHRcdFx0LmFkZENsYXNzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImFwcGVuZFRvXCIgKSB7XG5cdFx0XHR0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiYnV0dG9uc1wiICkge1xuXHRcdFx0dGhpcy5fY3JlYXRlQnV0dG9ucygpO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImNsb3NlVGV4dFwiICkge1xuXHRcdFx0dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UuYnV0dG9uKHtcblx0XHRcdFx0Ly8gRW5zdXJlIHRoYXQgd2UgYWx3YXlzIHBhc3MgYSBzdHJpbmdcblx0XHRcdFx0bGFiZWw6IFwiXCIgKyB2YWx1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiZHJhZ2dhYmxlXCIgKSB7XG5cdFx0XHRpc0RyYWdnYWJsZSA9IHVpRGlhbG9nLmlzKCBcIjpkYXRhKHVpLWRyYWdnYWJsZSlcIiApO1xuXHRcdFx0aWYgKCBpc0RyYWdnYWJsZSAmJiAhdmFsdWUgKSB7XG5cdFx0XHRcdHVpRGlhbG9nLmRyYWdnYWJsZSggXCJkZXN0cm95XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhaXNEcmFnZ2FibGUgJiYgdmFsdWUgKSB7XG5cdFx0XHRcdHRoaXMuX21ha2VEcmFnZ2FibGUoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJwb3NpdGlvblwiICkge1xuXHRcdFx0dGhpcy5fcG9zaXRpb24oKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJyZXNpemFibGVcIiApIHtcblx0XHRcdC8vIGN1cnJlbnRseSByZXNpemFibGUsIGJlY29taW5nIG5vbi1yZXNpemFibGVcblx0XHRcdGlzUmVzaXphYmxlID0gdWlEaWFsb2cuaXMoIFwiOmRhdGEodWktcmVzaXphYmxlKVwiICk7XG5cdFx0XHRpZiAoIGlzUmVzaXphYmxlICYmICF2YWx1ZSApIHtcblx0XHRcdFx0dWlEaWFsb2cucmVzaXphYmxlKCBcImRlc3Ryb3lcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBjdXJyZW50bHkgcmVzaXphYmxlLCBjaGFuZ2luZyBoYW5kbGVzXG5cdFx0XHRpZiAoIGlzUmVzaXphYmxlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0dWlEaWFsb2cucmVzaXphYmxlKCBcIm9wdGlvblwiLCBcImhhbmRsZXNcIiwgdmFsdWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gY3VycmVudGx5IG5vbi1yZXNpemFibGUsIGJlY29taW5nIHJlc2l6YWJsZVxuXHRcdFx0aWYgKCAhaXNSZXNpemFibGUgJiYgdmFsdWUgIT09IGZhbHNlICkge1xuXHRcdFx0XHR0aGlzLl9tYWtlUmVzaXphYmxlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwidGl0bGVcIiApIHtcblx0XHRcdHRoaXMuX3RpdGxlKCB0aGlzLnVpRGlhbG9nVGl0bGViYXIuZmluZCggXCIudWktZGlhbG9nLXRpdGxlXCIgKSApO1xuXHRcdH1cblx0fSxcblxuXHRfc2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gSWYgdGhlIHVzZXIgaGFzIHJlc2l6ZWQgdGhlIGRpYWxvZywgdGhlIC51aS1kaWFsb2cgYW5kIC51aS1kaWFsb2ctY29udGVudFxuXHRcdC8vIGRpdnMgd2lsbCBib3RoIGhhdmUgd2lkdGggYW5kIGhlaWdodCBzZXQsIHNvIHdlIG5lZWQgdG8gcmVzZXQgdGhlbVxuXHRcdHZhciBub25Db250ZW50SGVpZ2h0LCBtaW5Db250ZW50SGVpZ2h0LCBtYXhDb250ZW50SGVpZ2h0LFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdC8vIFJlc2V0IGNvbnRlbnQgc2l6aW5nXG5cdFx0dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe1xuXHRcdFx0d2lkdGg6IFwiYXV0b1wiLFxuXHRcdFx0bWluSGVpZ2h0OiAwLFxuXHRcdFx0bWF4SGVpZ2h0OiBcIm5vbmVcIixcblx0XHRcdGhlaWdodDogMFxuXHRcdH0pO1xuXG5cdFx0aWYgKCBvcHRpb25zLm1pbldpZHRoID4gb3B0aW9ucy53aWR0aCApIHtcblx0XHRcdG9wdGlvbnMud2lkdGggPSBvcHRpb25zLm1pbldpZHRoO1xuXHRcdH1cblxuXHRcdC8vIHJlc2V0IHdyYXBwZXIgc2l6aW5nXG5cdFx0Ly8gZGV0ZXJtaW5lIHRoZSBoZWlnaHQgb2YgYWxsIHRoZSBub24tY29udGVudCBlbGVtZW50c1xuXHRcdG5vbkNvbnRlbnRIZWlnaHQgPSB0aGlzLnVpRGlhbG9nLmNzcyh7XG5cdFx0XHRcdGhlaWdodDogXCJhdXRvXCIsXG5cdFx0XHRcdHdpZHRoOiBvcHRpb25zLndpZHRoXG5cdFx0XHR9KVxuXHRcdFx0Lm91dGVySGVpZ2h0KCk7XG5cdFx0bWluQ29udGVudEhlaWdodCA9IE1hdGgubWF4KCAwLCBvcHRpb25zLm1pbkhlaWdodCAtIG5vbkNvbnRlbnRIZWlnaHQgKTtcblx0XHRtYXhDb250ZW50SGVpZ2h0ID0gdHlwZW9mIG9wdGlvbnMubWF4SGVpZ2h0ID09PSBcIm51bWJlclwiID9cblx0XHRcdE1hdGgubWF4KCAwLCBvcHRpb25zLm1heEhlaWdodCAtIG5vbkNvbnRlbnRIZWlnaHQgKSA6XG5cdFx0XHRcIm5vbmVcIjtcblxuXHRcdGlmICggb3B0aW9ucy5oZWlnaHQgPT09IFwiYXV0b1wiICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmNzcyh7XG5cdFx0XHRcdG1pbkhlaWdodDogbWluQ29udGVudEhlaWdodCxcblx0XHRcdFx0bWF4SGVpZ2h0OiBtYXhDb250ZW50SGVpZ2h0LFxuXHRcdFx0XHRoZWlnaHQ6IFwiYXV0b1wiXG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5lbGVtZW50LmhlaWdodCggTWF0aC5tYXgoIDAsIG9wdGlvbnMuaGVpZ2h0IC0gbm9uQ29udGVudEhlaWdodCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnVpRGlhbG9nLmlzKCBcIjpkYXRhKHVpLXJlc2l6YWJsZSlcIiApICkge1xuXHRcdFx0dGhpcy51aURpYWxvZy5yZXNpemFibGUoIFwib3B0aW9uXCIsIFwibWluSGVpZ2h0XCIsIHRoaXMuX21pbkhlaWdodCgpICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ibG9ja0ZyYW1lczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5pZnJhbWVCbG9ja3MgPSB0aGlzLmRvY3VtZW50LmZpbmQoIFwiaWZyYW1lXCIgKS5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaWZyYW1lID0gJCggdGhpcyApO1xuXG5cdFx0XHRyZXR1cm4gJCggXCI8ZGl2PlwiIClcblx0XHRcdFx0LmNzcyh7XG5cdFx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0XHR3aWR0aDogaWZyYW1lLm91dGVyV2lkdGgoKSxcblx0XHRcdFx0XHRoZWlnaHQ6IGlmcmFtZS5vdXRlckhlaWdodCgpXG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hcHBlbmRUbyggaWZyYW1lLnBhcmVudCgpIClcblx0XHRcdFx0Lm9mZnNldCggaWZyYW1lLm9mZnNldCgpIClbMF07XG5cdFx0fSk7XG5cdH0sXG5cblx0X3VuYmxvY2tGcmFtZXM6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggdGhpcy5pZnJhbWVCbG9ja3MgKSB7XG5cdFx0XHR0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKTtcblx0XHRcdGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcztcblx0XHR9XG5cdH0sXG5cblx0X2FsbG93SW50ZXJhY3Rpb246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwiLnVpLWRpYWxvZ1wiICkubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gVE9ETzogUmVtb3ZlIGhhY2sgd2hlbiBkYXRlcGlja2VyIGltcGxlbWVudHNcblx0XHQvLyB0aGUgLnVpLWZyb250IGxvZ2ljICgjODk4OSlcblx0XHRyZXR1cm4gISEkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1kYXRlcGlja2VyXCIgKS5sZW5ndGg7XG5cdH0sXG5cblx0X2NyZWF0ZU92ZXJsYXk6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy5tb2RhbCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBXZSB1c2UgYSBkZWxheSBpbiBjYXNlIHRoZSBvdmVybGF5IGlzIGNyZWF0ZWQgZnJvbSBhblxuXHRcdC8vIGV2ZW50IHRoYXQgd2UncmUgZ29pbmcgdG8gYmUgY2FuY2VsbGluZyAoIzI4MDQpXG5cdFx0dmFyIGlzT3BlbmluZyA9IHRydWU7XG5cdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRpc09wZW5pbmcgPSBmYWxzZTtcblx0XHR9KTtcblxuXHRcdGlmICggIXRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiApICkge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHVzZSBvZiBhbmNob3JzIGFuZCBpbnB1dHNcblx0XHRcdC8vIFVzaW5nIF9vbigpIGZvciBhbiBldmVudCBoYW5kbGVyIHNoYXJlZCBhY3Jvc3MgbWFueSBpbnN0YW5jZXMgaXNcblx0XHRcdC8vIHNhZmUgYmVjYXVzZSB0aGUgZGlhbG9ncyBzdGFjayBhbmQgbXVzdCBiZSBjbG9zZWQgaW4gcmV2ZXJzZSBvcmRlclxuXHRcdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHtcblx0XHRcdFx0Zm9jdXNpbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRcdGlmICggaXNPcGVuaW5nICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggIXRoaXMuX2FsbG93SW50ZXJhY3Rpb24oIGV2ZW50ICkgKSB7XG5cdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKVsgMCBdLl9mb2N1c1RhYmJhYmxlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHR0aGlzLm92ZXJsYXkgPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXdpZGdldC1vdmVybGF5IHVpLWZyb250XCIgKVxuXHRcdFx0LmFwcGVuZFRvKCB0aGlzLl9hcHBlbmRUbygpICk7XG5cdFx0dGhpcy5fb24oIHRoaXMub3ZlcmxheSwge1xuXHRcdFx0bW91c2Vkb3duOiBcIl9rZWVwRm9jdXNcIlxuXHRcdH0pO1xuXHRcdHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIixcblx0XHRcdCh0aGlzLmRvY3VtZW50LmRhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIgKSB8fCAwKSArIDEgKTtcblx0fSxcblxuXHRfZGVzdHJveU92ZXJsYXk6IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy5tb2RhbCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMub3ZlcmxheSApIHtcblx0XHRcdHZhciBvdmVybGF5cyA9IHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiApIC0gMTtcblxuXHRcdFx0aWYgKCAhb3ZlcmxheXMgKSB7XG5cdFx0XHRcdHRoaXMuZG9jdW1lbnRcblx0XHRcdFx0XHQudW5iaW5kKCBcImZvY3VzaW5cIiApXG5cdFx0XHRcdFx0LnJlbW92ZURhdGEoIFwidWktZGlhbG9nLW92ZXJsYXlzXCIgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZG9jdW1lbnQuZGF0YSggXCJ1aS1kaWFsb2ctb3ZlcmxheXNcIiwgb3ZlcmxheXMgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5vdmVybGF5LnJlbW92ZSgpO1xuXHRcdFx0dGhpcy5vdmVybGF5ID0gbnVsbDtcblx0XHR9XG5cdH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIERyb3BwYWJsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3BwYWJsZS9cbiAqL1xuXG5cbiQud2lkZ2V0KCBcInVpLmRyb3BwYWJsZVwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcImRyb3BcIixcblx0b3B0aW9uczoge1xuXHRcdGFjY2VwdDogXCIqXCIsXG5cdFx0YWN0aXZlQ2xhc3M6IGZhbHNlLFxuXHRcdGFkZENsYXNzZXM6IHRydWUsXG5cdFx0Z3JlZWR5OiBmYWxzZSxcblx0XHRob3ZlckNsYXNzOiBmYWxzZSxcblx0XHRzY29wZTogXCJkZWZhdWx0XCIsXG5cdFx0dG9sZXJhbmNlOiBcImludGVyc2VjdFwiLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0YWN0aXZhdGU6IG51bGwsXG5cdFx0ZGVhY3RpdmF0ZTogbnVsbCxcblx0XHRkcm9wOiBudWxsLFxuXHRcdG91dDogbnVsbCxcblx0XHRvdmVyOiBudWxsXG5cdH0sXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIHByb3BvcnRpb25zLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGFjY2VwdCA9IG8uYWNjZXB0O1xuXG5cdFx0dGhpcy5pc292ZXIgPSBmYWxzZTtcblx0XHR0aGlzLmlzb3V0ID0gdHJ1ZTtcblxuXHRcdHRoaXMuYWNjZXB0ID0gJC5pc0Z1bmN0aW9uKCBhY2NlcHQgKSA/IGFjY2VwdCA6IGZ1bmN0aW9uKCBkICkge1xuXHRcdFx0cmV0dXJuIGQuaXMoIGFjY2VwdCApO1xuXHRcdH07XG5cblx0XHR0aGlzLnByb3BvcnRpb25zID0gZnVuY3Rpb24oIC8qIHZhbHVlVG9Xcml0ZSAqLyApIHtcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Ly8gU3RvcmUgdGhlIGRyb3BwYWJsZSdzIHByb3BvcnRpb25zXG5cdFx0XHRcdHByb3BvcnRpb25zID0gYXJndW1lbnRzWyAwIF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBSZXRyaWV2ZSBvciBkZXJpdmUgdGhlIGRyb3BwYWJsZSdzIHByb3BvcnRpb25zXG5cdFx0XHRcdHJldHVybiBwcm9wb3J0aW9ucyA/XG5cdFx0XHRcdFx0cHJvcG9ydGlvbnMgOlxuXHRcdFx0XHRcdHByb3BvcnRpb25zID0ge1xuXHRcdFx0XHRcdFx0d2lkdGg6IHRoaXMuZWxlbWVudFsgMCBdLm9mZnNldFdpZHRoLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiB0aGlzLmVsZW1lbnRbIDAgXS5vZmZzZXRIZWlnaHRcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR0aGlzLl9hZGRUb01hbmFnZXIoIG8uc2NvcGUgKTtcblxuXHRcdG8uYWRkQ2xhc3NlcyAmJiB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIFwidWktZHJvcHBhYmxlXCIgKTtcblxuXHR9LFxuXG5cdF9hZGRUb01hbmFnZXI6IGZ1bmN0aW9uKCBzY29wZSApIHtcblx0XHQvLyBBZGQgdGhlIHJlZmVyZW5jZSBhbmQgcG9zaXRpb25zIHRvIHRoZSBtYW5hZ2VyXG5cdFx0JC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1sgc2NvcGUgXSA9ICQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIHNjb3BlIF0gfHwgW107XG5cdFx0JC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1sgc2NvcGUgXS5wdXNoKCB0aGlzICk7XG5cdH0sXG5cblx0X3NwbGljZTogZnVuY3Rpb24oIGRyb3AgKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdGZvciAoIDsgaSA8IGRyb3AubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRpZiAoIGRyb3BbIGkgXSA9PT0gdGhpcyApIHtcblx0XHRcdFx0ZHJvcC5zcGxpY2UoIGksIDEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkcm9wID0gJC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1sgdGhpcy5vcHRpb25zLnNjb3BlIF07XG5cblx0XHR0aGlzLl9zcGxpY2UoIGRyb3AgKTtcblxuXHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1kcm9wcGFibGUgdWktZHJvcHBhYmxlLWRpc2FibGVkXCIgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblxuXHRcdGlmICgga2V5ID09PSBcImFjY2VwdFwiICkge1xuXHRcdFx0dGhpcy5hY2NlcHQgPSAkLmlzRnVuY3Rpb24oIHZhbHVlICkgPyB2YWx1ZSA6IGZ1bmN0aW9uKCBkICkge1xuXHRcdFx0XHRyZXR1cm4gZC5pcyggdmFsdWUgKTtcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmICgga2V5ID09PSBcInNjb3BlXCIgKSB7XG5cdFx0XHR2YXIgZHJvcCA9ICQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIHRoaXMub3B0aW9ucy5zY29wZSBdO1xuXG5cdFx0XHR0aGlzLl9zcGxpY2UoIGRyb3AgKTtcblx0XHRcdHRoaXMuX2FkZFRvTWFuYWdlciggdmFsdWUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXHR9LFxuXG5cdF9hY3RpdmF0ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciBkcmFnZ2FibGUgPSAkLnVpLmRkbWFuYWdlci5jdXJyZW50O1xuXHRcdGlmICggdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKTtcblx0XHR9XG5cdFx0aWYgKCBkcmFnZ2FibGUgKXtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiYWN0aXZhdGVcIiwgZXZlbnQsIHRoaXMudWkoIGRyYWdnYWJsZSApICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9kZWFjdGl2YXRlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGRyYWdnYWJsZSA9ICQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyApO1xuXHRcdH1cblx0XHRpZiAoIGRyYWdnYWJsZSApe1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJkZWFjdGl2YXRlXCIsIGV2ZW50LCB0aGlzLnVpKCBkcmFnZ2FibGUgKSApO1xuXHRcdH1cblx0fSxcblxuXHRfb3ZlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dmFyIGRyYWdnYWJsZSA9ICQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7XG5cblx0XHQvLyBCYWlsIGlmIGRyYWdnYWJsZSBhbmQgZHJvcHBhYmxlIGFyZSBzYW1lIGVsZW1lbnRcblx0XHRpZiAoICFkcmFnZ2FibGUgfHwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKVsgMCBdID09PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuYWNjZXB0LmNhbGwoIHRoaXMuZWxlbWVudFsgMCBdLCAoIGRyYWdnYWJsZS5jdXJyZW50SXRlbSB8fCBkcmFnZ2FibGUuZWxlbWVudCApICkgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcIm92ZXJcIiwgZXZlbnQsIHRoaXMudWkoIGRyYWdnYWJsZSApICk7XG5cdFx0fVxuXG5cdH0sXG5cblx0X291dDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0dmFyIGRyYWdnYWJsZSA9ICQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7XG5cblx0XHQvLyBCYWlsIGlmIGRyYWdnYWJsZSBhbmQgZHJvcHBhYmxlIGFyZSBzYW1lIGVsZW1lbnRcblx0XHRpZiAoICFkcmFnZ2FibGUgfHwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKVsgMCBdID09PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuYWNjZXB0LmNhbGwoIHRoaXMuZWxlbWVudFsgMCBdLCAoIGRyYWdnYWJsZS5jdXJyZW50SXRlbSB8fCBkcmFnZ2FibGUuZWxlbWVudCApICkgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcIm91dFwiLCBldmVudCwgdGhpcy51aSggZHJhZ2dhYmxlICkgKTtcblx0XHR9XG5cblx0fSxcblxuXHRfZHJvcDogZnVuY3Rpb24oIGV2ZW50LCBjdXN0b20gKSB7XG5cblx0XHR2YXIgZHJhZ2dhYmxlID0gY3VzdG9tIHx8ICQudWkuZGRtYW5hZ2VyLmN1cnJlbnQsXG5cdFx0XHRjaGlsZHJlbkludGVyc2VjdGlvbiA9IGZhbHNlO1xuXG5cdFx0Ly8gQmFpbCBpZiBkcmFnZ2FibGUgYW5kIGRyb3BwYWJsZSBhcmUgc2FtZSBlbGVtZW50XG5cdFx0aWYgKCAhZHJhZ2dhYmxlIHx8ICggZHJhZ2dhYmxlLmN1cnJlbnRJdGVtIHx8IGRyYWdnYWJsZS5lbGVtZW50IClbIDAgXSA9PT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiOmRhdGEodWktZHJvcHBhYmxlKVwiICkubm90KCBcIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmdcIiApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5zdCA9ICQoIHRoaXMgKS5kcm9wcGFibGUoIFwiaW5zdGFuY2VcIiApO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRpbnN0Lm9wdGlvbnMuZ3JlZWR5ICYmXG5cdFx0XHRcdCFpbnN0Lm9wdGlvbnMuZGlzYWJsZWQgJiZcblx0XHRcdFx0aW5zdC5vcHRpb25zLnNjb3BlID09PSBkcmFnZ2FibGUub3B0aW9ucy5zY29wZSAmJlxuXHRcdFx0XHRpbnN0LmFjY2VwdC5jYWxsKCBpbnN0LmVsZW1lbnRbIDAgXSwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKSApICYmXG5cdFx0XHRcdCQudWkuaW50ZXJzZWN0KCBkcmFnZ2FibGUsICQuZXh0ZW5kKCBpbnN0LCB7IG9mZnNldDogaW5zdC5lbGVtZW50Lm9mZnNldCgpIH0gKSwgaW5zdC5vcHRpb25zLnRvbGVyYW5jZSwgZXZlbnQgKVxuXHRcdFx0KSB7IGNoaWxkcmVuSW50ZXJzZWN0aW9uID0gdHJ1ZTsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0fSk7XG5cdFx0aWYgKCBjaGlsZHJlbkludGVyc2VjdGlvbiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMuYWNjZXB0LmNhbGwoIHRoaXMuZWxlbWVudFsgMCBdLCAoIGRyYWdnYWJsZS5jdXJyZW50SXRlbSB8fCBkcmFnZ2FibGUuZWxlbWVudCApICkgKSB7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyApIHtcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiZHJvcFwiLCBldmVudCwgdGhpcy51aSggZHJhZ2dhYmxlICkgKTtcblx0XHRcdHJldHVybiB0aGlzLmVsZW1lbnQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0dWk6IGZ1bmN0aW9uKCBjICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRkcmFnZ2FibGU6ICggYy5jdXJyZW50SXRlbSB8fCBjLmVsZW1lbnQgKSxcblx0XHRcdGhlbHBlcjogYy5oZWxwZXIsXG5cdFx0XHRwb3NpdGlvbjogYy5wb3NpdGlvbixcblx0XHRcdG9mZnNldDogYy5wb3NpdGlvbkFic1xuXHRcdH07XG5cdH1cblxufSk7XG5cbiQudWkuaW50ZXJzZWN0ID0gKGZ1bmN0aW9uKCkge1xuXHRmdW5jdGlvbiBpc092ZXJBeGlzKCB4LCByZWZlcmVuY2UsIHNpemUgKSB7XG5cdFx0cmV0dXJuICggeCA+PSByZWZlcmVuY2UgKSAmJiAoIHggPCAoIHJlZmVyZW5jZSArIHNpemUgKSApO1xuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uKCBkcmFnZ2FibGUsIGRyb3BwYWJsZSwgdG9sZXJhbmNlTW9kZSwgZXZlbnQgKSB7XG5cblx0XHRpZiAoICFkcm9wcGFibGUub2Zmc2V0ICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHZhciB4MSA9ICggZHJhZ2dhYmxlLnBvc2l0aW9uQWJzIHx8IGRyYWdnYWJsZS5wb3NpdGlvbi5hYnNvbHV0ZSApLmxlZnQgKyBkcmFnZ2FibGUubWFyZ2lucy5sZWZ0LFxuXHRcdFx0eTEgPSAoIGRyYWdnYWJsZS5wb3NpdGlvbkFicyB8fCBkcmFnZ2FibGUucG9zaXRpb24uYWJzb2x1dGUgKS50b3AgKyBkcmFnZ2FibGUubWFyZ2lucy50b3AsXG5cdFx0XHR4MiA9IHgxICsgZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zLndpZHRoLFxuXHRcdFx0eTIgPSB5MSArIGRyYWdnYWJsZS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsXG5cdFx0XHRsID0gZHJvcHBhYmxlLm9mZnNldC5sZWZ0LFxuXHRcdFx0dCA9IGRyb3BwYWJsZS5vZmZzZXQudG9wLFxuXHRcdFx0ciA9IGwgKyBkcm9wcGFibGUucHJvcG9ydGlvbnMoKS53aWR0aCxcblx0XHRcdGIgPSB0ICsgZHJvcHBhYmxlLnByb3BvcnRpb25zKCkuaGVpZ2h0O1xuXG5cdFx0c3dpdGNoICggdG9sZXJhbmNlTW9kZSApIHtcblx0XHRjYXNlIFwiZml0XCI6XG5cdFx0XHRyZXR1cm4gKCBsIDw9IHgxICYmIHgyIDw9IHIgJiYgdCA8PSB5MSAmJiB5MiA8PSBiICk7XG5cdFx0Y2FzZSBcImludGVyc2VjdFwiOlxuXHRcdFx0cmV0dXJuICggbCA8IHgxICsgKCBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLyAyICkgJiYgLy8gUmlnaHQgSGFsZlxuXHRcdFx0XHR4MiAtICggZHJhZ2dhYmxlLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMiApIDwgciAmJiAvLyBMZWZ0IEhhbGZcblx0XHRcdFx0dCA8IHkxICsgKCBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC8gMiApICYmIC8vIEJvdHRvbSBIYWxmXG5cdFx0XHRcdHkyIC0gKCBkcmFnZ2FibGUuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC8gMiApIDwgYiApOyAvLyBUb3AgSGFsZlxuXHRcdGNhc2UgXCJwb2ludGVyXCI6XG5cdFx0XHRyZXR1cm4gaXNPdmVyQXhpcyggZXZlbnQucGFnZVksIHQsIGRyb3BwYWJsZS5wcm9wb3J0aW9ucygpLmhlaWdodCApICYmIGlzT3ZlckF4aXMoIGV2ZW50LnBhZ2VYLCBsLCBkcm9wcGFibGUucHJvcG9ydGlvbnMoKS53aWR0aCApO1xuXHRcdGNhc2UgXCJ0b3VjaFwiOlxuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0KCB5MSA+PSB0ICYmIHkxIDw9IGIgKSB8fCAvLyBUb3AgZWRnZSB0b3VjaGluZ1xuXHRcdFx0XHQoIHkyID49IHQgJiYgeTIgPD0gYiApIHx8IC8vIEJvdHRvbSBlZGdlIHRvdWNoaW5nXG5cdFx0XHRcdCggeTEgPCB0ICYmIHkyID4gYiApIC8vIFN1cnJvdW5kZWQgdmVydGljYWxseVxuXHRcdFx0KSAmJiAoXG5cdFx0XHRcdCggeDEgPj0gbCAmJiB4MSA8PSByICkgfHwgLy8gTGVmdCBlZGdlIHRvdWNoaW5nXG5cdFx0XHRcdCggeDIgPj0gbCAmJiB4MiA8PSByICkgfHwgLy8gUmlnaHQgZWRnZSB0b3VjaGluZ1xuXHRcdFx0XHQoIHgxIDwgbCAmJiB4MiA+IHIgKSAvLyBTdXJyb3VuZGVkIGhvcml6b250YWxseVxuXHRcdFx0KTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qXG5cdFRoaXMgbWFuYWdlciB0cmFja3Mgb2Zmc2V0cyBvZiBkcmFnZ2FibGVzIGFuZCBkcm9wcGFibGVzXG4qL1xuJC51aS5kZG1hbmFnZXIgPSB7XG5cdGN1cnJlbnQ6IG51bGwsXG5cdGRyb3BwYWJsZXM6IHsgXCJkZWZhdWx0XCI6IFtdIH0sXG5cdHByZXBhcmVPZmZzZXRzOiBmdW5jdGlvbiggdCwgZXZlbnQgKSB7XG5cblx0XHR2YXIgaSwgaixcblx0XHRcdG0gPSAkLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzWyB0Lm9wdGlvbnMuc2NvcGUgXSB8fCBbXSxcblx0XHRcdHR5cGUgPSBldmVudCA/IGV2ZW50LnR5cGUgOiBudWxsLCAvLyB3b3JrYXJvdW5kIGZvciAjMjMxN1xuXHRcdFx0bGlzdCA9ICggdC5jdXJyZW50SXRlbSB8fCB0LmVsZW1lbnQgKS5maW5kKCBcIjpkYXRhKHVpLWRyb3BwYWJsZSlcIiApLmFkZEJhY2soKTtcblxuXHRcdGRyb3BwYWJsZXNMb29wOiBmb3IgKCBpID0gMDsgaSA8IG0ubGVuZ3RoOyBpKysgKSB7XG5cblx0XHRcdC8vIE5vIGRpc2FibGVkIGFuZCBub24tYWNjZXB0ZWRcblx0XHRcdGlmICggbVsgaSBdLm9wdGlvbnMuZGlzYWJsZWQgfHwgKCB0ICYmICFtWyBpIF0uYWNjZXB0LmNhbGwoIG1bIGkgXS5lbGVtZW50WyAwIF0sICggdC5jdXJyZW50SXRlbSB8fCB0LmVsZW1lbnQgKSApICkgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IGVsZW1lbnRzIGluIHRoZSBjdXJyZW50IGRyYWdnZWQgaXRlbVxuXHRcdFx0Zm9yICggaiA9IDA7IGogPCBsaXN0Lmxlbmd0aDsgaisrICkge1xuXHRcdFx0XHRpZiAoIGxpc3RbIGogXSA9PT0gbVsgaSBdLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdFx0XHRtWyBpIF0ucHJvcG9ydGlvbnMoKS5oZWlnaHQgPSAwO1xuXHRcdFx0XHRcdGNvbnRpbnVlIGRyb3BwYWJsZXNMb29wO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdG1bIGkgXS52aXNpYmxlID0gbVsgaSBdLmVsZW1lbnQuY3NzKCBcImRpc3BsYXlcIiApICE9PSBcIm5vbmVcIjtcblx0XHRcdGlmICggIW1bIGkgXS52aXNpYmxlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWN0aXZhdGUgdGhlIGRyb3BwYWJsZSBpZiB1c2VkIGRpcmVjdGx5IGZyb20gZHJhZ2dhYmxlc1xuXHRcdFx0aWYgKCB0eXBlID09PSBcIm1vdXNlZG93blwiICkge1xuXHRcdFx0XHRtWyBpIF0uX2FjdGl2YXRlLmNhbGwoIG1bIGkgXSwgZXZlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0bVsgaSBdLm9mZnNldCA9IG1bIGkgXS5lbGVtZW50Lm9mZnNldCgpO1xuXHRcdFx0bVsgaSBdLnByb3BvcnRpb25zKHsgd2lkdGg6IG1bIGkgXS5lbGVtZW50WyAwIF0ub2Zmc2V0V2lkdGgsIGhlaWdodDogbVsgaSBdLmVsZW1lbnRbIDAgXS5vZmZzZXRIZWlnaHQgfSk7XG5cblx0XHR9XG5cblx0fSxcblx0ZHJvcDogZnVuY3Rpb24oIGRyYWdnYWJsZSwgZXZlbnQgKSB7XG5cblx0XHR2YXIgZHJvcHBlZCA9IGZhbHNlO1xuXHRcdC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIGRyb3BwYWJsZXMgaW4gY2FzZSB0aGUgbGlzdCBjaGFuZ2VzIGR1cmluZyB0aGUgZHJvcCAoIzkxMTYpXG5cdFx0JC5lYWNoKCAoICQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIGRyYWdnYWJsZS5vcHRpb25zLnNjb3BlIF0gfHwgW10gKS5zbGljZSgpLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQgJiYgdGhpcy52aXNpYmxlICYmICQudWkuaW50ZXJzZWN0KCBkcmFnZ2FibGUsIHRoaXMsIHRoaXMub3B0aW9ucy50b2xlcmFuY2UsIGV2ZW50ICkgKSB7XG5cdFx0XHRcdGRyb3BwZWQgPSB0aGlzLl9kcm9wLmNhbGwoIHRoaXMsIGV2ZW50ICkgfHwgZHJvcHBlZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIHRoaXMudmlzaWJsZSAmJiB0aGlzLmFjY2VwdC5jYWxsKCB0aGlzLmVsZW1lbnRbIDAgXSwgKCBkcmFnZ2FibGUuY3VycmVudEl0ZW0gfHwgZHJhZ2dhYmxlLmVsZW1lbnQgKSApICkge1xuXHRcdFx0XHR0aGlzLmlzb3V0ID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5pc292ZXIgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5fZGVhY3RpdmF0ZS5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdFx0cmV0dXJuIGRyb3BwZWQ7XG5cblx0fSxcblx0ZHJhZ1N0YXJ0OiBmdW5jdGlvbiggZHJhZ2dhYmxlLCBldmVudCApIHtcblx0XHQvLyBMaXN0ZW4gZm9yIHNjcm9sbGluZyBzbyB0aGF0IGlmIHRoZSBkcmFnZ2luZyBjYXVzZXMgc2Nyb2xsaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgZHJvcHBhYmxlcyBjYW4gYmUgcmVjYWxjdWxhdGVkIChzZWUgIzUwMDMpXG5cdFx0ZHJhZ2dhYmxlLmVsZW1lbnQucGFyZW50c1VudGlsKCBcImJvZHlcIiApLmJpbmQoIFwic2Nyb2xsLmRyb3BwYWJsZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIWRyYWdnYWJsZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMgKSB7XG5cdFx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCBkcmFnZ2FibGUsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cdGRyYWc6IGZ1bmN0aW9uKCBkcmFnZ2FibGUsIGV2ZW50ICkge1xuXG5cdFx0Ly8gSWYgeW91IGhhdmUgYSBoaWdobHkgZHluYW1pYyBwYWdlLCB5b3UgbWlnaHQgdHJ5IHRoaXMgb3B0aW9uLiBJdCByZW5kZXJzIHBvc2l0aW9ucyBldmVyeSB0aW1lIHlvdSBtb3ZlIHRoZSBtb3VzZS5cblx0XHRpZiAoIGRyYWdnYWJsZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMgKSB7XG5cdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyggZHJhZ2dhYmxlLCBldmVudCApO1xuXHRcdH1cblxuXHRcdC8vIFJ1biB0aHJvdWdoIGFsbCBkcm9wcGFibGVzIGFuZCBjaGVjayB0aGVpciBwb3NpdGlvbnMgYmFzZWQgb24gc3BlY2lmaWMgdG9sZXJhbmNlIG9wdGlvbnNcblx0XHQkLmVhY2goICQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbIGRyYWdnYWJsZS5vcHRpb25zLnNjb3BlIF0gfHwgW10sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLmdyZWVkeUNoaWxkIHx8ICF0aGlzLnZpc2libGUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBhcmVudEluc3RhbmNlLCBzY29wZSwgcGFyZW50LFxuXHRcdFx0XHRpbnRlcnNlY3RzID0gJC51aS5pbnRlcnNlY3QoIGRyYWdnYWJsZSwgdGhpcywgdGhpcy5vcHRpb25zLnRvbGVyYW5jZSwgZXZlbnQgKSxcblx0XHRcdFx0YyA9ICFpbnRlcnNlY3RzICYmIHRoaXMuaXNvdmVyID8gXCJpc291dFwiIDogKCBpbnRlcnNlY3RzICYmICF0aGlzLmlzb3ZlciA/IFwiaXNvdmVyXCIgOiBudWxsICk7XG5cdFx0XHRpZiAoICFjICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmdyZWVkeSApIHtcblx0XHRcdFx0Ly8gZmluZCBkcm9wcGFibGUgcGFyZW50cyB3aXRoIHNhbWUgc2NvcGVcblx0XHRcdFx0c2NvcGUgPSB0aGlzLm9wdGlvbnMuc2NvcGU7XG5cdFx0XHRcdHBhcmVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnRzKCBcIjpkYXRhKHVpLWRyb3BwYWJsZSlcIiApLmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmRyb3BwYWJsZSggXCJpbnN0YW5jZVwiICkub3B0aW9ucy5zY29wZSA9PT0gc2NvcGU7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICggcGFyZW50Lmxlbmd0aCApIHtcblx0XHRcdFx0XHRwYXJlbnRJbnN0YW5jZSA9ICQoIHBhcmVudFsgMCBdICkuZHJvcHBhYmxlKCBcImluc3RhbmNlXCIgKTtcblx0XHRcdFx0XHRwYXJlbnRJbnN0YW5jZS5ncmVlZHlDaGlsZCA9ICggYyA9PT0gXCJpc292ZXJcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHdlIGp1c3QgbW92ZWQgaW50byBhIGdyZWVkeSBjaGlsZFxuXHRcdFx0aWYgKCBwYXJlbnRJbnN0YW5jZSAmJiBjID09PSBcImlzb3ZlclwiICkge1xuXHRcdFx0XHRwYXJlbnRJbnN0YW5jZS5pc292ZXIgPSBmYWxzZTtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuaXNvdXQgPSB0cnVlO1xuXHRcdFx0XHRwYXJlbnRJbnN0YW5jZS5fb3V0LmNhbGwoIHBhcmVudEluc3RhbmNlLCBldmVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzWyBjIF0gPSB0cnVlO1xuXHRcdFx0dGhpc1tjID09PSBcImlzb3V0XCIgPyBcImlzb3ZlclwiIDogXCJpc291dFwiXSA9IGZhbHNlO1xuXHRcdFx0dGhpc1tjID09PSBcImlzb3ZlclwiID8gXCJfb3ZlclwiIDogXCJfb3V0XCJdLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cblx0XHRcdC8vIHdlIGp1c3QgbW92ZWQgb3V0IG9mIGEgZ3JlZWR5IGNoaWxkXG5cdFx0XHRpZiAoIHBhcmVudEluc3RhbmNlICYmIGMgPT09IFwiaXNvdXRcIiApIHtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuaXNvdXQgPSBmYWxzZTtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuaXNvdmVyID0gdHJ1ZTtcblx0XHRcdFx0cGFyZW50SW5zdGFuY2UuX292ZXIuY2FsbCggcGFyZW50SW5zdGFuY2UsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSxcblx0ZHJhZ1N0b3A6IGZ1bmN0aW9uKCBkcmFnZ2FibGUsIGV2ZW50ICkge1xuXHRcdGRyYWdnYWJsZS5lbGVtZW50LnBhcmVudHNVbnRpbCggXCJib2R5XCIgKS51bmJpbmQoIFwic2Nyb2xsLmRyb3BwYWJsZVwiICk7XG5cdFx0Ly8gQ2FsbCBwcmVwYXJlT2Zmc2V0cyBvbmUgZmluYWwgdGltZSBzaW5jZSBJRSBkb2VzIG5vdCBmaXJlIHJldHVybiBzY3JvbGwgZXZlbnRzIHdoZW4gb3ZlcmZsb3cgd2FzIGNhdXNlZCBieSBkcmFnIChzZWUgIzUwMDMpXG5cdFx0aWYgKCAhZHJhZ2dhYmxlLm9wdGlvbnMucmVmcmVzaFBvc2l0aW9ucyApIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKCBkcmFnZ2FibGUsIGV2ZW50ICk7XG5cdFx0fVxuXHR9XG59O1xuXG52YXIgZHJvcHBhYmxlID0gJC51aS5kcm9wcGFibGU7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NhdGVnb3J5L2VmZmVjdHMtY29yZS9cbiAqL1xuXG5cbnZhciBkYXRhU3BhY2UgPSBcInVpLWVmZmVjdHMtXCIsXG5cblx0Ly8gQ3JlYXRlIGEgbG9jYWwgalF1ZXJ5IGJlY2F1c2UgalF1ZXJ5IENvbG9yIHJlbGllcyBvbiBpdCBhbmQgdGhlXG5cdC8vIGdsb2JhbCBtYXkgbm90IGV4aXN0IHdpdGggQU1EIGFuZCBhIGN1c3RvbSBidWlsZCAoIzEwMTk5KVxuXHRqUXVlcnkgPSAkO1xuXG4kLmVmZmVjdHMgPSB7XG5cdGVmZmVjdDoge31cbn07XG5cbi8qIVxuICogalF1ZXJ5IENvbG9yIEFuaW1hdGlvbnMgdjIuMS4yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvclxuICpcbiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiBXZWQgSmFuIDE2IDA4OjQ3OjA5IDIwMTMgLTA2MDBcbiAqL1xuKGZ1bmN0aW9uKCBqUXVlcnksIHVuZGVmaW5lZCApIHtcblxuXHR2YXIgc3RlcEhvb2tzID0gXCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yXCIsXG5cblx0Ly8gcGx1c2VxdWFscyB0ZXN0IGZvciArPSAxMDAgLT0gMTAwXG5cdHJwbHVzZXF1YWxzID0gL14oW1xcLStdKT1cXHMqKFxcZCtcXC4/XFxkKikvLFxuXHQvLyBhIHNldCBvZiBSRSdzIHRoYXQgY2FuIG1hdGNoIHN0cmluZ3MgYW5kIGdlbmVyYXRlIGNvbG9yIHR1cGxlcy5cblx0c3RyaW5nUGFyc2VycyA9IFsge1xuXHRcdFx0cmU6IC9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKD86LFxccyooXFxkPyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuXHRcdFx0cGFyc2U6IGZ1bmN0aW9uKCBleGVjUmVzdWx0ICkge1xuXHRcdFx0XHRyZXR1cm4gW1xuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDEgXSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAyIF0sXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDQgXVxuXHRcdFx0XHRdO1xuXHRcdFx0fVxuXHRcdH0sIHtcblx0XHRcdHJlOiAvcmdiYT9cXChcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFwlXFxzKig/OixcXHMqKFxcZD8oPzpcXC5cXGQrKT8pXFxzKik/XFwpLyxcblx0XHRcdHBhcnNlOiBmdW5jdGlvbiggZXhlY1Jlc3VsdCApIHtcblx0XHRcdFx0cmV0dXJuIFtcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAxIF0gKiAyLjU1LFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSAqIDIuNTUsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMyBdICogMi41NSxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyA0IF1cblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHQvLyB0aGlzIHJlZ2V4IGlnbm9yZXMgQS1GIGJlY2F1c2UgaXQncyBjb21wYXJlZCBhZ2FpbnN0IGFuIGFscmVhZHkgbG93ZXJjYXNlZCBzdHJpbmdcblx0XHRcdHJlOiAvIyhbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDEgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMiBdLCAxNiApLFxuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAzIF0sIDE2IClcblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHQvLyB0aGlzIHJlZ2V4IGlnbm9yZXMgQS1GIGJlY2F1c2UgaXQncyBjb21wYXJlZCBhZ2FpbnN0IGFuIGFscmVhZHkgbG93ZXJjYXNlZCBzdHJpbmdcblx0XHRcdHJlOiAvIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKS8sXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0cGFyc2VJbnQoIGV4ZWNSZXN1bHRbIDEgXSArIGV4ZWNSZXN1bHRbIDEgXSwgMTYgKSxcblx0XHRcdFx0XHRwYXJzZUludCggZXhlY1Jlc3VsdFsgMiBdICsgZXhlY1Jlc3VsdFsgMiBdLCAxNiApLFxuXHRcdFx0XHRcdHBhcnNlSW50KCBleGVjUmVzdWx0WyAzIF0gKyBleGVjUmVzdWx0WyAzIF0sIDE2IClcblx0XHRcdFx0XTtcblx0XHRcdH1cblx0XHR9LCB7XG5cdFx0XHRyZTogL2hzbGE/XFwoXFxzKihcXGQrKD86XFwuXFxkKyk/KVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyosXFxzKihcXGQrKD86XFwuXFxkKyk/KVxcJVxccyooPzosXFxzKihcXGQ/KD86XFwuXFxkKyk/KVxccyopP1xcKS8sXG5cdFx0XHRzcGFjZTogXCJoc2xhXCIsXG5cdFx0XHRwYXJzZTogZnVuY3Rpb24oIGV4ZWNSZXN1bHQgKSB7XG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgMSBdLFxuXHRcdFx0XHRcdGV4ZWNSZXN1bHRbIDIgXSAvIDEwMCxcblx0XHRcdFx0XHRleGVjUmVzdWx0WyAzIF0gLyAxMDAsXG5cdFx0XHRcdFx0ZXhlY1Jlc3VsdFsgNCBdXG5cdFx0XHRcdF07XG5cdFx0XHR9XG5cdFx0fSBdLFxuXG5cdC8vIGpRdWVyeS5Db2xvciggKVxuXHRjb2xvciA9IGpRdWVyeS5Db2xvciA9IGZ1bmN0aW9uKCBjb2xvciwgZ3JlZW4sIGJsdWUsIGFscGhhICkge1xuXHRcdHJldHVybiBuZXcgalF1ZXJ5LkNvbG9yLmZuLnBhcnNlKCBjb2xvciwgZ3JlZW4sIGJsdWUsIGFscGhhICk7XG5cdH0sXG5cdHNwYWNlcyA9IHtcblx0XHRyZ2JhOiB7XG5cdFx0XHRwcm9wczoge1xuXHRcdFx0XHRyZWQ6IHtcblx0XHRcdFx0XHRpZHg6IDAsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Z3JlZW46IHtcblx0XHRcdFx0XHRpZHg6IDEsXG5cdFx0XHRcdFx0dHlwZTogXCJieXRlXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0Ymx1ZToge1xuXHRcdFx0XHRcdGlkeDogMixcblx0XHRcdFx0XHR0eXBlOiBcImJ5dGVcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGhzbGE6IHtcblx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdGh1ZToge1xuXHRcdFx0XHRcdGlkeDogMCxcblx0XHRcdFx0XHR0eXBlOiBcImRlZ3JlZXNcIlxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzYXR1cmF0aW9uOiB7XG5cdFx0XHRcdFx0aWR4OiAxLFxuXHRcdFx0XHRcdHR5cGU6IFwicGVyY2VudFwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxpZ2h0bmVzczoge1xuXHRcdFx0XHRcdGlkeDogMixcblx0XHRcdFx0XHR0eXBlOiBcInBlcmNlbnRcIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRwcm9wVHlwZXMgPSB7XG5cdFx0XCJieXRlXCI6IHtcblx0XHRcdGZsb29yOiB0cnVlLFxuXHRcdFx0bWF4OiAyNTVcblx0XHR9LFxuXHRcdFwicGVyY2VudFwiOiB7XG5cdFx0XHRtYXg6IDFcblx0XHR9LFxuXHRcdFwiZGVncmVlc1wiOiB7XG5cdFx0XHRtb2Q6IDM2MCxcblx0XHRcdGZsb29yOiB0cnVlXG5cdFx0fVxuXHR9LFxuXHRzdXBwb3J0ID0gY29sb3Iuc3VwcG9ydCA9IHt9LFxuXG5cdC8vIGVsZW1lbnQgZm9yIHN1cHBvcnQgdGVzdHNcblx0c3VwcG9ydEVsZW0gPSBqUXVlcnkoIFwiPHA+XCIgKVsgMCBdLFxuXG5cdC8vIGNvbG9ycyA9IGpRdWVyeS5Db2xvci5uYW1lc1xuXHRjb2xvcnMsXG5cblx0Ly8gbG9jYWwgYWxpYXNlcyBvZiBmdW5jdGlvbnMgY2FsbGVkIG9mdGVuXG5cdGVhY2ggPSBqUXVlcnkuZWFjaDtcblxuLy8gZGV0ZXJtaW5lIHJnYmEgc3VwcG9ydCBpbW1lZGlhdGVseVxuc3VwcG9ydEVsZW0uc3R5bGUuY3NzVGV4dCA9IFwiYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KVwiO1xuc3VwcG9ydC5yZ2JhID0gc3VwcG9ydEVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoIFwicmdiYVwiICkgPiAtMTtcblxuLy8gZGVmaW5lIGNhY2hlIG5hbWUgYW5kIGFscGhhIHByb3BlcnRpZXNcbi8vIGZvciByZ2JhIGFuZCBoc2xhIHNwYWNlc1xuZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0c3BhY2UuY2FjaGUgPSBcIl9cIiArIHNwYWNlTmFtZTtcblx0c3BhY2UucHJvcHMuYWxwaGEgPSB7XG5cdFx0aWR4OiAzLFxuXHRcdHR5cGU6IFwicGVyY2VudFwiLFxuXHRcdGRlZjogMVxuXHR9O1xufSk7XG5cbmZ1bmN0aW9uIGNsYW1wKCB2YWx1ZSwgcHJvcCwgYWxsb3dFbXB0eSApIHtcblx0dmFyIHR5cGUgPSBwcm9wVHlwZXNbIHByb3AudHlwZSBdIHx8IHt9O1xuXG5cdGlmICggdmFsdWUgPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gKGFsbG93RW1wdHkgfHwgIXByb3AuZGVmKSA/IG51bGwgOiBwcm9wLmRlZjtcblx0fVxuXG5cdC8vIH5+IGlzIGFuIHNob3J0IHdheSBvZiBkb2luZyBmbG9vciBmb3IgcG9zaXRpdmUgbnVtYmVyc1xuXHR2YWx1ZSA9IHR5cGUuZmxvb3IgPyB+fnZhbHVlIDogcGFyc2VGbG9hdCggdmFsdWUgKTtcblxuXHQvLyBJRSB3aWxsIHBhc3MgaW4gZW1wdHkgc3RyaW5ncyBhcyB2YWx1ZSBmb3IgYWxwaGEsXG5cdC8vIHdoaWNoIHdpbGwgaGl0IHRoaXMgY2FzZVxuXHRpZiAoIGlzTmFOKCB2YWx1ZSApICkge1xuXHRcdHJldHVybiBwcm9wLmRlZjtcblx0fVxuXG5cdGlmICggdHlwZS5tb2QgKSB7XG5cdFx0Ly8gd2UgYWRkIG1vZCBiZWZvcmUgbW9kZGluZyB0byBtYWtlIHN1cmUgdGhhdCBuZWdhdGl2ZXMgdmFsdWVzXG5cdFx0Ly8gZ2V0IGNvbnZlcnRlZCBwcm9wZXJseTogLTEwIC0+IDM1MFxuXHRcdHJldHVybiAodmFsdWUgKyB0eXBlLm1vZCkgJSB0eXBlLm1vZDtcblx0fVxuXG5cdC8vIGZvciBub3cgYWxsIHByb3BlcnR5IHR5cGVzIHdpdGhvdXQgbW9kIGhhdmUgbWluIGFuZCBtYXhcblx0cmV0dXJuIDAgPiB2YWx1ZSA/IDAgOiB0eXBlLm1heCA8IHZhbHVlID8gdHlwZS5tYXggOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nUGFyc2UoIHN0cmluZyApIHtcblx0dmFyIGluc3QgPSBjb2xvcigpLFxuXHRcdHJnYmEgPSBpbnN0Ll9yZ2JhID0gW107XG5cblx0c3RyaW5nID0gc3RyaW5nLnRvTG93ZXJDYXNlKCk7XG5cblx0ZWFjaCggc3RyaW5nUGFyc2VycywgZnVuY3Rpb24oIGksIHBhcnNlciApIHtcblx0XHR2YXIgcGFyc2VkLFxuXHRcdFx0bWF0Y2ggPSBwYXJzZXIucmUuZXhlYyggc3RyaW5nICksXG5cdFx0XHR2YWx1ZXMgPSBtYXRjaCAmJiBwYXJzZXIucGFyc2UoIG1hdGNoICksXG5cdFx0XHRzcGFjZU5hbWUgPSBwYXJzZXIuc3BhY2UgfHwgXCJyZ2JhXCI7XG5cblx0XHRpZiAoIHZhbHVlcyApIHtcblx0XHRcdHBhcnNlZCA9IGluc3RbIHNwYWNlTmFtZSBdKCB2YWx1ZXMgKTtcblxuXHRcdFx0Ly8gaWYgdGhpcyB3YXMgYW4gcmdiYSBwYXJzZSB0aGUgYXNzaWdubWVudCBtaWdodCBoYXBwZW4gdHdpY2Vcblx0XHRcdC8vIG9oIHdlbGwuLi4uXG5cdFx0XHRpbnN0WyBzcGFjZXNbIHNwYWNlTmFtZSBdLmNhY2hlIF0gPSBwYXJzZWRbIHNwYWNlc1sgc3BhY2VOYW1lIF0uY2FjaGUgXTtcblx0XHRcdHJnYmEgPSBpbnN0Ll9yZ2JhID0gcGFyc2VkLl9yZ2JhO1xuXG5cdFx0XHQvLyBleGl0IGVhY2goIHN0cmluZ1BhcnNlcnMgKSBoZXJlIGJlY2F1c2Ugd2UgbWF0Y2hlZFxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gRm91bmQgYSBzdHJpbmdQYXJzZXIgdGhhdCBoYW5kbGVkIGl0XG5cdGlmICggcmdiYS5sZW5ndGggKSB7XG5cblx0XHQvLyBpZiB0aGlzIGNhbWUgZnJvbSBhIHBhcnNlZCBzdHJpbmcsIGZvcmNlIFwidHJhbnNwYXJlbnRcIiB3aGVuIGFscGhhIGlzIDBcblx0XHQvLyBjaHJvbWUsIChhbmQgbWF5YmUgb3RoZXJzKSByZXR1cm4gXCJ0cmFuc3BhcmVudFwiIGFzIHJnYmEoMCwwLDAsMClcblx0XHRpZiAoIHJnYmEuam9pbigpID09PSBcIjAsMCwwLDBcIiApIHtcblx0XHRcdGpRdWVyeS5leHRlbmQoIHJnYmEsIGNvbG9ycy50cmFuc3BhcmVudCApO1xuXHRcdH1cblx0XHRyZXR1cm4gaW5zdDtcblx0fVxuXG5cdC8vIG5hbWVkIGNvbG9yc1xuXHRyZXR1cm4gY29sb3JzWyBzdHJpbmcgXTtcbn1cblxuY29sb3IuZm4gPSBqUXVlcnkuZXh0ZW5kKCBjb2xvci5wcm90b3R5cGUsIHtcblx0cGFyc2U6IGZ1bmN0aW9uKCByZWQsIGdyZWVuLCBibHVlLCBhbHBoYSApIHtcblx0XHRpZiAoIHJlZCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5fcmdiYSA9IFsgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCBdO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggcmVkLmpxdWVyeSB8fCByZWQubm9kZVR5cGUgKSB7XG5cdFx0XHRyZWQgPSBqUXVlcnkoIHJlZCApLmNzcyggZ3JlZW4gKTtcblx0XHRcdGdyZWVuID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHZhciBpbnN0ID0gdGhpcyxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggcmVkICksXG5cdFx0XHRyZ2JhID0gdGhpcy5fcmdiYSA9IFtdO1xuXG5cdFx0Ly8gbW9yZSB0aGFuIDEgYXJndW1lbnQgc3BlY2lmaWVkIC0gYXNzdW1lICggcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgKVxuXHRcdGlmICggZ3JlZW4gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJlZCA9IFsgcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEgXTtcblx0XHRcdHR5cGUgPSBcImFycmF5XCI7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyc2UoIHN0cmluZ1BhcnNlKCByZWQgKSB8fCBjb2xvcnMuX2RlZmF1bHQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwiYXJyYXlcIiApIHtcblx0XHRcdGVhY2goIHNwYWNlcy5yZ2JhLnByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXHRcdFx0XHRyZ2JhWyBwcm9wLmlkeCBdID0gY2xhbXAoIHJlZFsgcHJvcC5pZHggXSwgcHJvcCApO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRpZiAoIHJlZCBpbnN0YW5jZW9mIGNvbG9yICkge1xuXHRcdFx0XHRlYWNoKCBzcGFjZXMsIGZ1bmN0aW9uKCBzcGFjZU5hbWUsIHNwYWNlICkge1xuXHRcdFx0XHRcdGlmICggcmVkWyBzcGFjZS5jYWNoZSBdICkge1xuXHRcdFx0XHRcdFx0aW5zdFsgc3BhY2UuY2FjaGUgXSA9IHJlZFsgc3BhY2UuY2FjaGUgXS5zbGljZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlYWNoKCBzcGFjZXMsIGZ1bmN0aW9uKCBzcGFjZU5hbWUsIHNwYWNlICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSA9IHNwYWNlLmNhY2hlO1xuXHRcdFx0XHRcdGVhY2goIHNwYWNlLnByb3BzLCBmdW5jdGlvbigga2V5LCBwcm9wICkge1xuXG5cdFx0XHRcdFx0XHQvLyBpZiB0aGUgY2FjaGUgZG9lc24ndCBleGlzdCwgYW5kIHdlIGtub3cgaG93IHRvIGNvbnZlcnRcblx0XHRcdFx0XHRcdGlmICggIWluc3RbIGNhY2hlIF0gJiYgc3BhY2UudG8gKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gaWYgdGhlIHZhbHVlIHdhcyBudWxsLCB3ZSBkb24ndCBuZWVkIHRvIGNvcHkgaXRcblx0XHRcdFx0XHRcdFx0Ly8gaWYgdGhlIGtleSB3YXMgYWxwaGEsIHdlIGRvbid0IG5lZWQgdG8gY29weSBpdCBlaXRoZXJcblx0XHRcdFx0XHRcdFx0aWYgKCBrZXkgPT09IFwiYWxwaGFcIiB8fCByZWRbIGtleSBdID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGluc3RbIGNhY2hlIF0gPSBzcGFjZS50byggaW5zdC5fcmdiYSApO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyB0aGlzIGlzIHRoZSBvbmx5IGNhc2Ugd2hlcmUgd2UgYWxsb3cgbnVsbHMgZm9yIEFMTCBwcm9wZXJ0aWVzLlxuXHRcdFx0XHRcdFx0Ly8gY2FsbCBjbGFtcCB3aXRoIGFsd2F5c0FsbG93RW1wdHlcblx0XHRcdFx0XHRcdGluc3RbIGNhY2hlIF1bIHByb3AuaWR4IF0gPSBjbGFtcCggcmVkWyBrZXkgXSwgcHJvcCwgdHJ1ZSApO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Ly8gZXZlcnl0aGluZyBkZWZpbmVkIGJ1dCBhbHBoYT9cblx0XHRcdFx0XHRpZiAoIGluc3RbIGNhY2hlIF0gJiYgalF1ZXJ5LmluQXJyYXkoIG51bGwsIGluc3RbIGNhY2hlIF0uc2xpY2UoIDAsIDMgKSApIDwgMCApIHtcblx0XHRcdFx0XHRcdC8vIHVzZSB0aGUgZGVmYXVsdCBvZiAxXG5cdFx0XHRcdFx0XHRpbnN0WyBjYWNoZSBdWyAzIF0gPSAxO1xuXHRcdFx0XHRcdFx0aWYgKCBzcGFjZS5mcm9tICkge1xuXHRcdFx0XHRcdFx0XHRpbnN0Ll9yZ2JhID0gc3BhY2UuZnJvbSggaW5zdFsgY2FjaGUgXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggY29tcGFyZSApIHtcblx0XHR2YXIgaXMgPSBjb2xvciggY29tcGFyZSApLFxuXHRcdFx0c2FtZSA9IHRydWUsXG5cdFx0XHRpbnN0ID0gdGhpcztcblxuXHRcdGVhY2goIHNwYWNlcywgZnVuY3Rpb24oIF8sIHNwYWNlICkge1xuXHRcdFx0dmFyIGxvY2FsQ2FjaGUsXG5cdFx0XHRcdGlzQ2FjaGUgPSBpc1sgc3BhY2UuY2FjaGUgXTtcblx0XHRcdGlmIChpc0NhY2hlKSB7XG5cdFx0XHRcdGxvY2FsQ2FjaGUgPSBpbnN0WyBzcGFjZS5jYWNoZSBdIHx8IHNwYWNlLnRvICYmIHNwYWNlLnRvKCBpbnN0Ll9yZ2JhICkgfHwgW107XG5cdFx0XHRcdGVhY2goIHNwYWNlLnByb3BzLCBmdW5jdGlvbiggXywgcHJvcCApIHtcblx0XHRcdFx0XHRpZiAoIGlzQ2FjaGVbIHByb3AuaWR4IF0gIT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHNhbWUgPSAoIGlzQ2FjaGVbIHByb3AuaWR4IF0gPT09IGxvY2FsQ2FjaGVbIHByb3AuaWR4IF0gKTtcblx0XHRcdFx0XHRcdHJldHVybiBzYW1lO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2FtZTtcblx0XHR9KTtcblx0XHRyZXR1cm4gc2FtZTtcblx0fSxcblx0X3NwYWNlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdXNlZCA9IFtdLFxuXHRcdFx0aW5zdCA9IHRoaXM7XG5cdFx0ZWFjaCggc3BhY2VzLCBmdW5jdGlvbiggc3BhY2VOYW1lLCBzcGFjZSApIHtcblx0XHRcdGlmICggaW5zdFsgc3BhY2UuY2FjaGUgXSApIHtcblx0XHRcdFx0dXNlZC5wdXNoKCBzcGFjZU5hbWUgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gdXNlZC5wb3AoKTtcblx0fSxcblx0dHJhbnNpdGlvbjogZnVuY3Rpb24oIG90aGVyLCBkaXN0YW5jZSApIHtcblx0XHR2YXIgZW5kID0gY29sb3IoIG90aGVyICksXG5cdFx0XHRzcGFjZU5hbWUgPSBlbmQuX3NwYWNlKCksXG5cdFx0XHRzcGFjZSA9IHNwYWNlc1sgc3BhY2VOYW1lIF0sXG5cdFx0XHRzdGFydENvbG9yID0gdGhpcy5hbHBoYSgpID09PSAwID8gY29sb3IoIFwidHJhbnNwYXJlbnRcIiApIDogdGhpcyxcblx0XHRcdHN0YXJ0ID0gc3RhcnRDb2xvclsgc3BhY2UuY2FjaGUgXSB8fCBzcGFjZS50byggc3RhcnRDb2xvci5fcmdiYSApLFxuXHRcdFx0cmVzdWx0ID0gc3RhcnQuc2xpY2UoKTtcblxuXHRcdGVuZCA9IGVuZFsgc3BhY2UuY2FjaGUgXTtcblx0XHRlYWNoKCBzcGFjZS5wcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblx0XHRcdHZhciBpbmRleCA9IHByb3AuaWR4LFxuXHRcdFx0XHRzdGFydFZhbHVlID0gc3RhcnRbIGluZGV4IF0sXG5cdFx0XHRcdGVuZFZhbHVlID0gZW5kWyBpbmRleCBdLFxuXHRcdFx0XHR0eXBlID0gcHJvcFR5cGVzWyBwcm9wLnR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaWYgbnVsbCwgZG9uJ3Qgb3ZlcnJpZGUgc3RhcnQgdmFsdWVcblx0XHRcdGlmICggZW5kVmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdC8vIGlmIG51bGwgLSB1c2UgZW5kXG5cdFx0XHRpZiAoIHN0YXJ0VmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdHJlc3VsdFsgaW5kZXggXSA9IGVuZFZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCB0eXBlLm1vZCApIHtcblx0XHRcdFx0XHRpZiAoIGVuZFZhbHVlIC0gc3RhcnRWYWx1ZSA+IHR5cGUubW9kIC8gMiApIHtcblx0XHRcdFx0XHRcdHN0YXJ0VmFsdWUgKz0gdHlwZS5tb2Q7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggc3RhcnRWYWx1ZSAtIGVuZFZhbHVlID4gdHlwZS5tb2QgLyAyICkge1xuXHRcdFx0XHRcdFx0c3RhcnRWYWx1ZSAtPSB0eXBlLm1vZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVzdWx0WyBpbmRleCBdID0gY2xhbXAoICggZW5kVmFsdWUgLSBzdGFydFZhbHVlICkgKiBkaXN0YW5jZSArIHN0YXJ0VmFsdWUsIHByb3AgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gdGhpc1sgc3BhY2VOYW1lIF0oIHJlc3VsdCApO1xuXHR9LFxuXHRibGVuZDogZnVuY3Rpb24oIG9wYXF1ZSApIHtcblx0XHQvLyBpZiB3ZSBhcmUgYWxyZWFkeSBvcGFxdWUgLSByZXR1cm4gb3Vyc2VsZlxuXHRcdGlmICggdGhpcy5fcmdiYVsgMyBdID09PSAxICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0dmFyIHJnYiA9IHRoaXMuX3JnYmEuc2xpY2UoKSxcblx0XHRcdGEgPSByZ2IucG9wKCksXG5cdFx0XHRibGVuZCA9IGNvbG9yKCBvcGFxdWUgKS5fcmdiYTtcblxuXHRcdHJldHVybiBjb2xvciggalF1ZXJ5Lm1hcCggcmdiLCBmdW5jdGlvbiggdiwgaSApIHtcblx0XHRcdHJldHVybiAoIDEgLSBhICkgKiBibGVuZFsgaSBdICsgYSAqIHY7XG5cdFx0fSkpO1xuXHR9LFxuXHR0b1JnYmFTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVmaXggPSBcInJnYmEoXCIsXG5cdFx0XHRyZ2JhID0galF1ZXJ5Lm1hcCggdGhpcy5fcmdiYSwgZnVuY3Rpb24oIHYsIGkgKSB7XG5cdFx0XHRcdHJldHVybiB2ID09IG51bGwgPyAoIGkgPiAyID8gMSA6IDAgKSA6IHY7XG5cdFx0XHR9KTtcblxuXHRcdGlmICggcmdiYVsgMyBdID09PSAxICkge1xuXHRcdFx0cmdiYS5wb3AoKTtcblx0XHRcdHByZWZpeCA9IFwicmdiKFwiO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcmVmaXggKyByZ2JhLmpvaW4oKSArIFwiKVwiO1xuXHR9LFxuXHR0b0hzbGFTdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVmaXggPSBcImhzbGEoXCIsXG5cdFx0XHRoc2xhID0galF1ZXJ5Lm1hcCggdGhpcy5oc2xhKCksIGZ1bmN0aW9uKCB2LCBpICkge1xuXHRcdFx0XHRpZiAoIHYgPT0gbnVsbCApIHtcblx0XHRcdFx0XHR2ID0gaSA+IDIgPyAxIDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGNhdGNoIDEgYW5kIDJcblx0XHRcdFx0aWYgKCBpICYmIGkgPCAzICkge1xuXHRcdFx0XHRcdHYgPSBNYXRoLnJvdW5kKCB2ICogMTAwICkgKyBcIiVcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdjtcblx0XHRcdH0pO1xuXG5cdFx0aWYgKCBoc2xhWyAzIF0gPT09IDEgKSB7XG5cdFx0XHRoc2xhLnBvcCgpO1xuXHRcdFx0cHJlZml4ID0gXCJoc2woXCI7XG5cdFx0fVxuXHRcdHJldHVybiBwcmVmaXggKyBoc2xhLmpvaW4oKSArIFwiKVwiO1xuXHR9LFxuXHR0b0hleFN0cmluZzogZnVuY3Rpb24oIGluY2x1ZGVBbHBoYSApIHtcblx0XHR2YXIgcmdiYSA9IHRoaXMuX3JnYmEuc2xpY2UoKSxcblx0XHRcdGFscGhhID0gcmdiYS5wb3AoKTtcblxuXHRcdGlmICggaW5jbHVkZUFscGhhICkge1xuXHRcdFx0cmdiYS5wdXNoKCB+figgYWxwaGEgKiAyNTUgKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBcIiNcIiArIGpRdWVyeS5tYXAoIHJnYmEsIGZ1bmN0aW9uKCB2ICkge1xuXG5cdFx0XHQvLyBkZWZhdWx0IHRvIDAgd2hlbiBudWxscyBleGlzdFxuXHRcdFx0diA9ICggdiB8fCAwICkudG9TdHJpbmcoIDE2ICk7XG5cdFx0XHRyZXR1cm4gdi5sZW5ndGggPT09IDEgPyBcIjBcIiArIHYgOiB2O1xuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH0sXG5cdHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmdiYVsgMyBdID09PSAwID8gXCJ0cmFuc3BhcmVudFwiIDogdGhpcy50b1JnYmFTdHJpbmcoKTtcblx0fVxufSk7XG5jb2xvci5mbi5wYXJzZS5wcm90b3R5cGUgPSBjb2xvci5mbjtcblxuLy8gaHNsYSBjb252ZXJzaW9ucyBhZGFwdGVkIGZyb206XG4vLyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL21hYXNoYWFjay9zb3VyY2UvYnJvd3NlL3BhY2thZ2VzL2dyYXBoaWNzL3RydW5rL3NyYy9ncmFwaGljcy9jb2xvcnMvSFVFMlJHQi5hcz9yPTUwMjFcblxuZnVuY3Rpb24gaHVlMnJnYiggcCwgcSwgaCApIHtcblx0aCA9ICggaCArIDEgKSAlIDE7XG5cdGlmICggaCAqIDYgPCAxICkge1xuXHRcdHJldHVybiBwICsgKCBxIC0gcCApICogaCAqIDY7XG5cdH1cblx0aWYgKCBoICogMiA8IDEpIHtcblx0XHRyZXR1cm4gcTtcblx0fVxuXHRpZiAoIGggKiAzIDwgMiApIHtcblx0XHRyZXR1cm4gcCArICggcSAtIHAgKSAqICggKCAyIC8gMyApIC0gaCApICogNjtcblx0fVxuXHRyZXR1cm4gcDtcbn1cblxuc3BhY2VzLmhzbGEudG8gPSBmdW5jdGlvbiggcmdiYSApIHtcblx0aWYgKCByZ2JhWyAwIF0gPT0gbnVsbCB8fCByZ2JhWyAxIF0gPT0gbnVsbCB8fCByZ2JhWyAyIF0gPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gWyBudWxsLCBudWxsLCBudWxsLCByZ2JhWyAzIF0gXTtcblx0fVxuXHR2YXIgciA9IHJnYmFbIDAgXSAvIDI1NSxcblx0XHRnID0gcmdiYVsgMSBdIC8gMjU1LFxuXHRcdGIgPSByZ2JhWyAyIF0gLyAyNTUsXG5cdFx0YSA9IHJnYmFbIDMgXSxcblx0XHRtYXggPSBNYXRoLm1heCggciwgZywgYiApLFxuXHRcdG1pbiA9IE1hdGgubWluKCByLCBnLCBiICksXG5cdFx0ZGlmZiA9IG1heCAtIG1pbixcblx0XHRhZGQgPSBtYXggKyBtaW4sXG5cdFx0bCA9IGFkZCAqIDAuNSxcblx0XHRoLCBzO1xuXG5cdGlmICggbWluID09PSBtYXggKSB7XG5cdFx0aCA9IDA7XG5cdH0gZWxzZSBpZiAoIHIgPT09IG1heCApIHtcblx0XHRoID0gKCA2MCAqICggZyAtIGIgKSAvIGRpZmYgKSArIDM2MDtcblx0fSBlbHNlIGlmICggZyA9PT0gbWF4ICkge1xuXHRcdGggPSAoIDYwICogKCBiIC0gciApIC8gZGlmZiApICsgMTIwO1xuXHR9IGVsc2Uge1xuXHRcdGggPSAoIDYwICogKCByIC0gZyApIC8gZGlmZiApICsgMjQwO1xuXHR9XG5cblx0Ly8gY2hyb21hIChkaWZmKSA9PSAwIG1lYW5zIGdyZXlzY2FsZSB3aGljaCwgYnkgZGVmaW5pdGlvbiwgc2F0dXJhdGlvbiA9IDAlXG5cdC8vIG90aGVyd2lzZSwgc2F0dXJhdGlvbiBpcyBiYXNlZCBvbiB0aGUgcmF0aW8gb2YgY2hyb21hIChkaWZmKSB0byBsaWdodG5lc3MgKGFkZClcblx0aWYgKCBkaWZmID09PSAwICkge1xuXHRcdHMgPSAwO1xuXHR9IGVsc2UgaWYgKCBsIDw9IDAuNSApIHtcblx0XHRzID0gZGlmZiAvIGFkZDtcblx0fSBlbHNlIHtcblx0XHRzID0gZGlmZiAvICggMiAtIGFkZCApO1xuXHR9XG5cdHJldHVybiBbIE1hdGgucm91bmQoaCkgJSAzNjAsIHMsIGwsIGEgPT0gbnVsbCA/IDEgOiBhIF07XG59O1xuXG5zcGFjZXMuaHNsYS5mcm9tID0gZnVuY3Rpb24oIGhzbGEgKSB7XG5cdGlmICggaHNsYVsgMCBdID09IG51bGwgfHwgaHNsYVsgMSBdID09IG51bGwgfHwgaHNsYVsgMiBdID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFsgbnVsbCwgbnVsbCwgbnVsbCwgaHNsYVsgMyBdIF07XG5cdH1cblx0dmFyIGggPSBoc2xhWyAwIF0gLyAzNjAsXG5cdFx0cyA9IGhzbGFbIDEgXSxcblx0XHRsID0gaHNsYVsgMiBdLFxuXHRcdGEgPSBoc2xhWyAzIF0sXG5cdFx0cSA9IGwgPD0gMC41ID8gbCAqICggMSArIHMgKSA6IGwgKyBzIC0gbCAqIHMsXG5cdFx0cCA9IDIgKiBsIC0gcTtcblxuXHRyZXR1cm4gW1xuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggKyAoIDEgLyAzICkgKSAqIDI1NSApLFxuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggKSAqIDI1NSApLFxuXHRcdE1hdGgucm91bmQoIGh1ZTJyZ2IoIHAsIHEsIGggLSAoIDEgLyAzICkgKSAqIDI1NSApLFxuXHRcdGFcblx0XTtcbn07XG5cbmVhY2goIHNwYWNlcywgZnVuY3Rpb24oIHNwYWNlTmFtZSwgc3BhY2UgKSB7XG5cdHZhciBwcm9wcyA9IHNwYWNlLnByb3BzLFxuXHRcdGNhY2hlID0gc3BhY2UuY2FjaGUsXG5cdFx0dG8gPSBzcGFjZS50byxcblx0XHRmcm9tID0gc3BhY2UuZnJvbTtcblxuXHQvLyBtYWtlcyByZ2JhKCkgYW5kIGhzbGEoKVxuXHRjb2xvci5mblsgc3BhY2VOYW1lIF0gPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cblx0XHQvLyBnZW5lcmF0ZSBhIGNhY2hlIGZvciB0aGlzIHNwYWNlIGlmIGl0IGRvZXNuJ3QgZXhpc3Rcblx0XHRpZiAoIHRvICYmICF0aGlzWyBjYWNoZSBdICkge1xuXHRcdFx0dGhpc1sgY2FjaGUgXSA9IHRvKCB0aGlzLl9yZ2JhICk7XG5cdFx0fVxuXHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiB0aGlzWyBjYWNoZSBdLnNsaWNlKCk7XG5cdFx0fVxuXG5cdFx0dmFyIHJldCxcblx0XHRcdHR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKSxcblx0XHRcdGFyciA9ICggdHlwZSA9PT0gXCJhcnJheVwiIHx8IHR5cGUgPT09IFwib2JqZWN0XCIgKSA/IHZhbHVlIDogYXJndW1lbnRzLFxuXHRcdFx0bG9jYWwgPSB0aGlzWyBjYWNoZSBdLnNsaWNlKCk7XG5cblx0XHRlYWNoKCBwcm9wcywgZnVuY3Rpb24oIGtleSwgcHJvcCApIHtcblx0XHRcdHZhciB2YWwgPSBhcnJbIHR5cGUgPT09IFwib2JqZWN0XCIgPyBrZXkgOiBwcm9wLmlkeCBdO1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gbG9jYWxbIHByb3AuaWR4IF07XG5cdFx0XHR9XG5cdFx0XHRsb2NhbFsgcHJvcC5pZHggXSA9IGNsYW1wKCB2YWwsIHByb3AgKTtcblx0XHR9KTtcblxuXHRcdGlmICggZnJvbSApIHtcblx0XHRcdHJldCA9IGNvbG9yKCBmcm9tKCBsb2NhbCApICk7XG5cdFx0XHRyZXRbIGNhY2hlIF0gPSBsb2NhbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBjb2xvciggbG9jYWwgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gbWFrZXMgcmVkKCkgZ3JlZW4oKSBibHVlKCkgYWxwaGEoKSBodWUoKSBzYXR1cmF0aW9uKCkgbGlnaHRuZXNzKClcblx0ZWFjaCggcHJvcHMsIGZ1bmN0aW9uKCBrZXksIHByb3AgKSB7XG5cdFx0Ly8gYWxwaGEgaXMgaW5jbHVkZWQgaW4gbW9yZSB0aGFuIG9uZSBzcGFjZVxuXHRcdGlmICggY29sb3IuZm5bIGtleSBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb2xvci5mblsga2V5IF0gPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgdnR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKSxcblx0XHRcdFx0Zm4gPSAoIGtleSA9PT0gXCJhbHBoYVwiID8gKCB0aGlzLl9oc2xhID8gXCJoc2xhXCIgOiBcInJnYmFcIiApIDogc3BhY2VOYW1lICksXG5cdFx0XHRcdGxvY2FsID0gdGhpc1sgZm4gXSgpLFxuXHRcdFx0XHRjdXIgPSBsb2NhbFsgcHJvcC5pZHggXSxcblx0XHRcdFx0bWF0Y2g7XG5cblx0XHRcdGlmICggdnR5cGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdnR5cGUgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5jYWxsKCB0aGlzLCBjdXIgKTtcblx0XHRcdFx0dnR5cGUgPSBqUXVlcnkudHlwZSggdmFsdWUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCAmJiBwcm9wLmVtcHR5ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdGlmICggdnR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdG1hdGNoID0gcnBsdXNlcXVhbHMuZXhlYyggdmFsdWUgKTtcblx0XHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGN1ciArIHBhcnNlRmxvYXQoIG1hdGNoWyAyIF0gKSAqICggbWF0Y2hbIDEgXSA9PT0gXCIrXCIgPyAxIDogLTEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bG9jYWxbIHByb3AuaWR4IF0gPSB2YWx1ZTtcblx0XHRcdHJldHVybiB0aGlzWyBmbiBdKCBsb2NhbCApO1xuXHRcdH07XG5cdH0pO1xufSk7XG5cbi8vIGFkZCBjc3NIb29rIGFuZCAuZnguc3RlcCBmdW5jdGlvbiBmb3IgZWFjaCBuYW1lZCBob29rLlxuLy8gYWNjZXB0IGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBwcm9wZXJ0aWVzXG5jb2xvci5ob29rID0gZnVuY3Rpb24oIGhvb2sgKSB7XG5cdHZhciBob29rcyA9IGhvb2suc3BsaXQoIFwiIFwiICk7XG5cdGVhY2goIGhvb2tzLCBmdW5jdGlvbiggaSwgaG9vayApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIGhvb2sgXSA9IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgcGFyc2VkLCBjdXJFbGVtLFxuXHRcdFx0XHRcdGJhY2tncm91bmRDb2xvciA9IFwiXCI7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPT0gXCJ0cmFuc3BhcmVudFwiICYmICggalF1ZXJ5LnR5cGUoIHZhbHVlICkgIT09IFwic3RyaW5nXCIgfHwgKCBwYXJzZWQgPSBzdHJpbmdQYXJzZSggdmFsdWUgKSApICkgKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBjb2xvciggcGFyc2VkIHx8IHZhbHVlICk7XG5cdFx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yZ2JhICYmIHZhbHVlLl9yZ2JhWyAzIF0gIT09IDEgKSB7XG5cdFx0XHRcdFx0XHRjdXJFbGVtID0gaG9vayA9PT0gXCJiYWNrZ3JvdW5kQ29sb3JcIiA/IGVsZW0ucGFyZW50Tm9kZSA6IGVsZW07XG5cdFx0XHRcdFx0XHR3aGlsZSAoXG5cdFx0XHRcdFx0XHRcdChiYWNrZ3JvdW5kQ29sb3IgPT09IFwiXCIgfHwgYmFja2dyb3VuZENvbG9yID09PSBcInRyYW5zcGFyZW50XCIpICYmXG5cdFx0XHRcdFx0XHRcdGN1ckVsZW0gJiYgY3VyRWxlbS5zdHlsZVxuXHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0YmFja2dyb3VuZENvbG9yID0galF1ZXJ5LmNzcyggY3VyRWxlbSwgXCJiYWNrZ3JvdW5kQ29sb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdGN1ckVsZW0gPSBjdXJFbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuYmxlbmQoIGJhY2tncm91bmRDb2xvciAmJiBiYWNrZ3JvdW5kQ29sb3IgIT09IFwidHJhbnNwYXJlbnRcIiA/XG5cdFx0XHRcdFx0XHRcdGJhY2tncm91bmRDb2xvciA6XG5cdFx0XHRcdFx0XHRcdFwiX2RlZmF1bHRcIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWUudG9SZ2JhU3RyaW5nKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlWyBob29rIF0gPSB2YWx1ZTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0Ly8gd3JhcHBlZCB0byBwcmV2ZW50IElFIGZyb20gdGhyb3dpbmcgZXJyb3JzIG9uIFwiaW52YWxpZFwiIHZhbHVlcyBsaWtlICdhdXRvJyBvciAnaW5oZXJpdCdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0alF1ZXJ5LmZ4LnN0ZXBbIGhvb2sgXSA9IGZ1bmN0aW9uKCBmeCApIHtcblx0XHRcdGlmICggIWZ4LmNvbG9ySW5pdCApIHtcblx0XHRcdFx0Znguc3RhcnQgPSBjb2xvciggZnguZWxlbSwgaG9vayApO1xuXHRcdFx0XHRmeC5lbmQgPSBjb2xvciggZnguZW5kICk7XG5cdFx0XHRcdGZ4LmNvbG9ySW5pdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRqUXVlcnkuY3NzSG9va3NbIGhvb2sgXS5zZXQoIGZ4LmVsZW0sIGZ4LnN0YXJ0LnRyYW5zaXRpb24oIGZ4LmVuZCwgZngucG9zICkgKTtcblx0XHR9O1xuXHR9KTtcblxufTtcblxuY29sb3IuaG9vayggc3RlcEhvb2tzICk7XG5cbmpRdWVyeS5jc3NIb29rcy5ib3JkZXJDb2xvciA9IHtcblx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGV4cGFuZGVkID0ge307XG5cblx0XHRlYWNoKCBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHBhcnQgKSB7XG5cdFx0XHRleHBhbmRlZFsgXCJib3JkZXJcIiArIHBhcnQgKyBcIkNvbG9yXCIgXSA9IHZhbHVlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBleHBhbmRlZDtcblx0fVxufTtcblxuLy8gQmFzaWMgY29sb3IgbmFtZXMgb25seS5cbi8vIFVzYWdlIG9mIGFueSBvZiB0aGUgb3RoZXIgY29sb3IgbmFtZXMgcmVxdWlyZXMgYWRkaW5nIHlvdXJzZWxmIG9yIGluY2x1ZGluZ1xuLy8ganF1ZXJ5LmNvbG9yLnN2Zy1uYW1lcy5qcy5cbmNvbG9ycyA9IGpRdWVyeS5Db2xvci5uYW1lcyA9IHtcblx0Ly8gNC4xLiBCYXNpYyBjb2xvciBrZXl3b3Jkc1xuXHRhcXVhOiBcIiMwMGZmZmZcIixcblx0YmxhY2s6IFwiIzAwMDAwMFwiLFxuXHRibHVlOiBcIiMwMDAwZmZcIixcblx0ZnVjaHNpYTogXCIjZmYwMGZmXCIsXG5cdGdyYXk6IFwiIzgwODA4MFwiLFxuXHRncmVlbjogXCIjMDA4MDAwXCIsXG5cdGxpbWU6IFwiIzAwZmYwMFwiLFxuXHRtYXJvb246IFwiIzgwMDAwMFwiLFxuXHRuYXZ5OiBcIiMwMDAwODBcIixcblx0b2xpdmU6IFwiIzgwODAwMFwiLFxuXHRwdXJwbGU6IFwiIzgwMDA4MFwiLFxuXHRyZWQ6IFwiI2ZmMDAwMFwiLFxuXHRzaWx2ZXI6IFwiI2MwYzBjMFwiLFxuXHR0ZWFsOiBcIiMwMDgwODBcIixcblx0d2hpdGU6IFwiI2ZmZmZmZlwiLFxuXHR5ZWxsb3c6IFwiI2ZmZmYwMFwiLFxuXG5cdC8vIDQuMi4zLiBcInRyYW5zcGFyZW50XCIgY29sb3Iga2V5d29yZFxuXHR0cmFuc3BhcmVudDogWyBudWxsLCBudWxsLCBudWxsLCAwIF0sXG5cblx0X2RlZmF1bHQ6IFwiI2ZmZmZmZlwiXG59O1xuXG59KSggalF1ZXJ5ICk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIENMQVNTIEFOSU1BVElPTlMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbihmdW5jdGlvbigpIHtcblxudmFyIGNsYXNzQW5pbWF0aW9uQWN0aW9ucyA9IFsgXCJhZGRcIiwgXCJyZW1vdmVcIiwgXCJ0b2dnbGVcIiBdLFxuXHRzaG9ydGhhbmRTdHlsZXMgPSB7XG5cdFx0Ym9yZGVyOiAxLFxuXHRcdGJvcmRlckJvdHRvbTogMSxcblx0XHRib3JkZXJDb2xvcjogMSxcblx0XHRib3JkZXJMZWZ0OiAxLFxuXHRcdGJvcmRlclJpZ2h0OiAxLFxuXHRcdGJvcmRlclRvcDogMSxcblx0XHRib3JkZXJXaWR0aDogMSxcblx0XHRtYXJnaW46IDEsXG5cdFx0cGFkZGluZzogMVxuXHR9O1xuXG4kLmVhY2goWyBcImJvcmRlckxlZnRTdHlsZVwiLCBcImJvcmRlclJpZ2h0U3R5bGVcIiwgXCJib3JkZXJCb3R0b21TdHlsZVwiLCBcImJvcmRlclRvcFN0eWxlXCIgXSwgZnVuY3Rpb24oIF8sIHByb3AgKSB7XG5cdCQuZnguc3RlcFsgcHJvcCBdID0gZnVuY3Rpb24oIGZ4ICkge1xuXHRcdGlmICggZnguZW5kICE9PSBcIm5vbmVcIiAmJiAhZnguc2V0QXR0ciB8fCBmeC5wb3MgPT09IDEgJiYgIWZ4LnNldEF0dHIgKSB7XG5cdFx0XHRqUXVlcnkuc3R5bGUoIGZ4LmVsZW0sIHByb3AsIGZ4LmVuZCApO1xuXHRcdFx0Znguc2V0QXR0ciA9IHRydWU7XG5cdFx0fVxuXHR9O1xufSk7XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRTdHlsZXMoIGVsZW0gKSB7XG5cdHZhciBrZXksIGxlbixcblx0XHRzdHlsZSA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA/XG5cdFx0XHRlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSwgbnVsbCApIDpcblx0XHRcdGVsZW0uY3VycmVudFN0eWxlLFxuXHRcdHN0eWxlcyA9IHt9O1xuXG5cdGlmICggc3R5bGUgJiYgc3R5bGUubGVuZ3RoICYmIHN0eWxlWyAwIF0gJiYgc3R5bGVbIHN0eWxlWyAwIF0gXSApIHtcblx0XHRsZW4gPSBzdHlsZS5sZW5ndGg7XG5cdFx0d2hpbGUgKCBsZW4tLSApIHtcblx0XHRcdGtleSA9IHN0eWxlWyBsZW4gXTtcblx0XHRcdGlmICggdHlwZW9mIHN0eWxlWyBrZXkgXSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0c3R5bGVzWyAkLmNhbWVsQ2FzZSgga2V5ICkgXSA9IHN0eWxlWyBrZXkgXTtcblx0XHRcdH1cblx0XHR9XG5cdC8vIHN1cHBvcnQ6IE9wZXJhLCBJRSA8OVxuXHR9IGVsc2Uge1xuXHRcdGZvciAoIGtleSBpbiBzdHlsZSApIHtcblx0XHRcdGlmICggdHlwZW9mIHN0eWxlWyBrZXkgXSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0c3R5bGVzWyBrZXkgXSA9IHN0eWxlWyBrZXkgXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBzdHlsZURpZmZlcmVuY2UoIG9sZFN0eWxlLCBuZXdTdHlsZSApIHtcblx0dmFyIGRpZmYgPSB7fSxcblx0XHRuYW1lLCB2YWx1ZTtcblxuXHRmb3IgKCBuYW1lIGluIG5ld1N0eWxlICkge1xuXHRcdHZhbHVlID0gbmV3U3R5bGVbIG5hbWUgXTtcblx0XHRpZiAoIG9sZFN0eWxlWyBuYW1lIF0gIT09IHZhbHVlICkge1xuXHRcdFx0aWYgKCAhc2hvcnRoYW5kU3R5bGVzWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGlmICggJC5meC5zdGVwWyBuYW1lIF0gfHwgIWlzTmFOKCBwYXJzZUZsb2F0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRcdFx0ZGlmZlsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZGlmZjtcbn1cblxuLy8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcbmlmICggISQuZm4uYWRkQmFjayApIHtcblx0JC5mbi5hZGRCYWNrID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fTtcbn1cblxuJC5lZmZlY3RzLmFuaW1hdGVDbGFzcyA9IGZ1bmN0aW9uKCB2YWx1ZSwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdHZhciBvID0gJC5zcGVlZCggZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2sgKTtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFuaW1hdGVkID0gJCggdGhpcyApLFxuXHRcdFx0YmFzZUNsYXNzID0gYW5pbWF0ZWQuYXR0ciggXCJjbGFzc1wiICkgfHwgXCJcIixcblx0XHRcdGFwcGx5Q2xhc3NDaGFuZ2UsXG5cdFx0XHRhbGxBbmltYXRpb25zID0gby5jaGlsZHJlbiA/IGFuaW1hdGVkLmZpbmQoIFwiKlwiICkuYWRkQmFjaygpIDogYW5pbWF0ZWQ7XG5cblx0XHQvLyBtYXAgdGhlIGFuaW1hdGVkIG9iamVjdHMgdG8gc3RvcmUgdGhlIG9yaWdpbmFsIHN0eWxlcy5cblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZWwgPSAkKCB0aGlzICk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRlbDogZWwsXG5cdFx0XHRcdHN0YXJ0OiBnZXRFbGVtZW50U3R5bGVzKCB0aGlzIClcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHQvLyBhcHBseSBjbGFzcyBjaGFuZ2Vcblx0XHRhcHBseUNsYXNzQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkLmVhY2goIGNsYXNzQW5pbWF0aW9uQWN0aW9ucywgZnVuY3Rpb24oaSwgYWN0aW9uKSB7XG5cdFx0XHRcdGlmICggdmFsdWVbIGFjdGlvbiBdICkge1xuXHRcdFx0XHRcdGFuaW1hdGVkWyBhY3Rpb24gKyBcIkNsYXNzXCIgXSggdmFsdWVbIGFjdGlvbiBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0YXBwbHlDbGFzc0NoYW5nZSgpO1xuXG5cdFx0Ly8gbWFwIGFsbCBhbmltYXRlZCBvYmplY3RzIGFnYWluIC0gY2FsY3VsYXRlIG5ldyBzdHlsZXMgYW5kIGRpZmZcblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmVuZCA9IGdldEVsZW1lbnRTdHlsZXMoIHRoaXMuZWxbIDAgXSApO1xuXHRcdFx0dGhpcy5kaWZmID0gc3R5bGVEaWZmZXJlbmNlKCB0aGlzLnN0YXJ0LCB0aGlzLmVuZCApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSk7XG5cblx0XHQvLyBhcHBseSBvcmlnaW5hbCBjbGFzc1xuXHRcdGFuaW1hdGVkLmF0dHIoIFwiY2xhc3NcIiwgYmFzZUNsYXNzICk7XG5cblx0XHQvLyBtYXAgYWxsIGFuaW1hdGVkIG9iamVjdHMgYWdhaW4gLSB0aGlzIHRpbWUgY29sbGVjdGluZyBhIHByb21pc2Vcblx0XHRhbGxBbmltYXRpb25zID0gYWxsQW5pbWF0aW9ucy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc3R5bGVJbmZvID0gdGhpcyxcblx0XHRcdFx0ZGZkID0gJC5EZWZlcnJlZCgpLFxuXHRcdFx0XHRvcHRzID0gJC5leHRlbmQoe30sIG8sIHtcblx0XHRcdFx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0XHRcdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZGZkLnJlc29sdmUoIHN0eWxlSW5mbyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZWwuYW5pbWF0ZSggdGhpcy5kaWZmLCBvcHRzICk7XG5cdFx0XHRyZXR1cm4gZGZkLnByb21pc2UoKTtcblx0XHR9KTtcblxuXHRcdC8vIG9uY2UgYWxsIGFuaW1hdGlvbnMgaGF2ZSBjb21wbGV0ZWQ6XG5cdFx0JC53aGVuLmFwcGx5KCAkLCBhbGxBbmltYXRpb25zLmdldCgpICkuZG9uZShmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gc2V0IHRoZSBmaW5hbCBjbGFzc1xuXHRcdFx0YXBwbHlDbGFzc0NoYW5nZSgpO1xuXG5cdFx0XHQvLyBmb3IgZWFjaCBhbmltYXRlZCBlbGVtZW50LFxuXHRcdFx0Ly8gY2xlYXIgYWxsIGNzcyBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBhbmltYXRlZFxuXHRcdFx0JC5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWwgPSB0aGlzLmVsO1xuXHRcdFx0XHQkLmVhY2goIHRoaXMuZGlmZiwgZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdFx0ZWwuY3NzKCBrZXksIFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gdGhpcyBpcyBndWFybnRlZWQgdG8gYmUgdGhlcmUgaWYgeW91IHVzZSBqUXVlcnkuc3BlZWQoKVxuXHRcdFx0Ly8gaXQgYWxzbyBoYW5kbGVzIGRlcXVldWluZyB0aGUgbmV4dCBhbmltLi4uXG5cdFx0XHRvLmNvbXBsZXRlLmNhbGwoIGFuaW1hdGVkWyAwIF0gKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG4kLmZuLmV4dGVuZCh7XG5cdGFkZENsYXNzOiAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBjbGFzc05hbWVzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdHJldHVybiBzcGVlZCA/XG5cdFx0XHRcdCQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IGFkZDogY2xhc3NOYW1lcyB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIDpcblx0XHRcdFx0b3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblx0fSkoICQuZm4uYWRkQ2xhc3MgKSxcblxuXHRyZW1vdmVDbGFzczogKGZ1bmN0aW9uKCBvcmlnICkge1xuXHRcdHJldHVybiBmdW5jdGlvbiggY2xhc3NOYW1lcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgP1xuXHRcdFx0XHQkLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwoIHRoaXMsXG5cdFx0XHRcdFx0eyByZW1vdmU6IGNsYXNzTmFtZXMgfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSA6XG5cdFx0XHRcdG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cdH0pKCAkLmZuLnJlbW92ZUNsYXNzICksXG5cblx0dG9nZ2xlQ2xhc3M6IChmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGNsYXNzTmFtZXMsIGZvcmNlLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRcdGlmICggdHlwZW9mIGZvcmNlID09PSBcImJvb2xlYW5cIiB8fCBmb3JjZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRpZiAoICFzcGVlZCApIHtcblx0XHRcdFx0XHQvLyB3aXRob3V0IHNwZWVkIHBhcmFtZXRlclxuXHRcdFx0XHRcdHJldHVybiBvcmlnLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gJC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLFxuXHRcdFx0XHRcdFx0KGZvcmNlID8geyBhZGQ6IGNsYXNzTmFtZXMgfSA6IHsgcmVtb3ZlOiBjbGFzc05hbWVzIH0pLFxuXHRcdFx0XHRcdFx0c3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gd2l0aG91dCBmb3JjZSBwYXJhbWV0ZXJcblx0XHRcdFx0cmV0dXJuICQuZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCggdGhpcyxcblx0XHRcdFx0XHR7IHRvZ2dsZTogY2xhc3NOYW1lcyB9LCBmb3JjZSwgc3BlZWQsIGVhc2luZyApO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pKCAkLmZuLnRvZ2dsZUNsYXNzICksXG5cblx0c3dpdGNoQ2xhc3M6IGZ1bmN0aW9uKCByZW1vdmUsIGFkZCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2spIHtcblx0XHRyZXR1cm4gJC5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKCB0aGlzLCB7XG5cdFx0XHRhZGQ6IGFkZCxcblx0XHRcdHJlbW92ZTogcmVtb3ZlXG5cdFx0fSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fVxufSk7XG5cbn0pKCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRUZGRUNUUyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuKGZ1bmN0aW9uKCkge1xuXG4kLmV4dGVuZCggJC5lZmZlY3RzLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cblx0Ly8gU2F2ZXMgYSBzZXQgb2YgcHJvcGVydGllcyBpbiBhIGRhdGEgc3RvcmFnZVxuXHRzYXZlOiBmdW5jdGlvbiggZWxlbWVudCwgc2V0ICkge1xuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGlmICggc2V0WyBpIF0gIT09IG51bGwgKSB7XG5cdFx0XHRcdGVsZW1lbnQuZGF0YSggZGF0YVNwYWNlICsgc2V0WyBpIF0sIGVsZW1lbnRbIDAgXS5zdHlsZVsgc2V0WyBpIF0gXSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBSZXN0b3JlcyBhIHNldCBvZiBwcmV2aW91c2x5IHNhdmVkIHByb3BlcnRpZXMgZnJvbSBhIGRhdGEgc3RvcmFnZVxuXHRyZXN0b3JlOiBmdW5jdGlvbiggZWxlbWVudCwgc2V0ICkge1xuXHRcdHZhciB2YWwsIGk7XG5cdFx0Zm9yICggaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRpZiAoIHNldFsgaSBdICE9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBlbGVtZW50LmRhdGEoIGRhdGFTcGFjZSArIHNldFsgaSBdICk7XG5cdFx0XHRcdC8vIHN1cHBvcnQ6IGpRdWVyeSAxLjYuMlxuXHRcdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC85OTE3XG5cdFx0XHRcdC8vIGpRdWVyeSAxLjYuMiBpbmNvcnJlY3RseSByZXR1cm5zIHVuZGVmaW5lZCBmb3IgYW55IGZhbHN5IHZhbHVlLlxuXHRcdFx0XHQvLyBXZSBjYW4ndCBkaWZmZXJlbnRpYXRlIGJldHdlZW4gXCJcIiBhbmQgMCBoZXJlLCBzbyB3ZSBqdXN0IGFzc3VtZVxuXHRcdFx0XHQvLyBlbXB0eSBzdHJpbmcgc2luY2UgaXQncyBsaWtlbHkgdG8gYmUgYSBtb3JlIGNvbW1vbiB2YWx1ZS4uLlxuXHRcdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHZhbCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxlbWVudC5jc3MoIHNldFsgaSBdLCB2YWwgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0c2V0TW9kZTogZnVuY3Rpb24oIGVsLCBtb2RlICkge1xuXHRcdGlmIChtb2RlID09PSBcInRvZ2dsZVwiKSB7XG5cdFx0XHRtb2RlID0gZWwuaXMoIFwiOmhpZGRlblwiICkgPyBcInNob3dcIiA6IFwiaGlkZVwiO1xuXHRcdH1cblx0XHRyZXR1cm4gbW9kZTtcblx0fSxcblxuXHQvLyBUcmFuc2xhdGVzIGEgW3RvcCxsZWZ0XSBhcnJheSBpbnRvIGEgYmFzZWxpbmUgdmFsdWVcblx0Ly8gdGhpcyBzaG91bGQgYmUgYSBsaXR0bGUgbW9yZSBmbGV4aWJsZSBpbiB0aGUgZnV0dXJlIHRvIGhhbmRsZSBhIHN0cmluZyAmIGhhc2hcblx0Z2V0QmFzZWxpbmU6IGZ1bmN0aW9uKCBvcmlnaW4sIG9yaWdpbmFsICkge1xuXHRcdHZhciB5LCB4O1xuXHRcdHN3aXRjaCAoIG9yaWdpblsgMCBdICkge1xuXHRcdFx0Y2FzZSBcInRvcFwiOiB5ID0gMDsgYnJlYWs7XG5cdFx0XHRjYXNlIFwibWlkZGxlXCI6IHkgPSAwLjU7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImJvdHRvbVwiOiB5ID0gMTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB5ID0gb3JpZ2luWyAwIF0gLyBvcmlnaW5hbC5oZWlnaHQ7XG5cdFx0fVxuXHRcdHN3aXRjaCAoIG9yaWdpblsgMSBdICkge1xuXHRcdFx0Y2FzZSBcImxlZnRcIjogeCA9IDA7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcImNlbnRlclwiOiB4ID0gMC41OyBicmVhaztcblx0XHRcdGNhc2UgXCJyaWdodFwiOiB4ID0gMTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiB4ID0gb3JpZ2luWyAxIF0gLyBvcmlnaW5hbC53aWR0aDtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IHgsXG5cdFx0XHR5OiB5XG5cdFx0fTtcblx0fSxcblxuXHQvLyBXcmFwcyB0aGUgZWxlbWVudCBhcm91bmQgYSB3cmFwcGVyIHRoYXQgY29waWVzIHBvc2l0aW9uIHByb3BlcnRpZXNcblx0Y3JlYXRlV3JhcHBlcjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cblx0XHQvLyBpZiB0aGUgZWxlbWVudCBpcyBhbHJlYWR5IHdyYXBwZWQsIHJldHVybiBpdFxuXHRcdGlmICggZWxlbWVudC5wYXJlbnQoKS5pcyggXCIudWktZWZmZWN0cy13cmFwcGVyXCIgKSkge1xuXHRcdFx0cmV0dXJuIGVsZW1lbnQucGFyZW50KCk7XG5cdFx0fVxuXG5cdFx0Ly8gd3JhcCB0aGUgZWxlbWVudFxuXHRcdHZhciBwcm9wcyA9IHtcblx0XHRcdFx0d2lkdGg6IGVsZW1lbnQub3V0ZXJXaWR0aCh0cnVlKSxcblx0XHRcdFx0aGVpZ2h0OiBlbGVtZW50Lm91dGVySGVpZ2h0KHRydWUpLFxuXHRcdFx0XHRcImZsb2F0XCI6IGVsZW1lbnQuY3NzKCBcImZsb2F0XCIgKVxuXHRcdFx0fSxcblx0XHRcdHdyYXBwZXIgPSAkKCBcIjxkaXY+PC9kaXY+XCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZWZmZWN0cy13cmFwcGVyXCIgKVxuXHRcdFx0XHQuY3NzKHtcblx0XHRcdFx0XHRmb250U2l6ZTogXCIxMDAlXCIsXG5cdFx0XHRcdFx0YmFja2dyb3VuZDogXCJ0cmFuc3BhcmVudFwiLFxuXHRcdFx0XHRcdGJvcmRlcjogXCJub25lXCIsXG5cdFx0XHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0XHRcdHBhZGRpbmc6IDBcblx0XHRcdFx0fSksXG5cdFx0XHQvLyBTdG9yZSB0aGUgc2l6ZSBpbiBjYXNlIHdpZHRoL2hlaWdodCBhcmUgZGVmaW5lZCBpbiAlIC0gRml4ZXMgIzUyNDVcblx0XHRcdHNpemUgPSB7XG5cdFx0XHRcdHdpZHRoOiBlbGVtZW50LndpZHRoKCksXG5cdFx0XHRcdGhlaWdodDogZWxlbWVudC5oZWlnaHQoKVxuXHRcdFx0fSxcblx0XHRcdGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cblx0XHQvLyBzdXBwb3J0OiBGaXJlZm94XG5cdFx0Ly8gRmlyZWZveCBpbmNvcnJlY3RseSBleHBvc2VzIGFub255bW91cyBjb250ZW50XG5cdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NTYxNjY0XG5cdFx0dHJ5IHtcblx0XHRcdGFjdGl2ZS5pZDtcblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdGFjdGl2ZSA9IGRvY3VtZW50LmJvZHk7XG5cdFx0fVxuXG5cdFx0ZWxlbWVudC53cmFwKCB3cmFwcGVyICk7XG5cblx0XHQvLyBGaXhlcyAjNzU5NSAtIEVsZW1lbnRzIGxvc2UgZm9jdXMgd2hlbiB3cmFwcGVkLlxuXHRcdGlmICggZWxlbWVudFsgMCBdID09PSBhY3RpdmUgfHwgJC5jb250YWlucyggZWxlbWVudFsgMCBdLCBhY3RpdmUgKSApIHtcblx0XHRcdCQoIGFjdGl2ZSApLmZvY3VzKCk7XG5cdFx0fVxuXG5cdFx0d3JhcHBlciA9IGVsZW1lbnQucGFyZW50KCk7IC8vSG90Zml4IGZvciBqUXVlcnkgMS40IHNpbmNlIHNvbWUgY2hhbmdlIGluIHdyYXAoKSBzZWVtcyB0byBhY3R1YWxseSBsb3NlIHRoZSByZWZlcmVuY2UgdG8gdGhlIHdyYXBwZWQgZWxlbWVudFxuXG5cdFx0Ly8gdHJhbnNmZXIgcG9zaXRpb25pbmcgcHJvcGVydGllcyB0byB0aGUgd3JhcHBlclxuXHRcdGlmICggZWxlbWVudC5jc3MoIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0d3JhcHBlci5jc3MoeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0pO1xuXHRcdFx0ZWxlbWVudC5jc3MoeyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkLmV4dGVuZCggcHJvcHMsIHtcblx0XHRcdFx0cG9zaXRpb246IGVsZW1lbnQuY3NzKCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdFx0ekluZGV4OiBlbGVtZW50LmNzcyggXCJ6LWluZGV4XCIgKVxuXHRcdFx0fSk7XG5cdFx0XHQkLmVhY2goWyBcInRvcFwiLCBcImxlZnRcIiwgXCJib3R0b21cIiwgXCJyaWdodFwiIF0sIGZ1bmN0aW9uKGksIHBvcykge1xuXHRcdFx0XHRwcm9wc1sgcG9zIF0gPSBlbGVtZW50LmNzcyggcG9zICk7XG5cdFx0XHRcdGlmICggaXNOYU4oIHBhcnNlSW50KCBwcm9wc1sgcG9zIF0sIDEwICkgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgcG9zIF0gPSBcImF1dG9cIjtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRlbGVtZW50LmNzcyh7XG5cdFx0XHRcdHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG5cdFx0XHRcdHRvcDogMCxcblx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0cmlnaHQ6IFwiYXV0b1wiLFxuXHRcdFx0XHRib3R0b206IFwiYXV0b1wiXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0ZWxlbWVudC5jc3Moc2l6ZSk7XG5cblx0XHRyZXR1cm4gd3JhcHBlci5jc3MoIHByb3BzICkuc2hvdygpO1xuXHR9LFxuXG5cdHJlbW92ZVdyYXBwZXI6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBhY3RpdmUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG5cdFx0aWYgKCBlbGVtZW50LnBhcmVudCgpLmlzKCBcIi51aS1lZmZlY3RzLXdyYXBwZXJcIiApICkge1xuXHRcdFx0ZWxlbWVudC5wYXJlbnQoKS5yZXBsYWNlV2l0aCggZWxlbWVudCApO1xuXG5cdFx0XHQvLyBGaXhlcyAjNzU5NSAtIEVsZW1lbnRzIGxvc2UgZm9jdXMgd2hlbiB3cmFwcGVkLlxuXHRcdFx0aWYgKCBlbGVtZW50WyAwIF0gPT09IGFjdGl2ZSB8fCAkLmNvbnRhaW5zKCBlbGVtZW50WyAwIF0sIGFjdGl2ZSApICkge1xuXHRcdFx0XHQkKCBhY3RpdmUgKS5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtZW50O1xuXHR9LFxuXG5cdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKCBlbGVtZW50LCBsaXN0LCBmYWN0b3IsIHZhbHVlICkge1xuXHRcdHZhbHVlID0gdmFsdWUgfHwge307XG5cdFx0JC5lYWNoKCBsaXN0LCBmdW5jdGlvbiggaSwgeCApIHtcblx0XHRcdHZhciB1bml0ID0gZWxlbWVudC5jc3NVbml0KCB4ICk7XG5cdFx0XHRpZiAoIHVuaXRbIDAgXSA+IDAgKSB7XG5cdFx0XHRcdHZhbHVlWyB4IF0gPSB1bml0WyAwIF0gKiBmYWN0b3IgKyB1bml0WyAxIF07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG59KTtcblxuLy8gcmV0dXJuIGFuIGVmZmVjdCBvcHRpb25zIG9iamVjdCBmb3IgdGhlIGdpdmVuIHBhcmFtZXRlcnM6XG5mdW5jdGlvbiBfbm9ybWFsaXplQXJndW1lbnRzKCBlZmZlY3QsIG9wdGlvbnMsIHNwZWVkLCBjYWxsYmFjayApIHtcblxuXHQvLyBhbGxvdyBwYXNzaW5nIGFsbCBvcHRpb25zIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcblx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIGVmZmVjdCApICkge1xuXHRcdG9wdGlvbnMgPSBlZmZlY3Q7XG5cdFx0ZWZmZWN0ID0gZWZmZWN0LmVmZmVjdDtcblx0fVxuXG5cdC8vIGNvbnZlcnQgdG8gYW4gb2JqZWN0XG5cdGVmZmVjdCA9IHsgZWZmZWN0OiBlZmZlY3QgfTtcblxuXHQvLyBjYXRjaCAoZWZmZWN0LCBudWxsLCAuLi4pXG5cdGlmICggb3B0aW9ucyA9PSBudWxsICkge1xuXHRcdG9wdGlvbnMgPSB7fTtcblx0fVxuXG5cdC8vIGNhdGNoIChlZmZlY3QsIGNhbGxiYWNrKVxuXHRpZiAoICQuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXHRcdGNhbGxiYWNrID0gb3B0aW9ucztcblx0XHRzcGVlZCA9IG51bGw7XG5cdFx0b3B0aW9ucyA9IHt9O1xuXHR9XG5cblx0Ly8gY2F0Y2ggKGVmZmVjdCwgc3BlZWQsID8pXG5cdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIgfHwgJC5meC5zcGVlZHNbIG9wdGlvbnMgXSApIHtcblx0XHRjYWxsYmFjayA9IHNwZWVkO1xuXHRcdHNwZWVkID0gb3B0aW9ucztcblx0XHRvcHRpb25zID0ge307XG5cdH1cblxuXHQvLyBjYXRjaCAoZWZmZWN0LCBvcHRpb25zLCBjYWxsYmFjaylcblx0aWYgKCAkLmlzRnVuY3Rpb24oIHNwZWVkICkgKSB7XG5cdFx0Y2FsbGJhY2sgPSBzcGVlZDtcblx0XHRzcGVlZCA9IG51bGw7XG5cdH1cblxuXHQvLyBhZGQgb3B0aW9ucyB0byBlZmZlY3Rcblx0aWYgKCBvcHRpb25zICkge1xuXHRcdCQuZXh0ZW5kKCBlZmZlY3QsIG9wdGlvbnMgKTtcblx0fVxuXG5cdHNwZWVkID0gc3BlZWQgfHwgb3B0aW9ucy5kdXJhdGlvbjtcblx0ZWZmZWN0LmR1cmF0aW9uID0gJC5meC5vZmYgPyAwIDpcblx0XHR0eXBlb2Ygc3BlZWQgPT09IFwibnVtYmVyXCIgPyBzcGVlZCA6XG5cdFx0c3BlZWQgaW4gJC5meC5zcGVlZHMgPyAkLmZ4LnNwZWVkc1sgc3BlZWQgXSA6XG5cdFx0JC5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0ZWZmZWN0LmNvbXBsZXRlID0gY2FsbGJhY2sgfHwgb3B0aW9ucy5jb21wbGV0ZTtcblxuXHRyZXR1cm4gZWZmZWN0O1xufVxuXG5mdW5jdGlvbiBzdGFuZGFyZEFuaW1hdGlvbk9wdGlvbiggb3B0aW9uICkge1xuXHQvLyBWYWxpZCBzdGFuZGFyZCBzcGVlZHMgKG5vdGhpbmcsIG51bWJlciwgbmFtZWQgc3BlZWQpXG5cdGlmICggIW9wdGlvbiB8fCB0eXBlb2Ygb3B0aW9uID09PSBcIm51bWJlclwiIHx8ICQuZnguc3BlZWRzWyBvcHRpb24gXSApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludmFsaWQgc3RyaW5ncyAtIHRyZWF0IGFzIFwibm9ybWFsXCIgc3BlZWRcblx0aWYgKCB0eXBlb2Ygb3B0aW9uID09PSBcInN0cmluZ1wiICYmICEkLmVmZmVjdHMuZWZmZWN0WyBvcHRpb24gXSApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIENvbXBsZXRlIGNhbGxiYWNrXG5cdGlmICggJC5pc0Z1bmN0aW9uKCBvcHRpb24gKSApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIE9wdGlvbnMgaGFzaCAoYnV0IG5vdCBuYW1pbmcgYW4gZWZmZWN0KVxuXHRpZiAoIHR5cGVvZiBvcHRpb24gPT09IFwib2JqZWN0XCIgJiYgIW9wdGlvbi5lZmZlY3QgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBEaWRuJ3QgbWF0Y2ggYW55IHN0YW5kYXJkIEFQSVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbiQuZm4uZXh0ZW5kKHtcblx0ZWZmZWN0OiBmdW5jdGlvbiggLyogZWZmZWN0LCBvcHRpb25zLCBzcGVlZCwgY2FsbGJhY2sgKi8gKSB7XG5cdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSxcblx0XHRcdG1vZGUgPSBhcmdzLm1vZGUsXG5cdFx0XHRxdWV1ZSA9IGFyZ3MucXVldWUsXG5cdFx0XHRlZmZlY3RNZXRob2QgPSAkLmVmZmVjdHMuZWZmZWN0WyBhcmdzLmVmZmVjdCBdO1xuXG5cdFx0aWYgKCAkLmZ4Lm9mZiB8fCAhZWZmZWN0TWV0aG9kICkge1xuXHRcdFx0Ly8gZGVsZWdhdGUgdG8gdGhlIG9yaWdpbmFsIG1ldGhvZCAoZS5nLiwgLnNob3coKSkgaWYgcG9zc2libGVcblx0XHRcdGlmICggbW9kZSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXNbIG1vZGUgXSggYXJncy5kdXJhdGlvbiwgYXJncy5jb21wbGV0ZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCBhcmdzLmNvbXBsZXRlICkge1xuXHRcdFx0XHRcdFx0YXJncy5jb21wbGV0ZS5jYWxsKCB0aGlzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBydW4oIG5leHQgKSB7XG5cdFx0XHR2YXIgZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRcdFx0Y29tcGxldGUgPSBhcmdzLmNvbXBsZXRlLFxuXHRcdFx0XHRtb2RlID0gYXJncy5tb2RlO1xuXG5cdFx0XHRmdW5jdGlvbiBkb25lKCkge1xuXHRcdFx0XHRpZiAoICQuaXNGdW5jdGlvbiggY29tcGxldGUgKSApIHtcblx0XHRcdFx0XHRjb21wbGV0ZS5jYWxsKCBlbGVtWzBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAkLmlzRnVuY3Rpb24oIG5leHQgKSApIHtcblx0XHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBoYXMgdGhlIGNvcnJlY3QgZmluYWwgc3RhdGUsIGRlbGVnYXRlIHRvXG5cdFx0XHQvLyB0aGUgY29yZSBtZXRob2RzIHNvIHRoZSBpbnRlcm5hbCB0cmFja2luZyBvZiBcIm9sZGRpc3BsYXlcIiB3b3Jrcy5cblx0XHRcdGlmICggZWxlbS5pcyggXCI6aGlkZGVuXCIgKSA/IG1vZGUgPT09IFwiaGlkZVwiIDogbW9kZSA9PT0gXCJzaG93XCIgKSB7XG5cdFx0XHRcdGVsZW1bIG1vZGUgXSgpO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlZmZlY3RNZXRob2QuY2FsbCggZWxlbVswXSwgYXJncywgZG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBxdWV1ZSA9PT0gZmFsc2UgPyB0aGlzLmVhY2goIHJ1biApIDogdGhpcy5xdWV1ZSggcXVldWUgfHwgXCJmeFwiLCBydW4gKTtcblx0fSxcblxuXHRzaG93OiAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJzaG93XCI7XG5cdFx0XHRcdHJldHVybiB0aGlzLmVmZmVjdC5jYWxsKCB0aGlzLCBhcmdzICk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSkoICQuZm4uc2hvdyApLFxuXG5cdGhpZGU6IChmdW5jdGlvbiggb3JpZyApIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIG9wdGlvbiApIHtcblx0XHRcdGlmICggc3RhbmRhcmRBbmltYXRpb25PcHRpb24oIG9wdGlvbiApICkge1xuXHRcdFx0XHRyZXR1cm4gb3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYXJncyA9IF9ub3JtYWxpemVBcmd1bWVudHMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRhcmdzLm1vZGUgPSBcImhpZGVcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWZmZWN0LmNhbGwoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KSggJC5mbi5oaWRlICksXG5cblx0dG9nZ2xlOiAoZnVuY3Rpb24oIG9yaWcgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBvcHRpb24gKSB7XG5cdFx0XHRpZiAoIHN0YW5kYXJkQW5pbWF0aW9uT3B0aW9uKCBvcHRpb24gKSB8fCB0eXBlb2Ygb3B0aW9uID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0cmV0dXJuIG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBfbm9ybWFsaXplQXJndW1lbnRzLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0YXJncy5tb2RlID0gXCJ0b2dnbGVcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZWZmZWN0LmNhbGwoIHRoaXMsIGFyZ3MgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KSggJC5mbi50b2dnbGUgKSxcblxuXHQvLyBoZWxwZXIgZnVuY3Rpb25zXG5cdGNzc1VuaXQ6IGZ1bmN0aW9uKGtleSkge1xuXHRcdHZhciBzdHlsZSA9IHRoaXMuY3NzKCBrZXkgKSxcblx0XHRcdHZhbCA9IFtdO1xuXG5cdFx0JC5lYWNoKCBbIFwiZW1cIiwgXCJweFwiLCBcIiVcIiwgXCJwdFwiIF0sIGZ1bmN0aW9uKCBpLCB1bml0ICkge1xuXHRcdFx0aWYgKCBzdHlsZS5pbmRleE9mKCB1bml0ICkgPiAwICkge1xuXHRcdFx0XHR2YWwgPSBbIHBhcnNlRmxvYXQoIHN0eWxlICksIHVuaXQgXTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gdmFsO1xuXHR9XG59KTtcblxufSkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFQVNJTkcgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4oZnVuY3Rpb24oKSB7XG5cbi8vIGJhc2VkIG9uIGVhc2luZyBlcXVhdGlvbnMgZnJvbSBSb2JlcnQgUGVubmVyIChodHRwOi8vd3d3LnJvYmVydHBlbm5lci5jb20vZWFzaW5nKVxuXG52YXIgYmFzZUVhc2luZ3MgPSB7fTtcblxuJC5lYWNoKCBbIFwiUXVhZFwiLCBcIkN1YmljXCIsIFwiUXVhcnRcIiwgXCJRdWludFwiLCBcIkV4cG9cIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0YmFzZUVhc2luZ3NbIG5hbWUgXSA9IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBNYXRoLnBvdyggcCwgaSArIDIgKTtcblx0fTtcbn0pO1xuXG4kLmV4dGVuZCggYmFzZUVhc2luZ3MsIHtcblx0U2luZTogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDEgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgLyAyICk7XG5cdH0sXG5cdENpcmM6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAxIC0gTWF0aC5zcXJ0KCAxIC0gcCAqIHAgKTtcblx0fSxcblx0RWxhc3RpYzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgPT09IDAgfHwgcCA9PT0gMSA/IHAgOlxuXHRcdFx0LU1hdGgucG93KCAyLCA4ICogKHAgLSAxKSApICogTWF0aC5zaW4oICggKHAgLSAxKSAqIDgwIC0gNy41ICkgKiBNYXRoLlBJIC8gMTUgKTtcblx0fSxcblx0QmFjazogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHAgKiBwICogKCAzICogcCAtIDIgKTtcblx0fSxcblx0Qm91bmNlOiBmdW5jdGlvbiggcCApIHtcblx0XHR2YXIgcG93Mixcblx0XHRcdGJvdW5jZSA9IDQ7XG5cblx0XHR3aGlsZSAoIHAgPCAoICggcG93MiA9IE1hdGgucG93KCAyLCAtLWJvdW5jZSApICkgLSAxICkgLyAxMSApIHt9XG5cdFx0cmV0dXJuIDEgLyBNYXRoLnBvdyggNCwgMyAtIGJvdW5jZSApIC0gNy41NjI1ICogTWF0aC5wb3coICggcG93MiAqIDMgLSAyICkgLyAyMiAtIHAsIDIgKTtcblx0fVxufSk7XG5cbiQuZWFjaCggYmFzZUVhc2luZ3MsIGZ1bmN0aW9uKCBuYW1lLCBlYXNlSW4gKSB7XG5cdCQuZWFzaW5nWyBcImVhc2VJblwiICsgbmFtZSBdID0gZWFzZUluO1xuXHQkLmVhc2luZ1sgXCJlYXNlT3V0XCIgKyBuYW1lIF0gPSBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMSAtIGVhc2VJbiggMSAtIHAgKTtcblx0fTtcblx0JC5lYXNpbmdbIFwiZWFzZUluT3V0XCIgKyBuYW1lIF0gPSBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcCA8IDAuNSA/XG5cdFx0XHRlYXNlSW4oIHAgKiAyICkgLyAyIDpcblx0XHRcdDEgLSBlYXNlSW4oIHAgKiAtMiArIDIgKSAvIDI7XG5cdH07XG59KTtcblxufSkoKTtcblxudmFyIGVmZmVjdCA9ICQuZWZmZWN0cztcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEJsaW5kIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYmxpbmQtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdEJsaW5kID0gJC5lZmZlY3RzLmVmZmVjdC5ibGluZCA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXHQvLyBDcmVhdGUgZWxlbWVudFxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0cnZlcnRpY2FsID0gL3VwfGRvd258dmVydGljYWwvLFxuXHRcdHJwb3NpdGl2ZW1vdGlvbiA9IC91cHxsZWZ0fHZlcnRpY2FsfGhvcml6b250YWwvLFxuXHRcdHByb3BzID0gWyBcInBvc2l0aW9uXCIsIFwidG9wXCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLFxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcImhpZGVcIiApLFxuXHRcdGRpcmVjdGlvbiA9IG8uZGlyZWN0aW9uIHx8IFwidXBcIixcblx0XHR2ZXJ0aWNhbCA9IHJ2ZXJ0aWNhbC50ZXN0KCBkaXJlY3Rpb24gKSxcblx0XHRyZWYgPSB2ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCIsXG5cdFx0cmVmMiA9IHZlcnRpY2FsID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdG1vdGlvbiA9IHJwb3NpdGl2ZW1vdGlvbi50ZXN0KCBkaXJlY3Rpb24gKSxcblx0XHRhbmltYXRpb24gPSB7fSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0d3JhcHBlciwgZGlzdGFuY2UsIG1hcmdpbjtcblxuXHQvLyBpZiBhbHJlYWR5IHdyYXBwZWQsIHRoZSB3cmFwcGVyJ3MgcHJvcGVydGllcyBhcmUgbXkgcHJvcGVydHkuICM2MjQ1XG5cdGlmICggZWwucGFyZW50KCkuaXMoIFwiLnVpLWVmZmVjdHMtd3JhcHBlclwiICkgKSB7XG5cdFx0JC5lZmZlY3RzLnNhdmUoIGVsLnBhcmVudCgpLCBwcm9wcyApO1xuXHR9IGVsc2Uge1xuXHRcdCQuZWZmZWN0cy5zYXZlKCBlbCwgcHJvcHMgKTtcblx0fVxuXHRlbC5zaG93KCk7XG5cdHdyYXBwZXIgPSAkLmVmZmVjdHMuY3JlYXRlV3JhcHBlciggZWwgKS5jc3Moe1xuXHRcdG92ZXJmbG93OiBcImhpZGRlblwiXG5cdH0pO1xuXG5cdGRpc3RhbmNlID0gd3JhcHBlclsgcmVmIF0oKTtcblx0bWFyZ2luID0gcGFyc2VGbG9hdCggd3JhcHBlci5jc3MoIHJlZjIgKSApIHx8IDA7XG5cblx0YW5pbWF0aW9uWyByZWYgXSA9IHNob3cgPyBkaXN0YW5jZSA6IDA7XG5cdGlmICggIW1vdGlvbiApIHtcblx0XHRlbFxuXHRcdFx0LmNzcyggdmVydGljYWwgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiLCAwIClcblx0XHRcdC5jc3MoIHZlcnRpY2FsID8gXCJ0b3BcIiA6IFwibGVmdFwiLCBcImF1dG9cIiApXG5cdFx0XHQuY3NzKHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiB9KTtcblxuXHRcdGFuaW1hdGlvblsgcmVmMiBdID0gc2hvdyA/IG1hcmdpbiA6IGRpc3RhbmNlICsgbWFyZ2luO1xuXHR9XG5cblx0Ly8gc3RhcnQgYXQgMCBpZiB3ZSBhcmUgc2hvd2luZ1xuXHRpZiAoIHNob3cgKSB7XG5cdFx0d3JhcHBlci5jc3MoIHJlZiwgMCApO1xuXHRcdGlmICggIW1vdGlvbiApIHtcblx0XHRcdHdyYXBwZXIuY3NzKCByZWYyLCBtYXJnaW4gKyBkaXN0YW5jZSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0d3JhcHBlci5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRkdXJhdGlvbjogby5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG8uZWFzaW5nLFxuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIG1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdFx0XHRlbC5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWwsIHByb3BzICk7XG5cdFx0XHQkLmVmZmVjdHMucmVtb3ZlV3JhcHBlciggZWwgKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9XG5cdH0pO1xufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIEJvdW5jZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2JvdW5jZS1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0Qm91bmNlID0gJC5lZmZlY3RzLmVmZmVjdC5ib3VuY2UgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdHByb3BzID0gWyBcInBvc2l0aW9uXCIsIFwidG9wXCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLFxuXG5cdFx0Ly8gZGVmYXVsdHM6XG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwiZWZmZWN0XCIgKSxcblx0XHRoaWRlID0gbW9kZSA9PT0gXCJoaWRlXCIsXG5cdFx0c2hvdyA9IG1vZGUgPT09IFwic2hvd1wiLFxuXHRcdGRpcmVjdGlvbiA9IG8uZGlyZWN0aW9uIHx8IFwidXBcIixcblx0XHRkaXN0YW5jZSA9IG8uZGlzdGFuY2UsXG5cdFx0dGltZXMgPSBvLnRpbWVzIHx8IDUsXG5cblx0XHQvLyBudW1iZXIgb2YgaW50ZXJuYWwgYW5pbWF0aW9uc1xuXHRcdGFuaW1zID0gdGltZXMgKiAyICsgKCBzaG93IHx8IGhpZGUgPyAxIDogMCApLFxuXHRcdHNwZWVkID0gby5kdXJhdGlvbiAvIGFuaW1zLFxuXHRcdGVhc2luZyA9IG8uZWFzaW5nLFxuXG5cdFx0Ly8gdXRpbGl0eTpcblx0XHRyZWYgPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRtb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSxcblx0XHRpLFxuXHRcdHVwQW5pbSxcblx0XHRkb3duQW5pbSxcblxuXHRcdC8vIHdlIHdpbGwgbmVlZCB0byByZS1hc3NlbWJsZSB0aGUgcXVldWUgdG8gc3RhY2sgb3VyIGFuaW1hdGlvbnMgaW4gcGxhY2Vcblx0XHRxdWV1ZSA9IGVsLnF1ZXVlKCksXG5cdFx0cXVldWVsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cblx0Ly8gQXZvaWQgdG91Y2hpbmcgb3BhY2l0eSB0byBwcmV2ZW50IGNsZWFyVHlwZSBhbmQgUE5HIGlzc3VlcyBpbiBJRVxuXHRpZiAoIHNob3cgfHwgaGlkZSApIHtcblx0XHRwcm9wcy5wdXNoKCBcIm9wYWNpdHlcIiApO1xuXHR9XG5cblx0JC5lZmZlY3RzLnNhdmUoIGVsLCBwcm9wcyApO1xuXHRlbC5zaG93KCk7XG5cdCQuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKCBlbCApOyAvLyBDcmVhdGUgV3JhcHBlclxuXG5cdC8vIGRlZmF1bHQgZGlzdGFuY2UgZm9yIHRoZSBCSUdHRVNUIGJvdW5jZSBpcyB0aGUgb3V0ZXIgRGlzdGFuY2UgLyAzXG5cdGlmICggIWRpc3RhbmNlICkge1xuXHRcdGRpc3RhbmNlID0gZWxbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oKSAvIDM7XG5cdH1cblxuXHRpZiAoIHNob3cgKSB7XG5cdFx0ZG93bkFuaW0gPSB7IG9wYWNpdHk6IDEgfTtcblx0XHRkb3duQW5pbVsgcmVmIF0gPSAwO1xuXG5cdFx0Ly8gaWYgd2UgYXJlIHNob3dpbmcsIGZvcmNlIG9wYWNpdHkgMCBhbmQgc2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uXG5cdFx0Ly8gdGhlbiBkbyB0aGUgXCJmaXJzdFwiIGFuaW1hdGlvblxuXHRcdGVsLmNzcyggXCJvcGFjaXR5XCIsIDAgKVxuXHRcdFx0LmNzcyggcmVmLCBtb3Rpb24gPyAtZGlzdGFuY2UgKiAyIDogZGlzdGFuY2UgKiAyIClcblx0XHRcdC5hbmltYXRlKCBkb3duQW5pbSwgc3BlZWQsIGVhc2luZyApO1xuXHR9XG5cblx0Ly8gc3RhcnQgYXQgdGhlIHNtYWxsZXN0IGRpc3RhbmNlIGlmIHdlIGFyZSBoaWRpbmdcblx0aWYgKCBoaWRlICkge1xuXHRcdGRpc3RhbmNlID0gZGlzdGFuY2UgLyBNYXRoLnBvdyggMiwgdGltZXMgLSAxICk7XG5cdH1cblxuXHRkb3duQW5pbSA9IHt9O1xuXHRkb3duQW5pbVsgcmVmIF0gPSAwO1xuXHQvLyBCb3VuY2VzIHVwL2Rvd24vbGVmdC9yaWdodCB0aGVuIGJhY2sgdG8gMCAtLSB0aW1lcyAqIDIgYW5pbWF0aW9ucyBoYXBwZW4gaGVyZVxuXHRmb3IgKCBpID0gMDsgaSA8IHRpbWVzOyBpKysgKSB7XG5cdFx0dXBBbmltID0ge307XG5cdFx0dXBBbmltWyByZWYgXSA9ICggbW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZTtcblxuXHRcdGVsLmFuaW1hdGUoIHVwQW5pbSwgc3BlZWQsIGVhc2luZyApXG5cdFx0XHQuYW5pbWF0ZSggZG93bkFuaW0sIHNwZWVkLCBlYXNpbmcgKTtcblxuXHRcdGRpc3RhbmNlID0gaGlkZSA/IGRpc3RhbmNlICogMiA6IGRpc3RhbmNlIC8gMjtcblx0fVxuXG5cdC8vIExhc3QgQm91bmNlIHdoZW4gSGlkaW5nXG5cdGlmICggaGlkZSApIHtcblx0XHR1cEFuaW0gPSB7IG9wYWNpdHk6IDAgfTtcblx0XHR1cEFuaW1bIHJlZiBdID0gKCBtb3Rpb24gPyBcIi09XCIgOiBcIis9XCIgKSArIGRpc3RhbmNlO1xuXG5cdFx0ZWwuYW5pbWF0ZSggdXBBbmltLCBzcGVlZCwgZWFzaW5nICk7XG5cdH1cblxuXHRlbC5xdWV1ZShmdW5jdGlvbigpIHtcblx0XHRpZiAoIGhpZGUgKSB7XG5cdFx0XHRlbC5oaWRlKCk7XG5cdFx0fVxuXHRcdCQuZWZmZWN0cy5yZXN0b3JlKCBlbCwgcHJvcHMgKTtcblx0XHQkLmVmZmVjdHMucmVtb3ZlV3JhcHBlciggZWwgKTtcblx0XHRkb25lKCk7XG5cdH0pO1xuXG5cdC8vIGluamVjdCBhbGwgdGhlIGFuaW1hdGlvbnMgd2UganVzdCBxdWV1ZWQgdG8gYmUgZmlyc3QgaW4gbGluZSAoYWZ0ZXIgXCJpbnByb2dyZXNzXCIpXG5cdGlmICggcXVldWVsZW4gPiAxKSB7XG5cdFx0cXVldWUuc3BsaWNlLmFwcGx5KCBxdWV1ZSxcblx0XHRcdFsgMSwgMCBdLmNvbmNhdCggcXVldWUuc3BsaWNlKCBxdWV1ZWxlbiwgYW5pbXMgKyAxICkgKSApO1xuXHR9XG5cdGVsLmRlcXVldWUoKTtcblxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIENsaXAgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jbGlwLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RDbGlwID0gJC5lZmZlY3RzLmVmZmVjdC5jbGlwID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRwcm9wcyA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJoaWRlXCIgKSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0ZGlyZWN0aW9uID0gby5kaXJlY3Rpb24gfHwgXCJ2ZXJ0aWNhbFwiLFxuXHRcdHZlcnQgPSBkaXJlY3Rpb24gPT09IFwidmVydGljYWxcIixcblx0XHRzaXplID0gdmVydCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCIsXG5cdFx0cG9zaXRpb24gPSB2ZXJ0ID8gXCJ0b3BcIiA6IFwibGVmdFwiLFxuXHRcdGFuaW1hdGlvbiA9IHt9LFxuXHRcdHdyYXBwZXIsIGFuaW1hdGUsIGRpc3RhbmNlO1xuXG5cdC8vIFNhdmUgJiBTaG93XG5cdCQuZWZmZWN0cy5zYXZlKCBlbCwgcHJvcHMgKTtcblx0ZWwuc2hvdygpO1xuXG5cdC8vIENyZWF0ZSBXcmFwcGVyXG5cdHdyYXBwZXIgPSAkLmVmZmVjdHMuY3JlYXRlV3JhcHBlciggZWwgKS5jc3Moe1xuXHRcdG92ZXJmbG93OiBcImhpZGRlblwiXG5cdH0pO1xuXHRhbmltYXRlID0gKCBlbFswXS50YWdOYW1lID09PSBcIklNR1wiICkgPyB3cmFwcGVyIDogZWw7XG5cdGRpc3RhbmNlID0gYW5pbWF0ZVsgc2l6ZSBdKCk7XG5cblx0Ly8gU2hpZnRcblx0aWYgKCBzaG93ICkge1xuXHRcdGFuaW1hdGUuY3NzKCBzaXplLCAwICk7XG5cdFx0YW5pbWF0ZS5jc3MoIHBvc2l0aW9uLCBkaXN0YW5jZSAvIDIgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBBbmltYXRpb24gT2JqZWN0OlxuXHRhbmltYXRpb25bIHNpemUgXSA9IHNob3cgPyBkaXN0YW5jZSA6IDA7XG5cdGFuaW1hdGlvblsgcG9zaXRpb24gXSA9IHNob3cgPyAwIDogZGlzdGFuY2UgLyAyO1xuXG5cdC8vIEFuaW1hdGVcblx0YW5pbWF0ZS5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG8uZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFzaG93ICkge1xuXHRcdFx0XHRlbC5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWwsIHByb3BzICk7XG5cdFx0XHQkLmVmZmVjdHMucmVtb3ZlV3JhcHBlciggZWwgKTtcblx0XHRcdGRvbmUoKTtcblx0XHR9XG5cdH0pO1xuXG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRHJvcCAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3AtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdERyb3AgPSAkLmVmZmVjdHMuZWZmZWN0LmRyb3AgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblxuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0cHJvcHMgPSBbIFwicG9zaXRpb25cIiwgXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJvcGFjaXR5XCIsIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLFxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcImhpZGVcIiApLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRkaXJlY3Rpb24gPSBvLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRyZWYgPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJkb3duXCIgKSA/IFwidG9wXCIgOiBcImxlZnRcIixcblx0XHRtb3Rpb24gPSAoIGRpcmVjdGlvbiA9PT0gXCJ1cFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgKSA/IFwicG9zXCIgOiBcIm5lZ1wiLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdG9wYWNpdHk6IHNob3cgPyAxIDogMFxuXHRcdH0sXG5cdFx0ZGlzdGFuY2U7XG5cblx0Ly8gQWRqdXN0XG5cdCQuZWZmZWN0cy5zYXZlKCBlbCwgcHJvcHMgKTtcblx0ZWwuc2hvdygpO1xuXHQkLmVmZmVjdHMuY3JlYXRlV3JhcHBlciggZWwgKTtcblxuXHRkaXN0YW5jZSA9IG8uZGlzdGFuY2UgfHwgZWxbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oIHRydWUgKSAvIDI7XG5cblx0aWYgKCBzaG93ICkge1xuXHRcdGVsXG5cdFx0XHQuY3NzKCBcIm9wYWNpdHlcIiwgMCApXG5cdFx0XHQuY3NzKCByZWYsIG1vdGlvbiA9PT0gXCJwb3NcIiA/IC1kaXN0YW5jZSA6IGRpc3RhbmNlICk7XG5cdH1cblxuXHQvLyBBbmltYXRpb25cblx0YW5pbWF0aW9uWyByZWYgXSA9ICggc2hvdyA/XG5cdFx0KCBtb3Rpb24gPT09IFwicG9zXCIgPyBcIis9XCIgOiBcIi09XCIgKSA6XG5cdFx0KCBtb3Rpb24gPT09IFwicG9zXCIgPyBcIi09XCIgOiBcIis9XCIgKSApICtcblx0XHRkaXN0YW5jZTtcblxuXHQvLyBBbmltYXRlXG5cdGVsLmFuaW1hdGUoIGFuaW1hdGlvbiwge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogby5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG8uZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggbW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRcdGVsLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlKCBlbCwgcHJvcHMgKTtcblx0XHRcdCQuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKCBlbCApO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH1cblx0fSk7XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgRXhwbG9kZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2V4cGxvZGUtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdEV4cGxvZGUgPSAkLmVmZmVjdHMuZWZmZWN0LmV4cGxvZGUgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblxuXHR2YXIgcm93cyA9IG8ucGllY2VzID8gTWF0aC5yb3VuZCggTWF0aC5zcXJ0KCBvLnBpZWNlcyApICkgOiAzLFxuXHRcdGNlbGxzID0gcm93cyxcblx0XHRlbCA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJoaWRlXCIgKSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cblx0XHQvLyBzaG93IGFuZCB0aGVuIHZpc2liaWxpdHk6aGlkZGVuIHRoZSBlbGVtZW50IGJlZm9yZSBjYWxjdWxhdGluZyBvZmZzZXRcblx0XHRvZmZzZXQgPSBlbC5zaG93KCkuY3NzKCBcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIiApLm9mZnNldCgpLFxuXG5cdFx0Ly8gd2lkdGggYW5kIGhlaWdodCBvZiBhIHBpZWNlXG5cdFx0d2lkdGggPSBNYXRoLmNlaWwoIGVsLm91dGVyV2lkdGgoKSAvIGNlbGxzICksXG5cdFx0aGVpZ2h0ID0gTWF0aC5jZWlsKCBlbC5vdXRlckhlaWdodCgpIC8gcm93cyApLFxuXHRcdHBpZWNlcyA9IFtdLFxuXG5cdFx0Ly8gbG9vcFxuXHRcdGksIGosIGxlZnQsIHRvcCwgbXgsIG15O1xuXG5cdC8vIGNoaWxkcmVuIGFuaW1hdGUgY29tcGxldGU6XG5cdGZ1bmN0aW9uIGNoaWxkQ29tcGxldGUoKSB7XG5cdFx0cGllY2VzLnB1c2goIHRoaXMgKTtcblx0XHRpZiAoIHBpZWNlcy5sZW5ndGggPT09IHJvd3MgKiBjZWxscyApIHtcblx0XHRcdGFuaW1Db21wbGV0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGNsb25lIHRoZSBlbGVtZW50IGZvciBlYWNoIHJvdyBhbmQgY2VsbC5cblx0Zm9yICggaSA9IDA7IGkgPCByb3dzIDsgaSsrICkgeyAvLyA9PT0+XG5cdFx0dG9wID0gb2Zmc2V0LnRvcCArIGkgKiBoZWlnaHQ7XG5cdFx0bXkgPSBpIC0gKCByb3dzIC0gMSApIC8gMiA7XG5cblx0XHRmb3IgKCBqID0gMDsgaiA8IGNlbGxzIDsgaisrICkgeyAvLyB8fHxcblx0XHRcdGxlZnQgPSBvZmZzZXQubGVmdCArIGogKiB3aWR0aDtcblx0XHRcdG14ID0gaiAtICggY2VsbHMgLSAxICkgLyAyIDtcblxuXHRcdFx0Ly8gQ3JlYXRlIGEgY2xvbmUgb2YgdGhlIG5vdyBoaWRkZW4gbWFpbiBlbGVtZW50IHRoYXQgd2lsbCBiZSBhYnNvbHV0ZSBwb3NpdGlvbmVkXG5cdFx0XHQvLyB3aXRoaW4gYSB3cmFwcGVyIGRpdiBvZmYgdGhlIC1sZWZ0IGFuZCAtdG9wIGVxdWFsIHRvIHNpemUgb2Ygb3VyIHBpZWNlc1xuXHRcdFx0ZWxcblx0XHRcdFx0LmNsb25lKClcblx0XHRcdFx0LmFwcGVuZFRvKCBcImJvZHlcIiApXG5cdFx0XHRcdC53cmFwKCBcIjxkaXY+PC9kaXY+XCIgKVxuXHRcdFx0XHQuY3NzKHtcblx0XHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHRcdHZpc2liaWxpdHk6IFwidmlzaWJsZVwiLFxuXHRcdFx0XHRcdGxlZnQ6IC1qICogd2lkdGgsXG5cdFx0XHRcdFx0dG9wOiAtaSAqIGhlaWdodFxuXHRcdFx0XHR9KVxuXG5cdFx0XHQvLyBzZWxlY3QgdGhlIHdyYXBwZXIgLSBtYWtlIGl0IG92ZXJmbG93OiBoaWRkZW4gYW5kIGFic29sdXRlIHBvc2l0aW9uZWQgYmFzZWQgb25cblx0XHRcdC8vIHdoZXJlIHRoZSBvcmlnaW5hbCB3YXMgbG9jYXRlZCArbGVmdCBhbmQgK3RvcCBlcXVhbCB0byB0aGUgc2l6ZSBvZiBwaWVjZXNcblx0XHRcdFx0LnBhcmVudCgpXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1lZmZlY3RzLWV4cGxvZGVcIiApXG5cdFx0XHRcdC5jc3Moe1xuXHRcdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdFx0b3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG5cdFx0XHRcdFx0d2lkdGg6IHdpZHRoLFxuXHRcdFx0XHRcdGhlaWdodDogaGVpZ2h0LFxuXHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAoIHNob3cgPyBteCAqIHdpZHRoIDogMCApLFxuXHRcdFx0XHRcdHRvcDogdG9wICsgKCBzaG93ID8gbXkgKiBoZWlnaHQgOiAwICksXG5cdFx0XHRcdFx0b3BhY2l0eTogc2hvdyA/IDAgOiAxXG5cdFx0XHRcdH0pLmFuaW1hdGUoe1xuXHRcdFx0XHRcdGxlZnQ6IGxlZnQgKyAoIHNob3cgPyAwIDogbXggKiB3aWR0aCApLFxuXHRcdFx0XHRcdHRvcDogdG9wICsgKCBzaG93ID8gMCA6IG15ICogaGVpZ2h0ICksXG5cdFx0XHRcdFx0b3BhY2l0eTogc2hvdyA/IDEgOiAwXG5cdFx0XHRcdH0sIG8uZHVyYXRpb24gfHwgNTAwLCBvLmVhc2luZywgY2hpbGRDb21wbGV0ZSApO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGFuaW1Db21wbGV0ZSgpIHtcblx0XHRlbC5jc3Moe1xuXHRcdFx0dmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJcblx0XHR9KTtcblx0XHQkKCBwaWVjZXMgKS5yZW1vdmUoKTtcblx0XHRpZiAoICFzaG93ICkge1xuXHRcdFx0ZWwuaGlkZSgpO1xuXHRcdH1cblx0XHRkb25lKCk7XG5cdH1cbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBGYWRlIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZmFkZS1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0RmFkZSA9ICQuZWZmZWN0cy5lZmZlY3QuZmFkZSA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXHR2YXIgZWwgPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwidG9nZ2xlXCIgKTtcblxuXHRlbC5hbmltYXRlKHtcblx0XHRvcGFjaXR5OiBtb2RlXG5cdH0sIHtcblx0XHRxdWV1ZTogZmFsc2UsXG5cdFx0ZHVyYXRpb246IG8uZHVyYXRpb24sXG5cdFx0ZWFzaW5nOiBvLmVhc2luZyxcblx0XHRjb21wbGV0ZTogZG9uZVxuXHR9KTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBGb2xkIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZm9sZC1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0Rm9sZCA9ICQuZWZmZWN0cy5lZmZlY3QuZm9sZCA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRwcm9wcyA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJoaWRlXCIgKSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNpemUgPSBvLnNpemUgfHwgMTUsXG5cdFx0cGVyY2VudCA9IC8oWzAtOV0rKSUvLmV4ZWMoIHNpemUgKSxcblx0XHRob3JpekZpcnN0ID0gISFvLmhvcml6Rmlyc3QsXG5cdFx0d2lkdGhGaXJzdCA9IHNob3cgIT09IGhvcml6Rmlyc3QsXG5cdFx0cmVmID0gd2lkdGhGaXJzdCA/IFsgXCJ3aWR0aFwiLCBcImhlaWdodFwiIF0gOiBbIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLFxuXHRcdGR1cmF0aW9uID0gby5kdXJhdGlvbiAvIDIsXG5cdFx0d3JhcHBlciwgZGlzdGFuY2UsXG5cdFx0YW5pbWF0aW9uMSA9IHt9LFxuXHRcdGFuaW1hdGlvbjIgPSB7fTtcblxuXHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdGVsLnNob3coKTtcblxuXHQvLyBDcmVhdGUgV3JhcHBlclxuXHR3cmFwcGVyID0gJC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICkuY3NzKHtcblx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIlxuXHR9KTtcblx0ZGlzdGFuY2UgPSB3aWR0aEZpcnN0ID9cblx0XHRbIHdyYXBwZXIud2lkdGgoKSwgd3JhcHBlci5oZWlnaHQoKSBdIDpcblx0XHRbIHdyYXBwZXIuaGVpZ2h0KCksIHdyYXBwZXIud2lkdGgoKSBdO1xuXG5cdGlmICggcGVyY2VudCApIHtcblx0XHRzaXplID0gcGFyc2VJbnQoIHBlcmNlbnRbIDEgXSwgMTAgKSAvIDEwMCAqIGRpc3RhbmNlWyBoaWRlID8gMCA6IDEgXTtcblx0fVxuXHRpZiAoIHNob3cgKSB7XG5cdFx0d3JhcHBlci5jc3MoIGhvcml6Rmlyc3QgPyB7XG5cdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHR3aWR0aDogc2l6ZVxuXHRcdH0gOiB7XG5cdFx0XHRoZWlnaHQ6IHNpemUsXG5cdFx0XHR3aWR0aDogMFxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQW5pbWF0aW9uXG5cdGFuaW1hdGlvbjFbIHJlZlsgMCBdIF0gPSBzaG93ID8gZGlzdGFuY2VbIDAgXSA6IHNpemU7XG5cdGFuaW1hdGlvbjJbIHJlZlsgMSBdIF0gPSBzaG93ID8gZGlzdGFuY2VbIDEgXSA6IDA7XG5cblx0Ly8gQW5pbWF0ZVxuXHR3cmFwcGVyXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIGR1cmF0aW9uLCBvLmVhc2luZyApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjIsIGR1cmF0aW9uLCBvLmVhc2luZywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGhpZGUgKSB7XG5cdFx0XHRcdGVsLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlKCBlbCwgcHJvcHMgKTtcblx0XHRcdCQuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKCBlbCApO1xuXHRcdFx0ZG9uZSgpO1xuXHRcdH0pO1xuXG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgSGlnaGxpZ2h0IDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vaGlnaGxpZ2h0LWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RIaWdobGlnaHQgPSAkLmVmZmVjdHMuZWZmZWN0LmhpZ2hsaWdodCA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXHR2YXIgZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRwcm9wcyA9IFsgXCJiYWNrZ3JvdW5kSW1hZ2VcIiwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwgXCJvcGFjaXR5XCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsZW0sIG8ubW9kZSB8fCBcInNob3dcIiApLFxuXHRcdGFuaW1hdGlvbiA9IHtcblx0XHRcdGJhY2tncm91bmRDb2xvcjogZWxlbS5jc3MoIFwiYmFja2dyb3VuZENvbG9yXCIgKVxuXHRcdH07XG5cblx0aWYgKG1vZGUgPT09IFwiaGlkZVwiKSB7XG5cdFx0YW5pbWF0aW9uLm9wYWNpdHkgPSAwO1xuXHR9XG5cblx0JC5lZmZlY3RzLnNhdmUoIGVsZW0sIHByb3BzICk7XG5cblx0ZWxlbVxuXHRcdC5zaG93KClcblx0XHQuY3NzKHtcblx0XHRcdGJhY2tncm91bmRJbWFnZTogXCJub25lXCIsXG5cdFx0XHRiYWNrZ3JvdW5kQ29sb3I6IG8uY29sb3IgfHwgXCIjZmZmZjk5XCJcblx0XHR9KVxuXHRcdC5hbmltYXRlKCBhbmltYXRpb24sIHtcblx0XHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRcdGR1cmF0aW9uOiBvLmR1cmF0aW9uLFxuXHRcdFx0ZWFzaW5nOiBvLmVhc2luZyxcblx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBtb2RlID09PSBcImhpZGVcIiApIHtcblx0XHRcdFx0XHRlbGVtLmhpZGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWxlbSwgcHJvcHMgKTtcblx0XHRcdFx0ZG9uZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNpemUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zaXplLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RTaXplID0gJC5lZmZlY3RzLmVmZmVjdC5zaXplID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIG9yaWdpbmFsLCBiYXNlbGluZSwgZmFjdG9yLFxuXHRcdGVsID0gJCggdGhpcyApLFxuXHRcdHByb3BzMCA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwib3ZlcmZsb3dcIiwgXCJvcGFjaXR5XCIgXSxcblxuXHRcdC8vIEFsd2F5cyByZXN0b3JlXG5cdFx0cHJvcHMxID0gWyBcInBvc2l0aW9uXCIsIFwidG9wXCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwib3ZlcmZsb3dcIiwgXCJvcGFjaXR5XCIgXSxcblxuXHRcdC8vIENvcHkgZm9yIGNoaWxkcmVuXG5cdFx0cHJvcHMyID0gWyBcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwib3ZlcmZsb3dcIiBdLFxuXHRcdGNQcm9wcyA9IFsgXCJmb250U2l6ZVwiIF0sXG5cdFx0dlByb3BzID0gWyBcImJvcmRlclRvcFdpZHRoXCIsIFwiYm9yZGVyQm90dG9tV2lkdGhcIiwgXCJwYWRkaW5nVG9wXCIsIFwicGFkZGluZ0JvdHRvbVwiIF0sXG5cdFx0aFByb3BzID0gWyBcImJvcmRlckxlZnRXaWR0aFwiLCBcImJvcmRlclJpZ2h0V2lkdGhcIiwgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdSaWdodFwiIF0sXG5cblx0XHQvLyBTZXQgb3B0aW9uc1xuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcImVmZmVjdFwiICksXG5cdFx0cmVzdG9yZSA9IG8ucmVzdG9yZSB8fCBtb2RlICE9PSBcImVmZmVjdFwiLFxuXHRcdHNjYWxlID0gby5zY2FsZSB8fCBcImJvdGhcIixcblx0XHRvcmlnaW4gPSBvLm9yaWdpbiB8fCBbIFwibWlkZGxlXCIsIFwiY2VudGVyXCIgXSxcblx0XHRwb3NpdGlvbiA9IGVsLmNzcyggXCJwb3NpdGlvblwiICksXG5cdFx0cHJvcHMgPSByZXN0b3JlID8gcHJvcHMwIDogcHJvcHMxLFxuXHRcdHplcm8gPSB7XG5cdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHR3aWR0aDogMCxcblx0XHRcdG91dGVySGVpZ2h0OiAwLFxuXHRcdFx0b3V0ZXJXaWR0aDogMFxuXHRcdH07XG5cblx0aWYgKCBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbC5zaG93KCk7XG5cdH1cblx0b3JpZ2luYWwgPSB7XG5cdFx0aGVpZ2h0OiBlbC5oZWlnaHQoKSxcblx0XHR3aWR0aDogZWwud2lkdGgoKSxcblx0XHRvdXRlckhlaWdodDogZWwub3V0ZXJIZWlnaHQoKSxcblx0XHRvdXRlcldpZHRoOiBlbC5vdXRlcldpZHRoKClcblx0fTtcblxuXHRpZiAoIG8ubW9kZSA9PT0gXCJ0b2dnbGVcIiAmJiBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHRlbC5mcm9tID0gby50byB8fCB6ZXJvO1xuXHRcdGVsLnRvID0gby5mcm9tIHx8IG9yaWdpbmFsO1xuXHR9IGVsc2Uge1xuXHRcdGVsLmZyb20gPSBvLmZyb20gfHwgKCBtb2RlID09PSBcInNob3dcIiA/IHplcm8gOiBvcmlnaW5hbCApO1xuXHRcdGVsLnRvID0gby50byB8fCAoIG1vZGUgPT09IFwiaGlkZVwiID8gemVybyA6IG9yaWdpbmFsICk7XG5cdH1cblxuXHQvLyBTZXQgc2NhbGluZyBmYWN0b3Jcblx0ZmFjdG9yID0ge1xuXHRcdGZyb206IHtcblx0XHRcdHk6IGVsLmZyb20uaGVpZ2h0IC8gb3JpZ2luYWwuaGVpZ2h0LFxuXHRcdFx0eDogZWwuZnJvbS53aWR0aCAvIG9yaWdpbmFsLndpZHRoXG5cdFx0fSxcblx0XHR0bzoge1xuXHRcdFx0eTogZWwudG8uaGVpZ2h0IC8gb3JpZ2luYWwuaGVpZ2h0LFxuXHRcdFx0eDogZWwudG8ud2lkdGggLyBvcmlnaW5hbC53aWR0aFxuXHRcdH1cblx0fTtcblxuXHQvLyBTY2FsZSB0aGUgY3NzIGJveFxuXHRpZiAoIHNjYWxlID09PSBcImJveFwiIHx8IHNjYWxlID09PSBcImJvdGhcIiApIHtcblxuXHRcdC8vIFZlcnRpY2FsIHByb3BzIHNjYWxpbmdcblx0XHRpZiAoIGZhY3Rvci5mcm9tLnkgIT09IGZhY3Rvci50by55ICkge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5jb25jYXQoIHZQcm9wcyApO1xuXHRcdFx0ZWwuZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbCwgdlByb3BzLCBmYWN0b3IuZnJvbS55LCBlbC5mcm9tICk7XG5cdFx0XHRlbC50byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbCwgdlByb3BzLCBmYWN0b3IudG8ueSwgZWwudG8gKTtcblx0XHR9XG5cblx0XHQvLyBIb3Jpem9udGFsIHByb3BzIHNjYWxpbmdcblx0XHRpZiAoIGZhY3Rvci5mcm9tLnggIT09IGZhY3Rvci50by54ICkge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5jb25jYXQoIGhQcm9wcyApO1xuXHRcdFx0ZWwuZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbCwgaFByb3BzLCBmYWN0b3IuZnJvbS54LCBlbC5mcm9tICk7XG5cdFx0XHRlbC50byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbCwgaFByb3BzLCBmYWN0b3IudG8ueCwgZWwudG8gKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTY2FsZSB0aGUgY29udGVudFxuXHRpZiAoIHNjYWxlID09PSBcImNvbnRlbnRcIiB8fCBzY2FsZSA9PT0gXCJib3RoXCIgKSB7XG5cblx0XHQvLyBWZXJ0aWNhbCBwcm9wcyBzY2FsaW5nXG5cdFx0aWYgKCBmYWN0b3IuZnJvbS55ICE9PSBmYWN0b3IudG8ueSApIHtcblx0XHRcdHByb3BzID0gcHJvcHMuY29uY2F0KCBjUHJvcHMgKS5jb25jYXQoIHByb3BzMiApO1xuXHRcdFx0ZWwuZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbCwgY1Byb3BzLCBmYWN0b3IuZnJvbS55LCBlbC5mcm9tICk7XG5cdFx0XHRlbC50byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBlbCwgY1Byb3BzLCBmYWN0b3IudG8ueSwgZWwudG8gKTtcblx0XHR9XG5cdH1cblxuXHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdGVsLnNob3coKTtcblx0JC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICk7XG5cdGVsLmNzcyggXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiICkuY3NzKCBlbC5mcm9tICk7XG5cblx0Ly8gQWRqdXN0XG5cdGlmIChvcmlnaW4pIHsgLy8gQ2FsY3VsYXRlIGJhc2VsaW5lIHNoaWZ0c1xuXHRcdGJhc2VsaW5lID0gJC5lZmZlY3RzLmdldEJhc2VsaW5lKCBvcmlnaW4sIG9yaWdpbmFsICk7XG5cdFx0ZWwuZnJvbS50b3AgPSAoIG9yaWdpbmFsLm91dGVySGVpZ2h0IC0gZWwub3V0ZXJIZWlnaHQoKSApICogYmFzZWxpbmUueTtcblx0XHRlbC5mcm9tLmxlZnQgPSAoIG9yaWdpbmFsLm91dGVyV2lkdGggLSBlbC5vdXRlcldpZHRoKCkgKSAqIGJhc2VsaW5lLng7XG5cdFx0ZWwudG8udG9wID0gKCBvcmlnaW5hbC5vdXRlckhlaWdodCAtIGVsLnRvLm91dGVySGVpZ2h0ICkgKiBiYXNlbGluZS55O1xuXHRcdGVsLnRvLmxlZnQgPSAoIG9yaWdpbmFsLm91dGVyV2lkdGggLSBlbC50by5vdXRlcldpZHRoICkgKiBiYXNlbGluZS54O1xuXHR9XG5cdGVsLmNzcyggZWwuZnJvbSApOyAvLyBzZXQgdG9wICYgbGVmdFxuXG5cdC8vIEFuaW1hdGVcblx0aWYgKCBzY2FsZSA9PT0gXCJjb250ZW50XCIgfHwgc2NhbGUgPT09IFwiYm90aFwiICkgeyAvLyBTY2FsZSB0aGUgY2hpbGRyZW5cblxuXHRcdC8vIEFkZCBtYXJnaW5zL2ZvbnQtc2l6ZVxuXHRcdHZQcm9wcyA9IHZQcm9wcy5jb25jYXQoWyBcIm1hcmdpblRvcFwiLCBcIm1hcmdpbkJvdHRvbVwiIF0pLmNvbmNhdChjUHJvcHMpO1xuXHRcdGhQcm9wcyA9IGhQcm9wcy5jb25jYXQoWyBcIm1hcmdpbkxlZnRcIiwgXCJtYXJnaW5SaWdodFwiIF0pO1xuXHRcdHByb3BzMiA9IHByb3BzMC5jb25jYXQodlByb3BzKS5jb25jYXQoaFByb3BzKTtcblxuXHRcdGVsLmZpbmQoIFwiKlt3aWR0aF1cIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNoaWxkID0gJCggdGhpcyApLFxuXHRcdFx0XHRjX29yaWdpbmFsID0ge1xuXHRcdFx0XHRcdGhlaWdodDogY2hpbGQuaGVpZ2h0KCksXG5cdFx0XHRcdFx0d2lkdGg6IGNoaWxkLndpZHRoKCksXG5cdFx0XHRcdFx0b3V0ZXJIZWlnaHQ6IGNoaWxkLm91dGVySGVpZ2h0KCksXG5cdFx0XHRcdFx0b3V0ZXJXaWR0aDogY2hpbGQub3V0ZXJXaWR0aCgpXG5cdFx0XHRcdH07XG5cdFx0XHRpZiAocmVzdG9yZSkge1xuXHRcdFx0XHQkLmVmZmVjdHMuc2F2ZShjaGlsZCwgcHJvcHMyKTtcblx0XHRcdH1cblxuXHRcdFx0Y2hpbGQuZnJvbSA9IHtcblx0XHRcdFx0aGVpZ2h0OiBjX29yaWdpbmFsLmhlaWdodCAqIGZhY3Rvci5mcm9tLnksXG5cdFx0XHRcdHdpZHRoOiBjX29yaWdpbmFsLndpZHRoICogZmFjdG9yLmZyb20ueCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQ6IGNfb3JpZ2luYWwub3V0ZXJIZWlnaHQgKiBmYWN0b3IuZnJvbS55LFxuXHRcdFx0XHRvdXRlcldpZHRoOiBjX29yaWdpbmFsLm91dGVyV2lkdGggKiBmYWN0b3IuZnJvbS54XG5cdFx0XHR9O1xuXHRcdFx0Y2hpbGQudG8gPSB7XG5cdFx0XHRcdGhlaWdodDogY19vcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IudG8ueSxcblx0XHRcdFx0d2lkdGg6IGNfb3JpZ2luYWwud2lkdGggKiBmYWN0b3IudG8ueCxcblx0XHRcdFx0b3V0ZXJIZWlnaHQ6IGNfb3JpZ2luYWwuaGVpZ2h0ICogZmFjdG9yLnRvLnksXG5cdFx0XHRcdG91dGVyV2lkdGg6IGNfb3JpZ2luYWwud2lkdGggKiBmYWN0b3IudG8ueFxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gVmVydGljYWwgcHJvcHMgc2NhbGluZ1xuXHRcdFx0aWYgKCBmYWN0b3IuZnJvbS55ICE9PSBmYWN0b3IudG8ueSApIHtcblx0XHRcdFx0Y2hpbGQuZnJvbSA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgdlByb3BzLCBmYWN0b3IuZnJvbS55LCBjaGlsZC5mcm9tICk7XG5cdFx0XHRcdGNoaWxkLnRvID0gJC5lZmZlY3RzLnNldFRyYW5zaXRpb24oIGNoaWxkLCB2UHJvcHMsIGZhY3Rvci50by55LCBjaGlsZC50byApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb3Jpem9udGFsIHByb3BzIHNjYWxpbmdcblx0XHRcdGlmICggZmFjdG9yLmZyb20ueCAhPT0gZmFjdG9yLnRvLnggKSB7XG5cdFx0XHRcdGNoaWxkLmZyb20gPSAkLmVmZmVjdHMuc2V0VHJhbnNpdGlvbiggY2hpbGQsIGhQcm9wcywgZmFjdG9yLmZyb20ueCwgY2hpbGQuZnJvbSApO1xuXHRcdFx0XHRjaGlsZC50byA9ICQuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKCBjaGlsZCwgaFByb3BzLCBmYWN0b3IudG8ueCwgY2hpbGQudG8gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQW5pbWF0ZSBjaGlsZHJlblxuXHRcdFx0Y2hpbGQuY3NzKCBjaGlsZC5mcm9tICk7XG5cdFx0XHRjaGlsZC5hbmltYXRlKCBjaGlsZC50bywgby5kdXJhdGlvbiwgby5lYXNpbmcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgY2hpbGRyZW5cblx0XHRcdFx0aWYgKCByZXN0b3JlICkge1xuXHRcdFx0XHRcdCQuZWZmZWN0cy5yZXN0b3JlKCBjaGlsZCwgcHJvcHMyICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQW5pbWF0ZVxuXHRlbC5hbmltYXRlKCBlbC50bywge1xuXHRcdHF1ZXVlOiBmYWxzZSxcblx0XHRkdXJhdGlvbjogby5kdXJhdGlvbixcblx0XHRlYXNpbmc6IG8uZWFzaW5nLFxuXHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggZWwudG8ub3BhY2l0eSA9PT0gMCApIHtcblx0XHRcdFx0ZWwuY3NzKCBcIm9wYWNpdHlcIiwgZWwuZnJvbS5vcGFjaXR5ICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG1vZGUgPT09IFwiaGlkZVwiICkge1xuXHRcdFx0XHRlbC5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0XHQkLmVmZmVjdHMucmVzdG9yZSggZWwsIHByb3BzICk7XG5cdFx0XHRpZiAoICFyZXN0b3JlICkge1xuXG5cdFx0XHRcdC8vIHdlIG5lZWQgdG8gY2FsY3VsYXRlIG91ciBuZXcgcG9zaXRpb25pbmcgYmFzZWQgb24gdGhlIHNjYWxpbmdcblx0XHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0XHRlbC5jc3Moe1xuXHRcdFx0XHRcdFx0cG9zaXRpb246IFwicmVsYXRpdmVcIixcblx0XHRcdFx0XHRcdHRvcDogZWwudG8udG9wLFxuXHRcdFx0XHRcdFx0bGVmdDogZWwudG8ubGVmdFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQuZWFjaChbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpZHgsIHBvcyApIHtcblx0XHRcdFx0XHRcdGVsLmNzcyggcG9zLCBmdW5jdGlvbiggXywgc3RyICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdmFsID0gcGFyc2VJbnQoIHN0ciwgMTAgKSxcblx0XHRcdFx0XHRcdFx0XHR0b1JlZiA9IGlkeCA/IGVsLnRvLmxlZnQgOiBlbC50by50b3A7XG5cblx0XHRcdFx0XHRcdFx0Ly8gaWYgb3JpZ2luYWwgd2FzIFwiYXV0b1wiLCByZWNhbGN1bGF0ZSB0aGUgbmV3IHZhbHVlIGZyb20gd3JhcHBlclxuXHRcdFx0XHRcdFx0XHRpZiAoIHN0ciA9PT0gXCJhdXRvXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRvUmVmICsgXCJweFwiO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbCArIHRvUmVmICsgXCJweFwiO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0JC5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoIGVsICk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fVxuXHR9KTtcblxufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNjYWxlIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2NhbGUtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdFNjYWxlID0gJC5lZmZlY3RzLmVmZmVjdC5zY2FsZSA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXG5cdC8vIENyZWF0ZSBlbGVtZW50XG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRvcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHt9LCBvICksXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbCwgby5tb2RlIHx8IFwiZWZmZWN0XCIgKSxcblx0XHRwZXJjZW50ID0gcGFyc2VJbnQoIG8ucGVyY2VudCwgMTAgKSB8fFxuXHRcdFx0KCBwYXJzZUludCggby5wZXJjZW50LCAxMCApID09PSAwID8gMCA6ICggbW9kZSA9PT0gXCJoaWRlXCIgPyAwIDogMTAwICkgKSxcblx0XHRkaXJlY3Rpb24gPSBvLmRpcmVjdGlvbiB8fCBcImJvdGhcIixcblx0XHRvcmlnaW4gPSBvLm9yaWdpbixcblx0XHRvcmlnaW5hbCA9IHtcblx0XHRcdGhlaWdodDogZWwuaGVpZ2h0KCksXG5cdFx0XHR3aWR0aDogZWwud2lkdGgoKSxcblx0XHRcdG91dGVySGVpZ2h0OiBlbC5vdXRlckhlaWdodCgpLFxuXHRcdFx0b3V0ZXJXaWR0aDogZWwub3V0ZXJXaWR0aCgpXG5cdFx0fSxcblx0XHRmYWN0b3IgPSB7XG5cdFx0XHR5OiBkaXJlY3Rpb24gIT09IFwiaG9yaXpvbnRhbFwiID8gKHBlcmNlbnQgLyAxMDApIDogMSxcblx0XHRcdHg6IGRpcmVjdGlvbiAhPT0gXCJ2ZXJ0aWNhbFwiID8gKHBlcmNlbnQgLyAxMDApIDogMVxuXHRcdH07XG5cblx0Ly8gV2UgYXJlIGdvaW5nIHRvIHBhc3MgdGhpcyBlZmZlY3QgdG8gdGhlIHNpemUgZWZmZWN0OlxuXHRvcHRpb25zLmVmZmVjdCA9IFwic2l6ZVwiO1xuXHRvcHRpb25zLnF1ZXVlID0gZmFsc2U7XG5cdG9wdGlvbnMuY29tcGxldGUgPSBkb25lO1xuXG5cdC8vIFNldCBkZWZhdWx0IG9yaWdpbiBhbmQgcmVzdG9yZSBmb3Igc2hvdy9oaWRlXG5cdGlmICggbW9kZSAhPT0gXCJlZmZlY3RcIiApIHtcblx0XHRvcHRpb25zLm9yaWdpbiA9IG9yaWdpbiB8fCBbIFwibWlkZGxlXCIsIFwiY2VudGVyXCIgXTtcblx0XHRvcHRpb25zLnJlc3RvcmUgPSB0cnVlO1xuXHR9XG5cblx0b3B0aW9ucy5mcm9tID0gby5mcm9tIHx8ICggbW9kZSA9PT0gXCJzaG93XCIgPyB7XG5cdFx0aGVpZ2h0OiAwLFxuXHRcdHdpZHRoOiAwLFxuXHRcdG91dGVySGVpZ2h0OiAwLFxuXHRcdG91dGVyV2lkdGg6IDBcblx0fSA6IG9yaWdpbmFsICk7XG5cdG9wdGlvbnMudG8gPSB7XG5cdFx0aGVpZ2h0OiBvcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IueSxcblx0XHR3aWR0aDogb3JpZ2luYWwud2lkdGggKiBmYWN0b3IueCxcblx0XHRvdXRlckhlaWdodDogb3JpZ2luYWwub3V0ZXJIZWlnaHQgKiBmYWN0b3IueSxcblx0XHRvdXRlcldpZHRoOiBvcmlnaW5hbC5vdXRlcldpZHRoICogZmFjdG9yLnhcblx0fTtcblxuXHQvLyBGYWRlIG9wdGlvbiB0byBzdXBwb3J0IHB1ZmZcblx0aWYgKCBvcHRpb25zLmZhZGUgKSB7XG5cdFx0aWYgKCBtb2RlID09PSBcInNob3dcIiApIHtcblx0XHRcdG9wdGlvbnMuZnJvbS5vcGFjaXR5ID0gMDtcblx0XHRcdG9wdGlvbnMudG8ub3BhY2l0eSA9IDE7XG5cdFx0fVxuXHRcdGlmICggbW9kZSA9PT0gXCJoaWRlXCIgKSB7XG5cdFx0XHRvcHRpb25zLmZyb20ub3BhY2l0eSA9IDE7XG5cdFx0XHRvcHRpb25zLnRvLm9wYWNpdHkgPSAwO1xuXHRcdH1cblx0fVxuXG5cdC8vIEFuaW1hdGVcblx0ZWwuZWZmZWN0KCBvcHRpb25zICk7XG5cbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBQdWZmIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vcHVmZi1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0UHVmZiA9ICQuZWZmZWN0cy5lZmZlY3QucHVmZiA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXHR2YXIgZWxlbSA9ICQoIHRoaXMgKSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsZW0sIG8ubW9kZSB8fCBcImhpZGVcIiApLFxuXHRcdGhpZGUgPSBtb2RlID09PSBcImhpZGVcIixcblx0XHRwZXJjZW50ID0gcGFyc2VJbnQoIG8ucGVyY2VudCwgMTAgKSB8fCAxNTAsXG5cdFx0ZmFjdG9yID0gcGVyY2VudCAvIDEwMCxcblx0XHRvcmlnaW5hbCA9IHtcblx0XHRcdGhlaWdodDogZWxlbS5oZWlnaHQoKSxcblx0XHRcdHdpZHRoOiBlbGVtLndpZHRoKCksXG5cdFx0XHRvdXRlckhlaWdodDogZWxlbS5vdXRlckhlaWdodCgpLFxuXHRcdFx0b3V0ZXJXaWR0aDogZWxlbS5vdXRlcldpZHRoKClcblx0XHR9O1xuXG5cdCQuZXh0ZW5kKCBvLCB7XG5cdFx0ZWZmZWN0OiBcInNjYWxlXCIsXG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGZhZGU6IHRydWUsXG5cdFx0bW9kZTogbW9kZSxcblx0XHRjb21wbGV0ZTogZG9uZSxcblx0XHRwZXJjZW50OiBoaWRlID8gcGVyY2VudCA6IDEwMCxcblx0XHRmcm9tOiBoaWRlID9cblx0XHRcdG9yaWdpbmFsIDpcblx0XHRcdHtcblx0XHRcdFx0aGVpZ2h0OiBvcmlnaW5hbC5oZWlnaHQgKiBmYWN0b3IsXG5cdFx0XHRcdHdpZHRoOiBvcmlnaW5hbC53aWR0aCAqIGZhY3Rvcixcblx0XHRcdFx0b3V0ZXJIZWlnaHQ6IG9yaWdpbmFsLm91dGVySGVpZ2h0ICogZmFjdG9yLFxuXHRcdFx0XHRvdXRlcldpZHRoOiBvcmlnaW5hbC5vdXRlcldpZHRoICogZmFjdG9yXG5cdFx0XHR9XG5cdH0pO1xuXG5cdGVsZW0uZWZmZWN0KCBvICk7XG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgUHVsc2F0ZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3B1bHNhdGUtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdFB1bHNhdGUgPSAkLmVmZmVjdHMuZWZmZWN0LnB1bHNhdGUgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0bW9kZSA9ICQuZWZmZWN0cy5zZXRNb2RlKCBlbGVtLCBvLm1vZGUgfHwgXCJzaG93XCIgKSxcblx0XHRzaG93ID0gbW9kZSA9PT0gXCJzaG93XCIsXG5cdFx0aGlkZSA9IG1vZGUgPT09IFwiaGlkZVwiLFxuXHRcdHNob3doaWRlID0gKCBzaG93IHx8IG1vZGUgPT09IFwiaGlkZVwiICksXG5cblx0XHQvLyBzaG93aW5nIG9yIGhpZGluZyBsZWF2ZXMgb2YgdGhlIFwibGFzdFwiIGFuaW1hdGlvblxuXHRcdGFuaW1zID0gKCAoIG8udGltZXMgfHwgNSApICogMiApICsgKCBzaG93aGlkZSA/IDEgOiAwICksXG5cdFx0ZHVyYXRpb24gPSBvLmR1cmF0aW9uIC8gYW5pbXMsXG5cdFx0YW5pbWF0ZVRvID0gMCxcblx0XHRxdWV1ZSA9IGVsZW0ucXVldWUoKSxcblx0XHRxdWV1ZWxlbiA9IHF1ZXVlLmxlbmd0aCxcblx0XHRpO1xuXG5cdGlmICggc2hvdyB8fCAhZWxlbS5pcyhcIjp2aXNpYmxlXCIpKSB7XG5cdFx0ZWxlbS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpO1xuXHRcdGFuaW1hdGVUbyA9IDE7XG5cdH1cblxuXHQvLyBhbmltcyAtIDEgb3BhY2l0eSBcInRvZ2dsZXNcIlxuXHRmb3IgKCBpID0gMTsgaSA8IGFuaW1zOyBpKysgKSB7XG5cdFx0ZWxlbS5hbmltYXRlKHtcblx0XHRcdG9wYWNpdHk6IGFuaW1hdGVUb1xuXHRcdH0sIGR1cmF0aW9uLCBvLmVhc2luZyApO1xuXHRcdGFuaW1hdGVUbyA9IDEgLSBhbmltYXRlVG87XG5cdH1cblxuXHRlbGVtLmFuaW1hdGUoe1xuXHRcdG9wYWNpdHk6IGFuaW1hdGVUb1xuXHR9LCBkdXJhdGlvbiwgby5lYXNpbmcpO1xuXG5cdGVsZW0ucXVldWUoZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBoaWRlICkge1xuXHRcdFx0ZWxlbS5oaWRlKCk7XG5cdFx0fVxuXHRcdGRvbmUoKTtcblx0fSk7XG5cblx0Ly8gV2UganVzdCBxdWV1ZWQgdXAgXCJhbmltc1wiIGFuaW1hdGlvbnMsIHdlIG5lZWQgdG8gcHV0IHRoZW0gbmV4dCBpbiB0aGUgcXVldWVcblx0aWYgKCBxdWV1ZWxlbiA+IDEgKSB7XG5cdFx0cXVldWUuc3BsaWNlLmFwcGx5KCBxdWV1ZSxcblx0XHRcdFsgMSwgMCBdLmNvbmNhdCggcXVldWUuc3BsaWNlKCBxdWV1ZWxlbiwgYW5pbXMgKyAxICkgKSApO1xuXHR9XG5cdGVsZW0uZGVxdWV1ZSgpO1xufTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNoYWtlIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2hha2UtZWZmZWN0L1xuICovXG5cblxudmFyIGVmZmVjdFNoYWtlID0gJC5lZmZlY3RzLmVmZmVjdC5zaGFrZSA9IGZ1bmN0aW9uKCBvLCBkb25lICkge1xuXG5cdHZhciBlbCA9ICQoIHRoaXMgKSxcblx0XHRwcm9wcyA9IFsgXCJwb3NpdGlvblwiLCBcInRvcFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIiwgXCJyaWdodFwiLCBcImhlaWdodFwiLCBcIndpZHRoXCIgXSxcblx0XHRtb2RlID0gJC5lZmZlY3RzLnNldE1vZGUoIGVsLCBvLm1vZGUgfHwgXCJlZmZlY3RcIiApLFxuXHRcdGRpcmVjdGlvbiA9IG8uZGlyZWN0aW9uIHx8IFwibGVmdFwiLFxuXHRcdGRpc3RhbmNlID0gby5kaXN0YW5jZSB8fCAyMCxcblx0XHR0aW1lcyA9IG8udGltZXMgfHwgMyxcblx0XHRhbmltcyA9IHRpbWVzICogMiArIDEsXG5cdFx0c3BlZWQgPSBNYXRoLnJvdW5kKCBvLmR1cmF0aW9uIC8gYW5pbXMgKSxcblx0XHRyZWYgPSAoZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIikgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0cG9zaXRpdmVNb3Rpb24gPSAoZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiksXG5cdFx0YW5pbWF0aW9uID0ge30sXG5cdFx0YW5pbWF0aW9uMSA9IHt9LFxuXHRcdGFuaW1hdGlvbjIgPSB7fSxcblx0XHRpLFxuXG5cdFx0Ly8gd2Ugd2lsbCBuZWVkIHRvIHJlLWFzc2VtYmxlIHRoZSBxdWV1ZSB0byBzdGFjayBvdXIgYW5pbWF0aW9ucyBpbiBwbGFjZVxuXHRcdHF1ZXVlID0gZWwucXVldWUoKSxcblx0XHRxdWV1ZWxlbiA9IHF1ZXVlLmxlbmd0aDtcblxuXHQkLmVmZmVjdHMuc2F2ZSggZWwsIHByb3BzICk7XG5cdGVsLnNob3coKTtcblx0JC5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoIGVsICk7XG5cblx0Ly8gQW5pbWF0aW9uXG5cdGFuaW1hdGlvblsgcmVmIF0gPSAoIHBvc2l0aXZlTW90aW9uID8gXCItPVwiIDogXCIrPVwiICkgKyBkaXN0YW5jZTtcblx0YW5pbWF0aW9uMVsgcmVmIF0gPSAoIHBvc2l0aXZlTW90aW9uID8gXCIrPVwiIDogXCItPVwiICkgKyBkaXN0YW5jZSAqIDI7XG5cdGFuaW1hdGlvbjJbIHJlZiBdID0gKCBwb3NpdGl2ZU1vdGlvbiA/IFwiLT1cIiA6IFwiKz1cIiApICsgZGlzdGFuY2UgKiAyO1xuXG5cdC8vIEFuaW1hdGVcblx0ZWwuYW5pbWF0ZSggYW5pbWF0aW9uLCBzcGVlZCwgby5lYXNpbmcgKTtcblxuXHQvLyBTaGFrZXNcblx0Zm9yICggaSA9IDE7IGkgPCB0aW1lczsgaSsrICkge1xuXHRcdGVsLmFuaW1hdGUoIGFuaW1hdGlvbjEsIHNwZWVkLCBvLmVhc2luZyApLmFuaW1hdGUoIGFuaW1hdGlvbjIsIHNwZWVkLCBvLmVhc2luZyApO1xuXHR9XG5cdGVsXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbjEsIHNwZWVkLCBvLmVhc2luZyApXG5cdFx0LmFuaW1hdGUoIGFuaW1hdGlvbiwgc3BlZWQgLyAyLCBvLmVhc2luZyApXG5cdFx0LnF1ZXVlKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBtb2RlID09PSBcImhpZGVcIiApIHtcblx0XHRcdFx0ZWwuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0JC5lZmZlY3RzLnJlc3RvcmUoIGVsLCBwcm9wcyApO1xuXHRcdFx0JC5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoIGVsICk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fSk7XG5cblx0Ly8gaW5qZWN0IGFsbCB0aGUgYW5pbWF0aW9ucyB3ZSBqdXN0IHF1ZXVlZCB0byBiZSBmaXJzdCBpbiBsaW5lIChhZnRlciBcImlucHJvZ3Jlc3NcIilcblx0aWYgKCBxdWV1ZWxlbiA+IDEpIHtcblx0XHRxdWV1ZS5zcGxpY2UuYXBwbHkoIHF1ZXVlLFxuXHRcdFx0WyAxLCAwIF0uY29uY2F0KCBxdWV1ZS5zcGxpY2UoIHF1ZXVlbGVuLCBhbmltcyArIDEgKSApICk7XG5cdH1cblx0ZWwuZGVxdWV1ZSgpO1xuXG59O1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIEVmZmVjdHMgU2xpZGUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zbGlkZS1lZmZlY3QvXG4gKi9cblxuXG52YXIgZWZmZWN0U2xpZGUgPSAkLmVmZmVjdHMuZWZmZWN0LnNsaWRlID0gZnVuY3Rpb24oIG8sIGRvbmUgKSB7XG5cblx0Ly8gQ3JlYXRlIGVsZW1lbnRcblx0dmFyIGVsID0gJCggdGhpcyApLFxuXHRcdHByb3BzID0gWyBcInBvc2l0aW9uXCIsIFwidG9wXCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiBdLFxuXHRcdG1vZGUgPSAkLmVmZmVjdHMuc2V0TW9kZSggZWwsIG8ubW9kZSB8fCBcInNob3dcIiApLFxuXHRcdHNob3cgPSBtb2RlID09PSBcInNob3dcIixcblx0XHRkaXJlY3Rpb24gPSBvLmRpcmVjdGlvbiB8fCBcImxlZnRcIixcblx0XHRyZWYgPSAoZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImRvd25cIikgPyBcInRvcFwiIDogXCJsZWZ0XCIsXG5cdFx0cG9zaXRpdmVNb3Rpb24gPSAoZGlyZWN0aW9uID09PSBcInVwXCIgfHwgZGlyZWN0aW9uID09PSBcImxlZnRcIiksXG5cdFx0ZGlzdGFuY2UsXG5cdFx0YW5pbWF0aW9uID0ge307XG5cblx0Ly8gQWRqdXN0XG5cdCQuZWZmZWN0cy5zYXZlKCBlbCwgcHJvcHMgKTtcblx0ZWwuc2hvdygpO1xuXHRkaXN0YW5jZSA9IG8uZGlzdGFuY2UgfHwgZWxbIHJlZiA9PT0gXCJ0b3BcIiA/IFwib3V0ZXJIZWlnaHRcIiA6IFwib3V0ZXJXaWR0aFwiIF0oIHRydWUgKTtcblxuXHQkLmVmZmVjdHMuY3JlYXRlV3JhcHBlciggZWwgKS5jc3Moe1xuXHRcdG92ZXJmbG93OiBcImhpZGRlblwiXG5cdH0pO1xuXG5cdGlmICggc2hvdyApIHtcblx0XHRlbC5jc3MoIHJlZiwgcG9zaXRpdmVNb3Rpb24gPyAoaXNOYU4oZGlzdGFuY2UpID8gXCItXCIgKyBkaXN0YW5jZSA6IC1kaXN0YW5jZSkgOiBkaXN0YW5jZSApO1xuXHR9XG5cblx0Ly8gQW5pbWF0aW9uXG5cdGFuaW1hdGlvblsgcmVmIF0gPSAoIHNob3cgP1xuXHRcdCggcG9zaXRpdmVNb3Rpb24gPyBcIis9XCIgOiBcIi09XCIpIDpcblx0XHQoIHBvc2l0aXZlTW90aW9uID8gXCItPVwiIDogXCIrPVwiKSkgK1xuXHRcdGRpc3RhbmNlO1xuXG5cdC8vIEFuaW1hdGVcblx0ZWwuYW5pbWF0ZSggYW5pbWF0aW9uLCB7XG5cdFx0cXVldWU6IGZhbHNlLFxuXHRcdGR1cmF0aW9uOiBvLmR1cmF0aW9uLFxuXHRcdGVhc2luZzogby5lYXNpbmcsXG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBtb2RlID09PSBcImhpZGVcIiApIHtcblx0XHRcdFx0ZWwuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0JC5lZmZlY3RzLnJlc3RvcmUoIGVsLCBwcm9wcyApO1xuXHRcdFx0JC5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoIGVsICk7XG5cdFx0XHRkb25lKCk7XG5cdFx0fVxuXHR9KTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgRWZmZWN0cyBUcmFuc2ZlciAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3RyYW5zZmVyLWVmZmVjdC9cbiAqL1xuXG5cbnZhciBlZmZlY3RUcmFuc2ZlciA9ICQuZWZmZWN0cy5lZmZlY3QudHJhbnNmZXIgPSBmdW5jdGlvbiggbywgZG9uZSApIHtcblx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0dGFyZ2V0ID0gJCggby50byApLFxuXHRcdHRhcmdldEZpeGVkID0gdGFyZ2V0LmNzcyggXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIixcblx0XHRib2R5ID0gJChcImJvZHlcIiksXG5cdFx0Zml4VG9wID0gdGFyZ2V0Rml4ZWQgPyBib2R5LnNjcm9sbFRvcCgpIDogMCxcblx0XHRmaXhMZWZ0ID0gdGFyZ2V0Rml4ZWQgPyBib2R5LnNjcm9sbExlZnQoKSA6IDAsXG5cdFx0ZW5kUG9zaXRpb24gPSB0YXJnZXQub2Zmc2V0KCksXG5cdFx0YW5pbWF0aW9uID0ge1xuXHRcdFx0dG9wOiBlbmRQb3NpdGlvbi50b3AgLSBmaXhUb3AsXG5cdFx0XHRsZWZ0OiBlbmRQb3NpdGlvbi5sZWZ0IC0gZml4TGVmdCxcblx0XHRcdGhlaWdodDogdGFyZ2V0LmlubmVySGVpZ2h0KCksXG5cdFx0XHR3aWR0aDogdGFyZ2V0LmlubmVyV2lkdGgoKVxuXHRcdH0sXG5cdFx0c3RhcnRQb3NpdGlvbiA9IGVsZW0ub2Zmc2V0KCksXG5cdFx0dHJhbnNmZXIgPSAkKCBcIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjwvZGl2PlwiIClcblx0XHRcdC5hcHBlbmRUbyggZG9jdW1lbnQuYm9keSApXG5cdFx0XHQuYWRkQ2xhc3MoIG8uY2xhc3NOYW1lIClcblx0XHRcdC5jc3Moe1xuXHRcdFx0XHR0b3A6IHN0YXJ0UG9zaXRpb24udG9wIC0gZml4VG9wLFxuXHRcdFx0XHRsZWZ0OiBzdGFydFBvc2l0aW9uLmxlZnQgLSBmaXhMZWZ0LFxuXHRcdFx0XHRoZWlnaHQ6IGVsZW0uaW5uZXJIZWlnaHQoKSxcblx0XHRcdFx0d2lkdGg6IGVsZW0uaW5uZXJXaWR0aCgpLFxuXHRcdFx0XHRwb3NpdGlvbjogdGFyZ2V0Rml4ZWQgPyBcImZpeGVkXCIgOiBcImFic29sdXRlXCJcblx0XHRcdH0pXG5cdFx0XHQuYW5pbWF0ZSggYW5pbWF0aW9uLCBvLmR1cmF0aW9uLCBvLmVhc2luZywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRyYW5zZmVyLnJlbW92ZSgpO1xuXHRcdFx0XHRkb25lKCk7XG5cdFx0XHR9KTtcbn07XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgUHJvZ3Jlc3NiYXIgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wcm9ncmVzc2Jhci9cbiAqL1xuXG5cbnZhciBwcm9ncmVzc2JhciA9ICQud2lkZ2V0KCBcInVpLnByb2dyZXNzYmFyXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdG1heDogMTAwLFxuXHRcdHZhbHVlOiAwLFxuXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdGNvbXBsZXRlOiBudWxsXG5cdH0sXG5cblx0bWluOiAwLFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdC8vIENvbnN0cmFpbiBpbml0aWFsIHZhbHVlXG5cdFx0dGhpcy5vbGRWYWx1ZSA9IHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKTtcblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIgKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHQvLyBPbmx5IHNldCBzdGF0aWMgdmFsdWVzLCBhcmlhLXZhbHVlbm93IGFuZCBhcmlhLXZhbHVlbWF4IGFyZVxuXHRcdFx0XHQvLyBzZXQgaW5zaWRlIF9yZWZyZXNoVmFsdWUoKVxuXHRcdFx0XHRyb2xlOiBcInByb2dyZXNzYmFyXCIsXG5cdFx0XHRcdFwiYXJpYS12YWx1ZW1pblwiOiB0aGlzLm1pblxuXHRcdFx0fSk7XG5cblx0XHR0aGlzLnZhbHVlRGl2ID0gJCggXCI8ZGl2IGNsYXNzPSd1aS1wcm9ncmVzc2Jhci12YWx1ZSB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1sZWZ0Jz48L2Rpdj5cIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuZWxlbWVudCApO1xuXG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtdmFsdWVtaW5cIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLXZhbHVlbWF4XCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS12YWx1ZW5vd1wiICk7XG5cblx0XHR0aGlzLnZhbHVlRGl2LnJlbW92ZSgpO1xuXHR9LFxuXG5cdHZhbHVlOiBmdW5jdGlvbiggbmV3VmFsdWUgKSB7XG5cdFx0aWYgKCBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZTtcblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl9jb25zdHJhaW5lZFZhbHVlKCBuZXdWYWx1ZSApO1xuXHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHR9LFxuXG5cdF9jb25zdHJhaW5lZFZhbHVlOiBmdW5jdGlvbiggbmV3VmFsdWUgKSB7XG5cdFx0aWYgKCBuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0bmV3VmFsdWUgPSB0aGlzLm9wdGlvbnMudmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5pbmRldGVybWluYXRlID0gbmV3VmFsdWUgPT09IGZhbHNlO1xuXG5cdFx0Ly8gc2FuaXRpemUgdmFsdWVcblx0XHRpZiAoIHR5cGVvZiBuZXdWYWx1ZSAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdG5ld1ZhbHVlID0gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5pbmRldGVybWluYXRlID8gZmFsc2UgOlxuXHRcdFx0TWF0aC5taW4oIHRoaXMub3B0aW9ucy5tYXgsIE1hdGgubWF4KCB0aGlzLm1pbiwgbmV3VmFsdWUgKSApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHQvLyBFbnN1cmUgXCJ2YWx1ZVwiIG9wdGlvbiBpcyBzZXQgYWZ0ZXIgb3RoZXIgdmFsdWVzIChsaWtlIG1heClcblx0XHR2YXIgdmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuXHRcdGRlbGV0ZSBvcHRpb25zLnZhbHVlO1xuXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcblxuXHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoIHZhbHVlICk7XG5cdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0aWYgKCBrZXkgPT09IFwibWF4XCIgKSB7XG5cdFx0XHQvLyBEb24ndCBhbGxvdyBhIG1heCBsZXNzIHRoYW4gbWluXG5cdFx0XHR2YWx1ZSA9IE1hdGgubWF4KCB0aGlzLm1pbiwgdmFsdWUgKTtcblx0XHR9XG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApXG5cdFx0XHRcdC5hdHRyKCBcImFyaWEtZGlzYWJsZWRcIiwgdmFsdWUgKTtcblx0XHR9XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblx0fSxcblxuXHRfcGVyY2VudGFnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuaW5kZXRlcm1pbmF0ZSA/IDEwMCA6IDEwMCAqICggdGhpcy5vcHRpb25zLnZhbHVlIC0gdGhpcy5taW4gKSAvICggdGhpcy5vcHRpb25zLm1heCAtIHRoaXMubWluICk7XG5cdH0sXG5cblx0X3JlZnJlc2hWYWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHZhbHVlID0gdGhpcy5vcHRpb25zLnZhbHVlLFxuXHRcdFx0cGVyY2VudGFnZSA9IHRoaXMuX3BlcmNlbnRhZ2UoKTtcblxuXHRcdHRoaXMudmFsdWVEaXZcblx0XHRcdC50b2dnbGUoIHRoaXMuaW5kZXRlcm1pbmF0ZSB8fCB2YWx1ZSA+IHRoaXMubWluIClcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItcmlnaHRcIiwgdmFsdWUgPT09IHRoaXMub3B0aW9ucy5tYXggKVxuXHRcdFx0LndpZHRoKCBwZXJjZW50YWdlLnRvRml4ZWQoMCkgKyBcIiVcIiApO1xuXG5cdFx0dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLXByb2dyZXNzYmFyLWluZGV0ZXJtaW5hdGVcIiwgdGhpcy5pbmRldGVybWluYXRlICk7XG5cblx0XHRpZiAoIHRoaXMuaW5kZXRlcm1pbmF0ZSApIHtcblx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCBcImFyaWEtdmFsdWVub3dcIiApO1xuXHRcdFx0aWYgKCAhdGhpcy5vdmVybGF5RGl2ICkge1xuXHRcdFx0XHR0aGlzLm92ZXJsYXlEaXYgPSAkKCBcIjxkaXYgY2xhc3M9J3VpLXByb2dyZXNzYmFyLW92ZXJsYXknPjwvZGl2PlwiICkuYXBwZW5kVG8oIHRoaXMudmFsdWVEaXYgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoe1xuXHRcdFx0XHRcImFyaWEtdmFsdWVtYXhcIjogdGhpcy5vcHRpb25zLm1heCxcblx0XHRcdFx0XCJhcmlhLXZhbHVlbm93XCI6IHZhbHVlXG5cdFx0XHR9KTtcblx0XHRcdGlmICggdGhpcy5vdmVybGF5RGl2ICkge1xuXHRcdFx0XHR0aGlzLm92ZXJsYXlEaXYucmVtb3ZlKCk7XG5cdFx0XHRcdHRoaXMub3ZlcmxheURpdiA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLm9sZFZhbHVlICE9PSB2YWx1ZSApIHtcblx0XHRcdHRoaXMub2xkVmFsdWUgPSB2YWx1ZTtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIgKTtcblx0XHR9XG5cdFx0aWYgKCB2YWx1ZSA9PT0gdGhpcy5vcHRpb25zLm1heCApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY29tcGxldGVcIiApO1xuXHRcdH1cblx0fVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgU2VsZWN0YWJsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NlbGVjdGFibGUvXG4gKi9cblxuXG52YXIgc2VsZWN0YWJsZSA9ICQud2lkZ2V0KFwidWkuc2VsZWN0YWJsZVwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdG9wdGlvbnM6IHtcblx0XHRhcHBlbmRUbzogXCJib2R5XCIsXG5cdFx0YXV0b1JlZnJlc2g6IHRydWUsXG5cdFx0ZGlzdGFuY2U6IDAsXG5cdFx0ZmlsdGVyOiBcIipcIixcblx0XHR0b2xlcmFuY2U6IFwidG91Y2hcIixcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdHNlbGVjdGVkOiBudWxsLFxuXHRcdHNlbGVjdGluZzogbnVsbCxcblx0XHRzdGFydDogbnVsbCxcblx0XHRzdG9wOiBudWxsLFxuXHRcdHVuc2VsZWN0ZWQ6IG51bGwsXG5cdFx0dW5zZWxlY3Rpbmc6IG51bGxcblx0fSxcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNlbGVjdGVlcyxcblx0XHRcdHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktc2VsZWN0YWJsZVwiKTtcblxuXHRcdHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gY2FjaGUgc2VsZWN0ZWUgY2hpbGRyZW4gYmFzZWQgb24gZmlsdGVyXG5cdFx0dGhpcy5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRzZWxlY3RlZXMgPSAkKHRoYXQub3B0aW9ucy5maWx0ZXIsIHRoYXQuZWxlbWVudFswXSk7XG5cdFx0XHRzZWxlY3RlZXMuYWRkQ2xhc3MoXCJ1aS1zZWxlY3RlZVwiKTtcblx0XHRcdHNlbGVjdGVlcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHRcdFx0XHRcdHBvcyA9ICR0aGlzLm9mZnNldCgpO1xuXHRcdFx0XHQkLmRhdGEodGhpcywgXCJzZWxlY3RhYmxlLWl0ZW1cIiwge1xuXHRcdFx0XHRcdGVsZW1lbnQ6IHRoaXMsXG5cdFx0XHRcdFx0JGVsZW1lbnQ6ICR0aGlzLFxuXHRcdFx0XHRcdGxlZnQ6IHBvcy5sZWZ0LFxuXHRcdFx0XHRcdHRvcDogcG9zLnRvcCxcblx0XHRcdFx0XHRyaWdodDogcG9zLmxlZnQgKyAkdGhpcy5vdXRlcldpZHRoKCksXG5cdFx0XHRcdFx0Ym90dG9tOiBwb3MudG9wICsgJHRoaXMub3V0ZXJIZWlnaHQoKSxcblx0XHRcdFx0XHRzdGFydHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZDogJHRoaXMuaGFzQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKSxcblx0XHRcdFx0XHRzZWxlY3Rpbmc6ICR0aGlzLmhhc0NsYXNzKFwidWktc2VsZWN0aW5nXCIpLFxuXHRcdFx0XHRcdHVuc2VsZWN0aW5nOiAkdGhpcy5oYXNDbGFzcyhcInVpLXVuc2VsZWN0aW5nXCIpXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0XHR0aGlzLnJlZnJlc2goKTtcblxuXHRcdHRoaXMuc2VsZWN0ZWVzID0gc2VsZWN0ZWVzLmFkZENsYXNzKFwidWktc2VsZWN0ZWVcIik7XG5cblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblxuXHRcdHRoaXMuaGVscGVyID0gJChcIjxkaXYgY2xhc3M9J3VpLXNlbGVjdGFibGUtaGVscGVyJz48L2Rpdj5cIik7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuc2VsZWN0ZWVzXG5cdFx0XHQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RlZVwiKVxuXHRcdFx0LnJlbW92ZURhdGEoXCJzZWxlY3RhYmxlLWl0ZW1cIik7XG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RhYmxlIHVpLXNlbGVjdGFibGUtZGlzYWJsZWRcIik7XG5cdFx0dGhpcy5fbW91c2VEZXN0cm95KCk7XG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdHRoaXMub3BvcyA9IFsgZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZIF07XG5cblx0XHRpZiAodGhpcy5vcHRpb25zLmRpc2FibGVkKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5zZWxlY3RlZXMgPSAkKG9wdGlvbnMuZmlsdGVyLCB0aGlzLmVsZW1lbnRbMF0pO1xuXG5cdFx0dGhpcy5fdHJpZ2dlcihcInN0YXJ0XCIsIGV2ZW50KTtcblxuXHRcdCQob3B0aW9ucy5hcHBlbmRUbykuYXBwZW5kKHRoaXMuaGVscGVyKTtcblx0XHQvLyBwb3NpdGlvbiBoZWxwZXIgKGxhc3NvKVxuXHRcdHRoaXMuaGVscGVyLmNzcyh7XG5cdFx0XHRcImxlZnRcIjogZXZlbnQucGFnZVgsXG5cdFx0XHRcInRvcFwiOiBldmVudC5wYWdlWSxcblx0XHRcdFwid2lkdGhcIjogMCxcblx0XHRcdFwiaGVpZ2h0XCI6IDBcblx0XHR9KTtcblxuXHRcdGlmIChvcHRpb25zLmF1dG9SZWZyZXNoKSB7XG5cdFx0XHR0aGlzLnJlZnJlc2goKTtcblx0XHR9XG5cblx0XHR0aGlzLnNlbGVjdGVlcy5maWx0ZXIoXCIudWktc2VsZWN0ZWRcIikuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxlY3RlZSA9ICQuZGF0YSh0aGlzLCBcInNlbGVjdGFibGUtaXRlbVwiKTtcblx0XHRcdHNlbGVjdGVlLnN0YXJ0c2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0aWYgKCFldmVudC5tZXRhS2V5ICYmICFldmVudC5jdHJsS2V5KSB7XG5cdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktc2VsZWN0ZWRcIik7XG5cdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LmFkZENsYXNzKFwidWktdW5zZWxlY3RpbmdcIik7XG5cdFx0XHRcdHNlbGVjdGVlLnVuc2VsZWN0aW5nID0gdHJ1ZTtcblx0XHRcdFx0Ly8gc2VsZWN0YWJsZSBVTlNFTEVDVElORyBjYWxsYmFja1xuXHRcdFx0XHR0aGF0Ll90cmlnZ2VyKFwidW5zZWxlY3RpbmdcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHR1bnNlbGVjdGluZzogc2VsZWN0ZWUuZWxlbWVudFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdCQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZG9TZWxlY3QsXG5cdFx0XHRcdHNlbGVjdGVlID0gJC5kYXRhKHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIpO1xuXHRcdFx0aWYgKHNlbGVjdGVlKSB7XG5cdFx0XHRcdGRvU2VsZWN0ID0gKCFldmVudC5tZXRhS2V5ICYmICFldmVudC5jdHJsS2V5KSB8fCAhc2VsZWN0ZWUuJGVsZW1lbnQuaGFzQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcblx0XHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnRcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoZG9TZWxlY3QgPyBcInVpLXVuc2VsZWN0aW5nXCIgOiBcInVpLXNlbGVjdGVkXCIpXG5cdFx0XHRcdFx0LmFkZENsYXNzKGRvU2VsZWN0ID8gXCJ1aS1zZWxlY3RpbmdcIiA6IFwidWktdW5zZWxlY3RpbmdcIik7XG5cdFx0XHRcdHNlbGVjdGVlLnVuc2VsZWN0aW5nID0gIWRvU2VsZWN0O1xuXHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSBkb1NlbGVjdDtcblx0XHRcdFx0c2VsZWN0ZWUuc2VsZWN0ZWQgPSBkb1NlbGVjdDtcblx0XHRcdFx0Ly8gc2VsZWN0YWJsZSAoVU4pU0VMRUNUSU5HIGNhbGxiYWNrXG5cdFx0XHRcdGlmIChkb1NlbGVjdCkge1xuXHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoXCJzZWxlY3RpbmdcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRcdHNlbGVjdGluZzogc2VsZWN0ZWUuZWxlbWVudFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoXCJ1bnNlbGVjdGluZ1wiLCBldmVudCwge1xuXHRcdFx0XHRcdFx0dW5zZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0fSxcblxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dGhpcy5kcmFnZ2VkID0gdHJ1ZTtcblxuXHRcdGlmICh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgdG1wLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0eDEgPSB0aGlzLm9wb3NbMF0sXG5cdFx0XHR5MSA9IHRoaXMub3Bvc1sxXSxcblx0XHRcdHgyID0gZXZlbnQucGFnZVgsXG5cdFx0XHR5MiA9IGV2ZW50LnBhZ2VZO1xuXG5cdFx0aWYgKHgxID4geDIpIHsgdG1wID0geDI7IHgyID0geDE7IHgxID0gdG1wOyB9XG5cdFx0aWYgKHkxID4geTIpIHsgdG1wID0geTI7IHkyID0geTE7IHkxID0gdG1wOyB9XG5cdFx0dGhpcy5oZWxwZXIuY3NzKHsgbGVmdDogeDEsIHRvcDogeTEsIHdpZHRoOiB4MiAtIHgxLCBoZWlnaHQ6IHkyIC0geTEgfSk7XG5cblx0XHR0aGlzLnNlbGVjdGVlcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGVjdGVlID0gJC5kYXRhKHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIpLFxuXHRcdFx0XHRoaXQgPSBmYWxzZTtcblxuXHRcdFx0Ly9wcmV2ZW50IGhlbHBlciBmcm9tIGJlaW5nIHNlbGVjdGVkIGlmIGFwcGVuZFRvOiBzZWxlY3RhYmxlXG5cdFx0XHRpZiAoIXNlbGVjdGVlIHx8IHNlbGVjdGVlLmVsZW1lbnQgPT09IHRoYXQuZWxlbWVudFswXSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRpb25zLnRvbGVyYW5jZSA9PT0gXCJ0b3VjaFwiKSB7XG5cdFx0XHRcdGhpdCA9ICggIShzZWxlY3RlZS5sZWZ0ID4geDIgfHwgc2VsZWN0ZWUucmlnaHQgPCB4MSB8fCBzZWxlY3RlZS50b3AgPiB5MiB8fCBzZWxlY3RlZS5ib3R0b20gPCB5MSkgKTtcblx0XHRcdH0gZWxzZSBpZiAob3B0aW9ucy50b2xlcmFuY2UgPT09IFwiZml0XCIpIHtcblx0XHRcdFx0aGl0ID0gKHNlbGVjdGVlLmxlZnQgPiB4MSAmJiBzZWxlY3RlZS5yaWdodCA8IHgyICYmIHNlbGVjdGVlLnRvcCA+IHkxICYmIHNlbGVjdGVlLmJvdHRvbSA8IHkyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGhpdCkge1xuXHRcdFx0XHQvLyBTRUxFQ1Rcblx0XHRcdFx0aWYgKHNlbGVjdGVlLnNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcblx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZWxlY3RlZS51bnNlbGVjdGluZykge1xuXHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktdW5zZWxlY3RpbmdcIik7XG5cdFx0XHRcdFx0c2VsZWN0ZWUudW5zZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIXNlbGVjdGVlLnNlbGVjdGluZykge1xuXHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LmFkZENsYXNzKFwidWktc2VsZWN0aW5nXCIpO1xuXHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGluZyA9IHRydWU7XG5cdFx0XHRcdFx0Ly8gc2VsZWN0YWJsZSBTRUxFQ1RJTkcgY2FsbGJhY2tcblx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKFwic2VsZWN0aW5nXCIsIGV2ZW50LCB7XG5cdFx0XHRcdFx0XHRzZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVU5TRUxFQ1Rcblx0XHRcdFx0aWYgKHNlbGVjdGVlLnNlbGVjdGluZykge1xuXHRcdFx0XHRcdGlmICgoZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5KSAmJiBzZWxlY3RlZS5zdGFydHNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS4kZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXNlbGVjdGluZ1wiKTtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RpbmdcIik7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS5zZWxlY3RpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGlmIChzZWxlY3RlZS5zdGFydHNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LmFkZENsYXNzKFwidWktdW5zZWxlY3RpbmdcIik7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVlLnVuc2VsZWN0aW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIHNlbGVjdGFibGUgVU5TRUxFQ1RJTkcgY2FsbGJhY2tcblx0XHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoXCJ1bnNlbGVjdGluZ1wiLCBldmVudCwge1xuXHRcdFx0XHRcdFx0XHR1bnNlbGVjdGluZzogc2VsZWN0ZWUuZWxlbWVudFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChzZWxlY3RlZS5zZWxlY3RlZCkge1xuXHRcdFx0XHRcdGlmICghZXZlbnQubWV0YUtleSAmJiAhZXZlbnQuY3RybEtleSAmJiAhc2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCkge1xuXHRcdFx0XHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcblx0XHRcdFx0XHRcdHNlbGVjdGVlLnNlbGVjdGVkID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LmFkZENsYXNzKFwidWktdW5zZWxlY3RpbmdcIik7XG5cdFx0XHRcdFx0XHRzZWxlY3RlZS51bnNlbGVjdGluZyA9IHRydWU7XG5cdFx0XHRcdFx0XHQvLyBzZWxlY3RhYmxlIFVOU0VMRUNUSU5HIGNhbGxiYWNrXG5cdFx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKFwidW5zZWxlY3RpbmdcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRcdFx0dW5zZWxlY3Rpbmc6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhpcy5kcmFnZ2VkID0gZmFsc2U7XG5cblx0XHQkKFwiLnVpLXVuc2VsZWN0aW5nXCIsIHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxlY3RlZSA9ICQuZGF0YSh0aGlzLCBcInNlbGVjdGFibGUtaXRlbVwiKTtcblx0XHRcdHNlbGVjdGVlLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwidWktdW5zZWxlY3RpbmdcIik7XG5cdFx0XHRzZWxlY3RlZS51bnNlbGVjdGluZyA9IGZhbHNlO1xuXHRcdFx0c2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0dGhhdC5fdHJpZ2dlcihcInVuc2VsZWN0ZWRcIiwgZXZlbnQsIHtcblx0XHRcdFx0dW5zZWxlY3RlZDogc2VsZWN0ZWUuZWxlbWVudFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0JChcIi51aS1zZWxlY3RpbmdcIiwgdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGVjdGVlID0gJC5kYXRhKHRoaXMsIFwic2VsZWN0YWJsZS1pdGVtXCIpO1xuXHRcdFx0c2VsZWN0ZWUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1zZWxlY3RpbmdcIikuYWRkQ2xhc3MoXCJ1aS1zZWxlY3RlZFwiKTtcblx0XHRcdHNlbGVjdGVlLnNlbGVjdGluZyA9IGZhbHNlO1xuXHRcdFx0c2VsZWN0ZWUuc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdFx0c2VsZWN0ZWUuc3RhcnRzZWxlY3RlZCA9IHRydWU7XG5cdFx0XHR0aGF0Ll90cmlnZ2VyKFwic2VsZWN0ZWRcIiwgZXZlbnQsIHtcblx0XHRcdFx0c2VsZWN0ZWQ6IHNlbGVjdGVlLmVsZW1lbnRcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHRoaXMuX3RyaWdnZXIoXCJzdG9wXCIsIGV2ZW50KTtcblxuXHRcdHRoaXMuaGVscGVyLnJlbW92ZSgpO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFNlbGVjdG1lbnUgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zZWxlY3RtZW51XG4gKi9cblxuXG52YXIgc2VsZWN0bWVudSA9ICQud2lkZ2V0KCBcInVpLnNlbGVjdG1lbnVcIiwge1xuXHR2ZXJzaW9uOiBcIjEuMTEuNFwiLFxuXHRkZWZhdWx0RWxlbWVudDogXCI8c2VsZWN0PlwiLFxuXHRvcHRpb25zOiB7XG5cdFx0YXBwZW5kVG86IG51bGwsXG5cdFx0ZGlzYWJsZWQ6IG51bGwsXG5cdFx0aWNvbnM6IHtcblx0XHRcdGJ1dHRvbjogXCJ1aS1pY29uLXRyaWFuZ2xlLTEtc1wiXG5cdFx0fSxcblx0XHRwb3NpdGlvbjoge1xuXHRcdFx0bXk6IFwibGVmdCB0b3BcIixcblx0XHRcdGF0OiBcImxlZnQgYm90dG9tXCIsXG5cdFx0XHRjb2xsaXNpb246IFwibm9uZVwiXG5cdFx0fSxcblx0XHR3aWR0aDogbnVsbCxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRjbG9zZTogbnVsbCxcblx0XHRmb2N1czogbnVsbCxcblx0XHRvcGVuOiBudWxsLFxuXHRcdHNlbGVjdDogbnVsbFxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzZWxlY3RtZW51SWQgPSB0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCBcImlkXCIgKTtcblx0XHR0aGlzLmlkcyA9IHtcblx0XHRcdGVsZW1lbnQ6IHNlbGVjdG1lbnVJZCxcblx0XHRcdGJ1dHRvbjogc2VsZWN0bWVudUlkICsgXCItYnV0dG9uXCIsXG5cdFx0XHRtZW51OiBzZWxlY3RtZW51SWQgKyBcIi1tZW51XCJcblx0XHR9O1xuXG5cdFx0dGhpcy5fZHJhd0J1dHRvbigpO1xuXHRcdHRoaXMuX2RyYXdNZW51KCk7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuZGlzYWJsZSgpO1xuXHRcdH1cblx0fSxcblxuXHRfZHJhd0J1dHRvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0Ly8gQXNzb2NpYXRlIGV4aXN0aW5nIGxhYmVsIHdpdGggdGhlIG5ldyBidXR0b25cblx0XHR0aGlzLmxhYmVsID0gJCggXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5pZHMuZWxlbWVudCArIFwiJ11cIiApLmF0dHIoIFwiZm9yXCIsIHRoaXMuaWRzLmJ1dHRvbiApO1xuXHRcdHRoaXMuX29uKCB0aGlzLmxhYmVsLCB7XG5cdFx0XHRjbGljazogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbi5mb2N1cygpO1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gSGlkZSBvcmlnaW5hbCBzZWxlY3QgZWxlbWVudFxuXHRcdHRoaXMuZWxlbWVudC5oaWRlKCk7XG5cblx0XHQvLyBDcmVhdGUgYnV0dG9uXG5cdFx0dGhpcy5idXR0b24gPSAkKCBcIjxzcGFuPlwiLCB7XG5cdFx0XHRcImNsYXNzXCI6IFwidWktc2VsZWN0bWVudS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbFwiLFxuXHRcdFx0dGFiaW5kZXg6IHRoaXMub3B0aW9ucy5kaXNhYmxlZCA/IC0xIDogMCxcblx0XHRcdGlkOiB0aGlzLmlkcy5idXR0b24sXG5cdFx0XHRyb2xlOiBcImNvbWJvYm94XCIsXG5cdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0XCJhcmlhLWF1dG9jb21wbGV0ZVwiOiBcImxpc3RcIixcblx0XHRcdFwiYXJpYS1vd25zXCI6IHRoaXMuaWRzLm1lbnUsXG5cdFx0XHRcImFyaWEtaGFzcG9wdXBcIjogXCJ0cnVlXCJcblx0XHR9KVxuXHRcdFx0Lmluc2VydEFmdGVyKCB0aGlzLmVsZW1lbnQgKTtcblxuXHRcdCQoIFwiPHNwYW4+XCIsIHtcblx0XHRcdFwiY2xhc3NcIjogXCJ1aS1pY29uIFwiICsgdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvblxuXHRcdH0pXG5cdFx0XHQucHJlcGVuZFRvKCB0aGlzLmJ1dHRvbiApO1xuXG5cdFx0dGhpcy5idXR0b25UZXh0ID0gJCggXCI8c3Bhbj5cIiwge1xuXHRcdFx0XCJjbGFzc1wiOiBcInVpLXNlbGVjdG1lbnUtdGV4dFwiXG5cdFx0fSlcblx0XHRcdC5hcHBlbmRUbyggdGhpcy5idXR0b24gKTtcblxuXHRcdHRoaXMuX3NldFRleHQoIHRoaXMuYnV0dG9uVGV4dCwgdGhpcy5lbGVtZW50LmZpbmQoIFwib3B0aW9uOnNlbGVjdGVkXCIgKS50ZXh0KCkgKTtcblx0XHR0aGlzLl9yZXNpemVCdXR0b24oKTtcblxuXHRcdHRoaXMuX29uKCB0aGlzLmJ1dHRvbiwgdGhpcy5fYnV0dG9uRXZlbnRzICk7XG5cdFx0dGhpcy5idXR0b24ub25lKCBcImZvY3VzaW5cIiwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERlbGF5IHJlbmRlcmluZyB0aGUgbWVudSBpdGVtcyB1bnRpbCB0aGUgYnV0dG9uIHJlY2VpdmVzIGZvY3VzLlxuXHRcdFx0Ly8gVGhlIG1lbnUgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbmRlcmVkIHZpYSBhIHByb2dyYW1tYXRpYyBvcGVuLlxuXHRcdFx0aWYgKCAhdGhhdC5tZW51SXRlbXMgKSB7XG5cdFx0XHRcdHRoYXQuX3JlZnJlc2hNZW51KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5faG92ZXJhYmxlKCB0aGlzLmJ1dHRvbiApO1xuXHRcdHRoaXMuX2ZvY3VzYWJsZSggdGhpcy5idXR0b24gKTtcblx0fSxcblxuXHRfZHJhd01lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdC8vIENyZWF0ZSBtZW51XG5cdFx0dGhpcy5tZW51ID0gJCggXCI8dWw+XCIsIHtcblx0XHRcdFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG5cdFx0XHRcImFyaWEtbGFiZWxsZWRieVwiOiB0aGlzLmlkcy5idXR0b24sXG5cdFx0XHRpZDogdGhpcy5pZHMubWVudVxuXHRcdH0pO1xuXG5cdFx0Ly8gV3JhcCBtZW51XG5cdFx0dGhpcy5tZW51V3JhcCA9ICQoIFwiPGRpdj5cIiwge1xuXHRcdFx0XCJjbGFzc1wiOiBcInVpLXNlbGVjdG1lbnUtbWVudSB1aS1mcm9udFwiXG5cdFx0fSlcblx0XHRcdC5hcHBlbmQoIHRoaXMubWVudSApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblxuXHRcdC8vIEluaXRpYWxpemUgbWVudSB3aWRnZXRcblx0XHR0aGlzLm1lbnVJbnN0YW5jZSA9IHRoaXMubWVudVxuXHRcdFx0Lm1lbnUoe1xuXHRcdFx0XHRyb2xlOiBcImxpc3Rib3hcIixcblx0XHRcdFx0c2VsZWN0OiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHQvLyBzdXBwb3J0OiBJRThcblx0XHRcdFx0XHQvLyBJZiB0aGUgaXRlbSB3YXMgc2VsZWN0ZWQgdmlhIGEgY2xpY2ssIHRoZSB0ZXh0IHNlbGVjdGlvblxuXHRcdFx0XHRcdC8vIHdpbGwgYmUgZGVzdHJveWVkIGluIElFXG5cdFx0XHRcdFx0dGhhdC5fc2V0U2VsZWN0aW9uKCk7XG5cblx0XHRcdFx0XHR0aGF0Ll9zZWxlY3QoIHVpLml0ZW0uZGF0YSggXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiApLCBldmVudCApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRmb2N1czogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHR2YXIgaXRlbSA9IHVpLml0ZW0uZGF0YSggXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiApO1xuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCBpbml0YWwgZm9jdXMgZnJvbSBmaXJpbmcgYW5kIGNoZWNrIGlmIGl0cyBhIG5ld2x5IGZvY3VzZWQgaXRlbVxuXHRcdFx0XHRcdGlmICggdGhhdC5mb2N1c0luZGV4ICE9IG51bGwgJiYgaXRlbS5pbmRleCAhPT0gdGhhdC5mb2N1c0luZGV4ICkge1xuXHRcdFx0XHRcdFx0dGhhdC5fdHJpZ2dlciggXCJmb2N1c1wiLCBldmVudCwgeyBpdGVtOiBpdGVtIH0gKTtcblx0XHRcdFx0XHRcdGlmICggIXRoYXQuaXNPcGVuICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0Ll9zZWxlY3QoIGl0ZW0sIGV2ZW50ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRoYXQuZm9jdXNJbmRleCA9IGl0ZW0uaW5kZXg7XG5cblx0XHRcdFx0XHR0aGF0LmJ1dHRvbi5hdHRyKCBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLFxuXHRcdFx0XHRcdFx0dGhhdC5tZW51SXRlbXMuZXEoIGl0ZW0uaW5kZXggKS5hdHRyKCBcImlkXCIgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0Lm1lbnUoIFwiaW5zdGFuY2VcIiApO1xuXG5cdFx0Ly8gQWRqdXN0IG1lbnUgc3R5bGVzIHRvIGRyb3Bkb3duXG5cdFx0dGhpcy5tZW51XG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktY29ybmVyLWJvdHRvbVwiIClcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIgKTtcblxuXHRcdC8vIERvbid0IGNsb3NlIHRoZSBtZW51IG9uIG1vdXNlbGVhdmVcblx0XHR0aGlzLm1lbnVJbnN0YW5jZS5fb2ZmKCB0aGlzLm1lbnUsIFwibW91c2VsZWF2ZVwiICk7XG5cblx0XHQvLyBDYW5jZWwgdGhlIG1lbnUncyBjb2xsYXBzZUFsbCBvbiBkb2N1bWVudCBjbGlja1xuXHRcdHRoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cblx0XHQvLyBTZWxlY3RzIG9mdGVuIGNvbnRhaW4gZW1wdHkgaXRlbXMsIGJ1dCBuZXZlciBjb250YWluIGRpdmlkZXJzXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UuX2lzRGl2aWRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fcmVmcmVzaE1lbnUoKTtcblx0XHR0aGlzLl9zZXRUZXh0KCB0aGlzLmJ1dHRvblRleHQsIHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpLnRleHQoKSApO1xuXHRcdGlmICggIXRoaXMub3B0aW9ucy53aWR0aCApIHtcblx0XHRcdHRoaXMuX3Jlc2l6ZUJ1dHRvbigpO1xuXHRcdH1cblx0fSxcblxuXHRfcmVmcmVzaE1lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWVudS5lbXB0eSgpO1xuXG5cdFx0dmFyIGl0ZW0sXG5cdFx0XHRvcHRpb25zID0gdGhpcy5lbGVtZW50LmZpbmQoIFwib3B0aW9uXCIgKTtcblxuXHRcdGlmICggIW9wdGlvbnMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3BhcnNlT3B0aW9ucyggb3B0aW9ucyApO1xuXHRcdHRoaXMuX3JlbmRlck1lbnUoIHRoaXMubWVudSwgdGhpcy5pdGVtcyApO1xuXG5cdFx0dGhpcy5tZW51SW5zdGFuY2UucmVmcmVzaCgpO1xuXHRcdHRoaXMubWVudUl0ZW1zID0gdGhpcy5tZW51LmZpbmQoIFwibGlcIiApLm5vdCggXCIudWktc2VsZWN0bWVudS1vcHRncm91cFwiICk7XG5cblx0XHRpdGVtID0gdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCk7XG5cblx0XHQvLyBVcGRhdGUgdGhlIG1lbnUgdG8gaGF2ZSB0aGUgY29ycmVjdCBpdGVtIGZvY3VzZWRcblx0XHR0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyggbnVsbCwgaXRlbSApO1xuXHRcdHRoaXMuX3NldEFyaWEoIGl0ZW0uZGF0YSggXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiApICk7XG5cblx0XHQvLyBTZXQgZGlzYWJsZWQgc3RhdGVcblx0XHR0aGlzLl9zZXRPcHRpb24oIFwiZGlzYWJsZWRcIiwgdGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiApICk7XG5cdH0sXG5cblx0b3BlbjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgdGhlIG1lbnUgaXMgYmVpbmcgb3BlbmVkLCByZW5kZXIgdGhlIGl0ZW1zXG5cdFx0aWYgKCAhdGhpcy5tZW51SXRlbXMgKSB7XG5cdFx0XHR0aGlzLl9yZWZyZXNoTWVudSgpO1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIE1lbnUgY2xlYXJzIGZvY3VzIG9uIGNsb3NlLCByZXNldCBmb2N1cyB0byBzZWxlY3RlZCBpdGVtXG5cdFx0XHR0aGlzLm1lbnUuZmluZCggXCIudWktc3RhdGUtZm9jdXNcIiApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcblx0XHRcdHRoaXMubWVudUluc3RhbmNlLmZvY3VzKCBudWxsLCB0aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSApO1xuXHRcdH1cblxuXHRcdHRoaXMuaXNPcGVuID0gdHJ1ZTtcblx0XHR0aGlzLl90b2dnbGVBdHRyKCk7XG5cdFx0dGhpcy5fcmVzaXplTWVudSgpO1xuXHRcdHRoaXMuX3Bvc2l0aW9uKCk7XG5cblx0XHR0aGlzLl9vbiggdGhpcy5kb2N1bWVudCwgdGhpcy5fZG9jdW1lbnRDbGljayApO1xuXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJvcGVuXCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0X3Bvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLm1lbnVXcmFwLnBvc2l0aW9uKCAkLmV4dGVuZCggeyBvZjogdGhpcy5idXR0b24gfSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uICkgKTtcblx0fSxcblxuXHRjbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggIXRoaXMuaXNPcGVuICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuaXNPcGVuID0gZmFsc2U7XG5cdFx0dGhpcy5fdG9nZ2xlQXR0cigpO1xuXG5cdFx0dGhpcy5yYW5nZSA9IG51bGw7XG5cdFx0dGhpcy5fb2ZmKCB0aGlzLmRvY3VtZW50ICk7XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcImNsb3NlXCIsIGV2ZW50ICk7XG5cdH0sXG5cblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5idXR0b247XG5cdH0sXG5cblx0bWVudVdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWVudTtcblx0fSxcblxuXHRfcmVuZGVyTWVudTogZnVuY3Rpb24oIHVsLCBpdGVtcyApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRjdXJyZW50T3B0Z3JvdXAgPSBcIlwiO1xuXG5cdFx0JC5lYWNoKCBpdGVtcywgZnVuY3Rpb24oIGluZGV4LCBpdGVtICkge1xuXHRcdFx0aWYgKCBpdGVtLm9wdGdyb3VwICE9PSBjdXJyZW50T3B0Z3JvdXAgKSB7XG5cdFx0XHRcdCQoIFwiPGxpPlwiLCB7XG5cdFx0XHRcdFx0XCJjbGFzc1wiOiBcInVpLXNlbGVjdG1lbnUtb3B0Z3JvdXAgdWktbWVudS1kaXZpZGVyXCIgK1xuXHRcdFx0XHRcdFx0KCBpdGVtLmVsZW1lbnQucGFyZW50KCBcIm9wdGdyb3VwXCIgKS5wcm9wKCBcImRpc2FibGVkXCIgKSA/XG5cdFx0XHRcdFx0XHRcdFwiIHVpLXN0YXRlLWRpc2FibGVkXCIgOlxuXHRcdFx0XHRcdFx0XHRcIlwiICksXG5cdFx0XHRcdFx0dGV4dDogaXRlbS5vcHRncm91cFxuXHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5hcHBlbmRUbyggdWwgKTtcblxuXHRcdFx0XHRjdXJyZW50T3B0Z3JvdXAgPSBpdGVtLm9wdGdyb3VwO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGF0Ll9yZW5kZXJJdGVtRGF0YSggdWwsIGl0ZW0gKTtcblx0XHR9KTtcblx0fSxcblxuXHRfcmVuZGVySXRlbURhdGE6IGZ1bmN0aW9uKCB1bCwgaXRlbSApIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVuZGVySXRlbSggdWwsIGl0ZW0gKS5kYXRhKCBcInVpLXNlbGVjdG1lbnUtaXRlbVwiLCBpdGVtICk7XG5cdH0sXG5cblx0X3JlbmRlckl0ZW06IGZ1bmN0aW9uKCB1bCwgaXRlbSApIHtcblx0XHR2YXIgbGkgPSAkKCBcIjxsaT5cIiApO1xuXG5cdFx0aWYgKCBpdGVtLmRpc2FibGVkICkge1xuXHRcdFx0bGkuYWRkQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApO1xuXHRcdH1cblx0XHR0aGlzLl9zZXRUZXh0KCBsaSwgaXRlbS5sYWJlbCApO1xuXG5cdFx0cmV0dXJuIGxpLmFwcGVuZFRvKCB1bCApO1xuXHR9LFxuXG5cdF9zZXRUZXh0OiBmdW5jdGlvbiggZWxlbWVudCwgdmFsdWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSApIHtcblx0XHRcdGVsZW1lbnQudGV4dCggdmFsdWUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudC5odG1sKCBcIiYjMTYwO1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9tb3ZlOiBmdW5jdGlvbiggZGlyZWN0aW9uLCBldmVudCApIHtcblx0XHR2YXIgaXRlbSwgbmV4dCxcblx0XHRcdGZpbHRlciA9IFwiLnVpLW1lbnUtaXRlbVwiO1xuXG5cdFx0aWYgKCB0aGlzLmlzT3BlbiApIHtcblx0XHRcdGl0ZW0gPSB0aGlzLm1lbnVJdGVtcy5lcSggdGhpcy5mb2N1c0luZGV4ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGl0ZW0gPSB0aGlzLm1lbnVJdGVtcy5lcSggdGhpcy5lbGVtZW50WyAwIF0uc2VsZWN0ZWRJbmRleCApO1xuXHRcdFx0ZmlsdGVyICs9IFwiOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpXCI7XG5cdFx0fVxuXG5cdFx0aWYgKCBkaXJlY3Rpb24gPT09IFwiZmlyc3RcIiB8fCBkaXJlY3Rpb24gPT09IFwibGFzdFwiICkge1xuXHRcdFx0bmV4dCA9IGl0ZW1bIGRpcmVjdGlvbiA9PT0gXCJmaXJzdFwiID8gXCJwcmV2QWxsXCIgOiBcIm5leHRBbGxcIiBdKCBmaWx0ZXIgKS5lcSggLTEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV4dCA9IGl0ZW1bIGRpcmVjdGlvbiArIFwiQWxsXCIgXSggZmlsdGVyICkuZXEoIDAgKTtcblx0XHR9XG5cblx0XHRpZiAoIG5leHQubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5tZW51SW5zdGFuY2UuZm9jdXMoIGV2ZW50LCBuZXh0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9nZXRTZWxlY3RlZEl0ZW06IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1lbnVJdGVtcy5lcSggdGhpcy5lbGVtZW50WyAwIF0uc2VsZWN0ZWRJbmRleCApO1xuXHR9LFxuXG5cdF90b2dnbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzWyB0aGlzLmlzT3BlbiA/IFwiY2xvc2VcIiA6IFwib3BlblwiIF0oIGV2ZW50ICk7XG5cdH0sXG5cblx0X3NldFNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHNlbGVjdGlvbjtcblxuXHRcdGlmICggIXRoaXMucmFuZ2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB3aW5kb3cuZ2V0U2VsZWN0aW9uICkge1xuXHRcdFx0c2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0c2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuXHRcdFx0c2VsZWN0aW9uLmFkZFJhbmdlKCB0aGlzLnJhbmdlICk7XG5cblx0XHQvLyBzdXBwb3J0OiBJRThcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5yYW5nZS5zZWxlY3QoKTtcblx0XHR9XG5cblx0XHQvLyBzdXBwb3J0OiBJRVxuXHRcdC8vIFNldHRpbmcgdGhlIHRleHQgc2VsZWN0aW9uIGtpbGxzIHRoZSBidXR0b24gZm9jdXMgaW4gSUUsIGJ1dFxuXHRcdC8vIHJlc3RvcmluZyB0aGUgZm9jdXMgZG9lc24ndCBraWxsIHRoZSBzZWxlY3Rpb24uXG5cdFx0dGhpcy5idXR0b24uZm9jdXMoKTtcblx0fSxcblxuXHRfZG9jdW1lbnRDbGljazoge1xuXHRcdG1vdXNlZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0aWYgKCAhdGhpcy5pc09wZW4gKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktc2VsZWN0bWVudS1tZW51LCAjXCIgKyB0aGlzLmlkcy5idXR0b24gKS5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdF9idXR0b25FdmVudHM6IHtcblxuXHRcdC8vIFByZXZlbnQgdGV4dCBzZWxlY3Rpb24gZnJvbSBiZWluZyByZXNldCB3aGVuIGludGVyYWN0aW5nIHdpdGggdGhlIHNlbGVjdG1lbnUgKCMxMDE0NClcblx0XHRtb3VzZWRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGVjdGlvbjtcblxuXHRcdFx0aWYgKCB3aW5kb3cuZ2V0U2VsZWN0aW9uICkge1xuXHRcdFx0XHRzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdGlmICggc2VsZWN0aW9uLnJhbmdlQ291bnQgKSB7XG5cdFx0XHRcdFx0dGhpcy5yYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KCAwICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gc3VwcG9ydDogSUU4XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR0aGlzLl9zZXRTZWxlY3Rpb24oKTtcblx0XHRcdHRoaXMuX3RvZ2dsZSggZXZlbnQgKTtcblx0XHR9LFxuXG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHByZXZlbnREZWZhdWx0ID0gdHJ1ZTtcblx0XHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlRBQjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRVNDQVBFOlxuXHRcdFx0XHRcdHRoaXMuY2xvc2UoIGV2ZW50ICk7XG5cdFx0XHRcdFx0cHJldmVudERlZmF1bHQgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5URVI6XG5cdFx0XHRcdFx0aWYgKCB0aGlzLmlzT3BlbiApIHtcblx0XHRcdFx0XHRcdHRoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdFx0aWYgKCBldmVudC5hbHRLZXkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLl90b2dnbGUoIGV2ZW50ICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuX21vdmUoIFwicHJldlwiLCBldmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdFx0XHRpZiAoIGV2ZW50LmFsdEtleSApIHtcblx0XHRcdFx0XHRcdHRoaXMuX3RvZ2dsZSggZXZlbnQgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJuZXh0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcblx0XHRcdFx0XHRpZiAoIHRoaXMuaXNPcGVuICkge1xuXHRcdFx0XHRcdFx0dGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0oIGV2ZW50ICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuX3RvZ2dsZSggZXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJwcmV2XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwibmV4dFwiLCBldmVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdHRoaXMuX21vdmUoIFwiZmlyc3RcIiwgZXZlbnQgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRU5EOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0dGhpcy5fbW92ZSggXCJsYXN0XCIsIGV2ZW50ICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhpcy5tZW51LnRyaWdnZXIoIGV2ZW50ICk7XG5cdFx0XHRcdFx0cHJldmVudERlZmF1bHQgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBwcmV2ZW50RGVmYXVsdCApIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X3NlbGVjdEZvY3VzZWRJdGVtOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGl0ZW0gPSB0aGlzLm1lbnVJdGVtcy5lcSggdGhpcy5mb2N1c0luZGV4ICk7XG5cdFx0aWYgKCAhaXRlbS5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHR0aGlzLl9zZWxlY3QoIGl0ZW0uZGF0YSggXCJ1aS1zZWxlY3RtZW51LWl0ZW1cIiApLCBldmVudCApO1xuXHRcdH1cblx0fSxcblxuXHRfc2VsZWN0OiBmdW5jdGlvbiggaXRlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIG9sZEluZGV4ID0gdGhpcy5lbGVtZW50WyAwIF0uc2VsZWN0ZWRJbmRleDtcblxuXHRcdC8vIENoYW5nZSBuYXRpdmUgc2VsZWN0IGVsZW1lbnRcblx0XHR0aGlzLmVsZW1lbnRbIDAgXS5zZWxlY3RlZEluZGV4ID0gaXRlbS5pbmRleDtcblx0XHR0aGlzLl9zZXRUZXh0KCB0aGlzLmJ1dHRvblRleHQsIGl0ZW0ubGFiZWwgKTtcblx0XHR0aGlzLl9zZXRBcmlhKCBpdGVtICk7XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJzZWxlY3RcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cblx0XHRpZiAoIGl0ZW0uaW5kZXggIT09IG9sZEluZGV4ICkge1xuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJjaGFuZ2VcIiwgZXZlbnQsIHsgaXRlbTogaXRlbSB9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5jbG9zZSggZXZlbnQgKTtcblx0fSxcblxuXHRfc2V0QXJpYTogZnVuY3Rpb24oIGl0ZW0gKSB7XG5cdFx0dmFyIGlkID0gdGhpcy5tZW51SXRlbXMuZXEoIGl0ZW0uaW5kZXggKS5hdHRyKCBcImlkXCIgKTtcblxuXHRcdHRoaXMuYnV0dG9uLmF0dHIoe1xuXHRcdFx0XCJhcmlhLWxhYmVsbGVkYnlcIjogaWQsXG5cdFx0XHRcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiOiBpZFxuXHRcdH0pO1xuXHRcdHRoaXMubWVudS5hdHRyKCBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLCBpZCApO1xuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdGlmICgga2V5ID09PSBcImljb25zXCIgKSB7XG5cdFx0XHR0aGlzLmJ1dHRvbi5maW5kKCBcInNwYW4udWktaWNvblwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uIClcblx0XHRcdFx0LmFkZENsYXNzKCB2YWx1ZS5idXR0b24gKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiYXBwZW5kVG9cIiApIHtcblx0XHRcdHRoaXMubWVudVdyYXAuYXBwZW5kVG8oIHRoaXMuX2FwcGVuZFRvKCkgKTtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0dGhpcy5tZW51SW5zdGFuY2Uub3B0aW9uKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0XHR0aGlzLmJ1dHRvblxuXHRcdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgdmFsdWUgKVxuXHRcdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XG5cblx0XHRcdHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XG5cdFx0XHRpZiAoIHZhbHVlICkge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbi5hdHRyKCBcInRhYmluZGV4XCIsIC0xICk7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuYnV0dG9uLmF0dHIoIFwidGFiaW5kZXhcIiwgMCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcIndpZHRoXCIgKSB7XG5cdFx0XHR0aGlzLl9yZXNpemVCdXR0b24oKTtcblx0XHR9XG5cdH0sXG5cblx0X2FwcGVuZFRvOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbWVudCA9IHRoaXMub3B0aW9ucy5hcHBlbmRUbztcblxuXHRcdGlmICggZWxlbWVudCApIHtcblx0XHRcdGVsZW1lbnQgPSBlbGVtZW50LmpxdWVyeSB8fCBlbGVtZW50Lm5vZGVUeXBlID9cblx0XHRcdFx0JCggZWxlbWVudCApIDpcblx0XHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBlbGVtZW50ICkuZXEoIDAgKTtcblx0XHR9XG5cblx0XHRpZiAoICFlbGVtZW50IHx8ICFlbGVtZW50WyAwIF0gKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiLnVpLWZyb250XCIgKTtcblx0XHR9XG5cblx0XHRpZiAoICFlbGVtZW50Lmxlbmd0aCApIHtcblx0XHRcdGVsZW1lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF0uYm9keTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblx0fSxcblxuXHRfdG9nZ2xlQXR0cjogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5idXR0b25cblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItdG9wXCIsIHRoaXMuaXNPcGVuIClcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIsICF0aGlzLmlzT3BlbiApXG5cdFx0XHQuYXR0ciggXCJhcmlhLWV4cGFuZGVkXCIsIHRoaXMuaXNPcGVuICk7XG5cdFx0dGhpcy5tZW51V3JhcC50b2dnbGVDbGFzcyggXCJ1aS1zZWxlY3RtZW51LW9wZW5cIiwgdGhpcy5pc09wZW4gKTtcblx0XHR0aGlzLm1lbnUuYXR0ciggXCJhcmlhLWhpZGRlblwiLCAhdGhpcy5pc09wZW4gKTtcblx0fSxcblxuXHRfcmVzaXplQnV0dG9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgd2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGg7XG5cblx0XHRpZiAoICF3aWR0aCApIHtcblx0XHRcdHdpZHRoID0gdGhpcy5lbGVtZW50LnNob3coKS5vdXRlcldpZHRoKCk7XG5cdFx0XHR0aGlzLmVsZW1lbnQuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuYnV0dG9uLm91dGVyV2lkdGgoIHdpZHRoICk7XG5cdH0sXG5cblx0X3Jlc2l6ZU1lbnU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWVudS5vdXRlcldpZHRoKCBNYXRoLm1heChcblx0XHRcdHRoaXMuYnV0dG9uLm91dGVyV2lkdGgoKSxcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUUxMFxuXHRcdFx0Ly8gSUUxMCB3cmFwcyBsb25nIHRleHQgKHBvc3NpYmx5IGEgcm91bmRpbmcgYnVnKVxuXHRcdFx0Ly8gc28gd2UgYWRkIDFweCB0byBhdm9pZCB0aGUgd3JhcHBpbmdcblx0XHRcdHRoaXMubWVudS53aWR0aCggXCJcIiApLm91dGVyV2lkdGgoKSArIDFcblx0XHQpICk7XG5cdH0sXG5cblx0X2dldENyZWF0ZU9wdGlvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7IGRpc2FibGVkOiB0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiICkgfTtcblx0fSxcblxuXHRfcGFyc2VPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0XHR2YXIgZGF0YSA9IFtdO1xuXHRcdG9wdGlvbnMuZWFjaChmdW5jdGlvbiggaW5kZXgsIGl0ZW0gKSB7XG5cdFx0XHR2YXIgb3B0aW9uID0gJCggaXRlbSApLFxuXHRcdFx0XHRvcHRncm91cCA9IG9wdGlvbi5wYXJlbnQoIFwib3B0Z3JvdXBcIiApO1xuXHRcdFx0ZGF0YS5wdXNoKHtcblx0XHRcdFx0ZWxlbWVudDogb3B0aW9uLFxuXHRcdFx0XHRpbmRleDogaW5kZXgsXG5cdFx0XHRcdHZhbHVlOiBvcHRpb24udmFsKCksXG5cdFx0XHRcdGxhYmVsOiBvcHRpb24udGV4dCgpLFxuXHRcdFx0XHRvcHRncm91cDogb3B0Z3JvdXAuYXR0ciggXCJsYWJlbFwiICkgfHwgXCJcIixcblx0XHRcdFx0ZGlzYWJsZWQ6IG9wdGdyb3VwLnByb3AoIFwiZGlzYWJsZWRcIiApIHx8IG9wdGlvbi5wcm9wKCBcImRpc2FibGVkXCIgKVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0dGhpcy5pdGVtcyA9IGRhdGE7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWVudVdyYXAucmVtb3ZlKCk7XG5cdFx0dGhpcy5idXR0b24ucmVtb3ZlKCk7XG5cdFx0dGhpcy5lbGVtZW50LnNob3coKTtcblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKTtcblx0XHR0aGlzLmxhYmVsLmF0dHIoIFwiZm9yXCIsIHRoaXMuaWRzLmVsZW1lbnQgKTtcblx0fVxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgU2xpZGVyIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGVyL1xuICovXG5cblxudmFyIHNsaWRlciA9ICQud2lkZ2V0KCBcInVpLnNsaWRlclwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcInNsaWRlXCIsXG5cblx0b3B0aW9uczoge1xuXHRcdGFuaW1hdGU6IGZhbHNlLFxuXHRcdGRpc3RhbmNlOiAwLFxuXHRcdG1heDogMTAwLFxuXHRcdG1pbjogMCxcblx0XHRvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG5cdFx0cmFuZ2U6IGZhbHNlLFxuXHRcdHN0ZXA6IDEsXG5cdFx0dmFsdWU6IDAsXG5cdFx0dmFsdWVzOiBudWxsLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0Y2hhbmdlOiBudWxsLFxuXHRcdHNsaWRlOiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGxcblx0fSxcblxuXHQvLyBudW1iZXIgb2YgcGFnZXMgaW4gYSBzbGlkZXJcblx0Ly8gKGhvdyBtYW55IHRpbWVzIGNhbiB5b3UgcGFnZSB1cC9kb3duIHRvIGdvIHRocm91Z2ggdGhlIHdob2xlIHJhbmdlKVxuXHRudW1QYWdlczogNSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9rZXlTbGlkaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5fbW91c2VTbGlkaW5nID0gZmFsc2U7XG5cdFx0dGhpcy5fYW5pbWF0ZU9mZiA9IHRydWU7XG5cdFx0dGhpcy5faGFuZGxlSW5kZXggPSBudWxsO1xuXHRcdHRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCk7XG5cdFx0dGhpcy5fbW91c2VJbml0KCk7XG5cdFx0dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7XG5cblx0XHR0aGlzLmVsZW1lbnRcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zbGlkZXJcIiArXG5cdFx0XHRcdFwiIHVpLXNsaWRlci1cIiArIHRoaXMub3JpZW50YXRpb24gK1xuXHRcdFx0XHRcIiB1aS13aWRnZXRcIiArXG5cdFx0XHRcdFwiIHVpLXdpZGdldC1jb250ZW50XCIgK1xuXHRcdFx0XHRcIiB1aS1jb3JuZXItYWxsXCIpO1xuXG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHRcdHRoaXMuX3NldE9wdGlvbiggXCJkaXNhYmxlZFwiLCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcblxuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0fSxcblxuXHRfcmVmcmVzaDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fY3JlYXRlUmFuZ2UoKTtcblx0XHR0aGlzLl9jcmVhdGVIYW5kbGVzKCk7XG5cdFx0dGhpcy5fc2V0dXBFdmVudHMoKTtcblx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0fSxcblxuXHRfY3JlYXRlSGFuZGxlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGksIGhhbmRsZUNvdW50LFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGV4aXN0aW5nSGFuZGxlcyA9IHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1zbGlkZXItaGFuZGxlXCIgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGxcIiApLFxuXHRcdFx0aGFuZGxlID0gXCI8c3BhbiBjbGFzcz0ndWktc2xpZGVyLWhhbmRsZSB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwnIHRhYmluZGV4PScwJz48L3NwYW4+XCIsXG5cdFx0XHRoYW5kbGVzID0gW107XG5cblx0XHRoYW5kbGVDb3VudCA9ICggb3B0aW9ucy52YWx1ZXMgJiYgb3B0aW9ucy52YWx1ZXMubGVuZ3RoICkgfHwgMTtcblxuXHRcdGlmICggZXhpc3RpbmdIYW5kbGVzLmxlbmd0aCA+IGhhbmRsZUNvdW50ICkge1xuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzLnNsaWNlKCBoYW5kbGVDb3VudCApLnJlbW92ZSgpO1xuXHRcdFx0ZXhpc3RpbmdIYW5kbGVzID0gZXhpc3RpbmdIYW5kbGVzLnNsaWNlKCAwLCBoYW5kbGVDb3VudCApO1xuXHRcdH1cblxuXHRcdGZvciAoIGkgPSBleGlzdGluZ0hhbmRsZXMubGVuZ3RoOyBpIDwgaGFuZGxlQ291bnQ7IGkrKyApIHtcblx0XHRcdGhhbmRsZXMucHVzaCggaGFuZGxlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYW5kbGVzID0gZXhpc3RpbmdIYW5kbGVzLmFkZCggJCggaGFuZGxlcy5qb2luKCBcIlwiICkgKS5hcHBlbmRUbyggdGhpcy5lbGVtZW50ICkgKTtcblxuXHRcdHRoaXMuaGFuZGxlID0gdGhpcy5oYW5kbGVzLmVxKCAwICk7XG5cblx0XHR0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdCQoIHRoaXMgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiwgaSApO1xuXHRcdH0pO1xuXHR9LFxuXG5cdF9jcmVhdGVSYW5nZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRjbGFzc2VzID0gXCJcIjtcblxuXHRcdGlmICggb3B0aW9ucy5yYW5nZSApIHtcblx0XHRcdGlmICggb3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0aWYgKCAhb3B0aW9ucy52YWx1ZXMgKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy52YWx1ZXMgPSBbIHRoaXMuX3ZhbHVlTWluKCksIHRoaXMuX3ZhbHVlTWluKCkgXTtcblx0XHRcdFx0fSBlbHNlIGlmICggb3B0aW9ucy52YWx1ZXMubGVuZ3RoICYmIG9wdGlvbnMudmFsdWVzLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0XHRvcHRpb25zLnZhbHVlcyA9IFsgb3B0aW9ucy52YWx1ZXNbMF0sIG9wdGlvbnMudmFsdWVzWzBdIF07XG5cdFx0XHRcdH0gZWxzZSBpZiAoICQuaXNBcnJheSggb3B0aW9ucy52YWx1ZXMgKSApIHtcblx0XHRcdFx0XHRvcHRpb25zLnZhbHVlcyA9IG9wdGlvbnMudmFsdWVzLnNsaWNlKDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggIXRoaXMucmFuZ2UgfHwgIXRoaXMucmFuZ2UubGVuZ3RoICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlID0gJCggXCI8ZGl2PjwvZGl2PlwiIClcblx0XHRcdFx0XHQuYXBwZW5kVG8oIHRoaXMuZWxlbWVudCApO1xuXG5cdFx0XHRcdGNsYXNzZXMgPSBcInVpLXNsaWRlci1yYW5nZVwiICtcblx0XHRcdFx0Ly8gbm90ZTogdGhpcyBpc24ndCB0aGUgbW9zdCBmaXR0aW5nbHkgc2VtYW50aWMgZnJhbWV3b3JrIGNsYXNzIGZvciB0aGlzIGVsZW1lbnQsXG5cdFx0XHRcdC8vIGJ1dCB3b3JrZWQgYmVzdCB2aXN1YWxseSB3aXRoIGEgdmFyaWV0eSBvZiB0aGVtZXNcblx0XHRcdFx0XCIgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnJlbW92ZUNsYXNzKCBcInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heFwiIClcblx0XHRcdFx0XHQvLyBIYW5kbGUgcmFuZ2Ugc3dpdGNoaW5nIGZyb20gdHJ1ZSB0byBtaW4vbWF4XG5cdFx0XHRcdFx0LmNzcyh7XG5cdFx0XHRcdFx0XHRcImxlZnRcIjogXCJcIixcblx0XHRcdFx0XHRcdFwiYm90dG9tXCI6IFwiXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5yYW5nZS5hZGRDbGFzcyggY2xhc3NlcyArXG5cdFx0XHRcdCggKCBvcHRpb25zLnJhbmdlID09PSBcIm1pblwiIHx8IG9wdGlvbnMucmFuZ2UgPT09IFwibWF4XCIgKSA/IFwiIHVpLXNsaWRlci1yYW5nZS1cIiArIG9wdGlvbnMucmFuZ2UgOiBcIlwiICkgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCB0aGlzLnJhbmdlICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnJlbW92ZSgpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5yYW5nZSA9IG51bGw7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXR1cEV2ZW50czogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fb2ZmKCB0aGlzLmhhbmRsZXMgKTtcblx0XHR0aGlzLl9vbiggdGhpcy5oYW5kbGVzLCB0aGlzLl9oYW5kbGVFdmVudHMgKTtcblx0XHR0aGlzLl9ob3ZlcmFibGUoIHRoaXMuaGFuZGxlcyApO1xuXHRcdHRoaXMuX2ZvY3VzYWJsZSggdGhpcy5oYW5kbGVzICk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuaGFuZGxlcy5yZW1vdmUoKTtcblx0XHRpZiAoIHRoaXMucmFuZ2UgKSB7XG5cdFx0XHR0aGlzLnJhbmdlLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNsaWRlclwiICtcblx0XHRcdFx0XCIgdWktc2xpZGVyLWhvcml6b250YWxcIiArXG5cdFx0XHRcdFwiIHVpLXNsaWRlci12ZXJ0aWNhbFwiICtcblx0XHRcdFx0XCIgdWktd2lkZ2V0XCIgK1xuXHRcdFx0XHRcIiB1aS13aWRnZXQtY29udGVudFwiICtcblx0XHRcdFx0XCIgdWktY29ybmVyLWFsbFwiICk7XG5cblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblx0fSxcblxuXHRfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHBvc2l0aW9uLCBub3JtVmFsdWUsIGRpc3RhbmNlLCBjbG9zZXN0SGFuZGxlLCBpbmRleCwgYWxsb3dlZCwgb2Zmc2V0LCBtb3VzZU92ZXJIYW5kbGUsXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRpZiAoIG8uZGlzYWJsZWQgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbGVtZW50U2l6ZSA9IHtcblx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuXHRcdFx0aGVpZ2h0OiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKVxuXHRcdH07XG5cdFx0dGhpcy5lbGVtZW50T2Zmc2V0ID0gdGhpcy5lbGVtZW50Lm9mZnNldCgpO1xuXG5cdFx0cG9zaXRpb24gPSB7IHg6IGV2ZW50LnBhZ2VYLCB5OiBldmVudC5wYWdlWSB9O1xuXHRcdG5vcm1WYWx1ZSA9IHRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSggcG9zaXRpb24gKTtcblx0XHRkaXN0YW5jZSA9IHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpICsgMTtcblx0XHR0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB0aGlzRGlzdGFuY2UgPSBNYXRoLmFicyggbm9ybVZhbHVlIC0gdGhhdC52YWx1ZXMoaSkgKTtcblx0XHRcdGlmICgoIGRpc3RhbmNlID4gdGhpc0Rpc3RhbmNlICkgfHxcblx0XHRcdFx0KCBkaXN0YW5jZSA9PT0gdGhpc0Rpc3RhbmNlICYmXG5cdFx0XHRcdFx0KGkgPT09IHRoYXQuX2xhc3RDaGFuZ2VkVmFsdWUgfHwgdGhhdC52YWx1ZXMoaSkgPT09IG8ubWluICkpKSB7XG5cdFx0XHRcdGRpc3RhbmNlID0gdGhpc0Rpc3RhbmNlO1xuXHRcdFx0XHRjbG9zZXN0SGFuZGxlID0gJCggdGhpcyApO1xuXHRcdFx0XHRpbmRleCA9IGk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhbGxvd2VkID0gdGhpcy5fc3RhcnQoIGV2ZW50LCBpbmRleCApO1xuXHRcdGlmICggYWxsb3dlZCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHRoaXMuX21vdXNlU2xpZGluZyA9IHRydWU7XG5cblx0XHR0aGlzLl9oYW5kbGVJbmRleCA9IGluZGV4O1xuXG5cdFx0Y2xvc2VzdEhhbmRsZVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiIClcblx0XHRcdC5mb2N1cygpO1xuXG5cdFx0b2Zmc2V0ID0gY2xvc2VzdEhhbmRsZS5vZmZzZXQoKTtcblx0XHRtb3VzZU92ZXJIYW5kbGUgPSAhJCggZXZlbnQudGFyZ2V0ICkucGFyZW50cygpLmFkZEJhY2soKS5pcyggXCIudWktc2xpZGVyLWhhbmRsZVwiICk7XG5cdFx0dGhpcy5fY2xpY2tPZmZzZXQgPSBtb3VzZU92ZXJIYW5kbGUgPyB7IGxlZnQ6IDAsIHRvcDogMCB9IDoge1xuXHRcdFx0bGVmdDogZXZlbnQucGFnZVggLSBvZmZzZXQubGVmdCAtICggY2xvc2VzdEhhbmRsZS53aWR0aCgpIC8gMiApLFxuXHRcdFx0dG9wOiBldmVudC5wYWdlWSAtIG9mZnNldC50b3AgLVxuXHRcdFx0XHQoIGNsb3Nlc3RIYW5kbGUuaGVpZ2h0KCkgLyAyICkgLVxuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLCAxMCApIHx8IDAgKSAtXG5cdFx0XHRcdCggcGFyc2VJbnQoIGNsb3Nlc3RIYW5kbGUuY3NzKFwiYm9yZGVyQm90dG9tV2lkdGhcIiksIDEwICkgfHwgMCkgK1xuXHRcdFx0XHQoIHBhcnNlSW50KCBjbG9zZXN0SGFuZGxlLmNzcyhcIm1hcmdpblRvcFwiKSwgMTAgKSB8fCAwKVxuXHRcdH07XG5cblx0XHRpZiAoICF0aGlzLmhhbmRsZXMuaGFzQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApICkge1xuXHRcdFx0dGhpcy5fc2xpZGUoIGV2ZW50LCBpbmRleCwgbm9ybVZhbHVlICk7XG5cdFx0fVxuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdF9tb3VzZVN0YXJ0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRfbW91c2VEcmFnOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIHBvc2l0aW9uID0geyB4OiBldmVudC5wYWdlWCwgeTogZXZlbnQucGFnZVkgfSxcblx0XHRcdG5vcm1WYWx1ZSA9IHRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSggcG9zaXRpb24gKTtcblxuXHRcdHRoaXMuX3NsaWRlKCBldmVudCwgdGhpcy5faGFuZGxlSW5kZXgsIG5vcm1WYWx1ZSApO1xuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF9tb3VzZVN0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR0aGlzLmhhbmRsZXMucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHR0aGlzLl9tb3VzZVNsaWRpbmcgPSBmYWxzZTtcblxuXHRcdHRoaXMuX3N0b3AoIGV2ZW50LCB0aGlzLl9oYW5kbGVJbmRleCApO1xuXHRcdHRoaXMuX2NoYW5nZSggZXZlbnQsIHRoaXMuX2hhbmRsZUluZGV4ICk7XG5cblx0XHR0aGlzLl9oYW5kbGVJbmRleCA9IG51bGw7XG5cdFx0dGhpcy5fY2xpY2tPZmZzZXQgPSBudWxsO1xuXHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfZGV0ZWN0T3JpZW50YXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMub3JpZW50YXRpb24gPSAoIHRoaXMub3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIjtcblx0fSxcblxuXHRfbm9ybVZhbHVlRnJvbU1vdXNlOiBmdW5jdGlvbiggcG9zaXRpb24gKSB7XG5cdFx0dmFyIHBpeGVsVG90YWwsXG5cdFx0XHRwaXhlbE1vdXNlLFxuXHRcdFx0cGVyY2VudE1vdXNlLFxuXHRcdFx0dmFsdWVUb3RhbCxcblx0XHRcdHZhbHVlTW91c2U7XG5cblx0XHRpZiAoIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0cGl4ZWxUb3RhbCA9IHRoaXMuZWxlbWVudFNpemUud2lkdGg7XG5cdFx0XHRwaXhlbE1vdXNlID0gcG9zaXRpb24ueCAtIHRoaXMuZWxlbWVudE9mZnNldC5sZWZ0IC0gKCB0aGlzLl9jbGlja09mZnNldCA/IHRoaXMuX2NsaWNrT2Zmc2V0LmxlZnQgOiAwICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBpeGVsVG90YWwgPSB0aGlzLmVsZW1lbnRTaXplLmhlaWdodDtcblx0XHRcdHBpeGVsTW91c2UgPSBwb3NpdGlvbi55IC0gdGhpcy5lbGVtZW50T2Zmc2V0LnRvcCAtICggdGhpcy5fY2xpY2tPZmZzZXQgPyB0aGlzLl9jbGlja09mZnNldC50b3AgOiAwICk7XG5cdFx0fVxuXG5cdFx0cGVyY2VudE1vdXNlID0gKCBwaXhlbE1vdXNlIC8gcGl4ZWxUb3RhbCApO1xuXHRcdGlmICggcGVyY2VudE1vdXNlID4gMSApIHtcblx0XHRcdHBlcmNlbnRNb3VzZSA9IDE7XG5cdFx0fVxuXHRcdGlmICggcGVyY2VudE1vdXNlIDwgMCApIHtcblx0XHRcdHBlcmNlbnRNb3VzZSA9IDA7XG5cdFx0fVxuXHRcdGlmICggdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0cGVyY2VudE1vdXNlID0gMSAtIHBlcmNlbnRNb3VzZTtcblx0XHR9XG5cblx0XHR2YWx1ZVRvdGFsID0gdGhpcy5fdmFsdWVNYXgoKSAtIHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0dmFsdWVNb3VzZSA9IHRoaXMuX3ZhbHVlTWluKCkgKyBwZXJjZW50TW91c2UgKiB2YWx1ZVRvdGFsO1xuXG5cdFx0cmV0dXJuIHRoaXMuX3RyaW1BbGlnblZhbHVlKCB2YWx1ZU1vdXNlICk7XG5cdH0sXG5cblx0X3N0YXJ0OiBmdW5jdGlvbiggZXZlbnQsIGluZGV4ICkge1xuXHRcdHZhciB1aUhhc2ggPSB7XG5cdFx0XHRoYW5kbGU6IHRoaXMuaGFuZGxlc1sgaW5kZXggXSxcblx0XHRcdHZhbHVlOiB0aGlzLnZhbHVlKClcblx0XHR9O1xuXHRcdGlmICggdGhpcy5vcHRpb25zLnZhbHVlcyAmJiB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCApIHtcblx0XHRcdHVpSGFzaC52YWx1ZSA9IHRoaXMudmFsdWVzKCBpbmRleCApO1xuXHRcdFx0dWlIYXNoLnZhbHVlcyA9IHRoaXMudmFsdWVzKCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl90cmlnZ2VyKCBcInN0YXJ0XCIsIGV2ZW50LCB1aUhhc2ggKTtcblx0fSxcblxuXHRfc2xpZGU6IGZ1bmN0aW9uKCBldmVudCwgaW5kZXgsIG5ld1ZhbCApIHtcblx0XHR2YXIgb3RoZXJWYWwsXG5cdFx0XHRuZXdWYWx1ZXMsXG5cdFx0XHRhbGxvd2VkO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoICkge1xuXHRcdFx0b3RoZXJWYWwgPSB0aGlzLnZhbHVlcyggaW5kZXggPyAwIDogMSApO1xuXG5cdFx0XHRpZiAoICggdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggPT09IDIgJiYgdGhpcy5vcHRpb25zLnJhbmdlID09PSB0cnVlICkgJiZcblx0XHRcdFx0XHQoICggaW5kZXggPT09IDAgJiYgbmV3VmFsID4gb3RoZXJWYWwpIHx8ICggaW5kZXggPT09IDEgJiYgbmV3VmFsIDwgb3RoZXJWYWwgKSApXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRuZXdWYWwgPSBvdGhlclZhbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBuZXdWYWwgIT09IHRoaXMudmFsdWVzKCBpbmRleCApICkge1xuXHRcdFx0XHRuZXdWYWx1ZXMgPSB0aGlzLnZhbHVlcygpO1xuXHRcdFx0XHRuZXdWYWx1ZXNbIGluZGV4IF0gPSBuZXdWYWw7XG5cdFx0XHRcdC8vIEEgc2xpZGUgY2FuIGJlIGNhbmNlbGVkIGJ5IHJldHVybmluZyBmYWxzZSBmcm9tIHRoZSBzbGlkZSBjYWxsYmFja1xuXHRcdFx0XHRhbGxvd2VkID0gdGhpcy5fdHJpZ2dlciggXCJzbGlkZVwiLCBldmVudCwge1xuXHRcdFx0XHRcdGhhbmRsZTogdGhpcy5oYW5kbGVzWyBpbmRleCBdLFxuXHRcdFx0XHRcdHZhbHVlOiBuZXdWYWwsXG5cdFx0XHRcdFx0dmFsdWVzOiBuZXdWYWx1ZXNcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRvdGhlclZhbCA9IHRoaXMudmFsdWVzKCBpbmRleCA/IDAgOiAxICk7XG5cdFx0XHRcdGlmICggYWxsb3dlZCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZXMoIGluZGV4LCBuZXdWYWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIG5ld1ZhbCAhPT0gdGhpcy52YWx1ZSgpICkge1xuXHRcdFx0XHQvLyBBIHNsaWRlIGNhbiBiZSBjYW5jZWxlZCBieSByZXR1cm5pbmcgZmFsc2UgZnJvbSB0aGUgc2xpZGUgY2FsbGJhY2tcblx0XHRcdFx0YWxsb3dlZCA9IHRoaXMuX3RyaWdnZXIoIFwic2xpZGVcIiwgZXZlbnQsIHtcblx0XHRcdFx0XHRoYW5kbGU6IHRoaXMuaGFuZGxlc1sgaW5kZXggXSxcblx0XHRcdFx0XHR2YWx1ZTogbmV3VmFsXG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0aWYgKCBhbGxvd2VkICE9PSBmYWxzZSApIHtcblx0XHRcdFx0XHR0aGlzLnZhbHVlKCBuZXdWYWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRfc3RvcDogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHR2YXIgdWlIYXNoID0ge1xuXHRcdFx0aGFuZGxlOiB0aGlzLmhhbmRsZXNbIGluZGV4IF0sXG5cdFx0XHR2YWx1ZTogdGhpcy52YWx1ZSgpXG5cdFx0fTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggKSB7XG5cdFx0XHR1aUhhc2gudmFsdWUgPSB0aGlzLnZhbHVlcyggaW5kZXggKTtcblx0XHRcdHVpSGFzaC52YWx1ZXMgPSB0aGlzLnZhbHVlcygpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3RyaWdnZXIoIFwic3RvcFwiLCBldmVudCwgdWlIYXNoICk7XG5cdH0sXG5cblx0X2NoYW5nZTogZnVuY3Rpb24oIGV2ZW50LCBpbmRleCApIHtcblx0XHRpZiAoICF0aGlzLl9rZXlTbGlkaW5nICYmICF0aGlzLl9tb3VzZVNsaWRpbmcgKSB7XG5cdFx0XHR2YXIgdWlIYXNoID0ge1xuXHRcdFx0XHRoYW5kbGU6IHRoaXMuaGFuZGxlc1sgaW5kZXggXSxcblx0XHRcdFx0dmFsdWU6IHRoaXMudmFsdWUoKVxuXHRcdFx0fTtcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnZhbHVlcyAmJiB0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCApIHtcblx0XHRcdFx0dWlIYXNoLnZhbHVlID0gdGhpcy52YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHRcdHVpSGFzaC52YWx1ZXMgPSB0aGlzLnZhbHVlcygpO1xuXHRcdFx0fVxuXG5cdFx0XHQvL3N0b3JlIHRoZSBsYXN0IGNoYW5nZWQgdmFsdWUgaW5kZXggZm9yIHJlZmVyZW5jZSB3aGVuIGhhbmRsZXMgb3ZlcmxhcFxuXHRcdFx0dGhpcy5fbGFzdENoYW5nZWRWYWx1ZSA9IGluZGV4O1xuXG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBcImNoYW5nZVwiLCBldmVudCwgdWlIYXNoICk7XG5cdFx0fVxuXHR9LFxuXG5cdHZhbHVlOiBmdW5jdGlvbiggbmV3VmFsdWUgKSB7XG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIG5ld1ZhbHVlICk7XG5cdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgMCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLl92YWx1ZSgpO1xuXHR9LFxuXG5cdHZhbHVlczogZnVuY3Rpb24oIGluZGV4LCBuZXdWYWx1ZSApIHtcblx0XHR2YXIgdmFscyxcblx0XHRcdG5ld1ZhbHVlcyxcblx0XHRcdGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPiAxICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnZhbHVlc1sgaW5kZXggXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZSApO1xuXHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHR0aGlzLl9jaGFuZ2UoIG51bGwsIGluZGV4ICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCAkLmlzQXJyYXkoIGFyZ3VtZW50c1sgMCBdICkgKSB7XG5cdFx0XHRcdHZhbHMgPSB0aGlzLm9wdGlvbnMudmFsdWVzO1xuXHRcdFx0XHRuZXdWYWx1ZXMgPSBhcmd1bWVudHNbIDAgXTtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSArPSAxICkge1xuXHRcdFx0XHRcdHZhbHNbIGkgXSA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKCBuZXdWYWx1ZXNbIGkgXSApO1xuXHRcdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMudmFsdWVzICYmIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl92YWx1ZXMoIGluZGV4ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMudmFsdWUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fdmFsdWVzKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLFxuXHRcdFx0dmFsc0xlbmd0aCA9IDA7XG5cblx0XHRpZiAoIGtleSA9PT0gXCJyYW5nZVwiICYmIHRoaXMub3B0aW9ucy5yYW5nZSA9PT0gdHJ1ZSApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IFwibWluXCIgKSB7XG5cdFx0XHRcdHRoaXMub3B0aW9ucy52YWx1ZSA9IHRoaXMuX3ZhbHVlcyggMCApO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzID0gbnVsbDtcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSBcIm1heFwiICkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWUgPSB0aGlzLl92YWx1ZXMoIHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoIC0gMSApO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMudmFsdWVzID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICQuaXNBcnJheSggdGhpcy5vcHRpb25zLnZhbHVlcyApICkge1xuXHRcdFx0dmFsc0xlbmd0aCA9IHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlICk7XG5cblx0XHRzd2l0Y2ggKCBrZXkgKSB7XG5cdFx0XHRjYXNlIFwib3JpZW50YXRpb25cIjpcblx0XHRcdFx0dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTtcblx0XHRcdFx0dGhpcy5lbGVtZW50XG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNsaWRlci1ob3Jpem9udGFsIHVpLXNsaWRlci12ZXJ0aWNhbFwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktc2xpZGVyLVwiICsgdGhpcy5vcmllbnRhdGlvbiApO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoVmFsdWUoKTtcblxuXHRcdFx0XHQvLyBSZXNldCBwb3NpdGlvbmluZyBmcm9tIHByZXZpb3VzIG9yaWVudGF0aW9uXG5cdFx0XHRcdHRoaXMuaGFuZGxlcy5jc3MoIHZhbHVlID09PSBcImhvcml6b250YWxcIiA/IFwiYm90dG9tXCIgOiBcImxlZnRcIiwgXCJcIiApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJ2YWx1ZVwiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgMCApO1xuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInZhbHVlc1wiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fcmVmcmVzaFZhbHVlKCk7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgdmFsc0xlbmd0aDsgaSArPSAxICkge1xuXHRcdFx0XHRcdHRoaXMuX2NoYW5nZSggbnVsbCwgaSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwic3RlcFwiOlxuXHRcdFx0Y2FzZSBcIm1pblwiOlxuXHRcdFx0Y2FzZSBcIm1heFwiOlxuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7XG5cdFx0XHRcdHRoaXMuX3JlZnJlc2hWYWx1ZSgpO1xuXHRcdFx0XHR0aGlzLl9hbmltYXRlT2ZmID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInJhbmdlXCI6XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSB0cnVlO1xuXHRcdFx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdFx0XHRcdHRoaXMuX2FuaW1hdGVPZmYgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9LFxuXG5cdC8vaW50ZXJuYWwgdmFsdWUgZ2V0dGVyXG5cdC8vIF92YWx1ZSgpIHJldHVybnMgdmFsdWUgdHJpbW1lZCBieSBtaW4gYW5kIG1heCwgYWxpZ25lZCBieSBzdGVwXG5cdF92YWx1ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHZhbCA9IHRoaXMub3B0aW9ucy52YWx1ZTtcblx0XHR2YWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggdmFsICk7XG5cblx0XHRyZXR1cm4gdmFsO1xuXHR9LFxuXG5cdC8vaW50ZXJuYWwgdmFsdWVzIGdldHRlclxuXHQvLyBfdmFsdWVzKCkgcmV0dXJucyBhcnJheSBvZiB2YWx1ZXMgdHJpbW1lZCBieSBtaW4gYW5kIG1heCwgYWxpZ25lZCBieSBzdGVwXG5cdC8vIF92YWx1ZXMoIGluZGV4ICkgcmV0dXJucyBzaW5nbGUgdmFsdWUgdHJpbW1lZCBieSBtaW4gYW5kIG1heCwgYWxpZ25lZCBieSBzdGVwXG5cdF92YWx1ZXM6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHR2YXIgdmFsLFxuXHRcdFx0dmFscyxcblx0XHRcdGk7XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHR2YWwgPSB0aGlzLm9wdGlvbnMudmFsdWVzWyBpbmRleCBdO1xuXHRcdFx0dmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbCApO1xuXG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH0gZWxzZSBpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggKSB7XG5cdFx0XHQvLyAuc2xpY2UoKSBjcmVhdGVzIGEgY29weSBvZiB0aGUgYXJyYXlcblx0XHRcdC8vIHRoaXMgY29weSBnZXRzIHRyaW1tZWQgYnkgbWluIGFuZCBtYXggYW5kIHRoZW4gcmV0dXJuZWRcblx0XHRcdHZhbHMgPSB0aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCk7XG5cdFx0XHRmb3IgKCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0dmFsc1sgaSBdID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoIHZhbHNbIGkgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFscztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0fSxcblxuXHQvLyByZXR1cm5zIHRoZSBzdGVwLWFsaWduZWQgdmFsdWUgdGhhdCB2YWwgaXMgY2xvc2VzdCB0bywgYmV0d2VlbiAoaW5jbHVzaXZlKSBtaW4gYW5kIG1heFxuXHRfdHJpbUFsaWduVmFsdWU6IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0aWYgKCB2YWwgPD0gdGhpcy5fdmFsdWVNaW4oKSApIHtcblx0XHRcdHJldHVybiB0aGlzLl92YWx1ZU1pbigpO1xuXHRcdH1cblx0XHRpZiAoIHZhbCA+PSB0aGlzLl92YWx1ZU1heCgpICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7XG5cdFx0fVxuXHRcdHZhciBzdGVwID0gKCB0aGlzLm9wdGlvbnMuc3RlcCA+IDAgKSA/IHRoaXMub3B0aW9ucy5zdGVwIDogMSxcblx0XHRcdHZhbE1vZFN0ZXAgPSAodmFsIC0gdGhpcy5fdmFsdWVNaW4oKSkgJSBzdGVwLFxuXHRcdFx0YWxpZ25WYWx1ZSA9IHZhbCAtIHZhbE1vZFN0ZXA7XG5cblx0XHRpZiAoIE1hdGguYWJzKHZhbE1vZFN0ZXApICogMiA+PSBzdGVwICkge1xuXHRcdFx0YWxpZ25WYWx1ZSArPSAoIHZhbE1vZFN0ZXAgPiAwICkgPyBzdGVwIDogKCAtc3RlcCApO1xuXHRcdH1cblxuXHRcdC8vIFNpbmNlIEphdmFTY3JpcHQgaGFzIHByb2JsZW1zIHdpdGggbGFyZ2UgZmxvYXRzLCByb3VuZFxuXHRcdC8vIHRoZSBmaW5hbCB2YWx1ZSB0byA1IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCAoc2VlICM0MTI0KVxuXHRcdHJldHVybiBwYXJzZUZsb2F0KCBhbGlnblZhbHVlLnRvRml4ZWQoNSkgKTtcblx0fSxcblxuXHRfY2FsY3VsYXRlTmV3TWF4OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbWF4ID0gdGhpcy5vcHRpb25zLm1heCxcblx0XHRcdG1pbiA9IHRoaXMuX3ZhbHVlTWluKCksXG5cdFx0XHRzdGVwID0gdGhpcy5vcHRpb25zLnN0ZXAsXG5cdFx0XHRhYm92ZU1pbiA9IE1hdGguZmxvb3IoICggKyggbWF4IC0gbWluICkudG9GaXhlZCggdGhpcy5fcHJlY2lzaW9uKCkgKSApIC8gc3RlcCApICogc3RlcDtcblx0XHRtYXggPSBhYm92ZU1pbiArIG1pbjtcblx0XHR0aGlzLm1heCA9IHBhcnNlRmxvYXQoIG1heC50b0ZpeGVkKCB0aGlzLl9wcmVjaXNpb24oKSApICk7XG5cdH0sXG5cblx0X3ByZWNpc2lvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHByZWNpc2lvbiA9IHRoaXMuX3ByZWNpc2lvbk9mKCB0aGlzLm9wdGlvbnMuc3RlcCApO1xuXHRcdGlmICggdGhpcy5vcHRpb25zLm1pbiAhPT0gbnVsbCApIHtcblx0XHRcdHByZWNpc2lvbiA9IE1hdGgubWF4KCBwcmVjaXNpb24sIHRoaXMuX3ByZWNpc2lvbk9mKCB0aGlzLm9wdGlvbnMubWluICkgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHByZWNpc2lvbjtcblx0fSxcblxuXHRfcHJlY2lzaW9uT2Y6IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0dmFyIHN0ciA9IG51bS50b1N0cmluZygpLFxuXHRcdFx0ZGVjaW1hbCA9IHN0ci5pbmRleE9mKCBcIi5cIiApO1xuXHRcdHJldHVybiBkZWNpbWFsID09PSAtMSA/IDAgOiBzdHIubGVuZ3RoIC0gZGVjaW1hbCAtIDE7XG5cdH0sXG5cblx0X3ZhbHVlTWluOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLm1pbjtcblx0fSxcblxuXHRfdmFsdWVNYXg6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1heDtcblx0fSxcblxuXHRfcmVmcmVzaFZhbHVlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGFzdFZhbFBlcmNlbnQsIHZhbFBlcmNlbnQsIHZhbHVlLCB2YWx1ZU1pbiwgdmFsdWVNYXgsXG5cdFx0XHRvUmFuZ2UgPSB0aGlzLm9wdGlvbnMucmFuZ2UsXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHRhbmltYXRlID0gKCAhdGhpcy5fYW5pbWF0ZU9mZiApID8gby5hbmltYXRlIDogZmFsc2UsXG5cdFx0XHRfc2V0ID0ge307XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0dmFsUGVyY2VudCA9ICggdGhhdC52YWx1ZXMoaSkgLSB0aGF0Ll92YWx1ZU1pbigpICkgLyAoIHRoYXQuX3ZhbHVlTWF4KCkgLSB0aGF0Ll92YWx1ZU1pbigpICkgKiAxMDA7XG5cdFx0XHRcdF9zZXRbIHRoYXQub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiID8gXCJsZWZ0XCIgOiBcImJvdHRvbVwiIF0gPSB2YWxQZXJjZW50ICsgXCIlXCI7XG5cdFx0XHRcdCQoIHRoaXMgKS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggX3NldCwgby5hbmltYXRlICk7XG5cdFx0XHRcdGlmICggdGhhdC5vcHRpb25zLnJhbmdlID09PSB0cnVlICkge1xuXHRcdFx0XHRcdGlmICggdGhhdC5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgbGVmdDogdmFsUGVyY2VudCArIFwiJVwiIH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBpID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHR0aGF0LnJhbmdlWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgd2lkdGg6ICggdmFsUGVyY2VudCAtIGxhc3RWYWxQZXJjZW50ICkgKyBcIiVcIiB9LCB7IHF1ZXVlOiBmYWxzZSwgZHVyYXRpb246IG8uYW5pbWF0ZSB9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmICggaSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0dGhhdC5yYW5nZS5zdG9wKCAxLCAxIClbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggeyBib3R0b206ICggdmFsUGVyY2VudCApICsgXCIlXCIgfSwgby5hbmltYXRlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIGkgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdHRoYXQucmFuZ2VbIGFuaW1hdGUgPyBcImFuaW1hdGVcIiA6IFwiY3NzXCIgXSggeyBoZWlnaHQ6ICggdmFsUGVyY2VudCAtIGxhc3RWYWxQZXJjZW50ICkgKyBcIiVcIiB9LCB7IHF1ZXVlOiBmYWxzZSwgZHVyYXRpb246IG8uYW5pbWF0ZSB9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGxhc3RWYWxQZXJjZW50ID0gdmFsUGVyY2VudDtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YWx1ZSA9IHRoaXMudmFsdWUoKTtcblx0XHRcdHZhbHVlTWluID0gdGhpcy5fdmFsdWVNaW4oKTtcblx0XHRcdHZhbHVlTWF4ID0gdGhpcy5fdmFsdWVNYXgoKTtcblx0XHRcdHZhbFBlcmNlbnQgPSAoIHZhbHVlTWF4ICE9PSB2YWx1ZU1pbiApID9cblx0XHRcdFx0XHQoIHZhbHVlIC0gdmFsdWVNaW4gKSAvICggdmFsdWVNYXggLSB2YWx1ZU1pbiApICogMTAwIDpcblx0XHRcdFx0XHQwO1xuXHRcdFx0X3NldFsgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgPyBcImxlZnRcIiA6IFwiYm90dG9tXCIgXSA9IHZhbFBlcmNlbnQgKyBcIiVcIjtcblx0XHRcdHRoaXMuaGFuZGxlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCBfc2V0LCBvLmFuaW1hdGUgKTtcblxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWluXCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgKSB7XG5cdFx0XHRcdHRoaXMucmFuZ2Uuc3RvcCggMSwgMSApWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgd2lkdGg6IHZhbFBlcmNlbnQgKyBcIiVcIiB9LCBvLmFuaW1hdGUgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb1JhbmdlID09PSBcIm1heFwiICYmIHRoaXMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgd2lkdGg6ICggMTAwIC0gdmFsUGVyY2VudCApICsgXCIlXCIgfSwgeyBxdWV1ZTogZmFsc2UsIGR1cmF0aW9uOiBvLmFuaW1hdGUgfSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWluXCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlLnN0b3AoIDEsIDEgKVsgYW5pbWF0ZSA/IFwiYW5pbWF0ZVwiIDogXCJjc3NcIiBdKCB7IGhlaWdodDogdmFsUGVyY2VudCArIFwiJVwiIH0sIG8uYW5pbWF0ZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvUmFuZ2UgPT09IFwibWF4XCIgJiYgdGhpcy5vcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICkge1xuXHRcdFx0XHR0aGlzLnJhbmdlWyBhbmltYXRlID8gXCJhbmltYXRlXCIgOiBcImNzc1wiIF0oIHsgaGVpZ2h0OiAoIDEwMCAtIHZhbFBlcmNlbnQgKSArIFwiJVwiIH0sIHsgcXVldWU6IGZhbHNlLCBkdXJhdGlvbjogby5hbmltYXRlIH0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0X2hhbmRsZUV2ZW50czoge1xuXHRcdGtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBhbGxvd2VkLCBjdXJWYWwsIG5ld1ZhbCwgc3RlcCxcblx0XHRcdFx0aW5kZXggPSAkKCBldmVudC50YXJnZXQgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiApO1xuXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlBBR0VfRE9XTjpcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0aWYgKCAhdGhpcy5fa2V5U2xpZGluZyApIHtcblx0XHRcdFx0XHRcdHRoaXMuX2tleVNsaWRpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0JCggZXZlbnQudGFyZ2V0ICkuYWRkQ2xhc3MoIFwidWktc3RhdGUtYWN0aXZlXCIgKTtcblx0XHRcdFx0XHRcdGFsbG93ZWQgPSB0aGlzLl9zdGFydCggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdFx0XHRpZiAoIGFsbG93ZWQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRzdGVwID0gdGhpcy5vcHRpb25zLnN0ZXA7XG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy52YWx1ZXMgJiYgdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGggKSB7XG5cdFx0XHRcdGN1clZhbCA9IG5ld1ZhbCA9IHRoaXMudmFsdWVzKCBpbmRleCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3VyVmFsID0gbmV3VmFsID0gdGhpcy52YWx1ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3ZhbHVlTWluKCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkVORDpcblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl92YWx1ZU1heCgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0XHRcdG5ld1ZhbCA9IHRoaXMuX3RyaW1BbGlnblZhbHVlKFxuXHRcdFx0XHRcdFx0Y3VyVmFsICsgKCAoIHRoaXMuX3ZhbHVlTWF4KCkgLSB0aGlzLl92YWx1ZU1pbigpICkgLyB0aGlzLm51bVBhZ2VzIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5QQUdFX0RPV046XG5cdFx0XHRcdFx0bmV3VmFsID0gdGhpcy5fdHJpbUFsaWduVmFsdWUoXG5cdFx0XHRcdFx0XHRjdXJWYWwgLSAoICh0aGlzLl92YWx1ZU1heCgpIC0gdGhpcy5fdmFsdWVNaW4oKSkgLyB0aGlzLm51bVBhZ2VzICkgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XG5cdFx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0XHRcdGlmICggY3VyVmFsID09PSB0aGlzLl92YWx1ZU1heCgpICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggY3VyVmFsICsgc3RlcCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxuXHRcdFx0XHRjYXNlICQudWkua2V5Q29kZS5MRUZUOlxuXHRcdFx0XHRcdGlmICggY3VyVmFsID09PSB0aGlzLl92YWx1ZU1pbigpICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWYWwgPSB0aGlzLl90cmltQWxpZ25WYWx1ZSggY3VyVmFsIC0gc3RlcCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9zbGlkZSggZXZlbnQsIGluZGV4LCBuZXdWYWwgKTtcblx0XHR9LFxuXHRcdGtleXVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgaW5kZXggPSAkKCBldmVudC50YXJnZXQgKS5kYXRhKCBcInVpLXNsaWRlci1oYW5kbGUtaW5kZXhcIiApO1xuXG5cdFx0XHRpZiAoIHRoaXMuX2tleVNsaWRpbmcgKSB7XG5cdFx0XHRcdHRoaXMuX2tleVNsaWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5fc3RvcCggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdHRoaXMuX2NoYW5nZSggZXZlbnQsIGluZGV4ICk7XG5cdFx0XHRcdCQoIGV2ZW50LnRhcmdldCApLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBTb3J0YWJsZSAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NvcnRhYmxlL1xuICovXG5cblxudmFyIHNvcnRhYmxlID0gJC53aWRnZXQoXCJ1aS5zb3J0YWJsZVwiLCAkLnVpLm1vdXNlLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdHdpZGdldEV2ZW50UHJlZml4OiBcInNvcnRcIixcblx0cmVhZHk6IGZhbHNlLFxuXHRvcHRpb25zOiB7XG5cdFx0YXBwZW5kVG86IFwicGFyZW50XCIsXG5cdFx0YXhpczogZmFsc2UsXG5cdFx0Y29ubmVjdFdpdGg6IGZhbHNlLFxuXHRcdGNvbnRhaW5tZW50OiBmYWxzZSxcblx0XHRjdXJzb3I6IFwiYXV0b1wiLFxuXHRcdGN1cnNvckF0OiBmYWxzZSxcblx0XHRkcm9wT25FbXB0eTogdHJ1ZSxcblx0XHRmb3JjZVBsYWNlaG9sZGVyU2l6ZTogZmFsc2UsXG5cdFx0Zm9yY2VIZWxwZXJTaXplOiBmYWxzZSxcblx0XHRncmlkOiBmYWxzZSxcblx0XHRoYW5kbGU6IGZhbHNlLFxuXHRcdGhlbHBlcjogXCJvcmlnaW5hbFwiLFxuXHRcdGl0ZW1zOiBcIj4gKlwiLFxuXHRcdG9wYWNpdHk6IGZhbHNlLFxuXHRcdHBsYWNlaG9sZGVyOiBmYWxzZSxcblx0XHRyZXZlcnQ6IGZhbHNlLFxuXHRcdHNjcm9sbDogdHJ1ZSxcblx0XHRzY3JvbGxTZW5zaXRpdml0eTogMjAsXG5cdFx0c2Nyb2xsU3BlZWQ6IDIwLFxuXHRcdHNjb3BlOiBcImRlZmF1bHRcIixcblx0XHR0b2xlcmFuY2U6IFwiaW50ZXJzZWN0XCIsXG5cdFx0ekluZGV4OiAxMDAwLFxuXG5cdFx0Ly8gY2FsbGJhY2tzXG5cdFx0YWN0aXZhdGU6IG51bGwsXG5cdFx0YmVmb3JlU3RvcDogbnVsbCxcblx0XHRjaGFuZ2U6IG51bGwsXG5cdFx0ZGVhY3RpdmF0ZTogbnVsbCxcblx0XHRvdXQ6IG51bGwsXG5cdFx0b3ZlcjogbnVsbCxcblx0XHRyZWNlaXZlOiBudWxsLFxuXHRcdHJlbW92ZTogbnVsbCxcblx0XHRzb3J0OiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGwsXG5cdFx0dXBkYXRlOiBudWxsXG5cdH0sXG5cblx0X2lzT3ZlckF4aXM6IGZ1bmN0aW9uKCB4LCByZWZlcmVuY2UsIHNpemUgKSB7XG5cdFx0cmV0dXJuICggeCA+PSByZWZlcmVuY2UgKSAmJiAoIHggPCAoIHJlZmVyZW5jZSArIHNpemUgKSApO1xuXHR9LFxuXG5cdF9pc0Zsb2F0aW5nOiBmdW5jdGlvbiggaXRlbSApIHtcblx0XHRyZXR1cm4gKC9sZWZ0fHJpZ2h0LykudGVzdChpdGVtLmNzcyhcImZsb2F0XCIpKSB8fCAoL2lubGluZXx0YWJsZS1jZWxsLykudGVzdChpdGVtLmNzcyhcImRpc3BsYXlcIikpO1xuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuY29udGFpbmVyQ2FjaGUgPSB7fTtcblx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1zb3J0YWJsZVwiKTtcblxuXHRcdC8vR2V0IHRoZSBpdGVtc1xuXHRcdHRoaXMucmVmcmVzaCgpO1xuXG5cdFx0Ly9MZXQncyBkZXRlcm1pbmUgdGhlIHBhcmVudCdzIG9mZnNldFxuXHRcdHRoaXMub2Zmc2V0ID0gdGhpcy5lbGVtZW50Lm9mZnNldCgpO1xuXG5cdFx0Ly9Jbml0aWFsaXplIG1vdXNlIGV2ZW50cyBmb3IgaW50ZXJhY3Rpb25cblx0XHR0aGlzLl9tb3VzZUluaXQoKTtcblxuXHRcdHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO1xuXG5cdFx0Ly9XZSdyZSByZWFkeSB0byBnb1xuXHRcdHRoaXMucmVhZHkgPSB0cnVlO1xuXG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcblxuXHRcdGlmICgga2V5ID09PSBcImhhbmRsZVwiICkge1xuXHRcdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zZXRIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS1zb3J0YWJsZS1oYW5kbGVcIiApLnJlbW92ZUNsYXNzKCBcInVpLXNvcnRhYmxlLWhhbmRsZVwiICk7XG5cdFx0JC5lYWNoKCB0aGlzLml0ZW1zLCBmdW5jdGlvbigpIHtcblx0XHRcdCggdGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSA/XG5cdFx0XHRcdHRoaXMuaXRlbS5maW5kKCB0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlICkgOiB0aGlzLml0ZW0gKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktc29ydGFibGUtaGFuZGxlXCIgKTtcblx0XHR9KTtcblx0fSxcblxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktc29ydGFibGUgdWktc29ydGFibGUtZGlzYWJsZWRcIiApXG5cdFx0XHQuZmluZCggXCIudWktc29ydGFibGUtaGFuZGxlXCIgKVxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktc29ydGFibGUtaGFuZGxlXCIgKTtcblx0XHR0aGlzLl9tb3VzZURlc3Ryb3koKTtcblxuXHRcdGZvciAoIHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdHRoaXMuaXRlbXNbaV0uaXRlbS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X21vdXNlQ2FwdHVyZTogZnVuY3Rpb24oZXZlbnQsIG92ZXJyaWRlSGFuZGxlKSB7XG5cdFx0dmFyIGN1cnJlbnRJdGVtID0gbnVsbCxcblx0XHRcdHZhbGlkSGFuZGxlID0gZmFsc2UsXG5cdFx0XHR0aGF0ID0gdGhpcztcblxuXHRcdGlmICh0aGlzLnJldmVydGluZykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmKHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLm9wdGlvbnMudHlwZSA9PT0gXCJzdGF0aWNcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vV2UgaGF2ZSB0byByZWZyZXNoIHRoZSBpdGVtcyBkYXRhIG9uY2UgZmlyc3Rcblx0XHR0aGlzLl9yZWZyZXNoSXRlbXMoZXZlbnQpO1xuXG5cdFx0Ly9GaW5kIG91dCBpZiB0aGUgY2xpY2tlZCBub2RlIChvciBvbmUgb2YgaXRzIHBhcmVudHMpIGlzIGEgYWN0dWFsIGl0ZW0gaW4gdGhpcy5pdGVtc1xuXHRcdCQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGlmKCQuZGF0YSh0aGlzLCB0aGF0LndpZGdldE5hbWUgKyBcIi1pdGVtXCIpID09PSB0aGF0KSB7XG5cdFx0XHRcdGN1cnJlbnRJdGVtID0gJCh0aGlzKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGlmKCQuZGF0YShldmVudC50YXJnZXQsIHRoYXQud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIikgPT09IHRoYXQpIHtcblx0XHRcdGN1cnJlbnRJdGVtID0gJChldmVudC50YXJnZXQpO1xuXHRcdH1cblxuXHRcdGlmKCFjdXJyZW50SXRlbSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpZih0aGlzLm9wdGlvbnMuaGFuZGxlICYmICFvdmVycmlkZUhhbmRsZSkge1xuXHRcdFx0JCh0aGlzLm9wdGlvbnMuaGFuZGxlLCBjdXJyZW50SXRlbSkuZmluZChcIipcIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKHRoaXMgPT09IGV2ZW50LnRhcmdldCkge1xuXHRcdFx0XHRcdHZhbGlkSGFuZGxlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZighdmFsaWRIYW5kbGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuY3VycmVudEl0ZW0gPSBjdXJyZW50SXRlbTtcblx0XHR0aGlzLl9yZW1vdmVDdXJyZW50c0Zyb21JdGVtcygpO1xuXHRcdHJldHVybiB0cnVlO1xuXG5cdH0sXG5cblx0X21vdXNlU3RhcnQ6IGZ1bmN0aW9uKGV2ZW50LCBvdmVycmlkZUhhbmRsZSwgbm9BY3RpdmF0aW9uKSB7XG5cblx0XHR2YXIgaSwgYm9keSxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XG5cblx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIgPSB0aGlzO1xuXG5cdFx0Ly9XZSBvbmx5IG5lZWQgdG8gY2FsbCByZWZyZXNoUG9zaXRpb25zLCBiZWNhdXNlIHRoZSByZWZyZXNoSXRlbXMgY2FsbCBoYXMgYmVlbiBtb3ZlZCB0byBtb3VzZUNhcHR1cmVcblx0XHR0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKTtcblxuXHRcdC8vQ3JlYXRlIGFuZCBhcHBlbmQgdGhlIHZpc2libGUgaGVscGVyXG5cdFx0dGhpcy5oZWxwZXIgPSB0aGlzLl9jcmVhdGVIZWxwZXIoZXZlbnQpO1xuXG5cdFx0Ly9DYWNoZSB0aGUgaGVscGVyIHNpemVcblx0XHR0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7XG5cblx0XHQvKlxuXHRcdCAqIC0gUG9zaXRpb24gZ2VuZXJhdGlvbiAtXG5cdFx0ICogVGhpcyBibG9jayBnZW5lcmF0ZXMgZXZlcnl0aGluZyBwb3NpdGlvbiByZWxhdGVkIC0gaXQncyB0aGUgY29yZSBvZiBkcmFnZ2FibGVzLlxuXHRcdCAqL1xuXG5cdFx0Ly9DYWNoZSB0aGUgbWFyZ2lucyBvZiB0aGUgb3JpZ2luYWwgZWxlbWVudFxuXHRcdHRoaXMuX2NhY2hlTWFyZ2lucygpO1xuXG5cdFx0Ly9HZXQgdGhlIG5leHQgc2Nyb2xsaW5nIHBhcmVudFxuXHRcdHRoaXMuc2Nyb2xsUGFyZW50ID0gdGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCk7XG5cblx0XHQvL1RoZSBlbGVtZW50J3MgYWJzb2x1dGUgcG9zaXRpb24gb24gdGhlIHBhZ2UgbWludXMgbWFyZ2luc1xuXHRcdHRoaXMub2Zmc2V0ID0gdGhpcy5jdXJyZW50SXRlbS5vZmZzZXQoKTtcblx0XHR0aGlzLm9mZnNldCA9IHtcblx0XHRcdHRvcDogdGhpcy5vZmZzZXQudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCxcblx0XHRcdGxlZnQ6IHRoaXMub2Zmc2V0LmxlZnQgLSB0aGlzLm1hcmdpbnMubGVmdFxuXHRcdH07XG5cblx0XHQkLmV4dGVuZCh0aGlzLm9mZnNldCwge1xuXHRcdFx0Y2xpY2s6IHsgLy9XaGVyZSB0aGUgY2xpY2sgaGFwcGVuZWQsIHJlbGF0aXZlIHRvIHRoZSBlbGVtZW50XG5cdFx0XHRcdGxlZnQ6IGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQubGVmdCxcblx0XHRcdFx0dG9wOiBldmVudC5wYWdlWSAtIHRoaXMub2Zmc2V0LnRvcFxuXHRcdFx0fSxcblx0XHRcdHBhcmVudDogdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCksXG5cdFx0XHRyZWxhdGl2ZTogdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKSAvL1RoaXMgaXMgYSByZWxhdGl2ZSB0byBhYnNvbHV0ZSBwb3NpdGlvbiBtaW51cyB0aGUgYWN0dWFsIHBvc2l0aW9uIGNhbGN1bGF0aW9uIC0gb25seSB1c2VkIGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIGhlbHBlclxuXHRcdH0pO1xuXG5cdFx0Ly8gT25seSBhZnRlciB3ZSBnb3QgdGhlIG9mZnNldCwgd2UgY2FuIGNoYW5nZSB0aGUgaGVscGVyJ3MgcG9zaXRpb24gdG8gYWJzb2x1dGVcblx0XHQvLyBUT0RPOiBTdGlsbCBuZWVkIHRvIGZpZ3VyZSBvdXQgYSB3YXkgdG8gbWFrZSByZWxhdGl2ZSBzb3J0aW5nIHBvc3NpYmxlXG5cdFx0dGhpcy5oZWxwZXIuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcblx0XHR0aGlzLmNzc1Bvc2l0aW9uID0gdGhpcy5oZWxwZXIuY3NzKFwicG9zaXRpb25cIik7XG5cblx0XHQvL0dlbmVyYXRlIHRoZSBvcmlnaW5hbCBwb3NpdGlvblxuXHRcdHRoaXMub3JpZ2luYWxQb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZXZlbnQpO1xuXHRcdHRoaXMub3JpZ2luYWxQYWdlWCA9IGV2ZW50LnBhZ2VYO1xuXHRcdHRoaXMub3JpZ2luYWxQYWdlWSA9IGV2ZW50LnBhZ2VZO1xuXG5cdFx0Ly9BZGp1c3QgdGhlIG1vdXNlIG9mZnNldCByZWxhdGl2ZSB0byB0aGUgaGVscGVyIGlmIFwiY3Vyc29yQXRcIiBpcyBzdXBwbGllZFxuXHRcdChvLmN1cnNvckF0ICYmIHRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoby5jdXJzb3JBdCkpO1xuXG5cdFx0Ly9DYWNoZSB0aGUgZm9ybWVyIERPTSBwb3NpdGlvblxuXHRcdHRoaXMuZG9tUG9zaXRpb24gPSB7IHByZXY6IHRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLCBwYXJlbnQ6IHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF0gfTtcblxuXHRcdC8vSWYgdGhlIGhlbHBlciBpcyBub3QgdGhlIG9yaWdpbmFsLCBoaWRlIHRoZSBvcmlnaW5hbCBzbyBpdCdzIG5vdCBwbGF5aW5nIGFueSByb2xlIGR1cmluZyB0aGUgZHJhZywgd29uJ3QgY2F1c2UgYW55dGhpbmcgYmFkIHRoaXMgd2F5XG5cdFx0aWYodGhpcy5oZWxwZXJbMF0gIT09IHRoaXMuY3VycmVudEl0ZW1bMF0pIHtcblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uaGlkZSgpO1xuXHRcdH1cblxuXHRcdC8vQ3JlYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCk7XG5cblx0XHQvL1NldCBhIGNvbnRhaW5tZW50IGlmIGdpdmVuIGluIHRoZSBvcHRpb25zXG5cdFx0aWYoby5jb250YWlubWVudCkge1xuXHRcdFx0dGhpcy5fc2V0Q29udGFpbm1lbnQoKTtcblx0XHR9XG5cblx0XHRpZiggby5jdXJzb3IgJiYgby5jdXJzb3IgIT09IFwiYXV0b1wiICkgeyAvLyBjdXJzb3Igb3B0aW9uXG5cdFx0XHRib2R5ID0gdGhpcy5kb2N1bWVudC5maW5kKCBcImJvZHlcIiApO1xuXG5cdFx0XHQvLyBzdXBwb3J0OiBJRVxuXHRcdFx0dGhpcy5zdG9yZWRDdXJzb3IgPSBib2R5LmNzcyggXCJjdXJzb3JcIiApO1xuXHRcdFx0Ym9keS5jc3MoIFwiY3Vyc29yXCIsIG8uY3Vyc29yICk7XG5cblx0XHRcdHRoaXMuc3RvcmVkU3R5bGVzaGVldCA9ICQoIFwiPHN0eWxlPip7IGN1cnNvcjogXCIrby5jdXJzb3IrXCIgIWltcG9ydGFudDsgfTwvc3R5bGU+XCIgKS5hcHBlbmRUbyggYm9keSApO1xuXHRcdH1cblxuXHRcdGlmKG8ub3BhY2l0eSkgeyAvLyBvcGFjaXR5IG9wdGlvblxuXHRcdFx0aWYgKHRoaXMuaGVscGVyLmNzcyhcIm9wYWNpdHlcIikpIHtcblx0XHRcdFx0dGhpcy5fc3RvcmVkT3BhY2l0eSA9IHRoaXMuaGVscGVyLmNzcyhcIm9wYWNpdHlcIik7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoXCJvcGFjaXR5XCIsIG8ub3BhY2l0eSk7XG5cdFx0fVxuXG5cdFx0aWYoby56SW5kZXgpIHsgLy8gekluZGV4IG9wdGlvblxuXHRcdFx0aWYgKHRoaXMuaGVscGVyLmNzcyhcInpJbmRleFwiKSkge1xuXHRcdFx0XHR0aGlzLl9zdG9yZWRaSW5kZXggPSB0aGlzLmhlbHBlci5jc3MoXCJ6SW5kZXhcIik7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoXCJ6SW5kZXhcIiwgby56SW5kZXgpO1xuXHRcdH1cblxuXHRcdC8vUHJlcGFyZSBzY3JvbGxpbmdcblx0XHRpZih0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiB0aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lICE9PSBcIkhUTUxcIikge1xuXHRcdFx0dGhpcy5vdmVyZmxvd09mZnNldCA9IHRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpO1xuXHRcdH1cblxuXHRcdC8vQ2FsbCBjYWxsYmFja3Ncblx0XHR0aGlzLl90cmlnZ2VyKFwic3RhcnRcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTtcblxuXHRcdC8vUmVjYWNoZSB0aGUgaGVscGVyIHNpemVcblx0XHRpZighdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9ucykge1xuXHRcdFx0dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpO1xuXHRcdH1cblxuXG5cdFx0Ly9Qb3N0IFwiYWN0aXZhdGVcIiBldmVudHMgdG8gcG9zc2libGUgY29udGFpbmVyc1xuXHRcdGlmKCAhbm9BY3RpdmF0aW9uICkge1xuXHRcdFx0Zm9yICggaSA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzWyBpIF0uX3RyaWdnZXIoIFwiYWN0aXZhdGVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCggdGhpcyApICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9QcmVwYXJlIHBvc3NpYmxlIGRyb3BwYWJsZXNcblx0XHRpZigkLnVpLmRkbWFuYWdlcikge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIuY3VycmVudCA9IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCQudWkuZGRtYW5hZ2VyICYmICFvLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsIGV2ZW50KTtcblx0XHR9XG5cblx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblxuXHRcdHRoaXMuaGVscGVyLmFkZENsYXNzKFwidWktc29ydGFibGUtaGVscGVyXCIpO1xuXHRcdHRoaXMuX21vdXNlRHJhZyhldmVudCk7IC8vRXhlY3V0ZSB0aGUgZHJhZyBvbmNlIC0gdGhpcyBjYXVzZXMgdGhlIGhlbHBlciBub3QgdG8gYmUgdmlzaWJsZSBiZWZvcmUgZ2V0dGluZyBpdHMgY29ycmVjdCBwb3NpdGlvblxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH0sXG5cblx0X21vdXNlRHJhZzogZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgaSwgaXRlbSwgaXRlbUVsZW1lbnQsIGludGVyc2VjdGlvbixcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRzY3JvbGxlZCA9IGZhbHNlO1xuXG5cdFx0Ly9Db21wdXRlIHRoZSBoZWxwZXJzIHBvc2l0aW9uXG5cdFx0dGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZXZlbnQpO1xuXHRcdHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLl9jb252ZXJ0UG9zaXRpb25UbyhcImFic29sdXRlXCIpO1xuXG5cdFx0aWYgKCF0aGlzLmxhc3RQb3NpdGlvbkFicykge1xuXHRcdFx0dGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzO1xuXHRcdH1cblxuXHRcdC8vRG8gc2Nyb2xsaW5nXG5cdFx0aWYodGhpcy5vcHRpb25zLnNjcm9sbCkge1xuXHRcdFx0aWYodGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSAhPT0gXCJIVE1MXCIpIHtcblxuXHRcdFx0XHRpZigodGhpcy5vdmVyZmxvd09mZnNldC50b3AgKyB0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQpIC0gZXZlbnQucGFnZVkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsZWQgPSB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgKyBvLnNjcm9sbFNwZWVkO1xuXHRcdFx0XHR9IGVsc2UgaWYoZXZlbnQucGFnZVkgLSB0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgPSBzY3JvbGxlZCA9IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCAtIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZigodGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0ICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgpIC0gZXZlbnQucGFnZVggPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCA9IHNjcm9sbGVkID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCArIG8uc2Nyb2xsU3BlZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZihldmVudC5wYWdlWCAtIHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHR0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0ID0gc2Nyb2xsZWQgPSB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0IC0gby5zY3JvbGxTcGVlZDtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSA8IG8uc2Nyb2xsU2Vuc2l0aXZpdHkpIHtcblx0XHRcdFx0XHRzY3JvbGxlZCA9IHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkgLSBvLnNjcm9sbFNwZWVkKTtcblx0XHRcdFx0fSBlbHNlIGlmKHRoaXMud2luZG93LmhlaWdodCgpIC0gKGV2ZW50LnBhZ2VZIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSkgPCBvLnNjcm9sbFNlbnNpdGl2aXR5KSB7XG5cdFx0XHRcdFx0c2Nyb2xsZWQgPSB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpICsgby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihldmVudC5wYWdlWCAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpIC0gby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH0gZWxzZSBpZih0aGlzLndpbmRvdy53aWR0aCgpIC0gKGV2ZW50LnBhZ2VYIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkpIDwgby5zY3JvbGxTZW5zaXRpdml0eSkge1xuXHRcdFx0XHRcdHNjcm9sbGVkID0gdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpICsgby5zY3JvbGxTcGVlZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRpZihzY3JvbGxlZCAhPT0gZmFsc2UgJiYgJC51aS5kZG1hbmFnZXIgJiYgIW8uZHJvcEJlaGF2aW91cikge1xuXHRcdFx0XHQkLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLCBldmVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9SZWdlbmVyYXRlIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiB1c2VkIGZvciBwb3NpdGlvbiBjaGVja3Ncblx0XHR0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oXCJhYnNvbHV0ZVwiKTtcblxuXHRcdC8vU2V0IHRoZSBoZWxwZXIgcG9zaXRpb25cblx0XHRpZighdGhpcy5vcHRpb25zLmF4aXMgfHwgdGhpcy5vcHRpb25zLmF4aXMgIT09IFwieVwiKSB7XG5cdFx0XHR0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0K1wicHhcIjtcblx0XHR9XG5cdFx0aWYoIXRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMub3B0aW9ucy5heGlzICE9PSBcInhcIikge1xuXHRcdFx0dGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wID0gdGhpcy5wb3NpdGlvbi50b3ArXCJweFwiO1xuXHRcdH1cblxuXHRcdC8vUmVhcnJhbmdlXG5cdFx0Zm9yIChpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXG5cdFx0XHQvL0NhY2hlIHZhcmlhYmxlcyBhbmQgaW50ZXJzZWN0aW9uLCBjb250aW51ZSBpZiBubyBpbnRlcnNlY3Rpb25cblx0XHRcdGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuXHRcdFx0aXRlbUVsZW1lbnQgPSBpdGVtLml0ZW1bMF07XG5cdFx0XHRpbnRlcnNlY3Rpb24gPSB0aGlzLl9pbnRlcnNlY3RzV2l0aFBvaW50ZXIoaXRlbSk7XG5cdFx0XHRpZiAoIWludGVyc2VjdGlvbikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBwdXQgdGhlIHBsYWNlaG9sZGVyIGluc2lkZSB0aGUgY3VycmVudCBDb250YWluZXIsIHNraXAgYWxsXG5cdFx0XHQvLyBpdGVtcyBmcm9tIG90aGVyIGNvbnRhaW5lcnMuIFRoaXMgd29ya3MgYmVjYXVzZSB3aGVuIG1vdmluZ1xuXHRcdFx0Ly8gYW4gaXRlbSBmcm9tIG9uZSBjb250YWluZXIgdG8gYW5vdGhlciB0aGVcblx0XHRcdC8vIGN1cnJlbnRDb250YWluZXIgaXMgc3dpdGNoZWQgYmVmb3JlIHRoZSBwbGFjZWhvbGRlciBpcyBtb3ZlZC5cblx0XHRcdC8vXG5cdFx0XHQvLyBXaXRob3V0IHRoaXMsIG1vdmluZyBpdGVtcyBpbiBcInN1Yi1zb3J0YWJsZXNcIiBjYW4gY2F1c2Vcblx0XHRcdC8vIHRoZSBwbGFjZWhvbGRlciB0byBqaXR0ZXIgYmV0d2VlbiB0aGUgb3V0ZXIgYW5kIGlubmVyIGNvbnRhaW5lci5cblx0XHRcdGlmIChpdGVtLmluc3RhbmNlICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNhbm5vdCBpbnRlcnNlY3Qgd2l0aCBpdHNlbGZcblx0XHRcdC8vIG5vIHVzZWxlc3MgYWN0aW9ucyB0aGF0IGhhdmUgYmVlbiBkb25lIGJlZm9yZVxuXHRcdFx0Ly8gbm8gYWN0aW9uIGlmIHRoZSBpdGVtIG1vdmVkIGlzIHRoZSBwYXJlbnQgb2YgdGhlIGl0ZW0gY2hlY2tlZFxuXHRcdFx0aWYgKGl0ZW1FbGVtZW50ICE9PSB0aGlzLmN1cnJlbnRJdGVtWzBdICYmXG5cdFx0XHRcdHRoaXMucGxhY2Vob2xkZXJbaW50ZXJzZWN0aW9uID09PSAxID8gXCJuZXh0XCIgOiBcInByZXZcIl0oKVswXSAhPT0gaXRlbUVsZW1lbnQgJiZcblx0XHRcdFx0ISQuY29udGFpbnModGhpcy5wbGFjZWhvbGRlclswXSwgaXRlbUVsZW1lbnQpICYmXG5cdFx0XHRcdCh0aGlzLm9wdGlvbnMudHlwZSA9PT0gXCJzZW1pLWR5bmFtaWNcIiA/ICEkLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSwgaXRlbUVsZW1lbnQpIDogdHJ1ZSlcblx0XHRcdCkge1xuXG5cdFx0XHRcdHRoaXMuZGlyZWN0aW9uID0gaW50ZXJzZWN0aW9uID09PSAxID8gXCJkb3duXCIgOiBcInVwXCI7XG5cblx0XHRcdFx0aWYgKHRoaXMub3B0aW9ucy50b2xlcmFuY2UgPT09IFwicG9pbnRlclwiIHx8IHRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXMoaXRlbSkpIHtcblx0XHRcdFx0XHR0aGlzLl9yZWFycmFuZ2UoZXZlbnQsIGl0ZW0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fdHJpZ2dlcihcImNoYW5nZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL1Bvc3QgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHR0aGlzLl9jb250YWN0Q29udGFpbmVycyhldmVudCk7XG5cblx0XHQvL0ludGVyY29ubmVjdCB3aXRoIGRyb3BwYWJsZXNcblx0XHRpZigkLnVpLmRkbWFuYWdlcikge1xuXHRcdFx0JC51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLCBldmVudCk7XG5cdFx0fVxuXG5cdFx0Ly9DYWxsIGNhbGxiYWNrc1xuXHRcdHRoaXMuX3RyaWdnZXIoXCJzb3J0XCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cblx0XHR0aGlzLmxhc3RQb3NpdGlvbkFicyA9IHRoaXMucG9zaXRpb25BYnM7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdH0sXG5cblx0X21vdXNlU3RvcDogZnVuY3Rpb24oZXZlbnQsIG5vUHJvcGFnYXRpb24pIHtcblxuXHRcdGlmKCFldmVudCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vSWYgd2UgYXJlIHVzaW5nIGRyb3BwYWJsZXMsIGluZm9ybSB0aGUgbWFuYWdlciBhYm91dCB0aGUgZHJvcFxuXHRcdGlmICgkLnVpLmRkbWFuYWdlciAmJiAhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXIpIHtcblx0XHRcdCQudWkuZGRtYW5hZ2VyLmRyb3AodGhpcywgZXZlbnQpO1xuXHRcdH1cblxuXHRcdGlmKHRoaXMub3B0aW9ucy5yZXZlcnQpIHtcblx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0Y3VyID0gdGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxcblx0XHRcdFx0YXhpcyA9IHRoaXMub3B0aW9ucy5heGlzLFxuXHRcdFx0XHRhbmltYXRpb24gPSB7fTtcblxuXHRcdFx0aWYgKCAhYXhpcyB8fCBheGlzID09PSBcInhcIiApIHtcblx0XHRcdFx0YW5pbWF0aW9uLmxlZnQgPSBjdXIubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnQgKyAodGhpcy5vZmZzZXRQYXJlbnRbMF0gPT09IHRoaXMuZG9jdW1lbnRbMF0uYm9keSA/IDAgOiB0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxMZWZ0KTtcblx0XHRcdH1cblx0XHRcdGlmICggIWF4aXMgfHwgYXhpcyA9PT0gXCJ5XCIgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50b3AgPSBjdXIudG9wIC0gdGhpcy5vZmZzZXQucGFyZW50LnRvcCAtIHRoaXMubWFyZ2lucy50b3AgKyAodGhpcy5vZmZzZXRQYXJlbnRbMF0gPT09IHRoaXMuZG9jdW1lbnRbMF0uYm9keSA/IDAgOiB0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxUb3ApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5yZXZlcnRpbmcgPSB0cnVlO1xuXHRcdFx0JCh0aGlzLmhlbHBlcikuYW5pbWF0ZSggYW5pbWF0aW9uLCBwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LCAxMCkgfHwgNTAwLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhhdC5fY2xlYXIoZXZlbnQpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NsZWFyKGV2ZW50LCBub1Byb3BhZ2F0aW9uKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0fSxcblxuXHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYodGhpcy5kcmFnZ2luZykge1xuXG5cdFx0XHR0aGlzLl9tb3VzZVVwKHsgdGFyZ2V0OiBudWxsIH0pO1xuXG5cdFx0XHRpZih0aGlzLm9wdGlvbnMuaGVscGVyID09PSBcIm9yaWdpbmFsXCIpIHtcblx0XHRcdFx0dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcyhcInVpLXNvcnRhYmxlLWhlbHBlclwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO1xuXHRcdFx0fVxuXG5cdFx0XHQvL1Bvc3QgZGVhY3RpdmF0aW5nIGV2ZW50cyB0byBjb250YWluZXJzXG5cdFx0XHRmb3IgKHZhciBpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzW2ldLl90cmlnZ2VyKFwiZGVhY3RpdmF0ZVwiLCBudWxsLCB0aGlzLl91aUhhc2godGhpcykpO1xuXHRcdFx0XHRpZih0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcikge1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcihcIm91dFwiLCBudWxsLCB0aGlzLl91aUhhc2godGhpcykpO1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucGxhY2Vob2xkZXIpIHtcblx0XHRcdC8vJCh0aGlzLnBsYWNlaG9sZGVyWzBdKS5yZW1vdmUoKTsgd291bGQgaGF2ZSBiZWVuIHRoZSBqUXVlcnkgd2F5IC0gdW5mb3J0dW5hdGVseSwgaXQgdW5iaW5kcyBBTEwgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUhXG5cdFx0XHRpZih0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0dGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pO1xuXHRcdFx0fVxuXHRcdFx0aWYodGhpcy5vcHRpb25zLmhlbHBlciAhPT0gXCJvcmlnaW5hbFwiICYmIHRoaXMuaGVscGVyICYmIHRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpIHtcblx0XHRcdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cdFx0XHR9XG5cblx0XHRcdCQuZXh0ZW5kKHRoaXMsIHtcblx0XHRcdFx0aGVscGVyOiBudWxsLFxuXHRcdFx0XHRkcmFnZ2luZzogZmFsc2UsXG5cdFx0XHRcdHJldmVydGluZzogZmFsc2UsXG5cdFx0XHRcdF9ub0ZpbmFsU29ydDogbnVsbFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmKHRoaXMuZG9tUG9zaXRpb24ucHJldikge1xuXHRcdFx0XHQkKHRoaXMuZG9tUG9zaXRpb24ucHJldikuYWZ0ZXIodGhpcy5jdXJyZW50SXRlbSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXG5cdH0sXG5cblx0c2VyaWFsaXplOiBmdW5jdGlvbihvKSB7XG5cblx0XHR2YXIgaXRlbXMgPSB0aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KG8gJiYgby5jb25uZWN0ZWQpLFxuXHRcdFx0c3RyID0gW107XG5cdFx0byA9IG8gfHwge307XG5cblx0XHQkKGl0ZW1zKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJlcyA9ICgkKG8uaXRlbSB8fCB0aGlzKS5hdHRyKG8uYXR0cmlidXRlIHx8IFwiaWRcIikgfHwgXCJcIikubWF0Y2goby5leHByZXNzaW9uIHx8ICgvKC4rKVtcXC09X10oLispLykpO1xuXHRcdFx0aWYgKHJlcykge1xuXHRcdFx0XHRzdHIucHVzaCgoby5rZXkgfHwgcmVzWzFdK1wiW11cIikrXCI9XCIrKG8ua2V5ICYmIG8uZXhwcmVzc2lvbiA/IHJlc1sxXSA6IHJlc1syXSkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYoIXN0ci5sZW5ndGggJiYgby5rZXkpIHtcblx0XHRcdHN0ci5wdXNoKG8ua2V5ICsgXCI9XCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHIuam9pbihcIiZcIik7XG5cblx0fSxcblxuXHR0b0FycmF5OiBmdW5jdGlvbihvKSB7XG5cblx0XHR2YXIgaXRlbXMgPSB0aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KG8gJiYgby5jb25uZWN0ZWQpLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHRvID0gbyB8fCB7fTtcblxuXHRcdGl0ZW1zLmVhY2goZnVuY3Rpb24oKSB7IHJldC5wdXNoKCQoby5pdGVtIHx8IHRoaXMpLmF0dHIoby5hdHRyaWJ1dGUgfHwgXCJpZFwiKSB8fCBcIlwiKTsgfSk7XG5cdFx0cmV0dXJuIHJldDtcblxuXHR9LFxuXG5cdC8qIEJlIGNhcmVmdWwgd2l0aCB0aGUgZm9sbG93aW5nIGNvcmUgZnVuY3Rpb25zICovXG5cdF9pbnRlcnNlY3RzV2l0aDogZnVuY3Rpb24oaXRlbSkge1xuXG5cdFx0dmFyIHgxID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0LFxuXHRcdFx0eDIgPSB4MSArIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsXG5cdFx0XHR5MSA9IHRoaXMucG9zaXRpb25BYnMudG9wLFxuXHRcdFx0eTIgPSB5MSArIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LFxuXHRcdFx0bCA9IGl0ZW0ubGVmdCxcblx0XHRcdHIgPSBsICsgaXRlbS53aWR0aCxcblx0XHRcdHQgPSBpdGVtLnRvcCxcblx0XHRcdGIgPSB0ICsgaXRlbS5oZWlnaHQsXG5cdFx0XHRkeUNsaWNrID0gdGhpcy5vZmZzZXQuY2xpY2sudG9wLFxuXHRcdFx0ZHhDbGljayA9IHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsXG5cdFx0XHRpc092ZXJFbGVtZW50SGVpZ2h0ID0gKCB0aGlzLm9wdGlvbnMuYXhpcyA9PT0gXCJ4XCIgKSB8fCAoICggeTEgKyBkeUNsaWNrICkgPiB0ICYmICggeTEgKyBkeUNsaWNrICkgPCBiICksXG5cdFx0XHRpc092ZXJFbGVtZW50V2lkdGggPSAoIHRoaXMub3B0aW9ucy5heGlzID09PSBcInlcIiApIHx8ICggKCB4MSArIGR4Q2xpY2sgKSA+IGwgJiYgKCB4MSArIGR4Q2xpY2sgKSA8IHIgKSxcblx0XHRcdGlzT3ZlckVsZW1lbnQgPSBpc092ZXJFbGVtZW50SGVpZ2h0ICYmIGlzT3ZlckVsZW1lbnRXaWR0aDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnRvbGVyYW5jZSA9PT0gXCJwb2ludGVyXCIgfHxcblx0XHRcdHRoaXMub3B0aW9ucy5mb3JjZVBvaW50ZXJGb3JDb250YWluZXJzIHx8XG5cdFx0XHQodGhpcy5vcHRpb25zLnRvbGVyYW5jZSAhPT0gXCJwb2ludGVyXCIgJiYgdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIl0gPiBpdGVtW3RoaXMuZmxvYXRpbmcgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiXSlcblx0XHQpIHtcblx0XHRcdHJldHVybiBpc092ZXJFbGVtZW50O1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdHJldHVybiAobCA8IHgxICsgKHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLyAyKSAmJiAvLyBSaWdodCBIYWxmXG5cdFx0XHRcdHgyIC0gKHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLyAyKSA8IHIgJiYgLy8gTGVmdCBIYWxmXG5cdFx0XHRcdHQgPCB5MSArICh0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIpICYmIC8vIEJvdHRvbSBIYWxmXG5cdFx0XHRcdHkyIC0gKHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC8gMikgPCBiICk7IC8vIFRvcCBIYWxmXG5cblx0XHR9XG5cdH0sXG5cblx0X2ludGVyc2VjdHNXaXRoUG9pbnRlcjogZnVuY3Rpb24oaXRlbSkge1xuXG5cdFx0dmFyIGlzT3ZlckVsZW1lbnRIZWlnaHQgPSAodGhpcy5vcHRpb25zLmF4aXMgPT09IFwieFwiKSB8fCB0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wLCBpdGVtLnRvcCwgaXRlbS5oZWlnaHQpLFxuXHRcdFx0aXNPdmVyRWxlbWVudFdpZHRoID0gKHRoaXMub3B0aW9ucy5heGlzID09PSBcInlcIikgfHwgdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQgKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0LCBpdGVtLmxlZnQsIGl0ZW0ud2lkdGgpLFxuXHRcdFx0aXNPdmVyRWxlbWVudCA9IGlzT3ZlckVsZW1lbnRIZWlnaHQgJiYgaXNPdmVyRWxlbWVudFdpZHRoLFxuXHRcdFx0dmVydGljYWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxcblx0XHRcdGhvcml6b250YWxEaXJlY3Rpb24gPSB0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO1xuXG5cdFx0aWYgKCFpc092ZXJFbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZmxvYXRpbmcgP1xuXHRcdFx0KCAoKGhvcml6b250YWxEaXJlY3Rpb24gJiYgaG9yaXpvbnRhbERpcmVjdGlvbiA9PT0gXCJyaWdodFwiKSB8fCB2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIpID8gMiA6IDEgKVxuXHRcdFx0OiAoIHZlcnRpY2FsRGlyZWN0aW9uICYmICh2ZXJ0aWNhbERpcmVjdGlvbiA9PT0gXCJkb3duXCIgPyAyIDogMSkgKTtcblxuXHR9LFxuXG5cdF9pbnRlcnNlY3RzV2l0aFNpZGVzOiBmdW5jdGlvbihpdGVtKSB7XG5cblx0XHR2YXIgaXNPdmVyQm90dG9tSGFsZiA9IHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3AgKyB0aGlzLm9mZnNldC5jbGljay50b3AsIGl0ZW0udG9wICsgKGl0ZW0uaGVpZ2h0LzIpLCBpdGVtLmhlaWdodCksXG5cdFx0XHRpc092ZXJSaWdodEhhbGYgPSB0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIGl0ZW0ubGVmdCArIChpdGVtLndpZHRoLzIpLCBpdGVtLndpZHRoKSxcblx0XHRcdHZlcnRpY2FsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksXG5cdFx0XHRob3Jpem9udGFsRGlyZWN0aW9uID0gdGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtcblxuXHRcdGlmICh0aGlzLmZsb2F0aW5nICYmIGhvcml6b250YWxEaXJlY3Rpb24pIHtcblx0XHRcdHJldHVybiAoKGhvcml6b250YWxEaXJlY3Rpb24gPT09IFwicmlnaHRcIiAmJiBpc092ZXJSaWdodEhhbGYpIHx8IChob3Jpem9udGFsRGlyZWN0aW9uID09PSBcImxlZnRcIiAmJiAhaXNPdmVyUmlnaHRIYWxmKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2ZXJ0aWNhbERpcmVjdGlvbiAmJiAoKHZlcnRpY2FsRGlyZWN0aW9uID09PSBcImRvd25cIiAmJiBpc092ZXJCb3R0b21IYWxmKSB8fCAodmVydGljYWxEaXJlY3Rpb24gPT09IFwidXBcIiAmJiAhaXNPdmVyQm90dG9tSGFsZikpO1xuXHRcdH1cblxuXHR9LFxuXG5cdF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkZWx0YSA9IHRoaXMucG9zaXRpb25BYnMudG9wIC0gdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wO1xuXHRcdHJldHVybiBkZWx0YSAhPT0gMCAmJiAoZGVsdGEgPiAwID8gXCJkb3duXCIgOiBcInVwXCIpO1xuXHR9LFxuXG5cdF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRlbHRhID0gdGhpcy5wb3NpdGlvbkFicy5sZWZ0IC0gdGhpcy5sYXN0UG9zaXRpb25BYnMubGVmdDtcblx0XHRyZXR1cm4gZGVsdGEgIT09IDAgJiYgKGRlbHRhID4gMCA/IFwicmlnaHRcIiA6IFwibGVmdFwiKTtcblx0fSxcblxuXHRyZWZyZXNoOiBmdW5jdGlvbihldmVudCkge1xuXHRcdHRoaXMuX3JlZnJlc2hJdGVtcyhldmVudCk7XG5cdFx0dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7XG5cdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2Nvbm5lY3RXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblx0XHRyZXR1cm4gb3B0aW9ucy5jb25uZWN0V2l0aC5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nID8gW29wdGlvbnMuY29ubmVjdFdpdGhdIDogb3B0aW9ucy5jb25uZWN0V2l0aDtcblx0fSxcblxuXHRfZ2V0SXRlbXNBc2pRdWVyeTogZnVuY3Rpb24oY29ubmVjdGVkKSB7XG5cblx0XHR2YXIgaSwgaiwgY3VyLCBpbnN0LFxuXHRcdFx0aXRlbXMgPSBbXSxcblx0XHRcdHF1ZXJpZXMgPSBbXSxcblx0XHRcdGNvbm5lY3RXaXRoID0gdGhpcy5fY29ubmVjdFdpdGgoKTtcblxuXHRcdGlmKGNvbm5lY3RXaXRoICYmIGNvbm5lY3RlZCkge1xuXHRcdFx0Zm9yIChpID0gY29ubmVjdFdpdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuXHRcdFx0XHRjdXIgPSAkKGNvbm5lY3RXaXRoW2ldLCB0aGlzLmRvY3VtZW50WzBdKTtcblx0XHRcdFx0Zm9yICggaiA9IGN1ci5sZW5ndGggLSAxOyBqID49IDA7IGotLSl7XG5cdFx0XHRcdFx0aW5zdCA9ICQuZGF0YShjdXJbal0sIHRoaXMud2lkZ2V0RnVsbE5hbWUpO1xuXHRcdFx0XHRcdGlmKGluc3QgJiYgaW5zdCAhPT0gdGhpcyAmJiAhaW5zdC5vcHRpb25zLmRpc2FibGVkKSB7XG5cdFx0XHRcdFx0XHRxdWVyaWVzLnB1c2goWyQuaXNGdW5jdGlvbihpbnN0Lm9wdGlvbnMuaXRlbXMpID8gaW5zdC5vcHRpb25zLml0ZW1zLmNhbGwoaW5zdC5lbGVtZW50KSA6ICQoaW5zdC5vcHRpb25zLml0ZW1zLCBpbnN0LmVsZW1lbnQpLm5vdChcIi51aS1zb3J0YWJsZS1oZWxwZXJcIikubm90KFwiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyXCIpLCBpbnN0XSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cXVlcmllcy5wdXNoKFskLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLml0ZW1zKSA/IHRoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCwgbnVsbCwgeyBvcHRpb25zOiB0aGlzLm9wdGlvbnMsIGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSkgOiAkKHRoaXMub3B0aW9ucy5pdGVtcywgdGhpcy5lbGVtZW50KS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpLm5vdChcIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlclwiKSwgdGhpc10pO1xuXG5cdFx0ZnVuY3Rpb24gYWRkSXRlbXMoKSB7XG5cdFx0XHRpdGVtcy5wdXNoKCB0aGlzICk7XG5cdFx0fVxuXHRcdGZvciAoaSA9IHF1ZXJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuXHRcdFx0cXVlcmllc1tpXVswXS5lYWNoKCBhZGRJdGVtcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiAkKGl0ZW1zKTtcblxuXHR9LFxuXG5cdF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgbGlzdCA9IHRoaXMuY3VycmVudEl0ZW0uZmluZChcIjpkYXRhKFwiICsgdGhpcy53aWRnZXROYW1lICsgXCItaXRlbSlcIik7XG5cblx0XHR0aGlzLml0ZW1zID0gJC5ncmVwKHRoaXMuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRmb3IgKHZhciBqPTA7IGogPCBsaXN0Lmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmKGxpc3Rbal0gPT09IGl0ZW0uaXRlbVswXSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSk7XG5cblx0fSxcblxuXHRfcmVmcmVzaEl0ZW1zOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dGhpcy5pdGVtcyA9IFtdO1xuXHRcdHRoaXMuY29udGFpbmVycyA9IFt0aGlzXTtcblxuXHRcdHZhciBpLCBqLCBjdXIsIGluc3QsIHRhcmdldERhdGEsIF9xdWVyaWVzLCBpdGVtLCBxdWVyaWVzTGVuZ3RoLFxuXHRcdFx0aXRlbXMgPSB0aGlzLml0ZW1zLFxuXHRcdFx0cXVlcmllcyA9IFtbJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcykgPyB0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnRbMF0sIGV2ZW50LCB7IGl0ZW06IHRoaXMuY3VycmVudEl0ZW0gfSkgOiAkKHRoaXMub3B0aW9ucy5pdGVtcywgdGhpcy5lbGVtZW50KSwgdGhpc11dLFxuXHRcdFx0Y29ubmVjdFdpdGggPSB0aGlzLl9jb25uZWN0V2l0aCgpO1xuXG5cdFx0aWYoY29ubmVjdFdpdGggJiYgdGhpcy5yZWFkeSkgeyAvL1Nob3VsZG4ndCBiZSBydW4gdGhlIGZpcnN0IHRpbWUgdGhyb3VnaCBkdWUgdG8gbWFzc2l2ZSBzbG93LWRvd25cblx0XHRcdGZvciAoaSA9IGNvbm5lY3RXaXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0Y3VyID0gJChjb25uZWN0V2l0aFtpXSwgdGhpcy5kb2N1bWVudFswXSk7XG5cdFx0XHRcdGZvciAoaiA9IGN1ci5sZW5ndGggLSAxOyBqID49IDA7IGotLSl7XG5cdFx0XHRcdFx0aW5zdCA9ICQuZGF0YShjdXJbal0sIHRoaXMud2lkZ2V0RnVsbE5hbWUpO1xuXHRcdFx0XHRcdGlmKGluc3QgJiYgaW5zdCAhPT0gdGhpcyAmJiAhaW5zdC5vcHRpb25zLmRpc2FibGVkKSB7XG5cdFx0XHRcdFx0XHRxdWVyaWVzLnB1c2goWyQuaXNGdW5jdGlvbihpbnN0Lm9wdGlvbnMuaXRlbXMpID8gaW5zdC5vcHRpb25zLml0ZW1zLmNhbGwoaW5zdC5lbGVtZW50WzBdLCBldmVudCwgeyBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtIH0pIDogJChpbnN0Lm9wdGlvbnMuaXRlbXMsIGluc3QuZWxlbWVudCksIGluc3RdKTtcblx0XHRcdFx0XHRcdHRoaXMuY29udGFpbmVycy5wdXNoKGluc3QpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoaSA9IHF1ZXJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdHRhcmdldERhdGEgPSBxdWVyaWVzW2ldWzFdO1xuXHRcdFx0X3F1ZXJpZXMgPSBxdWVyaWVzW2ldWzBdO1xuXG5cdFx0XHRmb3IgKGo9MCwgcXVlcmllc0xlbmd0aCA9IF9xdWVyaWVzLmxlbmd0aDsgaiA8IHF1ZXJpZXNMZW5ndGg7IGorKykge1xuXHRcdFx0XHRpdGVtID0gJChfcXVlcmllc1tqXSk7XG5cblx0XHRcdFx0aXRlbS5kYXRhKHRoaXMud2lkZ2V0TmFtZSArIFwiLWl0ZW1cIiwgdGFyZ2V0RGF0YSk7IC8vIERhdGEgZm9yIHRhcmdldCBjaGVja2luZyAobW91c2UgbWFuYWdlcilcblxuXHRcdFx0XHRpdGVtcy5wdXNoKHtcblx0XHRcdFx0XHRpdGVtOiBpdGVtLFxuXHRcdFx0XHRcdGluc3RhbmNlOiB0YXJnZXREYXRhLFxuXHRcdFx0XHRcdHdpZHRoOiAwLCBoZWlnaHQ6IDAsXG5cdFx0XHRcdFx0bGVmdDogMCwgdG9wOiAwXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9LFxuXG5cdHJlZnJlc2hQb3NpdGlvbnM6IGZ1bmN0aW9uKGZhc3QpIHtcblxuXHRcdC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW1zIGFyZSBiZWluZyBkaXNwbGF5ZWQgaG9yaXpvbnRhbGx5XG5cdFx0dGhpcy5mbG9hdGluZyA9IHRoaXMuaXRlbXMubGVuZ3RoID9cblx0XHRcdHRoaXMub3B0aW9ucy5heGlzID09PSBcInhcIiB8fCB0aGlzLl9pc0Zsb2F0aW5nKCB0aGlzLml0ZW1zWyAwIF0uaXRlbSApIDpcblx0XHRcdGZhbHNlO1xuXG5cdFx0Ly9UaGlzIGhhcyB0byBiZSByZWRvbmUgYmVjYXVzZSBkdWUgdG8gdGhlIGl0ZW0gYmVpbmcgbW92ZWQgb3V0L2ludG8gdGhlIG9mZnNldFBhcmVudCwgdGhlIG9mZnNldFBhcmVudCdzIHBvc2l0aW9uIHdpbGwgY2hhbmdlXG5cdFx0aWYodGhpcy5vZmZzZXRQYXJlbnQgJiYgdGhpcy5oZWxwZXIpIHtcblx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpO1xuXHRcdH1cblxuXHRcdHZhciBpLCBpdGVtLCB0LCBwO1xuXG5cdFx0Zm9yIChpID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSl7XG5cdFx0XHRpdGVtID0gdGhpcy5pdGVtc1tpXTtcblxuXHRcdFx0Ly9XZSBpZ25vcmUgY2FsY3VsYXRpbmcgcG9zaXRpb25zIG9mIGFsbCBjb25uZWN0ZWQgY29udGFpbmVycyB3aGVuIHdlJ3JlIG5vdCBvdmVyIHRoZW1cblx0XHRcdGlmKGl0ZW0uaW5zdGFuY2UgIT09IHRoaXMuY3VycmVudENvbnRhaW5lciAmJiB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgaXRlbS5pdGVtWzBdICE9PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0ID0gdGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQgPyAkKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LCBpdGVtLml0ZW0pIDogaXRlbS5pdGVtO1xuXG5cdFx0XHRpZiAoIWZhc3QpIHtcblx0XHRcdFx0aXRlbS53aWR0aCA9IHQub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRpdGVtLmhlaWdodCA9IHQub3V0ZXJIZWlnaHQoKTtcblx0XHRcdH1cblxuXHRcdFx0cCA9IHQub2Zmc2V0KCk7XG5cdFx0XHRpdGVtLmxlZnQgPSBwLmxlZnQ7XG5cdFx0XHRpdGVtLnRvcCA9IHAudG9wO1xuXHRcdH1cblxuXHRcdGlmKHRoaXMub3B0aW9ucy5jdXN0b20gJiYgdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycykge1xuXHRcdFx0dGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGkgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuXHRcdFx0XHRwID0gdGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub2Zmc2V0KCk7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5sZWZ0ID0gcC5sZWZ0O1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUudG9wID0gcC50b3A7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS53aWR0aCA9IHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVyV2lkdGgoKTtcblx0XHRcdFx0dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmhlaWdodCA9IHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0X2NyZWF0ZVBsYWNlaG9sZGVyOiBmdW5jdGlvbih0aGF0KSB7XG5cdFx0dGhhdCA9IHRoYXQgfHwgdGhpcztcblx0XHR2YXIgY2xhc3NOYW1lLFxuXHRcdFx0byA9IHRoYXQub3B0aW9ucztcblxuXHRcdGlmKCFvLnBsYWNlaG9sZGVyIHx8IG8ucGxhY2Vob2xkZXIuY29uc3RydWN0b3IgPT09IFN0cmluZykge1xuXHRcdFx0Y2xhc3NOYW1lID0gby5wbGFjZWhvbGRlcjtcblx0XHRcdG8ucGxhY2Vob2xkZXIgPSB7XG5cdFx0XHRcdGVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0dmFyIG5vZGVOYW1lID0gdGhhdC5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRcdFx0ZWxlbWVudCA9ICQoIFwiPFwiICsgbm9kZU5hbWUgKyBcIj5cIiwgdGhhdC5kb2N1bWVudFswXSApXG5cdFx0XHRcdFx0XHRcdC5hZGRDbGFzcyhjbGFzc05hbWUgfHwgdGhhdC5jdXJyZW50SXRlbVswXS5jbGFzc05hbWUrXCIgdWktc29ydGFibGUtcGxhY2Vob2xkZXJcIilcblx0XHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKFwidWktc29ydGFibGUtaGVscGVyXCIpO1xuXG5cdFx0XHRcdFx0aWYgKCBub2RlTmFtZSA9PT0gXCJ0Ym9keVwiICkge1xuXHRcdFx0XHRcdFx0dGhhdC5fY3JlYXRlVHJQbGFjZWhvbGRlcihcblx0XHRcdFx0XHRcdFx0dGhhdC5jdXJyZW50SXRlbS5maW5kKCBcInRyXCIgKS5lcSggMCApLFxuXHRcdFx0XHRcdFx0XHQkKCBcIjx0cj5cIiwgdGhhdC5kb2N1bWVudFsgMCBdICkuYXBwZW5kVG8oIGVsZW1lbnQgKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJ0clwiICkge1xuXHRcdFx0XHRcdFx0dGhhdC5fY3JlYXRlVHJQbGFjZWhvbGRlciggdGhhdC5jdXJyZW50SXRlbSwgZWxlbWVudCApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImltZ1wiICkge1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5hdHRyKCBcInNyY1wiLCB0aGF0LmN1cnJlbnRJdGVtLmF0dHIoIFwic3JjXCIgKSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmICggIWNsYXNzTmFtZSApIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuY3NzKCBcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50O1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR1cGRhdGU6IGZ1bmN0aW9uKGNvbnRhaW5lciwgcCkge1xuXG5cdFx0XHRcdFx0Ly8gMS4gSWYgYSBjbGFzc05hbWUgaXMgc2V0IGFzICdwbGFjZWhvbGRlciBvcHRpb24sIHdlIGRvbid0IGZvcmNlIHNpemVzIC0gdGhlIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciB0aGF0XG5cdFx0XHRcdFx0Ly8gMi4gVGhlIG9wdGlvbiAnZm9yY2VQbGFjZWhvbGRlclNpemUgY2FuIGJlIGVuYWJsZWQgdG8gZm9yY2UgaXQgZXZlbiBpZiBhIGNsYXNzIG5hbWUgaXMgc3BlY2lmaWVkXG5cdFx0XHRcdFx0aWYoY2xhc3NOYW1lICYmICFvLmZvcmNlUGxhY2Vob2xkZXJTaXplKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly9JZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYSBhY3R1YWwgaGVpZ2h0IGJ5IGl0c2VsZiAod2l0aG91dCBzdHlsZXMgY29taW5nIGZyb20gYSBzdHlsZXNoZWV0KSwgaXQgcmVjZWl2ZXMgdGhlIGlubGluZSBoZWlnaHQgZnJvbSB0aGUgZHJhZ2dlZCBpdGVtXG5cdFx0XHRcdFx0aWYoIXAuaGVpZ2h0KCkpIHsgcC5oZWlnaHQodGhhdC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpIC0gcGFyc2VJbnQodGhhdC5jdXJyZW50SXRlbS5jc3MoXCJwYWRkaW5nVG9wXCIpfHwwLCAxMCkgLSBwYXJzZUludCh0aGF0LmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdCb3R0b21cIil8fDAsIDEwKSk7IH1cblx0XHRcdFx0XHRpZighcC53aWR0aCgpKSB7IHAud2lkdGgodGhhdC5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCkgLSBwYXJzZUludCh0aGF0LmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdMZWZ0XCIpfHwwLCAxMCkgLSBwYXJzZUludCh0aGF0LmN1cnJlbnRJdGVtLmNzcyhcInBhZGRpbmdSaWdodFwiKXx8MCwgMTApKTsgfVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vQ3JlYXRlIHRoZSBwbGFjZWhvbGRlclxuXHRcdHRoYXQucGxhY2Vob2xkZXIgPSAkKG8ucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHRoYXQuZWxlbWVudCwgdGhhdC5jdXJyZW50SXRlbSkpO1xuXG5cdFx0Ly9BcHBlbmQgaXQgYWZ0ZXIgdGhlIGFjdHVhbCBjdXJyZW50IGl0ZW1cblx0XHR0aGF0LmN1cnJlbnRJdGVtLmFmdGVyKHRoYXQucGxhY2Vob2xkZXIpO1xuXG5cdFx0Ly9VcGRhdGUgdGhlIHNpemUgb2YgdGhlIHBsYWNlaG9sZGVyIChUT0RPOiBMb2dpYyB0byBmdXp6eSwgc2VlIGxpbmUgMzE2LzMxNylcblx0XHRvLnBsYWNlaG9sZGVyLnVwZGF0ZSh0aGF0LCB0aGF0LnBsYWNlaG9sZGVyKTtcblxuXHR9LFxuXG5cdF9jcmVhdGVUclBsYWNlaG9sZGVyOiBmdW5jdGlvbiggc291cmNlVHIsIHRhcmdldFRyICkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdHNvdXJjZVRyLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdCQoIFwiPHRkPiYjMTYwOzwvdGQ+XCIsIHRoYXQuZG9jdW1lbnRbIDAgXSApXG5cdFx0XHRcdC5hdHRyKCBcImNvbHNwYW5cIiwgJCggdGhpcyApLmF0dHIoIFwiY29sc3BhblwiICkgfHwgMSApXG5cdFx0XHRcdC5hcHBlbmRUbyggdGFyZ2V0VHIgKTtcblx0XHR9KTtcblx0fSxcblxuXHRfY29udGFjdENvbnRhaW5lcnM6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIGksIGosIGRpc3QsIGl0ZW1XaXRoTGVhc3REaXN0YW5jZSwgcG9zUHJvcGVydHksIHNpemVQcm9wZXJ0eSwgY3VyLCBuZWFyQm90dG9tLCBmbG9hdGluZywgYXhpcyxcblx0XHRcdGlubmVybW9zdENvbnRhaW5lciA9IG51bGwsXG5cdFx0XHRpbm5lcm1vc3RJbmRleCA9IG51bGw7XG5cblx0XHQvLyBnZXQgaW5uZXJtb3N0IGNvbnRhaW5lciB0aGF0IGludGVyc2VjdHMgd2l0aCBpdGVtXG5cdFx0Zm9yIChpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cblx0XHRcdC8vIG5ldmVyIGNvbnNpZGVyIGEgY29udGFpbmVyIHRoYXQncyBsb2NhdGVkIHdpdGhpbiB0aGUgaXRlbSBpdHNlbGZcblx0XHRcdGlmKCQuY29udGFpbnModGhpcy5jdXJyZW50SXRlbVswXSwgdGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnRbMF0pKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZih0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUpKSB7XG5cblx0XHRcdFx0Ly8gaWYgd2UndmUgYWxyZWFkeSBmb3VuZCBhIGNvbnRhaW5lciBhbmQgaXQncyBtb3JlIFwiaW5uZXJcIiB0aGFuIHRoaXMsIHRoZW4gY29udGludWVcblx0XHRcdFx0aWYoaW5uZXJtb3N0Q29udGFpbmVyICYmICQuY29udGFpbnModGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnRbMF0sIGlubmVybW9zdENvbnRhaW5lci5lbGVtZW50WzBdKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aW5uZXJtb3N0Q29udGFpbmVyID0gdGhpcy5jb250YWluZXJzW2ldO1xuXHRcdFx0XHRpbm5lcm1vc3RJbmRleCA9IGk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGNvbnRhaW5lciBkb2Vzbid0IGludGVyc2VjdC4gdHJpZ2dlciBcIm91dFwiIGV2ZW50IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRpZih0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcikge1xuXHRcdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcihcIm91dFwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIGlmIG5vIGludGVyc2VjdGluZyBjb250YWluZXJzIGZvdW5kLCByZXR1cm5cblx0XHRpZighaW5uZXJtb3N0Q29udGFpbmVyKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gbW92ZSB0aGUgaXRlbSBpbnRvIHRoZSBjb250YWluZXIgaWYgaXQncyBub3QgdGhlcmUgYWxyZWFkeVxuXHRcdGlmKHRoaXMuY29udGFpbmVycy5sZW5ndGggPT09IDEpIHtcblx0XHRcdGlmICghdGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5jb250YWluZXJDYWNoZS5vdmVyKSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uX3RyaWdnZXIoXCJvdmVyXCIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpO1xuXHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLmNvbnRhaW5lckNhY2hlLm92ZXIgPSAxO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vV2hlbiBlbnRlcmluZyBhIG5ldyBjb250YWluZXIsIHdlIHdpbGwgZmluZCB0aGUgaXRlbSB3aXRoIHRoZSBsZWFzdCBkaXN0YW5jZSBhbmQgYXBwZW5kIG91ciBpdGVtIG5lYXIgaXRcblx0XHRcdGRpc3QgPSAxMDAwMDtcblx0XHRcdGl0ZW1XaXRoTGVhc3REaXN0YW5jZSA9IG51bGw7XG5cdFx0XHRmbG9hdGluZyA9IGlubmVybW9zdENvbnRhaW5lci5mbG9hdGluZyB8fCB0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuY3VycmVudEl0ZW0pO1xuXHRcdFx0cG9zUHJvcGVydHkgPSBmbG9hdGluZyA/IFwibGVmdFwiIDogXCJ0b3BcIjtcblx0XHRcdHNpemVQcm9wZXJ0eSA9IGZsb2F0aW5nID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIjtcblx0XHRcdGF4aXMgPSBmbG9hdGluZyA/IFwiY2xpZW50WFwiIDogXCJjbGllbnRZXCI7XG5cblx0XHRcdGZvciAoaiA9IHRoaXMuaXRlbXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcblx0XHRcdFx0aWYoISQuY29udGFpbnModGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5lbGVtZW50WzBdLCB0aGlzLml0ZW1zW2pdLml0ZW1bMF0pKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYodGhpcy5pdGVtc1tqXS5pdGVtWzBdID09PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdXIgPSB0aGlzLml0ZW1zW2pdLml0ZW0ub2Zmc2V0KClbcG9zUHJvcGVydHldO1xuXHRcdFx0XHRuZWFyQm90dG9tID0gZmFsc2U7XG5cdFx0XHRcdGlmICggZXZlbnRbIGF4aXMgXSAtIGN1ciA+IHRoaXMuaXRlbXNbIGogXVsgc2l6ZVByb3BlcnR5IF0gLyAyICkge1xuXHRcdFx0XHRcdG5lYXJCb3R0b20gPSB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBNYXRoLmFicyggZXZlbnRbIGF4aXMgXSAtIGN1ciApIDwgZGlzdCApIHtcblx0XHRcdFx0XHRkaXN0ID0gTWF0aC5hYnMoIGV2ZW50WyBheGlzIF0gLSBjdXIgKTtcblx0XHRcdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgPSB0aGlzLml0ZW1zWyBqIF07XG5cdFx0XHRcdFx0dGhpcy5kaXJlY3Rpb24gPSBuZWFyQm90dG9tID8gXCJ1cFwiOiBcImRvd25cIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvL0NoZWNrIGlmIGRyb3BPbkVtcHR5IGlzIGVuYWJsZWRcblx0XHRcdGlmKCFpdGVtV2l0aExlYXN0RGlzdGFuY2UgJiYgIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmKHRoaXMuY3VycmVudENvbnRhaW5lciA9PT0gdGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XSkge1xuXHRcdFx0XHRpZiAoICF0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciApIHtcblx0XHRcdFx0XHR0aGlzLmNvbnRhaW5lcnNbIGlubmVybW9zdEluZGV4IF0uX3RyaWdnZXIoIFwib3ZlclwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkgKTtcblx0XHRcdFx0XHR0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpdGVtV2l0aExlYXN0RGlzdGFuY2UgPyB0aGlzLl9yZWFycmFuZ2UoZXZlbnQsIGl0ZW1XaXRoTGVhc3REaXN0YW5jZSwgbnVsbCwgdHJ1ZSkgOiB0aGlzLl9yZWFycmFuZ2UoZXZlbnQsIG51bGwsIHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uZWxlbWVudCwgdHJ1ZSk7XG5cdFx0XHR0aGlzLl90cmlnZ2VyKFwiY2hhbmdlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cdFx0XHR0aGlzLmNvbnRhaW5lcnNbaW5uZXJtb3N0SW5kZXhdLl90cmlnZ2VyKFwiY2hhbmdlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpO1xuXHRcdFx0dGhpcy5jdXJyZW50Q29udGFpbmVyID0gdGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XTtcblxuXHRcdFx0Ly9VcGRhdGUgdGhlIHBsYWNlaG9sZGVyXG5cdFx0XHR0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lciwgdGhpcy5wbGFjZWhvbGRlcik7XG5cblx0XHRcdHRoaXMuY29udGFpbmVyc1tpbm5lcm1vc3RJbmRleF0uX3RyaWdnZXIoXCJvdmVyXCIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcykpO1xuXHRcdFx0dGhpcy5jb250YWluZXJzW2lubmVybW9zdEluZGV4XS5jb250YWluZXJDYWNoZS5vdmVyID0gMTtcblx0XHR9XG5cblxuXHR9LFxuXG5cdF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG5cblx0XHR2YXIgbyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGhlbHBlciA9ICQuaXNGdW5jdGlvbihvLmhlbHBlcikgPyAkKG8uaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSwgW2V2ZW50LCB0aGlzLmN1cnJlbnRJdGVtXSkpIDogKG8uaGVscGVyID09PSBcImNsb25lXCIgPyB0aGlzLmN1cnJlbnRJdGVtLmNsb25lKCkgOiB0aGlzLmN1cnJlbnRJdGVtKTtcblxuXHRcdC8vQWRkIHRoZSBoZWxwZXIgdG8gdGhlIERPTSBpZiB0aGF0IGRpZG4ndCBoYXBwZW4gYWxyZWFkeVxuXHRcdGlmKCFoZWxwZXIucGFyZW50cyhcImJvZHlcIikubGVuZ3RoKSB7XG5cdFx0XHQkKG8uYXBwZW5kVG8gIT09IFwicGFyZW50XCIgPyBvLmFwcGVuZFRvIDogdGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlKVswXS5hcHBlbmRDaGlsZChoZWxwZXJbMF0pO1xuXHRcdH1cblxuXHRcdGlmKGhlbHBlclswXSA9PT0gdGhpcy5jdXJyZW50SXRlbVswXSkge1xuXHRcdFx0dGhpcy5fc3RvcmVkQ1NTID0geyB3aWR0aDogdGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS53aWR0aCwgaGVpZ2h0OiB0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLmhlaWdodCwgcG9zaXRpb246IHRoaXMuY3VycmVudEl0ZW0uY3NzKFwicG9zaXRpb25cIiksIHRvcDogdGhpcy5jdXJyZW50SXRlbS5jc3MoXCJ0b3BcIiksIGxlZnQ6IHRoaXMuY3VycmVudEl0ZW0uY3NzKFwibGVmdFwiKSB9O1xuXHRcdH1cblxuXHRcdGlmKCFoZWxwZXJbMF0uc3R5bGUud2lkdGggfHwgby5mb3JjZUhlbHBlclNpemUpIHtcblx0XHRcdGhlbHBlci53aWR0aCh0aGlzLmN1cnJlbnRJdGVtLndpZHRoKCkpO1xuXHRcdH1cblx0XHRpZighaGVscGVyWzBdLnN0eWxlLmhlaWdodCB8fCBvLmZvcmNlSGVscGVyU2l6ZSkge1xuXHRcdFx0aGVscGVyLmhlaWdodCh0aGlzLmN1cnJlbnRJdGVtLmhlaWdodCgpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGVscGVyO1xuXG5cdH0sXG5cblx0X2FkanVzdE9mZnNldEZyb21IZWxwZXI6IGZ1bmN0aW9uKG9iaikge1xuXHRcdGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRvYmogPSBvYmouc3BsaXQoXCIgXCIpO1xuXHRcdH1cblx0XHRpZiAoJC5pc0FycmF5KG9iaikpIHtcblx0XHRcdG9iaiA9IHtsZWZ0OiArb2JqWzBdLCB0b3A6ICtvYmpbMV0gfHwgMH07XG5cdFx0fVxuXHRcdGlmIChcImxlZnRcIiBpbiBvYmopIHtcblx0XHRcdHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSBvYmoubGVmdCArIHRoaXMubWFyZ2lucy5sZWZ0O1xuXHRcdH1cblx0XHRpZiAoXCJyaWdodFwiIGluIG9iaikge1xuXHRcdFx0dGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSBvYmoucmlnaHQgKyB0aGlzLm1hcmdpbnMubGVmdDtcblx0XHR9XG5cdFx0aWYgKFwidG9wXCIgaW4gb2JqKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgPSBvYmoudG9wICsgdGhpcy5tYXJnaW5zLnRvcDtcblx0XHR9XG5cdFx0aWYgKFwiYm90dG9tXCIgaW4gb2JqKSB7XG5cdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIG9iai5ib3R0b20gKyB0aGlzLm1hcmdpbnMudG9wO1xuXHRcdH1cblx0fSxcblxuXHRfZ2V0UGFyZW50T2Zmc2V0OiBmdW5jdGlvbigpIHtcblxuXG5cdFx0Ly9HZXQgdGhlIG9mZnNldFBhcmVudCBhbmQgY2FjaGUgaXRzIHBvc2l0aW9uXG5cdFx0dGhpcy5vZmZzZXRQYXJlbnQgPSB0aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTtcblx0XHR2YXIgcG8gPSB0aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTtcblxuXHRcdC8vIFRoaXMgaXMgYSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2UgbmVlZCB0byBtb2RpZnkgYSBvZmZzZXQgY2FsY3VsYXRlZCBvbiBzdGFydCwgc2luY2UgdGhlIGZvbGxvd2luZyBoYXBwZW5lZDpcblx0XHQvLyAxLiBUaGUgcG9zaXRpb24gb2YgdGhlIGhlbHBlciBpcyBhYnNvbHV0ZSwgc28gaXQncyBwb3NpdGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBuZXh0IHBvc2l0aW9uZWQgcGFyZW50XG5cdFx0Ly8gMi4gVGhlIGFjdHVhbCBvZmZzZXQgcGFyZW50IGlzIGEgY2hpbGQgb2YgdGhlIHNjcm9sbCBwYXJlbnQsIGFuZCB0aGUgc2Nyb2xsIHBhcmVudCBpc24ndCB0aGUgZG9jdW1lbnQsIHdoaWNoIG1lYW5zIHRoYXRcblx0XHQvLyAgICB0aGUgc2Nyb2xsIGlzIGluY2x1ZGVkIGluIHRoZSBpbml0aWFsIGNhbGN1bGF0aW9uIG9mIHRoZSBvZmZzZXQgb2YgdGhlIHBhcmVudCwgYW5kIG5ldmVyIHJlY2FsY3VsYXRlZCB1cG9uIGRyYWdcblx0XHRpZih0aGlzLmNzc1Bvc2l0aW9uID09PSBcImFic29sdXRlXCIgJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgJC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSwgdGhpcy5vZmZzZXRQYXJlbnRbMF0pKSB7XG5cdFx0XHRwby5sZWZ0ICs9IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTtcblx0XHRcdHBvLnRvcCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTtcblx0XHR9XG5cblx0XHQvLyBUaGlzIG5lZWRzIHRvIGJlIGFjdHVhbGx5IGRvbmUgZm9yIGFsbCBicm93c2Vycywgc2luY2UgcGFnZVgvcGFnZVkgaW5jbHVkZXMgdGhpcyBpbmZvcm1hdGlvblxuXHRcdC8vIHdpdGggYW4gdWdseSBJRSBmaXhcblx0XHRpZiggdGhpcy5vZmZzZXRQYXJlbnRbMF0gPT09IHRoaXMuZG9jdW1lbnRbMF0uYm9keSB8fCAodGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSAmJiB0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaHRtbFwiICYmICQudWkuaWUpKSB7XG5cdFx0XHRwbyA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcG8udG9wICsgKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKSB8fCAwKSxcblx0XHRcdGxlZnQ6IHBvLmxlZnQgKyAocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKFwiYm9yZGVyTGVmdFdpZHRoXCIpLDEwKSB8fCAwKVxuXHRcdH07XG5cblx0fSxcblxuXHRfZ2V0UmVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0aWYodGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJyZWxhdGl2ZVwiKSB7XG5cdFx0XHR2YXIgcCA9IHRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRvcDogcC50b3AgLSAocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKFwidG9wXCIpLDEwKSB8fCAwKSArIHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpLFxuXHRcdFx0XHRsZWZ0OiBwLmxlZnQgLSAocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKFwibGVmdFwiKSwxMCkgfHwgMCkgKyB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KClcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHR9LFxuXG5cdF9jYWNoZU1hcmdpbnM6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMubWFyZ2lucyA9IHtcblx0XHRcdGxlZnQ6IChwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcyhcIm1hcmdpbkxlZnRcIiksMTApIHx8IDApLFxuXHRcdFx0dG9wOiAocGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoXCJtYXJnaW5Ub3BcIiksMTApIHx8IDApXG5cdFx0fTtcblx0fSxcblxuXHRfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5oZWxwZXJQcm9wb3J0aW9ucyA9IHtcblx0XHRcdHdpZHRoOiB0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksXG5cdFx0XHRoZWlnaHQ6IHRoaXMuaGVscGVyLm91dGVySGVpZ2h0KClcblx0XHR9O1xuXHR9LFxuXG5cdF9zZXRDb250YWlubWVudDogZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgY2UsIGNvLCBvdmVyLFxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcblx0XHRpZihvLmNvbnRhaW5tZW50ID09PSBcInBhcmVudFwiKSB7XG5cdFx0XHRvLmNvbnRhaW5tZW50ID0gdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZTtcblx0XHR9XG5cdFx0aWYoby5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiIHx8IG8uY29udGFpbm1lbnQgPT09IFwid2luZG93XCIpIHtcblx0XHRcdHRoaXMuY29udGFpbm1lbnQgPSBbXG5cdFx0XHRcdDAgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsXG5cdFx0XHRcdDAgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wLFxuXHRcdFx0XHRvLmNvbnRhaW5tZW50ID09PSBcImRvY3VtZW50XCIgPyB0aGlzLmRvY3VtZW50LndpZHRoKCkgOiB0aGlzLndpbmRvdy53aWR0aCgpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtIHRoaXMubWFyZ2lucy5sZWZ0LFxuXHRcdFx0XHQoby5jb250YWlubWVudCA9PT0gXCJkb2N1bWVudFwiID8gdGhpcy5kb2N1bWVudC53aWR0aCgpIDogdGhpcy53aW5kb3cuaGVpZ2h0KCkgfHwgdGhpcy5kb2N1bWVudFswXS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcFxuXHRcdFx0XTtcblx0XHR9XG5cblx0XHRpZighKC9eKGRvY3VtZW50fHdpbmRvd3xwYXJlbnQpJC8pLnRlc3Qoby5jb250YWlubWVudCkpIHtcblx0XHRcdGNlID0gJChvLmNvbnRhaW5tZW50KVswXTtcblx0XHRcdGNvID0gJChvLmNvbnRhaW5tZW50KS5vZmZzZXQoKTtcblx0XHRcdG92ZXIgPSAoJChjZSkuY3NzKFwib3ZlcmZsb3dcIikgIT09IFwiaGlkZGVuXCIpO1xuXG5cdFx0XHR0aGlzLmNvbnRhaW5tZW50ID0gW1xuXHRcdFx0XHRjby5sZWZ0ICsgKHBhcnNlSW50KCQoY2UpLmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCkgfHwgMCkgKyAocGFyc2VJbnQoJChjZSkuY3NzKFwicGFkZGluZ0xlZnRcIiksMTApIHx8IDApIC0gdGhpcy5tYXJnaW5zLmxlZnQsXG5cdFx0XHRcdGNvLnRvcCArIChwYXJzZUludCgkKGNlKS5jc3MoXCJib3JkZXJUb3BXaWR0aFwiKSwxMCkgfHwgMCkgKyAocGFyc2VJbnQoJChjZSkuY3NzKFwicGFkZGluZ1RvcFwiKSwxMCkgfHwgMCkgLSB0aGlzLm1hcmdpbnMudG9wLFxuXHRcdFx0XHRjby5sZWZ0KyhvdmVyID8gTWF0aC5tYXgoY2Uuc2Nyb2xsV2lkdGgsY2Uub2Zmc2V0V2lkdGgpIDogY2Uub2Zmc2V0V2lkdGgpIC0gKHBhcnNlSW50KCQoY2UpLmNzcyhcImJvcmRlckxlZnRXaWR0aFwiKSwxMCkgfHwgMCkgLSAocGFyc2VJbnQoJChjZSkuY3NzKFwicGFkZGluZ1JpZ2h0XCIpLDEwKSB8fCAwKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCxcblx0XHRcdFx0Y28udG9wKyhvdmVyID8gTWF0aC5tYXgoY2Uuc2Nyb2xsSGVpZ2h0LGNlLm9mZnNldEhlaWdodCkgOiBjZS5vZmZzZXRIZWlnaHQpIC0gKHBhcnNlSW50KCQoY2UpLmNzcyhcImJvcmRlclRvcFdpZHRoXCIpLDEwKSB8fCAwKSAtIChwYXJzZUludCgkKGNlKS5jc3MoXCJwYWRkaW5nQm90dG9tXCIpLDEwKSB8fCAwKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcFxuXHRcdFx0XTtcblx0XHR9XG5cblx0fSxcblxuXHRfY29udmVydFBvc2l0aW9uVG86IGZ1bmN0aW9uKGQsIHBvcykge1xuXG5cdFx0aWYoIXBvcykge1xuXHRcdFx0cG9zID0gdGhpcy5wb3NpdGlvbjtcblx0XHR9XG5cdFx0dmFyIG1vZCA9IGQgPT09IFwiYWJzb2x1dGVcIiA/IDEgOiAtMSxcblx0XHRcdHNjcm9sbCA9IHRoaXMuY3NzUG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiAmJiAhKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmICQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSkgPyB0aGlzLm9mZnNldFBhcmVudCA6IHRoaXMuc2Nyb2xsUGFyZW50LFxuXHRcdFx0c2Nyb2xsSXNSb290Tm9kZSA9ICgvKGh0bWx8Ym9keSkvaSkudGVzdChzY3JvbGxbMF0udGFnTmFtZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cdFx0XHRcdHBvcy50b3BcdCtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHR0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgKiBtb2QgK1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBmb3IgcmVsYXRpdmUgcG9zaXRpb25lZCBub2RlczogUmVsYXRpdmUgb2Zmc2V0IGZyb20gZWxlbWVudCB0byBvZmZzZXQgcGFyZW50XG5cdFx0XHRcdHRoaXMub2Zmc2V0LnBhcmVudC50b3AgKiBtb2QgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpIDogKCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHNjcm9sbC5zY3JvbGxUb3AoKSApICkgKiBtb2QpXG5cdFx0XHQpLFxuXHRcdFx0bGVmdDogKFxuXHRcdFx0XHRwb3MubGVmdCArXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAqIG1vZCArXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBtb2RcdC1cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgPyAtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsTGVmdCgpICkgKiBtb2QpXG5cdFx0XHQpXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9nZW5lcmF0ZVBvc2l0aW9uOiBmdW5jdGlvbihldmVudCkge1xuXG5cdFx0dmFyIHRvcCwgbGVmdCxcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRwYWdlWCA9IGV2ZW50LnBhZ2VYLFxuXHRcdFx0cGFnZVkgPSBldmVudC5wYWdlWSxcblx0XHRcdHNjcm9sbCA9IHRoaXMuY3NzUG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiAmJiAhKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmICQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSkgPyB0aGlzLm9mZnNldFBhcmVudCA6IHRoaXMuc2Nyb2xsUGFyZW50LCBzY3JvbGxJc1Jvb3ROb2RlID0gKC8oaHRtbHxib2R5KS9pKS50ZXN0KHNjcm9sbFswXS50YWdOYW1lKTtcblxuXHRcdC8vIFRoaXMgaXMgYW5vdGhlciB2ZXJ5IHdlaXJkIHNwZWNpYWwgY2FzZSB0aGF0IG9ubHkgaGFwcGVucyBmb3IgcmVsYXRpdmUgZWxlbWVudHM6XG5cdFx0Ly8gMS4gSWYgdGhlIGNzcyBwb3NpdGlvbiBpcyByZWxhdGl2ZVxuXHRcdC8vIDIuIGFuZCB0aGUgc2Nyb2xsIHBhcmVudCBpcyB0aGUgZG9jdW1lbnQgb3Igc2ltaWxhciB0byB0aGUgb2Zmc2V0IHBhcmVudFxuXHRcdC8vIHdlIGhhdmUgdG8gcmVmcmVzaCB0aGUgcmVsYXRpdmUgb2Zmc2V0IGR1cmluZyB0aGUgc2Nyb2xsIHNvIHRoZXJlIGFyZSBubyBqdW1wc1xuXHRcdGlmKHRoaXMuY3NzUG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiAmJiAhKHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmIHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLm9mZnNldFBhcmVudFswXSkpIHtcblx0XHRcdHRoaXMub2Zmc2V0LnJlbGF0aXZlID0gdGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdCAqIC0gUG9zaXRpb24gY29uc3RyYWluaW5nIC1cblx0XHQgKiBDb25zdHJhaW4gdGhlIHBvc2l0aW9uIHRvIGEgbWl4IG9mIGdyaWQsIGNvbnRhaW5tZW50LlxuXHRcdCAqL1xuXG5cdFx0aWYodGhpcy5vcmlnaW5hbFBvc2l0aW9uKSB7IC8vSWYgd2UgYXJlIG5vdCBkcmFnZ2luZyB5ZXQsIHdlIHdvbid0IGNoZWNrIGZvciBvcHRpb25zXG5cblx0XHRcdGlmKHRoaXMuY29udGFpbm1lbnQpIHtcblx0XHRcdFx0aWYoZXZlbnQucGFnZVggLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDwgdGhpcy5jb250YWlubWVudFswXSkge1xuXHRcdFx0XHRcdHBhZ2VYID0gdGhpcy5jb250YWlubWVudFswXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoZXZlbnQucGFnZVkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPCB0aGlzLmNvbnRhaW5tZW50WzFdKSB7XG5cdFx0XHRcdFx0cGFnZVkgPSB0aGlzLmNvbnRhaW5tZW50WzFdICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+IHRoaXMuY29udGFpbm1lbnRbMl0pIHtcblx0XHRcdFx0XHRwYWdlWCA9IHRoaXMuY29udGFpbm1lbnRbMl0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGV2ZW50LnBhZ2VZIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID4gdGhpcy5jb250YWlubWVudFszXSkge1xuXHRcdFx0XHRcdHBhZ2VZID0gdGhpcy5jb250YWlubWVudFszXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZihvLmdyaWQpIHtcblx0XHRcdFx0dG9wID0gdGhpcy5vcmlnaW5hbFBhZ2VZICsgTWF0aC5yb3VuZCgocGFnZVkgLSB0aGlzLm9yaWdpbmFsUGFnZVkpIC8gby5ncmlkWzFdKSAqIG8uZ3JpZFsxXTtcblx0XHRcdFx0cGFnZVkgPSB0aGlzLmNvbnRhaW5tZW50ID8gKCAodG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID49IHRoaXMuY29udGFpbm1lbnRbMV0gJiYgdG9wIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wIDw9IHRoaXMuY29udGFpbm1lbnRbM10pID8gdG9wIDogKCh0b3AgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gdGhpcy5jb250YWlubWVudFsxXSkgPyB0b3AgLSBvLmdyaWRbMV0gOiB0b3AgKyBvLmdyaWRbMV0pKSA6IHRvcDtcblxuXHRcdFx0XHRsZWZ0ID0gdGhpcy5vcmlnaW5hbFBhZ2VYICsgTWF0aC5yb3VuZCgocGFnZVggLSB0aGlzLm9yaWdpbmFsUGFnZVgpIC8gby5ncmlkWzBdKSAqIG8uZ3JpZFswXTtcblx0XHRcdFx0cGFnZVggPSB0aGlzLmNvbnRhaW5tZW50ID8gKCAobGVmdCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPj0gdGhpcy5jb250YWlubWVudFswXSAmJiBsZWZ0IC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8PSB0aGlzLmNvbnRhaW5tZW50WzJdKSA/IGxlZnQgOiAoKGxlZnQgLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IHRoaXMuY29udGFpbm1lbnRbMF0pID8gbGVmdCAtIG8uZ3JpZFswXSA6IGxlZnQgKyBvLmdyaWRbMF0pKSA6IGxlZnQ7XG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiAoXG5cdFx0XHRcdHBhZ2VZIC1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBhYnNvbHV0ZSBtb3VzZSBwb3NpdGlvblxuXHRcdFx0XHR0aGlzLm9mZnNldC5jbGljay50b3AgLVx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2xpY2sgb2Zmc2V0IChyZWxhdGl2ZSB0byB0aGUgZWxlbWVudClcblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUudG9wXHQtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgZm9yIHJlbGF0aXZlIHBvc2l0aW9uZWQgbm9kZXM6IFJlbGF0aXZlIG9mZnNldCBmcm9tIGVsZW1lbnQgdG8gb2Zmc2V0IHBhcmVudFxuXHRcdFx0XHR0aGlzLm9mZnNldC5wYXJlbnQudG9wICtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgb2Zmc2V0UGFyZW50J3Mgb2Zmc2V0IHdpdGhvdXQgYm9yZGVycyAob2Zmc2V0ICsgYm9yZGVyKVxuXHRcdFx0XHQoICggdGhpcy5jc3NQb3NpdGlvbiA9PT0gXCJmaXhlZFwiID8gLXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpIDogKCBzY3JvbGxJc1Jvb3ROb2RlID8gMCA6IHNjcm9sbC5zY3JvbGxUb3AoKSApICkpXG5cdFx0XHQpLFxuXHRcdFx0bGVmdDogKFxuXHRcdFx0XHRwYWdlWCAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBUaGUgYWJzb2x1dGUgbW91c2UgcG9zaXRpb25cblx0XHRcdFx0dGhpcy5vZmZzZXQuY2xpY2subGVmdCAtXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2xpY2sgb2Zmc2V0IChyZWxhdGl2ZSB0byB0aGUgZWxlbWVudClcblx0XHRcdFx0dGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdFx0LVx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGZvciByZWxhdGl2ZSBwb3NpdGlvbmVkIG5vZGVzOiBSZWxhdGl2ZSBvZmZzZXQgZnJvbSBlbGVtZW50IHRvIG9mZnNldCBwYXJlbnRcblx0XHRcdFx0dGhpcy5vZmZzZXQucGFyZW50LmxlZnQgK1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFRoZSBvZmZzZXRQYXJlbnQncyBvZmZzZXQgd2l0aG91dCBib3JkZXJzIChvZmZzZXQgKyBib3JkZXIpXG5cdFx0XHRcdCggKCB0aGlzLmNzc1Bvc2l0aW9uID09PSBcImZpeGVkXCIgPyAtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogc2Nyb2xsSXNSb290Tm9kZSA/IDAgOiBzY3JvbGwuc2Nyb2xsTGVmdCgpICkpXG5cdFx0XHQpXG5cdFx0fTtcblxuXHR9LFxuXG5cdF9yZWFycmFuZ2U6IGZ1bmN0aW9uKGV2ZW50LCBpLCBhLCBoYXJkUmVmcmVzaCkge1xuXG5cdFx0YSA/IGFbMF0uYXBwZW5kQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSkgOiBpLml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwgKHRoaXMuZGlyZWN0aW9uID09PSBcImRvd25cIiA/IGkuaXRlbVswXSA6IGkuaXRlbVswXS5uZXh0U2libGluZykpO1xuXG5cdFx0Ly9WYXJpb3VzIHRoaW5ncyBkb25lIGhlcmUgdG8gaW1wcm92ZSB0aGUgcGVyZm9ybWFuY2U6XG5cdFx0Ly8gMS4gd2UgY3JlYXRlIGEgc2V0VGltZW91dCwgdGhhdCBjYWxscyByZWZyZXNoUG9zaXRpb25zXG5cdFx0Ly8gMi4gb24gdGhlIGluc3RhbmNlLCB3ZSBoYXZlIGEgY291bnRlciB2YXJpYWJsZSwgdGhhdCBnZXQncyBoaWdoZXIgYWZ0ZXIgZXZlcnkgYXBwZW5kXG5cdFx0Ly8gMy4gb24gdGhlIGxvY2FsIHNjb3BlLCB3ZSBjb3B5IHRoZSBjb3VudGVyIHZhcmlhYmxlLCBhbmQgY2hlY2sgaW4gdGhlIHRpbWVvdXQsIGlmIGl0J3Mgc3RpbGwgdGhlIHNhbWVcblx0XHQvLyA0LiB0aGlzIGxldHMgb25seSB0aGUgbGFzdCBhZGRpdGlvbiB0byB0aGUgdGltZW91dCBzdGFjayB0aHJvdWdoXG5cdFx0dGhpcy5jb3VudGVyID0gdGhpcy5jb3VudGVyID8gKyt0aGlzLmNvdW50ZXIgOiAxO1xuXHRcdHZhciBjb3VudGVyID0gdGhpcy5jb3VudGVyO1xuXG5cdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRpZihjb3VudGVyID09PSB0aGlzLmNvdW50ZXIpIHtcblx0XHRcdFx0dGhpcy5yZWZyZXNoUG9zaXRpb25zKCFoYXJkUmVmcmVzaCk7IC8vUHJlY29tcHV0ZSBhZnRlciBlYWNoIERPTSBpbnNlcnRpb24sIE5PVCBvbiBtb3VzZW1vdmVcblx0XHRcdH1cblx0XHR9KTtcblxuXHR9LFxuXG5cdF9jbGVhcjogZnVuY3Rpb24oZXZlbnQsIG5vUHJvcGFnYXRpb24pIHtcblxuXHRcdHRoaXMucmV2ZXJ0aW5nID0gZmFsc2U7XG5cdFx0Ly8gV2UgZGVsYXkgYWxsIGV2ZW50cyB0aGF0IGhhdmUgdG8gYmUgdHJpZ2dlcmVkIHRvIGFmdGVyIHRoZSBwb2ludCB3aGVyZSB0aGUgcGxhY2Vob2xkZXIgaGFzIGJlZW4gcmVtb3ZlZCBhbmRcblx0XHQvLyBldmVyeXRoaW5nIGVsc2Ugbm9ybWFsaXplZCBhZ2FpblxuXHRcdHZhciBpLFxuXHRcdFx0ZGVsYXllZFRyaWdnZXJzID0gW107XG5cblx0XHQvLyBXZSBmaXJzdCBoYXZlIHRvIHVwZGF0ZSB0aGUgZG9tIHBvc2l0aW9uIG9mIHRoZSBhY3R1YWwgY3VycmVudEl0ZW1cblx0XHQvLyBOb3RlOiBkb24ndCBkbyBpdCBpZiB0aGUgY3VycmVudCBpdGVtIGlzIGFscmVhZHkgcmVtb3ZlZCAoYnkgYSB1c2VyKSwgb3IgaXQgZ2V0cyByZWFwcGVuZGVkIChzZWUgIzQwODgpXG5cdFx0aWYoIXRoaXMuX25vRmluYWxTb3J0ICYmIHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKTtcblx0XHR9XG5cdFx0dGhpcy5fbm9GaW5hbFNvcnQgPSBudWxsO1xuXG5cdFx0aWYodGhpcy5oZWxwZXJbMF0gPT09IHRoaXMuY3VycmVudEl0ZW1bMF0pIHtcblx0XHRcdGZvcihpIGluIHRoaXMuX3N0b3JlZENTUykge1xuXHRcdFx0XHRpZih0aGlzLl9zdG9yZWRDU1NbaV0gPT09IFwiYXV0b1wiIHx8IHRoaXMuX3N0b3JlZENTU1tpXSA9PT0gXCJzdGF0aWNcIikge1xuXHRcdFx0XHRcdHRoaXMuX3N0b3JlZENTU1tpXSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUykucmVtb3ZlQ2xhc3MoXCJ1aS1zb3J0YWJsZS1oZWxwZXJcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO1xuXHRcdH1cblxuXHRcdGlmKHRoaXMuZnJvbU91dHNpZGUgJiYgIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKGZ1bmN0aW9uKGV2ZW50KSB7IHRoaXMuX3RyaWdnZXIoXCJyZWNlaXZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2godGhpcy5mcm9tT3V0c2lkZSkpOyB9KTtcblx0XHR9XG5cdFx0aWYoKHRoaXMuZnJvbU91dHNpZGUgfHwgdGhpcy5kb21Qb3NpdGlvbi5wcmV2ICE9PSB0aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoXCIudWktc29ydGFibGUtaGVscGVyXCIpWzBdIHx8IHRoaXMuZG9tUG9zaXRpb24ucGFyZW50ICE9PSB0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdKSAmJiAhbm9Qcm9wYWdhdGlvbikge1xuXHRcdFx0ZGVsYXllZFRyaWdnZXJzLnB1c2goZnVuY3Rpb24oZXZlbnQpIHsgdGhpcy5fdHJpZ2dlcihcInVwZGF0ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKCkpOyB9KTsgLy9UcmlnZ2VyIHVwZGF0ZSBjYWxsYmFjayBpZiB0aGUgRE9NIHBvc2l0aW9uIGhhcyBjaGFuZ2VkXG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIGl0ZW1zIENvbnRhaW5lciBoYXMgQ2hhbmdlZCBhbmQgdHJpZ2dlciBhcHByb3ByaWF0ZVxuXHRcdC8vIGV2ZW50cy5cblx0XHRpZiAodGhpcyAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyKSB7XG5cdFx0XHRpZighbm9Qcm9wYWdhdGlvbikge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaChmdW5jdGlvbihldmVudCkgeyB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7IH0pO1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCgoZnVuY3Rpb24oYykgeyByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHsgYy5fdHJpZ2dlcihcInJlY2VpdmVcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCh0aGlzKSk7IH07ICB9KS5jYWxsKHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lcikpO1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCgoZnVuY3Rpb24oYykgeyByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHsgYy5fdHJpZ2dlcihcInVwZGF0ZVwiLCBldmVudCwgdGhpcy5fdWlIYXNoKHRoaXMpKTsgIH07IH0pLmNhbGwodGhpcywgdGhpcy5jdXJyZW50Q29udGFpbmVyKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHQvL1Bvc3QgZXZlbnRzIHRvIGNvbnRhaW5lcnNcblx0XHRmdW5jdGlvbiBkZWxheUV2ZW50KCB0eXBlLCBpbnN0YW5jZSwgY29udGFpbmVyICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0Y29udGFpbmVyLl90cmlnZ2VyKCB0eXBlLCBldmVudCwgaW5zdGFuY2UuX3VpSGFzaCggaW5zdGFuY2UgKSApO1xuXHRcdFx0fTtcblx0XHR9XG5cdFx0Zm9yIChpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdGlmICghbm9Qcm9wYWdhdGlvbikge1xuXHRcdFx0XHRkZWxheWVkVHJpZ2dlcnMucHVzaCggZGVsYXlFdmVudCggXCJkZWFjdGl2YXRlXCIsIHRoaXMsIHRoaXMuY29udGFpbmVyc1sgaSBdICkgKTtcblx0XHRcdH1cblx0XHRcdGlmKHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyKSB7XG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vycy5wdXNoKCBkZWxheUV2ZW50KCBcIm91dFwiLCB0aGlzLCB0aGlzLmNvbnRhaW5lcnNbIGkgXSApICk7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyID0gMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL0RvIHdoYXQgd2FzIG9yaWdpbmFsbHkgaW4gcGx1Z2luc1xuXHRcdGlmICggdGhpcy5zdG9yZWRDdXJzb3IgKSB7XG5cdFx0XHR0aGlzLmRvY3VtZW50LmZpbmQoIFwiYm9keVwiICkuY3NzKCBcImN1cnNvclwiLCB0aGlzLnN0b3JlZEN1cnNvciApO1xuXHRcdFx0dGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpO1xuXHRcdH1cblx0XHRpZih0aGlzLl9zdG9yZWRPcGFjaXR5KSB7XG5cdFx0XHR0aGlzLmhlbHBlci5jc3MoXCJvcGFjaXR5XCIsIHRoaXMuX3N0b3JlZE9wYWNpdHkpO1xuXHRcdH1cblx0XHRpZih0aGlzLl9zdG9yZWRaSW5kZXgpIHtcblx0XHRcdHRoaXMuaGVscGVyLmNzcyhcInpJbmRleFwiLCB0aGlzLl9zdG9yZWRaSW5kZXggPT09IFwiYXV0b1wiID8gXCJcIiA6IHRoaXMuX3N0b3JlZFpJbmRleCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuXG5cdFx0aWYoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoXCJiZWZvcmVTdG9wXCIsIGV2ZW50LCB0aGlzLl91aUhhc2goKSk7XG5cdFx0fVxuXG5cdFx0Ly8kKHRoaXMucGxhY2Vob2xkZXJbMF0pLnJlbW92ZSgpOyB3b3VsZCBoYXZlIGJlZW4gdGhlIGpRdWVyeSB3YXkgLSB1bmZvcnR1bmF0ZWx5LCBpdCB1bmJpbmRzIEFMTCBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSFcblx0XHR0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSk7XG5cblx0XHRpZiAoICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgKSB7XG5cdFx0XHRpZiAoIHRoaXMuaGVscGVyWyAwIF0gIT09IHRoaXMuY3VycmVudEl0ZW1bIDAgXSApIHtcblx0XHRcdFx0dGhpcy5oZWxwZXIucmVtb3ZlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmhlbHBlciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYoIW5vUHJvcGFnYXRpb24pIHtcblx0XHRcdGZvciAoaT0wOyBpIDwgZGVsYXllZFRyaWdnZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGRlbGF5ZWRUcmlnZ2Vyc1tpXS5jYWxsKHRoaXMsIGV2ZW50KTtcblx0XHRcdH0gLy9UcmlnZ2VyIGFsbCBkZWxheWVkIGV2ZW50c1xuXHRcdFx0dGhpcy5fdHJpZ2dlcihcInN0b3BcIiwgZXZlbnQsIHRoaXMuX3VpSGFzaCgpKTtcblx0XHR9XG5cblx0XHR0aGlzLmZyb21PdXRzaWRlID0gZmFsc2U7XG5cdFx0cmV0dXJuICF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWw7XG5cblx0fSxcblxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCQuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpID09PSBmYWxzZSkge1xuXHRcdFx0dGhpcy5jYW5jZWwoKTtcblx0XHR9XG5cdH0sXG5cblx0X3VpSGFzaDogZnVuY3Rpb24oX2luc3QpIHtcblx0XHR2YXIgaW5zdCA9IF9pbnN0IHx8IHRoaXM7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlbHBlcjogaW5zdC5oZWxwZXIsXG5cdFx0XHRwbGFjZWhvbGRlcjogaW5zdC5wbGFjZWhvbGRlciB8fCAkKFtdKSxcblx0XHRcdHBvc2l0aW9uOiBpbnN0LnBvc2l0aW9uLFxuXHRcdFx0b3JpZ2luYWxQb3NpdGlvbjogaW5zdC5vcmlnaW5hbFBvc2l0aW9uLFxuXHRcdFx0b2Zmc2V0OiBpbnN0LnBvc2l0aW9uQWJzLFxuXHRcdFx0aXRlbTogaW5zdC5jdXJyZW50SXRlbSxcblx0XHRcdHNlbmRlcjogX2luc3QgPyBfaW5zdC5lbGVtZW50IDogbnVsbFxuXHRcdH07XG5cdH1cblxufSk7XG5cblxuLyohXG4gKiBqUXVlcnkgVUkgU3Bpbm5lciAxLjExLjRcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NwaW5uZXIvXG4gKi9cblxuXG5mdW5jdGlvbiBzcGlubmVyX21vZGlmaWVyKCBmbiApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmV2aW91cyA9IHRoaXMuZWxlbWVudC52YWwoKTtcblx0XHRmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHRcdGlmICggcHJldmlvdXMgIT09IHRoaXMuZWxlbWVudC52YWwoKSApIHtcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIgKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciBzcGlubmVyID0gJC53aWRnZXQoIFwidWkuc3Bpbm5lclwiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdGRlZmF1bHRFbGVtZW50OiBcIjxpbnB1dD5cIixcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwic3BpblwiLFxuXHRvcHRpb25zOiB7XG5cdFx0Y3VsdHVyZTogbnVsbCxcblx0XHRpY29uczoge1xuXHRcdFx0ZG93bjogXCJ1aS1pY29uLXRyaWFuZ2xlLTEtc1wiLFxuXHRcdFx0dXA6IFwidWktaWNvbi10cmlhbmdsZS0xLW5cIlxuXHRcdH0sXG5cdFx0aW5jcmVtZW50YWw6IHRydWUsXG5cdFx0bWF4OiBudWxsLFxuXHRcdG1pbjogbnVsbCxcblx0XHRudW1iZXJGb3JtYXQ6IG51bGwsXG5cdFx0cGFnZTogMTAsXG5cdFx0c3RlcDogMSxcblxuXHRcdGNoYW5nZTogbnVsbCxcblx0XHRzcGluOiBudWxsLFxuXHRcdHN0YXJ0OiBudWxsLFxuXHRcdHN0b3A6IG51bGxcblx0fSxcblxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcblx0XHQvLyBoYW5kbGUgc3RyaW5nIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgcGFyc2VkXG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcIm1heFwiLCB0aGlzLm9wdGlvbnMubWF4ICk7XG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcIm1pblwiLCB0aGlzLm9wdGlvbnMubWluICk7XG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcInN0ZXBcIiwgdGhpcy5vcHRpb25zLnN0ZXAgKTtcblxuXHRcdC8vIE9ubHkgZm9ybWF0IGlmIHRoZXJlIGlzIGEgdmFsdWUsIHByZXZlbnRzIHRoZSBmaWVsZCBmcm9tIGJlaW5nIG1hcmtlZFxuXHRcdC8vIGFzIGludmFsaWQgaW4gRmlyZWZveCwgc2VlICM5NTczLlxuXHRcdGlmICggdGhpcy52YWx1ZSgpICE9PSBcIlwiICkge1xuXHRcdFx0Ly8gRm9ybWF0IHRoZSB2YWx1ZSwgYnV0IGRvbid0IGNvbnN0cmFpbi5cblx0XHRcdHRoaXMuX3ZhbHVlKCB0aGlzLmVsZW1lbnQudmFsKCksIHRydWUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9kcmF3KCk7XG5cdFx0dGhpcy5fb24oIHRoaXMuX2V2ZW50cyApO1xuXHRcdHRoaXMuX3JlZnJlc2goKTtcblxuXHRcdC8vIHR1cm5pbmcgb2ZmIGF1dG9jb21wbGV0ZSBwcmV2ZW50cyB0aGUgYnJvd3NlciBmcm9tIHJlbWVtYmVyaW5nIHRoZVxuXHRcdC8vIHZhbHVlIHdoZW4gbmF2aWdhdGluZyB0aHJvdWdoIGhpc3RvcnksIHNvIHdlIHJlLWVuYWJsZSBhdXRvY29tcGxldGVcblx0XHQvLyBpZiB0aGUgcGFnZSBpcyB1bmxvYWRlZCBiZWZvcmUgdGhlIHdpZGdldCBpcyBkZXN0cm95ZWQuICM3NzkwXG5cdFx0dGhpcy5fb24oIHRoaXMud2luZG93LCB7XG5cdFx0XHRiZWZvcmV1bmxvYWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQXR0ciggXCJhdXRvY29tcGxldGVcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdF9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgb3B0aW9ucyA9IHt9LFxuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcblxuXHRcdCQuZWFjaCggWyBcIm1pblwiLCBcIm1heFwiLCBcInN0ZXBcIiBdLCBmdW5jdGlvbiggaSwgb3B0aW9uICkge1xuXHRcdFx0dmFyIHZhbHVlID0gZWxlbWVudC5hdHRyKCBvcHRpb24gKTtcblx0XHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS5sZW5ndGggKSB7XG5cdFx0XHRcdG9wdGlvbnNbIG9wdGlvbiBdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gb3B0aW9ucztcblx0fSxcblxuXHRfZXZlbnRzOiB7XG5cdFx0a2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0aWYgKCB0aGlzLl9zdGFydCggZXZlbnQgKSAmJiB0aGlzLl9rZXlkb3duKCBldmVudCApICkge1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0a2V5dXA6IFwiX3N0b3BcIixcblx0XHRmb2N1czogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnByZXZpb3VzID0gdGhpcy5lbGVtZW50LnZhbCgpO1xuXHRcdH0sXG5cdFx0Ymx1cjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0aWYgKCB0aGlzLmNhbmNlbEJsdXIgKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fc3RvcCgpO1xuXHRcdFx0dGhpcy5fcmVmcmVzaCgpO1xuXHRcdFx0aWYgKCB0aGlzLnByZXZpb3VzICE9PSB0aGlzLmVsZW1lbnQudmFsKCkgKSB7XG5cdFx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiY2hhbmdlXCIsIGV2ZW50ICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRtb3VzZXdoZWVsOiBmdW5jdGlvbiggZXZlbnQsIGRlbHRhICkge1xuXHRcdFx0aWYgKCAhZGVsdGEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICggIXRoaXMuc3Bpbm5pbmcgJiYgIXRoaXMuX3N0YXJ0KCBldmVudCApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3NwaW4oIChkZWx0YSA+IDAgPyAxIDogLTEpICogdGhpcy5vcHRpb25zLnN0ZXAsIGV2ZW50ICk7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMubW91c2V3aGVlbFRpbWVyICk7XG5cdFx0XHR0aGlzLm1vdXNld2hlZWxUaW1lciA9IHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMuc3Bpbm5pbmcgKSB7XG5cdFx0XHRcdFx0dGhpcy5fc3RvcCggZXZlbnQgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgMTAwICk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH0sXG5cdFx0XCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uXCI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciBwcmV2aW91cztcblxuXHRcdFx0Ly8gV2UgbmV2ZXIgd2FudCB0aGUgYnV0dG9ucyB0byBoYXZlIGZvY3VzOyB3aGVuZXZlciB0aGUgdXNlciBpc1xuXHRcdFx0Ly8gaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc3Bpbm5lciwgdGhlIGZvY3VzIHNob3VsZCBiZSBvbiB0aGUgaW5wdXQuXG5cdFx0XHQvLyBJZiB0aGUgaW5wdXQgaXMgZm9jdXNlZCB0aGVuIHRoaXMucHJldmlvdXMgaXMgcHJvcGVybHkgc2V0IGZyb21cblx0XHRcdC8vIHdoZW4gdGhlIGlucHV0IGZpcnN0IHJlY2VpdmVkIGZvY3VzLiBJZiB0aGUgaW5wdXQgaXMgbm90IGZvY3VzZWRcblx0XHRcdC8vIHRoZW4gd2UgbmVlZCB0byBzZXQgdGhpcy5wcmV2aW91cyBiYXNlZCBvbiB0aGUgdmFsdWUgYmVmb3JlIHNwaW5uaW5nLlxuXHRcdFx0cHJldmlvdXMgPSB0aGlzLmVsZW1lbnRbMF0gPT09IHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCA/XG5cdFx0XHRcdHRoaXMucHJldmlvdXMgOiB0aGlzLmVsZW1lbnQudmFsKCk7XG5cdFx0XHRmdW5jdGlvbiBjaGVja0ZvY3VzKCkge1xuXHRcdFx0XHR2YXIgaXNBY3RpdmUgPSB0aGlzLmVsZW1lbnRbMF0gPT09IHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudDtcblx0XHRcdFx0aWYgKCAhaXNBY3RpdmUgKSB7XG5cdFx0XHRcdFx0dGhpcy5lbGVtZW50LmZvY3VzKCk7XG5cdFx0XHRcdFx0dGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuXHRcdFx0XHRcdC8vIHN1cHBvcnQ6IElFXG5cdFx0XHRcdFx0Ly8gSUUgc2V0cyBmb2N1cyBhc3luY2hyb25vdXNseSwgc28gd2UgbmVlZCB0byBjaGVjayBpZiBmb2N1c1xuXHRcdFx0XHRcdC8vIG1vdmVkIG9mZiBvZiB0aGUgaW5wdXQgYmVjYXVzZSB0aGUgdXNlciBjbGlja2VkIG9uIHRoZSBidXR0b24uXG5cdFx0XHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gZW5zdXJlIGZvY3VzIGlzIG9uIChvciBzdGF5cyBvbikgdGhlIHRleHQgZmllbGRcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRjaGVja0ZvY3VzLmNhbGwoIHRoaXMgKTtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUVcblx0XHRcdC8vIElFIGRvZXNuJ3QgcHJldmVudCBtb3ZpbmcgZm9jdXMgZXZlbiB3aXRoIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdC8vIHNvIHdlIHNldCBhIGZsYWcgdG8ga25vdyB3aGVuIHdlIHNob3VsZCBpZ25vcmUgdGhlIGJsdXIgZXZlbnRcblx0XHRcdC8vIGFuZCBjaGVjayAoYWdhaW4pIGlmIGZvY3VzIG1vdmVkIG9mZiBvZiB0aGUgaW5wdXQuXG5cdFx0XHR0aGlzLmNhbmNlbEJsdXIgPSB0cnVlO1xuXHRcdFx0dGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7XG5cdFx0XHRcdGNoZWNrRm9jdXMuY2FsbCggdGhpcyApO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmICggdGhpcy5fc3RhcnQoIGV2ZW50ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgJCggZXZlbnQuY3VycmVudFRhcmdldCApLmhhc0NsYXNzKCBcInVpLXNwaW5uZXItdXBcIiApID8gMSA6IC0xLCBldmVudCApO1xuXHRcdH0sXG5cdFx0XCJtb3VzZXVwIC51aS1zcGlubmVyLWJ1dHRvblwiOiBcIl9zdG9wXCIsXG5cdFx0XCJtb3VzZWVudGVyIC51aS1zcGlubmVyLWJ1dHRvblwiOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHQvLyBidXR0b24gd2lsbCBhZGQgdWktc3RhdGUtYWN0aXZlIGlmIG1vdXNlIHdhcyBkb3duIHdoaWxlIG1vdXNlbGVhdmUgYW5kIGtlcHQgZG93blxuXHRcdFx0aWYgKCAhJCggZXZlbnQuY3VycmVudFRhcmdldCApLmhhc0NsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLl9zdGFydCggZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgJCggZXZlbnQuY3VycmVudFRhcmdldCApLmhhc0NsYXNzKCBcInVpLXNwaW5uZXItdXBcIiApID8gMSA6IC0xLCBldmVudCApO1xuXHRcdH0sXG5cdFx0Ly8gVE9ETzogZG8gd2UgcmVhbGx5IHdhbnQgdG8gY29uc2lkZXIgdGhpcyBhIHN0b3A/XG5cdFx0Ly8gc2hvdWxkbid0IHdlIGp1c3Qgc3RvcCB0aGUgcmVwZWF0ZXIgYW5kIHdhaXQgdW50aWwgbW91c2V1cCBiZWZvcmVcblx0XHQvLyB3ZSB0cmlnZ2VyIHRoZSBzdG9wIGV2ZW50P1xuXHRcdFwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b25cIjogXCJfc3RvcFwiXG5cdH0sXG5cblx0X2RyYXc6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB1aVNwaW5uZXIgPSB0aGlzLnVpU3Bpbm5lciA9IHRoaXMuZWxlbWVudFxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXNwaW5uZXItaW5wdXRcIiApXG5cdFx0XHQuYXR0ciggXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIiApXG5cdFx0XHQud3JhcCggdGhpcy5fdWlTcGlubmVySHRtbCgpIClcblx0XHRcdC5wYXJlbnQoKVxuXHRcdFx0XHQvLyBhZGQgYnV0dG9uc1xuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLl9idXR0b25IdG1sKCkgKTtcblxuXHRcdHRoaXMuZWxlbWVudC5hdHRyKCBcInJvbGVcIiwgXCJzcGluYnV0dG9uXCIgKTtcblxuXHRcdC8vIGJ1dHRvbiBiaW5kaW5nc1xuXHRcdHRoaXMuYnV0dG9ucyA9IHVpU3Bpbm5lci5maW5kKCBcIi51aS1zcGlubmVyLWJ1dHRvblwiIClcblx0XHRcdC5hdHRyKCBcInRhYkluZGV4XCIsIC0xIClcblx0XHRcdC5idXR0b24oKVxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWNvcm5lci1hbGxcIiApO1xuXG5cdFx0Ly8gSUUgNiBkb2Vzbid0IHVuZGVyc3RhbmQgaGVpZ2h0OiA1MCUgZm9yIHRoZSBidXR0b25zXG5cdFx0Ly8gdW5sZXNzIHRoZSB3cmFwcGVyIGhhcyBhbiBleHBsaWNpdCBoZWlnaHRcblx0XHRpZiAoIHRoaXMuYnV0dG9ucy5oZWlnaHQoKSA+IE1hdGguY2VpbCggdWlTcGlubmVyLmhlaWdodCgpICogMC41ICkgJiZcblx0XHRcdFx0dWlTcGlubmVyLmhlaWdodCgpID4gMCApIHtcblx0XHRcdHVpU3Bpbm5lci5oZWlnaHQoIHVpU3Bpbm5lci5oZWlnaHQoKSApO1xuXHRcdH1cblxuXHRcdC8vIGRpc2FibGUgc3Bpbm5lciBpZiBlbGVtZW50IHdhcyBhbHJlYWR5IGRpc2FibGVkXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLmRpc2FibGUoKTtcblx0XHR9XG5cdH0sXG5cblx0X2tleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGtleUNvZGUgPSAkLnVpLmtleUNvZGU7XG5cblx0XHRzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuXHRcdGNhc2Uga2V5Q29kZS5VUDpcblx0XHRcdHRoaXMuX3JlcGVhdCggbnVsbCwgMSwgZXZlbnQgKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGNhc2Uga2V5Q29kZS5ET1dOOlxuXHRcdFx0dGhpcy5fcmVwZWF0KCBudWxsLCAtMSwgZXZlbnQgKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGNhc2Uga2V5Q29kZS5QQUdFX1VQOlxuXHRcdFx0dGhpcy5fcmVwZWF0KCBudWxsLCBvcHRpb25zLnBhZ2UsIGV2ZW50ICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIGtleUNvZGUuUEFHRV9ET1dOOlxuXHRcdFx0dGhpcy5fcmVwZWF0KCBudWxsLCAtb3B0aW9ucy5wYWdlLCBldmVudCApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF91aVNwaW5uZXJIdG1sOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCI8c3BhbiBjbGFzcz0ndWktc3Bpbm5lciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCc+PC9zcGFuPlwiO1xuXHR9LFxuXG5cdF9idXR0b25IdG1sOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJcIiArXG5cdFx0XHRcIjxhIGNsYXNzPSd1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLXVwIHVpLWNvcm5lci10cic+XCIgK1xuXHRcdFx0XHRcIjxzcGFuIGNsYXNzPSd1aS1pY29uIFwiICsgdGhpcy5vcHRpb25zLmljb25zLnVwICsgXCInPiYjOTY1MDs8L3NwYW4+XCIgK1xuXHRcdFx0XCI8L2E+XCIgK1xuXHRcdFx0XCI8YSBjbGFzcz0ndWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci1kb3duIHVpLWNvcm5lci1icic+XCIgK1xuXHRcdFx0XHRcIjxzcGFuIGNsYXNzPSd1aS1pY29uIFwiICsgdGhpcy5vcHRpb25zLmljb25zLmRvd24gKyBcIic+JiM5NjYwOzwvc3Bhbj5cIiArXG5cdFx0XHRcIjwvYT5cIjtcblx0fSxcblxuXHRfc3RhcnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLnNwaW5uaW5nICYmIHRoaXMuX3RyaWdnZXIoIFwic3RhcnRcIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCAhdGhpcy5jb3VudGVyICkge1xuXHRcdFx0dGhpcy5jb3VudGVyID0gMTtcblx0XHR9XG5cdFx0dGhpcy5zcGlubmluZyA9IHRydWU7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0X3JlcGVhdDogZnVuY3Rpb24oIGksIHN0ZXBzLCBldmVudCApIHtcblx0XHRpID0gaSB8fCA1MDA7XG5cblx0XHRjbGVhclRpbWVvdXQoIHRoaXMudGltZXIgKTtcblx0XHR0aGlzLnRpbWVyID0gdGhpcy5fZGVsYXkoZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9yZXBlYXQoIDQwLCBzdGVwcywgZXZlbnQgKTtcblx0XHR9LCBpICk7XG5cblx0XHR0aGlzLl9zcGluKCBzdGVwcyAqIHRoaXMub3B0aW9ucy5zdGVwLCBldmVudCApO1xuXHR9LFxuXG5cdF9zcGluOiBmdW5jdGlvbiggc3RlcCwgZXZlbnQgKSB7XG5cdFx0dmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpIHx8IDA7XG5cblx0XHRpZiAoICF0aGlzLmNvdW50ZXIgKSB7XG5cdFx0XHR0aGlzLmNvdW50ZXIgPSAxO1xuXHRcdH1cblxuXHRcdHZhbHVlID0gdGhpcy5fYWRqdXN0VmFsdWUoIHZhbHVlICsgc3RlcCAqIHRoaXMuX2luY3JlbWVudCggdGhpcy5jb3VudGVyICkgKTtcblxuXHRcdGlmICggIXRoaXMuc3Bpbm5pbmcgfHwgdGhpcy5fdHJpZ2dlciggXCJzcGluXCIsIGV2ZW50LCB7IHZhbHVlOiB2YWx1ZSB9ICkgIT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLl92YWx1ZSggdmFsdWUgKTtcblx0XHRcdHRoaXMuY291bnRlcisrO1xuXHRcdH1cblx0fSxcblxuXHRfaW5jcmVtZW50OiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgaW5jcmVtZW50YWwgPSB0aGlzLm9wdGlvbnMuaW5jcmVtZW50YWw7XG5cblx0XHRpZiAoIGluY3JlbWVudGFsICkge1xuXHRcdFx0cmV0dXJuICQuaXNGdW5jdGlvbiggaW5jcmVtZW50YWwgKSA/XG5cdFx0XHRcdGluY3JlbWVudGFsKCBpICkgOlxuXHRcdFx0XHRNYXRoLmZsb29yKCBpICogaSAqIGkgLyA1MDAwMCAtIGkgKiBpIC8gNTAwICsgMTcgKiBpIC8gMjAwICsgMSApO1xuXHRcdH1cblxuXHRcdHJldHVybiAxO1xuXHR9LFxuXG5cdF9wcmVjaXNpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBwcmVjaXNpb24gPSB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLnN0ZXAgKTtcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5taW4gIT09IG51bGwgKSB7XG5cdFx0XHRwcmVjaXNpb24gPSBNYXRoLm1heCggcHJlY2lzaW9uLCB0aGlzLl9wcmVjaXNpb25PZiggdGhpcy5vcHRpb25zLm1pbiApICk7XG5cdFx0fVxuXHRcdHJldHVybiBwcmVjaXNpb247XG5cdH0sXG5cblx0X3ByZWNpc2lvbk9mOiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHZhciBzdHIgPSBudW0udG9TdHJpbmcoKSxcblx0XHRcdGRlY2ltYWwgPSBzdHIuaW5kZXhPZiggXCIuXCIgKTtcblx0XHRyZXR1cm4gZGVjaW1hbCA9PT0gLTEgPyAwIDogc3RyLmxlbmd0aCAtIGRlY2ltYWwgLSAxO1xuXHR9LFxuXG5cdF9hZGp1c3RWYWx1ZTogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBiYXNlLCBhYm92ZU1pbixcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHQvLyBtYWtlIHN1cmUgd2UncmUgYXQgYSB2YWxpZCBzdGVwXG5cdFx0Ly8gLSBmaW5kIG91dCB3aGVyZSB3ZSBhcmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgKG1pbiBvciAwKVxuXHRcdGJhc2UgPSBvcHRpb25zLm1pbiAhPT0gbnVsbCA/IG9wdGlvbnMubWluIDogMDtcblx0XHRhYm92ZU1pbiA9IHZhbHVlIC0gYmFzZTtcblx0XHQvLyAtIHJvdW5kIHRvIHRoZSBuZWFyZXN0IHN0ZXBcblx0XHRhYm92ZU1pbiA9IE1hdGgucm91bmQoYWJvdmVNaW4gLyBvcHRpb25zLnN0ZXApICogb3B0aW9ucy5zdGVwO1xuXHRcdC8vIC0gcm91bmRpbmcgaXMgYmFzZWQgb24gMCwgc28gYWRqdXN0IGJhY2sgdG8gb3VyIGJhc2Vcblx0XHR2YWx1ZSA9IGJhc2UgKyBhYm92ZU1pbjtcblxuXHRcdC8vIGZpeCBwcmVjaXNpb24gZnJvbSBiYWQgSlMgZmxvYXRpbmcgcG9pbnQgbWF0aFxuXHRcdHZhbHVlID0gcGFyc2VGbG9hdCggdmFsdWUudG9GaXhlZCggdGhpcy5fcHJlY2lzaW9uKCkgKSApO1xuXG5cdFx0Ly8gY2xhbXAgdGhlIHZhbHVlXG5cdFx0aWYgKCBvcHRpb25zLm1heCAhPT0gbnVsbCAmJiB2YWx1ZSA+IG9wdGlvbnMubWF4KSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucy5tYXg7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5taW4gIT09IG51bGwgJiYgdmFsdWUgPCBvcHRpb25zLm1pbiApIHtcblx0XHRcdHJldHVybiBvcHRpb25zLm1pbjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cblx0X3N0b3A6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoICF0aGlzLnNwaW5uaW5nICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNsZWFyVGltZW91dCggdGhpcy50aW1lciApO1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy5tb3VzZXdoZWVsVGltZXIgKTtcblx0XHR0aGlzLmNvdW50ZXIgPSAwO1xuXHRcdHRoaXMuc3Bpbm5pbmcgPSBmYWxzZTtcblx0XHR0aGlzLl90cmlnZ2VyKCBcInN0b3BcIiwgZXZlbnQgKTtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJjdWx0dXJlXCIgfHwga2V5ID09PSBcIm51bWJlckZvcm1hdFwiICkge1xuXHRcdFx0dmFyIHByZXZWYWx1ZSA9IHRoaXMuX3BhcnNlKCB0aGlzLmVsZW1lbnQudmFsKCkgKTtcblx0XHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcblx0XHRcdHRoaXMuZWxlbWVudC52YWwoIHRoaXMuX2Zvcm1hdCggcHJldlZhbHVlICkgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJtYXhcIiB8fCBrZXkgPT09IFwibWluXCIgfHwga2V5ID09PSBcInN0ZXBcIiApIHtcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHR2YWx1ZSA9IHRoaXMuX3BhcnNlKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIGtleSA9PT0gXCJpY29uc1wiICkge1xuXHRcdFx0dGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCggXCIudWktaWNvblwiIClcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLm9wdGlvbnMuaWNvbnMudXAgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIHZhbHVlLnVwICk7XG5cdFx0XHR0aGlzLmJ1dHRvbnMubGFzdCgpLmZpbmQoIFwiLnVpLWljb25cIiApXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmljb25zLmRvd24gKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIHZhbHVlLmRvd24gKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xuXHRcdFx0dGhpcy5idXR0b25zLmJ1dHRvbiggdmFsdWUgPyBcImRpc2FibGVcIiA6IFwiZW5hYmxlXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0X3NldE9wdGlvbnM6IHNwaW5uZXJfbW9kaWZpZXIoZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcblx0fSksXG5cblx0X3BhcnNlOiBmdW5jdGlvbiggdmFsICkge1xuXHRcdGlmICggdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiAmJiB2YWwgIT09IFwiXCIgKSB7XG5cdFx0XHR2YWwgPSB3aW5kb3cuR2xvYmFsaXplICYmIHRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQgP1xuXHRcdFx0XHRHbG9iYWxpemUucGFyc2VGbG9hdCggdmFsLCAxMCwgdGhpcy5vcHRpb25zLmN1bHR1cmUgKSA6ICt2YWw7XG5cdFx0fVxuXHRcdHJldHVybiB2YWwgPT09IFwiXCIgfHwgaXNOYU4oIHZhbCApID8gbnVsbCA6IHZhbDtcblx0fSxcblxuXHRfZm9ybWF0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH1cblx0XHRyZXR1cm4gd2luZG93Lkdsb2JhbGl6ZSAmJiB0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0ID9cblx0XHRcdEdsb2JhbGl6ZS5mb3JtYXQoIHZhbHVlLCB0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0LCB0aGlzLm9wdGlvbnMuY3VsdHVyZSApIDpcblx0XHRcdHZhbHVlO1xuXHR9LFxuXG5cdF9yZWZyZXNoOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLmVsZW1lbnQuYXR0cih7XG5cdFx0XHRcImFyaWEtdmFsdWVtaW5cIjogdGhpcy5vcHRpb25zLm1pbixcblx0XHRcdFwiYXJpYS12YWx1ZW1heFwiOiB0aGlzLm9wdGlvbnMubWF4LFxuXHRcdFx0Ly8gVE9ETzogd2hhdCBzaG91bGQgd2UgZG8gd2l0aCB2YWx1ZXMgdGhhdCBjYW4ndCBiZSBwYXJzZWQ/XG5cdFx0XHRcImFyaWEtdmFsdWVub3dcIjogdGhpcy5fcGFyc2UoIHRoaXMuZWxlbWVudC52YWwoKSApXG5cdFx0fSk7XG5cdH0sXG5cblx0aXNWYWxpZDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuXG5cdFx0Ly8gbnVsbCBpcyBpbnZhbGlkXG5cdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBpZiB2YWx1ZSBnZXRzIGFkanVzdGVkLCBpdCdzIGludmFsaWRcblx0XHRyZXR1cm4gdmFsdWUgPT09IHRoaXMuX2FkanVzdFZhbHVlKCB2YWx1ZSApO1xuXHR9LFxuXG5cdC8vIHVwZGF0ZSB0aGUgdmFsdWUgd2l0aG91dCB0cmlnZ2VyaW5nIGNoYW5nZVxuXHRfdmFsdWU6IGZ1bmN0aW9uKCB2YWx1ZSwgYWxsb3dBbnkgKSB7XG5cdFx0dmFyIHBhcnNlZDtcblx0XHRpZiAoIHZhbHVlICE9PSBcIlwiICkge1xuXHRcdFx0cGFyc2VkID0gdGhpcy5fcGFyc2UoIHZhbHVlICk7XG5cdFx0XHRpZiAoIHBhcnNlZCAhPT0gbnVsbCApIHtcblx0XHRcdFx0aWYgKCAhYWxsb3dBbnkgKSB7XG5cdFx0XHRcdFx0cGFyc2VkID0gdGhpcy5fYWRqdXN0VmFsdWUoIHBhcnNlZCApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhbHVlID0gdGhpcy5fZm9ybWF0KCBwYXJzZWQgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5lbGVtZW50LnZhbCggdmFsdWUgKTtcblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWxlbWVudFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNwaW5uZXItaW5wdXRcIiApXG5cdFx0XHQucHJvcCggXCJkaXNhYmxlZFwiLCBmYWxzZSApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhdXRvY29tcGxldGVcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS12YWx1ZW1pblwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtdmFsdWVtYXhcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLXZhbHVlbm93XCIgKTtcblx0XHR0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCggdGhpcy5lbGVtZW50ICk7XG5cdH0sXG5cblx0c3RlcFVwOiBzcGlubmVyX21vZGlmaWVyKGZ1bmN0aW9uKCBzdGVwcyApIHtcblx0XHR0aGlzLl9zdGVwVXAoIHN0ZXBzICk7XG5cdH0pLFxuXHRfc3RlcFVwOiBmdW5jdGlvbiggc3RlcHMgKSB7XG5cdFx0aWYgKCB0aGlzLl9zdGFydCgpICkge1xuXHRcdFx0dGhpcy5fc3BpbiggKHN0ZXBzIHx8IDEpICogdGhpcy5vcHRpb25zLnN0ZXAgKTtcblx0XHRcdHRoaXMuX3N0b3AoKTtcblx0XHR9XG5cdH0sXG5cblx0c3RlcERvd246IHNwaW5uZXJfbW9kaWZpZXIoZnVuY3Rpb24oIHN0ZXBzICkge1xuXHRcdHRoaXMuX3N0ZXBEb3duKCBzdGVwcyApO1xuXHR9KSxcblx0X3N0ZXBEb3duOiBmdW5jdGlvbiggc3RlcHMgKSB7XG5cdFx0aWYgKCB0aGlzLl9zdGFydCgpICkge1xuXHRcdFx0dGhpcy5fc3BpbiggKHN0ZXBzIHx8IDEpICogLXRoaXMub3B0aW9ucy5zdGVwICk7XG5cdFx0XHR0aGlzLl9zdG9wKCk7XG5cdFx0fVxuXHR9LFxuXG5cdHBhZ2VVcDogc3Bpbm5lcl9tb2RpZmllcihmdW5jdGlvbiggcGFnZXMgKSB7XG5cdFx0dGhpcy5fc3RlcFVwKCAocGFnZXMgfHwgMSkgKiB0aGlzLm9wdGlvbnMucGFnZSApO1xuXHR9KSxcblxuXHRwYWdlRG93bjogc3Bpbm5lcl9tb2RpZmllcihmdW5jdGlvbiggcGFnZXMgKSB7XG5cdFx0dGhpcy5fc3RlcERvd24oIChwYWdlcyB8fCAxKSAqIHRoaXMub3B0aW9ucy5wYWdlICk7XG5cdH0pLFxuXG5cdHZhbHVlOiBmdW5jdGlvbiggbmV3VmFsICkge1xuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcGFyc2UoIHRoaXMuZWxlbWVudC52YWwoKSApO1xuXHRcdH1cblx0XHRzcGlubmVyX21vZGlmaWVyKCB0aGlzLl92YWx1ZSApLmNhbGwoIHRoaXMsIG5ld1ZhbCApO1xuXHR9LFxuXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMudWlTcGlubmVyO1xuXHR9XG59KTtcblxuXG4vKiFcbiAqIGpRdWVyeSBVSSBUYWJzIDEuMTEuNFxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vdGFicy9cbiAqL1xuXG5cbnZhciB0YWJzID0gJC53aWRnZXQoIFwidWkudGFic1wiLCB7XG5cdHZlcnNpb246IFwiMS4xMS40XCIsXG5cdGRlbGF5OiAzMDAsXG5cdG9wdGlvbnM6IHtcblx0XHRhY3RpdmU6IG51bGwsXG5cdFx0Y29sbGFwc2libGU6IGZhbHNlLFxuXHRcdGV2ZW50OiBcImNsaWNrXCIsXG5cdFx0aGVpZ2h0U3R5bGU6IFwiY29udGVudFwiLFxuXHRcdGhpZGU6IG51bGwsXG5cdFx0c2hvdzogbnVsbCxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZUFjdGl2YXRlOiBudWxsLFxuXHRcdGJlZm9yZUxvYWQ6IG51bGwsXG5cdFx0bG9hZDogbnVsbFxuXHR9LFxuXG5cdF9pc0xvY2FsOiAoZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHJoYXNoID0gLyMuKiQvO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBhbmNob3IgKSB7XG5cdFx0XHR2YXIgYW5jaG9yVXJsLCBsb2NhdGlvblVybDtcblxuXHRcdFx0Ly8gc3VwcG9ydDogSUU3XG5cdFx0XHQvLyBJRTcgZG9lc24ndCBub3JtYWxpemUgdGhlIGhyZWYgcHJvcGVydHkgd2hlbiBzZXQgdmlhIHNjcmlwdCAoIzkzMTcpXG5cdFx0XHRhbmNob3IgPSBhbmNob3IuY2xvbmVOb2RlKCBmYWxzZSApO1xuXG5cdFx0XHRhbmNob3JVcmwgPSBhbmNob3IuaHJlZi5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXHRcdFx0bG9jYXRpb25VcmwgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cblx0XHRcdC8vIGRlY29kaW5nIG1heSB0aHJvdyBhbiBlcnJvciBpZiB0aGUgVVJMIGlzbid0IFVURi04ICgjOTUxOClcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGFuY2hvclVybCA9IGRlY29kZVVSSUNvbXBvbmVudCggYW5jaG9yVXJsICk7XG5cdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7fVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bG9jYXRpb25VcmwgPSBkZWNvZGVVUklDb21wb25lbnQoIGxvY2F0aW9uVXJsICk7XG5cdFx0XHR9IGNhdGNoICggZXJyb3IgKSB7fVxuXG5cdFx0XHRyZXR1cm4gYW5jaG9yLmhhc2gubGVuZ3RoID4gMSAmJiBhbmNob3JVcmwgPT09IGxvY2F0aW9uVXJsO1xuXHRcdH07XG5cdH0pKCksXG5cblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdHRoaXMucnVubmluZyA9IGZhbHNlO1xuXG5cdFx0dGhpcy5lbGVtZW50XG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiIClcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS10YWJzLWNvbGxhcHNpYmxlXCIsIG9wdGlvbnMuY29sbGFwc2libGUgKTtcblxuXHRcdHRoaXMuX3Byb2Nlc3NUYWJzKCk7XG5cdFx0b3B0aW9ucy5hY3RpdmUgPSB0aGlzLl9pbml0aWFsQWN0aXZlKCk7XG5cblx0XHQvLyBUYWtlIGRpc2FibGluZyB0YWJzIHZpYSBjbGFzcyBhdHRyaWJ1dGUgZnJvbSBIVE1MXG5cdFx0Ly8gaW50byBhY2NvdW50IGFuZCB1cGRhdGUgb3B0aW9uIHByb3Blcmx5LlxuXHRcdGlmICggJC5pc0FycmF5KCBvcHRpb25zLmRpc2FibGVkICkgKSB7XG5cdFx0XHRvcHRpb25zLmRpc2FibGVkID0gJC51bmlxdWUoIG9wdGlvbnMuZGlzYWJsZWQuY29uY2F0KFxuXHRcdFx0XHQkLm1hcCggdGhpcy50YWJzLmZpbHRlciggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLCBmdW5jdGlvbiggbGkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoYXQudGFicy5pbmRleCggbGkgKTtcblx0XHRcdFx0fSlcblx0XHRcdCkgKS5zb3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gY2hlY2sgZm9yIGxlbmd0aCBhdm9pZHMgZXJyb3Igd2hlbiBpbml0aWFsaXppbmcgZW1wdHkgbGlzdFxuXHRcdGlmICggdGhpcy5vcHRpb25zLmFjdGl2ZSAhPT0gZmFsc2UgJiYgdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcblx0XHRcdHRoaXMuYWN0aXZlID0gdGhpcy5fZmluZEFjdGl2ZSggb3B0aW9ucy5hY3RpdmUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVmcmVzaCgpO1xuXG5cdFx0aWYgKCB0aGlzLmFjdGl2ZS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmxvYWQoIG9wdGlvbnMuYWN0aXZlICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9pbml0aWFsQWN0aXZlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgYWN0aXZlID0gdGhpcy5vcHRpb25zLmFjdGl2ZSxcblx0XHRcdGNvbGxhcHNpYmxlID0gdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlLFxuXHRcdFx0bG9jYXRpb25IYXNoID0gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoIDEgKTtcblxuXHRcdGlmICggYWN0aXZlID09PSBudWxsICkge1xuXHRcdFx0Ly8gY2hlY2sgdGhlIGZyYWdtZW50IGlkZW50aWZpZXIgaW4gdGhlIFVSTFxuXHRcdFx0aWYgKCBsb2NhdGlvbkhhc2ggKSB7XG5cdFx0XHRcdHRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKCBpLCB0YWIgKSB7XG5cdFx0XHRcdFx0aWYgKCAkKCB0YWIgKS5hdHRyKCBcImFyaWEtY29udHJvbHNcIiApID09PSBsb2NhdGlvbkhhc2ggKSB7XG5cdFx0XHRcdFx0XHRhY3RpdmUgPSBpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNoZWNrIGZvciBhIHRhYiBtYXJrZWQgYWN0aXZlIHZpYSBhIGNsYXNzXG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmluZGV4KCB0aGlzLnRhYnMuZmlsdGVyKCBcIi51aS10YWJzLWFjdGl2ZVwiICkgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbm8gYWN0aXZlIHRhYiwgc2V0IHRvIGZhbHNlXG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gbnVsbCB8fCBhY3RpdmUgPT09IC0xICkge1xuXHRcdFx0XHRhY3RpdmUgPSB0aGlzLnRhYnMubGVuZ3RoID8gMCA6IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGhhbmRsZSBudW1iZXJzOiBuZWdhdGl2ZSwgb3V0IG9mIHJhbmdlXG5cdFx0aWYgKCBhY3RpdmUgIT09IGZhbHNlICkge1xuXHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmluZGV4KCB0aGlzLnRhYnMuZXEoIGFjdGl2ZSApICk7XG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gLTEgKSB7XG5cdFx0XHRcdGFjdGl2ZSA9IGNvbGxhcHNpYmxlID8gZmFsc2UgOiAwO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGRvbid0IGFsbG93IGNvbGxhcHNpYmxlOiBmYWxzZSBhbmQgYWN0aXZlOiBmYWxzZVxuXHRcdGlmICggIWNvbGxhcHNpYmxlICYmIGFjdGl2ZSA9PT0gZmFsc2UgJiYgdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcblx0XHRcdGFjdGl2ZSA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjdGl2ZTtcblx0fSxcblxuXHRfZ2V0Q3JlYXRlRXZlbnREYXRhOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dGFiOiB0aGlzLmFjdGl2ZSxcblx0XHRcdHBhbmVsOiAhdGhpcy5hY3RpdmUubGVuZ3RoID8gJCgpIDogdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRoaXMuYWN0aXZlIClcblx0XHR9O1xuXHR9LFxuXG5cdF90YWJLZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGZvY3VzZWRUYWIgPSAkKCB0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgKS5jbG9zZXN0KCBcImxpXCIgKSxcblx0XHRcdHNlbGVjdGVkSW5kZXggPSB0aGlzLnRhYnMuaW5kZXgoIGZvY3VzZWRUYWIgKSxcblx0XHRcdGdvaW5nRm9yd2FyZCA9IHRydWU7XG5cblx0XHRpZiAoIHRoaXMuX2hhbmRsZVBhZ2VOYXYoIGV2ZW50ICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuRE9XTjpcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCsrO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlVQOlxuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuTEVGVDpcblx0XHRcdFx0Z29pbmdGb3J3YXJkID0gZmFsc2U7XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXgtLTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XG5cdFx0XHRcdHNlbGVjdGVkSW5kZXggPSB0aGlzLmFuY2hvcnMubGVuZ3RoIC0gMTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxuXHRcdFx0XHRzZWxlY3RlZEluZGV4ID0gMDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcblx0XHRcdFx0Ly8gQWN0aXZhdGUgb25seSwgbm8gY29sbGFwc2luZ1xuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuYWN0aXZhdGluZyApO1xuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZSggc2VsZWN0ZWRJbmRleCApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTlRFUjpcblx0XHRcdFx0Ly8gVG9nZ2xlIChjYW5jZWwgZGVsYXllZCBhY3RpdmF0aW9uLCBhbGxvdyBjb2xsYXBzaW5nKVxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuYWN0aXZhdGluZyApO1xuXHRcdFx0XHQvLyBEZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG9yIGFjdGl2YXRlXG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCBzZWxlY3RlZEluZGV4ID09PSB0aGlzLm9wdGlvbnMuYWN0aXZlID8gZmFsc2UgOiBzZWxlY3RlZEluZGV4ICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBGb2N1cyB0aGUgYXBwcm9wcmlhdGUgdGFiLCBiYXNlZCBvbiB3aGljaCBrZXkgd2FzIHByZXNzZWRcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNsZWFyVGltZW91dCggdGhpcy5hY3RpdmF0aW5nICk7XG5cdFx0c2VsZWN0ZWRJbmRleCA9IHRoaXMuX2ZvY3VzTmV4dFRhYiggc2VsZWN0ZWRJbmRleCwgZ29pbmdGb3J3YXJkICk7XG5cblx0XHQvLyBOYXZpZ2F0aW5nIHdpdGggY29udHJvbC9jb21tYW5kIGtleSB3aWxsIHByZXZlbnQgYXV0b21hdGljIGFjdGl2YXRpb25cblx0XHRpZiAoICFldmVudC5jdHJsS2V5ICYmICFldmVudC5tZXRhS2V5ICkge1xuXG5cdFx0XHQvLyBVcGRhdGUgYXJpYS1zZWxlY3RlZCBpbW1lZGlhdGVseSBzbyB0aGF0IEFUIHRoaW5rIHRoZSB0YWIgaXMgYWxyZWFkeSBzZWxlY3RlZC5cblx0XHRcdC8vIE90aGVyd2lzZSBBVCBtYXkgY29uZnVzZSB0aGUgdXNlciBieSBzdGF0aW5nIHRoYXQgdGhleSBuZWVkIHRvIGFjdGl2YXRlIHRoZSB0YWIsXG5cdFx0XHQvLyBidXQgdGhlIHRhYiB3aWxsIGFscmVhZHkgYmUgYWN0aXZhdGVkIGJ5IHRoZSB0aW1lIHRoZSBhbm5vdW5jZW1lbnQgZmluaXNoZXMuXG5cdFx0XHRmb2N1c2VkVGFiLmF0dHIoIFwiYXJpYS1zZWxlY3RlZFwiLCBcImZhbHNlXCIgKTtcblx0XHRcdHRoaXMudGFicy5lcSggc2VsZWN0ZWRJbmRleCApLmF0dHIoIFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIiApO1xuXG5cdFx0XHR0aGlzLmFjdGl2YXRpbmcgPSB0aGlzLl9kZWxheShmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5vcHRpb24oIFwiYWN0aXZlXCIsIHNlbGVjdGVkSW5kZXggKTtcblx0XHRcdH0sIHRoaXMuZGVsYXkgKTtcblx0XHR9XG5cdH0sXG5cblx0X3BhbmVsS2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdGlmICggdGhpcy5faGFuZGxlUGFnZU5hdiggZXZlbnQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDdHJsK3VwIG1vdmVzIGZvY3VzIHRvIHRoZSBjdXJyZW50IHRhYlxuXHRcdGlmICggZXZlbnQuY3RybEtleSAmJiBldmVudC5rZXlDb2RlID09PSAkLnVpLmtleUNvZGUuVVAgKSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5hY3RpdmUuZm9jdXMoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gQWx0K3BhZ2UgdXAvZG93biBtb3ZlcyBmb2N1cyB0byB0aGUgcHJldmlvdXMvbmV4dCB0YWIgKGFuZCBhY3RpdmF0ZXMpXG5cdF9oYW5kbGVQYWdlTmF2OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0aWYgKCBldmVudC5hbHRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlBBR0VfVVAgKSB7XG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggdGhpcy5fZm9jdXNOZXh0VGFiKCB0aGlzLm9wdGlvbnMuYWN0aXZlIC0gMSwgZmFsc2UgKSApO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGlmICggZXZlbnQuYWx0S2V5ICYmIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5QQUdFX0RPV04gKSB7XG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggdGhpcy5fZm9jdXNOZXh0VGFiKCB0aGlzLm9wdGlvbnMuYWN0aXZlICsgMSwgdHJ1ZSApICk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH0sXG5cblx0X2ZpbmROZXh0VGFiOiBmdW5jdGlvbiggaW5kZXgsIGdvaW5nRm9yd2FyZCApIHtcblx0XHR2YXIgbGFzdFRhYkluZGV4ID0gdGhpcy50YWJzLmxlbmd0aCAtIDE7XG5cblx0XHRmdW5jdGlvbiBjb25zdHJhaW4oKSB7XG5cdFx0XHRpZiAoIGluZGV4ID4gbGFzdFRhYkluZGV4ICkge1xuXHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGluZGV4IDwgMCApIHtcblx0XHRcdFx0aW5kZXggPSBsYXN0VGFiSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaW5kZXg7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKCAkLmluQXJyYXkoIGNvbnN0cmFpbigpLCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSAhPT0gLTEgKSB7XG5cdFx0XHRpbmRleCA9IGdvaW5nRm9yd2FyZCA/IGluZGV4ICsgMSA6IGluZGV4IC0gMTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW5kZXg7XG5cdH0sXG5cblx0X2ZvY3VzTmV4dFRhYjogZnVuY3Rpb24oIGluZGV4LCBnb2luZ0ZvcndhcmQgKSB7XG5cdFx0aW5kZXggPSB0aGlzLl9maW5kTmV4dFRhYiggaW5kZXgsIGdvaW5nRm9yd2FyZCApO1xuXHRcdHRoaXMudGFicy5lcSggaW5kZXggKS5mb2N1cygpO1xuXHRcdHJldHVybiBpbmRleDtcblx0fSxcblxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRpZiAoIGtleSA9PT0gXCJhY3RpdmVcIiApIHtcblx0XHRcdC8vIF9hY3RpdmF0ZSgpIHdpbGwgaGFuZGxlIGludmFsaWQgdmFsdWVzIGFuZCB1cGRhdGUgdGhpcy5vcHRpb25zXG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggdmFsdWUgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xuXHRcdFx0Ly8gZG9uJ3QgdXNlIHRoZSB3aWRnZXQgZmFjdG9yeSdzIGRpc2FibGVkIGhhbmRsaW5nXG5cdFx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCB2YWx1ZSApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N1cGVyKCBrZXksIHZhbHVlKTtcblxuXHRcdGlmICgga2V5ID09PSBcImNvbGxhcHNpYmxlXCIgKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIFwidWktdGFicy1jb2xsYXBzaWJsZVwiLCB2YWx1ZSApO1xuXHRcdFx0Ly8gU2V0dGluZyBjb2xsYXBzaWJsZTogZmFsc2Ugd2hpbGUgY29sbGFwc2VkOyBvcGVuIGZpcnN0IHBhbmVsXG5cdFx0XHRpZiAoICF2YWx1ZSAmJiB0aGlzLm9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSApIHtcblx0XHRcdFx0dGhpcy5fYWN0aXZhdGUoIDAgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGtleSA9PT0gXCJldmVudFwiICkge1xuXHRcdFx0dGhpcy5fc2V0dXBFdmVudHMoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgPT09IFwiaGVpZ2h0U3R5bGVcIiApIHtcblx0XHRcdHRoaXMuX3NldHVwSGVpZ2h0U3R5bGUoIHZhbHVlICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9zYW5pdGl6ZVNlbGVjdG9yOiBmdW5jdGlvbiggaGFzaCApIHtcblx0XHRyZXR1cm4gaGFzaCA/IGhhc2gucmVwbGFjZSggL1shXCIkJSYnKCkqKywuXFwvOjs8PT4/QFxcW1xcXVxcXmB7fH1+XS9nLCBcIlxcXFwkJlwiICkgOiBcIlwiO1xuXHR9LFxuXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0bGlzID0gdGhpcy50YWJsaXN0LmNoaWxkcmVuKCBcIjpoYXMoYVtocmVmXSlcIiApO1xuXG5cdFx0Ly8gZ2V0IGRpc2FibGVkIHRhYnMgZnJvbSBjbGFzcyBhdHRyaWJ1dGUgZnJvbSBIVE1MXG5cdFx0Ly8gdGhpcyB3aWxsIGdldCBjb252ZXJ0ZWQgdG8gYSBib29sZWFuIGlmIG5lZWRlZCBpbiBfcmVmcmVzaCgpXG5cdFx0b3B0aW9ucy5kaXNhYmxlZCA9ICQubWFwKCBsaXMuZmlsdGVyKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICksIGZ1bmN0aW9uKCB0YWIgKSB7XG5cdFx0XHRyZXR1cm4gbGlzLmluZGV4KCB0YWIgKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuX3Byb2Nlc3NUYWJzKCk7XG5cblx0XHQvLyB3YXMgY29sbGFwc2VkIG9yIG5vIHRhYnNcblx0XHRpZiAoIG9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSB8fCAhdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcblx0XHRcdG9wdGlvbnMuYWN0aXZlID0gZmFsc2U7XG5cdFx0XHR0aGlzLmFjdGl2ZSA9ICQoKTtcblx0XHQvLyB3YXMgYWN0aXZlLCBidXQgYWN0aXZlIHRhYiBpcyBnb25lXG5cdFx0fSBlbHNlIGlmICggdGhpcy5hY3RpdmUubGVuZ3RoICYmICEkLmNvbnRhaW5zKCB0aGlzLnRhYmxpc3RbIDAgXSwgdGhpcy5hY3RpdmVbIDAgXSApICkge1xuXHRcdFx0Ly8gYWxsIHJlbWFpbmluZyB0YWJzIGFyZSBkaXNhYmxlZFxuXHRcdFx0aWYgKCB0aGlzLnRhYnMubGVuZ3RoID09PSBvcHRpb25zLmRpc2FibGVkLmxlbmd0aCApIHtcblx0XHRcdFx0b3B0aW9ucy5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XG5cdFx0XHQvLyBhY3RpdmF0ZSBwcmV2aW91cyB0YWJcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCB0aGlzLl9maW5kTmV4dFRhYiggTWF0aC5tYXgoIDAsIG9wdGlvbnMuYWN0aXZlIC0gMSApLCBmYWxzZSApICk7XG5cdFx0XHR9XG5cdFx0Ly8gd2FzIGFjdGl2ZSwgYWN0aXZlIHRhYiBzdGlsbCBleGlzdHNcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gbWFrZSBzdXJlIGFjdGl2ZSBpbmRleCBpcyBjb3JyZWN0XG5cdFx0XHRvcHRpb25zLmFjdGl2ZSA9IHRoaXMudGFicy5pbmRleCggdGhpcy5hY3RpdmUgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9yZWZyZXNoKCk7XG5cdH0sXG5cblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3NldHVwRGlzYWJsZWQoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApO1xuXHRcdHRoaXMuX3NldHVwRXZlbnRzKCB0aGlzLm9wdGlvbnMuZXZlbnQgKTtcblx0XHR0aGlzLl9zZXR1cEhlaWdodFN0eWxlKCB0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUgKTtcblxuXHRcdHRoaXMudGFicy5ub3QoIHRoaXMuYWN0aXZlICkuYXR0cih7XG5cdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcblx0XHRcdHRhYkluZGV4OiAtMVxuXHRcdH0pO1xuXHRcdHRoaXMucGFuZWxzLm5vdCggdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRoaXMuYWN0aXZlICkgKVxuXHRcdFx0LmhpZGUoKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG5cdFx0XHR9KTtcblxuXHRcdC8vIE1ha2Ugc3VyZSBvbmUgdGFiIGlzIGluIHRoZSB0YWIgb3JkZXJcblx0XHRpZiAoICF0aGlzLmFjdGl2ZS5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLnRhYnMuZXEoIDAgKS5hdHRyKCBcInRhYkluZGV4XCIsIDAgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5hY3RpdmVcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiIClcblx0XHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcInRydWVcIixcblx0XHRcdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcdFx0dGFiSW5kZXg6IDBcblx0XHRcdFx0fSk7XG5cdFx0XHR0aGlzLl9nZXRQYW5lbEZvclRhYiggdGhpcy5hY3RpdmUgKVxuXHRcdFx0XHQuc2hvdygpXG5cdFx0XHRcdC5hdHRyKHtcblx0XHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwiZmFsc2VcIlxuXHRcdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cblx0X3Byb2Nlc3NUYWJzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRwcmV2VGFicyA9IHRoaXMudGFicyxcblx0XHRcdHByZXZBbmNob3JzID0gdGhpcy5hbmNob3JzLFxuXHRcdFx0cHJldlBhbmVscyA9IHRoaXMucGFuZWxzO1xuXG5cdFx0dGhpcy50YWJsaXN0ID0gdGhpcy5fZ2V0TGlzdCgpXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGxcIiApXG5cdFx0XHQuYXR0ciggXCJyb2xlXCIsIFwidGFibGlzdFwiIClcblxuXHRcdFx0Ly8gUHJldmVudCB1c2VycyBmcm9tIGZvY3VzaW5nIGRpc2FibGVkIHRhYnMgdmlhIGNsaWNrXG5cdFx0XHQuZGVsZWdhdGUoIFwiPiBsaVwiLCBcIm1vdXNlZG93blwiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRpZiAoICQoIHRoaXMgKS5pcyggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0XHRcdC8vIHN1cHBvcnQ6IElFIDw5XG5cdFx0XHQvLyBQcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvbiBpbiBtb3VzZWRvd24gZG9lc24ndCBwcmV2ZW50IElFXG5cdFx0XHQvLyBmcm9tIGZvY3VzaW5nIHRoZSBlbGVtZW50LCBzbyBpZiB0aGUgYW5jaG9yIGdldHMgZm9jdXNlZCwgYmx1ci5cblx0XHRcdC8vIFdlIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgZm9jdXNpbmcgdGhlIHByZXZpb3VzbHkgZm9jdXNlZFxuXHRcdFx0Ly8gZWxlbWVudCBzaW5jZSBjbGlja2luZyBvbiBhIG5vbi1mb2N1c2FibGUgZWxlbWVudCBzaG91bGQgZm9jdXNcblx0XHRcdC8vIHRoZSBib2R5IGFueXdheS5cblx0XHRcdC5kZWxlZ2F0ZSggXCIudWktdGFicy1hbmNob3JcIiwgXCJmb2N1c1wiICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggJCggdGhpcyApLmNsb3Nlc3QoIFwibGlcIiApLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0dGhpcy50YWJzID0gdGhpcy50YWJsaXN0LmZpbmQoIFwiPiBsaTpoYXMoYVtocmVmXSlcIiApXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItdG9wXCIgKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRyb2xlOiBcInRhYlwiLFxuXHRcdFx0XHR0YWJJbmRleDogLTFcblx0XHRcdH0pO1xuXG5cdFx0dGhpcy5hbmNob3JzID0gdGhpcy50YWJzLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICQoIFwiYVwiLCB0aGlzIClbIDAgXTtcblx0XHRcdH0pXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicy1hbmNob3JcIiApXG5cdFx0XHQuYXR0cih7XG5cdFx0XHRcdHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG5cdFx0XHRcdHRhYkluZGV4OiAtMVxuXHRcdFx0fSk7XG5cblx0XHR0aGlzLnBhbmVscyA9ICQoKTtcblxuXHRcdHRoaXMuYW5jaG9ycy5lYWNoKGZ1bmN0aW9uKCBpLCBhbmNob3IgKSB7XG5cdFx0XHR2YXIgc2VsZWN0b3IsIHBhbmVsLCBwYW5lbElkLFxuXHRcdFx0XHRhbmNob3JJZCA9ICQoIGFuY2hvciApLnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICksXG5cdFx0XHRcdHRhYiA9ICQoIGFuY2hvciApLmNsb3Nlc3QoIFwibGlcIiApLFxuXHRcdFx0XHRvcmlnaW5hbEFyaWFDb250cm9scyA9IHRhYi5hdHRyKCBcImFyaWEtY29udHJvbHNcIiApO1xuXG5cdFx0XHQvLyBpbmxpbmUgdGFiXG5cdFx0XHRpZiAoIHRoYXQuX2lzTG9jYWwoIGFuY2hvciApICkge1xuXHRcdFx0XHRzZWxlY3RvciA9IGFuY2hvci5oYXNoO1xuXHRcdFx0XHRwYW5lbElkID0gc2VsZWN0b3Iuc3Vic3RyaW5nKCAxICk7XG5cdFx0XHRcdHBhbmVsID0gdGhhdC5lbGVtZW50LmZpbmQoIHRoYXQuX3Nhbml0aXplU2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcblx0XHRcdC8vIHJlbW90ZSB0YWJcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIElmIHRoZSB0YWIgZG9lc24ndCBhbHJlYWR5IGhhdmUgYXJpYS1jb250cm9scyxcblx0XHRcdFx0Ly8gZ2VuZXJhdGUgYW4gaWQgYnkgdXNpbmcgYSB0aHJvdy1hd2F5IGVsZW1lbnRcblx0XHRcdFx0cGFuZWxJZCA9IHRhYi5hdHRyKCBcImFyaWEtY29udHJvbHNcIiApIHx8ICQoIHt9ICkudW5pcXVlSWQoKVsgMCBdLmlkO1xuXHRcdFx0XHRzZWxlY3RvciA9IFwiI1wiICsgcGFuZWxJZDtcblx0XHRcdFx0cGFuZWwgPSB0aGF0LmVsZW1lbnQuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdFx0aWYgKCAhcGFuZWwubGVuZ3RoICkge1xuXHRcdFx0XHRcdHBhbmVsID0gdGhhdC5fY3JlYXRlUGFuZWwoIHBhbmVsSWQgKTtcblx0XHRcdFx0XHRwYW5lbC5pbnNlcnRBZnRlciggdGhhdC5wYW5lbHNbIGkgLSAxIF0gfHwgdGhhdC50YWJsaXN0ICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cGFuZWwuYXR0ciggXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHBhbmVsLmxlbmd0aCkge1xuXHRcdFx0XHR0aGF0LnBhbmVscyA9IHRoYXQucGFuZWxzLmFkZCggcGFuZWwgKTtcblx0XHRcdH1cblx0XHRcdGlmICggb3JpZ2luYWxBcmlhQ29udHJvbHMgKSB7XG5cdFx0XHRcdHRhYi5kYXRhKCBcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiLCBvcmlnaW5hbEFyaWFDb250cm9scyApO1xuXHRcdFx0fVxuXHRcdFx0dGFiLmF0dHIoe1xuXHRcdFx0XHRcImFyaWEtY29udHJvbHNcIjogcGFuZWxJZCxcblx0XHRcdFx0XCJhcmlhLWxhYmVsbGVkYnlcIjogYW5jaG9ySWRcblx0XHRcdH0pO1xuXHRcdFx0cGFuZWwuYXR0ciggXCJhcmlhLWxhYmVsbGVkYnlcIiwgYW5jaG9ySWQgKTtcblx0XHR9KTtcblxuXHRcdHRoaXMucGFuZWxzXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIgKVxuXHRcdFx0LmF0dHIoIFwicm9sZVwiLCBcInRhYnBhbmVsXCIgKTtcblxuXHRcdC8vIEF2b2lkIG1lbW9yeSBsZWFrcyAoIzEwMDU2KVxuXHRcdGlmICggcHJldlRhYnMgKSB7XG5cdFx0XHR0aGlzLl9vZmYoIHByZXZUYWJzLm5vdCggdGhpcy50YWJzICkgKTtcblx0XHRcdHRoaXMuX29mZiggcHJldkFuY2hvcnMubm90KCB0aGlzLmFuY2hvcnMgKSApO1xuXHRcdFx0dGhpcy5fb2ZmKCBwcmV2UGFuZWxzLm5vdCggdGhpcy5wYW5lbHMgKSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBhbGxvdyBvdmVycmlkaW5nIGhvdyB0byBmaW5kIHRoZSBsaXN0IGZvciByYXJlIHVzYWdlIHNjZW5hcmlvcyAoIzc3MTUpXG5cdF9nZXRMaXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy50YWJsaXN0IHx8IHRoaXMuZWxlbWVudC5maW5kKCBcIm9sLHVsXCIgKS5lcSggMCApO1xuXHR9LFxuXG5cdF9jcmVhdGVQYW5lbDogZnVuY3Rpb24oIGlkICkge1xuXHRcdHJldHVybiAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmF0dHIoIFwiaWRcIiwgaWQgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbVwiIClcblx0XHRcdC5kYXRhKCBcInVpLXRhYnMtZGVzdHJveVwiLCB0cnVlICk7XG5cdH0sXG5cblx0X3NldHVwRGlzYWJsZWQ6IGZ1bmN0aW9uKCBkaXNhYmxlZCApIHtcblx0XHRpZiAoICQuaXNBcnJheSggZGlzYWJsZWQgKSApIHtcblx0XHRcdGlmICggIWRpc2FibGVkLmxlbmd0aCApIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIGRpc2FibGVkLmxlbmd0aCA9PT0gdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGRpc2FibGUgdGFic1xuXHRcdGZvciAoIHZhciBpID0gMCwgbGk7ICggbGkgPSB0aGlzLnRhYnNbIGkgXSApOyBpKysgKSB7XG5cdFx0XHRpZiAoIGRpc2FibGVkID09PSB0cnVlIHx8ICQuaW5BcnJheSggaSwgZGlzYWJsZWQgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdCQoIGxpIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiLCBcInRydWVcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCggbGkgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcblx0fSxcblxuXHRfc2V0dXBFdmVudHM6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgZXZlbnRzID0ge307XG5cdFx0aWYgKCBldmVudCApIHtcblx0XHRcdCQuZWFjaCggZXZlbnQuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbiggaW5kZXgsIGV2ZW50TmFtZSApIHtcblx0XHRcdFx0ZXZlbnRzWyBldmVudE5hbWUgXSA9IFwiX2V2ZW50SGFuZGxlclwiO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fb2ZmKCB0aGlzLmFuY2hvcnMuYWRkKCB0aGlzLnRhYnMgKS5hZGQoIHRoaXMucGFuZWxzICkgKTtcblx0XHQvLyBBbHdheXMgcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24sIGV2ZW4gd2hlbiBkaXNhYmxlZFxuXHRcdHRoaXMuX29uKCB0cnVlLCB0aGlzLmFuY2hvcnMsIHtcblx0XHRcdGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5fb24oIHRoaXMuYW5jaG9ycywgZXZlbnRzICk7XG5cdFx0dGhpcy5fb24oIHRoaXMudGFicywgeyBrZXlkb3duOiBcIl90YWJLZXlkb3duXCIgfSApO1xuXHRcdHRoaXMuX29uKCB0aGlzLnBhbmVscywgeyBrZXlkb3duOiBcIl9wYW5lbEtleWRvd25cIiB9ICk7XG5cblx0XHR0aGlzLl9mb2N1c2FibGUoIHRoaXMudGFicyApO1xuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy50YWJzICk7XG5cdH0sXG5cblx0X3NldHVwSGVpZ2h0U3R5bGU6IGZ1bmN0aW9uKCBoZWlnaHRTdHlsZSApIHtcblx0XHR2YXIgbWF4SGVpZ2h0LFxuXHRcdFx0cGFyZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudCgpO1xuXG5cdFx0aWYgKCBoZWlnaHRTdHlsZSA9PT0gXCJmaWxsXCIgKSB7XG5cdFx0XHRtYXhIZWlnaHQgPSBwYXJlbnQuaGVpZ2h0KCk7XG5cdFx0XHRtYXhIZWlnaHQgLT0gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkgLSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7XG5cblx0XHRcdHRoaXMuZWxlbWVudC5zaWJsaW5ncyggXCI6dmlzaWJsZVwiICkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBlbGVtLmNzcyggXCJwb3NpdGlvblwiICk7XG5cblx0XHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG1heEhlaWdodCAtPSBlbGVtLm91dGVySGVpZ2h0KCB0cnVlICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KCB0aGlzLnBhbmVscyApLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdG1heEhlaWdodCAtPSAkKCB0aGlzICkub3V0ZXJIZWlnaHQoIHRydWUgKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCB0aGlzICkuaGVpZ2h0KCBNYXRoLm1heCggMCwgbWF4SGVpZ2h0IC1cblx0XHRcdFx0XHQkKCB0aGlzICkuaW5uZXJIZWlnaHQoKSArICQoIHRoaXMgKS5oZWlnaHQoKSApICk7XG5cdFx0XHR9KVxuXHRcdFx0LmNzcyggXCJvdmVyZmxvd1wiLCBcImF1dG9cIiApO1xuXHRcdH0gZWxzZSBpZiAoIGhlaWdodFN0eWxlID09PSBcImF1dG9cIiApIHtcblx0XHRcdG1heEhlaWdodCA9IDA7XG5cdFx0XHR0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRtYXhIZWlnaHQgPSBNYXRoLm1heCggbWF4SGVpZ2h0LCAkKCB0aGlzICkuaGVpZ2h0KCBcIlwiICkuaGVpZ2h0KCkgKTtcblx0XHRcdH0pLmhlaWdodCggbWF4SGVpZ2h0ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9ldmVudEhhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcblx0XHRcdGFjdGl2ZSA9IHRoaXMuYWN0aXZlLFxuXHRcdFx0YW5jaG9yID0gJCggZXZlbnQuY3VycmVudFRhcmdldCApLFxuXHRcdFx0dGFiID0gYW5jaG9yLmNsb3Nlc3QoIFwibGlcIiApLFxuXHRcdFx0Y2xpY2tlZElzQWN0aXZlID0gdGFiWyAwIF0gPT09IGFjdGl2ZVsgMCBdLFxuXHRcdFx0Y29sbGFwc2luZyA9IGNsaWNrZWRJc0FjdGl2ZSAmJiBvcHRpb25zLmNvbGxhcHNpYmxlLFxuXHRcdFx0dG9TaG93ID0gY29sbGFwc2luZyA/ICQoKSA6IHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0YWIgKSxcblx0XHRcdHRvSGlkZSA9ICFhY3RpdmUubGVuZ3RoID8gJCgpIDogdGhpcy5fZ2V0UGFuZWxGb3JUYWIoIGFjdGl2ZSApLFxuXHRcdFx0ZXZlbnREYXRhID0ge1xuXHRcdFx0XHRvbGRUYWI6IGFjdGl2ZSxcblx0XHRcdFx0b2xkUGFuZWw6IHRvSGlkZSxcblx0XHRcdFx0bmV3VGFiOiBjb2xsYXBzaW5nID8gJCgpIDogdGFiLFxuXHRcdFx0XHRuZXdQYW5lbDogdG9TaG93XG5cdFx0XHR9O1xuXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdGlmICggdGFiLmhhc0NsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKSB8fFxuXHRcdFx0XHQvLyB0YWIgaXMgYWxyZWFkeSBsb2FkaW5nXG5cdFx0XHRcdHRhYi5oYXNDbGFzcyggXCJ1aS10YWJzLWxvYWRpbmdcIiApIHx8XG5cdFx0XHRcdC8vIGNhbid0IHN3aXRjaCBkdXJuaW5nIGFuIGFuaW1hdGlvblxuXHRcdFx0XHR0aGlzLnJ1bm5pbmcgfHxcblx0XHRcdFx0Ly8gY2xpY2sgb24gYWN0aXZlIGhlYWRlciwgYnV0IG5vdCBjb2xsYXBzaWJsZVxuXHRcdFx0XHQoIGNsaWNrZWRJc0FjdGl2ZSAmJiAhb3B0aW9ucy5jb2xsYXBzaWJsZSApIHx8XG5cdFx0XHRcdC8vIGFsbG93IGNhbmNlbGluZyBhY3RpdmF0aW9uXG5cdFx0XHRcdCggdGhpcy5fdHJpZ2dlciggXCJiZWZvcmVBY3RpdmF0ZVwiLCBldmVudCwgZXZlbnREYXRhICkgPT09IGZhbHNlICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0b3B0aW9ucy5hY3RpdmUgPSBjb2xsYXBzaW5nID8gZmFsc2UgOiB0aGlzLnRhYnMuaW5kZXgoIHRhYiApO1xuXG5cdFx0dGhpcy5hY3RpdmUgPSBjbGlja2VkSXNBY3RpdmUgPyAkKCkgOiB0YWI7XG5cdFx0aWYgKCB0aGlzLnhociApIHtcblx0XHRcdHRoaXMueGhyLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhdG9IaWRlLmxlbmd0aCAmJiAhdG9TaG93Lmxlbmd0aCApIHtcblx0XHRcdCQuZXJyb3IoIFwialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuXCIgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRvU2hvdy5sZW5ndGggKSB7XG5cdFx0XHR0aGlzLmxvYWQoIHRoaXMudGFicy5pbmRleCggdGFiICksIGV2ZW50ICk7XG5cdFx0fVxuXHRcdHRoaXMuX3RvZ2dsZSggZXZlbnQsIGV2ZW50RGF0YSApO1xuXHR9LFxuXG5cdC8vIGhhbmRsZXMgc2hvdy9oaWRlIGZvciBzZWxlY3RpbmcgdGFic1xuXHRfdG9nZ2xlOiBmdW5jdGlvbiggZXZlbnQsIGV2ZW50RGF0YSApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHR0b1Nob3cgPSBldmVudERhdGEubmV3UGFuZWwsXG5cdFx0XHR0b0hpZGUgPSBldmVudERhdGEub2xkUGFuZWw7XG5cblx0XHR0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuXG5cdFx0ZnVuY3Rpb24gY29tcGxldGUoKSB7XG5cdFx0XHR0aGF0LnJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdHRoYXQuX3RyaWdnZXIoIFwiYWN0aXZhdGVcIiwgZXZlbnQsIGV2ZW50RGF0YSApO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHNob3coKSB7XG5cdFx0XHRldmVudERhdGEubmV3VGFiLmNsb3Nlc3QoIFwibGlcIiApLmFkZENsYXNzKCBcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiICk7XG5cblx0XHRcdGlmICggdG9TaG93Lmxlbmd0aCAmJiB0aGF0Lm9wdGlvbnMuc2hvdyApIHtcblx0XHRcdFx0dGhhdC5fc2hvdyggdG9TaG93LCB0aGF0Lm9wdGlvbnMuc2hvdywgY29tcGxldGUgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRvU2hvdy5zaG93KCk7XG5cdFx0XHRcdGNvbXBsZXRlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gc3RhcnQgb3V0IGJ5IGhpZGluZywgdGhlbiBzaG93aW5nLCB0aGVuIGNvbXBsZXRpbmdcblx0XHRpZiAoIHRvSGlkZS5sZW5ndGggJiYgdGhpcy5vcHRpb25zLmhpZGUgKSB7XG5cdFx0XHR0aGlzLl9oaWRlKCB0b0hpZGUsIHRoaXMub3B0aW9ucy5oaWRlLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZXZlbnREYXRhLm9sZFRhYi5jbG9zZXN0KCBcImxpXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0XHRzaG93KCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXZlbnREYXRhLm9sZFRhYi5jbG9zZXN0KCBcImxpXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiApO1xuXHRcdFx0dG9IaWRlLmhpZGUoKTtcblx0XHRcdHNob3coKTtcblx0XHR9XG5cblx0XHR0b0hpZGUuYXR0ciggXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIiApO1xuXHRcdGV2ZW50RGF0YS5vbGRUYWIuYXR0cih7XG5cdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJmYWxzZVwiLFxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIlxuXHRcdH0pO1xuXHRcdC8vIElmIHdlJ3JlIHN3aXRjaGluZyB0YWJzLCByZW1vdmUgdGhlIG9sZCB0YWIgZnJvbSB0aGUgdGFiIG9yZGVyLlxuXHRcdC8vIElmIHdlJ3JlIG9wZW5pbmcgZnJvbSBjb2xsYXBzZWQgc3RhdGUsIHJlbW92ZSB0aGUgcHJldmlvdXMgdGFiIGZyb20gdGhlIHRhYiBvcmRlci5cblx0XHQvLyBJZiB3ZSdyZSBjb2xsYXBzaW5nLCB0aGVuIGtlZXAgdGhlIGNvbGxhcHNpbmcgdGFiIGluIHRoZSB0YWIgb3JkZXIuXG5cdFx0aWYgKCB0b1Nob3cubGVuZ3RoICYmIHRvSGlkZS5sZW5ndGggKSB7XG5cdFx0XHRldmVudERhdGEub2xkVGFiLmF0dHIoIFwidGFiSW5kZXhcIiwgLTEgKTtcblx0XHR9IGVsc2UgaWYgKCB0b1Nob3cubGVuZ3RoICkge1xuXHRcdFx0dGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICQoIHRoaXMgKS5hdHRyKCBcInRhYkluZGV4XCIgKSA9PT0gMDtcblx0XHRcdH0pXG5cdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xuXHRcdH1cblxuXHRcdHRvU2hvdy5hdHRyKCBcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIiApO1xuXHRcdGV2ZW50RGF0YS5uZXdUYWIuYXR0cih7XG5cdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHRcImFyaWEtZXhwYW5kZWRcIjogXCJ0cnVlXCIsXG5cdFx0XHR0YWJJbmRleDogMFxuXHRcdH0pO1xuXHR9LFxuXG5cdF9hY3RpdmF0ZTogZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdHZhciBhbmNob3IsXG5cdFx0XHRhY3RpdmUgPSB0aGlzLl9maW5kQWN0aXZlKCBpbmRleCApO1xuXG5cdFx0Ly8gdHJ5aW5nIHRvIGFjdGl2YXRlIHRoZSBhbHJlYWR5IGFjdGl2ZSBwYW5lbFxuXHRcdGlmICggYWN0aXZlWyAwIF0gPT09IHRoaXMuYWN0aXZlWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdHJ5aW5nIHRvIGNvbGxhcHNlLCBzaW11bGF0ZSBhIGNsaWNrIG9uIHRoZSBjdXJyZW50IGFjdGl2ZSBoZWFkZXJcblx0XHRpZiAoICFhY3RpdmUubGVuZ3RoICkge1xuXHRcdFx0YWN0aXZlID0gdGhpcy5hY3RpdmU7XG5cdFx0fVxuXG5cdFx0YW5jaG9yID0gYWN0aXZlLmZpbmQoIFwiLnVpLXRhYnMtYW5jaG9yXCIgKVsgMCBdO1xuXHRcdHRoaXMuX2V2ZW50SGFuZGxlcih7XG5cdFx0XHR0YXJnZXQ6IGFuY2hvcixcblx0XHRcdGN1cnJlbnRUYXJnZXQ6IGFuY2hvcixcblx0XHRcdHByZXZlbnREZWZhdWx0OiAkLm5vb3Bcblx0XHR9KTtcblx0fSxcblxuXHRfZmluZEFjdGl2ZTogZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdHJldHVybiBpbmRleCA9PT0gZmFsc2UgPyAkKCkgOiB0aGlzLnRhYnMuZXEoIGluZGV4ICk7XG5cdH0sXG5cblx0X2dldEluZGV4OiBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0Ly8gbWV0YS1mdW5jdGlvbiB0byBnaXZlIHVzZXJzIG9wdGlvbiB0byBwcm92aWRlIGEgaHJlZiBzdHJpbmcgaW5zdGVhZCBvZiBhIG51bWVyaWNhbCBpbmRleC5cblx0XHRpZiAoIHR5cGVvZiBpbmRleCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGluZGV4ID0gdGhpcy5hbmNob3JzLmluZGV4KCB0aGlzLmFuY2hvcnMuZmlsdGVyKCBcIltocmVmJD0nXCIgKyBpbmRleCArIFwiJ11cIiApICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZGV4O1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRpZiAoIHRoaXMueGhyICkge1xuXHRcdFx0dGhpcy54aHIuYWJvcnQoKTtcblx0XHR9XG5cblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlXCIgKTtcblxuXHRcdHRoaXMudGFibGlzdFxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsXCIgKVxuXHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiICk7XG5cblx0XHR0aGlzLmFuY2hvcnNcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS10YWJzLWFuY2hvclwiIClcblx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJ0YWJJbmRleFwiIClcblx0XHRcdC5yZW1vdmVVbmlxdWVJZCgpO1xuXG5cdFx0dGhpcy50YWJsaXN0LnVuYmluZCggdGhpcy5ldmVudE5hbWVzcGFjZSApO1xuXG5cdFx0dGhpcy50YWJzLmFkZCggdGhpcy5wYW5lbHMgKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAkLmRhdGEoIHRoaXMsIFwidWktdGFicy1kZXN0cm95XCIgKSApIHtcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZSgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCggdGhpcyApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWRlZmF1bHQgdWktc3RhdGUtYWN0aXZlIHVpLXN0YXRlLWRpc2FibGVkIFwiICtcblx0XHRcdFx0XHRcdFwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWxcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwidGFiSW5kZXhcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1saXZlXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtYnVzeVwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLXNlbGVjdGVkXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtbGFiZWxsZWRieVwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWhpZGRlblwiIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWV4cGFuZGVkXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcInJvbGVcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbGkgPSAkKCB0aGlzICksXG5cdFx0XHRcdHByZXYgPSBsaS5kYXRhKCBcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiICk7XG5cdFx0XHRpZiAoIHByZXYgKSB7XG5cdFx0XHRcdGxpXG5cdFx0XHRcdFx0LmF0dHIoIFwiYXJpYS1jb250cm9sc1wiLCBwcmV2IClcblx0XHRcdFx0XHQucmVtb3ZlRGF0YSggXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGkucmVtb3ZlQXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMucGFuZWxzLnNob3coKTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhlaWdodFN0eWxlICE9PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdHRoaXMucGFuZWxzLmNzcyggXCJoZWlnaHRcIiwgXCJcIiApO1xuXHRcdH1cblx0fSxcblxuXHRlbmFibGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHR2YXIgZGlzYWJsZWQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZWQ7XG5cdFx0aWYgKCBkaXNhYmxlZCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0ZGlzYWJsZWQgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aW5kZXggPSB0aGlzLl9nZXRJbmRleCggaW5kZXggKTtcblx0XHRcdGlmICggJC5pc0FycmF5KCBkaXNhYmxlZCApICkge1xuXHRcdFx0XHRkaXNhYmxlZCA9ICQubWFwKCBkaXNhYmxlZCwgZnVuY3Rpb24oIG51bSApIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVtICE9PSBpbmRleCA/IG51bSA6IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSAkLm1hcCggdGhpcy50YWJzLCBmdW5jdGlvbiggbGksIG51bSApIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVtICE9PSBpbmRleCA/IG51bSA6IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCBkaXNhYmxlZCApO1xuXHR9LFxuXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHR2YXIgZGlzYWJsZWQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZWQ7XG5cdFx0aWYgKCBkaXNhYmxlZCA9PT0gdHJ1ZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRkaXNhYmxlZCA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluZGV4ID0gdGhpcy5fZ2V0SW5kZXgoIGluZGV4ICk7XG5cdFx0XHRpZiAoICQuaW5BcnJheSggaW5kZXgsIGRpc2FibGVkICkgIT09IC0xICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoICQuaXNBcnJheSggZGlzYWJsZWQgKSApIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSAkLm1lcmdlKCBbIGluZGV4IF0sIGRpc2FibGVkICkuc29ydCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGlzYWJsZWQgPSBbIGluZGV4IF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuX3NldHVwRGlzYWJsZWQoIGRpc2FibGVkICk7XG5cdH0sXG5cblx0bG9hZDogZnVuY3Rpb24oIGluZGV4LCBldmVudCApIHtcblx0XHRpbmRleCA9IHRoaXMuX2dldEluZGV4KCBpbmRleCApO1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHRhYiA9IHRoaXMudGFicy5lcSggaW5kZXggKSxcblx0XHRcdGFuY2hvciA9IHRhYi5maW5kKCBcIi51aS10YWJzLWFuY2hvclwiICksXG5cdFx0XHRwYW5lbCA9IHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0YWIgKSxcblx0XHRcdGV2ZW50RGF0YSA9IHtcblx0XHRcdFx0dGFiOiB0YWIsXG5cdFx0XHRcdHBhbmVsOiBwYW5lbFxuXHRcdFx0fSxcblx0XHRcdGNvbXBsZXRlID0gZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0dGhhdC5wYW5lbHMuc3RvcCggZmFsc2UsIHRydWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRhYi5yZW1vdmVDbGFzcyggXCJ1aS10YWJzLWxvYWRpbmdcIiApO1xuXHRcdFx0XHRwYW5lbC5yZW1vdmVBdHRyKCBcImFyaWEtYnVzeVwiICk7XG5cblx0XHRcdFx0aWYgKCBqcVhIUiA9PT0gdGhhdC54aHIgKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHRoYXQueGhyO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gbm90IHJlbW90ZVxuXHRcdGlmICggdGhpcy5faXNMb2NhbCggYW5jaG9yWyAwIF0gKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnhociA9ICQuYWpheCggdGhpcy5fYWpheFNldHRpbmdzKCBhbmNob3IsIGV2ZW50LCBldmVudERhdGEgKSApO1xuXG5cdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHQvLyBqUXVlcnkgPDEuOCByZXR1cm5zIGZhbHNlIGlmIHRoZSByZXF1ZXN0IGlzIGNhbmNlbGVkIGluIGJlZm9yZVNlbmQsXG5cdFx0Ly8gYnV0IGFzIG9mIDEuOCwgJC5hamF4KCkgYWx3YXlzIHJldHVybnMgYSBqcVhIUiBvYmplY3QuXG5cdFx0aWYgKCB0aGlzLnhociAmJiB0aGlzLnhoci5zdGF0dXNUZXh0ICE9PSBcImNhbmNlbGVkXCIgKSB7XG5cdFx0XHR0YWIuYWRkQ2xhc3MoIFwidWktdGFicy1sb2FkaW5nXCIgKTtcblx0XHRcdHBhbmVsLmF0dHIoIFwiYXJpYS1idXN5XCIsIFwidHJ1ZVwiICk7XG5cblx0XHRcdHRoaXMueGhyXG5cdFx0XHRcdC5kb25lKGZ1bmN0aW9uKCByZXNwb25zZSwgc3RhdHVzLCBqcVhIUiApIHtcblx0XHRcdFx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxuXHRcdFx0XHRcdC8vIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzExNzc4XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHBhbmVsLmh0bWwoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImxvYWRcIiwgZXZlbnQsIGV2ZW50RGF0YSApO1xuXG5cdFx0XHRcdFx0XHRjb21wbGV0ZSgganFYSFIsIHN0YXR1cyApO1xuXHRcdFx0XHRcdH0sIDEgKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmZhaWwoZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRcdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcblx0XHRcdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMTc3OFxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRjb21wbGV0ZSgganFYSFIsIHN0YXR1cyApO1xuXHRcdFx0XHRcdH0sIDEgKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdF9hamF4U2V0dGluZ3M6IGZ1bmN0aW9uKCBhbmNob3IsIGV2ZW50LCBldmVudERhdGEgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdHJldHVybiB7XG5cdFx0XHR1cmw6IGFuY2hvci5hdHRyKCBcImhyZWZcIiApLFxuXHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oIGpxWEhSLCBzZXR0aW5ncyApIHtcblx0XHRcdFx0cmV0dXJuIHRoYXQuX3RyaWdnZXIoIFwiYmVmb3JlTG9hZFwiLCBldmVudCxcblx0XHRcdFx0XHQkLmV4dGVuZCggeyBqcVhIUjoganFYSFIsIGFqYXhTZXR0aW5nczogc2V0dGluZ3MgfSwgZXZlbnREYXRhICkgKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9LFxuXG5cdF9nZXRQYW5lbEZvclRhYjogZnVuY3Rpb24oIHRhYiApIHtcblx0XHR2YXIgaWQgPSAkKCB0YWIgKS5hdHRyKCBcImFyaWEtY29udHJvbHNcIiApO1xuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5fc2FuaXRpemVTZWxlY3RvciggXCIjXCIgKyBpZCApICk7XG5cdH1cbn0pO1xuXG5cbi8qIVxuICogalF1ZXJ5IFVJIFRvb2x0aXAgMS4xMS40XG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90b29sdGlwL1xuICovXG5cblxudmFyIHRvb2x0aXAgPSAkLndpZGdldCggXCJ1aS50b29sdGlwXCIsIHtcblx0dmVyc2lvbjogXCIxLjExLjRcIixcblx0b3B0aW9uczoge1xuXHRcdGNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gc3VwcG9ydDogSUU8OSwgT3BlcmEgaW4galF1ZXJ5IDwxLjdcblx0XHRcdC8vIC50ZXh0KCkgY2FuJ3QgYWNjZXB0IHVuZGVmaW5lZCwgc28gY29lcmNlIHRvIGEgc3RyaW5nXG5cdFx0XHR2YXIgdGl0bGUgPSAkKCB0aGlzICkuYXR0ciggXCJ0aXRsZVwiICkgfHwgXCJcIjtcblx0XHRcdC8vIEVzY2FwZSB0aXRsZSwgc2luY2Ugd2UncmUgZ29pbmcgZnJvbSBhbiBhdHRyaWJ1dGUgdG8gcmF3IEhUTUxcblx0XHRcdHJldHVybiAkKCBcIjxhPlwiICkudGV4dCggdGl0bGUgKS5odG1sKCk7XG5cdFx0fSxcblx0XHRoaWRlOiB0cnVlLFxuXHRcdC8vIERpc2FibGVkIGVsZW1lbnRzIGhhdmUgaW5jb25zaXN0ZW50IGJlaGF2aW9yIGFjcm9zcyBicm93c2VycyAoIzg2NjEpXG5cdFx0aXRlbXM6IFwiW3RpdGxlXTpub3QoW2Rpc2FibGVkXSlcIixcblx0XHRwb3NpdGlvbjoge1xuXHRcdFx0bXk6IFwibGVmdCB0b3ArMTVcIixcblx0XHRcdGF0OiBcImxlZnQgYm90dG9tXCIsXG5cdFx0XHRjb2xsaXNpb246IFwiZmxpcGZpdCBmbGlwXCJcblx0XHR9LFxuXHRcdHNob3c6IHRydWUsXG5cdFx0dG9vbHRpcENsYXNzOiBudWxsLFxuXHRcdHRyYWNrOiBmYWxzZSxcblxuXHRcdC8vIGNhbGxiYWNrc1xuXHRcdGNsb3NlOiBudWxsLFxuXHRcdG9wZW46IG51bGxcblx0fSxcblxuXHRfYWRkRGVzY3JpYmVkQnk6IGZ1bmN0aW9uKCBlbGVtLCBpZCApIHtcblx0XHR2YXIgZGVzY3JpYmVkYnkgPSAoZWxlbS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiApIHx8IFwiXCIpLnNwbGl0KCAvXFxzKy8gKTtcblx0XHRkZXNjcmliZWRieS5wdXNoKCBpZCApO1xuXHRcdGVsZW1cblx0XHRcdC5kYXRhKCBcInVpLXRvb2x0aXAtaWRcIiwgaWQgKVxuXHRcdFx0LmF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiLCAkLnRyaW0oIGRlc2NyaWJlZGJ5LmpvaW4oIFwiIFwiICkgKSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEZXNjcmliZWRCeTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIGlkID0gZWxlbS5kYXRhKCBcInVpLXRvb2x0aXAtaWRcIiApLFxuXHRcdFx0ZGVzY3JpYmVkYnkgPSAoZWxlbS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiApIHx8IFwiXCIpLnNwbGl0KCAvXFxzKy8gKSxcblx0XHRcdGluZGV4ID0gJC5pbkFycmF5KCBpZCwgZGVzY3JpYmVkYnkgKTtcblxuXHRcdGlmICggaW5kZXggIT09IC0xICkge1xuXHRcdFx0ZGVzY3JpYmVkYnkuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdH1cblxuXHRcdGVsZW0ucmVtb3ZlRGF0YSggXCJ1aS10b29sdGlwLWlkXCIgKTtcblx0XHRkZXNjcmliZWRieSA9ICQudHJpbSggZGVzY3JpYmVkYnkuam9pbiggXCIgXCIgKSApO1xuXHRcdGlmICggZGVzY3JpYmVkYnkgKSB7XG5cdFx0XHRlbGVtLmF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiLCBkZXNjcmliZWRieSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtLnJlbW92ZUF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX29uKHtcblx0XHRcdG1vdXNlb3ZlcjogXCJvcGVuXCIsXG5cdFx0XHRmb2N1c2luOiBcIm9wZW5cIlxuXHRcdH0pO1xuXG5cdFx0Ly8gSURzIG9mIGdlbmVyYXRlZCB0b29sdGlwcywgbmVlZGVkIGZvciBkZXN0cm95XG5cdFx0dGhpcy50b29sdGlwcyA9IHt9O1xuXG5cdFx0Ly8gSURzIG9mIHBhcmVudCB0b29sdGlwcyB3aGVyZSB3ZSByZW1vdmVkIHRoZSB0aXRsZSBhdHRyaWJ1dGVcblx0XHR0aGlzLnBhcmVudHMgPSB7fTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xuXHRcdFx0dGhpcy5fZGlzYWJsZSgpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGVuZCB0aGUgYXJpYS1saXZlIHJlZ2lvbiBzbyB0b29sdGlwcyBhbm5vdW5jZSBjb3JyZWN0bHlcblx0XHR0aGlzLmxpdmVSZWdpb24gPSAkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmF0dHIoe1xuXHRcdFx0XHRyb2xlOiBcImxvZ1wiLFxuXHRcdFx0XHRcImFyaWEtbGl2ZVwiOiBcImFzc2VydGl2ZVwiLFxuXHRcdFx0XHRcImFyaWEtcmVsZXZhbnRcIjogXCJhZGRpdGlvbnNcIlxuXHRcdFx0fSlcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGVcIiApXG5cdFx0XHQuYXBwZW5kVG8oIHRoaXMuZG9jdW1lbnRbIDAgXS5ib2R5ICk7XG5cdH0sXG5cblx0X3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiZGlzYWJsZWRcIiApIHtcblx0XHRcdHRoaXNbIHZhbHVlID8gXCJfZGlzYWJsZVwiIDogXCJfZW5hYmxlXCIgXSgpO1xuXHRcdFx0dGhpcy5vcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xuXHRcdFx0Ly8gZGlzYWJsZSBlbGVtZW50IHN0eWxlIGNoYW5nZXNcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9zdXBlcigga2V5LCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBrZXkgPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0JC5lYWNoKCB0aGlzLnRvb2x0aXBzLCBmdW5jdGlvbiggaWQsIHRvb2x0aXBEYXRhICkge1xuXHRcdFx0XHR0aGF0Ll91cGRhdGVDb250ZW50KCB0b29sdGlwRGF0YS5lbGVtZW50ICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0sXG5cblx0X2Rpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblxuXHRcdC8vIGNsb3NlIG9wZW4gdG9vbHRpcHNcblx0XHQkLmVhY2goIHRoaXMudG9vbHRpcHMsIGZ1bmN0aW9uKCBpZCwgdG9vbHRpcERhdGEgKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSAkLkV2ZW50KCBcImJsdXJcIiApO1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldCA9IHRvb2x0aXBEYXRhLmVsZW1lbnRbIDAgXTtcblx0XHRcdHRoYXQuY2xvc2UoIGV2ZW50LCB0cnVlICk7XG5cdFx0fSk7XG5cblx0XHQvLyByZW1vdmUgdGl0bGUgYXR0cmlidXRlcyB0byBwcmV2ZW50IG5hdGl2ZSB0b29sdGlwc1xuXHRcdHRoaXMuZWxlbWVudC5maW5kKCB0aGlzLm9wdGlvbnMuaXRlbXMgKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlbGVtZW50ID0gJCggdGhpcyApO1xuXHRcdFx0aWYgKCBlbGVtZW50LmlzKCBcIlt0aXRsZV1cIiApICkge1xuXHRcdFx0XHRlbGVtZW50XG5cdFx0XHRcdFx0LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiLCBlbGVtZW50LmF0dHIoIFwidGl0bGVcIiApIClcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJ0aXRsZVwiICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0X2VuYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0Ly8gcmVzdG9yZSB0aXRsZSBhdHRyaWJ1dGVzXG5cdFx0dGhpcy5lbGVtZW50LmZpbmQoIHRoaXMub3B0aW9ucy5pdGVtcyApLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVsZW1lbnQgPSAkKCB0aGlzICk7XG5cdFx0XHRpZiAoIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApIHtcblx0XHRcdFx0ZWxlbWVudC5hdHRyKCBcInRpdGxlXCIsIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdG9wZW46IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHR0YXJnZXQgPSAkKCBldmVudCA/IGV2ZW50LnRhcmdldCA6IHRoaXMuZWxlbWVudCApXG5cdFx0XHRcdC8vIHdlIG5lZWQgY2xvc2VzdCBoZXJlIGR1ZSB0byBtb3VzZW92ZXIgYnViYmxpbmcsXG5cdFx0XHRcdC8vIGJ1dCBhbHdheXMgcG9pbnRpbmcgYXQgdGhlIHNhbWUgZXZlbnQgdGFyZ2V0XG5cdFx0XHRcdC5jbG9zZXN0KCB0aGlzLm9wdGlvbnMuaXRlbXMgKTtcblxuXHRcdC8vIE5vIGVsZW1lbnQgdG8gc2hvdyBhIHRvb2x0aXAgZm9yIG9yIHRoZSB0b29sdGlwIGlzIGFscmVhZHkgb3BlblxuXHRcdGlmICggIXRhcmdldC5sZW5ndGggfHwgdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC1pZFwiICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0YXJnZXQuYXR0ciggXCJ0aXRsZVwiICkgKSB7XG5cdFx0XHR0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIsIHRhcmdldC5hdHRyKCBcInRpdGxlXCIgKSApO1xuXHRcdH1cblxuXHRcdHRhcmdldC5kYXRhKCBcInVpLXRvb2x0aXAtb3BlblwiLCB0cnVlICk7XG5cblx0XHQvLyBraWxsIHBhcmVudCB0b29sdGlwcywgY3VzdG9tIG9yIG5hdGl2ZSwgZm9yIGhvdmVyXG5cdFx0aWYgKCBldmVudCAmJiBldmVudC50eXBlID09PSBcIm1vdXNlb3ZlclwiICkge1xuXHRcdFx0dGFyZ2V0LnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcGFyZW50ID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGJsdXJFdmVudDtcblx0XHRcdFx0aWYgKCBwYXJlbnQuZGF0YSggXCJ1aS10b29sdGlwLW9wZW5cIiApICkge1xuXHRcdFx0XHRcdGJsdXJFdmVudCA9ICQuRXZlbnQoIFwiYmx1clwiICk7XG5cdFx0XHRcdFx0Ymx1ckV2ZW50LnRhcmdldCA9IGJsdXJFdmVudC5jdXJyZW50VGFyZ2V0ID0gdGhpcztcblx0XHRcdFx0XHR0aGF0LmNsb3NlKCBibHVyRXZlbnQsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHBhcmVudC5hdHRyKCBcInRpdGxlXCIgKSApIHtcblx0XHRcdFx0XHRwYXJlbnQudW5pcXVlSWQoKTtcblx0XHRcdFx0XHR0aGF0LnBhcmVudHNbIHRoaXMuaWQgXSA9IHtcblx0XHRcdFx0XHRcdGVsZW1lbnQ6IHRoaXMsXG5cdFx0XHRcdFx0XHR0aXRsZTogcGFyZW50LmF0dHIoIFwidGl0bGVcIiApXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRwYXJlbnQuYXR0ciggXCJ0aXRsZVwiLCBcIlwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuX3JlZ2lzdGVyQ2xvc2VIYW5kbGVycyggZXZlbnQsIHRhcmdldCApO1xuXHRcdHRoaXMuX3VwZGF0ZUNvbnRlbnQoIHRhcmdldCwgZXZlbnQgKTtcblx0fSxcblxuXHRfdXBkYXRlQ29udGVudDogZnVuY3Rpb24oIHRhcmdldCwgZXZlbnQgKSB7XG5cdFx0dmFyIGNvbnRlbnQsXG5cdFx0XHRjb250ZW50T3B0aW9uID0gdGhpcy5vcHRpb25zLmNvbnRlbnQsXG5cdFx0XHR0aGF0ID0gdGhpcyxcblx0XHRcdGV2ZW50VHlwZSA9IGV2ZW50ID8gZXZlbnQudHlwZSA6IG51bGw7XG5cblx0XHRpZiAoIHR5cGVvZiBjb250ZW50T3B0aW9uID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX29wZW4oIGV2ZW50LCB0YXJnZXQsIGNvbnRlbnRPcHRpb24gKTtcblx0XHR9XG5cblx0XHRjb250ZW50ID0gY29udGVudE9wdGlvbi5jYWxsKCB0YXJnZXRbMF0sIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblxuXHRcdFx0Ly8gSUUgbWF5IGluc3RhbnRseSBzZXJ2ZSBhIGNhY2hlZCByZXNwb25zZSBmb3IgYWpheCByZXF1ZXN0c1xuXHRcdFx0Ly8gZGVsYXkgdGhpcyBjYWxsIHRvIF9vcGVuIHNvIHRoZSBvdGhlciBjYWxsIHRvIF9vcGVuIHJ1bnMgZmlyc3Rcblx0XHRcdHRoYXQuX2RlbGF5KGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhc3luYyByZXNwb25zZSBpZiB0b29sdGlwIHdhcyBjbG9zZWQgYWxyZWFkeVxuXHRcdFx0XHRpZiAoICF0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLW9wZW5cIiApICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGpRdWVyeSBjcmVhdGVzIGEgc3BlY2lhbCBldmVudCBmb3IgZm9jdXNpbiB3aGVuIGl0IGRvZXNuJ3Rcblx0XHRcdFx0Ly8gZXhpc3QgbmF0aXZlbHkuIFRvIGltcHJvdmUgcGVyZm9ybWFuY2UsIHRoZSBuYXRpdmUgZXZlbnRcblx0XHRcdFx0Ly8gb2JqZWN0IGlzIHJldXNlZCBhbmQgdGhlIHR5cGUgaXMgY2hhbmdlZC4gVGhlcmVmb3JlLCB3ZSBjYW4ndFxuXHRcdFx0XHQvLyByZWx5IG9uIHRoZSB0eXBlIGJlaW5nIGNvcnJlY3QgYWZ0ZXIgdGhlIGV2ZW50IGZpbmlzaGVkXG5cdFx0XHRcdC8vIGJ1YmJsaW5nLCBzbyB3ZSBzZXQgaXQgYmFjayB0byB0aGUgcHJldmlvdXMgdmFsdWUuICgjODc0MClcblx0XHRcdFx0aWYgKCBldmVudCApIHtcblx0XHRcdFx0XHRldmVudC50eXBlID0gZXZlbnRUeXBlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuX29wZW4oIGV2ZW50LCB0YXJnZXQsIHJlc3BvbnNlICk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRpZiAoIGNvbnRlbnQgKSB7XG5cdFx0XHR0aGlzLl9vcGVuKCBldmVudCwgdGFyZ2V0LCBjb250ZW50ICk7XG5cdFx0fVxuXHR9LFxuXG5cdF9vcGVuOiBmdW5jdGlvbiggZXZlbnQsIHRhcmdldCwgY29udGVudCApIHtcblx0XHR2YXIgdG9vbHRpcERhdGEsIHRvb2x0aXAsIGRlbGF5ZWRTaG93LCBhMTF5Q29udGVudCxcblx0XHRcdHBvc2l0aW9uT3B0aW9uID0gJC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKTtcblxuXHRcdGlmICggIWNvbnRlbnQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gQ29udGVudCBjYW4gYmUgdXBkYXRlZCBtdWx0aXBsZSB0aW1lcy4gSWYgdGhlIHRvb2x0aXAgYWxyZWFkeVxuXHRcdC8vIGV4aXN0cywgdGhlbiBqdXN0IHVwZGF0ZSB0aGUgY29udGVudCBhbmQgYmFpbC5cblx0XHR0b29sdGlwRGF0YSA9IHRoaXMuX2ZpbmQoIHRhcmdldCApO1xuXHRcdGlmICggdG9vbHRpcERhdGEgKSB7XG5cdFx0XHR0b29sdGlwRGF0YS50b29sdGlwLmZpbmQoIFwiLnVpLXRvb2x0aXAtY29udGVudFwiICkuaHRtbCggY29udGVudCApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGlmIHdlIGhhdmUgYSB0aXRsZSwgY2xlYXIgaXQgdG8gcHJldmVudCB0aGUgbmF0aXZlIHRvb2x0aXBcblx0XHQvLyB3ZSBoYXZlIHRvIGNoZWNrIGZpcnN0IHRvIGF2b2lkIGRlZmluaW5nIGEgdGl0bGUgaWYgbm9uZSBleGlzdHNcblx0XHQvLyAod2UgZG9uJ3Qgd2FudCB0byBjYXVzZSBhbiBlbGVtZW50IHRvIHN0YXJ0IG1hdGNoaW5nIFt0aXRsZV0pXG5cdFx0Ly9cblx0XHQvLyBXZSB1c2UgcmVtb3ZlQXR0ciBvbmx5IGZvciBrZXkgZXZlbnRzLCB0byBhbGxvdyBJRSB0byBleHBvcnQgdGhlIGNvcnJlY3Rcblx0XHQvLyBhY2Nlc3NpYmxlIGF0dHJpYnV0ZXMuIEZvciBtb3VzZSBldmVudHMsIHNldCB0byBlbXB0eSBzdHJpbmcgdG8gYXZvaWRcblx0XHQvLyBuYXRpdmUgdG9vbHRpcCBzaG93aW5nIHVwIChoYXBwZW5zIG9ubHkgd2hlbiByZW1vdmluZyBpbnNpZGUgbW91c2VvdmVyKS5cblx0XHRpZiAoIHRhcmdldC5pcyggXCJbdGl0bGVdXCIgKSApIHtcblx0XHRcdGlmICggZXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gXCJtb3VzZW92ZXJcIiApIHtcblx0XHRcdFx0dGFyZ2V0LmF0dHIoIFwidGl0bGVcIiwgXCJcIiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGFyZ2V0LnJlbW92ZUF0dHIoIFwidGl0bGVcIiApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRvb2x0aXBEYXRhID0gdGhpcy5fdG9vbHRpcCggdGFyZ2V0ICk7XG5cdFx0dG9vbHRpcCA9IHRvb2x0aXBEYXRhLnRvb2x0aXA7XG5cdFx0dGhpcy5fYWRkRGVzY3JpYmVkQnkoIHRhcmdldCwgdG9vbHRpcC5hdHRyKCBcImlkXCIgKSApO1xuXHRcdHRvb2x0aXAuZmluZCggXCIudWktdG9vbHRpcC1jb250ZW50XCIgKS5odG1sKCBjb250ZW50ICk7XG5cblx0XHQvLyBTdXBwb3J0OiBWb2ljZW92ZXIgb24gT1MgWCwgSkFXUyBvbiBJRSA8PSA5XG5cdFx0Ly8gSkFXUyBhbm5vdW5jZXMgZGVsZXRpb25zIGV2ZW4gd2hlbiBhcmlhLXJlbGV2YW50PVwiYWRkaXRpb25zXCJcblx0XHQvLyBWb2ljZW92ZXIgd2lsbCBzb21ldGltZXMgcmUtcmVhZCB0aGUgZW50aXJlIGxvZyByZWdpb24ncyBjb250ZW50cyBmcm9tIHRoZSBiZWdpbm5pbmdcblx0XHR0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0aWYgKCBjb250ZW50LmNsb25lICkge1xuXHRcdFx0YTExeUNvbnRlbnQgPSBjb250ZW50LmNsb25lKCk7XG5cdFx0XHRhMTF5Q29udGVudC5yZW1vdmVBdHRyKCBcImlkXCIgKS5maW5kKCBcIltpZF1cIiApLnJlbW92ZUF0dHIoIFwiaWRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhMTF5Q29udGVudCA9IGNvbnRlbnQ7XG5cdFx0fVxuXHRcdCQoIFwiPGRpdj5cIiApLmh0bWwoIGExMXlDb250ZW50ICkuYXBwZW5kVG8oIHRoaXMubGl2ZVJlZ2lvbiApO1xuXG5cdFx0ZnVuY3Rpb24gcG9zaXRpb24oIGV2ZW50ICkge1xuXHRcdFx0cG9zaXRpb25PcHRpb24ub2YgPSBldmVudDtcblx0XHRcdGlmICggdG9vbHRpcC5pcyggXCI6aGlkZGVuXCIgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dG9vbHRpcC5wb3NpdGlvbiggcG9zaXRpb25PcHRpb24gKTtcblx0XHR9XG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMudHJhY2sgJiYgZXZlbnQgJiYgL15tb3VzZS8udGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHtcblx0XHRcdFx0bW91c2Vtb3ZlOiBwb3NpdGlvblxuXHRcdFx0fSk7XG5cdFx0XHQvLyB0cmlnZ2VyIG9uY2UgdG8gb3ZlcnJpZGUgZWxlbWVudC1yZWxhdGl2ZSBwb3NpdGlvbmluZ1xuXHRcdFx0cG9zaXRpb24oIGV2ZW50ICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRvb2x0aXAucG9zaXRpb24oICQuZXh0ZW5kKHtcblx0XHRcdFx0b2Y6IHRhcmdldFxuXHRcdFx0fSwgdGhpcy5vcHRpb25zLnBvc2l0aW9uICkgKTtcblx0XHR9XG5cblx0XHR0b29sdGlwLmhpZGUoKTtcblxuXHRcdHRoaXMuX3Nob3coIHRvb2x0aXAsIHRoaXMub3B0aW9ucy5zaG93ICk7XG5cdFx0Ly8gSGFuZGxlIHRyYWNraW5nIHRvb2x0aXBzIHRoYXQgYXJlIHNob3duIHdpdGggYSBkZWxheSAoIzg2NDQpLiBBcyBzb29uXG5cdFx0Ly8gYXMgdGhlIHRvb2x0aXAgaXMgdmlzaWJsZSwgcG9zaXRpb24gdGhlIHRvb2x0aXAgdXNpbmcgdGhlIG1vc3QgcmVjZW50XG5cdFx0Ly8gZXZlbnQuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc2hvdyAmJiB0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSApIHtcblx0XHRcdGRlbGF5ZWRTaG93ID0gdGhpcy5kZWxheWVkU2hvdyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRvb2x0aXAuaXMoIFwiOnZpc2libGVcIiApICkge1xuXHRcdFx0XHRcdHBvc2l0aW9uKCBwb3NpdGlvbk9wdGlvbi5vZiApO1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoIGRlbGF5ZWRTaG93ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sICQuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cblx0XHR0aGlzLl90cmlnZ2VyKCBcIm9wZW5cIiwgZXZlbnQsIHsgdG9vbHRpcDogdG9vbHRpcCB9ICk7XG5cdH0sXG5cblx0X3JlZ2lzdGVyQ2xvc2VIYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCB0YXJnZXQgKSB7XG5cdFx0dmFyIGV2ZW50cyA9IHtcblx0XHRcdGtleXVwOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVTQ0FQRSApIHtcblx0XHRcdFx0XHR2YXIgZmFrZUV2ZW50ID0gJC5FdmVudChldmVudCk7XG5cdFx0XHRcdFx0ZmFrZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSB0YXJnZXRbMF07XG5cdFx0XHRcdFx0dGhpcy5jbG9zZSggZmFrZUV2ZW50LCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gT25seSBiaW5kIHJlbW92ZSBoYW5kbGVyIGZvciBkZWxlZ2F0ZWQgdGFyZ2V0cy4gTm9uLWRlbGVnYXRlZFxuXHRcdC8vIHRvb2x0aXBzIHdpbGwgaGFuZGxlIHRoaXMgaW4gZGVzdHJveS5cblx0XHRpZiAoIHRhcmdldFsgMCBdICE9PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdGV2ZW50cy5yZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlVG9vbHRpcCggdGhpcy5fZmluZCggdGFyZ2V0ICkudG9vbHRpcCApO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoICFldmVudCB8fCBldmVudC50eXBlID09PSBcIm1vdXNlb3ZlclwiICkge1xuXHRcdFx0ZXZlbnRzLm1vdXNlbGVhdmUgPSBcImNsb3NlXCI7XG5cdFx0fVxuXHRcdGlmICggIWV2ZW50IHx8IGV2ZW50LnR5cGUgPT09IFwiZm9jdXNpblwiICkge1xuXHRcdFx0ZXZlbnRzLmZvY3Vzb3V0ID0gXCJjbG9zZVwiO1xuXHRcdH1cblx0XHR0aGlzLl9vbiggdHJ1ZSwgdGFyZ2V0LCBldmVudHMgKTtcblx0fSxcblxuXHRjbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdHZhciB0b29sdGlwLFxuXHRcdFx0dGhhdCA9IHRoaXMsXG5cdFx0XHR0YXJnZXQgPSAkKCBldmVudCA/IGV2ZW50LmN1cnJlbnRUYXJnZXQgOiB0aGlzLmVsZW1lbnQgKSxcblx0XHRcdHRvb2x0aXBEYXRhID0gdGhpcy5fZmluZCggdGFyZ2V0ICk7XG5cblx0XHQvLyBUaGUgdG9vbHRpcCBtYXkgYWxyZWFkeSBiZSBjbG9zZWRcblx0XHRpZiAoICF0b29sdGlwRGF0YSApIHtcblxuXHRcdFx0Ly8gV2Ugc2V0IHVpLXRvb2x0aXAtb3BlbiBpbW1lZGlhdGVseSB1cG9uIG9wZW4gKGluIG9wZW4oKSksIGJ1dCBvbmx5IHNldCB0aGVcblx0XHRcdC8vIGFkZGl0aW9uYWwgZGF0YSBvbmNlIHRoZXJlJ3MgYWN0dWFsbHkgY29udGVudCB0byBzaG93IChpbiBfb3BlbigpKS4gU28gZXZlbiBpZiB0aGVcblx0XHRcdC8vIHRvb2x0aXAgZG9lc24ndCBoYXZlIGZ1bGwgZGF0YSwgd2UgYWx3YXlzIHJlbW92ZSB1aS10b29sdGlwLW9wZW4gaW4gY2FzZSB3ZSdyZSBpblxuXHRcdFx0Ly8gdGhlIHBlcmlvZCBiZXR3ZWVuIG9wZW4oKSBhbmQgX29wZW4oKS5cblx0XHRcdHRhcmdldC5yZW1vdmVEYXRhKCBcInVpLXRvb2x0aXAtb3BlblwiICk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dG9vbHRpcCA9IHRvb2x0aXBEYXRhLnRvb2x0aXA7XG5cblx0XHQvLyBkaXNhYmxpbmcgY2xvc2VzIHRoZSB0b29sdGlwLCBzbyB3ZSBuZWVkIHRvIHRyYWNrIHdoZW4gd2UncmUgY2xvc2luZ1xuXHRcdC8vIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AgaW4gY2FzZSB0aGUgdG9vbHRpcCBiZWNvbWVzIGRpc2FibGVkIG9uIGNsb3NlXG5cdFx0aWYgKCB0b29sdGlwRGF0YS5jbG9zaW5nICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENsZWFyIHRoZSBpbnRlcnZhbCBmb3IgZGVsYXllZCB0cmFja2luZyB0b29sdGlwc1xuXHRcdGNsZWFySW50ZXJ2YWwoIHRoaXMuZGVsYXllZFNob3cgKTtcblxuXHRcdC8vIG9ubHkgc2V0IHRpdGxlIGlmIHdlIGhhZCBvbmUgYmVmb3JlIChzZWUgY29tbWVudCBpbiBfb3BlbigpKVxuXHRcdC8vIElmIHRoZSB0aXRsZSBhdHRyaWJ1dGUgaGFzIGNoYW5nZWQgc2luY2Ugb3BlbigpLCBkb24ndCByZXN0b3JlXG5cdFx0aWYgKCB0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSAmJiAhdGFyZ2V0LmF0dHIoIFwidGl0bGVcIiApICkge1xuXHRcdFx0dGFyZ2V0LmF0dHIoIFwidGl0bGVcIiwgdGFyZ2V0LmRhdGEoIFwidWktdG9vbHRpcC10aXRsZVwiICkgKTtcblx0XHR9XG5cblx0XHR0aGlzLl9yZW1vdmVEZXNjcmliZWRCeSggdGFyZ2V0ICk7XG5cblx0XHR0b29sdGlwRGF0YS5oaWRpbmcgPSB0cnVlO1xuXHRcdHRvb2x0aXAuc3RvcCggdHJ1ZSApO1xuXHRcdHRoaXMuX2hpZGUoIHRvb2x0aXAsIHRoaXMub3B0aW9ucy5oaWRlLCBmdW5jdGlvbigpIHtcblx0XHRcdHRoYXQuX3JlbW92ZVRvb2x0aXAoICQoIHRoaXMgKSApO1xuXHRcdH0pO1xuXG5cdFx0dGFyZ2V0LnJlbW92ZURhdGEoIFwidWktdG9vbHRpcC1vcGVuXCIgKTtcblx0XHR0aGlzLl9vZmYoIHRhcmdldCwgXCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwXCIgKTtcblxuXHRcdC8vIFJlbW92ZSAncmVtb3ZlJyBiaW5kaW5nIG9ubHkgb24gZGVsZWdhdGVkIHRhcmdldHNcblx0XHRpZiAoIHRhcmdldFsgMCBdICE9PSB0aGlzLmVsZW1lbnRbIDAgXSApIHtcblx0XHRcdHRoaXMuX29mZiggdGFyZ2V0LCBcInJlbW92ZVwiICk7XG5cdFx0fVxuXHRcdHRoaXMuX29mZiggdGhpcy5kb2N1bWVudCwgXCJtb3VzZW1vdmVcIiApO1xuXG5cdFx0aWYgKCBldmVudCAmJiBldmVudC50eXBlID09PSBcIm1vdXNlbGVhdmVcIiApIHtcblx0XHRcdCQuZWFjaCggdGhpcy5wYXJlbnRzLCBmdW5jdGlvbiggaWQsIHBhcmVudCApIHtcblx0XHRcdFx0JCggcGFyZW50LmVsZW1lbnQgKS5hdHRyKCBcInRpdGxlXCIsIHBhcmVudC50aXRsZSApO1xuXHRcdFx0XHRkZWxldGUgdGhhdC5wYXJlbnRzWyBpZCBdO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0dG9vbHRpcERhdGEuY2xvc2luZyA9IHRydWU7XG5cdFx0dGhpcy5fdHJpZ2dlciggXCJjbG9zZVwiLCBldmVudCwgeyB0b29sdGlwOiB0b29sdGlwIH0gKTtcblx0XHRpZiAoICF0b29sdGlwRGF0YS5oaWRpbmcgKSB7XG5cdFx0XHR0b29sdGlwRGF0YS5jbG9zaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9LFxuXG5cdF90b29sdGlwOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHR2YXIgdG9vbHRpcCA9ICQoIFwiPGRpdj5cIiApXG5cdFx0XHRcdC5hdHRyKCBcInJvbGVcIiwgXCJ0b29sdGlwXCIgKVxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktdG9vbHRpcCB1aS13aWRnZXQgdWktY29ybmVyLWFsbCB1aS13aWRnZXQtY29udGVudCBcIiArXG5cdFx0XHRcdFx0KCB0aGlzLm9wdGlvbnMudG9vbHRpcENsYXNzIHx8IFwiXCIgKSApLFxuXHRcdFx0aWQgPSB0b29sdGlwLnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICk7XG5cblx0XHQkKCBcIjxkaXY+XCIgKVxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRvb2x0aXAtY29udGVudFwiIClcblx0XHRcdC5hcHBlbmRUbyggdG9vbHRpcCApO1xuXG5cdFx0dG9vbHRpcC5hcHBlbmRUbyggdGhpcy5kb2N1bWVudFswXS5ib2R5ICk7XG5cblx0XHRyZXR1cm4gdGhpcy50b29sdGlwc1sgaWQgXSA9IHtcblx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXG5cdFx0XHR0b29sdGlwOiB0b29sdGlwXG5cdFx0fTtcblx0fSxcblxuXHRfZmluZDogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgaWQgPSB0YXJnZXQuZGF0YSggXCJ1aS10b29sdGlwLWlkXCIgKTtcblx0XHRyZXR1cm4gaWQgPyB0aGlzLnRvb2x0aXBzWyBpZCBdIDogbnVsbDtcblx0fSxcblxuXHRfcmVtb3ZlVG9vbHRpcDogZnVuY3Rpb24oIHRvb2x0aXAgKSB7XG5cdFx0dG9vbHRpcC5yZW1vdmUoKTtcblx0XHRkZWxldGUgdGhpcy50b29sdGlwc1sgdG9vbHRpcC5hdHRyKCBcImlkXCIgKSBdO1xuXHR9LFxuXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHQvLyBjbG9zZSBvcGVuIHRvb2x0aXBzXG5cdFx0JC5lYWNoKCB0aGlzLnRvb2x0aXBzLCBmdW5jdGlvbiggaWQsIHRvb2x0aXBEYXRhICkge1xuXHRcdFx0Ly8gRGVsZWdhdGUgdG8gY2xvc2UgbWV0aG9kIHRvIGhhbmRsZSBjb21tb24gY2xlYW51cFxuXHRcdFx0dmFyIGV2ZW50ID0gJC5FdmVudCggXCJibHVyXCIgKSxcblx0XHRcdFx0ZWxlbWVudCA9IHRvb2x0aXBEYXRhLmVsZW1lbnQ7XG5cdFx0XHRldmVudC50YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudFsgMCBdO1xuXHRcdFx0dGhhdC5jbG9zZSggZXZlbnQsIHRydWUgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGltbWVkaWF0ZWx5OyBkZXN0cm95aW5nIGFuIG9wZW4gdG9vbHRpcCBkb2Vzbid0IHVzZSB0aGVcblx0XHRcdC8vIGhpZGUgYW5pbWF0aW9uXG5cdFx0XHQkKCBcIiNcIiArIGlkICkucmVtb3ZlKCk7XG5cblx0XHRcdC8vIFJlc3RvcmUgdGhlIHRpdGxlXG5cdFx0XHRpZiAoIGVsZW1lbnQuZGF0YSggXCJ1aS10b29sdGlwLXRpdGxlXCIgKSApIHtcblx0XHRcdFx0Ly8gSWYgdGhlIHRpdGxlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBvcGVuKCksIGRvbid0IHJlc3RvcmVcblx0XHRcdFx0aWYgKCAhZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKSApIHtcblx0XHRcdFx0XHRlbGVtZW50LmF0dHIoIFwidGl0bGVcIiwgZWxlbWVudC5kYXRhKCBcInVpLXRvb2x0aXAtdGl0bGVcIiApICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxlbWVudC5yZW1vdmVEYXRhKCBcInVpLXRvb2x0aXAtdGl0bGVcIiApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKTtcblx0fVxufSk7XG5cblxuXG59KSk7XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzZfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfN19fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzlfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTBfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTFfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTJfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTNfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzJfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzVfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF83X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfN19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzhfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzlfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF85X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEwX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xM19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEzX19fKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgXCIvKiEgalF1ZXJ5IFVJIC0gdjEuMTEuNCAtIDIwMTUtMDMtMTFcXG4qIGh0dHA6Ly9qcXVlcnl1aS5jb21cXG4qIEluY2x1ZGVzOiBjb3JlLmNzcywgYWNjb3JkaW9uLmNzcywgYXV0b2NvbXBsZXRlLmNzcywgYnV0dG9uLmNzcywgZGF0ZXBpY2tlci5jc3MsIGRpYWxvZy5jc3MsIGRyYWdnYWJsZS5jc3MsIG1lbnUuY3NzLCBwcm9ncmVzc2Jhci5jc3MsIHJlc2l6YWJsZS5jc3MsIHNlbGVjdGFibGUuY3NzLCBzZWxlY3RtZW51LmNzcywgc2xpZGVyLmNzcywgc29ydGFibGUuY3NzLCBzcGlubmVyLmNzcywgdGFicy5jc3MsIHRvb2x0aXAuY3NzLCB0aGVtZS5jc3NcXG4qIFRvIHZpZXcgYW5kIG1vZGlmeSB0aGlzIHRoZW1lLCB2aXNpdCBodHRwOi8vanF1ZXJ5dWkuY29tL3RoZW1lcm9sbGVyLz9mZkRlZmF1bHQ9VHJlYnVjaGV0JTIwTVMlMkNUYWhvbWElMkNWZXJkYW5hJTJDQXJpYWwlMkNzYW5zLXNlcmlmJmZ3RGVmYXVsdD1ib2xkJmZzRGVmYXVsdD0xLjFlbSZjb3JuZXJSYWRpdXM9NHB4JmJnQ29sb3JIZWFkZXI9ZjZhODI4JmJnVGV4dHVyZUhlYWRlcj1nbG9zc193YXZlJmJnSW1nT3BhY2l0eUhlYWRlcj0zNSZib3JkZXJDb2xvckhlYWRlcj1lNzhmMDgmZmNIZWFkZXI9ZmZmZmZmJmljb25Db2xvckhlYWRlcj1mZmZmZmYmYmdDb2xvckNvbnRlbnQ9ZWVlZWVlJmJnVGV4dHVyZUNvbnRlbnQ9aGlnaGxpZ2h0X3NvZnQmYmdJbWdPcGFjaXR5Q29udGVudD0xMDAmYm9yZGVyQ29sb3JDb250ZW50PWRkZGRkZCZmY0NvbnRlbnQ9MzMzMzMzJmljb25Db2xvckNvbnRlbnQ9MjIyMjIyJmJnQ29sb3JEZWZhdWx0PWY2ZjZmNiZiZ1RleHR1cmVEZWZhdWx0PWdsYXNzJmJnSW1nT3BhY2l0eURlZmF1bHQ9MTAwJmJvcmRlckNvbG9yRGVmYXVsdD1jY2NjY2MmZmNEZWZhdWx0PTFjOTRjNCZpY29uQ29sb3JEZWZhdWx0PWVmOGMwOCZiZ0NvbG9ySG92ZXI9ZmRmNWNlJmJnVGV4dHVyZUhvdmVyPWdsYXNzJmJnSW1nT3BhY2l0eUhvdmVyPTEwMCZib3JkZXJDb2xvckhvdmVyPWZiY2IwOSZmY0hvdmVyPWM3NzQwNSZpY29uQ29sb3JIb3Zlcj1lZjhjMDgmYmdDb2xvckFjdGl2ZT1mZmZmZmYmYmdUZXh0dXJlQWN0aXZlPWdsYXNzJmJnSW1nT3BhY2l0eUFjdGl2ZT02NSZib3JkZXJDb2xvckFjdGl2ZT1mYmQ4NTAmZmNBY3RpdmU9ZWI4ZjAwJmljb25Db2xvckFjdGl2ZT1lZjhjMDgmYmdDb2xvckhpZ2hsaWdodD1mZmU0NWMmYmdUZXh0dXJlSGlnaGxpZ2h0PWhpZ2hsaWdodF9zb2Z0JmJnSW1nT3BhY2l0eUhpZ2hsaWdodD03NSZib3JkZXJDb2xvckhpZ2hsaWdodD1mZWQyMmYmZmNIaWdobGlnaHQ9MzYzNjM2Jmljb25Db2xvckhpZ2hsaWdodD0yMjhlZjEmYmdDb2xvckVycm9yPWI4MTkwMCZiZ1RleHR1cmVFcnJvcj1kaWFnb25hbHNfdGhpY2smYmdJbWdPcGFjaXR5RXJyb3I9MTgmYm9yZGVyQ29sb3JFcnJvcj1jZDBhMGEmZmNFcnJvcj1mZmZmZmYmaWNvbkNvbG9yRXJyb3I9ZmZkMjdhJmJnQ29sb3JPdmVybGF5PTY2NjY2NiZiZ1RleHR1cmVPdmVybGF5PWRpYWdvbmFsc190aGljayZiZ0ltZ09wYWNpdHlPdmVybGF5PTIwJm9wYWNpdHlPdmVybGF5PTUwJmJnQ29sb3JTaGFkb3c9MDAwMDAwJmJnVGV4dHVyZVNoYWRvdz1mbGF0JmJnSW1nT3BhY2l0eVNoYWRvdz0xMCZvcGFjaXR5U2hhZG93PTIwJnRoaWNrbmVzc1NoYWRvdz01cHgmb2Zmc2V0VG9wU2hhZG93PS01cHgmb2Zmc2V0TGVmdFNoYWRvdz0tNXB4JmNvcm5lclJhZGl1c1NoYWRvdz01cHhcXG4qIENvcHlyaWdodCAyMDE1IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqL1xcblxcbi8qIExheW91dCBoZWxwZXJzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLWhlbHBlci1oaWRkZW4ge1xcblxcdGRpc3BsYXk6IG5vbmU7XFxufVxcbi51aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUge1xcblxcdGJvcmRlcjogMDtcXG5cXHRjbGlwOiByZWN0KDAgMCAwIDApO1xcblxcdGhlaWdodDogMXB4O1xcblxcdG1hcmdpbjogLTFweDtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHdpZHRoOiAxcHg7XFxufVxcbi51aS1oZWxwZXItcmVzZXQge1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdGJvcmRlcjogMDtcXG5cXHRvdXRsaW5lOiAwO1xcblxcdGxpbmUtaGVpZ2h0OiAxLjM7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcblxcdGZvbnQtc2l6ZTogMTAwJTtcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcbn1cXG4udWktaGVscGVyLWNsZWFyZml4OmJlZm9yZSxcXG4udWktaGVscGVyLWNsZWFyZml4OmFmdGVyIHtcXG5cXHRjb250ZW50OiBcXFwiXFxcIjtcXG5cXHRkaXNwbGF5OiB0YWJsZTtcXG5cXHRib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbn1cXG4udWktaGVscGVyLWNsZWFyZml4OmFmdGVyIHtcXG5cXHRjbGVhcjogYm90aDtcXG59XFxuLnVpLWhlbHBlci1jbGVhcmZpeCB7XFxuXFx0bWluLWhlaWdodDogMDsgLyogc3VwcG9ydDogSUU3ICovXFxufVxcbi51aS1oZWxwZXItemZpeCB7XFxuXFx0d2lkdGg6IDEwMCU7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcblxcdHRvcDogMDtcXG5cXHRsZWZ0OiAwO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRvcGFjaXR5OiAwO1xcblxcdGZpbHRlcjpBbHBoYShPcGFjaXR5PTApOyAvKiBzdXBwb3J0OiBJRTggKi9cXG59XFxuXFxuLnVpLWZyb250IHtcXG5cXHR6LWluZGV4OiAxMDA7XFxufVxcblxcblxcbi8qIEludGVyYWN0aW9uIEN1ZXNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktc3RhdGUtZGlzYWJsZWQge1xcblxcdGN1cnNvcjogZGVmYXVsdCAhaW1wb3J0YW50O1xcbn1cXG5cXG5cXG4vKiBJY29uc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qIHN0YXRlcyBhbmQgaW1hZ2VzICovXFxuLnVpLWljb24ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdHRleHQtaW5kZW50OiAtOTk5OTlweDtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxufVxcblxcblxcbi8qIE1pc2MgdmlzdWFsc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qIE92ZXJsYXlzICovXFxuLnVpLXdpZGdldC1vdmVybGF5IHtcXG5cXHRwb3NpdGlvbjogZml4ZWQ7XFxuXFx0dG9wOiAwO1xcblxcdGxlZnQ6IDA7XFxuXFx0d2lkdGg6IDEwMCU7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcbn1cXG4udWktYWNjb3JkaW9uIC51aS1hY2NvcmRpb24taGVhZGVyIHtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHRjdXJzb3I6IHBvaW50ZXI7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdG1hcmdpbjogMnB4IDAgMCAwO1xcblxcdHBhZGRpbmc6IC41ZW0gLjVlbSAuNWVtIC43ZW07XFxuXFx0bWluLWhlaWdodDogMDsgLyogc3VwcG9ydDogSUU3ICovXFxuXFx0Zm9udC1zaXplOiAxMDAlO1xcbn1cXG4udWktYWNjb3JkaW9uIC51aS1hY2NvcmRpb24taWNvbnMge1xcblxcdHBhZGRpbmctbGVmdDogMi4yZW07XFxufVxcbi51aS1hY2NvcmRpb24gLnVpLWFjY29yZGlvbi1pY29ucyAudWktYWNjb3JkaW9uLWljb25zIHtcXG5cXHRwYWRkaW5nLWxlZnQ6IDIuMmVtO1xcbn1cXG4udWktYWNjb3JkaW9uIC51aS1hY2NvcmRpb24taGVhZGVyIC51aS1hY2NvcmRpb24taGVhZGVyLWljb24ge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRsZWZ0OiAuNWVtO1xcblxcdHRvcDogNTAlO1xcblxcdG1hcmdpbi10b3A6IC04cHg7XFxufVxcbi51aS1hY2NvcmRpb24gLnVpLWFjY29yZGlvbi1jb250ZW50IHtcXG5cXHRwYWRkaW5nOiAxZW0gMi4yZW07XFxuXFx0Ym9yZGVyLXRvcDogMDtcXG5cXHRvdmVyZmxvdzogYXV0bztcXG59XFxuLnVpLWF1dG9jb21wbGV0ZSB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHRvcDogMDtcXG5cXHRsZWZ0OiAwO1xcblxcdGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLnVpLWJ1dHRvbiB7XFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdGxpbmUtaGVpZ2h0OiBub3JtYWw7XFxuXFx0bWFyZ2luLXJpZ2h0OiAuMWVtO1xcblxcdGN1cnNvcjogcG9pbnRlcjtcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcblxcdHRleHQtYWxpZ246IGNlbnRlcjtcXG5cXHRvdmVyZmxvdzogdmlzaWJsZTsgLyogcmVtb3ZlcyBleHRyYSB3aWR0aCBpbiBJRSAqL1xcbn1cXG4udWktYnV0dG9uLFxcbi51aS1idXR0b246bGluayxcXG4udWktYnV0dG9uOnZpc2l0ZWQsXFxuLnVpLWJ1dHRvbjpob3ZlcixcXG4udWktYnV0dG9uOmFjdGl2ZSB7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4vKiB0byBtYWtlIHJvb20gZm9yIHRoZSBpY29uLCBhIHdpZHRoIG5lZWRzIHRvIGJlIHNldCBoZXJlICovXFxuLnVpLWJ1dHRvbi1pY29uLW9ubHkge1xcblxcdHdpZHRoOiAyLjJlbTtcXG59XFxuLyogYnV0dG9uIGVsZW1lbnRzIHNlZW0gdG8gbmVlZCBhIGxpdHRsZSBtb3JlIHdpZHRoICovXFxuYnV0dG9uLnVpLWJ1dHRvbi1pY29uLW9ubHkge1xcblxcdHdpZHRoOiAyLjRlbTtcXG59XFxuLnVpLWJ1dHRvbi1pY29ucy1vbmx5IHtcXG5cXHR3aWR0aDogMy40ZW07XFxufVxcbmJ1dHRvbi51aS1idXR0b24taWNvbnMtb25seSB7XFxuXFx0d2lkdGg6IDMuN2VtO1xcbn1cXG5cXG4vKiBidXR0b24gdGV4dCBlbGVtZW50ICovXFxuLnVpLWJ1dHRvbiAudWktYnV0dG9uLXRleHQge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdGxpbmUtaGVpZ2h0OiBub3JtYWw7XFxufVxcbi51aS1idXR0b24tdGV4dC1vbmx5IC51aS1idXR0b24tdGV4dCB7XFxuXFx0cGFkZGluZzogLjRlbSAxZW07XFxufVxcbi51aS1idXR0b24taWNvbi1vbmx5IC51aS1idXR0b24tdGV4dCxcXG4udWktYnV0dG9uLWljb25zLW9ubHkgLnVpLWJ1dHRvbi10ZXh0IHtcXG5cXHRwYWRkaW5nOiAuNGVtO1xcblxcdHRleHQtaW5kZW50OiAtOTk5OTk5OXB4O1xcbn1cXG4udWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IC51aS1idXR0b24tdGV4dCxcXG4udWktYnV0dG9uLXRleHQtaWNvbnMgLnVpLWJ1dHRvbi10ZXh0IHtcXG5cXHRwYWRkaW5nOiAuNGVtIDFlbSAuNGVtIDIuMWVtO1xcbn1cXG4udWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgLnVpLWJ1dHRvbi10ZXh0LFxcbi51aS1idXR0b24tdGV4dC1pY29ucyAudWktYnV0dG9uLXRleHQge1xcblxcdHBhZGRpbmc6IC40ZW0gMi4xZW0gLjRlbSAxZW07XFxufVxcbi51aS1idXR0b24tdGV4dC1pY29ucyAudWktYnV0dG9uLXRleHQge1xcblxcdHBhZGRpbmctbGVmdDogMi4xZW07XFxuXFx0cGFkZGluZy1yaWdodDogMi4xZW07XFxufVxcbi8qIG5vIGljb24gc3VwcG9ydCBmb3IgaW5wdXQgZWxlbWVudHMsIHByb3ZpZGUgcGFkZGluZyBieSBkZWZhdWx0ICovXFxuaW5wdXQudWktYnV0dG9uIHtcXG5cXHRwYWRkaW5nOiAuNGVtIDFlbTtcXG59XFxuXFxuLyogYnV0dG9uIGljb24gZWxlbWVudChzKSAqL1xcbi51aS1idXR0b24taWNvbi1vbmx5IC51aS1pY29uLFxcbi51aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgLnVpLWljb24sXFxuLnVpLWJ1dHRvbi10ZXh0LWljb24tc2Vjb25kYXJ5IC51aS1pY29uLFxcbi51aS1idXR0b24tdGV4dC1pY29ucyAudWktaWNvbixcXG4udWktYnV0dG9uLWljb25zLW9ubHkgLnVpLWljb24ge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDUwJTtcXG5cXHRtYXJnaW4tdG9wOiAtOHB4O1xcbn1cXG4udWktYnV0dG9uLWljb24tb25seSAudWktaWNvbiB7XFxuXFx0bGVmdDogNTAlO1xcblxcdG1hcmdpbi1sZWZ0OiAtOHB4O1xcbn1cXG4udWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IC51aS1idXR0b24taWNvbi1wcmltYXJ5LFxcbi51aS1idXR0b24tdGV4dC1pY29ucyAudWktYnV0dG9uLWljb24tcHJpbWFyeSxcXG4udWktYnV0dG9uLWljb25zLW9ubHkgLnVpLWJ1dHRvbi1pY29uLXByaW1hcnkge1xcblxcdGxlZnQ6IC41ZW07XFxufVxcbi51aS1idXR0b24tdGV4dC1pY29uLXNlY29uZGFyeSAudWktYnV0dG9uLWljb24tc2Vjb25kYXJ5LFxcbi51aS1idXR0b24tdGV4dC1pY29ucyAudWktYnV0dG9uLWljb24tc2Vjb25kYXJ5LFxcbi51aS1idXR0b24taWNvbnMtb25seSAudWktYnV0dG9uLWljb24tc2Vjb25kYXJ5IHtcXG5cXHRyaWdodDogLjVlbTtcXG59XFxuXFxuLyogYnV0dG9uIHNldHMgKi9cXG4udWktYnV0dG9uc2V0IHtcXG5cXHRtYXJnaW4tcmlnaHQ6IDdweDtcXG59XFxuLnVpLWJ1dHRvbnNldCAudWktYnV0dG9uIHtcXG5cXHRtYXJnaW4tbGVmdDogMDtcXG5cXHRtYXJnaW4tcmlnaHQ6IC0uM2VtO1xcbn1cXG5cXG4vKiB3b3JrYXJvdW5kcyAqL1xcbi8qIHJlc2V0IGV4dHJhIHBhZGRpbmcgaW4gRmlyZWZveCwgc2VlIGg1YnAuY29tL2wgKi9cXG5pbnB1dC51aS1idXR0b246Oi1tb3otZm9jdXMtaW5uZXIsXFxuYnV0dG9uLnVpLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxufVxcbi51aS1kYXRlcGlja2VyIHtcXG5cXHR3aWR0aDogMTdlbTtcXG5cXHRwYWRkaW5nOiAuMmVtIC4yZW0gMDtcXG5cXHRkaXNwbGF5OiBub25lO1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1oZWFkZXIge1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHRwYWRkaW5nOiAuMmVtIDA7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLXByZXYsXFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItbmV4dCB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHRvcDogMnB4O1xcblxcdHdpZHRoOiAxLjhlbTtcXG5cXHRoZWlnaHQ6IDEuOGVtO1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyLFxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHQtaG92ZXIge1xcblxcdHRvcDogMXB4O1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2IHtcXG5cXHRsZWZ0OiAycHg7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHQge1xcblxcdHJpZ2h0OiAycHg7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLXByZXYtaG92ZXIge1xcblxcdGxlZnQ6IDFweDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlciB7XFxuXFx0cmlnaHQ6IDFweDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItcHJldiBzcGFuLFxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHQgc3BhbiB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdGxlZnQ6IDUwJTtcXG5cXHRtYXJnaW4tbGVmdDogLThweDtcXG5cXHR0b3A6IDUwJTtcXG5cXHRtYXJnaW4tdG9wOiAtOHB4O1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci10aXRsZSB7XFxuXFx0bWFyZ2luOiAwIDIuM2VtO1xcblxcdGxpbmUtaGVpZ2h0OiAxLjhlbTtcXG5cXHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLXRpdGxlIHNlbGVjdCB7XFxuXFx0Zm9udC1zaXplOiAxZW07XFxuXFx0bWFyZ2luOiAxcHggMDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgc2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsXFxuLnVpLWRhdGVwaWNrZXIgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciB7XFxuXFx0d2lkdGg6IDQ1JTtcXG59XFxuLnVpLWRhdGVwaWNrZXIgdGFibGUge1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGZvbnQtc2l6ZTogLjllbTtcXG5cXHRib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcblxcdG1hcmdpbjogMCAwIC40ZW07XFxufVxcbi51aS1kYXRlcGlja2VyIHRoIHtcXG5cXHRwYWRkaW5nOiAuN2VtIC4zZW07XFxuXFx0dGV4dC1hbGlnbjogY2VudGVyO1xcblxcdGZvbnQtd2VpZ2h0OiBib2xkO1xcblxcdGJvcmRlcjogMDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgdGQge1xcblxcdGJvcmRlcjogMDtcXG5cXHRwYWRkaW5nOiAxcHg7XFxufVxcbi51aS1kYXRlcGlja2VyIHRkIHNwYW4sXFxuLnVpLWRhdGVwaWNrZXIgdGQgYSB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0cGFkZGluZzogLjJlbTtcXG5cXHR0ZXh0LWFsaWduOiByaWdodDtcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUge1xcblxcdGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XFxuXFx0bWFyZ2luOiAuN2VtIDAgMCAwO1xcblxcdHBhZGRpbmc6IDAgLjJlbTtcXG5cXHRib3JkZXItbGVmdDogMDtcXG5cXHRib3JkZXItcmlnaHQ6IDA7XFxuXFx0Ym9yZGVyLWJvdHRvbTogMDtcXG59XFxuLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b24ge1xcblxcdGZsb2F0OiByaWdodDtcXG5cXHRtYXJnaW46IC41ZW0gLjJlbSAuNGVtO1xcblxcdGN1cnNvcjogcG9pbnRlcjtcXG5cXHRwYWRkaW5nOiAuMmVtIC42ZW0gLjNlbSAuNmVtO1xcblxcdHdpZHRoOiBhdXRvO1xcblxcdG92ZXJmbG93OiB2aXNpYmxlO1xcbn1cXG4udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1idXR0b25wYW5lIGJ1dHRvbi51aS1kYXRlcGlja2VyLWN1cnJlbnQge1xcblxcdGZsb2F0OiBsZWZ0O1xcbn1cXG5cXG4vKiB3aXRoIG11bHRpcGxlIGNhbGVuZGFycyAqL1xcbi51aS1kYXRlcGlja2VyLnVpLWRhdGVwaWNrZXItbXVsdGkge1xcblxcdHdpZHRoOiBhdXRvO1xcbn1cXG4udWktZGF0ZXBpY2tlci1tdWx0aSAudWktZGF0ZXBpY2tlci1ncm91cCB7XFxuXFx0ZmxvYXQ6IGxlZnQ7XFxufVxcbi51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWdyb3VwIHRhYmxlIHtcXG5cXHR3aWR0aDogOTUlO1xcblxcdG1hcmdpbjogMCBhdXRvIC40ZW07XFxufVxcbi51aS1kYXRlcGlja2VyLW11bHRpLTIgLnVpLWRhdGVwaWNrZXItZ3JvdXAge1xcblxcdHdpZHRoOiA1MCU7XFxufVxcbi51aS1kYXRlcGlja2VyLW11bHRpLTMgLnVpLWRhdGVwaWNrZXItZ3JvdXAge1xcblxcdHdpZHRoOiAzMy4zJTtcXG59XFxuLnVpLWRhdGVwaWNrZXItbXVsdGktNCAudWktZGF0ZXBpY2tlci1ncm91cCB7XFxuXFx0d2lkdGg6IDI1JTtcXG59XFxuLnVpLWRhdGVwaWNrZXItbXVsdGkgLnVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdCAudWktZGF0ZXBpY2tlci1oZWFkZXIsXFxuLnVpLWRhdGVwaWNrZXItbXVsdGkgLnVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIC51aS1kYXRlcGlja2VyLWhlYWRlciB7XFxuXFx0Ym9yZGVyLWxlZnQtd2lkdGg6IDA7XFxufVxcbi51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUge1xcblxcdGNsZWFyOiBsZWZ0O1xcbn1cXG4udWktZGF0ZXBpY2tlci1yb3ctYnJlYWsge1xcblxcdGNsZWFyOiBib3RoO1xcblxcdHdpZHRoOiAxMDAlO1xcblxcdGZvbnQtc2l6ZTogMDtcXG59XFxuXFxuLyogUlRMIHN1cHBvcnQgKi9cXG4udWktZGF0ZXBpY2tlci1ydGwge1xcblxcdGRpcmVjdGlvbjogcnRsO1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItcHJldiB7XFxuXFx0cmlnaHQ6IDJweDtcXG5cXHRsZWZ0OiBhdXRvO1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItbmV4dCB7XFxuXFx0bGVmdDogMnB4O1xcblxcdHJpZ2h0OiBhdXRvO1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItcHJldjpob3ZlciB7XFxuXFx0cmlnaHQ6IDFweDtcXG5cXHRsZWZ0OiBhdXRvO1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItbmV4dDpob3ZlciB7XFxuXFx0bGVmdDogMXB4O1xcblxcdHJpZ2h0OiBhdXRvO1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB7XFxuXFx0Y2xlYXI6IHJpZ2h0O1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b24ge1xcblxcdGZsb2F0OiBsZWZ0O1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b24udWktZGF0ZXBpY2tlci1jdXJyZW50LFxcbi51aS1kYXRlcGlja2VyLXJ0bCAudWktZGF0ZXBpY2tlci1ncm91cCB7XFxuXFx0ZmxvYXQ6IHJpZ2h0O1xcbn1cXG4udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdCAudWktZGF0ZXBpY2tlci1oZWFkZXIsXFxuLnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSAudWktZGF0ZXBpY2tlci1oZWFkZXIge1xcblxcdGJvcmRlci1yaWdodC13aWR0aDogMDtcXG5cXHRib3JkZXItbGVmdC13aWR0aDogMXB4O1xcbn1cXG4udWktZGlhbG9nIHtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDA7XFxuXFx0bGVmdDogMDtcXG5cXHRwYWRkaW5nOiAuMmVtO1xcblxcdG91dGxpbmU6IDA7XFxufVxcbi51aS1kaWFsb2cgLnVpLWRpYWxvZy10aXRsZWJhciB7XFxuXFx0cGFkZGluZzogLjRlbSAxZW07XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctdGl0bGUge1xcblxcdGZsb2F0OiBsZWZ0O1xcblxcdG1hcmdpbjogLjFlbSAwO1xcblxcdHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuXFx0d2lkdGg6IDkwJTtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbn1cXG4udWktZGlhbG9nIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2Uge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRyaWdodDogLjNlbTtcXG5cXHR0b3A6IDUwJTtcXG5cXHR3aWR0aDogMjBweDtcXG5cXHRtYXJnaW46IC0xMHB4IDAgMCAwO1xcblxcdHBhZGRpbmc6IDFweDtcXG5cXHRoZWlnaHQ6IDIwcHg7XFxufVxcbi51aS1kaWFsb2cgLnVpLWRpYWxvZy1jb250ZW50IHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdHBhZGRpbmc6IC41ZW0gMWVtO1xcblxcdGJhY2tncm91bmQ6IG5vbmU7XFxuXFx0b3ZlcmZsb3c6IGF1dG87XFxufVxcbi51aS1kaWFsb2cgLnVpLWRpYWxvZy1idXR0b25wYW5lIHtcXG5cXHR0ZXh0LWFsaWduOiBsZWZ0O1xcblxcdGJvcmRlci13aWR0aDogMXB4IDAgMCAwO1xcblxcdGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XFxuXFx0bWFyZ2luLXRvcDogLjVlbTtcXG5cXHRwYWRkaW5nOiAuM2VtIDFlbSAuNWVtIC40ZW07XFxufVxcbi51aS1kaWFsb2cgLnVpLWRpYWxvZy1idXR0b25wYW5lIC51aS1kaWFsb2ctYnV0dG9uc2V0IHtcXG5cXHRmbG9hdDogcmlnaHQ7XFxufVxcbi51aS1kaWFsb2cgLnVpLWRpYWxvZy1idXR0b25wYW5lIGJ1dHRvbiB7XFxuXFx0bWFyZ2luOiAuNWVtIC40ZW0gLjVlbSAwO1xcblxcdGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVpLWRpYWxvZyAudWktcmVzaXphYmxlLXNlIHtcXG5cXHR3aWR0aDogMTJweDtcXG5cXHRoZWlnaHQ6IDEycHg7XFxuXFx0cmlnaHQ6IC01cHg7XFxuXFx0Ym90dG9tOiAtNXB4O1xcblxcdGJhY2tncm91bmQtcG9zaXRpb246IDE2cHggMTZweDtcXG59XFxuLnVpLWRyYWdnYWJsZSAudWktZGlhbG9nLXRpdGxlYmFyIHtcXG5cXHRjdXJzb3I6IG1vdmU7XFxufVxcbi51aS1kcmFnZ2FibGUtaGFuZGxlIHtcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcblxcdHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuLnVpLW1lbnUge1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRtYXJnaW46IDA7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0b3V0bGluZTogbm9uZTtcXG59XFxuLnVpLW1lbnUgLnVpLW1lbnUge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLnVpLW1lbnUgLnVpLW1lbnUtaXRlbSB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdG1hcmdpbjogMDtcXG5cXHRwYWRkaW5nOiAzcHggMWVtIDNweCAuNGVtO1xcblxcdGN1cnNvcjogcG9pbnRlcjtcXG5cXHRtaW4taGVpZ2h0OiAwOyAvKiBzdXBwb3J0OiBJRTcgKi9cXG5cXHQvKiBzdXBwb3J0OiBJRTEwLCBzZWUgIzg4NDQgKi9cXG5cXHRsaXN0LXN0eWxlLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBN1xcXCIpO1xcbn1cXG4udWktbWVudSAudWktbWVudS1kaXZpZGVyIHtcXG5cXHRtYXJnaW46IDVweCAwO1xcblxcdGhlaWdodDogMDtcXG5cXHRmb250LXNpemU6IDA7XFxuXFx0bGluZS1oZWlnaHQ6IDA7XFxuXFx0Ym9yZGVyLXdpZHRoOiAxcHggMCAwIDA7XFxufVxcbi51aS1tZW51IC51aS1zdGF0ZS1mb2N1cyxcXG4udWktbWVudSAudWktc3RhdGUtYWN0aXZlIHtcXG5cXHRtYXJnaW46IC0xcHg7XFxufVxcblxcbi8qIGljb24gc3VwcG9ydCAqL1xcbi51aS1tZW51LWljb25zIHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi51aS1tZW51LWljb25zIC51aS1tZW51LWl0ZW0ge1xcblxcdHBhZGRpbmctbGVmdDogMmVtO1xcbn1cXG5cXG4vKiBsZWZ0LWFsaWduZWQgKi9cXG4udWktbWVudSAudWktaWNvbiB7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHRvcDogMDtcXG5cXHRib3R0b206IDA7XFxuXFx0bGVmdDogLjJlbTtcXG5cXHRtYXJnaW46IGF1dG8gMDtcXG59XFxuXFxuLyogcmlnaHQtYWxpZ25lZCAqL1xcbi51aS1tZW51IC51aS1tZW51LWljb24ge1xcblxcdGxlZnQ6IGF1dG87XFxuXFx0cmlnaHQ6IDA7XFxufVxcbi51aS1wcm9ncmVzc2JhciB7XFxuXFx0aGVpZ2h0OiAyZW07XFxuXFx0dGV4dC1hbGlnbjogbGVmdDtcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4udWktcHJvZ3Jlc3NiYXIgLnVpLXByb2dyZXNzYmFyLXZhbHVlIHtcXG5cXHRtYXJnaW46IC0xcHg7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcbn1cXG4udWktcHJvZ3Jlc3NiYXIgLnVpLXByb2dyZXNzYmFyLW92ZXJsYXkge1xcblxcdGJhY2tncm91bmQ6IHVybChcXFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoS0FBb0FJQUJBQUFBQVAvLy95SC9DMDVGVkZORFFWQkZNaTR3QXdFQUFBQWgrUVFKQVFBQkFDd0FBQUFBS0FBb0FBQUNrWXdOcVhyZEM1MkRTMDZhN01GWkkrNEZIQkNLb0RlV0tYcXltUHFHcXh2SnJYWmJNeDdUdGMrdzlYZ1UyRkIzbE95UVJXRVQySUZHaVU5bTFmckRWcHhaWmM2YmZId3Y0YzFZWFA2azFWZHkyOTJGYjZVa3V2RnRYcHZXU3pBK0h5Y1hKSFVYaUdZSWlNZzJSNlc0NTlnbldHZkhOZGpJcURXVnFlbUgyZWtwT2JrcE9scHBXVXFaaXFyNmVkcXFXUUFBSWZrRUNRRUFBUUFzQUFBQUFDZ0FLQUFBQXBTTWdabkdmYXFjZzFFMnV1ekRtbUhVQlI4UWlsOTVoaVBLcVduM2FxdExzUzE4eTdHMVN6TmVvd1dCRU50UWQrVDFKa3RQMDVuelBUZEpabFI2dlV4TldXalYrdlVXaFdOa1dGd3hsOVZwWlJlZFljZmxJT0xhZmFhMjhYZHNIL3lubGNjMXVQVkRaeFFJUjBLMjUrY0lDQ21vcUNlNW1HaFpPZmVZU1VoNXlKY0p5cmtaV1dwYVI4ZG9KMm80TllxNjJsQUFBQ0g1QkFrQkFBRUFMQUFBQUFBb0FDZ0FBQUtWREk0WXkyMlpuSU5STnFvc3cwQnY3aTFneUhVa0ZqN29TYVdsdTNvdkM4R3hOc281Zmx1ejNxTFZoQlZlVC9MejdaVEh5eEw1ZERhbFFXUFZPc1FXdFJudXdYYUZUajlqVlZoOHBtYTlKalo0ellTajVaT3ltYTd1dW9sZmZoK0lSNWFXOTdjSHVCVVhLR0tYbEtqbitEaUhXTWNZSmFoNE4wbFlDTWxKT1hpcEdScjVxZGdvU1RycVdTcTZXRmwyeXBvYVVBQUFJZmtFQ1FFQUFRQXNBQUFBQUNnQUtBQUFBcGFFYjZITGdkL2lPN0ZOV3RjRldlK3VmT0RHalJmb2lKMmFrU2hidWViMHd0STUwem0wMnBidndmV0VNV0JRMXpLR2xMSWhza2lFUG05UjZ2Ulh4VjRaeldUMnlIT0dwV015b3JibEtsTnA4SG1IRWIvbENYamNXN2JtdFhQOFh0MjI5T1ZXUjFmb2QyZVdxTmZIdU1qWENQa0lHTmlsZU9pSW1WbUNPRW1vU2ZuM3lYbEpXbW9IR2hxcDZpbFl1V1lwbVRxS1VnQUFJZmtFQ1FFQUFRQXNBQUFBQUNnQUtBQUFBcGlFSDZrYjU4YmlRM0ZOV3RNRldXM2VOVmNvanVGR2ZxblpxU2VidVMwNnc1VjgwL1gwMnBLZTh6RndQNkVGV09UMWxERms4ckdFUmgxVFROT29jUTYxSG00WG0yVmV4VUhwemp5bVZpSHJGYmlFTHNlZlZybjZYS2ZudDJROUcvK1hkaWU0OTlYSGQyZzRoN2lvT0doWEdKYm9HQW5YU0Jub0J3S1l5ZmlvdWJaSjJIbjBSdVJaYWZsWk9pbDU2WnA2aWlvS1NYcFVBQUFoK1FRSkFRQUJBQ3dBQUFBQUtBQW9BQUFDa29RUnFSdm54dUk3a1UxYTFVVTViZDV0blNlT1pYaG1uNWxXSzNxTlRXdlJkUXhQOHF2YUMrL3lhWVF6WE83Qk12YVVFbUpSZDNUc2lNQWdzd21OWXJTZ1pkWXJUWDZ0U0hHWk83M2V6dUF3MnV4dVErQmJlWmZNeHNleFkzNSsvUWU0SjFpblYwZzR4M1dIdU1oSWwyalhPS1QyUStWVTVmZ29TVUk1MlZmWnlma0pHa2hhNmptWSthYVlkaXJxK2xRQUFDSDVCQWtCQUFFQUxBQUFBQUFvQUNnQUFBS1dCSUtwWWUwTDNZTktUb3Fzd1VsdnpuaWdkNHdpUjRLaFpyS3Q5VXBxaXA2MWk5RTN2TXZ4UmRIbGJFRmlFWGZrOVlBUll4T1paRDZWUTJwVXVuQm10UlhvMUxmOGhNVlZjTmw4SmFmVjM4YU0yL0Z1NVYxNkJuNjNyNnh0OTdqMDkrTVhTRmk0Qm5pR0ZhZTNoemJIOStoWUJ6a3B1VWg1YVptSHVhblpPWmdJdXZiR2lOZW9tQ25heHhhcDJ1cGFDWnNxKzFrQUFDSDVCQWtCQUFFQUxBQUFBQUFvQUNnQUFBS1hqSThCeTV6ZjRrT3hUVnJYTlZsdjFYMGQ4SUdaR0tMbk5wWXRtOExyOWNxVmV1T1N2Zk9XNzlEOWFESGl6TmhESmlkRlpoTnlkRWFoT2FESDZub210SmpwMXR1dEtvTldrdkE2SnFmUlZMSFUvUVVmYXU5bDJ4N0c1NGQxZmw5OTV4Y0lHQWRYcU1mQk5hZG9ZcmhIK01nMktCbHBWcGJsdUNpWG1NbloyU2g0R0JxSitja0lPcXFKNkxtS1NsbFptc29xNndwUUFBQWgrUVFKQVFBQkFDd0FBQUFBS0FBb0FBQUNsWXgvb0x2b3h1SkRrVTFhMVlVWmJKNTluU2QyWlhoV3FiUmEyL2dGOEd1MkRZM2lxczd5cnEreEJZRWtZdkZTTThhU1NPYkUrWmdSbDFCSEZaTnI3cFJDYXZaNUJXMjE0MmhZM0FOL3pXdHNtZjEycDlYeHhGbDJscExuMXJzZXp0ZlhaamRJV0lmMnM1ZEl0d2pZS0Jnbzl5ZzVwSGd6SlhURWVHbFp1ZW5weVBtcEdRb0tPV2tZbVNwYVNucUtpbGVJMkZBQUFDSDVCQWtCQUFFQUxBQUFBQUFvQUNnQUFBS1ZqQitndStqRzRrT1JUVnJWaFJsc25uMmRKM1psZUZhcHRGcmIrQ1htTzlPb3plTDVWZlA5OUh2QVdocGlVZGN3a3BCSDM4MjVBd1lkVTh4VHFsTEdodENvc0FyS01wdmZhMW1NUmFlOVZ2V1pmZUIyWGZQa2VMbW0xOGxVY0JqK3A1ZG5OOGpYWjNZSUdFaFl1T1VuNDVhb0NEa3AxNmhsNUlqWUp2aldLY25vR1FwcXlQbHBPaHIzYUVsYXFycTU2QnE3VkFBQU93PT1cXFwiKTtcXG5cXHRoZWlnaHQ6IDEwMCU7XFxuXFx0ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTI1KTsgLyogc3VwcG9ydDogSUU4ICovXFxuXFx0b3BhY2l0eTogMC4yNTtcXG59XFxuLnVpLXByb2dyZXNzYmFyLWluZGV0ZXJtaW5hdGUgLnVpLXByb2dyZXNzYmFyLXZhbHVlIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xcbn1cXG4udWktcmVzaXphYmxlIHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi51aS1yZXNpemFibGUtaGFuZGxlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0Zm9udC1zaXplOiAwLjFweDtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcblxcdHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuLnVpLXJlc2l6YWJsZS1kaXNhYmxlZCAudWktcmVzaXphYmxlLWhhbmRsZSxcXG4udWktcmVzaXphYmxlLWF1dG9oaWRlIC51aS1yZXNpemFibGUtaGFuZGxlIHtcXG5cXHRkaXNwbGF5OiBub25lO1xcbn1cXG4udWktcmVzaXphYmxlLW4ge1xcblxcdGN1cnNvcjogbi1yZXNpemU7XFxuXFx0aGVpZ2h0OiA3cHg7XFxuXFx0d2lkdGg6IDEwMCU7XFxuXFx0dG9wOiAtNXB4O1xcblxcdGxlZnQ6IDA7XFxufVxcbi51aS1yZXNpemFibGUtcyB7XFxuXFx0Y3Vyc29yOiBzLXJlc2l6ZTtcXG5cXHRoZWlnaHQ6IDdweDtcXG5cXHR3aWR0aDogMTAwJTtcXG5cXHRib3R0b206IC01cHg7XFxuXFx0bGVmdDogMDtcXG59XFxuLnVpLXJlc2l6YWJsZS1lIHtcXG5cXHRjdXJzb3I6IGUtcmVzaXplO1xcblxcdHdpZHRoOiA3cHg7XFxuXFx0cmlnaHQ6IC01cHg7XFxuXFx0dG9wOiAwO1xcblxcdGhlaWdodDogMTAwJTtcXG59XFxuLnVpLXJlc2l6YWJsZS13IHtcXG5cXHRjdXJzb3I6IHctcmVzaXplO1xcblxcdHdpZHRoOiA3cHg7XFxuXFx0bGVmdDogLTVweDtcXG5cXHR0b3A6IDA7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcbn1cXG4udWktcmVzaXphYmxlLXNlIHtcXG5cXHRjdXJzb3I6IHNlLXJlc2l6ZTtcXG5cXHR3aWR0aDogMTJweDtcXG5cXHRoZWlnaHQ6IDEycHg7XFxuXFx0cmlnaHQ6IDFweDtcXG5cXHRib3R0b206IDFweDtcXG59XFxuLnVpLXJlc2l6YWJsZS1zdyB7XFxuXFx0Y3Vyc29yOiBzdy1yZXNpemU7XFxuXFx0d2lkdGg6IDlweDtcXG5cXHRoZWlnaHQ6IDlweDtcXG5cXHRsZWZ0OiAtNXB4O1xcblxcdGJvdHRvbTogLTVweDtcXG59XFxuLnVpLXJlc2l6YWJsZS1udyB7XFxuXFx0Y3Vyc29yOiBudy1yZXNpemU7XFxuXFx0d2lkdGg6IDlweDtcXG5cXHRoZWlnaHQ6IDlweDtcXG5cXHRsZWZ0OiAtNXB4O1xcblxcdHRvcDogLTVweDtcXG59XFxuLnVpLXJlc2l6YWJsZS1uZSB7XFxuXFx0Y3Vyc29yOiBuZS1yZXNpemU7XFxuXFx0d2lkdGg6IDlweDtcXG5cXHRoZWlnaHQ6IDlweDtcXG5cXHRyaWdodDogLTVweDtcXG5cXHR0b3A6IC01cHg7XFxufVxcbi51aS1zZWxlY3RhYmxlIHtcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcblxcdHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuLnVpLXNlbGVjdGFibGUtaGVscGVyIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogMTAwO1xcblxcdGJvcmRlcjogMXB4IGRvdHRlZCBibGFjaztcXG59XFxuLnVpLXNlbGVjdG1lbnUtbWVudSB7XFxuXFx0cGFkZGluZzogMDtcXG5cXHRtYXJnaW46IDA7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdHRvcDogMDtcXG5cXHRsZWZ0OiAwO1xcblxcdGRpc3BsYXk6IG5vbmU7XFxufVxcbi51aS1zZWxlY3RtZW51LW1lbnUgLnVpLW1lbnUge1xcblxcdG92ZXJmbG93OiBhdXRvO1xcblxcdC8qIFN1cHBvcnQ6IElFNyAqL1xcblxcdG92ZXJmbG93LXg6IGhpZGRlbjtcXG5cXHRwYWRkaW5nLWJvdHRvbTogMXB4O1xcbn1cXG4udWktc2VsZWN0bWVudS1tZW51IC51aS1tZW51IC51aS1zZWxlY3RtZW51LW9wdGdyb3VwIHtcXG5cXHRmb250LXNpemU6IDFlbTtcXG5cXHRmb250LXdlaWdodDogYm9sZDtcXG5cXHRsaW5lLWhlaWdodDogMS41O1xcblxcdHBhZGRpbmc6IDJweCAwLjRlbTtcXG5cXHRtYXJnaW46IDAuNWVtIDAgMCAwO1xcblxcdGhlaWdodDogYXV0bztcXG5cXHRib3JkZXI6IDA7XFxufVxcbi51aS1zZWxlY3RtZW51LW9wZW4ge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4udWktc2VsZWN0bWVudS1idXR0b24ge1xcblxcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuXFx0Y3Vyc29yOiBwb2ludGVyO1xcbn1cXG4udWktc2VsZWN0bWVudS1idXR0b24gc3Bhbi51aS1pY29uIHtcXG5cXHRyaWdodDogMC41ZW07XFxuXFx0bGVmdDogYXV0bztcXG5cXHRtYXJnaW4tdG9wOiAtOHB4O1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR0b3A6IDUwJTtcXG59XFxuLnVpLXNlbGVjdG1lbnUtYnV0dG9uIHNwYW4udWktc2VsZWN0bWVudS10ZXh0IHtcXG5cXHR0ZXh0LWFsaWduOiBsZWZ0O1xcblxcdHBhZGRpbmc6IDAuNGVtIDIuMWVtIDAuNGVtIDFlbTtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHRsaW5lLWhlaWdodDogMS40O1xcblxcdG92ZXJmbG93OiBoaWRkZW47XFxuXFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuXFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuLnVpLXNsaWRlciB7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdHRleHQtYWxpZ246IGxlZnQ7XFxufVxcbi51aS1zbGlkZXIgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHR6LWluZGV4OiAyO1xcblxcdHdpZHRoOiAxLjJlbTtcXG5cXHRoZWlnaHQ6IDEuMmVtO1xcblxcdGN1cnNvcjogZGVmYXVsdDtcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcblxcdHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuLnVpLXNsaWRlciAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogMTtcXG5cXHRmb250LXNpemU6IC43ZW07XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGJhY2tncm91bmQtcG9zaXRpb246IDAgMDtcXG59XFxuXFxuLyogc3VwcG9ydDogSUU4IC0gU2VlICM2NzI3ICovXFxuLnVpLXNsaWRlci51aS1zdGF0ZS1kaXNhYmxlZCAudWktc2xpZGVyLWhhbmRsZSxcXG4udWktc2xpZGVyLnVpLXN0YXRlLWRpc2FibGVkIC51aS1zbGlkZXItcmFuZ2Uge1xcblxcdGZpbHRlcjogaW5oZXJpdDtcXG59XFxuXFxuLnVpLXNsaWRlci1ob3Jpem9udGFsIHtcXG5cXHRoZWlnaHQ6IC44ZW07XFxufVxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLWhhbmRsZSB7XFxuXFx0dG9wOiAtLjNlbTtcXG5cXHRtYXJnaW4tbGVmdDogLS42ZW07XFxufVxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLXJhbmdlIHtcXG5cXHR0b3A6IDA7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcbn1cXG4udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZS1taW4ge1xcblxcdGxlZnQ6IDA7XFxufVxcbi51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLXJhbmdlLW1heCB7XFxuXFx0cmlnaHQ6IDA7XFxufVxcblxcbi51aS1zbGlkZXItdmVydGljYWwge1xcblxcdHdpZHRoOiAuOGVtO1xcblxcdGhlaWdodDogMTAwcHg7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1oYW5kbGUge1xcblxcdGxlZnQ6IC0uM2VtO1xcblxcdG1hcmdpbi1sZWZ0OiAwO1xcblxcdG1hcmdpbi1ib3R0b206IC0uNmVtO1xcbn1cXG4udWktc2xpZGVyLXZlcnRpY2FsIC51aS1zbGlkZXItcmFuZ2Uge1xcblxcdGxlZnQ6IDA7XFxuXFx0d2lkdGg6IDEwMCU7XFxufVxcbi51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1yYW5nZS1taW4ge1xcblxcdGJvdHRvbTogMDtcXG59XFxuLnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdlLW1heCB7XFxuXFx0dG9wOiAwO1xcbn1cXG4udWktc29ydGFibGUtaGFuZGxlIHtcXG5cXHQtbXMtdG91Y2gtYWN0aW9uOiBub25lO1xcblxcdHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuLnVpLXNwaW5uZXIge1xcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuXFx0b3ZlcmZsb3c6IGhpZGRlbjtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcbi51aS1zcGlubmVyLWlucHV0IHtcXG5cXHRib3JkZXI6IG5vbmU7XFxuXFx0YmFja2dyb3VuZDogbm9uZTtcXG5cXHRjb2xvcjogaW5oZXJpdDtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdG1hcmdpbjogLjJlbSAwO1xcblxcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuXFx0bWFyZ2luLWxlZnQ6IC40ZW07XFxuXFx0bWFyZ2luLXJpZ2h0OiAyMnB4O1xcbn1cXG4udWktc3Bpbm5lci1idXR0b24ge1xcblxcdHdpZHRoOiAxNnB4O1xcblxcdGhlaWdodDogNTAlO1xcblxcdGZvbnQtc2l6ZTogLjVlbTtcXG5cXHRwYWRkaW5nOiAwO1xcblxcdG1hcmdpbjogMDtcXG5cXHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdGN1cnNvcjogZGVmYXVsdDtcXG5cXHRkaXNwbGF5OiBibG9jaztcXG5cXHRvdmVyZmxvdzogaGlkZGVuO1xcblxcdHJpZ2h0OiAwO1xcbn1cXG4vKiBtb3JlIHNwZWNpZmljaXR5IHJlcXVpcmVkIGhlcmUgdG8gb3ZlcnJpZGUgZGVmYXVsdCBib3JkZXJzICovXFxuLnVpLXNwaW5uZXIgYS51aS1zcGlubmVyLWJ1dHRvbiB7XFxuXFx0Ym9yZGVyLXRvcDogbm9uZTtcXG5cXHRib3JkZXItYm90dG9tOiBub25lO1xcblxcdGJvcmRlci1yaWdodDogbm9uZTtcXG59XFxuLyogdmVydGljYWxseSBjZW50ZXIgaWNvbiAqL1xcbi51aS1zcGlubmVyIC51aS1pY29uIHtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0bWFyZ2luLXRvcDogLThweDtcXG5cXHR0b3A6IDUwJTtcXG5cXHRsZWZ0OiAwO1xcbn1cXG4udWktc3Bpbm5lci11cCB7XFxuXFx0dG9wOiAwO1xcbn1cXG4udWktc3Bpbm5lci1kb3duIHtcXG5cXHRib3R0b206IDA7XFxufVxcblxcbi8qIFRSIG92ZXJyaWRlcyAqL1xcbi51aS1zcGlubmVyIC51aS1pY29uLXRyaWFuZ2xlLTEtcyB7XFxuXFx0LyogbmVlZCB0byBmaXggaWNvbnMgc3ByaXRlICovXFxuXFx0YmFja2dyb3VuZC1wb3NpdGlvbjogLTY1cHggLTE2cHg7XFxufVxcbi51aS10YWJzIHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7LyogcG9zaXRpb246IHJlbGF0aXZlIHByZXZlbnRzIElFIHNjcm9sbCBidWcgKGVsZW1lbnQgd2l0aCBwb3NpdGlvbjogcmVsYXRpdmUgaW5zaWRlIGNvbnRhaW5lciB3aXRoIG92ZXJmbG93OiBhdXRvIGFwcGVhciBhcyBcXFwiZml4ZWRcXFwiKSAqL1xcblxcdHBhZGRpbmc6IC4yZW07XFxufVxcbi51aS10YWJzIC51aS10YWJzLW5hdiB7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBhZGRpbmc6IC4yZW0gLjJlbSAwO1xcbn1cXG4udWktdGFicyAudWktdGFicy1uYXYgbGkge1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxuXFx0ZmxvYXQ6IGxlZnQ7XFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdHRvcDogMDtcXG5cXHRtYXJnaW46IDFweCAuMmVtIDAgMDtcXG5cXHRib3JkZXItYm90dG9tLXdpZHRoOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuLnVpLXRhYnMgLnVpLXRhYnMtbmF2IC51aS10YWJzLWFuY2hvciB7XFxuXFx0ZmxvYXQ6IGxlZnQ7XFxuXFx0cGFkZGluZzogLjVlbSAxZW07XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4udWktdGFicyAudWktdGFicy1uYXYgbGkudWktdGFicy1hY3RpdmUge1xcblxcdG1hcmdpbi1ib3R0b206IC0xcHg7XFxuXFx0cGFkZGluZy1ib3R0b206IDFweDtcXG59XFxuLnVpLXRhYnMgLnVpLXRhYnMtbmF2IGxpLnVpLXRhYnMtYWN0aXZlIC51aS10YWJzLWFuY2hvcixcXG4udWktdGFicyAudWktdGFicy1uYXYgbGkudWktc3RhdGUtZGlzYWJsZWQgLnVpLXRhYnMtYW5jaG9yLFxcbi51aS10YWJzIC51aS10YWJzLW5hdiBsaS51aS10YWJzLWxvYWRpbmcgLnVpLXRhYnMtYW5jaG9yIHtcXG5cXHRjdXJzb3I6IHRleHQ7XFxufVxcbi51aS10YWJzLWNvbGxhcHNpYmxlIC51aS10YWJzLW5hdiBsaS51aS10YWJzLWFjdGl2ZSAudWktdGFicy1hbmNob3Ige1xcblxcdGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnVpLXRhYnMgLnVpLXRhYnMtcGFuZWwge1xcblxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdGJvcmRlci13aWR0aDogMDtcXG5cXHRwYWRkaW5nOiAxZW0gMS40ZW07XFxuXFx0YmFja2dyb3VuZDogbm9uZTtcXG59XFxuLnVpLXRvb2x0aXAge1xcblxcdHBhZGRpbmc6IDhweDtcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxuXFx0ei1pbmRleDogOTk5OTtcXG5cXHRtYXgtd2lkdGg6IDMwMHB4O1xcblxcdC13ZWJraXQtYm94LXNoYWRvdzogMCAwIDVweCAjYWFhO1xcblxcdGJveC1zaGFkb3c6IDAgMCA1cHggI2FhYTtcXG59XFxuYm9keSAudWktdG9vbHRpcCB7XFxuXFx0Ym9yZGVyLXdpZHRoOiAycHg7XFxufVxcblxcbi8qIENvbXBvbmVudCBjb250YWluZXJzXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLnVpLXdpZGdldCB7XFxuXFx0Zm9udC1mYW1pbHk6IFRyZWJ1Y2hldCBNUyxUYWhvbWEsVmVyZGFuYSxBcmlhbCxzYW5zLXNlcmlmO1xcblxcdGZvbnQtc2l6ZTogMS4xZW07XFxufVxcbi51aS13aWRnZXQgLnVpLXdpZGdldCB7XFxuXFx0Zm9udC1zaXplOiAxZW07XFxufVxcbi51aS13aWRnZXQgaW5wdXQsXFxuLnVpLXdpZGdldCBzZWxlY3QsXFxuLnVpLXdpZGdldCB0ZXh0YXJlYSxcXG4udWktd2lkZ2V0IGJ1dHRvbiB7XFxuXFx0Zm9udC1mYW1pbHk6IFRyZWJ1Y2hldCBNUyxUYWhvbWEsVmVyZGFuYSxBcmlhbCxzYW5zLXNlcmlmO1xcblxcdGZvbnQtc2l6ZTogMWVtO1xcbn1cXG4udWktd2lkZ2V0LWNvbnRlbnQge1xcblxcdGJvcmRlcjogMXB4IHNvbGlkICNkZGRkZGQ7XFxuXFx0YmFja2dyb3VuZDogI2VlZWVlZSB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpIDUwJSB0b3AgcmVwZWF0LXg7XFxuXFx0Y29sb3I6ICMzMzMzMzM7XFxufVxcbi51aS13aWRnZXQtY29udGVudCBhIHtcXG5cXHRjb2xvcjogIzMzMzMzMztcXG59XFxuLnVpLXdpZGdldC1oZWFkZXIge1xcblxcdGJvcmRlcjogMXB4IHNvbGlkICNlNzhmMDg7XFxuXFx0YmFja2dyb3VuZDogI2Y2YTgyOCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fICsgXCIpIDUwJSA1MCUgcmVwZWF0LXg7XFxuXFx0Y29sb3I6ICNmZmZmZmY7XFxuXFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi51aS13aWRnZXQtaGVhZGVyIGEge1xcblxcdGNvbG9yOiAjZmZmZmZmO1xcbn1cXG5cXG4vKiBJbnRlcmFjdGlvbiBzdGF0ZXNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktc3RhdGUtZGVmYXVsdCxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWRlZmF1bHQsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWRlZmF1bHQge1xcblxcdGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7XFxuXFx0YmFja2dyb3VuZDogI2Y2ZjZmNiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fICsgXCIpIDUwJSA1MCUgcmVwZWF0LXg7XFxuXFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XFxuXFx0Y29sb3I6ICMxYzk0YzQ7XFxufVxcbi51aS1zdGF0ZS1kZWZhdWx0IGEsXFxuLnVpLXN0YXRlLWRlZmF1bHQgYTpsaW5rLFxcbi51aS1zdGF0ZS1kZWZhdWx0IGE6dmlzaXRlZCB7XFxuXFx0Y29sb3I6ICMxYzk0YzQ7XFxuXFx0dGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG4udWktc3RhdGUtaG92ZXIsXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1ob3ZlcixcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtaG92ZXIsXFxuLnVpLXN0YXRlLWZvY3VzLFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZm9jdXMsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWZvY3VzIHtcXG5cXHRib3JkZXI6IDFweCBzb2xpZCAjZmJjYjA5O1xcblxcdGJhY2tncm91bmQ6ICNmZGY1Y2UgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fXyArIFwiKSA1MCUgNTAlIHJlcGVhdC14O1xcblxcdGZvbnQtd2VpZ2h0OiBib2xkO1xcblxcdGNvbG9yOiAjYzc3NDA1O1xcbn1cXG4udWktc3RhdGUtaG92ZXIgYSxcXG4udWktc3RhdGUtaG92ZXIgYTpob3ZlcixcXG4udWktc3RhdGUtaG92ZXIgYTpsaW5rLFxcbi51aS1zdGF0ZS1ob3ZlciBhOnZpc2l0ZWQsXFxuLnVpLXN0YXRlLWZvY3VzIGEsXFxuLnVpLXN0YXRlLWZvY3VzIGE6aG92ZXIsXFxuLnVpLXN0YXRlLWZvY3VzIGE6bGluayxcXG4udWktc3RhdGUtZm9jdXMgYTp2aXNpdGVkIHtcXG5cXHRjb2xvcjogI2M3NzQwNTtcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcbi51aS1zdGF0ZS1hY3RpdmUsXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1hY3RpdmUsXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWFjdGl2ZSB7XFxuXFx0Ym9yZGVyOiAxcHggc29saWQgI2ZiZDg1MDtcXG5cXHRiYWNrZ3JvdW5kOiAjZmZmZmZmIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzRfX18gKyBcIikgNTAlIDUwJSByZXBlYXQteDtcXG5cXHRmb250LXdlaWdodDogYm9sZDtcXG5cXHRjb2xvcjogI2ViOGYwMDtcXG59XFxuLnVpLXN0YXRlLWFjdGl2ZSBhLFxcbi51aS1zdGF0ZS1hY3RpdmUgYTpsaW5rLFxcbi51aS1zdGF0ZS1hY3RpdmUgYTp2aXNpdGVkIHtcXG5cXHRjb2xvcjogI2ViOGYwMDtcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcbi8qIEludGVyYWN0aW9uIEN1ZXNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4udWktc3RhdGUtaGlnaGxpZ2h0LFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtaGlnaGxpZ2h0LFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1oaWdobGlnaHQge1xcblxcdGJvcmRlcjogMXB4IHNvbGlkICNmZWQyMmY7XFxuXFx0YmFja2dyb3VuZDogI2ZmZTQ1YyB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF81X19fICsgXCIpIDUwJSB0b3AgcmVwZWF0LXg7XFxuXFx0Y29sb3I6ICMzNjM2MzY7XFxufVxcbi51aS1zdGF0ZS1oaWdobGlnaHQgYSxcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWhpZ2hsaWdodCBhLFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1oaWdobGlnaHQgYSB7XFxuXFx0Y29sb3I6ICMzNjM2MzY7XFxufVxcbi51aS1zdGF0ZS1lcnJvcixcXG4udWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWVycm9yLFxcbi51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1lcnJvciB7XFxuXFx0Ym9yZGVyOiAxcHggc29saWQgI2NkMGEwYTtcXG5cXHRiYWNrZ3JvdW5kOiAjYjgxOTAwIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX18gKyBcIikgNTAlIDUwJSByZXBlYXQ7XFxuXFx0Y29sb3I6ICNmZmZmZmY7XFxufVxcbi51aS1zdGF0ZS1lcnJvciBhLFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZXJyb3IgYSxcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZXJyb3IgYSB7XFxuXFx0Y29sb3I6ICNmZmZmZmY7XFxufVxcbi51aS1zdGF0ZS1lcnJvci10ZXh0LFxcbi51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZXJyb3ItdGV4dCxcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZXJyb3ItdGV4dCB7XFxuXFx0Y29sb3I6ICNmZmZmZmY7XFxufVxcbi51aS1wcmlvcml0eS1wcmltYXJ5LFxcbi51aS13aWRnZXQtY29udGVudCAudWktcHJpb3JpdHktcHJpbWFyeSxcXG4udWktd2lkZ2V0LWhlYWRlciAudWktcHJpb3JpdHktcHJpbWFyeSB7XFxuXFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcbi51aS1wcmlvcml0eS1zZWNvbmRhcnksXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1wcmlvcml0eS1zZWNvbmRhcnksXFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLXByaW9yaXR5LXNlY29uZGFyeSB7XFxuXFx0b3BhY2l0eTogLjc7XFxuXFx0ZmlsdGVyOkFscGhhKE9wYWNpdHk9NzApOyAvKiBzdXBwb3J0OiBJRTggKi9cXG5cXHRmb250LXdlaWdodDogbm9ybWFsO1xcbn1cXG4udWktc3RhdGUtZGlzYWJsZWQsXFxuLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1kaXNhYmxlZCxcXG4udWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZGlzYWJsZWQge1xcblxcdG9wYWNpdHk6IC4zNTtcXG5cXHRmaWx0ZXI6QWxwaGEoT3BhY2l0eT0zNSk7IC8qIHN1cHBvcnQ6IElFOCAqL1xcblxcdGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XFxufVxcbi51aS1zdGF0ZS1kaXNhYmxlZCAudWktaWNvbiB7XFxuXFx0ZmlsdGVyOkFscGhhKE9wYWNpdHk9MzUpOyAvKiBzdXBwb3J0OiBJRTggLSBTZWUgIzYwNTkgKi9cXG59XFxuXFxuLyogSWNvbnNcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG5cXG4vKiBzdGF0ZXMgYW5kIGltYWdlcyAqL1xcbi51aS1pY29uIHtcXG5cXHR3aWR0aDogMTZweDtcXG5cXHRoZWlnaHQ6IDE2cHg7XFxufVxcbi51aS1pY29uLFxcbi51aS13aWRnZXQtY29udGVudCAudWktaWNvbiB7XFxuXFx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfN19fXyArIFwiKTtcXG59XFxuLnVpLXdpZGdldC1oZWFkZXIgLnVpLWljb24ge1xcblxcdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX18gKyBcIik7XFxufVxcbi51aS1zdGF0ZS1kZWZhdWx0IC51aS1pY29uIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fICsgXCIpO1xcbn1cXG4udWktc3RhdGUtaG92ZXIgLnVpLWljb24sXFxuLnVpLXN0YXRlLWZvY3VzIC51aS1pY29uIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fICsgXCIpO1xcbn1cXG4udWktc3RhdGUtYWN0aXZlIC51aS1pY29uIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fICsgXCIpO1xcbn1cXG4udWktc3RhdGUtaGlnaGxpZ2h0IC51aS1pY29uIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMF9fXyArIFwiKTtcXG59XFxuLnVpLXN0YXRlLWVycm9yIC51aS1pY29uLFxcbi51aS1zdGF0ZS1lcnJvci10ZXh0IC51aS1pY29uIHtcXG5cXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMV9fXyArIFwiKTtcXG59XFxuXFxuLyogcG9zaXRpb25pbmcgKi9cXG4udWktaWNvbi1ibGFuayB7IGJhY2tncm91bmQtcG9zaXRpb246IDE2cHggMTZweDsgfVxcbi51aS1pY29uLWNhcmF0LTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtbmUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAwOyB9XFxuLnVpLWljb24tY2FyYXQtMS1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAwOyB9XFxuLnVpLWljb24tY2FyYXQtMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtc3cgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAwOyB9XFxuLnVpLWljb24tY2FyYXQtMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTEtbncgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggMDsgfVxcbi51aS1pY29uLWNhcmF0LTItbi1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyOHB4IDA7IH1cXG4udWktaWNvbi1jYXJhdC0yLWUtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAwOyB9XFxuLnVpLWljb24tdHJpYW5nbGUtMS1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTZweDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTEtbmUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMTZweDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTEtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xNnB4OyB9XFxuLnVpLWljb24tdHJpYW5nbGUtMS1zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0xNnB4OyB9XFxuLnVpLWljb24tdHJpYW5nbGUtMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0xLXN3IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0xLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOTZweCAtMTZweDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTEtbncgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTE2cHg7IH1cXG4udWktaWNvbi10cmlhbmdsZS0yLW4tcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtMTZweDsgfVxcbi51aS1pY29uLXRyaWFuZ2xlLTItZS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0xNnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMS1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTEtbmUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTEtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMS1zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3ctMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0xLXN3IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0xLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOTZweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTEtbncgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0yLW4tcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTItbmUtc3cgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvdy0yLWUtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNjBweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93LTItc2UtbncgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTc2cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvd3N0b3AtMS1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE5MnB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3dzdG9wLTEtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMDhweCAtMzJweDsgfVxcbi51aS1pY29uLWFycm93c3RvcC0xLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjI0cHggLTMycHg7IH1cXG4udWktaWNvbi1hcnJvd3N0b3AtMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI0MHB4IC0zMnB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLW5lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrLTEtZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLXNlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrLTEtcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLXN3IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrLTEtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC05NnB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0xLW53IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC00OHB4OyB9XFxuLnVpLWljb24tYXJyb3d0aGljay0yLW4tcyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMi1uZS1zdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtNDhweDsgfVxcbi51aS1pY29uLWFycm93dGhpY2stMi1lLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrLTItc2UtbncgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTc2cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrc3RvcC0xLW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTkycHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrc3RvcC0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjA4cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrc3RvcC0xLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjI0cHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3RoaWNrc3RvcC0xLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggLTQ4cHg7IH1cXG4udWktaWNvbi1hcnJvd3JldHVybnRoaWNrLTEtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JldHVybnRoaWNrLTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZXR1cm50aGljay0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93cmV0dXJudGhpY2stMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JldHVybi0xLXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93cmV0dXJuLTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZXR1cm4tMS1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JldHVybi0xLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JlZnJlc2gtMS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyOHB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3dyZWZyZXNoLTEtbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtNjRweDsgfVxcbi51aS1pY29uLWFycm93cmVmcmVzaC0xLWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTY0cHg7IH1cXG4udWktaWNvbi1hcnJvd3JlZnJlc2gtMS1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3NnB4IC02NHB4OyB9XFxuLnVpLWljb24tYXJyb3ctNCB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTgwcHg7IH1cXG4udWktaWNvbi1hcnJvdy00LWRpYWcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtODBweDsgfVxcbi51aS1pY29uLWV4dGxpbmsgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtODBweDsgfVxcbi51aS1pY29uLW5ld3dpbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC04MHB4OyB9XFxuLnVpLWljb24tcmVmcmVzaCB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC04MHB4OyB9XFxuLnVpLWljb24tc2h1ZmZsZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC04MHB4OyB9XFxuLnVpLWljb24tdHJhbnNmZXItZS13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTgwcHg7IH1cXG4udWktaWNvbi10cmFuc2ZlcnRoaWNrLWUtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMTJweCAtODBweDsgfVxcbi51aS1pY29uLWZvbGRlci1jb2xsYXBzZWQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC05NnB4OyB9XFxuLnVpLWljb24tZm9sZGVyLW9wZW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtOTZweDsgfVxcbi51aS1pY29uLWRvY3VtZW50IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTk2cHg7IH1cXG4udWktaWNvbi1kb2N1bWVudC1iIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTk2cHg7IH1cXG4udWktaWNvbi1ub3RlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTk2cHg7IH1cXG4udWktaWNvbi1tYWlsLWNsb3NlZCB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC05NnB4OyB9XFxuLnVpLWljb24tbWFpbC1vcGVuIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTk2cHg7IH1cXG4udWktaWNvbi1zdWl0Y2FzZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMTJweCAtOTZweDsgfVxcbi51aS1pY29uLWNvbW1lbnQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTk2cHg7IH1cXG4udWktaWNvbi1wZXJzb24geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTk2cHg7IH1cXG4udWktaWNvbi1wcmludCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNjBweCAtOTZweDsgfVxcbi51aS1pY29uLXRyYXNoIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE3NnB4IC05NnB4OyB9XFxuLnVpLWljb24tbG9ja2VkIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE5MnB4IC05NnB4OyB9XFxuLnVpLWljb24tdW5sb2NrZWQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjA4cHggLTk2cHg7IH1cXG4udWktaWNvbi1ib29rbWFyayB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMjRweCAtOTZweDsgfVxcbi51aS1pY29uLXRhZyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtOTZweDsgfVxcbi51aS1pY29uLWhvbWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xMTJweDsgfVxcbi51aS1pY29uLWZsYWcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMTEycHg7IH1cXG4udWktaWNvbi1jYWxlbmRhciB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xMTJweDsgfVxcbi51aS1pY29uLWNhcnQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMTEycHg7IH1cXG4udWktaWNvbi1wZW5jaWwgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtMTEycHg7IH1cXG4udWktaWNvbi1jbG9jayB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0xMTJweDsgfVxcbi51aS1pY29uLWRpc2sgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtOTZweCAtMTEycHg7IH1cXG4udWktaWNvbi1jYWxjdWxhdG9yIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0xMTJweDsgfVxcbi51aS1pY29uLXpvb21pbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtMTEycHg7IH1cXG4udWktaWNvbi16b29tb3V0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0xMTJweDsgfVxcbi51aS1pY29uLXNlYXJjaCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNjBweCAtMTEycHg7IH1cXG4udWktaWNvbi13cmVuY2ggeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTc2cHggLTExMnB4OyB9XFxuLnVpLWljb24tZ2VhciB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMTEycHg7IH1cXG4udWktaWNvbi1oZWFydCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yMDhweCAtMTEycHg7IH1cXG4udWktaWNvbi1zdGFyIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIyNHB4IC0xMTJweDsgfVxcbi51aS1pY29uLWxpbmsgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjQwcHggLTExMnB4OyB9XFxuLnVpLWljb24tY2FuY2VsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAtMTI4cHg7IH1cXG4udWktaWNvbi1wbHVzIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTEyOHB4OyB9XFxuLnVpLWljb24tcGx1c3RoaWNrIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTEyOHB4OyB9XFxuLnVpLWljb24tbWludXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMTI4cHg7IH1cXG4udWktaWNvbi1taW51c3RoaWNrIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTEyOHB4OyB9XFxuLnVpLWljb24tY2xvc2UgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtMTI4cHg7IH1cXG4udWktaWNvbi1jbG9zZXRoaWNrIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTEyOHB4OyB9XFxuLnVpLWljb24ta2V5IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0xMjhweDsgfVxcbi51aS1pY29uLWxpZ2h0YnVsYiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtMTI4cHg7IH1cXG4udWktaWNvbi1zY2lzc29ycyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNDRweCAtMTI4cHg7IH1cXG4udWktaWNvbi1jbGlwYm9hcmQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTEyOHB4OyB9XFxuLnVpLWljb24tY29weSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNzZweCAtMTI4cHg7IH1cXG4udWktaWNvbi1jb250YWN0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE5MnB4IC0xMjhweDsgfVxcbi51aS1pY29uLWltYWdlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIwOHB4IC0xMjhweDsgfVxcbi51aS1pY29uLXZpZGVvIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTIyNHB4IC0xMjhweDsgfVxcbi51aS1pY29uLXNjcmlwdCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0yNDBweCAtMTI4cHg7IH1cXG4udWktaWNvbi1hbGVydCB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTE0NHB4OyB9XFxuLnVpLWljb24taW5mbyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC0xNDRweDsgfVxcbi51aS1pY29uLW5vdGljZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xNDRweDsgfVxcbi51aS1pY29uLWhlbHAgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMTQ0cHg7IH1cXG4udWktaWNvbi1jaGVjayB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0xNDRweDsgfVxcbi51aS1pY29uLWJ1bGxldCB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0xNDRweDsgfVxcbi51aS1pY29uLXJhZGlvLW9uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTE0NHB4OyB9XFxuLnVpLWljb24tcmFkaW8tb2ZmIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTExMnB4IC0xNDRweDsgfVxcbi51aS1pY29uLXBpbi13IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTEyOHB4IC0xNDRweDsgfVxcbi51aS1pY29uLXBpbi1zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE0NHB4IC0xNDRweDsgfVxcbi51aS1pY29uLXBsYXkgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xNjBweDsgfVxcbi51aS1pY29uLXBhdXNlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTE2MHB4OyB9XFxuLnVpLWljb24tc2Vlay1uZXh0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTE2MHB4OyB9XFxuLnVpLWljb24tc2Vlay1wcmV2IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTE2MHB4OyB9XFxuLnVpLWljb24tc2Vlay1lbmQgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtMTYwcHg7IH1cXG4udWktaWNvbi1zZWVrLXN0YXJ0IHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTE2MHB4OyB9XFxuLyogdWktaWNvbi1zZWVrLWZpcnN0IGlzIGRlcHJlY2F0ZWQsIHVzZSB1aS1pY29uLXNlZWstc3RhcnQgaW5zdGVhZCAqL1xcbi51aS1pY29uLXNlZWstZmlyc3QgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtODBweCAtMTYwcHg7IH1cXG4udWktaWNvbi1zdG9wIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTE2MHB4OyB9XFxuLnVpLWljb24tZWplY3QgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTE2MHB4OyB9XFxuLnVpLWljb24tdm9sdW1lLW9mZiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xMjhweCAtMTYwcHg7IH1cXG4udWktaWNvbi12b2x1bWUtb24geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTE2MHB4OyB9XFxuLnVpLWljb24tcG93ZXIgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xNzZweDsgfVxcbi51aS1pY29uLXNpZ25hbC1kaWFnIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTE3NnB4OyB9XFxuLnVpLWljb24tc2lnbmFsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTE3NnB4OyB9XFxuLnVpLWljb24tYmF0dGVyeS0wIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTE3NnB4OyB9XFxuLnVpLWljb24tYmF0dGVyeS0xIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTE3NnB4OyB9XFxuLnVpLWljb24tYmF0dGVyeS0yIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTE3NnB4OyB9XFxuLnVpLWljb24tYmF0dGVyeS0zIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTE3NnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLXBsdXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS1taW51cyB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNnB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS1jbG9zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS10cmlhbmdsZS1lIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNjRweCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtdyB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0xOTJweDsgfVxcbi51aS1pY29uLWNpcmNsZS10cmlhbmdsZS1uIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTk2cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLWFycm93LWUgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTEycHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLWFycm93LXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTI4cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLWFycm93LXcgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTQ0cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLWFycm93LW4geyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTYwcHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlLXpvb21pbiB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xNzZweCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtem9vbW91dCB7IGJhY2tncm91bmQtcG9zaXRpb246IC0xOTJweCAtMTkycHg7IH1cXG4udWktaWNvbi1jaXJjbGUtY2hlY2sgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMjA4cHggLTE5MnB4OyB9XFxuLnVpLWljb24tY2lyY2xlc21hbGwtcGx1cyB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgLTIwOHB4OyB9XFxuLnVpLWljb24tY2lyY2xlc21hbGwtbWludXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMjA4cHg7IH1cXG4udWktaWNvbi1jaXJjbGVzbWFsbC1jbG9zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0yMDhweDsgfVxcbi51aS1pY29uLXNxdWFyZXNtYWxsLXBsdXMgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtNDhweCAtMjA4cHg7IH1cXG4udWktaWNvbi1zcXVhcmVzbWFsbC1taW51cyB7IGJhY2tncm91bmQtcG9zaXRpb246IC02NHB4IC0yMDhweDsgfVxcbi51aS1pY29uLXNxdWFyZXNtYWxsLWNsb3NlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTgwcHggLTIwOHB4OyB9XFxuLnVpLWljb24tZ3JpcC1kb3R0ZWQtdmVydGljYWwgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0yMjRweDsgfVxcbi51aS1pY29uLWdyaXAtZG90dGVkLWhvcml6b250YWwgeyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMjI0cHg7IH1cXG4udWktaWNvbi1ncmlwLXNvbGlkLXZlcnRpY2FsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggLTIyNHB4OyB9XFxuLnVpLWljb24tZ3JpcC1zb2xpZC1ob3Jpem9udGFsIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTQ4cHggLTIyNHB4OyB9XFxuLnVpLWljb24tZ3JpcHNtYWxsLWRpYWdvbmFsLXNlIHsgYmFja2dyb3VuZC1wb3NpdGlvbjogLTY0cHggLTIyNHB4OyB9XFxuLnVpLWljb24tZ3JpcC1kaWFnb25hbC1zZSB7IGJhY2tncm91bmQtcG9zaXRpb246IC04MHB4IC0yMjRweDsgfVxcblxcblxcbi8qIE1pc2MgdmlzdWFsc1xcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xcblxcbi8qIENvcm5lciByYWRpdXMgKi9cXG4udWktY29ybmVyLWFsbCxcXG4udWktY29ybmVyLXRvcCxcXG4udWktY29ybmVyLWxlZnQsXFxuLnVpLWNvcm5lci10bCB7XFxuXFx0Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xcbn1cXG4udWktY29ybmVyLWFsbCxcXG4udWktY29ybmVyLXRvcCxcXG4udWktY29ybmVyLXJpZ2h0LFxcbi51aS1jb3JuZXItdHIge1xcblxcdGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiA0cHg7XFxufVxcbi51aS1jb3JuZXItYWxsLFxcbi51aS1jb3JuZXItYm90dG9tLFxcbi51aS1jb3JuZXItbGVmdCxcXG4udWktY29ybmVyLWJsIHtcXG5cXHRib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0cHg7XFxufVxcbi51aS1jb3JuZXItYWxsLFxcbi51aS1jb3JuZXItYm90dG9tLFxcbi51aS1jb3JuZXItcmlnaHQsXFxuLnVpLWNvcm5lci1iciB7XFxuXFx0Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDRweDtcXG59XFxuXFxuLyogT3ZlcmxheXMgKi9cXG4udWktd2lkZ2V0LW92ZXJsYXkge1xcblxcdGJhY2tncm91bmQ6ICM2NjY2NjYgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTJfX18gKyBcIikgNTAlIDUwJSByZXBlYXQ7XFxuXFx0b3BhY2l0eTogLjU7XFxuXFx0ZmlsdGVyOiBBbHBoYShPcGFjaXR5PTUwKTsgLyogc3VwcG9ydDogSUU4ICovXFxufVxcbi51aS13aWRnZXQtc2hhZG93IHtcXG5cXHRtYXJnaW46IC01cHggMCAwIC01cHg7XFxuXFx0cGFkZGluZzogNXB4O1xcblxcdGJhY2tncm91bmQ6ICMwMDAwMDAgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTNfX18gKyBcIikgNTAlIDUwJSByZXBlYXQteDtcXG5cXHRvcGFjaXR5OiAuMjtcXG5cXHRmaWx0ZXI6IEFscGhhKE9wYWNpdHk9MjApOyAvKiBzdXBwb3J0OiBJRTggKi9cXG5cXHRib3JkZXItcmFkaXVzOiA1cHg7XFxufVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQmtFQUFBQUFBeTE5bi9BQUFBQW1KTFIwVC8veFNyTWMwQUFBQUpjRWhaY3dBQUFFZ0FBQUJJQUViSmF6NEFBQUJZU1VSQlZCalR4Y0s5RFVCQUFJRFJqeGswZEJRYUU0Z1I3S0ZWTTRyRURCSWpFS1ZWN3M3OU9aMHRlSGs4RlIvTkNBZWhKNlRjSzNlRDMvRXRic1BWMkFWYlltWk1naDdSTWRmQUZhRW1WSUU4a1IweVI0Z2Z2MUl1bE5USkhzVExBQUFBSlhSRldIUmtZWFJsT21OeVpXRjBaUUF5TURFMUxUQXpMVEV4VkRBNE9qUTVPak0wTFRBM09qQXduT2tIQlFBQUFDVjBSVmgwWkdGMFpUcHRiMlJwWm5rQU1qQXhOUzB3TXkweE1WUXdPRG8wT1Rvek5DMHdOem93TU8yMHY3a0FBQUFBU1VWT1JLNUNZSUk9XCIpO1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBZlFBQUFCa0VBSUFBQUN2TllscEFBQUFCbUpMUjBULy8vLy8vLzhKV1BmY0FBQUFDWEJJV1hNQUFBQklBQUFBU0FCR3lXcytBQUFWOVVsRVFWUjQydTJkWDZobjExWEg5N20vSDVGTVZBYVNWQ3pKM0dDaEVJa05Ha3BKMVR4VWhkQzVyYldZUEEzNFZwTzNXbnlSUlBGbGhJSmd3SmNrK2hJYkZHZWlpWER6cHhRS0pnLzFKZEw0RW56THZUTTJHQ2VoVUozZnpUQy9lM3c0TStYYzJYZXYrYTc5NS9mN25jbm44NURjbkxQMzJtdDkxOXI3N01tY3MyOTM4TkozSC9xOUV3RUFBQUFBQURhWXJYVTdBQUFBQUFBQU40ZU5Pd0FBQUFEQUJHRGpEZ0FBQUFBd0FkaTRBd0FBQUFCTUFEYnVBQUFBQUFBVGdJMDdBQUFBQU1BRVlPTU9BQUFBQURBQjJMZ0RBQUFBQUV3QU51NEFBQUFBQUJPQWpUc0FBQUFBd0FSZzR3NEFBQUFBTUFIWXVBTUFBQUFBVEFBMjdnQUFBQUFBRTRDTk93QUFBQURBQkdEakRnQUFBQUF3QWRpNEF3QUFBQUJNQURidUFBQUFBQUFUNEdZYjkyWFk2M2R2Y2tXL25tcGpqMTVpMmI2ZXNwQ0tPbTZUOGxDeG42ZEczdWg1aW5sMXNDMlVaTitiM3hMTmxWNzZ2TERqOGxyVE0rdU5WOG1zb3BnU281NU5wZEx5WmxNNWViUEFhemwxMTF2NWVsL0ZnamVXRm5OZkdhVmNLNitlSlhOQlgyMlV2SGpYRUVWaEw5N2FhMzIzNUpsWXJrQ0pubmtWN24zVzVOblhJN0x0ZS9kajVhb3FzWlNzUDk0MjhvamR3VDkrOTY2dmZUOHpWQUFBQUFBQVdBbWVWMldXL1g3WXZmYlBUYUN1SnlscjlpanJWY1BybTNJbHZyc0plVjlOcm0wRjRyNWVaWlNXZG81V2s0dHkrKzFtalZkRDcxaXJyUE5hZFZoaWJSUDBxV1V6TCs5NW81Zk0vUkxOODlid3VqcmtyVkdwR2k3MzM3WlRONy82bFpJWm1rZTdkVlhQVk43VHFtUjJlQ095bitaZUMzbWVlQzFIMTd1RHYzL2o4dGUrVlVFbUFBQUFBQUJveGp3c3c5NkcvQjkwQUFBQUFBQkl3S2t5QUFBQUFBQVRnSTA3QUFBQUFNQUVtSWVyWWE5L05jekRkbmY2eUozaCtuRTl0cnZUUjNxTlc0N3RwTnJFZG03bTQvR2o2RmVVbi9POFNtbVYwdE1lWGRkWlYxTEprYWRlVkgyVTBSVWZVdDdHK3VqV2xEcFJmUEJTVW04bEZ0ck5vTlpaVnV3cmM4VHVwWSticDJvS1BZL2VWYmVXYmtwVnBLd3BhNkJTTGVYVmxaZTd2UGJlR1IzMzlVYVVWdy9ldFU1LzN1VTlQYjNyV0l2bjQycXk3Q1Z2eHpWRzN3V2wxcXU4dkhpajg3WXMyY3VWWkRZdnhwU1NTaTZpWHQzQjM3N3gvTy8rVlppRlUySG4yclZsMkErN3lTdkR6ekhqOW1QRzdjY1c5QkZ0bXluTFhndHhGQ25QVStQYU90amoycVNpVXp5djFVWlh4czZGb3BXaWtoS0xvbVJxWEtYKzg3S3ZLR243bG9ySTlqeGxSOG1STXB0MHhSUUxpajR0TE92MTQ2MlRsRmQ2amhTMXZUV2pWNlB0bFJkRkFlOHpTTkhLMWtlZktmcm9kaHRsckZwUmU5ZHQyOE82c2VmNW8reEo4bWFUMGw1NXhxV2kxcTNadWROM1BpWDdPaVU2N3pOSXo3aXlsaXA1dDczMTd2ZThlMFc5bGxLNmpiaStjUWNBQUFBQWdBMkdVMlVBQUFBQUFDWUFINmNDQUFBQUFFd0FOdTRBQUFBQUFCTmdIcFpocitkVkdRQUFBQUNBaldhZWVjNEpBQUFBQUFDc0VGNlZBUUFBQUFDWUFKNVRaV1poTyt5NFQ2RVplZzNZZmZQczE3VlR5NGRWampLMlpsdHVjWGVjMzRHOENrbFpWcXpaQ3F5K3JoUWZVbGU4R3NheDE4MUNMYTNhVldhSkp5V3JVd3UxdlRaWHM1TFV5bzV1czhSenBhV3VjQXRQMXZXVTJZUW5yTmVDc3JZUHJITHQwck5jeTdkMk5WT3lyMXZsam02ZzdsTitOVE9pZkljVDBSMzg1UnZocTNjVk9RMEFBQUFBQUkyWkgvbXZaYi9YNzRaWnQ5M3RYUHM1ajdFRnI3VzQvWEJsN0dHZUozcDdleXc3T3QyQ0hsRjVScnlLalJsSEd2dHMrNWJTcHp5V1BEdDZMMFdIV0EwbGRydVg3YWVTaGRqRFZIdkZrN3ErMmRxbVl0RzFzdXV0eFR3cVdkL3lmQ3VKb3E2MmRYVkwxYkN5ZXVqekl0VTNOVzdldXRjQ1pWNHJLaWx6VTZrSzcrZ3RQTEV0MTVvcDNwWjVDbmgxVnF5bDZsbFhQcytDYlZtSnlNNm1kOWVoMlBTaSs2YnJJR3ZiSFh6NzliMnYvSnZiYVFBQUFBQUFXQ0Y4bkFvQUFBQUFNQUcwNHlCVG40UG83ZTNYOXNlOUZQdHhlOTFENWRNVys0UExraEZUbEh5c282aG5mNHBuMjlFL0psTSsrL09xbDlJd2xhT1VENHFkdk5wUWRQWm1UZm1RUmZmRXpxQlM3WFowM2hxd1czcXpyK2RkcnpSZGJXWGQwUHNxMWFMbkpTOTN0di82eDJGNW42L3BZeW5vQ3V1eDVNMjdsRmQ1dmluVjVjVTdRL00rdGZkK0xGNitEaXQxN28xTFh4bVVlVzFuMDF1eEpTdUpvcWV0bFRlaThvcXlNK3RWTExhbTE1TCtjV3FKVnN1d0YzYTdnejkvL2V6T3hUQUx4NzgvOTlPbS9lNjFOdU9mbGZiZXU3Y1NKWkhHZlRkQnR4WStwR3dxMThlL1BpeWwxU2JvMWtJZnUyVmUvZFJxczJsNGEyejEvcXpHdzAzSTNTcDkyTFM4dDRobGs2bjFCRnpsYzZlV3piemEwKzhxejhGTlk3M1BsenpMZWMvZnhuRmQzN2dEQUFBQUFNQUdzeFd1aHYyd2UrU2ZObkZMeFVLcWwvZm4xTjI4VVZJV1V2N2I0OXBSZXhVdThVRVoxL1pFVWRLYmF6MTNYcFVVZjNSc3hmSXFYTStnbnYwUys4b2NzZTk2VmRWdDFxcE1yeDN2OVZyelMvZldxMUplcEY3LzdWN2VsVXIzUVlsZDk3bDhaYmIvbVlwZHNhT01vbml1KzZsbndXdFpmMDU1YXppdmxuUU43WEc5ZmlwcTVGMVg0c3JUVFkrNjdtNGhaZE9iUVQzZWt2Mkp0Mi9XK3RNZFBQMzZIKzQ4ZStUMk11eUZWOE1zYklmVG9ZVEJ6b0J0VFcvWndzUEJUbXd6NVZXcXBlNVBxbjJKRG5GZmIzUzJWL3AxL2E0eWVubG12UnJxdmVKTUtSbE1qVmhlVjdveUtjL3phbGpwV3l1NjhxcHJQWmRiS3huM0hmRHFyMXdmVzg1YlQ4WjQxNStTK2xkRzk2NXBTcjY4SzIydDdDczE0STFGNzZXTVhySzY2cldockc5NWExZXNjMG5zOXBWYXVmRHVLTnJoWFUvS3g4cWJ4WGs1TFovRnp0aTdnejk1L2RHZHIxUVFDd0FBQUFBQW1zRnhrQUFBQUFBQUUyQWVyb1MzK2lmQ0xKenFkc0l5N0svaWQzT0dVNk96Rkc0Y3NkeVRGckdrYkk2djYrT21GSWl2bDl2VTQ0ckh5bE5TMGFvdUpiclpIdXExV3F1cTYycHVxMVJMZVNWZWIxeDVGa3AwMXJQWlFoK3Z6WlJ2M29wZHpacHZLNk92cmpGNlBhUldpZGlPVWh1dGRTdFppK0xyU296MmRYMnNram11Wk0xck9jK3I4WWhlSDFLanh6VmNxNkowRCtzK0JmTDJKM3JzSlhmcllzL0hsSjRsTThLMDN4MTg4N1ZMcDUrODNxM2JEanRoMlVkblZYYWpVeVFUZDhmWHgrM3RYcW03aWorcFhucWJtNGdvajY3b1pxdmh0WnpxcTZ1dDZKK25aSGxtNDc2NnR5VlIyRzN5ZkxiclI4bUwxNzRTWFdvVSsyZGJEVjNoTWZhNllVZXRyRE4yanJ4YTZhUFkwYVYwOXQ3VnZkSm52YjJlZXhXMjQ5S3pvT0NOMUd1em5RK3RWMlB2TEN2WHF2ejVXNkpWcmVlSWtrMWxKZlN1bHNwOHQrOHF6NTFhSzBhcXIzNDlqa1YvRW5tcnd2dEUxdTJrL0xIejVZMDBoSERqeGgwQUFBQUFBRGFTZWZLM1BjR3R6Y2ZocmY2SjhINS80dkR2MXV6SkIvMHZIMzRZZmhMT0h2NXczYUpFZk5nLzJqOGNMb2NYKzN0WE5PSzkzVjFiNTlZZDlvajd1b2RtaStTTENqb251K2U3cDhMSjhOeldVK3NPQ1FBQVlLcDBCMCsrOXZLWDMxbTNHODM0MzNDMmZ5ZDgyRDk2K0xEVS9rZjlpY01Yd2lKcm8vYWovbzdERjQ3OERqT1ovcjNEdDVjbk12OFF0ZGUvdmJ5OWdYWUFtOFIyOTlCc2NaTTJKN296M1lYdUY3dkxXMzl3azVZL0Y1N2FlakNjN0o3cm5yNUp5M3U2dTJibndzK0VSOEt6eVRaM2RtOXMvU0Q4YkhpcWUzRGRNZ0VBd0sxTWQvQ04xNTc1OHRuay9RLzYrdzgvQ292d1luOVBzbzMrLzI2SHJlMlYvczMraVZTVGZ0ZzBEeTF0THZiL3Mzd3NYQTM3TjV5eENnQ3dDY3pEcVhBNjNOUGRQVHQvek4yVDNYUGRVOTJkNFkydEh4eTVmbHYzU1BkcytIVDNmemY4OFdQNGc4RmQzWTN0UDlXOXUzVm51RDJjNlM2c08yQUFBR2hMdC9qWFYzNy8xMCt0MncwQUFLaks4TnJWTEd3ZmZjMnB1Lzc2MDQyLzh1TytyVjg3OXU4MHRydUhacGVQWEJuKy9tSDR1d2dBQUJpNDJGOWFQaDQrRG0rR28vOTdlcTkvZTNuaW1QYnZIZjc3RFc5TUxNTmVlTFYvTDNxVFluaWI0MEovNmZEeGJ2SDlWejcveGY5WWQ2d0FBREJ4Ymd1UGRNK0dlNk1OL1czaE44T3ozYWU3eTdPamY0ZHdlM2NtWEFpZkN1L083anh5L2NSd3ZYdDM2ODdrV0NmRGMxdFBYM3RKQ1FBK21iemYzN0Y4SVZ4T3ZCV3k2RjhNOTRiLzd1OC8vTkN3Y0dMNVFyZ1MzZ3JISE5QU1grZ3ZMUjg3NWpYbUMvMmw1ZVBoU2pEZUgybEh0L2plSzcvd3hiOVkvY0FBQUFBTkdWNURPdGs5MTZVL2lSNytlSEFpbk9rdXBwcDB3OTh0ek1MeFI3d05mR2JyNjdNdk9Yd2JQdmkrdDd0NzY3eWpGMEFKd3daMDJJenEvTGovUm4vVzhhM2d3UHY5SFljdjlGZkNtMzM2M01KaFM1MTZHWHM0RnVKOTRjWHBUeGpkWXZmbC8zejRvK1Q5ZWRqdWRzSlY4NE5McGMxNktmY3d0akMra3JvN0VJOWJTN0c2eXE4eWo5UDFmSlA5MGNjdGFabnFtNW9SU3ZzU1AxTnpiZE9xUWtmUnZFV3U4L3JtMlkrenB0Uk1pWjVqV294U1N4TmQ3YzlzZlgzK1c1a2VKbDZqa3BpRlUyRW5MTU4rNmJudmxwM3V2dWdGTFlVUCt2c1BQK292bTEvbHRXQ0laU0NsekUvNnM0ZnZoQS9Eby8xeDI5OTUyQTZudzlXdzUvcG03MkovYWZsWStMaC9zMzlpUmZXc3o5TmFzNkRkYk5vMFpKKzd4Yis4L0wySHY3TnVmd0VBQUFBQXdJSnozQUVBQUFBQUpnQWJkd0FBQUFDQUNUQVB5N0Evb1hlQUFBQUFBQUEra2ZCLzNBRUFBQUFBSnNBOGZCemVNZzdyR1ppRlU5M3BzQXo3L2F0SHJnd00xK00yaWgyRmVDeTlsM2NzcndJcCsrTzdkVDBwaVYyUHdodHZPK1h6UmlueHYxeXIrTzVBaVQrdHRXMVJ6N1dxYS9VektCNTlvTmFNcnJzKzVLMlE3Y2F5bzlPOTNiUTFKL1ovSEVXdExOU0twYlVtaWc1ZU5lck9yTlIxWlVhWFpMTjhOYk5IOTY0ZXlueHN0MWNwZWZMV2ZlNnMwdk1XdW8ydWRJdS8rZWVMWDNpbXdqQUFBQUFBQU5BTVhwVUJBQUFBQUpnQTg3Q2MxQUgxQUFBQUFBQ2ZTT1lWZnY4WkFBQUFBQUEwWmg2dThxb01BQUFBQU1DbU13OVhoRk5sQUFBQUFBQmdyZkJ4S2dBQUFBREFCSmlIWmMvR0hRQUFBQUJndzVtSFpkam5WQmtBQUFBQWdNMkdqMU1CQUFBQUFDWkEraDMzWmRnUG8xKzFHazRuMjZUdUtuZ3RqTDJ5ZmRQdDJCWlNIaXFlbCt0VGk3cWUySm9NMUsyWmNhK1NqTFJXVXE4cjc0aGVWUlhGU2lLdFphRjExa3BtZW90c2VuMk9SOWZYd0xyNmw4L3VGak0zNVpWZS8rVmVsY3cxVzlWeVpXeWIzdEdWbFg5TWlYcDY5ZG9qZXA4ZFNrVjU4K2oxcHgzZTZQSld4VHl0MnFuaFhRRmFQRStyK3R3dHZ2VlBqejMwV3NQaEFRQUFBQUNnR0U2VkFRQUFBQUNZQUx6akRnQUFBQUF3QWVaaDJYT3FEQUFBQUFEQWhzT3JNZ0FBQUFBQUUyQWVyb1MzK2lldi9kY3NuT3AyM0RhR2srRHorbnF0S1dQcC90VDF2QzZiSDhWNDNOVFA2OVVxdnI0NXZxM1NuMW8rakgvbmd6NEg4M3JwVjByMGpIK0xoVkxENjEzeGREMC9DWlJrcXFReXZSNk9SNm43RkN2UkxZN2R2bDd1c3o2anZkZHQvMnZaVEZuMjZ0Q0N2RXBUYkhvVksxRm1rM2RsZW5UdDloN0xzTi92ZG9zekwvM1pyMzVuM1JFREFBQUFBSUFGSDZjQ0FBQUFBRXlBZVZpR2ZUYnVBQUFBQUFDYnpUd3N3eDZueWdBQUFBQUFiRGJEcVRLdmxoc0NBQUFBQUlCMnpNT3k1MVVaQUFBQUFJQU41L3FyTXNNbnF2T3dIWTRlVlRQK2RIVzRtMnFad3R2ZTdoVi9TcHZ5YW53bGRUZTJvL2ROV2JOVmlsdnFVU3RxS01yb0NxUnM1bm1sOTgzVFRjK2pVcE41ZlcxVmxWaHNIZXBHblZjYkNpV3pQaFhSK0xwOVJmRThWaWEycG1mY3V4N3FZK21IQjZSaThhcGRDMXZoY210NTZ0VjZjdW16S2FWNWlyeDFTVmNwOWtUUkpKWE5sQVY5aGZldVkzcXZWRXM5czk2blFNaytSTmZXaTdkbVVscnBtVkxVem5zaXg4cDRJL0xhekZ2L0ZSMzBaMGZrWjdmNG5mUC84T0F6MS81citGQjFGazZGblNNZnJZNnZ4RCtQKzQ3Ymo0bmJLM2Z0WG5ITEdOdnp1SmN5bGoyNnJZa1NVWW0zdGc0bDJ0b1dkTjlpZmV3b0ZOMXN5OTVLOXVxZ3E2VG5Xc0hiWHU5bHErZlZQdytsTm15djlPajBHb3ZKeTJ4NVZTaFJLTG5UbFUrTk83WmZ2ZzdvOVprYUpTOXFYWms0M3J4MTJOdEduN05lbjcwMVp0djM1a3VQUmZlMkpJUEtjMDMzd1R1WHZSbFI5TlIxMEszVmVuWjdGV2hIdVE5MW44aW10Vzd4cGZQZmZ2QzNiK2l3MSsrR1dkaWV4QUg0NDQ5cmJaL2p6M0RqOXQ3WTg5b3IzcWJzZXkzbzNvN3Y2aTJWc1hUTHRuM2x1aktXb21HSm4zb2VVMzdXbW9OMnpYdjExRWZNNjF0aUlTL1h0U0wxWGkrZmF5MHF4SzROeGYrOE9yZEhUeDJmNEoyYjViVmtXeDU3NVIxTGlTamxnMUxodG4xdk5YcHprVGVXN1grdGRUNFBYYVVXSytFcTErVHk5ZHlybTdKV3BMU3RWUWtsK2NvYnhUbGl0L2lOODZjLzkxSm1HZ0FBQUFBQVlDWE1yLzM3MWo1YlpoYTJ3K2xiUE1ZV3JFWTNzclBKM0tyWjhjWVZ0NSt1TXRQMWZOTVlLMWxMMWZMS2JCM3BKbzlTMTgvVno1U3BqOGphc2hLNnhlZlAvL3puN2s3ZW40ZFRZU2RjamQ3MFNsMzNFdHVaajk3cEdhNm4ycVR1S21QcGNlWFpUOTBkby91ZkYyOUpMblN2NGxoUzBTbjZsRlNha3J2WVErOG95b2cyZWl4Mis1UzJ0U3JXcThQWTI5Z2ZXNGU4T2ttTmtyZHVlR3MrbFIwbGQ2dk1pMWZKUE10MkxoUTlhNjFwZW1hOTlWQ1NsM1p6elI2cmxzTGxLN21TSXowdXIyOTVjNy91azdka0o2T3Y5dmJhVzNjK2x1KytTcDc3eXZPM0pJcld1MXp2aUtQb3JtL2NsLzFldnh0bVhmUnUwT2o2OFBQQStFcDhOOFhZdnJkOTNNdjJOalZLZkRlT0pUV1czVDVGcXBkdFgrbWJHajFsMlZZZ0wrK0t6aW5mRkczdGpOdTFaR2RUaVZleG83ZFgwUHZhMmRFVnNLdE9qMEtaajdhR3lxcWlyd202ejNxTzlGbXM2R1A3cVZqTHF5NTk5U2p2cGR6MVdodTM4VDZKZEZWTFpyR3RnTDNDNi9IYVNwYXZxUHE2cDYrRWVyNjh1ZEFycXNRSDcrcGtxNXJ5VVBGVHI2THlKMXE1Mm9vT2VVL2hsT2ZlV0dvOXJVcjJrNHBYeTM2djMrMFdENTc3NGEvOGFRQUFBQUFBZ0ExbW5qeVV5aVoxV0ZKcjhzYXQ1ZTI2b3E1Rk8vODNVeG5saUxwMlB1dWFlTlZUamlwclI0dFJTaUxhbk5yYkJHODNRWTFhOVh6cnNkN24xNmJGcUJ4NTNHN0VXNG55dU1ybjdHcWVDNnZQWUMwZjlDTkhCVSs2eGYzbi92cUIvL3JwRGZWd092dFlLUHNJcDFTdk1TWEhnZVVkVlpieU1CV1JmU0NYOXhDMFBFKzBaQi9mUzllMi9PZ3g1WkFtMjM5Yk42L1BldFNLaGpFbG95c3g2bGVVMldkN2tyY08yTmFVUXdQYjZXeGI5c2JvcmJxU1F3Ymo5bm4rMkNyWjY1dlNOK1cvdlRJcmxLeVF0UTRWVlZUU2oxUE1tNkdwVWJ3clE2MjFzU1FqZVhkTDJ1ZXRHTjdEcGhYTlV4cm16WkZhczh5T1duL1c2RDdrVmJJOWxwSXA3eEcwZWs3dDl2R0llaXpMc05mdmRvdlBudnZqQjU1M3B4TUFBQUFBQUZiSXZPaUw2WkplQXkyKzVHMXg3a3Jkcjg3dHMwM0cxOHR0Nm5IVk9rV2g5VGZhU3V3dFRvbFJzcSswekZPdnZOZHFUdkN3bGF4MWJrbTVlclhPUmFtbGo5ZG15amR2eGJhWWoxNWw5TlUxeG5zZTE3aVhmc2JVNm5VcldZdmk2MHFNOW5WOXJKSTVybVROYXpuUHEvR0lKV2V0S0dlODFOcnpLQjdXZlFyazdVOWk4azRvV3VVS2xuZUNUY21NTU8xM2kxODY5L2dEWHczTHNCZDJ3eXhzeTcvYzFkZSt4T1p3ZldCOE4zVmRzVHp1bTJjaDFVYXg1dTAxSGoxdW40b3VkVmZ4UlBGSDF5MG01YTAraWgxWFNnRmJ5WlJscjRZbGxhYkhhS3RVUGtQTG8yN25qNUo5UmUyODdIaG5TcTNxMVZYeVJsU3VvVGRHdmMxcXFMV0tLcHJZcXViTmVzVmJiMGJ5Vm9CYWM3TkVEY1ZPU1g1MTMycEYxMjRXbHp3SGxiN3RuZ1ZqOHA2NXRXYU5WKzJTNThVeTdJWGRickY5N2dzUGJHWEtCd0FBQUFBQUsySGV2M3Y0UjFjL3UyNDNBQUFBQUFEQTR2OEJETFU4WWNkZ1kxOEFBQUFsZEVWWWRHUmhkR1U2WTNKbFlYUmxBREl3TVRVdE1ETXRNVEZVTURnNk5EazZNelV0TURjNk1EQTZuZ3l4QUFBQUpYUkZXSFJrWVhSbE9tMXZaR2xtZVFBeU1ERTFMVEF6TFRFeFZEQTRPalE1T2pNMUxUQTNPakF3UzhPMERRQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFHUUVBQUFBQUFhbzRsRUFBQUFBbUpMUjBULy94U3JNYzBBQUFBSmNFaFpjd0FBQUVnQUFBQklBRWJKYXo0QUFBQklTVVJCVkRqTFkvZzFtV0VValNLcW8yL2ZHTDVMTVh6UFlmaCtuT0dIRnNPUEJRdy94UmgrVG1YNEpjTHdxNHZoTndQRDcxeUczeGNaL2lneC9JbGsrSk0waWtZUk1RZ0E4cEpIM2lPaFRsQUFBQUFsZEVWWWRHUmhkR1U2WTNKbFlYUmxBREl3TVRVdE1ETXRNVEZVTURnNk5EazZNelF0TURjNk1EQ2M2UWNGQUFBQUpYUkZXSFJrWVhSbE9tMXZaR2xtZVFBeU1ERTFMVEF6TFRFeFZEQTRPalE1T2pNMExUQTNPakF3N2JTL3VRQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFHUUVBSUFBQUN3cWtIUEFBQUFCbUpMUjBULy8vLy8vLzhKV1BmY0FBQUFDWEJJV1hNQUFBQklBQUFBU0FCR3lXcytBQUFBbWtsRVFWUkl4KzNQUHdzQkFSZ0g0Ti83czBnbVhaU3VLTXZOZGwvQVYyQTFYMWx0ekJhZjVVYXpFcDNScEt1akZNVjB1VC9keTZjUXd6czk4d1BkWlZrOEl3QUFobUVZeHJkQldTWkpHRktxNHNtR2FHREVOZUZnd2dmUkVwOGQ2UGgxT0VaRVd4YVZPWFNWUmllSGNHWEpBTHJObnZFUWVzNm5sejIweU85WGw5SVVuMTI4ZTBWd1M0azZCdlFJb29iK1g2UU53ekIreUFjYS9qSlZSVnk0Z1FBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhOUzB3TXkweE1WUXdPRG8wT1Rvek5TMHdOem93TURxZURMRUFBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRVdE1ETXRNVEZVTURnNk5EazZNelV0TURjNk1EQkx3N1FOQUFBQUFFbEZUa1N1UW1DQ1wiKTtcblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBR1FBUUFBQUFCSEl6ZDJBQUFBQW1KTFIwUUFBZDJLRTZRQUFBQUpjRWhaY3dBQUFFZ0FBQUJJQUViSmF6NEFBQUFSU1VSQlZDalBZMmhnR0lXamNCVGlnQUNWYU1nQjB6U3hhUUFBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeE5TMHdNeTB4TVZRd09EbzBPVG96TkMwd056b3dNSnpwQndVQUFBQWxkRVZZZEdSaGRHVTZiVzlrYVdaNUFESXdNVFV0TURNdE1URlVNRGc2TkRrNk16UXRNRGM2TUREdHRMKzVBQUFBQUVsRlRrU3VRbUNDXCIpO1xuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFCa0VBSUFBQUNZM2hGMEFBQUFCbUpMUjBULy8vLy8vLzhKV1BmY0FBQUFDWEJJV1hNQUFBQklBQUFBU0FCR3lXcytBQUFBaGtsRVFWUW96K1dRTVFyQ1VCQkVIMU5hQ3pheFRjN2lIY3doY29pa3RQNmtTOEJLOEJJV0hrWVFyTTFtTEQ1QmI2Qmc5WGc3c3l3czltTnp0QURnajNDakZiaWZrNEErMG9kMVVXRGZyMmtsb0prR2dac1lCZFJUS2ZCK3FnVE90Z3pycUhKV0N0ZzlUKys5cGRuRUlIQWIyMnlqd1BrNlhSUUN6dk5hNElzUDMvL1NUK01GNXVVL2lYR3lmQm9BQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01UVXRNRE10TVRGVU1EZzZORGs2TXpVdE1EYzZNREE2bmd5eEFBQUFKWFJGV0hSa1lYUmxPbTF2WkdsbWVRQXlNREUxTFRBekxURXhWREE0T2pRNU9qTTFMVEEzT2pBd1M4TzBEUUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNnQUFBQW9FQUlBQUFCVERQTjVBQUFBQm1KTFIwVC8vLy8vLy84SldQZmNBQUFBQ1hCSVdYTUFBQUJJQUFBQVNBQkd5V3MrQUFBQTRFbEVRVlJvM3UzWU1Rb0NNUkJHNGMwMlhrQ1FMY1hLd3NONUVxK3puU2NSYThGYXNMUDRxMERHWkFTTGVjbXIwbVNIcjl0TXVoNVByOTErTW5wZm5vZkhmWEsyT1c5djlqZGIrdC9jdVIrcUNhWlNDMkEyTlFQM1FGVnBYWmZGZnkwaVZjM2VDM0dwbXVzQVI2ZnEzQVJtVUp2QUpHb0Z6S09hWUNxMUFHWlRNM0FQVkpXK3Y1WklWT1grOFloTDFkd2Z3UkdwT3J2QmNhbHVjSFNxQTh5Z05vRkoxQXFZUnpYQlZHb0J6S1ptNEI2b2F1eTB1TlN4MDZKVG04QWthZ1hNbzVwZ0tyVUFabE16Y0E5VU5YWmFYT3JZYWRHcGJuQjBxZ1BNb0tvUHNuL2VhTFJ3ajU0QUFBQWxkRVZZZEdSaGRHVTZZM0psWVhSbEFESXdNVFV0TURNdE1URlVNRGc2TkRrNk16VXRNRGM2TURBNm5neXhBQUFBSlhSRldIUmtZWFJsT20xdlpHbG1lUUF5TURFMUxUQXpMVEV4VkRBNE9qUTVPak0xTFRBM09qQXdTOE8wRFFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUR3Q0FRQUFBQkZubkpBQUFBQUFtSkxSMFFBSW4vdFl0WUFBQUFKY0VoWmN3QUFBRWdBQUFCSUFFYkphejRBQUJvblNVUkJWSGphN1oxN2FHWEhmY2MvWjcwYnI3eTJlNVcwTVJJcDNnZXArNkRzWFVzbWNYSHhWZHMwYXdkaWFVdWFVaWhJdHBFYVF1M0VVQ2hKd1haSzZGK3gzUVRUcmtsVzIwQUNia0trTldteVRoK1NzV2tUUi9KcWNlc21EWDVCSTFHYTlxcnVIM0pZSjZkL25OZk1PZk02NTl5cmU2VXozMFY3N3oyL2VjOXZmak5uZnIvNVRYQWNqeWJqd0tBTDRERlllQVpvT0R3RHlCZ2paR3pRaGRoTmVBWVFNY1ltc05ra0Z1ZzFBd3grL0l3UlZvNjVDWXlqWTRFazVjSFhzWWVRR2NBc0FNUDBud20yOGFPUEg4YTVqMm5EMlBKT09yRmFEYUx1MzRwWndKVHlQcElSSWdQMFFnQ08xMGdoaVp1TXcvS29FeGNDQXJhQUxRSUNROHAxNmpoMENOSjlnS1NLeVRqUUlZUkM4NGlJMGdrcXhVOUdtUzUvVzk1aHpiSzdwbXlyNHg1Q0pnSE1BdEFWcGpGb256NmkzRTFkYUU2bDN0ZzBUVUZpeXZYa3pKQWhLTDBUYUI1RnBqR1lOV3JWc1dOUHdUdzJ6V1UzeThBc1padWMyVk1vendCbWhBTnZtakUyS3pPWWVRcEtVaDU4SFh1SVhqUEFYc2NZbS91cGUrMDRPT2dDREJtMjlzZlN6aDErSjdEaDhBelFjSGdHYURnOEF6UWNuZ0VhRHM4QURZZG5nSWJEMndQazR3NjYvTHVNTXZZQWJoWUJObVhNbU5FZXdKeUR2WHZxMkFQWTFlRlIyZmNWazVTekIzRFRnSm1iVU45QjQ1cnZybW5idXQrVyttYnVVNS82dnJFR0tOb0RSTkR2aGllaFRQbzJQZDBXMjhVZXdGUTZjKzcyK0dhRWNkcko1NzZBYkErZytpNWp5MGtLcU1QWXg2ZUxQWUJwL0xtVlRjOCtvZFhhb0V4T2V3SlZ0SUVtaGV1dzJ3T1ltTXNtZjVLYWUzV3dBWU52bkxyMkFJTXUveTdEMndNMEhINGpxT0h3RE5Cd2VBWm9PRHdETkJ5ZUFSb096d0FOaDJlQWhzT2JoZWNSRG5DWHYvNWVhZW55SDZ3WHZTK05NTWdTaE5ZU1ZGY0YyV01Pb09ieUZCQ0NVZGZ2NGg4Z3JFQXBpNnA1Mk1vZmRYMWdUTVhPSEZWanU5WEFKVlNKdUFla0FMYnFCdzRWME1jUEhCcklwUXFoUWRualVyN0FRSk0veStXUlVPd3RZSzZobVlGQ1MyeXdEV0twL09JVTRGcDluYldPdlpHQ0hnajQwS2lKdE0yaWRVb1FwckVESlZYTVhaVkxNcnowWlFnTmRIUGFXZTNNdzBBc1pRQmxGNEdodytpeGhYTGh6bXBqM0sxekE0ZlVUUjNra203VkZqQU5RWmUwN1cxUW9KZDVEY3hFbkVzb05jMHNBdTBjYkU3REptTGRSTFJ0Qk5seWQxbEVWb1dkeGUxMHFRUmxKSUNiNkt5M3lnMGNwVXkveWhnWUJheGJ1b0ZEbUtvd1Q5UG1DVkFaOTZBbTBPQXc2QkxzNWZ3cnhQVTdnUTJIWjRDR3d6TkF3K0Vab09Id0ROQndlQVpvT0R3RE5Cenk0ZERFV2VyZ1lQY0gzays0dElDTFJyUmFQTnZaYU5kY1NpRmpnT1JnbEl1Nzkyb04wRHRVUzh0V2NyY1dNTG1hemJSeFk2VmpSM3JLNUorK0RtT1ZXeURNbFJKUUh3NDFIK0YwMFdpUEtaNzFqZ1YwYWJtNWh0Q1gzNjBGZEhtTTVZN1hqcFdLbmRYQUpvSHFIVTB2SE5DVmo0YTV1Rk8zSGNIV0hSQjFzNlN4bDBDWGp0MkZ1NzNrYmc3cDFScURZdGNHT2JydFlIbldPYXJ6aWFHVXNsbGhyRk5ZQjhVd1pSbkF2UUdDRW5IZFNtQnVRcGY4N1dmNzlmbmJZdHNZd040RzVnNjBNNENaZ1RRTVVPNHRJR3VBS2lxTFFFaERuWG9vZlpyeXI0S3MzRlhYRUtiY3gyTnFNb09yUFFpWThrOWlxdGNBdHBRejN3Mm04ODM1VXBhMEJ6QTFnTHlBTVZYZlhEaFRGVTFwaUZXem0zMnB1c0RPZ0tZYWJPVWNTR3lWVHNFTnB1N2RTcSs5Y1NzbFphY0FOM09xME9vaXdqd0wxb250MXJ6cWVyak53ZlZOMmt6cFZML1V4cjRHVU1MN0J4QXhacjB4YWQvQkh3d1IwYmpiQXZ4V2NPUGhHYURoOEF6UWNIZ0dhRGc4QXpRY25nRjZqVUdxc3lzZ2J3OWdnMGxmNVZMMXNacjY3bjZqZnVrQ3kyYjNrTlc5YUE5Z2drbGo3ckpMbUdqc3hoME9tT3BSOTNDVitYaDRZRDMrYXU5Z1hYeFQ2Z05DdGhNb0ZzdnU3YmU0MlNnZWpheDIrN2ZyUmpPWU5IYTIySUUyblBoVXArMDBIUjRObmFqdU5kMFZxTmNBT3FNRHM3NHFteHFxR0MxRUk4ZHVOcVgzWVJEaXF1c0xTanhWNWF2SzMzNnllU2lSTVlDc0tDeC9nWHgwd1hyU2ZlWGpCMlM2dkdvSHFMTXdkVjFRVk12WExVUWRIeDk5UU1ZQW9xS3dDZy9iYmhLd0sxdnJ6bzZCSUVIVUVrTCtWSVhvelNoVzVTQkxqNkdSRStJVWtLbENWQUk4RXZDUnVaY2FXMFo3QUJkdHY5MDloQm1aTFlEYXBNTGM5TmtrcFBjdWtvUU1TbExGRUZVTmF2b0N0VHBZdDR3QkYyV3BiaEhZQzJXcm05VmkxWVdteXlJU1F3bjI0R1V5M2g1QXh0Q0k1dDJDM3dtVTBiRHU5d3pRZUhnR2FEZzhBelFjbmdFYURzOEFEY2Z3TVVCcldEWkptNEU4QTdqcHNrMHFtOUNKcWd2Um9yc3JyMktEOW9Nd05Dam5MdDVORlROYW96eGRFaVpwR2NOVmRWbWZZUi9kQUY0SE1nT1lkNm5OdTkzSnFHN1JWYkpBbUc2VXFzL3VSYUovTkEzUjFjUlB2bFZ6cWk1S24vSWF5MzJJakFGa2QrOUZaUHB3bmN2MGdDRHUvbTFsWG1iUkhvbitiVVlOWjJlVDNOWDV5eFlGK1ZUYzNFYzBEc25Sc0t6SnpCNnZiWnFzcFB1cnorUGJUcTZjMWFmLzlVN1ZFMk8yakw2UHJvQ3ZnNFFCa3FZMW1VeUJlR21DR3ZXdlJOSEpEem4zZkJua2l4Q0tKZHlVOGc1bzJCRlFQYkxEb1dLVDZSMk0yRys5Y0wxV1FrZVBXQ0FzckNNU1JiRGFLNzljbmw2NWxXOEF5cndGWkUyc3M4bXpYY2xrb28rbTFDNFFGT1JBSU9TdW1vak05a1N5K3dpUEZHWGVBc3hHVlRZblp6YmZIZHNwMWVVMU1uQjhsc0Jtc05aWXVGOFlZWnNpZWdQekdxQU9HbmoyM3dYRDVpRENkOUl1WS9oMEFSNjdDczhBRFlkbmdJYkRNMEREc1o4WVlDTGRhWmpvUy9vSE9Sei9HN2FsY3cxRUREQWROOXdLMDVWVCtwUkYwMjlEeUZuSldxQnNKMDZ3bG41ZlU4YWVxTVVlQjNtTG05aGhoNXQ0UzhrQ0U5YlNINCtwdXNNWWVyb3RKbndvOTgrY1E5cEwwY0dRa0FlNEJMUllFZ0pucjJUVDZmTVpsalZKWitmcUZqaHJPRmxVVEQzQ0xDOEtYUWh6bkpjYWR5MFhmcEwxRW5TNWhLclNIZWRsNmZjSlhwRitIK1ltTmhnQmRtanpmZDdVdG9BNkR4ZG4wdnFiUDIyWFlrY2hzcGEzMVRIZE9rODQrUklBcTVwZHVDVUZnNnd5aFE0TG1nS01wTjkyQ3JSRm5rQ1BOU0xIRWhFMkNWbVRjbGhqVW1LQnlSemRqcGVGMGtVbHpNZmZZSVFqd0VUTUNMcHl3cVNDNGxxYU9wZlBteUd5ZUpwU3dnQWI4YWRvaGlFVytSTHdmWGFNMjdTSDQ4K3oyaENIRExIbmVKRjVBMzFHY2tFeEk4a3FnSFdCQlZTalAzOCt0OWdoaDNnai9YNjlzZ3hIdUo2QWF3eWx2Tk5BTTB0QXN6bytVS1JTanNHVDd2OU4va0Y4bk0xbFhVc0MzMmVuRUVZdVFzUUFvNGJVZE9NR2JCSUFuazlaSUdTRzV4VWhFaFlvZG4rRVZ1NnpXTG9iakNWdDh5UHVBTDVKV3hsL0hWSVdVcGRnTXBaVWs0VUpxOTlJdXY5M0daRlp3SFU5cStyK1lnT0NXVkJGWStkVkpjMG1BUklXUU5QOXhMbWpYZVNkeUgzbWNaalg0MjgzS3FoSHVFeWJEYUROWmQ1UldBUGtOYWxWajVuYUJiMHR4Ty96NWNLenFQc1hPQUo4SFNDWndOMWZBNHZkbjYvZ05WekROWXh3alZaSVhzM1ZYQTJvUnRpaXBmdGhqT2VaWVlibk5lYWNFMnd4elRSYkZkZjVJL3hpL0cra1VMNHgza1hJRzdScGM0Q1FkeGxOU2ljMW5YOVUrTlBoTURiWVFueEo4U3hpK3JPOGpiOEJZSXJWaUZEOWpiWll4UkZybk84WlF0b2t3QmhiRUkvOUxVWHpUMGgwRlF2OGZPNHozMFRSS0drVHJZaGtPZkZPTmtCNEw5aWdiYkFvcWlQZ2QycUdVTnQwdkJMWEwxcWZwZDF2WWdCeEpWc1VPc1h1L3pOZWxINFZZUmFKNWpYQXBPSTFyd3dkNEoyNXozd1RSZXVMZzZ3VlhnR3pSYkw0Skw5TXN5M3k0S3ZDWHhGekxBcmZxNFhRNDVXVXhZWHVIeVlIRVJQQXJ3cS9YOVFzcFBxTEVCVGQzOHZVSXd4RzdYMmNsK1h1SHlZRzhCZ0k5cE11d0tNQ1BBTTBISjRCR2c3UEFBMkhaNEQ5aFUvejZYSVJaQVpvT1J6TTFzUGw1azAzVENnMTZwT0NMcnY0bGo5TktQMmJ6dEhuYzNUVnBwT29MVC9lQnpyQW4xdmFwME9uY3J0ZHh5ZjRCTmRaUXMweXkyenlRM3dOYk5GbEVsaFQyT2F2Y0VlOEEvVXdTeHhqU2FHeGZvSjF6Z0lMVERBdjBjdDUwRXgwKzNMNFNiNGJQNDFTdXlXMzlSUHB3eE9jTGNSMzFjZTNnV2pqcC9mMEpFd0F6RXIyRGdBZFZoaWxDNHpTemIrdjA2SUxMUEFFODV3RjVmbUpaN2tOZUk1Zk43VHViTHlaTk1jcXI0a01FSFYvcEUwcnNrREllTzQ4ZmRuYnc2UHpoQi9sY1Q3SzR6ekFJNW9HbW1DZGFaWUtPajN4NktjcUI1ZnIyNy9OZTduRUtmNkpYOVA0T0doem1aQ0FrNFdkdm93T0dPaXZjSVZESEZmU2srYWZBeFpMdG1CQ1hValY3U0o5dnFDRVgxRHVyRTZ6eEJ6TGRCT0RHMUVkbkd5bnJqRlp5VkdMYUN1ZzFoemV5aVkvNE45NG5SYzFPc0VKMXBoaFdhdlNyWU8vNXoxY3BNMUZidVVmdGFHaXZmUzJrUzd2V2NxNG9yQVZTcENNdmtVbGRWUnFOWjNsaGRyYTRrYUhKd0QzQTZQeDlOaGlPMXNEbkpWMjA5ZVlOSmgxNkxETk5sMjZiR3NQZC8wenY4TzNtT1hyTEJRTU9pRHAvaVVtK3JJTi9GdDhsZE44ZzlOOFdXbTRjUk5nT2grWjBBTUNydExTRDNGWVkvZ3lLM1Y4ZmkrL0UzZC9jbnF5VzJvdDhFaytJLzMrREo4c2hEbktVVHJBSXl3eXgvbW9sOFExUUFqeEdrQWx3TzFUUUVBMnc0VksrbnZaNURhK3czdjREdThwYUsyVDdsZVBmbkVmWGJXbWlCek1kQVdEbER6OUszeUlKL2t3VC9KaHZzWVpqUXVKTnFDYXd6UDZWZnpFU0ZmSHorYmVDTS9tYkJBN3JLUzFpdW9ucndKYU9hbGFYQU9ZYncvUDJFK2k1YldCK3BIWFpZWmxqc2FpVzI4UHFNTmtZWTZUR2NEYy9YSkZiU1lSMjhxbmY4d1I3dU1HN3VNYS9wUXpFbTJjSDhiZk51TFBFejJsWjkxL1hsUG0xWGdLU0dxVzcrQnRhWW9vZG44TGdPZUEyNGpGZXk3L2FPNWZsYVBsSllBNGl2T05ia1lVb2hVM2YzbDdtS2ppK3U1UDNnSVNxTjRDUmxNWE5jVTZtQmVKeWN6K0w4YlMxYUVIaElidVY1VlE1VWdyWWdIVkc4RDd1TWhIZUFLWTV5ODV6ZDlKMUZrV2VZQXVpL200bVFRUVRSS3JkT0NDVklFRlpSamJsU3ltMGIvR0xRSUwzRkxRLzUvZ1picGt5ODhUQ3JyOE93K2IwNWc2OURscjk4TlU3ald3aUcyQnhmTzR3dS94RlFDZW9Nc1ZSWWhIZ0xsOFhGZDE4TW40OWNlajMraEFYa3ozQkxNQVJSYjA5Z0FOaDljRk5CeWVBUm9PendBTmgyZUFocU41REJDcGpUc0tTaWRWNWQ3a2tJNU8xN2ZIUEJLTERIQXliWUNUbGRPcjdoK2dMbHFFbkl1L245TmFOVHdVNnlCV0NpendHNnh3aGpPOG0zZnpQWDZwRUROcW5ZL0h2OFNiamlPYzRnT0UzTXF0aEh5QVU0WDRadmNWZVd1R3ZEMURrVzRMTVYzSVE2WW5GVWxmQTAreXdTcC9BU3pTU3RXZXhVUmNYRW4yeCtwOWxrWGFYT1lrRzRwTmxTam5SZTdtWEx6ZnJ0OFBQOGFyRkhjS2o2VGYzK0xIaXIzUVJaNWlpVGFYNDNUa3ZYcTdPanpSNzNXVmltVHozbXVvMEE1MmN5R0MxRkJtVGVIS04yUlVpSkdxc3pNSnNNRXFVeXp6UVZwc0swN0NEQjZMd0FhemJLQlNxQ1o3N1VuM3ExU3VSK05QdFNyNlRYN01EanY4bUxlVTlLZFlCa1pUbmY1cTZScWNvSnRlaVZHVUE0a2RsRTZHYmpNWDYxclYrdFl3VG1VQ3RGTDRYWXd6empqL2xUeklKRURJRE11Y1l5N21kTE05aXk1N0VXWGtnTzZHQWhFbkJiWlVTYWh6Z29wMWtic0w5THcrTFQ5Q3NzRndqSmNMdVQvS3h3QllwUU5LQ1NTZWVOeFJTZ0I5L2lFanNjWFZpREtGU0FKMElWYkp2VmE0WENlUkFCUEFXYVV6NzVBMkI0Q2ZBdW5STmxrYkdIWC8zVXBQUVdIdVd6VmxqNjc1WFhBNVBSczNwNXlnN29aMDlLdTdYN1I1eU8rMVA4bFBVLzNBeXp4V2lQOXhMcENzSGRTNytvZVVPL0N1T0pKKy9najRXVVdJandHd3hBeExIRlBJZ0pEc1dHcHhRRTBBL3czOGxBUDhIQy93Y1BSWWxBRGJ0T0ttVzZGVHdlUUxZd2czZ3lkVERqWUo4RVgrSVAyZXQ0dVR1MS9WZ1NlNVgvajFLVjR6NUs1aXNHaU0vZ1NBSzFvSm9QTWlGSEpNZWg3eVdrRUNpUElqMHUyVld3UGNEUHduQUQvTVdqY1RlMjFhYlBNVTA2elFVWmhFWlN0ZXRjOXY4YWtxUkpEN1o2YXFjdGlJT3kvN0xpTHAva2hHM01hekVqWHAvaWxHQ1pUajl6S2ZZeTcrVit4KzJHQ1JCNENIaVZZYVJXeXp6Zi94TnE1U251Q2Z0RGpZdUpacmVaVnJ1UzcrM3d6VjJXRGJHdUJHRG5BRE4zQURjSE1TSXBzQ0l2OFgwVXRTZXloMWYzUHhXOEFsTmhRTkVIWC9jOXpOdTdtTnlDeENSTlQ5cTRiMEw3SEl0NEZmVUhRL3dCZFo1UkZXZVl3dWM2Q1FBaENKV1JYV0JUT1c0NFh6eHpQeDRmcnMvNWxjaUZZcUk1TGZlWWhtTW1xVEdZVm5oTExhd0VHK0JwclJvcHNLL21lNUxhYzFqOHpkN0xaR2FNc2ZMVEczT2NaMnZKdzhrSE1KQS9md0VxK3pwVzJsa0NBOUw1QmZaaDdtVjFpTFRmSW0rZGVjYWVtMHdvWlNkdG1YRDFGMDZLZjBYK0RWd1NMZXdjUEFnNXBSUE1zb2l6RmJ0ZmhmZnFiQVlpSlVEQ0I2TSt5SDNYTUZlQVpvT0pxbkMvQ1E0Qm1nNGZBTTBIRGtHV0JhNnkvOFRzNm5tcVR6UnBlb0huc0k4aUp3aVdsZ3VmQU9Dbi9FWjNOUDd1TnpneTY4UjMySUV1QjBQUHFuT1owTGRXZmEvZGtPM1dlVlVtQ04wT0FtOGRWWWduU3M1YktIMkgyc0NkcjAzZmIxMnplSURMQUFqREpLOFZqSEdXVmMxZE1KTURocVBScC9ybGhLMVZFWWJNQnMzUGl6Mm5pMkVEWjZLRncxVWV6aVNjMzNQWTFzQ2pqTk44bU9odDNCUmFsaE5MRUxUK3c3Z1MzRndVMFp5VEZKZWVOMlZ2S1NlVjRSenhaaWxrVk84d3kzYzFHVGdwdERkMXNOOXhReUNSQ04rbGE4eDd5Z0NXKzdlWGZCRURkS3Y0djY1RXNuL1ZSMXYyemdvVDVmSDVscGpNYnVGMVQwMHp6Tm16ek5hVTBLd0hEc3orMGVFZ2JveFBOL045WlpUVmVjaGY4OS90T2hDMndvRnBtSjBOZDF2eXVXMmRaZWFnUFA1RDR6dU5neVRnRHJyTE1PZmJxV2FnQklwZ0JSRFZKVWljaWlyNDRnak03d2J1ZWVadDJ1NzM2N0srWVFtR09aYVJaUkMvRFRQQTNBKzdtb1RXRTk3ZHg4Q1BFcXF2WDlzZ3FJSkVBbi9kMFMxSXpaMDhlVmNWVlBPNVkxZmtDZ3NHVko3aDh5amY0NXpYZjU2U0xkMUF0UGtYNlI5M09ZOTNQUjRHdDd3b215enlTQWJaSDNQcjZsb1A1MjdneDZscEplTXVqVnlYYmhiM2V5WUF0aG80ZXNzeEN2QXRZMFk3enFUU0JEaW9nQjFQZnNpV0x1SGo2Zm85N0xGeFJ4T3F3WTUyK1RQWUV0N25CZ1h6S0FDMjVuT2paTGhNZFlWaXlrbW9IR01vREh2b1RYQmpZY25nRWFEczhBRFlkbmdJYkRNMERENFJrZ2o0N0ZtLzhlY3dCaGc4Z0FvVklManhTaVYxZENEQXBuTFU2d08wWmJoWTdWa21IUFFaWUFIVmFzVEtCR3hqd3RiUW9kVm1KTlE0ZVZBZ3ZKN0Rldm9NOUxLYWxZc09EL29sQ0NlZVlOOVhQdmZoZXJwajJCdksvZ0NLczhyTnlTMVhzVERxVjRJZms5L2FqeEFxRERnM0hqbVZLWTUyeUJIbDJCb0lzdjE4RHN3eUF3MEd3cEo5UjlzaU9vWGdOMFdMSGU1YTJMbDNTME9FWkQ0YWxad2lRcDZGQlZRa1dsS0g2cm05S2VoNW9CVnBreVh1V3N3eXBUVEpGSWdHeUVCTUpUczdvblNVRUhXL3pkd2I0WSt4R0tETEJhc1pHVGVDMVdtQ0xJcGJCS3dCUXJ0QXpwdStWY3RYeXlEd0kxZGNvWVY2U0dGVzVNR0VySWF3RGQzSitGME44b01Qd3d6L0lSc3JWS2VlcWVoTmNHNXRGaHhkREZadW9laEdlQWhzUHZCRFljbmdFYURzOEFEWWRuZ0liRE0wRERrV2NBMDlsYmozMklqQUZhc2F2VUc3bFI0MnMvMHJNOXBLRjY3RWtrRE5DaW16cUhPVVpYMmNsdHBuaU1CK2s2WENpUlY1Zk01NjRybU45bHVvY0d5VWJRT2ViNExQY1Q4aEFQRXlyZElVZG9zVVRINmt5MjZLbzQvMXQybE5odnVvY0dFUU8wNkxMQktlQkJubUdWUzdRMXQxTXY4aWxlWTRXTzVnTFRLSnpLVi9WSTdFNzlFRmM0VlBDbkhYSTliM0M5NEhCZFRYOUQ2MDgvb3UzRWZ5cVAvUjRLUk02aVR3QVhBR0l2OGhkb2M2SXdndHFjWXBFNWpqRkRsemtlTFpYVDI5TnY2dHUvcjQzLzFKZlB3M1h4Mzl0UjYrT3ZCVVpqK3FqdmZGZmtKVUFFdFFSSVFxNHl4VG5tdE82UTFSTGdsNlhmTHhWRWVIL3BIaHBFRW1DYlZUck14b2VtWjJtenFybVJJbUNHSlk3eWxPR0V2UW9MdkpUN3ZiNnJkQThOa2tWZ2RCL0dCaGU0aXpicUd3TXlhNEFwVUtoRnhkRy9UeXptOWovRWErTWVpbDhFbDNsb0tDK004T2dEdkQxQXcrRjFBUTJIWjRDR3d6TkF3K0Vab09ISUdNQjJIMEJkK3UwOG10SWY1ZlpkcC9lN2ZvT21WMFR5Rm1DN0Q2QXUzZVptcnQvMGZ0ZHYwUFRLaUJqZ1R2NVdRZnNBMzRpLzFhWGJIRTMybTk3ditnMmFYZ1BSRkpCNS9oZVBUWjFSZkJPUnA5K2JYaTE3YjQ1K2w1QStpcWQzcVpMWDBJTUs4YzhvNDZ2cVo2dS9XUDd5OGRlbGcybTYrQ2E2V0FwMXI1UkUzbFdzMmhtMHpaVnM1aUQySHVBTDBwUGVwZThTMzU2K3loMjJhL3dBOVFHenNNVHZVRWlsU1A5REFQNUsyMzdKMDFPOFFFOE9xWWtNSU92WGl3V3cwWk41TjV1UDFRMnNheUI3K29FeU5kY09zS2R2Wm9ENjdST2t6NnZSYitZRm9mdDd3Z0FINnljaDRDZkMvK1VSV2lXQ0dlSng5Q29wQk1KbmxmaWhRMXlibXV3akJ0ck5YSks2dnlmbzlSUXdDNXluK2hSUVg4VHJ5MWRNb1pvSU42WHZKa0ZzRWtxWC84MWNrcnEvQnhJZ1dnVGE3Z053bzk4RExMSVlmeFBwNGd0WnFIajZCWUZxbzJPa282VEw1UThMVHgrWEtEWjYxZlpKNmhkV3ByOGdkYjg2MTVLSUdPQ0NWSUFFRnhUZlJPVHBuMDhiOFBNNSt0ZUU5RkU4L1pvcWVRMDlyQkQvZ2pLK3FuNjIrb3ZsTHhzLzc3eXFMQjJRaEwrNlYwcmlxbEdBVi9nUFBwaWozTXRYMCs5MTZUL2dmN2dqUjcrUEwrMGF2ZC8xR3pTOUJpSUdnRXVzc3MxNzQ2ZVA4U2NzU2VIcTBwL251N3hGTy83MTEzeFM2Sjdkb1BlN2ZvT21WNFkzQ0drNHZEYXc0ZkFNMEhCNEJtZzRQQU0wSEo0QkdnN1BBQTJIcUF4eXZ6eDlPT2tlRlNCckEwZlNienZLMEhYcEhrT0g0aFJRcit0MnJDblVHN2xCN1JROEpPUVp3TmFCTyt3WTZZbDdCaDFzSGFqejVaMGdyS2pyOTlBZ3p3QWpZT3pBRVVhTTlNaERoeDRoWm9NSjA0VXZZRGVvOENpSjRoUXdVaUVWT2JZNWhYcmoxOFpBSGlVaEx3SnQ4MzlkdXNmUVFXUUFtMmdkZHJwSEJmaU5vSWJETTBERDRSbWc0ZkFNMEhCNEJtZzRQQU0wSEh1WEFjYjhobEF2SUROQS9YMjJrQWxDSnZwZTdqRTJHZTk3TGcyQXpBRGo4ZCtnWVJ2ZFVmZHZEYnFZK3dFeUEyekdmNE9GYlhUNzd1OGhYQ1ZBeUZqaHJ4ekN3ajgxb3U3VnMySFMvWDROMEJQSXlxQk5BalkxZDJzWC84cGgwaWxVMHYzalJ2cVdYd1AwQ2pJRG1DVEFlTm8xeVY4NUlieFdlRkprb2pFaGZSV0x5ZDN2SjRFZVlKZ2tnTy8rQWNCVkF0U0gvUUtIY3QwL3Bnbm5VUXF1RW1BM1lKSXVxdTczYTRBZW9OY1NvRjlXdTRuUXozOTYxSVQzRDlCdzdGMWRnRWRQOFArTlRGaERhNkF6emdBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhOUzB3TXkweE1WUXdPRG8wTnpveE1TMHdOem93TUpJOUgyd0FBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRVdE1ETXRNVEZVTURjNk5UazZNelV0TURjNk1EQ3RQYjc0QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUR3Q0FRQUFBQkZubkpBQUFBQUFtSkxSMFFBLzRlUHpMOEFBQUFKY0VoWmN3QUFBRWdBQUFCSUFFYkphejRBQUJlNFNVUkJWSGphN1YxZGlDWEhkZjU2dmJabVZsNm54d0tGTzJ5eXExbU00cUF3TTdvRHNSNkM3aVlJS2VzSDNWMVFIZ3lCdTVZWUp3SGpyQjlOUUN1QnlJdGhIYkFnYTZUWnhlQmdITUpLSVNaK1NESWIxb1FnUnRvVmd0akd5RDhQbVNHUU1JcGZKbUNMazRmK3E2bytkYXE2Kzk2NVAxVmZNM1B2N1ZOMTZ1ZDhWZDFkcDZvNklVU0VqQlBUemtERWRCRUpFRGdpQVhUMFFPaE5PeFBIaVVnQUZUM3NBOWdQaVFMakpzRDAyMDhQYmU5ck0vT3Z3a2FCUXZQMHl6aEc2QVNRTzBBcUR3bXU5bU9QVDNucVBXc1lWOXFGRWR1VklEUC9RVTRCU2ZNQzlSRXFBY2JSQWE1MjBGREVMZHBoYzNTSkN5UkljQURnQUFrU1FYT1hNczRja3JJeEZFVXMyb0VOQk5TcVIwV21KMmtWdjJobHR2UmRhVlBIdlB0cWRwVnhqbEQxQUhJSDZBdXBEYm92SDFucWtnbGxMZDNhcG5RSlVqVjM2MmRtREVuak95YTVGVWx0c0VxcWJkdHhhNURicHB4M3VRK3NOTHY2bWJsQ2N3TElvS2xYVFEvN3JRa21YNElLemRNdjR4Z3hiZ0xNTzNyWVh5VHp1aEVKRURqaVNHRGdpQVFJSEpFQWdTTVNJSEJFQWdTT1NJREFFUWtRT09KOEFEUHV0UE4vekdneUg4QnZSb0RMR2RNVDV3UElLYmpOMDJVK2dOc2RudVY5b1VqU2JENkFud2RNcmtLN2dWWXQzMzExdTh6djByNXZmTnExTDh4c2dQcDhnQXoyMGZBaWxPUnZzOHRkc1gzbUEwaTVrMU4zeDVkQnVlN2ljeUdnendmZ3Z1czQ4T29GK0REdTl1a3pIMEJxZjM1NXM5T0huTE1ObXFRMEYyampESkljcnJNK0gwQWlsNnYvS1VvZTNjRUNwbDg1WGVjRFREdi94NHpvRGc0Y2NTQW9jRVFDQkk1SWdNQVJDUkE0SWdFQ1J5UkE0SWdFQ0J3bnA1MkJtUU5OY1pTLysxaHA0L3lmN0JaOUlwVXd6UnlRTXdmdFhVSHVtRk1vdVg0SklFRDA5ZnZzRDBBdEpFM1JOZzFYL2pQVEo2SVdOem5heHZZcmdVK29CbkZQYUFGY3hVODhDbUNQbjNoVWtFOFJTSEQyK09RdkVXVDZaN00wQ29tN0J1UVN5Z1FpUjJ6QTFZaTEvS3VYQU4vaTIyYnJ1Q3NwR1VNSFQ2SW4wblVWN1pJREttTW5yRlJOblV1bGFGNzJQSkFnbDNWWHBaT2JnWnJMQkdoNkUwZ2VyY2NWeW9lZDdkcTRuM0VURCsyU2dYejB0cTBCcVFuNjZIYlhRVTNlNURHdzZ1SjhRdkV5dVF0ME0xalc0ZXBpL2Jwb1Z3dHlwZTV6RTlrV2JvcTc1Vm9PVEhkdzZFOEI4NTEraThmSU9COGdjTVNSd01BUkNSQTRJZ0VDUnlSQTRJZ0VDQnlSQUlFakVpQnc2SXREaTgxU3B3ZjNmdUNUaEU4TitIaEUyOFZ6clkzMlRhVVJLZ0lVQzZOOHRudHZWd0hqUXp0ZHJwejcxWUMwMVd6bGplczFqcDM1S1l2RFhvWmU2eG9nSTVjQStNV2g4aEpPSDQ5Mmp6azNQZ3JZZFBsdERXSFB2MThOMk5Mb0djdHJlNDFpVnlWdzlVRGRscWJYRnVqcVE4RSsyNm03bG1EYkZvajZ6YVJ4NThDbXg3MkZ1enZuZmh2Uzh6NjN1bWtUUSs1YVdGNFpoMXVmU0pwbTJXRnNjMWduOVRCTkNlQmZBVW1EdUg0NWtLdlFKMzMzMm41NytxN1lMZ0s0NjBBMm9Kc0FNb0VzQkdqMkZGQlZRQnVQVmFMbzRMV1Q5aW1sM3daVnZ0dmVRMGlwcitiUzRnck83eUFncFYvRTVPOEJYSnFydlJ1azljMW1MaHZPQjVBcVFMK0JrWW92WjA0cW9xUkRMWnA3MmhkbkFqY0JwUkljR0J0SUhEVFc0QWZKdkFmbGEyLzhjb21tbHdBL1h6VTV0NGlRcjRKZFl2dFZMMThPdjJ0dzl5bHRrcDcyTDdWeDN3T3dpUE1CVlBTY2IweGFPRVFDQkk0NEZCdzRJZ0VDUnlSQTRJZ0VDQnlSQUlFakVtRGNtTFBIS25NK2dBdVN2OHFuNkwyTy91NUpvM3Z1RXNkZzk0eVZ2VDRmUUlMa01mY1pKU3c4ZHFzZUMwenQ2THE0U2w0ZW5qaVh2N29OYklzdmFaOFNxb0VnTlZ2dTNYN3JnNDNxMHNoMmIvLzJIV2dHSkkrZEszWmlEYWVldFhrN3BjV2o1Q1gxTCtteGdMOEhzRTA2a1AxVjFhV2h6YVNGck9XNHAwM1o5ekFnK1ByNmtnWm51WFM1OU4wcm0yY1M1dnNDcWlwcytnWnU4eEtTTkloYlNQMldRTHNYYjdmZlFrSXlvNnVIOE5jczdSRnd6S2g2QU5WUjJDWnJyamNKdUoydFhhK09pZEtEOEQyRS9zbUZHRThyNWxMUWU0OFpNYjkrQ1Rnb004VjE0RmtIbjAzMzRuRWd6Z2Z3OGZhN3Q0ZVFVYzBGNEtkVXlGVmZYWVRzdTRzVUlaT0dValZFMndrMUV3SHZEU1JyQis3akxMWGRCSTdEMmVvM2E3SHRqYWJQVFNRQUIwRm54cmcraU81Z0hUUFROUjhYSWdFQ1J4d0tEaHlSQUlFakVpQndSQUlFamtpQXdERjdCRWhueTF1MjZEQUo0T2ZMbGx3MjVDVzFoVWh4ZUN4UDR0UGVCMkZtMEd5N2VKL3RwQk9zZE1qUElRcVNwR0s0dGx2V1YxaWdONEIzZ1U0QWVaUmFIdTB1V25XS1E1WUNWQTZVOG12M3NxNS9wUXh4YUlsZmZHdTNxYnJhKy9pOWFuN0JVUkZBMys2OWpzb2ZidHN5UFVHU20vOEROaTI1YTgrNi9nK3dJcXlkTFZMbjA5ZG5GSmhhL0xhUENBN0ZVTERmNm5ZSnhWd2JtL25OdVRobUwrTDZMWjJ0Uzh4dzV2WVIwbHZPZzRJNkpTeEIzVXdtN0ZNWi9DWkUyQ2VWbVFTeVRjbmdjK2phUGtFbitJSzlBcjRMcWhkR3FGVm0zMkRFL2RZTDM5ZEsyT1FaQmFoMkgxRTRndmxkK2ZYOCtMdzJJZ0lBdHorQTM4cjF1bC9ldlVPTkpNMXVIdVVRdXJiRTYxd0I5dzVDZ2NML2hSSDZyTmpxKzdoaHY0dm9Cdi90STRMQ3JNMEhtSlQ1SXl5WU5RSkVIRE5tenhjUWNheUlCQWdja1FDQkl4SWdjQ3dTQWZxbEo2QS9FZjBuc1pRZnpkNjNPdFBJQ0RETUsyNFh3OWFhWG5aNCtsMGczTkJtQ3pRMVloOTc1ZmM5Tm5hL0V6MU80bGQ0RkVjNHdxUDRGVXVCdmpQM2E3bDB6WktHWGU2S0NUeG5ISElLeHR3T29xczBvQUVOU1VVVnRqby9KRmdPS2orM3RiaHFDRjU3ZG95b3I4bEhtclJQSnZxTjVIb091ZHl0R2ZIWERQa1NyUlBSRWkwUjBUb3RDVFhBcDFHSFZFUCtFalhFdG5jWnl4QUZrKzhCQU81WUpuUGN4cGR4RDBDSzIrVzVPN2hnWmVNWExDT0t5K1czbzVyc0pyNGh0TDg5WkJ0TFpOZ0hZVTlMWVE5YlNnOEFiQmx5Tjk1WGNwZmwwSXgvSDh0NEVFQWY5NDJ3ZWo2QkxVYmltNXN1TDUrWHNZYjN5KytscG9JQTkvTlBkUnFHbXVWN0FINkVJM0cyejFMK2VjTWE0cU5DN0N0NEQ5dUMvSkxtU3I2a1VESEQyd29GdHZDMklTV29pelA1RllZZnhTL0s3NTlnOC9BZ1BvRUVwNFJjWGhSa3BrZVNsL012b0U0WUxjMElYcGovRC9EUDZ1bnFXbmJvVVBBakhOWEM2Rm5JQ0xBaWFMTzFHOERWQXdCdmxSUWdYTUpiVElpQ0FuWHpaMGlOejNydWZsM002UWIrRzM4STRCK3h3Y1ovR3lncHhPZGdLKytwOU43cU9GQ1kvNCt3ckZQQTkzNldNMys5QWdHNW84cmF6azlabWFzSEtDZ0FpL21ScHc3clRkNTU0OVBFRW42ZWZ6dkxTQi9FdTlqQWZRQWJlQmNQNGY4TXVUa0xxZTB5VTNkSDd3cnhPZnhON1Z4bS9pL2dRUUQvQUFERkJkei9NYkJ1ZnJPQXAzQUtwN0NNVTlaTzhnRThnQWNBY0Mzc3BzUDhRQTl2NFJJdTRTM0xkTTQrRGpERUVBY3Q3L09YOFZ2NXNWekxYdzluUVBnRk5yQ0JFeUNjRWFlVWJsbU1mMDc1czJFSkxyaENmSXM1bDVIK0JqNkc3d0FBTHVCT0ptai9SRnN2NHJJenpnK0ZrSzRlb0ljRElHLzdCMHoxOXpVNVI0SGZNRDdOS3NwYXlRYXlPeUs5bjNnWTl3SDhwUHg5SHh2Q2pLSXVIZnhSeHhEOGhObWY1T1hMN3M5Szg2TjhERXdkajFIdVI1aVhOZm5MMXNjVisyUE1qUWsrQmhZUFNkV25MUmQ5NWhHUWU0aHpQZWcxZlF3R2pheWw5d21obHBEWFh6d0VEdFN6cytNTzdnUDRIZVgzZTVZYnFjbUNBSnhYV3ZyNHRXZVl6dFNVTmJ5dnRYN0UrUURCWTVGOEFSRXRFQWtRT0NJQkFrY2tRT0NJQkZnc3ZJSlhta1hRQ1pDQzRGcVliUWVWam95dWp4WjljQjcxTGVYeHRlNXZHeHFQdlVORHZtM0l1VUVuMVZ1K05nRTVBUHlsbzM0R0dMU3V0OVA0Q3I2QzA0NVFJNHd3S244cGRaSVNVWi82UkpUV0JoRjJhU2tmUnJoRzZ6UmtoMEZ1NUFNUjIzVERrTXVlYlBQb3MrRzNGRTgyRWRFV094QlNIUFg0N29HY0xNdzZyZFA2aE9SRm1HeFF4NVFNcUJpUVM4M2htdHc2Uk51RXZIUXBvL3N1RVJIZEZXdTNHRXdhMFRrQ1FVK2duNCtoMWRVVDlScU5nM0Z5RU5HZjVYOVhyUlhVcDJ3Q1N0K2lINVlVWEFZbUF2MDdnZTRSNk4rSW56SkJ0SjVMMWdVNVJQbHBXcUxURm5sUi9TTWFOYTdCQXR1c2ZMc1dlNXROZjBoRUkwcXJrVVRWSFZ3NEtmZXcxV3FqRm5XdUFPODVmQUw3K0RGK2dKL2pQWXRQc0k4OVhNSWJWcGR1Ri93VGZoZmZ3d2EraHlmd0w5WlEyVmo2aGlqWHh5eDEvTExtSjZ3d3drMEF5UC9YNis5USs4V0RuMjF4MXVNTUFId0p3RXArZVV6eEFjb2U0SVl4bXQ2bkc0MTdBTFdEcy9VQVY0bm9MNGpvRmJhRjlJblkxait1SHVCdkNmUmRBbjJMbHBqMEgzWDBBSVVjb3R6ZUE0eTAzSm1YZ0lHUzZ3eURSdVg3cWliN0tsT0Q1K2hjUFhVemlYNU9oSHIxajRNQW42SGZwTS9SK2Z5dmlmbjFXWEUyQXFSRWxGS2FYeTlOK1hlSTZOdjUzOS9WNUVYNWJOZndTdjY0UTg3SHI2NjkyWEcrSVFGTWQxMHExSkRzYXRMT213clVUMTIyUkVOQ3lhRUJFMEltUU4xZjE4VDhadkZrQXZEeXMvUmRlcGgyNldINmUvcTBJVit0NVc1dHJQTEsvTEFldW9sVFVXNlQzczF2QkUzNWlJcHIvMjViQXNCeFVKNk4xRE04YitDK1ZiNWxWREQzRkpDV1JlY0pZaWRnaHNjY3Vlc2loOFA4UGk3M2dnSXBJM3VLUHN4di9MYnBRM3FLSWNCVkd0WGoraWJ2TnFoK0g4cmZnMHFUbG1Yem14VFlxa2xkMDdwbE9SRlJ6MkdjTHZLUjAveXV4OENLQXFrbDluUGw5K2Rxc2EwOWtLODdlQjN2K2dXTTZJZ0JvSHZzeDRRUkFPQ1dlVHJPQndnYzBSY1FPQ0lCQWtja1FPQ0lCQWdjNFJFZ2N4c1BHTW1nZkRaNjFFT1BiVGZGT2J1clZnbXdYbGJBZW10OU5MVXFTRUhZeWIvdndEYXI0VnErcUhTM1JvSGZ4eTR1NHpJK2hVL2hoL2gwTFdaV08xZnpYOW1lcGVxKzU1djRMQWhQNEFrUVBvdk5Xbng1KzRwaDdjRis2SkM3UWd4cmFSZ2pRT2JaZFNMYXBTRU42WkFxcHdjMzRDRU5acEF6UlB0amxPZHJuUjFVeWJCRG9CMXJMb3Joa0hQc1VOZXA4dmdZT3hhNlE4TThCNW1lQVpPK2ZSeXY4RktrbG1FdytVd1ZPN1hveWNZYSs3azNCMHo1MUJqcnhYYzFRRFpLdkVORWgxWWpUcE1BeFZnV24wWmg5dXF6cnVHYU9OWjVnajVDQ1NYMEVUckJHbVJJSUtKQjZkUG5jaWNUUVBXSG1DdVhNbTlJdjZ6ak9nR2d6YUtvRXlEVHVsMk95WElFT0VPcitjRVFZSmhYNHc0NzQ4ZEZBSEpXZ2R1NGN2eDFSY2IxVUR1S25ETi9LdW9uU3NwampVbjllaDVybHg5U3BXejNrT0xnQ1dCUG44b1pWN3dHS24yY1F3S2RZd2tBaFFCOG43Sk9tN1JaK2lzWkF1emtWY2RQK1hJeFhBN1JUTW9UeU9WVGsxcC9OZU1wdzhDUWY1dUkxdktENkRxallWQzZiTG4waVU1M0lzQkQrZG1IeXY5bTdLTC9HaExST1VzUFlLKy9QaEdkb1RPMFNtZG9rNGl1WmVmVjl3VjhnQlEzOGZuOEZrbmVjUjlPdWJTYnVGdktwYkJlN21PU3JkRTM4VTM4Y2ZuOSsvZzlUWllxTTU2QUsvVXhjYXpqUzhxdmwvRXpJZldzbHN6eXJ3RDRFQUR3UzJhREdjS0tOcy9LZk1IRkk5cDV3czhNdVQ1ZjZDYStiTXpheXJid3p5Ykw3akhiK1JNZUIvQmZBSUQvVkdwWDYyQVBhVWhEMnFYWnZBa3NXaCtmeGpmTDFwL2hyaEczbjdmNzFLcC9zMnc3NTlqVWQrZ3FVZDRPZHhoNTl2bVE1VWJQbkdoanR0L0g2REhqdjl4L05MOEhHRktmTm1tVE5vbG9zMzRKVUsreE52UFAvbFBBWFNybXhuTFZNM0Nrc0VQYnRNMU9wMEllTzZNUVJ3RVNmcGxuMTJvaGhyVU9mR2pFUEZjN210MERFQTNMdzBJQTMxWTRMUUxJUjZxMCtydGtlczJ6MXVGVE9sditzNTdsa0ZJcWJpZVRXdHpQMDJlb0o5UVNFWlQ3REYyMmxEOEZaUC9OYmVqcUJERXBNaFNsYXVtME1rWjNzSXFIOEJLQUYvRS9ySFNFRmR6TTMyYVE0bi94YTlxYkRWejNTSUMrbWVVazVqMjNRQ1JBNEFqUEZ4Q2hJUklnY0VRQ0JBNlRBRVByZnVFWGNhdThvYndsYm9rYU1VL1FIaFJ1RXhIUmJlWUI1b3UxaDVBdlR1VmhMeDVqUHRRZno1VEdmY1lJZGxGN2VpeHdrVkc0UjBSNzF1Uis2amtnQTQ4UXgzL3NLZlRmbTNwdUprQ0EyMVQ0bk13KzREV1dBSzh4Q3VXQm9Ob3doTlg4SEVuY3k2dGNJVnh5b3IxeXVHaVBsZnZsZjQ2TzZ1c3ptb0gxUHNDR3BnUUFnVjI0V1RkL3ZaOVExOWJ5Qm5TRkdCSFIwN1JFVDFzMStKVnVRUW1RWGY4THI3UGVCK2dGbDZwaG0yekx3bFR6N3pLU1FmbkpYeVpjeGtGdStEUW5BaWQvT3YvMnRLQmhUMGhqZ1Frd0lCT3FBZndKd0hmZXVxWjdqRWV1aUdjenZ5OEJVckwzTVZTT3NOZjk5UlhzQk9nVDBSN3QwUjc1K0JYbTVEQXJ3UHplbEFDdW96QlMzZnlaMlczbW40VWVZSUZ2QXF2Mm55cCs1OG9NWDJjSjhIVkdvYXNIc0IxcUQ4VEhuLzQ5Z0p1Q2MzaHdSYXNYOGlsVytoU2owRlU1ZHFuVStuVURqMXFINlBvVWtJV1p1dEhHVDRBOTFzQnFGVHhma3o1dk5lTkFTRkNpUjl2ZTQzaVBCU09Bdnp2NFNReng1L24zcitFTi9PdTB4ekNuaExidkFwcFJ4UGtBZ1NONkF3TkhKRURnaUFRSUhKRUFnU01TSUhCRUFwZ1lnRnBMNXhBcUFZalpOa0VIWVZ5dmhKZ1diZ2p2TmdlQUFYWmJTK2NUeGlnZDBhNHdHcWQ2QTB4SkVTKzFhaGpRYnU0SUd0Q3VvQUdFZkhtVEx0L1dOTFZ4MXc0Y2c4MERqOWhGRGRpMXpOWEJWNS9OaEJJQjFIajFhaDZVY1FiNUNudFpnNTBBdHZnK0JKQ2tzcU9uTGwyUUlXRmJJZmxwSFM0Q1pDYXNmdXRTRUVyanVUVFlDR0NQN3laQVV4UGJwZndHREhONThEZUJkM0FCMzJoeFBibURDN2lBYkozY0JXWE1QRkhPWGhCM3dpMDAyT0NLZnp4WUpHOUFqZVdMZkEvZ09nSzhCMUNkUVlRN2VFbHNYNVN6di9pY0w2aFBMcmJjWi9mNTdhUnppZWdOTkRIQXJtQmlXVHFIaUFRSUhIRWtNSEJFQWdTT1NJREFFUWtRT0NJQkFvZEpBRkplTEI0UkFDb0NwUGxXcVdkeDFyTFhmalowZE0waWpaaExGQVJJY1ZodUR2TUlEbGtqYitBQ3ZvWVhjZWp4UWdsemVHSGJHSUhjUG1aNWhBMTVqZTBRMFY4UmlPaEZ5dmJGdFkwZXArSmV3dFdvdk90My8xamw4YkFjaFZHSjdoRUk5Q0lOQ0hTUGJHK24zcUZ6bERsbFU2dFNmcWZhcFh3NzlkUDVuN25UN1dtU05sd3Y1Q1RLbDhxL3BkWU9vY0NPa3dDQTh3RGVCQUM4QkFCNEV4czRYOXZLZEFPYnVJa3JlQVNYY0lncnVONm9xL21rMHVra3FJOUFmenovUzhBdnZ6cWQvMzBTL09ieUh3ZXdrc3RYRm11OGZwTElmQUVwRG5GZmVkSFJQV3hnUmRzSnQwQ0tROXpCQmV6Z0NsdkpsTzlVWDkrdC9yZTEzLzloN0pVN2FYbUVEWGxYc0V2Vm91a1I4WnU0Wkw3dzdIMFZ0cGZLMk9iTDZPOFdyODgzbXJROEhwYWo4QVptNzhPNGp6ZnhMRGJBdjVHam1nMXdBV0Rjb21yclg3QTF0SXVMeWgyOGptdjVnK0FidUJaZkZoOEs0bnlBd0JGOUFZRWpFaUJ3UkFJRWpraUF3RkVSd1BVK2dLN3lKM0c5bEYvSGs4Y3VuM1Q1cGkxdmkxeW42MzBBWGVXdWJlWW1MWjkwK2FZdGIzMWtIeGVKUS9VK2dLNXkxMGFUazVaUHVuelRsbmM0c2t2QTViSkRTSlFSdk12TU54V20vSVU4Ym9JWERQbXppbjR3WjUvbDFGdmtTWXY0bDluNFhQbGM1VmZ6M3p6KzIwaVVFTGI0a2x6TkJXK1Zoc2dHZ3FyUm9LVDJTNWR6R1Nua0NZRG5BYnl1blJtZmZwLzRidjFxaUtieEUvQUx6S2pCYjFLMDFPVi9BZ0Q0YTJ2OUZXYzM4UTdHc2toTkpZRCtMdXA2Qmx4eTRBVzhEdUI1dkNaV3NLMkMzUG9UVnB1dkFkejZaUUowcjUra1BOOU8vamplVWN3L0ZnS2M3SzVDd1lmSy8rWWdaNDhnUTEyTzNrWkRvbnkyaVU4ZWNWMXVzajhWWkkvam5tYitzV0RjbDRBUmdGdG9md25vM3NYYjgxZlgwSzRMbC9UNzlTQ3VIc3FXL3VPNHA1bC9ERDFBZGhQNEtpdDdsZmtteVo4SGNCTTM4MitxL0hVbEZqRm5YMWVrTGpsRU9WaTVubitxblgxVms3amtiZXVuS0IrMWxyK2ptWjlQdFNtQ2VBeWI5bVBvcE9XZHh3RVdmeUJtMmdOUms1WjNKZ0RvU2JwZUtyOU9UOWFDZHBWZnBGdWwvQll6aURGcCthVExOMjE1eXlOT0NBa2MwUnNZT0NJQkFrY2tRT0NJQkFnY2tRQ0JJeElnY0tqT29MclRVY2VzeXlOYVFQY0dMcGZmanRqUVhlVVJNNGY2SmFDYjZZNmNHcnExM0tTemhnZ05KZ0ZjQmp6Q2tTaGZ4cEhTRDlUaE1xQTZKWW9EdGZUMVIxaGdFbUFaRUEyNGpHVlJmb1Jsa1NBRWVjSkU3cUd3SXE0N0hqUHFsNERsRmxyMDJMS0didTNYUmFDSWh0RGZGNkJKYW1GblhSN1JBdEViR0RqaVFGRGdpQVFJSEpFQWdTTVNJSEJFQWdTT1NJREFNYjhFNk1VQm9YRkFKMEQzY1RaQ0g0VCt4UFBkd3o1V0o1NUtBTkFKc0pyL1RSdXUxcDJaLzJEYTJWd0U2QVRZei8rbUMxZnJqdVlmSTN4N0FFS3Y5dGNNektva0ZwbDU3VFFzekIvdkFjWUNmVWJRUGhMc3MyNldoUGxyaGkydlVJWDVWMFg1UWJ3SEdCZDBBa2c5d0dwcG11S3ZXU2U4Vnp0VEoxRlAwYzlSVERkL3ZBaU1BYlBVQTBUelR3RytQVUIzdU4vZjBjejhQVXU0aUVidzdRR09BMUx2d3BrLzNnT01BZnFFa0I0TzBKdkp6cFh5VHQvOGpPaUlPQ01vY015dkx5QmlMUGgvZ2o5UXBoZDN0OGdBQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01UVXRNRE10TVRGVU1EZzZORGM2TVRFdE1EYzZNRENTUFI5c0FBQUFKWFJGV0hSa1lYUmxPbTF2WkdsbWVRQXlNREUxTFRBekxURXhWREEzT2pVNU9qTTFMVEEzT2pBd3JUMisrQUFBQUJsMFJWaDBVMjltZEhkaGNtVUFRV1J2WW1VZ1NXMWhaMlZTWldGa2VYSEpaVHdBQUFBQVNVVk9SSzVDWUlJPVwiKTtcblxuLyoqKi8gfSksXG4vKiAyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQVFBQUFBRHdDQU1BQUFEWVNVcjVBQUFCRGxCTVZFWHZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBanZqQWp2akFqdmpBaWlhcG1YQUFBQVdYUlNUbE1BR1JBekJBaFF2NEtaTHlKVmNVQm1ZQm9UTXN3TklUd1dRa2hMSUI1YUl5Y3hVeXlGTkllQXcyckl6OFk0UlJ5OHVMNThxN1dsaktxb3JSK3lLZjBCbmxFazd3b0dBZ09Qb21LVVNxQ3ZiZCtjUjJNL2IzK1JhUGxBWHZFQUFBQUJZa3RIUkFDSUJSMUlBQUFBQ1hCSVdYTUFBQUJJQUFBQVNBQkd5V3MrQUFBUFpFbEVRVlI0MnUxZEMyUGJ0aEVHeVVpcTZaaVNYYmxMRTZleDFtVE81aVhacSt1NnJvM2FiRzI2cE9rU2QxM3YvLytSQVh6aGNJZUhXTW9VYmVPVExlc0lFTUI5UElCM0FDZ0xFUkVSTVFJa2tPeTZDVHZXSDBiT1FPL21KZURYUDhFTXFNekRFa0lzRUJSTUFtaDdqSFNWbXVBakFLd0M4RlJBemk4L0Rtb1MxQUk1QVFsdGo1Rk9yeUFqZ0o3T0syQ1prd0VaWU8yM3ErQko1d3dLa3R0ZnVpMXo0czIwVlRBTDVrMmtGNWhiaVBjS2N3dndOR0I0QzdDVHdwcm9JNENkRGN4RVBLVVRFeHgrRE5pQWowdTlDOUF1TlB4ZFlPZTQ2WTVRUkVSRVJFUkV4SWh4Nlo3Z2p2MmdoRVZyUUozM2hKNUJzeHNCZnNJcThNMEhzQWtoV2ZxZ2xGZ2F3QWhnR1doMk0xeE1XQVdVQUU5MHFVb2ZNaGhpN2JlMzJKTnNtVkZKUEtlTHdCUWdsQVFNTmgzQUxWalliTmFJMWphWUQwak0wbnc5YXRjV1lFWGlhWEgvK1FEZVEzWTZCb1J4M2U4Q0VSRVJFUkVSRVJHN1F6L0hQK2lhQnN2dkhYajBMQUQ0Y2lwMHlOMjdmWHc3QUd0UW9EVHdIK0hxa1dUZ1djelR3WlZtcjhEYkFFdXF2MzViQ1Q2Q1dEb3JqR25BcXdPU0NJN0VobEZXSGprQlhJa2IxTS9EWlFnUndDZUF3SzlCK0hSUEZsUEJPamVac3pLejB3SzkvRmx6ZUUzSTI0R0V6VUlJNDViVC9TWWFycUdMZXNFK2J0bERCUDcwUUlua2NrRHdnZ1FxQUdHdDA1MjY2N3ZBSlo4ZnZrMUdSRVJFUkVSRTNGVDAzNWJhMDgxSUxMdlIzVVhhL05EZ1VsV2crbTROMktnQ2Z6elAxbFl0RFVEcEFpOU9iZURWcWN6dTRBU3N5L3U4a2F4SWQvMlcrSllxNENzYnJCY1Y4U1B3OGlSdnJXV3plK0lsSUxBM1hGak56TWVBbDcvRU10MFRtSDR3d3RrbUhHNE9zTFZ6WWtFc0hMWkU0K3lSRGJGQkEreXBWb1pKNmZSOGl3MjRUMmNFc0JidzVwbnB0SXVGQ2JBM3dIa0pOMHBtQWJPYkFPdmFPbCtoZDE0QTFnVklGd2wyQVhzdlQ1dzVHTVBlelFFOGo4WEFoRm1BWUN2MEFRTElJRWhTMmJBVW1zR2g5VnV1a1QvWjNnb0hnWnNFN3dFTDRKbkhQUit3NitkaklpSWlJaUlpUm8zTHZZdHpSNFU4S21zNVk3dU9SYmc0NkphOW8vN0FqK0RvejNvR1ptMmo5WEtpTWMwTVRwR3Q3UGdYdnJvRDJHNXgwM2VzMWlZOVQ0Y0hYSDFMQm1BS0N5UDY5QklDOWpMN0V1Qit2cnRNOG53L2dHMCt3MXl2WnUzMUJRZk51ZUE2ZmVzRU5PR21pNERFRWc3enBudmlLWjV1VzUwR2tncit6TEJGQ2hKTEMxbTRDOWhFd2R1SExhWFJDUkh2bmhVckFiUkxiRDI4MDRPYW1reGcwWm41Zkw4bG5RaTJibzhKWWZ3RUNBa1IzaC9takE2TFRza1RJNEhvTmJRSktEVC80SjgvdW9hNDd2cEZSRVJFUkZ4dnBGZjhSbVp4TzhDM1hFVzk0VitpLzVpV0FxekxMS2IzbFFaWEF5RWxoWHBGSVVhMUdNSzJMZ3NVcnloVlUwaFJNR1RHZHlsVUZxRHpDK3NTT0NOd0xOMEdlUFJDdDlkTC9ZM296Q0FBS2hLTWVKYUtXTjhFeGtXQVpmbWRFNVFTbVJLQS93cEw3SWFPSlcwWEcwc1gyTUFDV0g1engwWkZrTU1DNkg2Rmh1N1I2TTkwWkdNQXlXR2RvVW0xbGRBeHdMSkJaalRtcjl0a1NQaVBZOGhIK1ZPN1FtRDVwRERnZDJWMllJRFQwZTBpMFh1Z0Q4a0lDZWlMTHZwSFJFUkVSTndzWk1wUHlEYlBmMnNpY1d1bzFrMWw0MlpUWDQ3M0FwNGI3Rld1a2t2RmpDWm5majV1aVJ3Z0Y3ZElBZWlNZlNudUM0ZE1FOFh0R3VTRVJpVTRLSW9wY3ZiS3p3WWhwVnMwNTd1ZkczRlJhN2d3OUcxYlRHVzJzclZmcHpldG51UXdtVUErTVJvZ1dEQkI5OXBhaGVyQTNGWmpHNlFWUlpGV0lJVE1EQUlRQTZCTWRLSnIzRE1Ja0VVZlNyU3VORFFXNEZydnJvclRCVTVnY25UMFBtQUNsc3VsL3drTWdRa1FBUUwyRFFKQnFZNE9TRUlTVEVqVlFKUHdZd1dYQmNBVTBCOVZjVDBHQUdxZzBlTGo4dlJqVGNEUkIvdS9NZ2k0YytjTzJ4N3Zsc2tCU29EUy8wTk1nR2xTSVBVSFRsR0twdjNnam9MVEFnNlY2akE5MVBNQVdXbi9MUUdxZkRURlZoV25DNVJkNE81ZDNBV1dRbDRDK2Q2ZWtKV3ZYMGlBMHYvMnZRL2RCQ1RrZ0R5U0pJY0pDbUhnNU9URVBRYkFvV1JBNm84SktIOWFBc3BCRUJGd1g1MTkvMzV6NEtnYUJJK0lPdWdFVGdCN1JFTVFBajdDOHhQenhXMzVYcmdJb0JYQ2d4S293dFBUVTlBbXlpd2dPNXhPNVp2dUFxWHNKdUMwUW4wZ3llR0RQRjlCanA4UlFsMUlIdmgxK2NMNlRpZ0JFMElBR0JZdzEvcDdDR2lMKzdnRU1ibEpTd0MxZ095d1JIT0ptQXhxakoyQzBTZnp2TDBMNUUzOXVkTUNPQUdoTG9EVHF6R3dhRE8zQkdSbWZXMXhsUjhBN3drSGlBV0Vib05WZStibUhFeW1iOTNBRlE0TWVndGNQVDlBQ1NnWktNVDJrR1dMRWgxOFBjYWg2YnFFczBPdmFhWDlyZW9mRVJFUkVURnlQSHpvVDAvQk82OE5ZTnY2U0pEcGNQZFJlWnQ2MUloMXNOM0cyUE5hbnJmblZxN0ovc2F5RUw4aDdTbTg5elVaYlIyVFEvSzJqZlhQTXMzQVRIbVJaL2tVQlR1eXlmTzkxcEd6VXBIcDQ0OXFWN3hoUUo2c1FGYWFUTThtVjY3Z3huSjFQVm9OQ3VYTXBlMjlQVlhjenZFMWZRendtT2l2SEtVVHJiL3l6ZHZvTjdFN1lpaWNoOS9LMXdGdVVDYXZjNGJ5RzJ1RE5MWVF2eFBuNHZjNHZzMmxrQnV5TU9YanlUR1NWZnNYQzFjRG9YYjJhN2t4T0dSeHNyR0xWTHVPMVl4RkcxMXhBa2c0RE9MSi9hZlA3dDFIMDBhWnRPOE10OGRMd0IvZ2ovTDFKNnlnY3YySmpJTVBHUnRQY3VyN3RuTHR6S2YyK2g0Mklob0habkN3a0J4VXdsNHpZN1BuSXFBZUJaQUZITUNmNGFGdWtOUWZUZG1GTGVBdjRoUHhWejJsZEVvczRKUll3Q214Z0lVUmU4Z2VVQTFTYlh4TDZ2dTBrajV0RzFnRzh6aDJBRFVHYVAzQ0JEeTUvOUVEK2JMclgzdnFtSUFVeWxtblJ2NGJmQ1pmZjBjN0pvdytYc3J2RXhtbGwvMVg0b0dEZ0NhNlM0MEdFZnNSR09Zb0Q1T3BPREhpUlVKQVJoZ20rcmM3SWt3Q2tQejVKM2RtZC83eFJTMGZOc1h0YnlZdnpLc25XQmVvWlN3K2ZxeGxaZnZ0ZktlVkFFR2c5Z2lsd2owcENXU1MrMUhkWUgwWFVGdU1oS3RMcU81T2l2UExndWpQQS9nVTZ5K2VmaW1Idi9tWFQxc0NaUDlQUGVjelJlZHNFRFVuV2Rra1AvRUQ2TFEza1czZkFPT1RGMVIvZWhzVTFhWXVuVnl1Q053dTJ2T0JsV0FnRjFjUVJZY0EzL0NCSWlJaUlpSjJnQ21lbUZhdUhKeXlQTS8xeDB2ZVdsZ3VSWGp2ZnRDbkJTbXM1ZnNhMzVyUEFMbWFIOEpYWDMzOU5YeUJtbk9nOUM4aFA2enV3Wk1uY0cvVnBKUDlGczEwUXpQZjBNcjBRQnU4VWI4cGg5bDArc0pnd1AvbFlpRXNaRms1aWpaQk1yQ20zdmlKOXJ6K3FmQXY3WXF1cDdLQUJRdHUyblN5VkVzKzFNR3J6aU5keDB3R08zcHhzRXJRd1pWeWpOZnd3ckpiOWhjU29Gd3RkSWJTdmZ3MURVQVQ4TTIzejU5Lys0MXV6MVJBc2NBck81UUFZOHNJbEpOUmFNTkRLcXFwaWxUNzJwbWFqMEVFUEZOcmRiakN0V0xkUlFBTkw3bTZKTDFhM2RNV3RTNWxyWDlxNW9mUzF2ZmIwMS9LcEJseVYyRkNObVNZNTVmcm9DZ0RxTUJUeG5NQ1c4QjhqdmVyNTZ1VkNpODFBVkovZ2FiQUtPTTBXTENMeE1UYjlqYzJnUFN2cm1BekJud0creEx3c3MxUUZNYjVjT3duNEVoK1BGSS9UYkl5c0NtY0lBc2cwZXV6WjRmUFZuRFdGdmhDdFc2MlBRS29CWHhYeXMyc1hLMi9WakJmbHpneFQ5ZUV5VXQ2Zkh4c0VGQmYyZXJQaWNUbjhvZHNlRmc3eDREVlNuVUFQQWkrbUU1bld4d0V5Ump3WFQwRzFBd28vUXNqSEYycDlwN28wOWNIY0lZWVVBVWRvV0d2bWJ4cDlQdjQ0L3FIR0loekRKaG1xOVVLVnBnQmVodmM5bDNnc1pxWTFlMmhvZHQ2UHRjVFZuSUVsRCtwWmdDTVA4M0gvZVlBdlEyV0ZsSENNUWJBVkFFVFlMdUdmUWdnU010ci83anhBeXg3Qk0wUlZsckxpMVNObE0rYjFIOC9TY3l2ZFJIbHFGRkxrMHhONldYTmhvM3Vmc0R1Y2ZUcTFSRVNGd2VLcS9SNXl4aHRNTnM1R1JFUkVkRUxVN3c3K3ZYM2FvajUvdld1R3pVZzNnQzhhWVVmbWxIM2gxMDNhekRjVmVyZXJZWFgxUjFIdldzYldNSVNuL0FmaXpNanRyZnpiRm55dit4ZjBLWjRvd0tveGdUZWFnTGV0am1JMjJEekl3cE5DVnQ2b0Flb0RFdDFUMTk2eTc5RTNLMFV2b3NxcDY0SGEwOUtEeFRhS0FJYk41WDhidkxPWEoxbDFRMUpnQndCVkFqOXhxamNiTU1jTDR4Vit1dmx4Y0xVMzdaMWQ1RXVzSDd2NU5zN0k4Tnlod1FVemZVdTNBUVVwTXNEbktjNERldHZJeUExVEtiY2FENHh3bW1EZ0F5V3krVnducTVXMkUwQVB3ZnBMM1UzQnNYZUZqRHNJRmdhUVBYUVRLbkRLMDNBSzVTcDhCZUEwM3VQQWNOR2EzVFFlNnJGcHpnVE9Za3dZUERUK3k0Z3hJQkQ0RklyWExYZ29oRXZzSTUwRE1CU3NmM2Q1enNOMW45VTA3THc4c2RkdG1GTXN4VVJFUkVSRVJHWGpBSjg0bVVEWnNTUjJlZ0ppVDdZMjZQNmcwZThmQUtBVUdBUVVLYWxPRU14UzlXYmtVR0Z6STA4cnpLNXc5dUMrTTRGUzRaeWhXeEFBa3dLVEFLcXRMYk41ZVdSNnRFTUJnRTRuUk5BZzBVK0dXQnV4aDJFQUx3Wm1CSlFUbi9ValN6L3pIQ2I2d3lZZ0psRnA3REdocmpOL3grd0VRRURXc0JHQkF4c0FjT09BUlE3SHdNR3ZndncrWTRkM3dWR2dOMzZBUkVSRVJFUk54dis1OGl1TzlML0N2anBjN1IzVTNvcFp6Zm9lM0xWYzZUd1U0R2VaOGlMbDVZSEtCcmZoSDcvUVZkNWRGakQveVFCQXUxT1Zxek1HQVAweVZLOVg3K2JQRGFrY0M3RVQ0VTR4MDlicjA5a1JHcytYNnNWbVJ4UDVFKzdmUnVPemYzc1NnWlRucWpYWktUdWJWYnZtei9UVnloZmdOcHRmK0Fnb1B4cXRPU3crWDQ5U0NCSjFJRkdQbFF2L2YxN0tsMGVTUTVIU2tCcEFSTG4rSXFyY1dGdDdFNUdCSHhSb1RYeGp2TG9NQ3Z2Z1F1MDUwVUdvMU00bVRvSXVIYURZQTV3Zm5hT2gvMXFPa0tIcExEbC8zQTVOdVJ2NVBWNWN5V2ZtbytJaUlpSTZBMzZmRUJJcHB1b3VzcGQ2K3NyaDBDZkR3akpkQnRkVjdscmZYM2w0UFdIRnE4M2tlbEd5cTV5MS9yNnlrSFE1d1BlNmdJYStVTDVoaGUxWEcybExkTmZ0VEpRV1RqVDMrcjB0ODc2QlhqVDFZNU9raTVvK3dWKzNzRUgwQlZBS3plRmlIbzErT0lDcnc2SDh2TjBsbDh2a2R2UzhlcVovUzhZN1JFLy8veXpNTnRUUHBHOEtRSEdCNHVzZXU4RmFUQnVFTXN2bUVMKy9JU0FZSHRFOCt1UVY1WCsyeU5nZ2I2RHprS0E3VzhYaFlMMVd5ekVad0hxMjBaVzBJR0FjQmRRMzc3VnhjUkRYUVJDQkhxN2xDRDVxU3daV0xYNWc2RFBCMWdHdFdZUTFJTVlIYVNBeXU1QjFUcEkwdnJwSUd1bU4veTRaTlVIV2ptSW9XOWpmVytqWGVVd2huWmsranBTWGVVd2huWmwrN3JTWGVXSWlJaUlpSWdJRDJySDRkTGswWVA4LzhDd2ZBMEpBRDhCNVFzcktQd0VDUHBQRDhlTjZpc0p3U01UZ3FCNWM4bmszOStOSGRFQ2J2d1ljTlB2QWhFUkVSRVJFUkhiUm5KMVBJSGdMa2pJdW05MFRjai9CeG96RWhGbzZ3WUUwT3Q5bGZUZmhnVlFmYStVL3FZRmxOdmJ5NWVEZ0hidHpkVFg0RkNkZlczSGdLeUJxVCsrNHBYK1Y4Y0crbHBBbGYvcTZ0L1hBcTY4L24zdkFnNzlyKzBZRUlEVy8rcllRTkFDdWtEcDNmeEdSSXdjL3dlMHdJcWFnbXk3R0FBQUFDVjBSVmgwWkdGMFpUcGpjbVZoZEdVQU1qQXhOUzB3TXkweE1WUXdPRG8wTnpveE1TMHdOem93TUpJOUgyd0FBQUFsZEVWWWRHUmhkR1U2Ylc5a2FXWjVBREl3TVRVdE1ETXRNVEZVTURjNk5UazZNelV0TURjNk1EQ3RQYjc0QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFBQkpSVTVFcmtKZ2dnPT1cIik7XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUR3Q0FNQUFBRFlTVXI1QUFBQkRsQk1WRVVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkVpanZFaWp2RWlqdkV6ZnFDdUFBQUFXWFJTVGxNQUdSQXpCQWhRdjRLWkx5SlZjVUJtWUJvVE1zd05JVHdXUWtoTElCNWFJeWN4VXl5Rk5JZUF3MnJJejhZNFJSeTh1TDU4cTdXbGpLcW9yUit5S2YwQm5sRWs3d29HQWdPUG9tS1VTcUN2YmQrY1IyTS9iMytSYVBsQVh2RUFBQUFCWWt0SFJBQ0lCUjFJQUFBQUNYQklXWE1BQUFCSUFBQUFTQUJHeVdzK0FBQVBaRWxFUVZSNDJ1MWRDMlBidGhFR3lVaXE2WmlTWGJsTEU2ZXgxbVRPNWlYWnErdTZybzNhYkcyNnBPa1NkMTN2Ly8rUkFYemhjSWVIV01vVWJlT1RMZXNJRU1COVBJQjNBQ2dMRVJFUk1RSWtrT3k2Q1R2V0gwYk9RTy9tSmVEWFA4RU1xTXpERWtJc0VCUk1BbWg3akhTVm11QWpBS3dDOEZSQXppOC9EbW9TMUFJNUFRbHRqNUZPcnlBamdKN09LMkNaa3dFWllPMjNxK0JKNXd3S2t0dGZ1aTF6NHMyMFZUQUw1azJrRjVoYmlQY0tjd3Z3TkdCNEM3Q1R3cHJvSTRDZERjeEVQS1VURXh4K0ROaUFqMHU5QzlBdU5QeGRZT2U0Nlk1UVJFUkVSRVJFeEloeDZaN2dqdjJnaEVWclFKMzNoSjVCc3hzQmZzSXE4TTBIc0FraFdmcWdsRmdhd0FoZ0dXaDJNMXhNV0FXVUFFOTBxVW9mTWhoaTdiZTMySk5zbVZGSlBLZUx3QlFnbEFRTU5oM0FMVmpZYk5hSTFqYVlEMGpNMG53OWF0Y1dZRVhpYVhILytRRGVRM1k2Qm9SeDNlOENFUkVSRVJFUkVSRzdRei9IUCtpYUJzdnZIWGowTEFENGNpcDB5TjI3Zlh3N0FHdFFvRFR3SCtIcWtXVGdXY3pUd1pWbXI4RGJBRXVxdjM1YkNUNkNXRG9yakduQXF3T1NDSTdFaGxGV0hqa0JYSWtiMU0vRFpRZ1J3Q2VBd0s5QitIUlBGbFBCT2plWnN6S3owd0s5L0ZsemVFM0kyNEdFelVJSTQ1YlQvU1lhcnFHTGVzRStidGxEQlA3MFFJbmtja0R3Z2dRcUFHR3QwNTI2Njd2QUpaOGZ2azFHUkVSRVJFUkUzRlQwMzViYTA4MUlMTHZSM1VYYS9ORGdVbFdnK200TjJLZ0NmenpQMWxZdERVRHBBaTlPYmVEVnFjenU0QVNzeS91OGtheElkLzJXK0pZcTRDc2JyQmNWOFNQdzhpUnZyV1d6ZStJbElMQTNYRmpOek1lQWw3L0VNdDBUbUg0d3d0a21IRzRPc0xWellrRXNITFpFNCt5UkRiRkJBK3lwVm9aSjZmUjhpdzI0VDJjRXNCYnc1cG5wdEl1RkNiQTN3SGtKTjBwbUFiT2JBT3ZhT2wraGQxNEExZ1ZJRndsMkFYc3ZUNXc1R01QZXpRRThqOFhBaEZtQVlDdjBBUUxJSUVoUzJiQVVtc0doOVZ1dWtUL1ozZ29IZ1pzRTd3RUw0Sm5IUFIrdzYrZGpJaUlpSWlJaVJvM0x2WXR6UjRVOEttczVZN3VPUmJnNDZKYTlvLzdBaitEb3ozb0dabTJqOVhLaU1jME1UcEd0N1BnWHZyb0QyRzV4MDNlczFpWTlUNGNIWEgxTEJtQUtDeVA2OUJJQzlqTDdFdUIrdnJ0TThudy9nRzArdzF5dlp1MzFCUWZOdWVBNmZlc0VOT0dtaTRERUVnN3pwbnZpS1o1dVc1MEdrZ3IrekxCRkNoSkxDMW00QzloRXdkdUhMYVhSQ1JIdm5oVXJBYlJMYkQyODA0T2Fta3hnMFpuNWZMOGxuUWkyYm84Sllmd0VDQWtSM2gvbWpBNkxUc2tUSTRIb05iUUpLRFQvNEo4L3VvYTQ3dnBGUkVSRVJGeHZwRmY4Um1aeE84QzNYRVc5NFYraS81aVdBcXpMTEtiM2xRWlhBeUVsaFhwRklVYTFHTUsyTGdzVXJ5aFZVMGhSTUdUR2R5bFVGcUR6QytzU09DTndMTjBHZVBSQ3Q5ZEwvWTNvekNBQUtoS01lSmFLV044RXhrV0FaZm1kRTVRU21SS0Evd3BMN0lhT0pXMFhHMHNYMk1BQ1dINXp4MFpGa01NQzZINkZodTdSNk05MFpHTUF5V0dkb1VtMWxkQXh3TEpCWmpUbXI5dGtTUGlQWThoSCtWTzdRbUQ1cEREZ2QyVjJZSURUMGUwaTBYdWdEOGtJQ2VpTEx2cEhSRVJFUk53c1pNcFB5RGJQZjJzaWNXdW8xazFsNDJaVFg0NzNBcDRiN0ZXdWtrdkZqQ1puZmo1dWlSd2dGN2RJQWVpTWZTbnVDNGRNRThYdEd1U0VSaVU0S0lvcGN2Ykt6d1locFZzMDU3dWZHM0ZSYTdndzlHMWJUR1cyc3JWZnB6ZXRudVF3bVVBK01Sb2dXREJCOTlwYWhlckEzRlpqRzZRVlJaRldJSVRNREFJUUE2Qk1kS0pyM0RNSWtFVWZTclN1TkRRVzRGcnZyb3JUQlU1Z2NuVDBQbUFDbHN1bC93a01nUWtRQVFMMkRRSkJxWTRPU0VJU1RFalZRSlB3WXdXWEJjQVUwQjlWY1QwR0FHcWcwZUxqOHZSalRjRFJCL3UvTWdpNGMrY08yeDd2bHNrQlNvRFMvME5NZ0dsU0lQVUhUbEdLcHYzZ2pvTFRBZzZWNmpBOTFQTUFXV24vTFFHcWZEVEZWaFduQzVSZDRPNWQzQVdXUWw0QytkNmVrSld2WDBpQTB2LzJ2US9kQkNUa2dEeVNKSWNKQ21IZzVPVEVQUWJBb1dSQTZvOEpLSDlhQXNwQkVCRndYNTE5LzM1ejRLZ2FCSStJT3VnRVRnQjdSRU1RQWo3Qzh4UHp4VzM1WHJnSW9CWENneEtvd3RQVFU5QW15aXdnTzV4TzVadnVBcVhzSnVDMFFuMGd5ZUdEUEY5QmpwOFJRbDFJSHZoMStjTDZUaWdCRTBJQUdCWXcxL3A3Q0dpTCs3Z0VNYmxKU3dDMWdPeXdSSE9KbUF4cWpKMkMwU2Z6dkwwTDVFMzl1ZE1DT0FHaExvRFRxekd3YURPM0JHUm1mVzF4bFI4QTd3a0hpQVdFYm9OVmUrYm1IRXltYjkzQUZRNE1lZ3RjUFQ5QUNTZ1pLTVQya0dXTEVoMThQY2FoNmJxRXMwT3ZhYVg5cmVvZkVSRVJFVEZ5UEh6b1QwL0JPNjhOWU52NlNKRHBjUGRSZVp0NjFJaDFzTjNHMlBOYW5yZm5WcTdKL3NheUVMOGg3U204OXpVWmJSMlRRL0syamZYUE1zM0FUSG1SWi9rVUJUdXl5Zk85MXBHelVwSHA0NDlxVjd4aFFKNnNRRmFhVE04bVY2N2d4bkoxUFZvTkN1WE1wZTI5UFZYY3p2RTFmUXp3bU9pdkhLVVRyYi95emR2b043RTdZaWljaDkvSzF3RnVVQ2F2YzRieUcydUROTFlRdnhQbjR2YzR2czJsa0J1eU1PWGp5VEdTVmZzWEMxY0RvWGIyYTdreE9HUnhzckdMVkx1TzFZeEZHMTF4QWtnNERPTEovYWZQN3QxSDAwYVp0TzhNdDhkTHdCL2dqL0wxSjZ5Z2N2MkpqSU1QR1J0UGN1cjd0bkx0ektmMitoNDJJaG9IWm5Dd2tCeFV3bDR6WTdQbklxQWVCWkFGSE1DZjRhRnVrTlFmVGRtRkxlQXY0aFB4VnoybGRFb3M0SlJZd0NteGdJVVJlOGdlVUExU2JYeEw2dnUwa2o1dEcxZ0c4emgyQURVR2FQM0NCRHk1LzlFRCtiTHJYM3ZxbUlBVXlsbW5SdjRiZkNaZmYwYzdKb3crWHNydkV4bWxsLzFYNG9HRGdDYTZTNDBHRWZzUkdPWW9ENU9wT0RIaVJVSkFSaGdtK3JjN0lrd0NrUHo1SjNkbWQvN3hSUzBmTnNYdGJ5WXZ6S3NuV0Jlb1pTdytmcXhsWmZ2dGZLZVZBRUdnOWdpbHdqMHBDV1NTKzFIZFlIMFhVRnVNaEt0THFPNU9pdlBMZ3VqUEEvZ1U2eStlZmltSHYvbVhUMXNDWlA5UFBlY3pSZWRzRURVbldka2tQL0VENkxRM2tXM2ZBT09URjFSL2Voc1UxYVl1blZ5dUNOd3Uydk9CbFdBZ0YxY1FSWWNBMy9DQklpSWlJaUoyZ0NtZW1GYXVISnl5UE0vMXgwdmVXbGd1UlhqdmZ0Q25CU21zNWZzYTM1clBBTG1hSDhKWFgzMzlOWHlCbW5PZzlDOGhQNnp1d1pNbmNHL1ZwSlA5RnMxMFF6UGYwTXIwUUJ1OFViOHBoOWwwK3NKZ3dQL2xZaUVzWkZrNWlqWkJNckNtM3ZpSjlyeitxZkF2N1lxdXA3S0FCUXR1Mm5TeVZFcysxTUdyemlOZHgwd0dPM3B4c0VyUXdaVnlqTmZ3d3JKYjloY1NvRnd0ZEliU3ZmdzFEVUFUOE0yM3o1OS8rNDF1ejFSQXNjQXJPNVFBWThzSWxKTlJhTU5ES3FxcGlsVDcycG1hajBFRVBGTnJkYmpDdFdMZFJRQU5MN202SkwxYTNkTVd0UzVsclg5cTVvZlMxdmZiMDEvS3BCbHlWMkZDTm1TWTU1ZnJvQ2dEcU1CVHhuTUNXOEI4anZlcjU2dVZDaTgxQVZKL2dhYkFLT00wV0xDTHhNVGI5amMyZ1BTdnJtQXpCbndHK3hMd3NzMVFGTWI1Y093bjRFaCtQRkkvVGJJeXNDbWNJQXNnMGV1elo0ZlBWbkRXRnZoQ3RXNjJQUUtvQlh4WHlzMnNYSzIvVmpCZmx6Z3hUOWVFeVV0NmZIeHNFRkJmMmVyUGljVG44b2RzZUZnN3g0RFZTblVBUEFpK21FNW5XeHdFeVJqd1hUMEcxQXdvL1FzakhGMnA5cDdvMDljSGNJWVlVQVVkb1dHdm1ieHA5UHY0NC9xSEdJaHpESmhtcTlVS1ZwZ0JlaHZjOWwzZ3NacVkxZTJob2R0NlB0Y1RWbklFbEQrcFpnQ01QODNIL2VZQXZRMldGbEhDTVFiQVZBRVRZTHVHZlFnZ1NNdHIvN2p4QXl4N0JNMFJWbHJMaTFTTmxNK2IxSDgvU2N5dmRSSGxxRkZMazB4TjZXWE5obzN1ZnNEdWNmVHExUkVTRndlS3EvUjV5eGh0TU5zNUdSRVJFZEVMVTd3Nyt2WDNhb2o1L3ZXdUd6VWczZ0M4YVlVZm1sSDNoMTAzYXpEY1ZlcmVyWVhYMVIxSHZXc2JXTUlTbi9BZml6TWp0cmZ6YkZueXYreGYwS1o0b3dLb3hnVGVhZ0xldGptSTIyRHpJd3BOQ1Z0Nm9BZW9ERXQxVDE5Nnk3OUUzSzBVdm9zcXA2NEhhMDlLRHhUYUtBSWJONVg4YnZMT1hKMWwxUTFKZ0J3QlZBajl4cWpjYk1NY0w0eFYrdXZseGNMVTM3WjFkNUV1c0g3djVOczdJOE55aHdRVXpmVXUzQVFVcE1zRG5LYzREZXR2SXlBMVRLYmNhRDR4d21tRGdBeVd5K1Z3bnE1VzJFMEFQd2ZwTDNVM0JzWGVGakRzSUZnYVFQWFFUS25ESzAzQUs1U3A4QmVBMDN1UEFjTkdhM1RRZTZyRnB6Z1RPWWt3WVBEVCt5NGd4SUJENEZJclhMWGdvaEV2c0k1MERNQlNzZjNkNXpzTjFuOVUwN0x3OHNkZHRtRk1zeFVSRVJFUkVSR1hqQUo4NG1VRFpzU1IyZWdKaVQ3WTI2UDZnMGU4ZkFLQVVHQVFVS2FsT0VNeFM5V2JrVUdGekkwOHJ6SzV3OXVDK000RlM0WnloV3hBQWt3S1RBS3F0TGJONWVXUjZ0RU1CZ0U0blJOQWcwVStHV0J1eGgyRUFMd1ptQkpRVG4vVWpTei96SENiNnd5WWdKbEZwN0RHaHJqTi94K3dFUUVEV3NCR0JBeHNBY09PQVJRN0h3TUd2Z3Z3K1k0ZDN3VkdnTjM2QVJFUkVSRVJOeHYrNThpdU85TC9DdmpwYzdSM1Uzb3BaemZvZTNMVmM2VHdVNEdlWjhpTGw1WUhLQnJmaEg3L1FWZDVkRmpEL3lRQkF1MU9WcXpNR0FQMHlWSzlYNytiUERha2NDN0VUNFU0eDA5YnIwOWtSR3MrWDZzVm1SeFA1RSs3ZlJ1T3pmM3NTZ1pUbnFqWFpLVHViVmJ2bXovVFZ5aGZnTnB0ZitBZ29QeHF0T1N3K1g0OVNDQkoxSUZHUGxRdi9mMTdLbDBlU1E1SFNrQnBBUkxuK0lxcmNXRnQ3RTVHQkh4Um9UWHhqdkxvTUN2dmdRdTA1MFVHbzFNNG1Ub0l1SGFEWUE1d2ZuYU9oLzFxT2tLSHBMRGwvM0E1TnVSdjVQVjVjeVdmbW8rSWlJaUk2QTM2ZkVCSXBwdW91c3BkNitzcmgwQ2ZEd2pKZEJ0ZFY3bHJmWDNsNFBXSEZxODNrZWxHeXE1eTEvcjZ5a0hRNXdQZTZnSWErVUw1aGhlMVhHMmxMZE5mdFRKUVdUalQzK3IwdDg3NkJYalQxWTVPa2k1byt3Viszc0VIMEJWQUt6ZUZpSG8xK09JQ3J3Nkg4dk4wbGw4dmtkdlM4ZXFaL1M4WTdSRS8vL3l6TU50VFBwRzhLUUhHQjR1c2V1OEZhVEJ1RU1zdm1FTCsvSVNBWUh0RTgrdVFWNVgrMnlOZ2diNkR6a0tBN1c4WGhZTDFXeXpFWndIcTIwWlcwSUdBY0JkUTM3N1Z4Y1JEWFFSQ0JIcTdsQ0Q1cVN3WldMWDVnNkRQQjFnR3RXWVExSU1ZSGFTQXl1NUIxVHBJMHZycElHdW1OL3k0Wk5VSFdqbUlvVzlqZlcralhlVXdoblprK2pwU1hlVXdoblpsKzdyU1hlV0lpSWlJaUlnSUQyckg0ZExrMFlQOC84Q3dmQTBKQUQ4QjVRc3JLUHdFQ1BwUEQ4ZU42aXNKd1NNVGdxQjVjOG5rMzkrTkhkRUNidndZY05QdkFoRVJFUkVSRVJIYlJuSjFQSUhnTGtqSXVtOTBUY2ovQnhvekVoRm82d1lFME90OWxmVGZoZ1ZRZmErVS9xWUZsTnZieTVlRGdIYnR6ZFRYNEZDZGZXM0hnS3lCcVQrKzRwWCtWOGNHK2xwQWxmL3E2dC9YQXE2OC9uM3ZBZzc5ciswWUVJRFcvK3JZUU5BQ3VrRHAzZnhHUkl3Yy93ZTB3SXFhZ215N0dBQUFBQ1YwUlZoMFpHRjBaVHBqY21WaGRHVUFNakF4TlMwd015MHhNVlF3T0RvME56b3hNUzB3Tnpvd01KSTlIMndBQUFBbGRFVllkR1JoZEdVNmJXOWthV1o1QURJd01UVXRNRE10TVRGVU1EYzZOVGs2TXpVdE1EYzZNREN0UGI3NEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQUJKUlU1RXJrSmdnZz09XCIpO1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBUUFBQUFEd0NBTUFBQURZU1VyNUFBQUJEbEJNVkVYLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5yLzBuci8wbnIvMG5xZnpSZ1dBQUFBV1hSU1RsTUFHUkF6QkFoUXY0S1pMeUpWY1VCbVlCb1RNc3dOSVR3V1FraExJQjVhSXljeFV5eUZOSWVBdzJySXo4WTRSUnk4dUw1OHE3V2xqS3FvclIreUtmMEJubEVrN3dvR0FnT1BvbUtVU3FDdmJkK2NSMk0vYjMrUmFQbEFYdkVBQUFBQllrdEhSQUNJQlIxSUFBQUFDWEJJV1hNQUFBQklBQUFBU0FCR3lXcytBQUFQWkVsRVFWUjQydTFkQzJQYnRoRUd5VWlxNlppU1hibExFNmV4MW1UTzVpWFpxK3U2cm8zYWJHMjZwT2tTZDEzdi8vK1JBWHpoY0llSFdNb1ViZU9UTGVzSUVNQjlQSUIzQUNnTEVSRVJNUUlra095NkNUdldIMGJPUU8vbUplRFhQOEVNcU16REVrSXNFQlJNQW1oN2pIU1ZtdUFqQUt3QzhGUkF6aTgvRG1vUzFBSTVBUWx0ajVGT3J5QWpnSjdPSzJDWmt3RVpZTzIzcStCSjV3d0trdHRmdWkxejRzMjBWVEFMNWsya0Y1aGJpUGNLY3d2d05HQjRDN0NUd3Byb0k0Q2REY3hFUEtVVEV4eCtETmlBajB1OUM5QXVOUHhkWU9lNDZZNVFSRVJFUkVSRXhJaHg2WjdnanYyZ2hFVnJRSjMzaEo1QnN4c0Jmc0lxOE0wSHNBa2hXZnFnbEZnYXdBaGdHV2gyTTF4TVdBV1VBRTkwcVVvZk1oaGk3YmUzMkpOc21WRkpQS2VMd0JRZ2xBUU1OaDNBTFZqWWJOYUkxamFZRDBqTTBudzlhdGNXWUVYaWFYSC8rUURlUTNZNkJvUngzZThDRVJFUkVSRVJFUkc3UXovSFAraWFCc3Z2SFhqMExBRDRjaXAweU4yN2ZYdzdBR3RRb0RUd0grSHFrV1RnV2N6VHdaVm1yOERiQUV1cXYzNWJDVDZDV0RvcmpHbkFxd09TQ0k3RWhsRldIamtCWElrYjFNL0RaUWdSd0NlQXdLOUIrSFJQRmxQQk9qZVpzekt6MHdLOS9GbHplRTNJMjRHRXpVSUk0NWJUL1NZYXJxR0xlc0UrYnRsREJQNzBRSW5rY2tEd2dnUXFBR0d0MDUyNjY3dkFKWjhmdmsxR1JFUkVSRVJFM0ZUMDM1YmEwODFJTEx2UjNVWGEvTkRnVWxXZyttNE4yS2dDZnp6UDFsWXREVURwQWk5T2JlRFZxY3p1NEFTc3kvdThrYXhJZC8yVytKWXE0Q3NickJjVjhTUHc4aVJ2cldXemUrSWxJTEEzWEZqTnpNZUFsNy9FTXQwVG1INHd3dGttSEc0T3NMVnpZa0VzSExaRTQreVJEYkZCQSt5cFZvWko2ZlI4aXcyNFQyY0VzQmJ3NXBucHRJdUZDYkEzd0hrSk4wcG1BYk9iQU92YU9sK2hkMTRBMWdWSUZ3bDJBWHN2VDV3NUdNUGV6UUU4ajhYQWhGbUFZQ3YwQVFMSUlFaFMyYkFVbXNHaDlWdXVrVC9aM2dvSGdac0U3d0VMNEpuSFBSK3c2K2RqSWlJaUlpSWlSbzNMdll0elI0VThLbXM1WTd1T1JiZzQ2SmE5by83QWorRG96M29HWm0yajlYS2lNYzBNVHBHdDdQZ1h2cm9EMkc1eDAzZXMxaVk5VDRjSFhIMUxCbUFLQ3lQNjlCSUM5akw3RXVCK3ZydE04bncvZ0cwK3cxeXZadTMxQlFmTnVlQTZmZXNFTk9HbWk0REVFZzd6cG52aUtaNXVXNTBHa2dyK3pMQkZDaEpMQzFtNEM5aEV3ZHVITGFYUkNSSHZuaFVyQWJSTGJEMjgwNE9hbWt4ZzBabjVmTDhsblFpMmJvOEpZZndFQ0FrUjNoL21qQTZMVHNrVEk0SG9OYlFKS0RULzRKOC91b2E0N3ZwRlJFUkVSRnh2cEZmOFJtWnhPOEMzWEVXOTRWK2kvNWlXQXF6TExLYjNsUVpYQXlFbGhYcEZJVWExR01LMkxnc1VyeWhWVTBoUk1HVEdkeWxVRnFEekMrc1NPQ053TE4wR2VQUkN0OWRML1kzb3pDQUFLaEtNZUphS1dOOEV4a1dBWmZtZEU1UVNtUktBL3dwTDdJYU9KVzBYRzBzWDJNQUNXSDV6eDBaRmtNTUM2SDZGaHU3UjZNOTBaR01BeVdHZG9VbTFsZEF4d0xKQlpqVG1yOXRrU1BpUFk4aEgrVk83UW1ENXBERGdkMlYyWUlEVDBlMGkwWHVnRDhrSUNlaUxMdnBIUkVSRVJOd3NaTXBQeURiUGYyc2ljV3VvMWsxbDQyWlRYNDczQXA0YjdGV3Vra3ZGakNabmZqNXVpUndnRjdkSUFlaU1mU251QzRkTUU4WHRHdVNFUmlVNEtJb3BjdmJLendZaHBWczA1N3VmRzNGUmE3Z3c5RzFiVEdXMnNyVmZwemV0bnVRd21VQStNUm9nV0RCQjk5cGFoZXJBM0Zaakc2UVZSWkZXSUlUTURBSVFBNkJNZEtKcjNETUlrRVVmU3JTdU5EUVc0RnJ2cm9yVEJVNWdjblQwUG1BQ2xzdWwvd2tNZ1FrUUFRTDJEUUpCcVk0T1NFSVNURWpWUUpQd1l3V1hCY0FVMEI5VmNUMEdBR3FnMGVMajh2UmpUY0RSQi91L01naTRjK2NPMng3dmxza0JTb0RTLzBOTWdHbFNJUFVIVGxHS3B2M2dqb0xUQWc2VjZqQTkxUE1BV1duL0xRR3FmRFRGVmhXbkM1UmQ0TzVkM0FXV1FsNEMrZDZla0pXdlgwaUEwdi8ydlEvZEJDVGtnRHlTSkljSkNtSGc1T1RFUFFiQW9XUkE2bzhKS0g5YUFzcEJFQkZ3WDUxOS8zNXo0S2dhQkkrSU91Z0VUZ0I3UkVNUUFqN0M4eFB6eFczNVhyZ0lvQlhDZ3hLb3d0UFRVOUFteWl3Z081eE81WnZ1QXFYc0p1QzBRbjBneWVHRFBGOUJqcDhSUWwxSUh2aDErY0w2VGlnQkUwSUFHQll3MS9wN0NHaUwrN2dFTWJsSlN3QzFnT3l3UkhPSm1BeHFqSjJDMFNmenZMMEw1RTM5dWRNQ09BR2hMb0RUcXpHd2FETzNCR1JtZlcxeGxSOEE3d2tIaUFXRWJvTlZlK2JtSEV5bWI5M0FGUTRNZWd0Y1BUOUFDU2daS01UMmtHV0xFaDE4UGNhaDZicUVzME92YWFYOXJlb2ZFUkVSRVRGeVBIem9UMC9CTzY4TllOdjZTSkRwY1BkUmVadDYxSWgxc04zRzJQTmFucmZuVnE3Si9zYXlFTDhoN1NtODl6VVpiUjJUUS9LMmpmWFBNczNBVEhtUlova1VCVHV5eWZPOTFwR3pVcEhwNDQ5cVY3eGhRSjZzUUZhYVRNOG1WNjdneG5KMVBWb05DdVhNcGUyOVBWWGN6dkUxZlF6d21PaXZIS1VUcmIveXpkdm9ON0U3WWlpY2g5L0sxd0Z1VUNhdmM0YnlHMnVETkxZUXZ4UG40dmM0dnMybGtCdXlNT1hqeVRHU1Zmc1hDMWNEb1hiMmE3a3hPR1J4c3JHTFZMdU8xWXhGRzExeEFrZzRET0xKL2FmUDd0MUgwMGFadE84TXQ4ZEx3Qi9nai9MMUo2eWdjdjJKaklNUEdSdFBjdXI3dG5MdHpLZjIraDQySWhvSFpuQ3drQnhVd2w0elk3UG5JcUFlQlpBRkhNQ2Y0YUZ1a05RZlRkbUZMZUF2NGhQeFZ6MmxkRW9zNEpSWXdDbXhnSVVSZThnZVVBMVNiWHhMNnZ1MGtqNXRHMWdHOHpoMkFEVUdhUDNDQkR5NS85RUQrYkxyWDN2cW1JQVV5bG1uUnY0YmZDWmZmMGM3Sm93K1hzcnZFeG1sbC8xWDRvR0RnQ2E2UzQwR0Vmc1JHT1lvRDVPcE9ESGlSVUpBUmhnbStyYzdJa3dDa1B6NUozZG1kLzd4UlMwZk5zWHRieVl2ektzbldCZW9aU3crZnF4bFpmdnRmS2VWQUVHZzlnaWx3ajBwQ1dTUysxSGRZSDBYVUZ1TWhLdExxTzVPaXZQTGd1alBBL2dVNnkrZWZpbUh2L21YVDFzQ1pQOVBQZWN6UmVkc0VEVW5XZGtrUC9FRDZMUTNrVzNmQU9PVEYxUi9laHNVMWFZdW5WeXVDTnd1MnZPQmxXQWdGMWNRUlljQTMvQ0JJaUlpSWlKMmdDbWVtRmF1SEp5eVBNLzF4MHZlV2xndVJYanZmdENuQlNtczVmc2EzNXJQQUxtYUg4SlhYMzM5Tlh5Qm1uT2c5QzhoUDZ6dXdaTW5jRy9WcEpQOUZzMTBRelBmME1yMFFCdThVYjhwaDlsMCtzSmd3UC9sWWlFc1pGazVpalpCTXJDbTN2aUo5cnorcWZBdjdZcXVwN0tBQlF0dTJuU3lWRXMrMU1HcnppTmR4MHdHTzNweHNFclF3WlZ5ak5md3dySmI5aGNTb0Z3dGRJYlN2ZncxRFVBVDhNMjN6NTkvKzQxdXoxUkFzY0FyTzVRQVk4c0lsSk5SYU1OREtxcXBpbFQ3MnBtYWowRUVQRk5yZGJqQ3RXTGRSUUFOTDdtNkpMMWEzZE1XdFM1bHJYOXE1b2ZTMXZmYjAxL0twQmx5VjJGQ05tU1k1NWZyb0NnRHFNQlR4bk1DVzhCOGp2ZXI1NnVWQ2k4MUFWSi9nYWJBS09NMFdMQ0x4TVRiOWpjMmdQU3ZybUF6Qm53Ryt4THdzczFRRk1iNWNPd240RWgrUEZJL1RiSXlzQ21jSUFzZzBldXpaNGZQVm5EV0Z2aEN0VzYyUFFLb0JYeFh5czJzWEsyL1ZqQmZsemd4VDllRXlVdDZmSHhzRUZCZjJlclBpY1RuOG9kc2VGZzd4NERWU25VQVBBaSttRTVuV3h3RXlSandYVDBHMUF3by9Rc2pIRjJwOXA3bzA5Y0hjSVlZVUFVZG9XR3ZtYnhwOVB2NDQvcUhHSWh6REpobXE5VUtWcGdCZWh2YzlsM2dzWnFZMWUyaG9kdDZQdGNUVm5JRWxEK3BaZ0NNUDgzSC9lWUF2UTJXRmxIQ01RYkFWQUVUWUx1R2ZRZ2dTTXRyLzdqeEF5eDdCTTBSVmxyTGkxU05sTStiMUg4L1NjeXZkUkhscUZGTGsweE42V1hOaG8zdWZzRHVjZlRxMVJFU0Z3ZUtxL1I1eXhodE1OczVHUkVSRWRFTFU3dzcrdlgzYW9qNS92V3VHelVnM2dDOGFZVWZtbEgzaDEwM2F6RGNWZXJlcllYWDFSMUh2V3NiV01JU24vQWZpek1qdHJmemJGbnl2K3hmMEtaNG93S294Z1RlYWdMZXRqbUkyMkR6SXdwTkNWdDZvQWVvREV0MVQxOTZ5NzlFM0swVXZvc3FwNjRIYTA5S0R4VGFLQUliTjVYOGJ2TE9YSjFsMVExSmdCd0JWQWo5eHFqY2JNTWNMNHhWK3V2bHhjTFUzN1oxZDVFdXNIN3Y1TnM3SThOeWh3UVV6ZlV1M0FRVXBNc0RuS2M0RGV0dkl5QTFUS2JjYUQ0eHdtbURnQXlXeStWd25xNVcyRTBBUHdmcEwzVTNCc1hlRmpEc0lGZ2FRUFhRVEtuREswM0FLNVNwOEJlQTAzdVBBY05HYTNUUWU2ckZwemdUT1lrd1lQRFQreTRneElCRDRGSXJYTFhnb2hFdnNJNTBETUJTc2YzZDV6c04xbjlVMDdMdzhzZGR0bUZNc3hVUkVSRVJFUkdYakFKODRtVURac1NSMmVnSmlUN1kyNlA2ZzBlOGZBS0FVR0FRVUthbE9FTXhTOVdia1VHRnpJMDhyeks1dzl1QytNNEZTNFp5aFd4QUFrd0tUQUtxdExiTjVlV1I2dEVNQmdFNG5STkFnMFUrR1dCdXhoMkVBTHdabUJKUVRuL1VqU3ovekhDYjZ3eVlnSmxGcDdER2hyak4veCt3RVFFRFdzQkdCQXhzQWNPT0FSUTdId01Hdmd2dytZNGQzd1ZHZ04zNkFSRVJFUkVSTnh2KzU4aXVPOUwvQ3ZqcGM3UjNVM29wWnpmb2UzTFZjNlR3VTRHZVo4aUxsNVlIS0JyZmhINy9RVmQ1ZEZqRC95UUJBdTFPVnF6TUdBUDB5Vks5WDcrYlBEYWtjQzdFVDRVNHgwOWJyMDlrUkdzK1g2c1ZtUnhQNUUrN2ZSdU96ZjNzU2daVG5xalhaS1R1YlZidm16L1RWeWhmZ05wdGYrQWdvUHhxdE9TdytYNDlTQ0JKMUlGR1BsUXYvZjE3S2wwZVNRNUhTa0JwQVJMbitJcXJjV0Z0N0U1R0JIeFJvVFh4anZMb01DdnZnUXUwNTBVR28xTTRtVG9JdUhhRFlBNXdmbmFPaC8xcU9rS0hwTERsLzNBNU51UnY1UFY1Y3lXZm1vK0lpSWlJNkEzNmZFQklwcHVvdXNwZDYrc3JoMENmRHdqSmRCdGRWN2xyZlgzbDRQV0hGcTgza2VsR3lxNXkxL3I2eWtIUTV3UGU2Z0lhK1VMNWhoZTFYRzJsTGROZnRUSlFXVGpUMytyMHQ4NzZCWGpUMVk1T2tpNW8rd1YrM3NFSDBCVkFLemVGaUhvMStPSUNydzZIOHZOMGxsOHZrZHZTOGVxWi9TOFk3UkUvLy95ek1OdFRQcEc4S1FIR0I0dXNldThGYVRCdUVNc3ZtRUwrL0lTQVlIdEU4K3VRVjVYKzJ5TmdnYjZEemtLQTdXOFhoWUwxV3l6RVp3SHEyMFpXMElHQWNCZFEzNzdWeGNSRFhRUkNCSHE3bENENXFTd1pXTFg1ZzZEUEIxZ0d0V1lRMUlNWUhhU0F5dTVCMVRwSTB2cnBJR3VtTi95NFpOVUhXam1Jb1c5amZXK2pYZVV3aG5aaytqcFNYZVV3aG5abCs3clNYZVdJaUlpSWlJZ0lEMnJINGRMazBZUDgvOEN3ZkEwSkFEOEI1UXNyS1B3RUNQcFBEOGVONmlzSndTTVRncUI1YzhuazM5K05IZEVDYnZ3WWNOUHZBaEVSRVJFUkVSSGJSbkoxUElIZ0xrakl1bTkwVGNqL0J4b3pFaEZvNndZRTBPdDlsZlRmaGdWUWZhK1UvcVlGbE52Ynk1ZURnSGJ0emRUWDRGQ2RmVzNIZ0t5QnFUKys0cFgrVjhjRytscEFsZi9xNnQvWEFxNjgvbjN2QWc3OXIrMFlFSURXLytyWVFOQUN1a0RwM2Z4R1JJd2Mvd2Uwd0lxYWdteTdHQUFBQUNWMFJWaDBaR0YwWlRwamNtVmhkR1VBTWpBeE5TMHdNeTB4TVZRd09EbzBOem94TVMwd056b3dNSkk5SDJ3QUFBQWxkRVZZZEdSaGRHVTZiVzlrYVdaNUFESXdNVFV0TURNdE1URlVNRGM2TlRrNk16VXRNRGM2TURDdFBiNzRBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNnQUFBQW9FQUFBQUFENUJUdnlBQUFBQW1KTFIwVC8veFNyTWMwQUFBQUpjRWhaY3dBQUFFZ0FBQUJJQUViSmF6NEFBQUI2U1VSQlZFakg3ZFhMRVlBZ0RFVlJxazBITm1wRk1neGkrTG53M1owaFN6Sm5tWnVPOHg2YjN2UG41MzB2c1Z3REthNkNIRmRBa3NzZ3l5MUFqVE5MTERlQU90ZUJCT2RBaG1zZ3hWV1E0d3BJY2hsa3VRMzRuWFBuaStFV29NWk5vTW9Ob001MUlNRkZVM1F1bXFKejBSU2RpNmJvM0MrYmNnSGFwNklyeU9TZCtBQUFBQ1YwUlZoMFpHRjBaVHBqY21WaGRHVUFNakF4TlMwd015MHhNVlF3T0RvME9Ub3pOUzB3Tnpvd01EcWVETEVBQUFBbGRFVllkR1JoZEdVNmJXOWthV1o1QURJd01UVXRNRE10TVRGVU1EZzZORGs2TXpVdE1EYzZNREJMdzdRTkFBQUFBRWxGVGtTdVFtQ0NcIik7XG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDZ0FBQUJrQVFBQUFBRGNIMC9YQUFBQUFtSkxSMFFBQWQyS0U2UUFBQUFKY0VoWmN3QUFBRWdBQUFCSUFFYkphejRBQUFBUFNVUkJWQ2pQWTJBWUJhT0ErZ0FBQWxnQUFYVTJobmNBQUFBbGRFVllkR1JoZEdVNlkzSmxZWFJsQURJd01UVXRNRE10TVRGVU1EZzZORGs2TXpVdE1EYzZNREE2bmd5eEFBQUFKWFJGV0hSa1lYUmxPbTF2WkdsbWVRQXlNREUxTFRBekxURXhWREE0T2pRNU9qTTFMVEEzT2pBd1M4TzBEUUFBQUFCSlJVNUVya0pnZ2c9PVwiKTtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oalF1ZXJ5KSB7LyohXG4gKiBqUXVlcnkgQkJROiBCYWNrIEJ1dHRvbiAmIFF1ZXJ5IExpYnJhcnkgLSB2MS4zcHJlIC0gOC8yNi8yMDEwXG4gKiBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS1iYnEtcGx1Z2luL1xuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgXCJDb3dib3lcIiBCZW4gQWxtYW5cbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlL1xuICovXG5cbi8vIFNjcmlwdDogalF1ZXJ5IEJCUTogQmFjayBCdXR0b24gJiBRdWVyeSBMaWJyYXJ5XG4vL1xuLy8gKlZlcnNpb246IDEuM3ByZSwgTGFzdCB1cGRhdGVkOiA4LzI2LzIwMTAqXG4vLyBcbi8vIFByb2plY3QgSG9tZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWJicS1wbHVnaW4vXG4vLyBHaXRIdWIgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWJicS9cbi8vIFNvdXJjZSAgICAgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktYmJxL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWJicS5qc1xuLy8gKE1pbmlmaWVkKSAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1iYnEvcmF3L21hc3Rlci9qcXVlcnkuYmEtYmJxLm1pbi5qcyAoMi4ya2IgZ3ppcHBlZClcbi8vIFxuLy8gQWJvdXQ6IExpY2Vuc2Vcbi8vIFxuLy8gQ29weXJpZ2h0IChjKSAyMDEwIFwiQ293Ym95XCIgQmVuIEFsbWFuLFxuLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXG4vLyBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvXG4vLyBcbi8vIEFib3V0OiBFeGFtcGxlc1xuLy8gXG4vLyBUaGVzZSB3b3JraW5nIGV4YW1wbGVzLCBjb21wbGV0ZSB3aXRoIGZ1bGx5IGNvbW1lbnRlZCBjb2RlLCBpbGx1c3RyYXRlIGEgZmV3XG4vLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLlxuLy8gXG4vLyBCYXNpYyBBSkFYICAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktYmJxL2V4YW1wbGVzL2ZyYWdtZW50LWJhc2ljL1xuLy8gQWR2YW5jZWQgQUpBWCAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWJicS9leGFtcGxlcy9mcmFnbWVudC1hZHZhbmNlZC9cbi8vIGpRdWVyeSBVSSBUYWJzIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1iYnEvZXhhbXBsZXMvZnJhZ21lbnQtanF1ZXJ5LXVpLXRhYnMvXG4vLyBEZXBhcmFtICAgICAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktYmJxL2V4YW1wbGVzL2RlcGFyYW0vXG4vLyBcbi8vIEFib3V0OiBTdXBwb3J0IGFuZCBUZXN0aW5nXG4vLyBcbi8vIEluZm9ybWF0aW9uIGFib3V0IHdoYXQgdmVyc2lvbiBvciB2ZXJzaW9ucyBvZiBqUXVlcnkgdGhpcyBwbHVnaW4gaGFzIGJlZW5cbi8vIHRlc3RlZCB3aXRoLCB3aGF0IGJyb3dzZXJzIGl0IGhhcyBiZWVuIHRlc3RlZCBpbiwgYW5kIHdoZXJlIHRoZSB1bml0IHRlc3RzXG4vLyByZXNpZGUgKHNvIHlvdSBjYW4gdGVzdCBpdCB5b3Vyc2VsZikuXG4vLyBcbi8vIGpRdWVyeSBWZXJzaW9ucyAtIDEuMi42LCAxLjMuMiwgMS40LjEsIDEuNC4yXG4vLyBCcm93c2VycyBUZXN0ZWQgLSBJbnRlcm5ldCBFeHBsb3JlciA2LTgsIEZpcmVmb3ggMi00LCBDaHJvbWUgNS02LCBTYWZhcmkgMy4yLTUsXG4vLyAgICAgICAgICAgICAgICAgICBPcGVyYSA5LjYtMTAuNjAsIGlQaG9uZSAzLjEsIEFuZHJvaWQgMS42LTIuMiwgQmxhY2tCZXJyeSA0LjYtNS5cbi8vIFVuaXQgVGVzdHMgICAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktYmJxL3VuaXQvXG4vLyBcbi8vIEFib3V0OiBSZWxlYXNlIEhpc3Rvcnlcbi8vIFxuLy8gMS4zcHJlIC0gKDgvMjYvMjAxMCkgSW50ZWdyYXRlZCA8alF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQ+IHYxLjMsIHdoaWNoIGFkZHNcbi8vICAgICAgICAgZG9jdW1lbnQudGl0bGUgYW5kIGRvY3VtZW50LmRvbWFpbiBzdXBwb3J0IGluIElFNi83LCBCbGFja0JlcnJ5XG4vLyAgICAgICAgIHN1cHBvcnQsIGJldHRlciBJZnJhbWUgaGlkaW5nIGZvciBhY2Nlc3NpYmlsaXR5IHJlYXNvbnMsIGFuZCB0aGUgbmV3XG4vLyAgICAgICAgIDxqUXVlcnkuZm4uaGFzaGNoYW5nZT4gXCJzaG9ydGN1dFwiIG1ldGhvZC4gQWRkZWQgdGhlXG4vLyAgICAgICAgIDxqUXVlcnkucGFyYW0uc29ydGVkPiBtZXRob2Qgd2hpY2ggcmVkdWNlcyB0aGUgcG9zc2liaWxpdHkgb2Zcbi8vICAgICAgICAgZXh0cmFuZW91cyBoYXNoY2hhbmdlIGV2ZW50IHRyaWdnZXJpbmcuIEFkZGVkIHRoZVxuLy8gICAgICAgICA8alF1ZXJ5LnBhcmFtLmZyYWdtZW50LmFqYXhDcmF3bGFibGU+IG1ldGhvZCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuLy8gICAgICAgICBlbmFibGUgR29vZ2xlIFwiQUpBWCBDcmF3bGFibGUgbW9kZS5cIlxuLy8gMS4yLjEgLSAoMi8xNy8yMDEwKSBBY3R1YWxseSBmaXhlZCB0aGUgc3RhbGUgd2luZG93LmxvY2F0aW9uIFNhZmFyaSBidWcgZnJvbVxuLy8gICAgICAgICA8alF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQ+IGluIEJCUSwgd2hpY2ggd2FzIHRoZSBtYWluIHJlYXNvbiBmb3IgdGhlXG4vLyAgICAgICAgIHByZXZpb3VzIHJlbGVhc2UhXG4vLyAxLjIgICAtICgyLzE2LzIwMTApIEludGVncmF0ZWQgPGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50PiB2MS4yLCB3aGljaCBmaXhlcyBhXG4vLyAgICAgICAgIFNhZmFyaSBidWcsIHRoZSBldmVudCBjYW4gbm93IGJlIGJvdW5kIGJlZm9yZSBET00gcmVhZHksIGFuZCBJRTYvN1xuLy8gICAgICAgICBwYWdlIHNob3VsZCBubyBsb25nZXIgc2Nyb2xsIHdoZW4gdGhlIGV2ZW50IGlzIGZpcnN0IGJvdW5kLiBBbHNvXG4vLyAgICAgICAgIGFkZGVkIHRoZSA8alF1ZXJ5LnBhcmFtLmZyYWdtZW50Lm5vRXNjYXBlPiBtZXRob2QsIGFuZCByZXdvcmtlZCB0aGVcbi8vICAgICAgICAgPGhhc2hjaGFuZ2UgZXZlbnQgKEJCUSk+IGludGVybmFsIFwiYWRkXCIgbWV0aG9kIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuLy8gICAgICAgICBjaGFuZ2VzIG1hZGUgdG8gdGhlIGpRdWVyeSAxLjQuMiBzcGVjaWFsIGV2ZW50cyBBUEkuXG4vLyAxLjEuMSAtICgxLzIyLzIwMTApIEludGVncmF0ZWQgPGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50PiB2MS4xLCB3aGljaCBmaXhlcyBhblxuLy8gICAgICAgICBvYnNjdXJlIElFOCBFbXVsYXRlSUU3IG1ldGEgdGFnIGNvbXBhdGliaWxpdHkgbW9kZSBidWcuXG4vLyAxLjEgICAtICgxLzkvMjAxMCkgQnJva2Ugb3V0IHRoZSBqUXVlcnkgQkJRIGV2ZW50LnNwZWNpYWwgPGhhc2hjaGFuZ2UgZXZlbnQ+XG4vLyAgICAgICAgIGZ1bmN0aW9uYWxpdHkgaW50byBhIHNlcGFyYXRlIHBsdWdpbiBmb3IgdXNlcnMgd2hvIHdhbnQganVzdCB0aGVcbi8vICAgICAgICAgYmFzaWMgZXZlbnQgJiBiYWNrIGJ1dHRvbiBzdXBwb3J0LCB3aXRob3V0IGFsbCB0aGUgZXh0cmEgYXdlc29tZW5lc3Ncbi8vICAgICAgICAgdGhhdCBCQlEgcHJvdmlkZXMuIFRoaXMgcGx1Z2luIHdpbGwgYmUgaW5jbHVkZWQgYXMgcGFydCBvZiBqUXVlcnkgQkJRLFxuLy8gICAgICAgICBidXQgYWxzbyBiZSBhdmFpbGFibGUgc2VwYXJhdGVseS4gU2VlIDxqUXVlcnkgaGFzaGNoYW5nZSBldmVudD5cbi8vICAgICAgICAgcGx1Z2luIGZvciBtb3JlIGluZm9ybWF0aW9uLiBBbHNvIGFkZGVkIHRoZSA8alF1ZXJ5LmJicS5yZW1vdmVTdGF0ZT5cbi8vICAgICAgICAgbWV0aG9kIGFuZCBhZGRlZCBhZGRpdGlvbmFsIDxqUXVlcnkuZGVwYXJhbT4gZXhhbXBsZXMuXG4vLyAxLjAuMyAtICgxMi8yLzIwMDkpIEZpeGVkIGFuIGlzc3VlIGluIElFIDYgd2hlcmUgbG9jYXRpb24uc2VhcmNoIGFuZFxuLy8gICAgICAgICBsb2NhdGlvbi5oYXNoIHdvdWxkIHJlcG9ydCBpbmNvcnJlY3RseSBpZiB0aGUgaGFzaCBjb250YWluZWQgdGhlID9cbi8vICAgICAgICAgY2hhcmFjdGVyLiBBbHNvIDxqUXVlcnkucGFyYW0ucXVlcnlzdHJpbmc+IGFuZCA8alF1ZXJ5LnBhcmFtLmZyYWdtZW50PlxuLy8gICAgICAgICB3aWxsIG5vIGxvbmdlciBwYXJzZSBwYXJhbXMgb3V0IG9mIGEgVVJMIHRoYXQgZG9lc24ndCBjb250YWluID8gb3IgIyxcbi8vICAgICAgICAgcmVzcGVjdGl2ZWx5LlxuLy8gMS4wLjIgLSAoMTAvMTAvMjAwOSkgRml4ZWQgYW4gaXNzdWUgaW4gSUUgNi83IHdoZXJlIHRoZSBoaWRkZW4gSUZSQU1FIGNhdXNlZFxuLy8gICAgICAgICBhIFwiVGhpcyBwYWdlIGNvbnRhaW5zIGJvdGggc2VjdXJlIGFuZCBub25zZWN1cmUgaXRlbXMuXCIgd2FybmluZyB3aGVuXG4vLyAgICAgICAgIHVzZWQgb24gYW4gaHR0cHM6Ly8gcGFnZS5cbi8vIDEuMC4xIC0gKDEwLzcvMjAwOSkgRml4ZWQgYW4gaXNzdWUgaW4gSUUgOC4gU2luY2UgYm90aCBcIklFN1wiIGFuZCBcIklFOFxuLy8gICAgICAgICBDb21wYXRpYmlsaXR5IFZpZXdcIiBtb2RlcyBlcnJvbmVvdXNseSByZXBvcnQgdGhhdCB0aGUgYnJvd3NlclxuLy8gICAgICAgICBzdXBwb3J0cyB0aGUgbmF0aXZlIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQsIGEgc2xpZ2h0bHkgbW9yZVxuLy8gICAgICAgICByb2J1c3QgdGVzdCBuZWVkZWQgdG8gYmUgYWRkZWQuXG4vLyAxLjAgICAtICgxMC8yLzIwMDkpIEluaXRpYWwgcmVsZWFzZVxuXG4oZnVuY3Rpb24oJCx3aW5kb3cpe1xuICAnJDpub211bmdlJzsgLy8gVXNlZCBieSBZVUkgY29tcHJlc3Nvci5cbiAgXG4gIC8vIFNvbWUgY29udmVuaWVudCBzaG9ydGN1dHMuXG4gIHZhciB1bmRlZmluZWQsXG4gICAgYXBzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLFxuICAgIGRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudCxcbiAgICBcbiAgICAvLyBNZXRob2QgLyBvYmplY3QgcmVmZXJlbmNlcy5cbiAgICBqcV9wYXJhbSA9ICQucGFyYW0sXG4gICAganFfcGFyYW1fc29ydGVkLFxuICAgIGpxX3BhcmFtX2ZyYWdtZW50LFxuICAgIGpxX2RlcGFyYW0sXG4gICAganFfZGVwYXJhbV9mcmFnbWVudCxcbiAgICBqcV9iYnEgPSAkLmJicSA9ICQuYmJxIHx8IHt9LFxuICAgIGpxX2JicV9wdXNoU3RhdGUsXG4gICAganFfYmJxX2dldFN0YXRlLFxuICAgIGpxX2VsZW1VcmxBdHRyLFxuICAgIHNwZWNpYWwgPSAkLmV2ZW50LnNwZWNpYWwsXG4gICAgXG4gICAgLy8gUmV1c2VkIHN0cmluZ3MuXG4gICAgc3RyX2hhc2hjaGFuZ2UgPSAnaGFzaGNoYW5nZScsXG4gICAgc3RyX3F1ZXJ5c3RyaW5nID0gJ3F1ZXJ5c3RyaW5nJyxcbiAgICBzdHJfZnJhZ21lbnQgPSAnZnJhZ21lbnQnLFxuICAgIHN0cl9lbGVtVXJsQXR0ciA9ICdlbGVtVXJsQXR0cicsXG4gICAgc3RyX2hyZWYgPSAnaHJlZicsXG4gICAgc3RyX3NyYyA9ICdzcmMnLFxuICAgIFxuICAgIC8vIFJldXNlZCBSZWdFeHAuXG4gICAgcmVfcGFyYW1zX3F1ZXJ5c3RyaW5nID0gL14uKlxcP3wjLiokL2csXG4gICAgcmVfcGFyYW1zX2ZyYWdtZW50LFxuICAgIHJlX2ZyYWdtZW50LFxuICAgIHJlX25vX2VzY2FwZSxcbiAgICBcbiAgICBhamF4X2NyYXdsYWJsZSxcbiAgICBmcmFnbWVudF9wcmVmaXgsXG4gICAgXG4gICAgLy8gVXNlZCBieSBqUXVlcnkuZWxlbVVybEF0dHIuXG4gICAgZWxlbVVybEF0dHJfY2FjaGUgPSB7fTtcbiAgXG4gIC8vIEEgZmV3IGNvbW1vbmx5IHVzZWQgYml0cywgYnJva2VuIG91dCB0byBoZWxwIHJlZHVjZSBtaW5pZmllZCBmaWxlIHNpemUuXG4gIFxuICBmdW5jdGlvbiBpc19zdHJpbmcoIGFyZyApIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG4gIH07XG4gIFxuICAvLyBXaHkgd3JpdGUgdGhlIHNhbWUgZnVuY3Rpb24gdHdpY2U/IExldCdzIGN1cnJ5ISBNbW1tLCBjdXJyeS4uXG4gIFxuICBmdW5jdGlvbiBjdXJyeSggZnVuYyApIHtcbiAgICB2YXIgYXJncyA9IGFwcy5jYWxsKCBhcmd1bWVudHMsIDEgKTtcbiAgICBcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseSggdGhpcywgYXJncy5jb25jYXQoIGFwcy5jYWxsKCBhcmd1bWVudHMgKSApICk7XG4gICAgfTtcbiAgfTtcbiAgXG4gIC8vIEdldCBsb2NhdGlvbi5oYXNoIChvciB3aGF0IHlvdSdkIGV4cGVjdCBsb2NhdGlvbi5oYXNoIHRvIGJlKSBzYW5zIGFueVxuICAvLyBsZWFkaW5nICMuIFRoYW5rcyBmb3IgbWFraW5nIHRoaXMgbmVjZXNzYXJ5LCBGaXJlZm94IVxuICBmdW5jdGlvbiBnZXRfZnJhZ21lbnQoIHVybCApIHtcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoIHJlX2ZyYWdtZW50LCAnJDInICk7XG4gIH07XG4gIFxuICAvLyBHZXQgbG9jYXRpb24uc2VhcmNoIChvciB3aGF0IHlvdSdkIGV4cGVjdCBsb2NhdGlvbi5zZWFyY2ggdG8gYmUpIHNhbnMgYW55XG4gIC8vIGxlYWRpbmcgIy4gVGhhbmtzIGZvciBtYWtpbmcgdGhpcyBuZWNlc3NhcnksIElFNiFcbiAgZnVuY3Rpb24gZ2V0X3F1ZXJ5c3RyaW5nKCB1cmwgKSB7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKCAvKD86XltePyNdKlxcPyhbXiNdKikuKiQpPy4qLywgJyQxJyApO1xuICB9O1xuICBcbiAgLy8gU2VjdGlvbjogUGFyYW0gKHRvIHN0cmluZylcbiAgLy8gXG4gIC8vIE1ldGhvZDogalF1ZXJ5LnBhcmFtLnF1ZXJ5c3RyaW5nXG4gIC8vIFxuICAvLyBSZXRyaWV2ZSB0aGUgcXVlcnkgc3RyaW5nIGZyb20gYSBVUkwgb3IgaWYgbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQsIHRoZVxuICAvLyBjdXJyZW50IHdpbmRvdy5sb2NhdGlvbi5ocmVmLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5wYXJhbS5xdWVyeXN0cmluZyggWyB1cmwgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHVybCAtIChTdHJpbmcpIEEgVVJMIGNvbnRhaW5pbmcgcXVlcnkgc3RyaW5nIHBhcmFtcyB0byBiZSBwYXJzZWQuIElmIHVybFxuICAvLyAgICBpcyBub3QgcGFzc2VkLCB0aGUgY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoU3RyaW5nKSBUaGUgcGFyc2VkIHF1ZXJ5IHN0cmluZywgd2l0aCBhbnkgbGVhZGluZyBcIj9cIiByZW1vdmVkLlxuICAvL1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkucGFyYW0ucXVlcnlzdHJpbmcgKGJ1aWxkIHVybClcbiAgLy8gXG4gIC8vIE1lcmdlIGEgVVJMLCB3aXRoIG9yIHdpdGhvdXQgcHJlLWV4aXN0aW5nIHF1ZXJ5IHN0cmluZyBwYXJhbXMsIHBsdXMgYW55XG4gIC8vIG9iamVjdCwgcGFyYW1zIHN0cmluZyBvciBVUkwgY29udGFpbmluZyBxdWVyeSBzdHJpbmcgcGFyYW1zIGludG8gYSBuZXcgVVJMLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5wYXJhbS5xdWVyeXN0cmluZyggdXJsLCBwYXJhbXMgWywgbWVyZ2VfbW9kZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgdXJsIC0gKFN0cmluZykgQSB2YWxpZCBVUkwgZm9yIHBhcmFtcyB0byBiZSBtZXJnZWQgaW50by4gVGhpcyBVUkwgbWF5XG4gIC8vICAgIGNvbnRhaW4gYSBxdWVyeSBzdHJpbmcgYW5kL29yIGZyYWdtZW50IChoYXNoKS5cbiAgLy8gIHBhcmFtcyAtIChTdHJpbmcpIEEgcGFyYW1zIHN0cmluZyBvciBVUkwgY29udGFpbmluZyBxdWVyeSBzdHJpbmcgcGFyYW1zIHRvXG4gIC8vICAgIGJlIG1lcmdlZCBpbnRvIHVybC5cbiAgLy8gIHBhcmFtcyAtIChPYmplY3QpIEEgcGFyYW1zIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB1cmwuXG4gIC8vICBtZXJnZV9tb2RlIC0gKE51bWJlcikgTWVyZ2UgYmVoYXZpb3IgZGVmYXVsdHMgdG8gMCBpZiBtZXJnZV9tb2RlIGlzIG5vdFxuICAvLyAgICBzcGVjaWZpZWQsIGFuZCBpcyBhcy1mb2xsb3dzOlxuICAvLyBcbiAgLy8gICAgKiAwOiBwYXJhbXMgaW4gdGhlIHBhcmFtcyBhcmd1bWVudCB3aWxsIG92ZXJyaWRlIGFueSBxdWVyeSBzdHJpbmdcbiAgLy8gICAgICAgICBwYXJhbXMgaW4gdXJsLlxuICAvLyAgICAqIDE6IGFueSBxdWVyeSBzdHJpbmcgcGFyYW1zIGluIHVybCB3aWxsIG92ZXJyaWRlIHBhcmFtcyBpbiB0aGUgcGFyYW1zXG4gIC8vICAgICAgICAgYXJndW1lbnQuXG4gIC8vICAgICogMjogcGFyYW1zIGFyZ3VtZW50IHdpbGwgY29tcGxldGVseSByZXBsYWNlIGFueSBxdWVyeSBzdHJpbmcgaW4gdXJsLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoU3RyaW5nKSBBIFVSTCB3aXRoIGEgdXJsZW5jb2RlZCBxdWVyeSBzdHJpbmcgaW4gdGhlIGZvcm1hdCAnP2E9YiZjPWQmZT1mJy5cbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LnBhcmFtLmZyYWdtZW50XG4gIC8vIFxuICAvLyBSZXRyaWV2ZSB0aGUgZnJhZ21lbnQgKGhhc2gpIGZyb20gYSBVUkwgb3IgaWYgbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQsIHRoZVxuICAvLyBjdXJyZW50IHdpbmRvdy5sb2NhdGlvbi5ocmVmLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5wYXJhbS5mcmFnbWVudCggWyB1cmwgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHVybCAtIChTdHJpbmcpIEEgVVJMIGNvbnRhaW5pbmcgZnJhZ21lbnQgKGhhc2gpIHBhcmFtcyB0byBiZSBwYXJzZWQuIElmXG4gIC8vICAgIHVybCBpcyBub3QgcGFzc2VkLCB0aGUgY3VycmVudCB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoU3RyaW5nKSBUaGUgcGFyc2VkIGZyYWdtZW50IChoYXNoKSBzdHJpbmcsIHdpdGggYW55IGxlYWRpbmcgXCIjXCIgcmVtb3ZlZC5cbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LnBhcmFtLmZyYWdtZW50IChidWlsZCB1cmwpXG4gIC8vIFxuICAvLyBNZXJnZSBhIFVSTCwgd2l0aCBvciB3aXRob3V0IHByZS1leGlzdGluZyBmcmFnbWVudCAoaGFzaCkgcGFyYW1zLCBwbHVzIGFueVxuICAvLyBvYmplY3QsIHBhcmFtcyBzdHJpbmcgb3IgVVJMIGNvbnRhaW5pbmcgZnJhZ21lbnQgKGhhc2gpIHBhcmFtcyBpbnRvIGEgbmV3XG4gIC8vIFVSTC5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkucGFyYW0uZnJhZ21lbnQoIHVybCwgcGFyYW1zIFssIG1lcmdlX21vZGUgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHVybCAtIChTdHJpbmcpIEEgdmFsaWQgVVJMIGZvciBwYXJhbXMgdG8gYmUgbWVyZ2VkIGludG8uIFRoaXMgVVJMIG1heVxuICAvLyAgICBjb250YWluIGEgcXVlcnkgc3RyaW5nIGFuZC9vciBmcmFnbWVudCAoaGFzaCkuXG4gIC8vICBwYXJhbXMgLSAoU3RyaW5nKSBBIHBhcmFtcyBzdHJpbmcgb3IgVVJMIGNvbnRhaW5pbmcgZnJhZ21lbnQgKGhhc2gpIHBhcmFtc1xuICAvLyAgICB0byBiZSBtZXJnZWQgaW50byB1cmwuXG4gIC8vICBwYXJhbXMgLSAoT2JqZWN0KSBBIHBhcmFtcyBvYmplY3QgdG8gYmUgbWVyZ2VkIGludG8gdXJsLlxuICAvLyAgbWVyZ2VfbW9kZSAtIChOdW1iZXIpIE1lcmdlIGJlaGF2aW9yIGRlZmF1bHRzIHRvIDAgaWYgbWVyZ2VfbW9kZSBpcyBub3RcbiAgLy8gICAgc3BlY2lmaWVkLCBhbmQgaXMgYXMtZm9sbG93czpcbiAgLy8gXG4gIC8vICAgICogMDogcGFyYW1zIGluIHRoZSBwYXJhbXMgYXJndW1lbnQgd2lsbCBvdmVycmlkZSBhbnkgZnJhZ21lbnQgKGhhc2gpXG4gIC8vICAgICAgICAgcGFyYW1zIGluIHVybC5cbiAgLy8gICAgKiAxOiBhbnkgZnJhZ21lbnQgKGhhc2gpIHBhcmFtcyBpbiB1cmwgd2lsbCBvdmVycmlkZSBwYXJhbXMgaW4gdGhlXG4gIC8vICAgICAgICAgcGFyYW1zIGFyZ3VtZW50LlxuICAvLyAgICAqIDI6IHBhcmFtcyBhcmd1bWVudCB3aWxsIGNvbXBsZXRlbHkgcmVwbGFjZSBhbnkgcXVlcnkgc3RyaW5nIGluIHVybC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKFN0cmluZykgQSBVUkwgd2l0aCBhIHVybGVuY29kZWQgZnJhZ21lbnQgKGhhc2gpIGluIHRoZSBmb3JtYXQgJyNhPWImYz1kJmU9ZicuXG4gIFxuICBmdW5jdGlvbiBqcV9wYXJhbV9zdWIoIGlzX2ZyYWdtZW50LCBnZXRfZnVuYywgdXJsLCBwYXJhbXMsIG1lcmdlX21vZGUgKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgIHFzLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHVybF9wYXJhbXMsXG4gICAgICBoYXNoO1xuICAgIFxuICAgIGlmICggcGFyYW1zICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAvLyBCdWlsZCBVUkwgYnkgbWVyZ2luZyBwYXJhbXMgaW50byB1cmwgc3RyaW5nLlxuICAgICAgXG4gICAgICAvLyBtYXRjaGVzWzFdID0gdXJsIHBhcnQgdGhhdCBwcmVjZWRlcyBwYXJhbXMsIG5vdCBpbmNsdWRpbmcgdHJhaWxpbmcgPy8jXG4gICAgICAvLyBtYXRjaGVzWzJdID0gcGFyYW1zLCBub3QgaW5jbHVkaW5nIGxlYWRpbmcgPy8jXG4gICAgICAvLyBtYXRjaGVzWzNdID0gaWYgaW4gJ3F1ZXJ5c3RyaW5nJyBtb2RlLCBoYXNoIGluY2x1ZGluZyBsZWFkaW5nICMsIG90aGVyd2lzZSAnJ1xuICAgICAgbWF0Y2hlcyA9IHVybC5tYXRjaCggaXNfZnJhZ21lbnQgPyByZV9mcmFnbWVudCA6IC9eKFteIz9dKilcXD8/KFteI10qKSgjPy4qKS8gKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBoYXNoIGlmIGluICdxdWVyeXN0cmluZycgbW9kZSwgYW5kIGl0IGV4aXN0cy5cbiAgICAgIGhhc2ggPSBtYXRjaGVzWzNdIHx8ICcnO1xuICAgICAgXG4gICAgICBpZiAoIG1lcmdlX21vZGUgPT09IDIgJiYgaXNfc3RyaW5nKCBwYXJhbXMgKSApIHtcbiAgICAgICAgLy8gSWYgbWVyZ2VfbW9kZSBpcyAyIGFuZCBwYXJhbXMgaXMgYSBzdHJpbmcsIG1lcmdlIHRoZSBmcmFnbWVudCAvIHF1ZXJ5XG4gICAgICAgIC8vIHN0cmluZyBpbnRvIHRoZSBVUkwgd2hvbGVzYWxlLCB3aXRob3V0IGNvbnZlcnRpbmcgaXQgaW50byBhbiBvYmplY3QuXG4gICAgICAgIHFzID0gcGFyYW1zLnJlcGxhY2UoIGlzX2ZyYWdtZW50ID8gcmVfcGFyYW1zX2ZyYWdtZW50IDogcmVfcGFyYW1zX3F1ZXJ5c3RyaW5nLCAnJyApO1xuICAgICAgICBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENvbnZlcnQgcmVsZXZhbnQgcGFyYW1zIGluIHVybCB0byBvYmplY3QuXG4gICAgICAgIHVybF9wYXJhbXMgPSBqcV9kZXBhcmFtKCBtYXRjaGVzWzJdICk7XG4gICAgICAgIFxuICAgICAgICBwYXJhbXMgPSBpc19zdHJpbmcoIHBhcmFtcyApXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ29udmVydCBwYXNzZWQgcGFyYW1zIHN0cmluZyBpbnRvIG9iamVjdC5cbiAgICAgICAgICA/IGpxX2RlcGFyYW1bIGlzX2ZyYWdtZW50ID8gc3RyX2ZyYWdtZW50IDogc3RyX3F1ZXJ5c3RyaW5nIF0oIHBhcmFtcyApXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUGFzc2VkIHBhcmFtcyBvYmplY3QuXG4gICAgICAgICAgOiBwYXJhbXM7XG4gICAgICAgIFxuICAgICAgICBxcyA9IG1lcmdlX21vZGUgPT09IDIgPyBwYXJhbXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzZWQgcGFyYW1zIHJlcGxhY2UgdXJsIHBhcmFtc1xuICAgICAgICAgIDogbWVyZ2VfbW9kZSA9PT0gMSAgPyAkLmV4dGVuZCgge30sIHBhcmFtcywgdXJsX3BhcmFtcyApICAvLyB1cmwgcGFyYW1zIG92ZXJyaWRlIHBhc3NlZCBwYXJhbXNcbiAgICAgICAgICA6ICQuZXh0ZW5kKCB7fSwgdXJsX3BhcmFtcywgcGFyYW1zICk7ICAgICAgICAgICAgICAgICAgICAgLy8gcGFzc2VkIHBhcmFtcyBvdmVycmlkZSB1cmwgcGFyYW1zXG4gICAgICAgIFxuICAgICAgICAvLyBDb252ZXJ0IHBhcmFtcyBvYmplY3QgaW50byBhIHNvcnRlZCBwYXJhbXMgc3RyaW5nLlxuICAgICAgICBxcyA9IGpxX3BhcmFtX3NvcnRlZCggcXMgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVuZXNjYXBlIGNoYXJhY3RlcnMgc3BlY2lmaWVkIHZpYSAkLnBhcmFtLm5vRXNjYXBlLiBTaW5jZSBvbmx5IGhhc2gtXG4gICAgICAgIC8vIGhpc3RvcnkgdXNlcnMgaGF2ZSByZXF1ZXN0ZWQgdGhpcyBmZWF0dXJlLCBpdCdzIG9ubHkgZW5hYmxlZCBmb3JcbiAgICAgICAgLy8gZnJhZ21lbnQtcmVsYXRlZCBwYXJhbXMgc3RyaW5ncy5cbiAgICAgICAgaWYgKCBpc19mcmFnbWVudCApIHtcbiAgICAgICAgICBxcyA9IHFzLnJlcGxhY2UoIHJlX25vX2VzY2FwZSwgZGVjb2RlICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQnVpbGQgVVJMIGZyb20gdGhlIGJhc2UgdXJsLCBxdWVyeXN0cmluZyBhbmQgaGFzaC4gSW4gJ3F1ZXJ5c3RyaW5nJ1xuICAgICAgLy8gbW9kZSwgPyBpcyBvbmx5IGFkZGVkIGlmIGEgcXVlcnkgc3RyaW5nIGV4aXN0cy4gSW4gJ2ZyYWdtZW50JyBtb2RlLCAjXG4gICAgICAvLyBpcyBhbHdheXMgYWRkZWQuXG4gICAgICByZXN1bHQgPSBtYXRjaGVzWzFdICsgKCBpc19mcmFnbWVudCA/IGZyYWdtZW50X3ByZWZpeCA6IHFzIHx8ICFtYXRjaGVzWzFdID8gJz8nIDogJycgKSArIHFzICsgaGFzaDtcbiAgICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBVUkwgd2FzIHBhc3NlZCBpbiwgcGFyc2UgcGFyYW1zIGZyb20gVVJMIHN0cmluZywgb3RoZXJ3aXNlIHBhcnNlXG4gICAgICAvLyBwYXJhbXMgZnJvbSB3aW5kb3cubG9jYXRpb24uaHJlZi5cbiAgICAgIHJlc3VsdCA9IGdldF9mdW5jKCB1cmwgIT09IHVuZGVmaW5lZCA/IHVybCA6IGxvY2F0aW9uLmhyZWYgKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgXG4gIGpxX3BhcmFtWyBzdHJfcXVlcnlzdHJpbmcgXSAgICAgICAgICAgICAgICAgID0gY3VycnkoIGpxX3BhcmFtX3N1YiwgMCwgZ2V0X3F1ZXJ5c3RyaW5nICk7XG4gIGpxX3BhcmFtWyBzdHJfZnJhZ21lbnQgXSA9IGpxX3BhcmFtX2ZyYWdtZW50ID0gY3VycnkoIGpxX3BhcmFtX3N1YiwgMSwgZ2V0X2ZyYWdtZW50ICk7XG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5wYXJhbS5zb3J0ZWRcbiAgLy8gXG4gIC8vIFJldHVybnMgYSBwYXJhbXMgc3RyaW5nIGVxdWl2YWxlbnQgdG8gdGhhdCByZXR1cm5lZCBieSB0aGUgaW50ZXJuYWxcbiAgLy8galF1ZXJ5LnBhcmFtIG1ldGhvZCwgYnV0IHNvcnRlZCwgd2hpY2ggbWFrZXMgaXQgc3VpdGFibGUgZm9yIHVzZSBhcyBhXG4gIC8vIGNhY2hlIGtleS5cbiAgLy8gXG4gIC8vIEZvciBleGFtcGxlLCBpbiBtb3N0IGJyb3dzZXJzIGpRdWVyeS5wYXJhbSh7ejoxLGE6Mn0pIHJldHVybnMgXCJ6PTEmYT0yXCJcbiAgLy8gYW5kIGpRdWVyeS5wYXJhbSh7YToyLHo6MX0pIHJldHVybnMgXCJhPTImej0xXCIuIEV2ZW4gdGhvdWdoIGJvdGggdGhlXG4gIC8vIG9iamVjdHMgYmVpbmcgc2VyaWFsaXplZCBhbmQgdGhlIHJlc3VsdGluZyBwYXJhbXMgc3RyaW5ncyBhcmUgZXF1aXZhbGVudCxcbiAgLy8gaWYgdGhlc2UgcGFyYW1zIHN0cmluZ3Mgd2VyZSBzZXQgaW50byB0aGUgbG9jYXRpb24uaGFzaCBmcmFnbWVudFxuICAvLyBzZXF1ZW50aWFsbHksIHRoZSBoYXNoY2hhbmdlIGV2ZW50IHdvdWxkIGJlIHRyaWdnZXJlZCB1bm5lY2Vzc2FyaWx5LCBzaW5jZVxuICAvLyB0aGUgc3RyaW5ncyBhcmUgZGlmZmVyZW50IChldmVuIHRob3VnaCB0aGUgZGF0YSBkZXNjcmliZWQgYnkgdGhlbSBpcyB0aGVcbiAgLy8gc2FtZSkuIEJ5IHNvcnRpbmcgdGhlIHBhcmFtcyBzdHJpbmcsIHVuZWNlc3NhcnkgaGFzaGNoYW5nZSBldmVudCB0cmlnZ2VyaW5nXG4gIC8vIGNhbiBiZSBhdm9pZGVkLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5wYXJhbS5zb3J0ZWQoIG9iaiBbLCB0cmFkaXRpb25hbCBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgb2JqIC0gKE9iamVjdCkgQW4gb2JqZWN0IHRvIGJlIHNlcmlhbGl6ZWQuXG4gIC8vICB0cmFkaXRpb25hbCAtIChCb29sZWFuKSBQYXJhbXMgZGVlcC9zaGFsbG93IHNlcmlhbGl6YXRpb24gbW9kZS4gU2VlIHRoZVxuICAvLyAgICBkb2N1bWVudGF0aW9uIGF0IGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkucGFyYW0vIGZvciBtb3JlIGRldGFpbC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKFN0cmluZykgQSBzb3J0ZWQgcGFyYW1zIHN0cmluZy5cbiAgXG4gIGpxX3BhcmFtLnNvcnRlZCA9IGpxX3BhcmFtX3NvcnRlZCA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcbiAgICB2YXIgYXJyID0gW10sXG4gICAgICBvYmogPSB7fTtcbiAgICBcbiAgICAkLmVhY2goIGpxX3BhcmFtKCBhLCB0cmFkaXRpb25hbCApLnNwbGl0KCAnJicgKSwgZnVuY3Rpb24oaSx2KXtcbiAgICAgIHZhciBrZXkgPSB2LnJlcGxhY2UoIC8oPzolNUJ8PSkuKiQvLCAnJyApLFxuICAgICAgICBrZXlfb2JqID0gb2JqWyBrZXkgXTtcbiAgICAgIFxuICAgICAgaWYgKCAha2V5X29iaiApIHtcbiAgICAgICAga2V5X29iaiA9IG9ialsga2V5IF0gPSBbXTtcbiAgICAgICAgYXJyLnB1c2goIGtleSApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBrZXlfb2JqLnB1c2goIHYgKTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gJC5tYXAoIGFyci5zb3J0KCksIGZ1bmN0aW9uKHYpe1xuICAgICAgcmV0dXJuIG9ialsgdiBdO1xuICAgIH0pLmpvaW4oICcmJyApO1xuICB9O1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkucGFyYW0uZnJhZ21lbnQubm9Fc2NhcGVcbiAgLy8gXG4gIC8vIFNwZWNpZnkgY2hhcmFjdGVycyB0aGF0IHdpbGwgYmUgbGVmdCB1bmVzY2FwZWQgd2hlbiBmcmFnbWVudHMgYXJlIGNyZWF0ZWRcbiAgLy8gb3IgbWVyZ2VkIHVzaW5nIDxqUXVlcnkucGFyYW0uZnJhZ21lbnQ+LCBvciB3aGVuIHRoZSBmcmFnbWVudCBpcyBtb2RpZmllZFxuICAvLyB1c2luZyA8alF1ZXJ5LmJicS5wdXNoU3RhdGU+LiBUaGlzIG9wdGlvbiBvbmx5IGFwcGxpZXMgdG8gc2VyaWFsaXplZCBkYXRhXG4gIC8vIG9iamVjdCBmcmFnbWVudHMsIGFuZCBub3Qgc2V0LWFzLXN0cmluZyBmcmFnbWVudHMuIERvZXMgbm90IGFmZmVjdCB0aGVcbiAgLy8gcXVlcnkgc3RyaW5nLiBEZWZhdWx0cyB0byBcIiwvXCIgKGNvbW1hLCBmb3J3YXJkIHNsYXNoKS5cbiAgLy8gXG4gIC8vIE5vdGUgdGhhdCB0aGlzIGlzIGNvbnNpZGVyZWQgYSBwdXJlbHkgYWVzdGhldGljIG9wdGlvbiwgYW5kIHdpbGwgaGVscCB0b1xuICAvLyBjcmVhdGUgVVJMcyB0aGF0IFwibG9vayBwcmV0dHlcIiBpbiB0aGUgYWRkcmVzcyBiYXIgb3IgYm9va21hcmtzLCB3aXRob3V0XG4gIC8vIGFmZmVjdGluZyBmdW5jdGlvbmFsaXR5IGluIGFueSB3YXkuIFRoYXQgYmVpbmcgc2FpZCwgYmUgY2FyZWZ1bCB0byBub3RcbiAgLy8gdW5lc2NhcGUgY2hhcmFjdGVycyB0aGF0IGFyZSB1c2VkIGFzIGRlbGltaXRlcnMgb3Igc2VydmUgYSBzcGVjaWFsXG4gIC8vIHB1cnBvc2UsIHN1Y2ggYXMgdGhlIFwiIz8mPStcIiAob2N0b3Rob3JwZSwgcXVlc3Rpb24gbWFyaywgYW1wZXJzYW5kLFxuICAvLyBlcXVhbHMsIHBsdXMpIGNoYXJhY3RlcnMuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LnBhcmFtLmZyYWdtZW50Lm5vRXNjYXBlKCBbIGNoYXJzIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBjaGFycyAtIChTdHJpbmcpIFRoZSBjaGFyYWN0ZXJzIHRvIG5vdCBlc2NhcGUgaW4gdGhlIGZyYWdtZW50LiBJZlxuICAvLyAgICB1bnNwZWNpZmllZCwgZGVmYXVsdHMgdG8gZW1wdHkgc3RyaW5nIChlc2NhcGUgYWxsIGNoYXJhY3RlcnMpLlxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICBOb3RoaW5nLlxuICBcbiAganFfcGFyYW1fZnJhZ21lbnQubm9Fc2NhcGUgPSBmdW5jdGlvbiggY2hhcnMgKSB7XG4gICAgY2hhcnMgPSBjaGFycyB8fCAnJztcbiAgICB2YXIgYXJyID0gJC5tYXAoIGNoYXJzLnNwbGl0KCcnKSwgZW5jb2RlVVJJQ29tcG9uZW50ICk7XG4gICAgcmVfbm9fZXNjYXBlID0gbmV3IFJlZ0V4cCggYXJyLmpvaW4oJ3wnKSwgJ2cnICk7XG4gIH07XG4gIFxuICAvLyBBIHNlbnNpYmxlIGRlZmF1bHQuIFRoZXNlIGFyZSB0aGUgY2hhcmFjdGVycyBwZW9wbGUgc2VlbSB0byBjb21wbGFpbiBhYm91dFxuICAvLyBcInVnbGlmeWluZyB1cCB0aGUgVVJMXCIgdGhlIG1vc3QuXG4gIGpxX3BhcmFtX2ZyYWdtZW50Lm5vRXNjYXBlKCAnLC8nICk7XG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5wYXJhbS5mcmFnbWVudC5hamF4Q3Jhd2xhYmxlXG4gIC8vIFxuICAvLyBUT0RPOiBERVNDUklCRVxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5wYXJhbS5mcmFnbWVudC5hamF4Q3Jhd2xhYmxlKCBbIHN0YXRlIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBzdGF0ZSAtIChCb29sZWFuKSBUT0RPOiBERVNDUklCRVxuICAvLyBcbiAgLy8gUmV0dXJuczpcbiAgLy8gXG4gIC8vICAoQm9vbGVhbikgVGhlIGN1cnJlbnQgYWpheENyYXdsYWJsZSBzdGF0ZS5cbiAgXG4gIGpxX3BhcmFtX2ZyYWdtZW50LmFqYXhDcmF3bGFibGUgPSBmdW5jdGlvbiggc3RhdGUgKSB7XG4gICAgaWYgKCBzdGF0ZSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgaWYgKCBzdGF0ZSApIHtcbiAgICAgICAgcmVfcGFyYW1zX2ZyYWdtZW50ID0gL14uKig/OiMhfCMpLztcbiAgICAgICAgcmVfZnJhZ21lbnQgPSAvXihbXiNdKikoPzojIXwjKT8oLiopJC87XG4gICAgICAgIGZyYWdtZW50X3ByZWZpeCA9ICcjISc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZV9wYXJhbXNfZnJhZ21lbnQgPSAvXi4qIy87XG4gICAgICAgIHJlX2ZyYWdtZW50ID0gL14oW14jXSopIz8oLiopJC87XG4gICAgICAgIGZyYWdtZW50X3ByZWZpeCA9ICcjJztcbiAgICAgIH1cbiAgICAgIGFqYXhfY3Jhd2xhYmxlID0gISFzdGF0ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGFqYXhfY3Jhd2xhYmxlO1xuICB9O1xuICBcbiAganFfcGFyYW1fZnJhZ21lbnQuYWpheENyYXdsYWJsZSggMCApO1xuICBcbiAgLy8gU2VjdGlvbjogRGVwYXJhbSAoZnJvbSBzdHJpbmcpXG4gIC8vIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5kZXBhcmFtXG4gIC8vIFxuICAvLyBEZXNlcmlhbGl6ZSBhIHBhcmFtcyBzdHJpbmcgaW50byBhbiBvYmplY3QsIG9wdGlvbmFsbHkgY29lcmNpbmcgbnVtYmVycyxcbiAgLy8gYm9vbGVhbnMsIG51bGwgYW5kIHVuZGVmaW5lZCB2YWx1ZXM7IHRoaXMgbWV0aG9kIGlzIHRoZSBjb3VudGVycGFydCB0byB0aGVcbiAgLy8gaW50ZXJuYWwgalF1ZXJ5LnBhcmFtIG1ldGhvZC5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkuZGVwYXJhbSggcGFyYW1zIFssIGNvZXJjZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgcGFyYW1zIC0gKFN0cmluZykgQSBwYXJhbXMgc3RyaW5nIHRvIGJlIHBhcnNlZC5cbiAgLy8gIGNvZXJjZSAtIChCb29sZWFuKSBJZiB0cnVlLCBjb2VyY2VzIGFueSBudW1iZXJzIG9yIHRydWUsIGZhbHNlLCBudWxsLCBhbmRcbiAgLy8gICAgdW5kZWZpbmVkIHRvIHRoZWlyIGFjdHVhbCB2YWx1ZS4gRGVmYXVsdHMgdG8gZmFsc2UgaWYgb21pdHRlZC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKE9iamVjdCkgQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZGVzZXJpYWxpemVkIHBhcmFtcyBzdHJpbmcuXG4gIFxuICAkLmRlcGFyYW0gPSBqcV9kZXBhcmFtID0gZnVuY3Rpb24oIHBhcmFtcywgY29lcmNlICkge1xuICAgIHZhciBvYmogPSB7fSxcbiAgICAgIGNvZXJjZV90eXBlcyA9IHsgJ3RydWUnOiAhMCwgJ2ZhbHNlJzogITEsICdudWxsJzogbnVsbCB9O1xuICAgIFxuICAgIC8vIEl0ZXJhdGUgb3ZlciBhbGwgbmFtZT12YWx1ZSBwYWlycy5cbiAgICAkLmVhY2goIHBhcmFtcy5yZXBsYWNlKCAvXFwrL2csICcgJyApLnNwbGl0KCAnJicgKSwgZnVuY3Rpb24oaix2KXtcbiAgICAgIHZhciBwYXJhbSA9IHYuc3BsaXQoICc9JyApLFxuICAgICAgICBrZXkgPSBkZWNvZGUoIHBhcmFtWzBdICksXG4gICAgICAgIHZhbCxcbiAgICAgICAgY3VyID0gb2JqLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgXG4gICAgICAgIC8vIElmIGtleSBpcyBtb3JlIGNvbXBsZXggdGhhbiAnZm9vJywgbGlrZSAnYVtdJyBvciAnYVtiXVtjXScsIHNwbGl0IGl0XG4gICAgICAgIC8vIGludG8gaXRzIGNvbXBvbmVudCBwYXJ0cy5cbiAgICAgICAga2V5cyA9IGtleS5zcGxpdCggJ11bJyApLFxuICAgICAgICBrZXlzX2xhc3QgPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgICBcbiAgICAgIC8vIElmIHRoZSBmaXJzdCBrZXlzIHBhcnQgY29udGFpbnMgWyBhbmQgdGhlIGxhc3QgZW5kcyB3aXRoIF0sIHRoZW4gW11cbiAgICAgIC8vIGFyZSBjb3JyZWN0bHkgYmFsYW5jZWQuXG4gICAgICBpZiAoIC9cXFsvLnRlc3QoIGtleXNbMF0gKSAmJiAvXFxdJC8udGVzdCgga2V5c1sga2V5c19sYXN0IF0gKSApIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSB0cmFpbGluZyBdIGZyb20gdGhlIGxhc3Qga2V5cyBwYXJ0LlxuICAgICAgICBrZXlzWyBrZXlzX2xhc3QgXSA9IGtleXNbIGtleXNfbGFzdCBdLnJlcGxhY2UoIC9cXF0kLywgJycgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNwbGl0IGZpcnN0IGtleXMgcGFydCBpbnRvIHR3byBwYXJ0cyBvbiB0aGUgWyBhbmQgYWRkIHRoZW0gYmFjayBvbnRvXG4gICAgICAgIC8vIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGtleXMgYXJyYXkuXG4gICAgICAgIGtleXMgPSBrZXlzLnNoaWZ0KCkuc3BsaXQoJ1snKS5jb25jYXQoIGtleXMgKTtcbiAgICAgICAgXG4gICAgICAgIGtleXNfbGFzdCA9IGtleXMubGVuZ3RoIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJhc2ljICdmb28nIHN0eWxlIGtleS5cbiAgICAgICAga2V5c19sYXN0ID0gMDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXJlIHdlIGRlYWxpbmcgd2l0aCBhIG5hbWU9dmFsdWUgcGFpciwgb3IganVzdCBhIG5hbWU/XG4gICAgICBpZiAoIHBhcmFtLmxlbmd0aCA9PT0gMiApIHtcbiAgICAgICAgdmFsID0gZGVjb2RlKCBwYXJhbVsxXSApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29lcmNlIHZhbHVlcy5cbiAgICAgICAgaWYgKCBjb2VyY2UgKSB7XG4gICAgICAgICAgdmFsID0gdmFsICYmICFpc05hTih2YWwpICAgICAgICAgICAgPyArdmFsICAgICAgICAgICAgICAvLyBudW1iZXJcbiAgICAgICAgICAgIDogdmFsID09PSAndW5kZWZpbmVkJyAgICAgICAgICAgICA/IHVuZGVmaW5lZCAgICAgICAgIC8vIHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBjb2VyY2VfdHlwZXNbdmFsXSAhPT0gdW5kZWZpbmVkID8gY29lcmNlX3R5cGVzW3ZhbF0gLy8gdHJ1ZSwgZmFsc2UsIG51bGxcbiAgICAgICAgICAgIDogdmFsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoIGtleXNfbGFzdCApIHtcbiAgICAgICAgICAvLyBDb21wbGV4IGtleSwgYnVpbGQgZGVlcCBvYmplY3Qgc3RydWN0dXJlIGJhc2VkIG9uIGEgZmV3IHJ1bGVzOlxuICAgICAgICAgIC8vICogVGhlICdjdXInIHBvaW50ZXIgc3RhcnRzIGF0IHRoZSBvYmplY3QgdG9wLWxldmVsLlxuICAgICAgICAgIC8vICogW10gPSBhcnJheSBwdXNoIChuIGlzIHNldCB0byBhcnJheSBsZW5ndGgpLCBbbl0gPSBhcnJheSBpZiBuIGlzIFxuICAgICAgICAgIC8vICAgbnVtZXJpYywgb3RoZXJ3aXNlIG9iamVjdC5cbiAgICAgICAgICAvLyAqIElmIGF0IHRoZSBsYXN0IGtleXMgcGFydCwgc2V0IHRoZSB2YWx1ZS5cbiAgICAgICAgICAvLyAqIEZvciBlYWNoIGtleXMgcGFydCwgaWYgdGhlIGN1cnJlbnQgbGV2ZWwgaXMgdW5kZWZpbmVkIGNyZWF0ZSBhblxuICAgICAgICAgIC8vICAgb2JqZWN0IG9yIGFycmF5IGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSBuZXh0IGtleXMgcGFydC5cbiAgICAgICAgICAvLyAqIE1vdmUgdGhlICdjdXInIHBvaW50ZXIgdG8gdGhlIG5leHQgbGV2ZWwuXG4gICAgICAgICAgLy8gKiBSaW5zZSAmIHJlcGVhdC5cbiAgICAgICAgICBmb3IgKCA7IGkgPD0ga2V5c19sYXN0OyBpKysgKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXlzW2ldID09PSAnJyA/IGN1ci5sZW5ndGggOiBrZXlzW2ldO1xuICAgICAgICAgICAgY3VyID0gY3VyW2tleV0gPSBpIDwga2V5c19sYXN0XG4gICAgICAgICAgICAgID8gY3VyW2tleV0gfHwgKCBrZXlzW2krMV0gJiYgaXNOYU4oIGtleXNbaSsxXSApID8ge30gOiBbXSApXG4gICAgICAgICAgICAgIDogdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBTaW1wbGUga2V5LCBldmVuIHNpbXBsZXIgcnVsZXMsIHNpbmNlIG9ubHkgc2NhbGFycyBhbmQgc2hhbGxvd1xuICAgICAgICAgIC8vIGFycmF5cyBhcmUgYWxsb3dlZC5cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoICQuaXNBcnJheSggb2JqW2tleV0gKSApIHtcbiAgICAgICAgICAgIC8vIHZhbCBpcyBhbHJlYWR5IGFuIGFycmF5LCBzbyBwdXNoIG9uIHRoZSBuZXh0IHZhbHVlLlxuICAgICAgICAgICAgb2JqW2tleV0ucHVzaCggdmFsICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9IGVsc2UgaWYgKCBvYmpba2V5XSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgLy8gdmFsIGlzbid0IGFuIGFycmF5LCBidXQgc2luY2UgYSBzZWNvbmQgdmFsdWUgaGFzIGJlZW4gc3BlY2lmaWVkLFxuICAgICAgICAgICAgLy8gY29udmVydCB2YWwgaW50byBhbiBhcnJheS5cbiAgICAgICAgICAgIG9ialtrZXldID0gWyBvYmpba2V5XSwgdmFsIF07XG4gICAgICAgICAgICBcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdmFsIGlzIGEgc2NhbGFyLlxuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSBlbHNlIGlmICgga2V5ICkge1xuICAgICAgICAvLyBObyB2YWx1ZSB3YXMgZGVmaW5lZCwgc28gc2V0IHNvbWV0aGluZyBtZWFuaW5nZnVsLlxuICAgICAgICBvYmpba2V5XSA9IGNvZXJjZVxuICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgOiAnJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZGVwYXJhbS5xdWVyeXN0cmluZ1xuICAvLyBcbiAgLy8gUGFyc2UgdGhlIHF1ZXJ5IHN0cmluZyBmcm9tIGEgVVJMIG9yIHRoZSBjdXJyZW50IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAvLyBkZXNlcmlhbGl6aW5nIGl0IGludG8gYW4gb2JqZWN0LCBvcHRpb25hbGx5IGNvZXJjaW5nIG51bWJlcnMsIGJvb2xlYW5zLFxuICAvLyBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5kZXBhcmFtLnF1ZXJ5c3RyaW5nKCBbIHVybCBdIFssIGNvZXJjZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgdXJsIC0gKFN0cmluZykgQW4gb3B0aW9uYWwgcGFyYW1zIHN0cmluZyBvciBVUkwgY29udGFpbmluZyBxdWVyeSBzdHJpbmdcbiAgLy8gICAgcGFyYW1zIHRvIGJlIHBhcnNlZC4gSWYgdXJsIGlzIG9taXR0ZWQsIHRoZSBjdXJyZW50XG4gIC8vICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmIGlzIHVzZWQuXG4gIC8vICBjb2VyY2UgLSAoQm9vbGVhbikgSWYgdHJ1ZSwgY29lcmNlcyBhbnkgbnVtYmVycyBvciB0cnVlLCBmYWxzZSwgbnVsbCwgYW5kXG4gIC8vICAgIHVuZGVmaW5lZCB0byB0aGVpciBhY3R1YWwgdmFsdWUuIERlZmF1bHRzIHRvIGZhbHNlIGlmIG9taXR0ZWQuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChPYmplY3QpIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGRlc2VyaWFsaXplZCBwYXJhbXMgc3RyaW5nLlxuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZGVwYXJhbS5mcmFnbWVudFxuICAvLyBcbiAgLy8gUGFyc2UgdGhlIGZyYWdtZW50IChoYXNoKSBmcm9tIGEgVVJMIG9yIHRoZSBjdXJyZW50IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAvLyBkZXNlcmlhbGl6aW5nIGl0IGludG8gYW4gb2JqZWN0LCBvcHRpb25hbGx5IGNvZXJjaW5nIG51bWJlcnMsIGJvb2xlYW5zLFxuICAvLyBudWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5kZXBhcmFtLmZyYWdtZW50KCBbIHVybCBdIFssIGNvZXJjZSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgdXJsIC0gKFN0cmluZykgQW4gb3B0aW9uYWwgcGFyYW1zIHN0cmluZyBvciBVUkwgY29udGFpbmluZyBmcmFnbWVudCAoaGFzaClcbiAgLy8gICAgcGFyYW1zIHRvIGJlIHBhcnNlZC4gSWYgdXJsIGlzIG9taXR0ZWQsIHRoZSBjdXJyZW50IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gIC8vICAgIGlzIHVzZWQuXG4gIC8vICBjb2VyY2UgLSAoQm9vbGVhbikgSWYgdHJ1ZSwgY29lcmNlcyBhbnkgbnVtYmVycyBvciB0cnVlLCBmYWxzZSwgbnVsbCwgYW5kXG4gIC8vICAgIHVuZGVmaW5lZCB0byB0aGVpciBhY3R1YWwgdmFsdWUuIERlZmF1bHRzIHRvIGZhbHNlIGlmIG9taXR0ZWQuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChPYmplY3QpIEFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGRlc2VyaWFsaXplZCBwYXJhbXMgc3RyaW5nLlxuICBcbiAgZnVuY3Rpb24ganFfZGVwYXJhbV9zdWIoIGlzX2ZyYWdtZW50LCB1cmxfb3JfcGFyYW1zLCBjb2VyY2UgKSB7XG4gICAgaWYgKCB1cmxfb3JfcGFyYW1zID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHVybF9vcl9wYXJhbXMgPT09ICdib29sZWFuJyApIHtcbiAgICAgIC8vIHVybF9vcl9wYXJhbXMgbm90IHNwZWNpZmllZC5cbiAgICAgIGNvZXJjZSA9IHVybF9vcl9wYXJhbXM7XG4gICAgICB1cmxfb3JfcGFyYW1zID0ganFfcGFyYW1bIGlzX2ZyYWdtZW50ID8gc3RyX2ZyYWdtZW50IDogc3RyX3F1ZXJ5c3RyaW5nIF0oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXJsX29yX3BhcmFtcyA9IGlzX3N0cmluZyggdXJsX29yX3BhcmFtcyApXG4gICAgICAgID8gdXJsX29yX3BhcmFtcy5yZXBsYWNlKCBpc19mcmFnbWVudCA/IHJlX3BhcmFtc19mcmFnbWVudCA6IHJlX3BhcmFtc19xdWVyeXN0cmluZywgJycgKVxuICAgICAgICA6IHVybF9vcl9wYXJhbXM7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBqcV9kZXBhcmFtKCB1cmxfb3JfcGFyYW1zLCBjb2VyY2UgKTtcbiAgfTtcbiAgXG4gIGpxX2RlcGFyYW1bIHN0cl9xdWVyeXN0cmluZyBdICAgICAgICAgICAgICAgICAgICA9IGN1cnJ5KCBqcV9kZXBhcmFtX3N1YiwgMCApO1xuICBqcV9kZXBhcmFtWyBzdHJfZnJhZ21lbnQgXSA9IGpxX2RlcGFyYW1fZnJhZ21lbnQgPSBjdXJyeSgganFfZGVwYXJhbV9zdWIsIDEgKTtcbiAgXG4gIC8vIFNlY3Rpb246IEVsZW1lbnQgbWFuaXB1bGF0aW9uXG4gIC8vIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5lbGVtVXJsQXR0clxuICAvLyBcbiAgLy8gR2V0IHRoZSBpbnRlcm5hbCBcIkRlZmF1bHQgVVJMIGF0dHJpYnV0ZSBwZXIgdGFnXCIgbGlzdCwgb3IgYXVnbWVudCB0aGUgbGlzdFxuICAvLyB3aXRoIGFkZGl0aW9uYWwgdGFnLWF0dHJpYnV0ZSBwYWlycywgaW4gY2FzZSB0aGUgZGVmYXVsdHMgYXJlIGluc3VmZmljaWVudC5cbiAgLy8gXG4gIC8vIEluIHRoZSA8alF1ZXJ5LmZuLnF1ZXJ5c3RyaW5nPiBhbmQgPGpRdWVyeS5mbi5mcmFnbWVudD4gbWV0aG9kcywgdGhpcyBsaXN0XG4gIC8vIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHdoaWNoIGF0dHJpYnV0ZSBjb250YWlucyB0aGUgVVJMIHRvIGJlIG1vZGlmaWVkLCBpZlxuICAvLyBhbiBcImF0dHJcIiBwYXJhbSBpcyBub3Qgc3BlY2lmaWVkLlxuICAvLyBcbiAgLy8gRGVmYXVsdCBUYWctQXR0cmlidXRlIExpc3Q6XG4gIC8vIFxuICAvLyAgYSAgICAgIC0gaHJlZlxuICAvLyAgYmFzZSAgIC0gaHJlZlxuICAvLyAgaWZyYW1lIC0gc3JjXG4gIC8vICBpbWcgICAgLSBzcmNcbiAgLy8gIGlucHV0ICAtIHNyY1xuICAvLyAgZm9ybSAgIC0gYWN0aW9uXG4gIC8vICBsaW5rICAgLSBocmVmXG4gIC8vICBzY3JpcHQgLSBzcmNcbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkuZWxlbVVybEF0dHIoIFsgdGFnX2F0dHIgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIHRhZ19hdHRyIC0gKE9iamVjdCkgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBsaXN0IG9mIHRhZyBuYW1lcyBhbmQgdGhlaXJcbiAgLy8gICAgYXNzb2NpYXRlZCBkZWZhdWx0IGF0dHJpYnV0ZSBuYW1lcyBpbiB0aGUgZm9ybWF0IHsgdGFnOiAnYXR0cicsIC4uLiB9IHRvXG4gIC8vICAgIGJlIG1lcmdlZCBpbnRvIHRoZSBpbnRlcm5hbCB0YWctYXR0cmlidXRlIGxpc3QuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChPYmplY3QpIEFuIG9iamVjdCBjb250YWluaW5nIGFsbCBzdG9yZWQgdGFnLWF0dHJpYnV0ZSB2YWx1ZXMuXG4gIFxuICAvLyBPbmx5IGRlZmluZSBmdW5jdGlvbiBhbmQgc2V0IGRlZmF1bHRzIGlmIGZ1bmN0aW9uIGRvZXNuJ3QgYWxyZWFkeSBleGlzdCwgYXNcbiAgLy8gdGhlIHVybEludGVybmFsIHBsdWdpbiB3aWxsIHByb3ZpZGUgdGhpcyBtZXRob2QgYXMgd2VsbC5cbiAgJFsgc3RyX2VsZW1VcmxBdHRyIF0gfHwgKCRbIHN0cl9lbGVtVXJsQXR0ciBdID0gZnVuY3Rpb24oIG9iaiApIHtcbiAgICByZXR1cm4gJC5leHRlbmQoIGVsZW1VcmxBdHRyX2NhY2hlLCBvYmogKTtcbiAgfSkoe1xuICAgIGE6IHN0cl9ocmVmLFxuICAgIGJhc2U6IHN0cl9ocmVmLFxuICAgIGlmcmFtZTogc3RyX3NyYyxcbiAgICBpbWc6IHN0cl9zcmMsXG4gICAgaW5wdXQ6IHN0cl9zcmMsXG4gICAgZm9ybTogJ2FjdGlvbicsXG4gICAgbGluazogc3RyX2hyZWYsXG4gICAgc2NyaXB0OiBzdHJfc3JjXG4gIH0pO1xuICBcbiAganFfZWxlbVVybEF0dHIgPSAkWyBzdHJfZWxlbVVybEF0dHIgXTtcbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LmZuLnF1ZXJ5c3RyaW5nXG4gIC8vIFxuICAvLyBVcGRhdGUgVVJMIGF0dHJpYnV0ZSBpbiBvbmUgb3IgbW9yZSBlbGVtZW50cywgbWVyZ2luZyB0aGUgY3VycmVudCBVUkwgKHdpdGhcbiAgLy8gb3Igd2l0aG91dCBwcmUtZXhpc3RpbmcgcXVlcnkgc3RyaW5nIHBhcmFtcykgcGx1cyBhbnkgcGFyYW1zIG9iamVjdCBvclxuICAvLyBzdHJpbmcgaW50byBhIG5ldyBVUkwsIHdoaWNoIGlzIHRoZW4gc2V0IGludG8gdGhhdCBhdHRyaWJ1dGUuIExpa2VcbiAgLy8gPGpRdWVyeS5wYXJhbS5xdWVyeXN0cmluZyAoYnVpbGQgdXJsKT4sIGJ1dCBmb3IgYWxsIGVsZW1lbnRzIGluIGEgalF1ZXJ5XG4gIC8vIGNvbGxlY3Rpb24uXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5KCdzZWxlY3RvcicpLnF1ZXJ5c3RyaW5nKCBbIGF0dHIsIF0gcGFyYW1zIFssIG1lcmdlX21vZGUgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIGF0dHIgLSAoU3RyaW5nKSBPcHRpb25hbCBuYW1lIG9mIGFuIGF0dHJpYnV0ZSB0aGF0IHdpbGwgY29udGFpbiBhIFVSTCB0b1xuICAvLyAgICBtZXJnZSBwYXJhbXMgb3IgdXJsIGludG8uIFNlZSA8alF1ZXJ5LmVsZW1VcmxBdHRyPiBmb3IgYSBsaXN0IG9mIGRlZmF1bHRcbiAgLy8gICAgYXR0cmlidXRlcy5cbiAgLy8gIHBhcmFtcyAtIChPYmplY3QpIEEgcGFyYW1zIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB0aGUgVVJMIGF0dHJpYnV0ZS5cbiAgLy8gIHBhcmFtcyAtIChTdHJpbmcpIEEgVVJMIGNvbnRhaW5pbmcgcXVlcnkgc3RyaW5nIHBhcmFtcywgb3IgcGFyYW1zIHN0cmluZ1xuICAvLyAgICB0byBiZSBtZXJnZWQgaW50byB0aGUgVVJMIGF0dHJpYnV0ZS5cbiAgLy8gIG1lcmdlX21vZGUgLSAoTnVtYmVyKSBNZXJnZSBiZWhhdmlvciBkZWZhdWx0cyB0byAwIGlmIG1lcmdlX21vZGUgaXMgbm90XG4gIC8vICAgIHNwZWNpZmllZCwgYW5kIGlzIGFzLWZvbGxvd3M6XG4gIC8vICAgIFxuICAvLyAgICAqIDA6IHBhcmFtcyBpbiB0aGUgcGFyYW1zIGFyZ3VtZW50IHdpbGwgb3ZlcnJpZGUgYW55IHBhcmFtcyBpbiBhdHRyIFVSTC5cbiAgLy8gICAgKiAxOiBhbnkgcGFyYW1zIGluIGF0dHIgVVJMIHdpbGwgb3ZlcnJpZGUgcGFyYW1zIGluIHRoZSBwYXJhbXMgYXJndW1lbnQuXG4gIC8vICAgICogMjogcGFyYW1zIGFyZ3VtZW50IHdpbGwgY29tcGxldGVseSByZXBsYWNlIGFueSBxdWVyeSBzdHJpbmcgaW4gYXR0clxuICAvLyAgICAgICAgIFVSTC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKGpRdWVyeSkgVGhlIGluaXRpYWwgalF1ZXJ5IGNvbGxlY3Rpb24gb2YgZWxlbWVudHMsIGJ1dCB3aXRoIG1vZGlmaWVkIFVSTFxuICAvLyAgYXR0cmlidXRlIHZhbHVlcy5cbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LmZuLmZyYWdtZW50XG4gIC8vIFxuICAvLyBVcGRhdGUgVVJMIGF0dHJpYnV0ZSBpbiBvbmUgb3IgbW9yZSBlbGVtZW50cywgbWVyZ2luZyB0aGUgY3VycmVudCBVUkwgKHdpdGhcbiAgLy8gb3Igd2l0aG91dCBwcmUtZXhpc3RpbmcgZnJhZ21lbnQvaGFzaCBwYXJhbXMpIHBsdXMgYW55IHBhcmFtcyBvYmplY3Qgb3JcbiAgLy8gc3RyaW5nIGludG8gYSBuZXcgVVJMLCB3aGljaCBpcyB0aGVuIHNldCBpbnRvIHRoYXQgYXR0cmlidXRlLiBMaWtlXG4gIC8vIDxqUXVlcnkucGFyYW0uZnJhZ21lbnQgKGJ1aWxkIHVybCk+LCBidXQgZm9yIGFsbCBlbGVtZW50cyBpbiBhIGpRdWVyeVxuICAvLyBjb2xsZWN0aW9uLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeSgnc2VsZWN0b3InKS5mcmFnbWVudCggWyBhdHRyLCBdIHBhcmFtcyBbLCBtZXJnZV9tb2RlIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBhdHRyIC0gKFN0cmluZykgT3B0aW9uYWwgbmFtZSBvZiBhbiBhdHRyaWJ1dGUgdGhhdCB3aWxsIGNvbnRhaW4gYSBVUkwgdG9cbiAgLy8gICAgbWVyZ2UgcGFyYW1zIGludG8uIFNlZSA8alF1ZXJ5LmVsZW1VcmxBdHRyPiBmb3IgYSBsaXN0IG9mIGRlZmF1bHRcbiAgLy8gICAgYXR0cmlidXRlcy5cbiAgLy8gIHBhcmFtcyAtIChPYmplY3QpIEEgcGFyYW1zIG9iamVjdCB0byBiZSBtZXJnZWQgaW50byB0aGUgVVJMIGF0dHJpYnV0ZS5cbiAgLy8gIHBhcmFtcyAtIChTdHJpbmcpIEEgVVJMIGNvbnRhaW5pbmcgZnJhZ21lbnQgKGhhc2gpIHBhcmFtcywgb3IgcGFyYW1zXG4gIC8vICAgIHN0cmluZyB0byBiZSBtZXJnZWQgaW50byB0aGUgVVJMIGF0dHJpYnV0ZS5cbiAgLy8gIG1lcmdlX21vZGUgLSAoTnVtYmVyKSBNZXJnZSBiZWhhdmlvciBkZWZhdWx0cyB0byAwIGlmIG1lcmdlX21vZGUgaXMgbm90XG4gIC8vICAgIHNwZWNpZmllZCwgYW5kIGlzIGFzLWZvbGxvd3M6XG4gIC8vICAgIFxuICAvLyAgICAqIDA6IHBhcmFtcyBpbiB0aGUgcGFyYW1zIGFyZ3VtZW50IHdpbGwgb3ZlcnJpZGUgYW55IHBhcmFtcyBpbiBhdHRyIFVSTC5cbiAgLy8gICAgKiAxOiBhbnkgcGFyYW1zIGluIGF0dHIgVVJMIHdpbGwgb3ZlcnJpZGUgcGFyYW1zIGluIHRoZSBwYXJhbXMgYXJndW1lbnQuXG4gIC8vICAgICogMjogcGFyYW1zIGFyZ3VtZW50IHdpbGwgY29tcGxldGVseSByZXBsYWNlIGFueSBmcmFnbWVudCAoaGFzaCkgaW4gYXR0clxuICAvLyAgICAgICAgIFVSTC5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKGpRdWVyeSkgVGhlIGluaXRpYWwgalF1ZXJ5IGNvbGxlY3Rpb24gb2YgZWxlbWVudHMsIGJ1dCB3aXRoIG1vZGlmaWVkIFVSTFxuICAvLyAgYXR0cmlidXRlIHZhbHVlcy5cbiAgXG4gIGZ1bmN0aW9uIGpxX2ZuX3N1YiggbW9kZSwgZm9yY2VfYXR0ciwgcGFyYW1zLCBtZXJnZV9tb2RlICkge1xuICAgIGlmICggIWlzX3N0cmluZyggcGFyYW1zICkgJiYgdHlwZW9mIHBhcmFtcyAhPT0gJ29iamVjdCcgKSB7XG4gICAgICAvLyBmb3JjZV9hdHRyIG5vdCBzcGVjaWZpZWQuXG4gICAgICBtZXJnZV9tb2RlID0gcGFyYW1zO1xuICAgICAgcGFyYW1zID0gZm9yY2VfYXR0cjtcbiAgICAgIGZvcmNlX2F0dHIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHZhciB0aGF0ID0gJCh0aGlzKSxcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBhdHRyaWJ1dGUgc3BlY2lmaWVkLCBvciBkZWZhdWx0IHNwZWNpZmllZCB2aWEgJC5lbGVtVXJsQXR0ci5cbiAgICAgICAgYXR0ciA9IGZvcmNlX2F0dHIgfHwganFfZWxlbVVybEF0dHIoKVsgKCB0aGlzLm5vZGVOYW1lIHx8ICcnICkudG9Mb3dlckNhc2UoKSBdIHx8ICcnLFxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IFVSTCB2YWx1ZS5cbiAgICAgICAgdXJsID0gYXR0ciAmJiB0aGF0LmF0dHIoIGF0dHIgKSB8fCAnJztcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGF0dHJpYnV0ZSB3aXRoIG5ldyBVUkwuXG4gICAgICB0aGF0LmF0dHIoIGF0dHIsIGpxX3BhcmFtWyBtb2RlIF0oIHVybCwgcGFyYW1zLCBtZXJnZV9tb2RlICkgKTtcbiAgICB9KTtcbiAgICBcbiAgfTtcbiAgXG4gICQuZm5bIHN0cl9xdWVyeXN0cmluZyBdID0gY3VycnkoIGpxX2ZuX3N1Yiwgc3RyX3F1ZXJ5c3RyaW5nICk7XG4gICQuZm5bIHN0cl9mcmFnbWVudCBdICAgID0gY3VycnkoIGpxX2ZuX3N1Yiwgc3RyX2ZyYWdtZW50ICk7XG4gIFxuICAvLyBTZWN0aW9uOiBIaXN0b3J5LCBoYXNoY2hhbmdlIGV2ZW50XG4gIC8vIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5iYnEucHVzaFN0YXRlXG4gIC8vIFxuICAvLyBBZGRzIGEgJ3N0YXRlJyBpbnRvIHRoZSBicm93c2VyIGhpc3RvcnkgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24sIHNldHRpbmdcbiAgLy8gbG9jYXRpb24uaGFzaCBhbmQgdHJpZ2dlcmluZyBhbnkgYm91bmQgPGhhc2hjaGFuZ2UgZXZlbnQ+IGNhbGxiYWNrc1xuICAvLyAocHJvdmlkZWQgdGhlIG5ldyBzdGF0ZSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgcHJldmlvdXMgc3RhdGUpLlxuICAvLyBcbiAgLy8gSWYgbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQsIGFuIGVtcHR5IHN0YXRlIGlzIGNyZWF0ZWQsIHdoaWNoIGlzIGp1c3QgYVxuICAvLyBzaG9ydGN1dCBmb3IgalF1ZXJ5LmJicS5wdXNoU3RhdGUoIHt9LCAyICkuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vID4galF1ZXJ5LmJicS5wdXNoU3RhdGUoIFsgcGFyYW1zIFssIG1lcmdlX21vZGUgXSBdICk7XG4gIC8vIFxuICAvLyBBcmd1bWVudHM6XG4gIC8vIFxuICAvLyAgcGFyYW1zIC0gKFN0cmluZykgQSBzZXJpYWxpemVkIHBhcmFtcyBzdHJpbmcgb3IgYSBoYXNoIHN0cmluZyBiZWdpbm5pbmdcbiAgLy8gICAgd2l0aCAjIHRvIG1lcmdlIGludG8gbG9jYXRpb24uaGFzaC5cbiAgLy8gIHBhcmFtcyAtIChPYmplY3QpIEEgcGFyYW1zIG9iamVjdCB0byBtZXJnZSBpbnRvIGxvY2F0aW9uLmhhc2guXG4gIC8vICBtZXJnZV9tb2RlIC0gKE51bWJlcikgTWVyZ2UgYmVoYXZpb3IgZGVmYXVsdHMgdG8gMCBpZiBtZXJnZV9tb2RlIGlzIG5vdFxuICAvLyAgICBzcGVjaWZpZWQgKHVubGVzcyBhIGhhc2ggc3RyaW5nIGJlZ2lubmluZyB3aXRoICMgaXMgc3BlY2lmaWVkLCBpbiB3aGljaFxuICAvLyAgICBjYXNlIG1lcmdlIGJlaGF2aW9yIGRlZmF1bHRzIHRvIDIpLCBhbmQgaXMgYXMtZm9sbG93czpcbiAgLy8gXG4gIC8vICAgICogMDogcGFyYW1zIGluIHRoZSBwYXJhbXMgYXJndW1lbnQgd2lsbCBvdmVycmlkZSBhbnkgcGFyYW1zIGluIHRoZVxuICAvLyAgICAgICAgIGN1cnJlbnQgc3RhdGUuXG4gIC8vICAgICogMTogYW55IHBhcmFtcyBpbiB0aGUgY3VycmVudCBzdGF0ZSB3aWxsIG92ZXJyaWRlIHBhcmFtcyBpbiB0aGUgcGFyYW1zXG4gIC8vICAgICAgICAgYXJndW1lbnQuXG4gIC8vICAgICogMjogcGFyYW1zIGFyZ3VtZW50IHdpbGwgY29tcGxldGVseSByZXBsYWNlIGN1cnJlbnQgc3RhdGUuXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIE5vdGhpbmcuXG4gIC8vIFxuICAvLyBBZGRpdGlvbmFsIE5vdGVzOlxuICAvLyBcbiAgLy8gICogU2V0dGluZyBhbiBlbXB0eSBzdGF0ZSBtYXkgY2F1c2UgdGhlIGJyb3dzZXIgdG8gc2Nyb2xsLlxuICAvLyAgKiBVbmxpa2UgdGhlIGZyYWdtZW50IGFuZCBxdWVyeXN0cmluZyBtZXRob2RzLCBpZiBhIGhhc2ggc3RyaW5nIGJlZ2lubmluZ1xuICAvLyAgICB3aXRoICMgaXMgc3BlY2lmaWVkIGFzIHRoZSBwYXJhbXMgYWdydW1lbnQsIG1lcmdlX21vZGUgZGVmYXVsdHMgdG8gMi5cbiAgXG4gIGpxX2JicS5wdXNoU3RhdGUgPSBqcV9iYnFfcHVzaFN0YXRlID0gZnVuY3Rpb24oIHBhcmFtcywgbWVyZ2VfbW9kZSApIHtcbiAgICBpZiAoIGlzX3N0cmluZyggcGFyYW1zICkgJiYgL14jLy50ZXN0KCBwYXJhbXMgKSAmJiBtZXJnZV9tb2RlID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAvLyBQYXJhbXMgc3RyaW5nIGJlZ2lucyB3aXRoICMgYW5kIG1lcmdlX21vZGUgbm90IHNwZWNpZmllZCwgc28gY29tcGxldGVseVxuICAgICAgLy8gb3ZlcndyaXRlIHdpbmRvdy5sb2NhdGlvbi5oYXNoLlxuICAgICAgbWVyZ2VfbW9kZSA9IDI7XG4gICAgfVxuICAgIFxuICAgIHZhciBoYXNfYXJncyA9IHBhcmFtcyAhPT0gdW5kZWZpbmVkLFxuICAgICAgLy8gTWVyZ2UgcGFyYW1zIGludG8gd2luZG93LmxvY2F0aW9uIHVzaW5nICQucGFyYW0uZnJhZ21lbnQuXG4gICAgICB1cmwgPSBqcV9wYXJhbV9mcmFnbWVudCggbG9jYXRpb24uaHJlZixcbiAgICAgICAgaGFzX2FyZ3MgPyBwYXJhbXMgOiB7fSwgaGFzX2FyZ3MgPyBtZXJnZV9tb2RlIDogMiApO1xuICAgIFxuICAgIC8vIFNldCBuZXcgd2luZG93LmxvY2F0aW9uLmhyZWYuIE5vdGUgdGhhdCBTYWZhcmkgMyAmIENocm9tZSBiYXJmIG9uXG4gICAgLy8gbG9jYXRpb24uaGFzaCA9ICcjJyBzbyB0aGUgZW50aXJlIFVSTCBpcyBzZXQuXG4gICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgfTtcbiAgXG4gIC8vIE1ldGhvZDogalF1ZXJ5LmJicS5nZXRTdGF0ZVxuICAvLyBcbiAgLy8gUmV0cmlldmVzIHRoZSBjdXJyZW50ICdzdGF0ZScgZnJvbSB0aGUgYnJvd3NlciBoaXN0b3J5LCBwYXJzaW5nXG4gIC8vIGxvY2F0aW9uLmhhc2ggZm9yIGEgc3BlY2lmaWMga2V5IG9yIHJldHVybmluZyBhbiBvYmplY3QgY29udGFpbmluZyB0aGVcbiAgLy8gZW50aXJlIHN0YXRlLCBvcHRpb25hbGx5IGNvZXJjaW5nIG51bWJlcnMsIGJvb2xlYW5zLCBudWxsIGFuZCB1bmRlZmluZWRcbiAgLy8gdmFsdWVzLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyA+IGpRdWVyeS5iYnEuZ2V0U3RhdGUoIFsga2V5IF0gWywgY29lcmNlIF0gKTtcbiAgLy8gXG4gIC8vIEFyZ3VtZW50czpcbiAgLy8gXG4gIC8vICBrZXkgLSAoU3RyaW5nKSBBbiBvcHRpb25hbCBzdGF0ZSBrZXkgZm9yIHdoaWNoIHRvIHJldHVybiBhIHZhbHVlLlxuICAvLyAgY29lcmNlIC0gKEJvb2xlYW4pIElmIHRydWUsIGNvZXJjZXMgYW55IG51bWJlcnMgb3IgdHJ1ZSwgZmFsc2UsIG51bGwsIGFuZFxuICAvLyAgICB1bmRlZmluZWQgdG8gdGhlaXIgYWN0dWFsIHZhbHVlLiBEZWZhdWx0cyB0byBmYWxzZS5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgKEFueXRoaW5nKSBJZiBrZXkgaXMgcGFzc2VkLCByZXR1cm5zIHRoZSB2YWx1ZSBjb3JyZXNwb25kaW5nIHdpdGggdGhhdCBrZXlcbiAgLy8gICAgaW4gdGhlIGxvY2F0aW9uLmhhc2ggJ3N0YXRlJywgb3IgdW5kZWZpbmVkLiBJZiBub3QsIGFuIG9iamVjdFxuICAvLyAgICByZXByZXNlbnRpbmcgdGhlIGVudGlyZSAnc3RhdGUnIGlzIHJldHVybmVkLlxuICBcbiAganFfYmJxLmdldFN0YXRlID0ganFfYmJxX2dldFN0YXRlID0gZnVuY3Rpb24oIGtleSwgY29lcmNlICkge1xuICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2Yga2V5ID09PSAnYm9vbGVhbidcbiAgICAgID8ganFfZGVwYXJhbV9mcmFnbWVudCgga2V5ICkgLy8gJ2tleScgcmVhbGx5IG1lYW5zICdjb2VyY2UnIGhlcmVcbiAgICAgIDoganFfZGVwYXJhbV9mcmFnbWVudCggY29lcmNlIClbIGtleSBdO1xuICB9O1xuICBcbiAgLy8gTWV0aG9kOiBqUXVlcnkuYmJxLnJlbW92ZVN0YXRlXG4gIC8vIFxuICAvLyBSZW1vdmUgb25lIG9yIG1vcmUga2V5cyBmcm9tIHRoZSBjdXJyZW50IGJyb3dzZXIgaGlzdG9yeSAnc3RhdGUnLCBjcmVhdGluZ1xuICAvLyBhIG5ldyBzdGF0ZSwgc2V0dGluZyBsb2NhdGlvbi5oYXNoIGFuZCB0cmlnZ2VyaW5nIGFueSBib3VuZFxuICAvLyA8aGFzaGNoYW5nZSBldmVudD4gY2FsbGJhY2tzIChwcm92aWRlZCB0aGUgbmV3IHN0YXRlIGlzIGRpZmZlcmVudCB0aGFuXG4gIC8vIHRoZSBwcmV2aW91cyBzdGF0ZSkuXG4gIC8vIFxuICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCwgYW4gZW1wdHkgc3RhdGUgaXMgY3JlYXRlZCwgd2hpY2ggaXMganVzdCBhXG4gIC8vIHNob3J0Y3V0IGZvciBqUXVlcnkuYmJxLnB1c2hTdGF0ZSgge30sIDIgKS5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkuYmJxLnJlbW92ZVN0YXRlKCBbIGtleSBbLCBrZXkgLi4uIF0gXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIGtleSAtIChTdHJpbmcpIE9uZSBvciBtb3JlIGtleSB2YWx1ZXMgdG8gcmVtb3ZlIGZyb20gdGhlIGN1cnJlbnQgc3RhdGUsXG4gIC8vICAgIHBhc3NlZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cy5cbiAgLy8gIGtleSAtIChBcnJheSkgQSBzaW5nbGUgYXJyYXkgYXJndW1lbnQgdGhhdCBjb250YWlucyBhIGxpc3Qgb2Yga2V5IHZhbHVlc1xuICAvLyAgICB0byByZW1vdmUgZnJvbSB0aGUgY3VycmVudCBzdGF0ZS5cbiAgLy8gXG4gIC8vIFJldHVybnM6XG4gIC8vIFxuICAvLyAgTm90aGluZy5cbiAgLy8gXG4gIC8vIEFkZGl0aW9uYWwgTm90ZXM6XG4gIC8vIFxuICAvLyAgKiBTZXR0aW5nIGFuIGVtcHR5IHN0YXRlIG1heSBjYXVzZSB0aGUgYnJvd3NlciB0byBzY3JvbGwuXG4gIFxuICBqcV9iYnEucmVtb3ZlU3RhdGUgPSBmdW5jdGlvbiggYXJyICkge1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgIFxuICAgIC8vIElmIG9uZSBvciBtb3JlIGFyZ3VtZW50cyBpcyBwYXNzZWQuLlxuICAgIGlmICggYXJyICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICBcbiAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgIHN0YXRlID0ganFfYmJxX2dldFN0YXRlKCk7XG4gICAgICBcbiAgICAgIC8vIEZvciBlYWNoIHBhc3NlZCBrZXksIGRlbGV0ZSB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAvLyBzdGF0ZS5cbiAgICAgICQuZWFjaCggJC5pc0FycmF5KCBhcnIgKSA/IGFyciA6IGFyZ3VtZW50cywgZnVuY3Rpb24oaSx2KXtcbiAgICAgICAgZGVsZXRlIHN0YXRlWyB2IF07XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gU2V0IHRoZSBzdGF0ZSwgY29tcGxldGVseSBvdmVycmlkaW5nIGFueSBleGlzdGluZyBzdGF0ZS5cbiAgICBqcV9iYnFfcHVzaFN0YXRlKCBzdGF0ZSwgMiApO1xuICB9O1xuICBcbiAgLy8gRXZlbnQ6IGhhc2hjaGFuZ2UgZXZlbnQgKEJCUSlcbiAgLy8gXG4gIC8vIFVzYWdlIGluIGpRdWVyeSAxLjQgYW5kIG5ld2VyOlxuICAvLyBcbiAgLy8gSW4galF1ZXJ5IDEuNCBhbmQgbmV3ZXIsIHRoZSBldmVudCBvYmplY3QgcGFzc2VkIGludG8gYW55IGhhc2hjaGFuZ2UgZXZlbnRcbiAgLy8gY2FsbGJhY2sgaXMgYXVnbWVudGVkIHdpdGggYSBjb3B5IG9mIHRoZSBsb2NhdGlvbi5oYXNoIGZyYWdtZW50IGF0IHRoZSB0aW1lXG4gIC8vIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGFzIGl0cyBldmVudC5mcmFnbWVudCBwcm9wZXJ0eS4gSW4gYWRkaXRpb24sIHRoZVxuICAvLyBldmVudC5nZXRTdGF0ZSBtZXRob2Qgb3BlcmF0ZXMgb24gdGhpcyBwcm9wZXJ0eSAoaW5zdGVhZCBvZiBsb2NhdGlvbi5oYXNoKVxuICAvLyB3aGljaCBhbGxvd3MgdGhpcyBmcmFnbWVudC1hcy1hLXN0YXRlIHRvIGJlIHJlZmVyZW5jZWQgbGF0ZXIsIGV2ZW4gYWZ0ZXJcbiAgLy8gd2luZG93LmxvY2F0aW9uIG1heSBoYXZlIGNoYW5nZWQuXG4gIC8vIFxuICAvLyBOb3RlIHRoYXQgZXZlbnQuZnJhZ21lbnQgYW5kIGV2ZW50LmdldFN0YXRlIGFyZSBub3QgZGVmaW5lZCBhY2NvcmRpbmcgdG9cbiAgLy8gVzNDIChvciBhbnkgb3RoZXIpIHNwZWNpZmljYXRpb24sIGJ1dCB3aWxsIHN0aWxsIGJlIGF2YWlsYWJsZSB3aGV0aGVyIG9yXG4gIC8vIG5vdCB0aGUgaGFzaGNoYW5nZSBldmVudCBleGlzdHMgbmF0aXZlbHkgaW4gdGhlIGJyb3dzZXIsIGJlY2F1c2Ugb2YgdGhlXG4gIC8vIHV0aWxpdHkgdGhleSBwcm92aWRlLlxuICAvLyBcbiAgLy8gVGhlIGV2ZW50LmZyYWdtZW50IHByb3BlcnR5IGNvbnRhaW5zIHRoZSBvdXRwdXQgb2YgPGpRdWVyeS5wYXJhbS5mcmFnbWVudD5cbiAgLy8gYW5kIHRoZSBldmVudC5nZXRTdGF0ZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0byB0aGUgPGpRdWVyeS5iYnEuZ2V0U3RhdGU+XG4gIC8vIG1ldGhvZC5cbiAgLy8gXG4gIC8vID4gJCh3aW5kb3cpLmJpbmQoICdoYXNoY2hhbmdlJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuICAvLyA+ICAgdmFyIGhhc2hfc3RyID0gZXZlbnQuZnJhZ21lbnQsXG4gIC8vID4gICAgIHBhcmFtX29iaiA9IGV2ZW50LmdldFN0YXRlKCksXG4gIC8vID4gICAgIHBhcmFtX3ZhbCA9IGV2ZW50LmdldFN0YXRlKCAncGFyYW1fbmFtZScgKSxcbiAgLy8gPiAgICAgcGFyYW1fdmFsX2NvZXJjZWQgPSBldmVudC5nZXRTdGF0ZSggJ3BhcmFtX25hbWUnLCB0cnVlICk7XG4gIC8vID4gICAuLi5cbiAgLy8gPiB9KTtcbiAgLy8gXG4gIC8vIFVzYWdlIGluIGpRdWVyeSAxLjMuMjpcbiAgLy8gXG4gIC8vIEluIGpRdWVyeSAxLjMuMiwgdGhlIGV2ZW50IG9iamVjdCBjYW5ub3QgdG8gYmUgYXVnbWVudGVkIGFzIGluIGpRdWVyeSAxLjQrLFxuICAvLyBzbyB0aGUgZnJhZ21lbnQgc3RhdGUgaXNuJ3QgYm91bmQgdG8gdGhlIGV2ZW50IG9iamVjdCBhbmQgbXVzdCBpbnN0ZWFkIGJlXG4gIC8vIHBhcnNlZCB1c2luZyB0aGUgPGpRdWVyeS5wYXJhbS5mcmFnbWVudD4gYW5kIDxqUXVlcnkuYmJxLmdldFN0YXRlPiBtZXRob2RzLlxuICAvLyBcbiAgLy8gPiAkKHdpbmRvdykuYmluZCggJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIC8vID4gICB2YXIgaGFzaF9zdHIgPSAkLnBhcmFtLmZyYWdtZW50KCksXG4gIC8vID4gICAgIHBhcmFtX29iaiA9ICQuYmJxLmdldFN0YXRlKCksXG4gIC8vID4gICAgIHBhcmFtX3ZhbCA9ICQuYmJxLmdldFN0YXRlKCAncGFyYW1fbmFtZScgKSxcbiAgLy8gPiAgICAgcGFyYW1fdmFsX2NvZXJjZWQgPSAkLmJicS5nZXRTdGF0ZSggJ3BhcmFtX25hbWUnLCB0cnVlICk7XG4gIC8vID4gICAuLi5cbiAgLy8gPiB9KTtcbiAgLy8gXG4gIC8vIEFkZGl0aW9uYWwgTm90ZXM6XG4gIC8vIFxuICAvLyAqIER1ZSB0byBjaGFuZ2VzIGluIHRoZSBzcGVjaWFsIGV2ZW50cyBBUEksIGpRdWVyeSBCQlEgdjEuMiBvciBuZXdlciBpc1xuICAvLyAgIHJlcXVpcmVkIHRvIGVuYWJsZSB0aGUgYXVnbWVudGVkIGV2ZW50IG9iamVjdCBpbiBqUXVlcnkgMS40LjIgYW5kIG5ld2VyLlxuICAvLyAqIFNlZSA8alF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQ+IGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uLlxuICBcbiAgc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSA9ICQuZXh0ZW5kKCBzcGVjaWFsWyBzdHJfaGFzaGNoYW5nZSBdLCB7XG4gICAgXG4gICAgLy8gQXVnbWVudGluZyB0aGUgZXZlbnQgb2JqZWN0IHdpdGggdGhlIC5mcmFnbWVudCBwcm9wZXJ0eSBhbmQgLmdldFN0YXRlXG4gICAgLy8gbWV0aG9kIHJlcXVpcmVzIGpRdWVyeSAxLjQgb3IgbmV3ZXIuIE5vdGU6IHdpdGggMS4zLjIsIGV2ZXJ5dGhpbmcgd2lsbFxuICAgIC8vIHdvcmssIGJ1dCB0aGUgZXZlbnQgd29uJ3QgYmUgYXVnbWVudGVkKVxuICAgIGFkZDogZnVuY3Rpb24oIGhhbmRsZU9iaiApIHtcbiAgICAgIHZhciBvbGRfaGFuZGxlcjtcbiAgICAgIFxuICAgICAgZnVuY3Rpb24gbmV3X2hhbmRsZXIoZSkge1xuICAgICAgICAvLyBlLmZyYWdtZW50IGlzIHNldCB0byB0aGUgdmFsdWUgb2YgbG9jYXRpb24uaGFzaCAod2l0aCBhbnkgbGVhZGluZyAjXG4gICAgICAgIC8vIHJlbW92ZWQpIGF0IHRoZSB0aW1lIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICAgIHZhciBoYXNoID0gZVsgc3RyX2ZyYWdtZW50IF0gPSBqcV9wYXJhbV9mcmFnbWVudCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gZS5nZXRTdGF0ZSgpIHdvcmtzIGp1c3QgbGlrZSAkLmJicS5nZXRTdGF0ZSgpLCBidXQgdXNlcyB0aGVcbiAgICAgICAgLy8gZS5mcmFnbWVudCBwcm9wZXJ0eSBzdG9yZWQgb24gdGhlIGV2ZW50IG9iamVjdC5cbiAgICAgICAgZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCBrZXksIGNvZXJjZSApIHtcbiAgICAgICAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGtleSA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IGpxX2RlcGFyYW0oIGhhc2gsIGtleSApIC8vICdrZXknIHJlYWxseSBtZWFucyAnY29lcmNlJyBoZXJlXG4gICAgICAgICAgICA6IGpxX2RlcGFyYW0oIGhhc2gsIGNvZXJjZSApWyBrZXkgXTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG9sZF9oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFRoaXMgbWF5IHNlZW0gYSBsaXR0bGUgY29tcGxpY2F0ZWQsIGJ1dCBpdCBub3JtYWxpemVzIHRoZSBzcGVjaWFsIGV2ZW50XG4gICAgICAvLyAuYWRkIG1ldGhvZCBiZXR3ZWVuIGpRdWVyeSAxLjQvMS40LjEgYW5kIDEuNC4yK1xuICAgICAgaWYgKCAkLmlzRnVuY3Rpb24oIGhhbmRsZU9iaiApICkge1xuICAgICAgICAvLyAxLjQsIDEuNC4xXG4gICAgICAgIG9sZF9oYW5kbGVyID0gaGFuZGxlT2JqO1xuICAgICAgICByZXR1cm4gbmV3X2hhbmRsZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAxLjQuMitcbiAgICAgICAgb2xkX2hhbmRsZXIgPSBoYW5kbGVPYmouaGFuZGxlcjtcbiAgICAgICAgaGFuZGxlT2JqLmhhbmRsZXIgPSBuZXdfaGFuZGxlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gIH0pO1xuICBcbn0pKGpRdWVyeSx0aGlzKTtcblxuLyohXG4gKiBqUXVlcnkgaGFzaGNoYW5nZSBldmVudCAtIHYxLjMgLSA3LzIxLzIwMTBcbiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UtcGx1Z2luL1xuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgXCJDb3dib3lcIiBCZW4gQWxtYW5cbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlL1xuICovXG5cbi8vIFNjcmlwdDogalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnRcbi8vXG4vLyAqVmVyc2lvbjogMS4zLCBMYXN0IHVwZGF0ZWQ6IDcvMjEvMjAxMCpcbi8vIFxuLy8gUHJvamVjdCBIb21lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS1wbHVnaW4vXG4vLyBHaXRIdWIgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvXG4vLyBTb3VyY2UgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvcmF3L21hc3Rlci9qcXVlcnkuYmEtaGFzaGNoYW5nZS5qc1xuLy8gKE1pbmlmaWVkKSAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWhhc2hjaGFuZ2UubWluLmpzICgwLjhrYiBnemlwcGVkKVxuLy8gXG4vLyBBYm91dDogTGljZW5zZVxuLy8gXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTAgXCJDb3dib3lcIiBCZW4gQWxtYW4sXG4vLyBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy5cbi8vIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS9cbi8vIFxuLy8gQWJvdXQ6IEV4YW1wbGVzXG4vLyBcbi8vIFRoZXNlIHdvcmtpbmcgZXhhbXBsZXMsIGNvbXBsZXRlIHdpdGggZnVsbHkgY29tbWVudGVkIGNvZGUsIGlsbHVzdHJhdGUgYSBmZXdcbi8vIHdheXMgaW4gd2hpY2ggdGhpcyBwbHVnaW4gY2FuIGJlIHVzZWQuXG4vLyBcbi8vIGhhc2hjaGFuZ2UgZXZlbnQgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvaGFzaGNoYW5nZS9cbi8vIGRvY3VtZW50LmRvbWFpbiAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9kb2N1bWVudF9kb21haW4vXG4vLyBcbi8vIEFib3V0OiBTdXBwb3J0IGFuZCBUZXN0aW5nXG4vLyBcbi8vIEluZm9ybWF0aW9uIGFib3V0IHdoYXQgdmVyc2lvbiBvciB2ZXJzaW9ucyBvZiBqUXVlcnkgdGhpcyBwbHVnaW4gaGFzIGJlZW5cbi8vIHRlc3RlZCB3aXRoLCB3aGF0IGJyb3dzZXJzIGl0IGhhcyBiZWVuIHRlc3RlZCBpbiwgYW5kIHdoZXJlIHRoZSB1bml0IHRlc3RzXG4vLyByZXNpZGUgKHNvIHlvdSBjYW4gdGVzdCBpdCB5b3Vyc2VsZikuXG4vLyBcbi8vIGpRdWVyeSBWZXJzaW9ucyAtIDEuMi42LCAxLjMuMiwgMS40LjEsIDEuNC4yXG4vLyBCcm93c2VycyBUZXN0ZWQgLSBJbnRlcm5ldCBFeHBsb3JlciA2LTgsIEZpcmVmb3ggMi00LCBDaHJvbWUgNS02LCBTYWZhcmkgMy4yLTUsXG4vLyAgICAgICAgICAgICAgICAgICBPcGVyYSA5LjYtMTAuNjAsIGlQaG9uZSAzLjEsIEFuZHJvaWQgMS42LTIuMiwgQmxhY2tCZXJyeSA0LjYtNS5cbi8vIFVuaXQgVGVzdHMgICAgICAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS91bml0L1xuLy8gXG4vLyBBYm91dDogS25vd24gaXNzdWVzXG4vLyBcbi8vIFdoaWxlIHRoaXMgalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQgaW1wbGVtZW50YXRpb24gaXMgcXVpdGUgc3RhYmxlIGFuZFxuLy8gcm9idXN0LCB0aGVyZSBhcmUgYSBmZXcgdW5mb3J0dW5hdGUgYnJvd3NlciBidWdzIHN1cnJvdW5kaW5nIGV4cGVjdGVkXG4vLyBoYXNoY2hhbmdlIGV2ZW50LWJhc2VkIGJlaGF2aW9ycywgaW5kZXBlbmRlbnQgb2YgYW55IEphdmFTY3JpcHRcbi8vIHdpbmRvdy5vbmhhc2hjaGFuZ2UgYWJzdHJhY3Rpb24uIFNlZSB0aGUgZm9sbG93aW5nIGV4YW1wbGVzIGZvciBtb3JlXG4vLyBpbmZvcm1hdGlvbjpcbi8vIFxuLy8gQ2hyb21lOiBCYWNrIEJ1dHRvbiAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctY2hyb21lLWJhY2stYnV0dG9uL1xuLy8gRmlyZWZveDogUmVtb3RlIFhNTEh0dHBSZXF1ZXN0IC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2J1Zy1maXJlZm94LXJlbW90ZS14aHIvXG4vLyBXZWJLaXQ6IEJhY2sgQnV0dG9uIGluIGFuIElmcmFtZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctd2Via2l0LWhhc2gtaWZyYW1lL1xuLy8gU2FmYXJpOiBCYWNrIEJ1dHRvbiBmcm9tIGEgZGlmZmVyZW50IGRvbWFpbiAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctc2FmYXJpLWJhY2stZnJvbS1kaWZmLWRvbWFpbi9cbi8vIFxuLy8gQWxzbyBub3RlIHRoYXQgc2hvdWxkIGEgYnJvd3NlciBuYXRpdmVseSBzdXBwb3J0IHRoZSB3aW5kb3cub25oYXNoY2hhbmdlIFxuLy8gZXZlbnQsIGJ1dCBub3QgcmVwb3J0IHRoYXQgaXQgZG9lcywgdGhlIGZhbGxiYWNrIHBvbGxpbmcgbG9vcCB3aWxsIGJlIHVzZWQuXG4vLyBcbi8vIEFib3V0OiBSZWxlYXNlIEhpc3Rvcnlcbi8vIFxuLy8gMS4zICAgLSAoNy8yMS8yMDEwKSBSZW9yZ2FuaXplZCBJRTYvNyBJZnJhbWUgY29kZSB0byBtYWtlIGl0IG1vcmVcbi8vICAgICAgICAgXCJyZW1vdmFibGVcIiBmb3IgbW9iaWxlLW9ubHkgZGV2ZWxvcG1lbnQuIEFkZGVkIElFNi83IGRvY3VtZW50LnRpdGxlXG4vLyAgICAgICAgIHN1cHBvcnQuIEF0dGVtcHRlZCB0byBtYWtlIElmcmFtZSBhcyBoaWRkZW4gYXMgcG9zc2libGUgYnkgdXNpbmdcbi8vICAgICAgICAgdGVjaG5pcXVlcyBmcm9tIGh0dHA6Ly93d3cucGFjaWVsbG9ncm91cC5jb20vYmxvZy8/cD02MDQuIEFkZGVkIFxuLy8gICAgICAgICBzdXBwb3J0IGZvciB0aGUgXCJzaG9ydGN1dFwiIGZvcm1hdCAkKHdpbmRvdykuaGFzaGNoYW5nZSggZm4gKSBhbmRcbi8vICAgICAgICAgJCh3aW5kb3cpLmhhc2hjaGFuZ2UoKSBsaWtlIGpRdWVyeSBwcm92aWRlcyBmb3IgYnVpbHQtaW4gZXZlbnRzLlxuLy8gICAgICAgICBSZW5hbWVkIGpRdWVyeS5oYXNoY2hhbmdlRGVsYXkgdG8gPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5PiBhbmRcbi8vICAgICAgICAgbG93ZXJlZCBpdHMgZGVmYXVsdCB2YWx1ZSB0byA1MC4gQWRkZWQgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbj5cbi8vICAgICAgICAgYW5kIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmM+IHByb3BlcnRpZXMgcGx1cyBkb2N1bWVudC1kb21haW4uaHRtbFxuLy8gICAgICAgICBmaWxlIHRvIGFkZHJlc3MgYWNjZXNzIGRlbmllZCBpc3N1ZXMgd2hlbiBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBpblxuLy8gICAgICAgICBJRTYvNy5cbi8vIDEuMiAgIC0gKDIvMTEvMjAxMCkgRml4ZWQgYSBidWcgd2hlcmUgY29taW5nIGJhY2sgdG8gYSBwYWdlIHVzaW5nIHRoaXMgcGx1Z2luXG4vLyAgICAgICAgIGZyb20gYSBwYWdlIG9uIGFub3RoZXIgZG9tYWluIHdvdWxkIGNhdXNlIGFuIGVycm9yIGluIFNhZmFyaSA0LiBBbHNvLFxuLy8gICAgICAgICBJRTYvNyBJZnJhbWUgaXMgbm93IGluc2VydGVkIGFmdGVyIHRoZSBib2R5ICh0aGlzIGFjdHVhbGx5IHdvcmtzKSxcbi8vICAgICAgICAgd2hpY2ggcHJldmVudHMgdGhlIHBhZ2UgZnJvbSBzY3JvbGxpbmcgd2hlbiB0aGUgZXZlbnQgaXMgZmlyc3QgYm91bmQuXG4vLyAgICAgICAgIEV2ZW50IGNhbiBhbHNvIG5vdyBiZSBib3VuZCBiZWZvcmUgRE9NIHJlYWR5LCBidXQgaXQgd29uJ3QgYmUgdXNhYmxlXG4vLyAgICAgICAgIGJlZm9yZSB0aGVuIGluIElFNi83LlxuLy8gMS4xICAgLSAoMS8yMS8yMDEwKSBJbmNvcnBvcmF0ZWQgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHRlc3QgdG8gZml4IElFOCBidWdcbi8vICAgICAgICAgd2hlcmUgYnJvd3NlciB2ZXJzaW9uIGlzIGluY29ycmVjdGx5IHJlcG9ydGVkIGFzIDguMCwgZGVzcGl0ZVxuLy8gICAgICAgICBpbmNsdXNpb24gb2YgdGhlIFgtVUEtQ29tcGF0aWJsZSBJRT1FbXVsYXRlSUU3IG1ldGEgdGFnLlxuLy8gMS4wICAgLSAoMS85LzIwMTApIEluaXRpYWwgUmVsZWFzZS4gQnJva2Ugb3V0IHRoZSBqUXVlcnkgQkJRIGV2ZW50LnNwZWNpYWxcbi8vICAgICAgICAgd2luZG93Lm9uaGFzaGNoYW5nZSBmdW5jdGlvbmFsaXR5IGludG8gYSBzZXBhcmF0ZSBwbHVnaW4gZm9yIHVzZXJzXG4vLyAgICAgICAgIHdobyB3YW50IGp1c3QgdGhlIGJhc2ljIGV2ZW50ICYgYmFjayBidXR0b24gc3VwcG9ydCwgd2l0aG91dCBhbGwgdGhlXG4vLyAgICAgICAgIGV4dHJhIGF3ZXNvbWVuZXNzIHRoYXQgQkJRIHByb3ZpZGVzLiBUaGlzIHBsdWdpbiB3aWxsIGJlIGluY2x1ZGVkIGFzXG4vLyAgICAgICAgIHBhcnQgb2YgalF1ZXJ5IEJCUSwgYnV0IGFsc28gYmUgYXZhaWxhYmxlIHNlcGFyYXRlbHkuXG5cbihmdW5jdGlvbigkLHdpbmRvdyx1bmRlZmluZWQpe1xuICAnJDpub211bmdlJzsgLy8gVXNlZCBieSBZVUkgY29tcHJlc3Nvci5cbiAgXG4gIC8vIFJldXNlZCBzdHJpbmcuXG4gIHZhciBzdHJfaGFzaGNoYW5nZSA9ICdoYXNoY2hhbmdlJyxcbiAgICBcbiAgICAvLyBNZXRob2QgLyBvYmplY3QgcmVmZXJlbmNlcy5cbiAgICBkb2MgPSBkb2N1bWVudCxcbiAgICBmYWtlX29uaGFzaGNoYW5nZSxcbiAgICBzcGVjaWFsID0gJC5ldmVudC5zcGVjaWFsLFxuICAgIFxuICAgIC8vIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCB3aW5kb3cub25oYXNoY2hhbmdlPyBOb3RlIHRoYXQgSUU4IHJ1bm5pbmcgaW5cbiAgICAvLyBJRTcgY29tcGF0aWJpbGl0eSBtb2RlIHJlcG9ydHMgdHJ1ZSBmb3IgJ29uaGFzaGNoYW5nZScgaW4gd2luZG93LCBldmVuXG4gICAgLy8gdGhvdWdoIHRoZSBldmVudCBpc24ndCBzdXBwb3J0ZWQsIHNvIGFsc28gdGVzdCBkb2N1bWVudC5kb2N1bWVudE1vZGUuXG4gICAgZG9jX21vZGUgPSBkb2MuZG9jdW1lbnRNb2RlLFxuICAgIHN1cHBvcnRzX29uaGFzaGNoYW5nZSA9ICdvbicgKyBzdHJfaGFzaGNoYW5nZSBpbiB3aW5kb3cgJiYgKCBkb2NfbW9kZSA9PT0gdW5kZWZpbmVkIHx8IGRvY19tb2RlID4gNyApO1xuICBcbiAgLy8gR2V0IGxvY2F0aW9uLmhhc2ggKG9yIHdoYXQgeW91J2QgZXhwZWN0IGxvY2F0aW9uLmhhc2ggdG8gYmUpIHNhbnMgYW55XG4gIC8vIGxlYWRpbmcgIy4gVGhhbmtzIGZvciBtYWtpbmcgdGhpcyBuZWNlc3NhcnksIEZpcmVmb3ghXG4gIGZ1bmN0aW9uIGdldF9mcmFnbWVudCggdXJsICkge1xuICAgIHVybCA9IHVybCB8fCBsb2NhdGlvbi5ocmVmO1xuICAgIHJldHVybiAnIycgKyB1cmwucmVwbGFjZSggL15bXiNdKiM/KC4qKSQvLCAnJDEnICk7XG4gIH07XG4gIFxuICAvLyBNZXRob2Q6IGpRdWVyeS5mbi5oYXNoY2hhbmdlXG4gIC8vIFxuICAvLyBCaW5kIGEgaGFuZGxlciB0byB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBvciB0cmlnZ2VyIGFsbCBib3VuZFxuICAvLyB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzLiBUaGlzIGJlaGF2aW9yIGlzIGNvbnNpc3RlbnQgd2l0aFxuICAvLyBqUXVlcnkncyBidWlsdC1pbiBldmVudCBoYW5kbGVycy5cbiAgLy8gXG4gIC8vIFVzYWdlOlxuICAvLyBcbiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCBbIGhhbmRsZXIgXSApO1xuICAvLyBcbiAgLy8gQXJndW1lbnRzOlxuICAvLyBcbiAgLy8gIGhhbmRsZXIgLSAoRnVuY3Rpb24pIE9wdGlvbmFsIGhhbmRsZXIgdG8gYmUgYm91bmQgdG8gdGhlIGhhc2hjaGFuZ2VcbiAgLy8gICAgZXZlbnQuIFRoaXMgaXMgYSBcInNob3J0Y3V0XCIgZm9yIHRoZSBtb3JlIHZlcmJvc2UgZm9ybTpcbiAgLy8gICAgalF1ZXJ5KHdpbmRvdykuYmluZCggJ2hhc2hjaGFuZ2UnLCBoYW5kbGVyICkuIElmIGhhbmRsZXIgaXMgb21pdHRlZCxcbiAgLy8gICAgYWxsIGJvdW5kIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgaGFuZGxlcnMgd2lsbCBiZSB0cmlnZ2VyZWQuIFRoaXNcbiAgLy8gICAgaXMgYSBzaG9ydGN1dCBmb3IgdGhlIG1vcmUgdmVyYm9zZVxuICAvLyAgICBqUXVlcnkod2luZG93KS50cmlnZ2VyKCAnaGFzaGNoYW5nZScgKS4gVGhlc2UgZm9ybXMgYXJlIGRlc2NyaWJlZCBpblxuICAvLyAgICB0aGUgPGhhc2hjaGFuZ2UgZXZlbnQ+IHNlY3Rpb24uXG4gIC8vIFxuICAvLyBSZXR1cm5zOlxuICAvLyBcbiAgLy8gIChqUXVlcnkpIFRoZSBpbml0aWFsIGpRdWVyeSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzLlxuICBcbiAgLy8gQWxsb3cgdGhlIFwic2hvcnRjdXRcIiBmb3JtYXQgJChlbGVtKS5oYXNoY2hhbmdlKCBmbiApIGZvciBiaW5kaW5nIGFuZFxuICAvLyAkKGVsZW0pLmhhc2hjaGFuZ2UoKSBmb3IgdHJpZ2dlcmluZywgbGlrZSBqUXVlcnkgZG9lcyBmb3IgYnVpbHQtaW4gZXZlbnRzLlxuICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdID0gZnVuY3Rpb24oIGZuICkge1xuICAgIHJldHVybiBmbiA/IHRoaXMuYmluZCggc3RyX2hhc2hjaGFuZ2UsIGZuICkgOiB0aGlzLnRyaWdnZXIoIHN0cl9oYXNoY2hhbmdlICk7XG4gIH07XG4gIFxuICAvLyBQcm9wZXJ0eTogalF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZGVsYXlcbiAgLy8gXG4gIC8vIFRoZSBudW1lcmljIGludGVydmFsIChpbiBtaWxsaXNlY29uZHMpIGF0IHdoaWNoIHRoZSA8aGFzaGNoYW5nZSBldmVudD5cbiAgLy8gcG9sbGluZyBsb29wIGV4ZWN1dGVzLiBEZWZhdWx0cyB0byA1MC5cbiAgXG4gIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW5cbiAgLy8gXG4gIC8vIElmIHlvdSdyZSBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBpbiB5b3VyIEphdmFTY3JpcHQsIGFuZCB5b3Ugd2FudCBoYXNoXG4gIC8vIGhpc3RvcnkgdG8gd29yayBpbiBJRTYvNywgbm90IG9ubHkgbXVzdCB0aGlzIHByb3BlcnR5IGJlIHNldCwgYnV0IHlvdSBtdXN0XG4gIC8vIGFsc28gc2V0IGRvY3VtZW50LmRvbWFpbiBCRUZPUkUgalF1ZXJ5IGlzIGxvYWRlZCBpbnRvIHRoZSBwYWdlLiBUaGlzXG4gIC8vIHByb3BlcnR5IGlzIG9ubHkgYXBwbGljYWJsZSBpZiB5b3UgYXJlIHN1cHBvcnRpbmcgSUU2LzcgKG9yIElFOCBvcGVyYXRpbmdcbiAgLy8gaW4gXCJJRTcgY29tcGF0aWJpbGl0eVwiIG1vZGUpLlxuICAvLyBcbiAgLy8gSW4gYWRkaXRpb24sIHRoZSA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjPiBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byB0aGVcbiAgLy8gcGF0aCBvZiB0aGUgaW5jbHVkZWQgXCJkb2N1bWVudC1kb21haW4uaHRtbFwiIGZpbGUsIHdoaWNoIGNhbiBiZSByZW5hbWVkIG9yXG4gIC8vIG1vZGlmaWVkIGlmIG5lY2Vzc2FyeSAobm90ZSB0aGF0IHRoZSBkb2N1bWVudC5kb21haW4gc3BlY2lmaWVkIG11c3QgYmUgdGhlXG4gIC8vIHNhbWUgaW4gYm90aCB5b3VyIG1haW4gSmF2YVNjcmlwdCBhcyB3ZWxsIGFzIGluIHRoaXMgZmlsZSkuXG4gIC8vIFxuICAvLyBVc2FnZTpcbiAgLy8gXG4gIC8vIGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbiA9IGRvY3VtZW50LmRvbWFpbjtcbiAgXG4gIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmNcbiAgLy8gXG4gIC8vIElmLCBmb3Igc29tZSByZWFzb24sIHlvdSBuZWVkIHRvIHNwZWNpZnkgYW4gSWZyYW1lIHNyYyBmaWxlIChmb3IgZXhhbXBsZSxcbiAgLy8gd2hlbiBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBhcyBpbiA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluPiksIHlvdSBjYW5cbiAgLy8gZG8gc28gdXNpbmcgdGhpcyBwcm9wZXJ0eS4gTm90ZSB0aGF0IHdoZW4gdXNpbmcgdGhpcyBwcm9wZXJ0eSwgaGlzdG9yeVxuICAvLyB3b24ndCBiZSByZWNvcmRlZCBpbiBJRTYvNyB1bnRpbCB0aGUgSWZyYW1lIHNyYyBmaWxlIGxvYWRzLiBUaGlzIHByb3BlcnR5XG4gIC8vIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB5b3UgYXJlIHN1cHBvcnRpbmcgSUU2LzcgKG9yIElFOCBvcGVyYXRpbmcgaW4gXCJJRTdcbiAgLy8gY29tcGF0aWJpbGl0eVwiIG1vZGUpLlxuICAvLyBcbiAgLy8gVXNhZ2U6XG4gIC8vIFxuICAvLyBqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmMgPSAncGF0aC90by9maWxlLmh0bWwnO1xuICBcbiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kZWxheSA9IDUwO1xuICAvKlxuICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRvbWFpbiA9IG51bGw7XG4gICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uc3JjID0gbnVsbDtcbiAgKi9cbiAgXG4gIC8vIEV2ZW50OiBoYXNoY2hhbmdlIGV2ZW50XG4gIC8vIFxuICAvLyBGaXJlZCB3aGVuIGxvY2F0aW9uLmhhc2ggY2hhbmdlcy4gSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LCB0aGUgbmF0aXZlXG4gIC8vIEhUTUw1IHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgaXMgdXNlZCwgb3RoZXJ3aXNlIGEgcG9sbGluZyBsb29wIGlzXG4gIC8vIGluaXRpYWxpemVkLCBydW5uaW5nIGV2ZXJ5IDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5kZWxheT4gbWlsbGlzZWNvbmRzIHRvXG4gIC8vIHNlZSBpZiB0aGUgaGFzaCBoYXMgY2hhbmdlZC4gSW4gSUU2LzcgKGFuZCBJRTggb3BlcmF0aW5nIGluIFwiSUU3XG4gIC8vIGNvbXBhdGliaWxpdHlcIiBtb2RlKSwgYSBoaWRkZW4gSWZyYW1lIGlzIGNyZWF0ZWQgdG8gYWxsb3cgdGhlIGJhY2sgYnV0dG9uXG4gIC8vIGFuZCBoYXNoLWJhc2VkIGhpc3RvcnkgdG8gd29yay5cbiAgLy8gXG4gIC8vIFVzYWdlIGFzIGRlc2NyaWJlZCBpbiA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2U+OlxuICAvLyBcbiAgLy8gPiAvLyBCaW5kIGFuIGV2ZW50IGhhbmRsZXIuXG4gIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSggZnVuY3Rpb24oZSkge1xuICAvLyA+ICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICAvLyA+ICAgLi4uXG4gIC8vID4gfSk7XG4gIC8vID4gXG4gIC8vID4gLy8gTWFudWFsbHkgdHJpZ2dlciB0aGUgZXZlbnQgaGFuZGxlci5cbiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCk7XG4gIC8vIFxuICAvLyBBIG1vcmUgdmVyYm9zZSB1c2FnZSB0aGF0IGFsbG93cyBmb3IgZXZlbnQgbmFtZXNwYWNpbmc6XG4gIC8vIFxuICAvLyA+IC8vIEJpbmQgYW4gZXZlbnQgaGFuZGxlci5cbiAgLy8gPiBqUXVlcnkod2luZG93KS5iaW5kKCAnaGFzaGNoYW5nZScsIGZ1bmN0aW9uKGUpIHtcbiAgLy8gPiAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgLy8gPiAgIC4uLlxuICAvLyA+IH0pO1xuICAvLyA+IFxuICAvLyA+IC8vIE1hbnVhbGx5IHRyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIuXG4gIC8vID4galF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICk7XG4gIC8vIFxuICAvLyBBZGRpdGlvbmFsIE5vdGVzOlxuICAvLyBcbiAgLy8gKiBUaGUgcG9sbGluZyBsb29wIGFuZCBJZnJhbWUgYXJlIG5vdCBjcmVhdGVkIHVudGlsIGF0IGxlYXN0IG9uZSBoYW5kbGVyXG4gIC8vICAgaXMgYWN0dWFsbHkgYm91bmQgdG8gdGhlICdoYXNoY2hhbmdlJyBldmVudC5cbiAgLy8gKiBJZiB5b3UgbmVlZCB0aGUgYm91bmQgaGFuZGxlcihzKSB0byBleGVjdXRlIGltbWVkaWF0ZWx5LCBpbiBjYXNlcyB3aGVyZVxuICAvLyAgIGEgbG9jYXRpb24uaGFzaCBleGlzdHMgb24gcGFnZSBsb2FkLCB2aWEgYm9va21hcmsgb3IgcGFnZSByZWZyZXNoIGZvclxuICAvLyAgIGV4YW1wbGUsIHVzZSBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCkgb3IgdGhlIG1vcmUgdmVyYm9zZSBcbiAgLy8gICBqUXVlcnkod2luZG93KS50cmlnZ2VyKCAnaGFzaGNoYW5nZScgKS5cbiAgLy8gKiBUaGUgZXZlbnQgY2FuIGJlIGJvdW5kIGJlZm9yZSBET00gcmVhZHksIGJ1dCBzaW5jZSBpdCB3b24ndCBiZSB1c2FibGVcbiAgLy8gICBiZWZvcmUgdGhlbiBpbiBJRTYvNyAoZHVlIHRvIHRoZSBuZWNlc3NhcnkgSWZyYW1lKSwgcmVjb21tZW5kZWQgdXNhZ2UgaXNcbiAgLy8gICB0byBiaW5kIGl0IGluc2lkZSBhIERPTSByZWFkeSBoYW5kbGVyLlxuICBcbiAgLy8gT3ZlcnJpZGUgZXhpc3RpbmcgJC5ldmVudC5zcGVjaWFsLmhhc2hjaGFuZ2UgbWV0aG9kcyAoYWxsb3dpbmcgdGhpcyBwbHVnaW5cbiAgLy8gdG8gYmUgZGVmaW5lZCBhZnRlciBqUXVlcnkgQkJRIGluIEJCUSdzIHNvdXJjZSBjb2RlKS5cbiAgc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSA9ICQuZXh0ZW5kKCBzcGVjaWFsWyBzdHJfaGFzaGNoYW5nZSBdLCB7XG4gICAgXG4gICAgLy8gQ2FsbGVkIG9ubHkgd2hlbiB0aGUgZmlyc3QgJ2hhc2hjaGFuZ2UnIGV2ZW50IGlzIGJvdW5kIHRvIHdpbmRvdy5cbiAgICBzZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBJZiB3aW5kb3cub25oYXNoY2hhbmdlIGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgdGhlcmUncyBub3RoaW5nIHRvIGRvLi5cbiAgICAgIGlmICggc3VwcG9ydHNfb25oYXNoY2hhbmdlICkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgIFxuICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvdXIgb3duLiBBbmQgd2UgZG9uJ3Qgd2FudCB0byBjYWxsIHRoaXNcbiAgICAgIC8vIHVudGlsIHRoZSB1c2VyIGJpbmRzIHRvIHRoZSBldmVudCwganVzdCBpbiBjYXNlIHRoZXkgbmV2ZXIgZG8sIHNpbmNlIGl0XG4gICAgICAvLyB3aWxsIGNyZWF0ZSBhIHBvbGxpbmcgbG9vcCBhbmQgcG9zc2libHkgZXZlbiBhIGhpZGRlbiBJZnJhbWUuXG4gICAgICAkKCBmYWtlX29uaGFzaGNoYW5nZS5zdGFydCApO1xuICAgIH0sXG4gICAgXG4gICAgLy8gQ2FsbGVkIG9ubHkgd2hlbiB0aGUgbGFzdCAnaGFzaGNoYW5nZScgZXZlbnQgaXMgdW5ib3VuZCBmcm9tIHdpbmRvdy5cbiAgICB0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBJZiB3aW5kb3cub25oYXNoY2hhbmdlIGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgdGhlcmUncyBub3RoaW5nIHRvIGRvLi5cbiAgICAgIGlmICggc3VwcG9ydHNfb25oYXNoY2hhbmdlICkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgIFxuICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHN0b3Agb3VycyAoaWYgcG9zc2libGUpLlxuICAgICAgJCggZmFrZV9vbmhhc2hjaGFuZ2Uuc3RvcCApO1xuICAgIH1cbiAgICBcbiAgfSk7XG4gIFxuICAvLyBmYWtlX29uaGFzaGNoYW5nZSBkb2VzIGFsbCB0aGUgd29yayBvZiB0cmlnZ2VyaW5nIHRoZSB3aW5kb3cub25oYXNoY2hhbmdlXG4gIC8vIGV2ZW50IGZvciBicm93c2VycyB0aGF0IGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQsIGluY2x1ZGluZyBjcmVhdGluZyBhXG4gIC8vIHBvbGxpbmcgbG9vcCB0byB3YXRjaCBmb3IgaGFzaCBjaGFuZ2VzIGFuZCBpbiBJRSA2LzcgY3JlYXRpbmcgYSBoaWRkZW5cbiAgLy8gSWZyYW1lIHRvIGVuYWJsZSBiYWNrIGFuZCBmb3J3YXJkLlxuICBmYWtlX29uaGFzaGNoYW5nZSA9IChmdW5jdGlvbigpe1xuICAgIHZhciBzZWxmID0ge30sXG4gICAgICB0aW1lb3V0X2lkLFxuICAgICAgXG4gICAgICAvLyBSZW1lbWJlciB0aGUgaW5pdGlhbCBoYXNoIHNvIGl0IGRvZXNuJ3QgZ2V0IHRyaWdnZXJlZCBpbW1lZGlhdGVseS5cbiAgICAgIGxhc3RfaGFzaCA9IGdldF9mcmFnbWVudCgpLFxuICAgICAgXG4gICAgICBmbl9yZXR2YWwgPSBmdW5jdGlvbih2YWwpeyByZXR1cm4gdmFsOyB9LFxuICAgICAgaGlzdG9yeV9zZXQgPSBmbl9yZXR2YWwsXG4gICAgICBoaXN0b3J5X2dldCA9IGZuX3JldHZhbDtcbiAgICBcbiAgICAvLyBTdGFydCB0aGUgcG9sbGluZyBsb29wLlxuICAgIHNlbGYuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRpbWVvdXRfaWQgfHwgcG9sbCgpO1xuICAgIH07XG4gICAgXG4gICAgLy8gU3RvcCB0aGUgcG9sbGluZyBsb29wLlxuICAgIHNlbGYuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGltZW91dF9pZCAmJiBjbGVhclRpbWVvdXQoIHRpbWVvdXRfaWQgKTtcbiAgICAgIHRpbWVvdXRfaWQgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBcbiAgICAvLyBUaGlzIHBvbGxpbmcgbG9vcCBjaGVja3MgZXZlcnkgJC5mbi5oYXNoY2hhbmdlLmRlbGF5IG1pbGxpc2Vjb25kcyB0byBzZWVcbiAgICAvLyBpZiBsb2NhdGlvbi5oYXNoIGhhcyBjaGFuZ2VkLCBhbmQgdHJpZ2dlcnMgdGhlICdoYXNoY2hhbmdlJyBldmVudCBvblxuICAgIC8vIHdpbmRvdyB3aGVuIG5lY2Vzc2FyeS5cbiAgICBmdW5jdGlvbiBwb2xsKCkge1xuICAgICAgdmFyIGhhc2ggPSBnZXRfZnJhZ21lbnQoKSxcbiAgICAgICAgaGlzdG9yeV9oYXNoID0gaGlzdG9yeV9nZXQoIGxhc3RfaGFzaCApO1xuICAgICAgXG4gICAgICBpZiAoIGhhc2ggIT09IGxhc3RfaGFzaCApIHtcbiAgICAgICAgaGlzdG9yeV9zZXQoIGxhc3RfaGFzaCA9IGhhc2gsIGhpc3RvcnlfaGFzaCApO1xuICAgICAgICBcbiAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoIHN0cl9oYXNoY2hhbmdlICk7XG4gICAgICAgIFxuICAgICAgfSBlbHNlIGlmICggaGlzdG9yeV9oYXNoICE9PSBsYXN0X2hhc2ggKSB7XG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoIC8jLiovLCAnJyApICsgaGlzdG9yeV9oYXNoO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aW1lb3V0X2lkID0gc2V0VGltZW91dCggcG9sbCwgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kZWxheSApO1xuICAgIH07XG4gICAgXG4gICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2XG4gICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2diBSRU1PVkUgSUYgTk9UIFNVUFBPUlRJTkcgSUU2LzcvOCB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2XG4gICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2XG5cbiAgICAvLyBzbmlwcGV0IHJlbW92ZWQgYnkgcGdib3ZpbmVcblxuICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXlxuICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl4gUkVNT1ZFIElGIE5PVCBTVVBQT1JUSU5HIElFNi83LzggXl5eXl5eXl5eXl5eXl5eXl5eXlxuICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXlxuICAgIFxuICAgIHJldHVybiBzZWxmO1xuICB9KSgpO1xuICBcbn0pKGpRdWVyeSx0aGlzKTtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMCkpKVxuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBhcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkO1xuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmksIFwiLypcXG5cXG5PbmxpbmUgUHl0aG9uIFR1dG9yXFxuaHR0cHM6Ly9naXRodWIuY29tL3BnYm92aW5lL09ubGluZVB5dGhvblR1dG9yL1xcblxcbkNvcHlyaWdodCAoQykgUGhpbGlwIEouIEd1byAocGhpbGlwQHBnYm92aW5lLm5ldClcXG5cXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxcbmNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcXG5cXFwiU29mdHdhcmVcXFwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXFxud2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxcbmRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xcbnBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0b1xcbnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcXG5cXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxcbmluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxcblxcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcXFwiQVMgSVNcXFwiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXFxuT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxcbk1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC5cXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWVxcbkNMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsXFxuVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEVcXG5TT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cXG5cXG4qL1xcblxcbi8qIE1vc3QgcmVjZW50IGNvbG9yIHNjaGVtZSByZWRlc2lnbiBvbiAyMDEyLTA4LTE5ICovXFxuXFxuLyogVG8gcHJldmVudCBDU1MgbmFtZXNwYWNlIGNsYXNoZXMsIHByZWZpeCBhbGwgcnVsZXMgd2l0aDpcXG4gICAgIGRpdi5FeGVjdXRpb25WaXN1YWxpemVyXFxuKi9cXG5cXG5cXG4vKiByZXNldCBzb21lIHN0eWxlcyB0byBudWxsaWZ5IGVmZmVjdHMgb2YgZXhpc3Rpbmcgc3R5bGVzaGVldHNcXG4gICBlLmcuLCBodHRwOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY3NzL3Jlc2V0L1xcbiovXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIge1xcbiAgLyogbm9uZSBmb3Igbm93ICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnZpc3VhbGl6ZXIge1xcbiAgZm9udC1mYW1pbHk6IHZlcmRhbmEsIGFyaWFsLCBoZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDEwcHQ7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS52aXN1YWxpemVyIHRkLnZpekxheW91dFRkIHtcXG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkI3N0YWNrX3RkLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkI2hlYXBfdGQge1xcbiAgdmVydGljYWwtYWxpZ246dG9wO1xcbiAgZm9udC1zaXplOiAxMHB0OyAvKiBkb24ndCBtYWtlIGZvbnRzIGluIHRoZSBoZWFwIHNvIGJpZyEgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2RhdGFWaXoge1xcbiAgLyptYXJnaW4tbGVmdDogMjVweDsqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjc2VsZWN0aXZlSGlkZVN0YXR1cyB7XFxuICAvKm1hcmdpbi1sZWZ0OiAyNXB4OyovXFxuICBmb250LXNpemU6IDlwdDtcXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxuICBtYXJnaW4tbGVmdDogMTNweDtcXG59XFxuXFxuLypcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjY29kZURpc3BsYXlEaXYge1xcbiAgd2lkdGg6IDU1MHB4O1xcbn1cXG4qL1xcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNweUNvZGVPdXRwdXREaXYge1xcbiAgLyptYXgtd2lkdGg6IDU1MHB4OyovXFxuICBtYXgtaGVpZ2h0OiA0NjBweDtcXG4gIC8qbWF4LWhlaWdodDogNjIwcHg7Ki9cXG4gIG92ZXJmbG93OiBhdXRvO1xcbiAgLyptYXJnaW4tYm90dG9tOiA0cHg7Ki9cXG5cXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZSNweUNvZGVPdXRwdXQge1xcbiAgZm9udC1mYW1pbHk6IEFuZGFsZSBtb25vLCBtb25vc3BhY2U7XFxuICAvKmZvbnQtc2l6ZToxMnB0OyovXFxuICBmb250LXNpemU6MTFwdDtcXG4gIGxpbmUtaGVpZ2h0OjEuMWVtO1xcblxcbiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsgLyogc29tZSBjcmF6eSBDU1Mgdm9vZG9vIHRoYXQgbmVlZHMgdG8gYmVcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZXJlIHNvIHRoYXQgU1ZHIGFycm93cyB0byB0aGUgbGVmdFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIGNvZGUgbGluZSB1cCB2ZXJ0aWNhbGx5IGluIENocm9tZSAqL1xcbiAgYm9yZGVyLXNwYWNpbmc6IDBweDtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjYmJiO1xcbiAgcGFkZGluZy10b3A6IDNweDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYmJiO1xcbiAgLyptYXJnaW4tdG9wOiA2cHg7Ki9cXG4gIG1hcmdpbjogNnB4IGF1dG87IC8qIENlbnRlciBjb2RlIGluIGl0cyBwYW5lICovXFxufVxcblxcbi8qIGRvbid0IHdyYXAgbGluZXMgd2l0aGluIGNvZGUgb3V0cHV0IC4uLiBGT1JDRSBzY3JvbGxiYXJzIHRvIGFwcGVhciAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlI3B5Q29kZU91dHB1dCB0ZCB7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgLyogZXhwbGljaXRseSBmb3JjZSwgdG8gb3ZlcnJpZGUgZXh0ZXJuYWwgQ1NTIGNvbmZsaWN0cyAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjbGVmdENvZGVHdXR0ZXJTVkcge1xcbiAgd2lkdGg6IDE4cHg7XFxuICBtaW4td2lkdGg6IDE4cHg7IC8qIG1ha2Ugc3VyZSBpdCBkb2Vzbid0IHNxdWFzaCB0b28gdGhpbiAqL1xcbiAgaGVpZ2h0OiAwcHg7IC8qIHByb2dyYW1tYXRpY2FsbHkgc2V0IHRoaXMgbGF0ZXIgLi4uIElFIG5lZWRzIHRoaXMgdG9cXG4gICAgICAgICAgICAgICAgICBiZSAwIG9yIGl0IGRlZmF1bHRzIHRvIHNvbWV0aGluZyBhcmJpdHJhcnkgYW5kIGdyb3NzICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNwcmV2TGVnZW5kQXJyb3dTVkcsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2N1ckxlZ2VuZEFycm93U1ZHIHtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuYXJyb3cge1xcbiAgZm9udC1zaXplOiAxNnB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZSNweUNvZGVPdXRwdXQgLmxpbmVObyB7XFxuICBjb2xvcjogI2FhYTtcXG4gIHBhZGRpbmc6IDAuMmVtO1xcbiAgcGFkZGluZy1sZWZ0OiAwLjNlbTtcXG4gIHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlI3B5Q29kZU91dHB1dCAuY29kIHtcXG4gIC8qZm9udC13ZWlnaHQ6IGJvbGQ7Ki9cXG4gIG1hcmdpbi1sZWZ0OiAzcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDdweDtcXG4gIHRleHQtYWxpZ246IGxlZnQ7IC8qIG5lY2Vzc2FyeSBvciBlbHNlIGRvZXNuJ3Qgd29yayBwcm9wZXJseSBpbiBJRSAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjcHJvZ091dHB1dHMge1xcbiAgbWFyZ2luLWxlZnQ6IDEzcHg7IC8qIGxpbmUgdXAgd2l0aCBoZWFwIHZpc3VhbGl6YXRpb25zICovXFxuICBtYXJnaW4tYm90dG9tOiAzcHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNsZWdlbmREaXYge1xcbiAgcGFkZGluZzogMHB4O1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGNvbG9yOiAjNjY2O1xcbiAgZm9udC1zaXplOiA5cHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNlZGl0Q29kZUxpbmtEaXYge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgLypcXG4gIG1hcmdpbi10b3A6IDEycHg7XFxuICBtYXJnaW4tYm90dG9tOiA0cHg7XFxuICAqL1xcbiAgbWFyZ2luOiA4cHggYXV0bztcXG4gIGZvbnQtc2l6ZTogMTFwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I2Fubm90YXRlTGlua0RpdiB7XFxuICAvKnRleHQtYWxpZ246IGxlZnQ7Ki9cXG4gIG1hcmdpbi10b3A6IDBweDtcXG4gIG1hcmdpbi1ib3R0b206IDEycHg7XFxuICAvKlxcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XFxuICAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjc3RlcEFubm90YXRpb25EaXYge1xcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGV4dGFyZWEjc3RlcEFubm90YXRpb25FZGl0b3IsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGV4dGFyZWEjdml6VGl0bGVFZGl0b3IsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGV4dGFyZWEjdml6RGVzY3JpcHRpb25FZGl0b3Ige1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTk5OTtcXG4gIHBhZGRpbmc6IDRweDtcXG5cXG4gIG92ZXJmbG93OiBhdXRvOyAvKiB0byBsb29rIHByZXR0eSBvbiBJRSAqL1xcbiAgLyogbWFrZSBzdXJlIHRleHRhcmVhIGRvZXNuJ3QgZ3JvdyBhbmQgc3RyZXRjaCAqL1xcbiAgcmVzaXplOiBub25lO1xcbn1cXG5cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjZXJyb3JPdXRwdXQge1xcbiAgY29sb3I6ICNlOTNmMzQ7IC8qIHNob3VsZCBtYXRjaCBicmlnaHRSZWQgSmF2YVNjcmlwdCB2YXJpYWJsZSAqL1xcbiAgZm9udC1zaXplOiAxMXB0O1xcbiAgcGFkZGluZy10b3A6IDJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjVlbTtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG59XFxuXFxuLyogVkNSIGNvbnRyb2wgYnV0dG9ucyBmb3Igc3RlcHBpbmcgdGhyb3VnaCBleGVjdXRpb24gKi9cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjdmNyQ29udHJvbHMge1xcbiAgbWFyZ2luLXRvcDogMTVweDtcXG4gIG1hcmdpbi1ib3R0b206IDZweDtcXG4gIC8qd2lkdGg6IDEwMCU7Ki9cXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI3ZjckNvbnRyb2xzIGJ1dHRvbiB7XFxuICBtYXJnaW4tbGVmdDogMnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNjdXJJbnN0ciB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNweVN0ZG91dCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5OTk5O1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbiAgcGFkZGluZzogM3B4O1xcbiAgZm9udC1mYW1pbHk6IEFuZGFsZSBtb25vLCBtb25vc3BhY2U7XFxuXFxuICBvdmVyZmxvdzogYXV0bzsgLyogdG8gbG9vayBwcmV0dHkgb24gSUUgKi9cXG4gIC8qIG1ha2Ugc3VyZSB0ZXh0YXJlYSBkb2Vzbid0IGdyb3cgYW5kIHN0cmV0Y2ggKi9cXG4gIHJlc2l6ZTogbm9uZTtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnZpekZyYW1lIHtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxuICBwYWRkaW5nLWxlZnQ6IDhweDtcXG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgI2NjY2NjYztcXG59XFxuXFxuXFxuLyogUmVuZGVyaW5nIG9mIHByaW1pdGl2ZSB0eXBlcyAqL1xcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5pbXBvcnRlZE9iaiB7XFxuICBmb250LXNpemU6IDhwdDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLm51bGxPYmoge1xcbi8qICBmb250LXNpemU6IDhwdDsgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnN0cmluZ09iaixcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuY3VzdG9tT2JqLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5mdW5jT2JqIHtcXG4gIGZvbnQtZmFtaWx5OiBBbmRhbGUgbW9ubywgbW9ub3NwYWNlO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLmZ1bmNDb2RlIHtcXG4gIGZvbnQtc2l6ZTogOHB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAucmV0dmFsIHtcXG4gIGZvbnQtc2l6ZTogOXB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuc3RhY2tGcmFtZSAucmV0dmFsIHtcXG4gIGNvbG9yOiAjZTkzZjM0OyAvKiBoaWdobGlnaHQgbm9uLXpvbWJpZSBzdGFjayBmcmFtZSByZXR1cm4gdmFsdWVzIC1cXG4gICAgICAgICAgICAgICAgICAgICBzaG91bGQgbWF0Y2ggYnJpZ2h0UmVkIEphdmFTY3JpcHQgdmFyaWFibGUgKi9cXG59XFxuXFxuLyogUmVuZGVyaW5nIG9mIGJhc2ljIGNvbXBvdW5kIHR5cGVzICovXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUubGlzdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS50dXBsZVRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5zZXRUYmwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZjNjtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUubGlzdFRibCB7XFxuICBib3JkZXI6IDBweCBzb2xpZCBibGFjaztcXG4gIGJvcmRlci1zcGFjaW5nOiAwcHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmxpc3RUYmwgdGQubGlzdEhlYWRlcixcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS50dXBsZVRibCB0ZC50dXBsZUhlYWRlciB7XFxuICBwYWRkaW5nLWxlZnQ6IDRweDtcXG4gIHBhZGRpbmctdG9wOiAycHg7XFxuICBwYWRkaW5nLWJvdHRvbTogM3B4O1xcbiAgZm9udC1zaXplOiA4cHQ7XFxuICBjb2xvcjogIzc3NztcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICM1NTU1NTU7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnR1cGxlVGJsIHtcXG4gIGJvcmRlci1zcGFjaW5nOiAwcHg7XFxuICBjb2xvcjogYmxhY2s7XFxuXFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzU1NTU1NTsgLyogbXVzdCBtYXRjaCB0ZC50dXBsZUhlYWRlciBib3JkZXIgKi9cXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjNTU1NTU1OyAvKiBtdXN0IG1hdGNoIHRkLnR1cGxlSGVhZGVyIGJvcmRlciAqL1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzU1NTU1NTsgLyogbXVzdCBtYXRjaCB0ZC50dXBsZUhlYWRlciBib3JkZXIgKi9cXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUubGlzdFRibCB0ZC5saXN0RWx0IHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNTU1NTU1OyAvKiBtdXN0IG1hdGNoIHRkLmxpc3RIZWFkZXIgYm9yZGVyICovXFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICM1NTU1NTU7IC8qIG11c3QgbWF0Y2ggdGQubGlzdEhlYWRlciBib3JkZXIgKi9cXG59XFxuXFxuXFxuLyogZm9yIEMgYW5kIEMrKyB2aXN1YWxpemF0aW9ucyAqL1xcblxcbi8qIG1ha2UgdGhpcyBzbGlnaHRseSBtb3JlIGNvbXBhY3QgdGhhbiBsaXN0VGJsIHNpbmNlIGFycmF5cyBjYW4gYmVcXG4gICByZW5kZXJlZCBvbiB0aGUgc3RhY2sgc28gd2Ugd2FudCB0byBraW5kYSBjb25zZXJ2ZSBzcGFjZSAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNBcnJheVRibCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmM2O1xcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XFxuICBwYWRkaW5nLXRvcDogMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDBweDtcXG4gIGZvbnQtc2l6ZTogOHB0O1xcbiAgY29sb3I6ICM3Nzc7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgYm9yZGVyOiAwcHggc29saWQgYmxhY2s7XFxuICBib3JkZXItc3BhY2luZzogMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jQXJyYXlUYmwgdGQuY0FycmF5SGVhZGVyIHtcXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgcGFkZGluZy10b3A6IDBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAycHg7XFxuICBmb250LXNpemU6IDZwdDtcXG4gIGNvbG9yOiAjNzc3O1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGJvcmRlci1ib3R0b206IDBweCBzb2xpZCBibGFjazsgLyogb3ZlcnJpZGUgd2hhdGV2ZXIgd2UncmUgbmVzdGVkIGluICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNBcnJheVRibCB0ZC5jQXJyYXlFbHQge1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM4ODg7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICM4ODg7XFxuICBib3JkZXItdG9wOiAwcHggc29saWQgYmxhY2s7XFxuICBjb2xvcjogYmxhY2s7XFxuXFxuICBwYWRkaW5nLXRvcDogMnB4O1xcbiAgcGFkZGluZy1ib3R0b206IDRweDtcXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgcGFkZGluZy1yaWdodDogNHB4O1xcbiAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY0FycmF5VGJsIHRkLmNNdWx0aWRpbUFycmF5SGVhZGVyIHtcXG4gIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgcGFkZGluZy1yaWdodDogNXB4O1xcbiAgcGFkZGluZy10b3A6IDFweDtcXG4gIHBhZGRpbmctYm90dG9tOiAzcHg7XFxuICBmb250LXNpemU6IDZwdDtcXG4gIGNvbG9yOiAjNzc3O1xcbiAgdGV4dC1hbGlnbjogbGVmdDtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLWJvdHRvbTogMHB4IHNvbGlkIGJsYWNrOyAvKiBvdmVycmlkZSB3aGF0ZXZlciB3ZSdyZSBuZXN0ZWQgaW4gKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY0FycmF5VGJsIHRkLmNNdWx0aWRpbUFycmF5RWx0IHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzg4ODtcXG4gIGNvbG9yOiBibGFjaztcXG4gIHBhZGRpbmctdG9wOiAxcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogNHB4O1xcbiAgcGFkZGluZy1sZWZ0OiA1cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxuICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xcbn1cXG5cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAuY2RhdGFIZWFkZXIge1xcbiAgZm9udC1zaXplOiA2cHQ7XFxuICBjb2xvcjogIzU1NTtcXG4gIHBhZGRpbmctYm90dG9tOiAycHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5jZGF0YUVsdCB7XFxuICBmb250LXNpemU6IDEwcHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5jZGF0YVVuaW5pdCB7XFxuICBjb2xvcjogIzg4ODtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUudHVwbGVUYmwgdGQudHVwbGVFbHQge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNTU1NTU1OyAvKiBtdXN0IG1hdGNoIHRkLnR1cGxlSGVhZGVyIGJvcmRlciAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jdXN0b21PYmpUYmwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBjb2xvcjogYmxhY2s7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY3VzdG9tT2JqVGJsIHRkLmN1c3RvbU9iakVsdCB7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBmb250LXNpemU6IDlwdDsgLyogbWFrZSB0aGlzIHNtYWxsZXIgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUubGlzdFRibCB0ZC5saXN0RWx0LFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnR1cGxlVGJsIHRkLnR1cGxlRWx0IHtcXG4gIHBhZGRpbmctdG9wOiAwcHg7XFxuICBwYWRkaW5nLWJvdHRvbTogOHB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIHZlcnRpY2FsLWFsaWduOiBib3R0b207XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnNldFRibCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjNTU1NTU1O1xcbiAgYm9yZGVyLXNwYWNpbmc6IDBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuc2V0VGJsIHRkLnNldEVsdCB7XFxuICBwYWRkaW5nOiA4cHg7XFxufVxcblxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmRpY3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jbGFzc1RibCB7XFxuICBib3JkZXItc3BhY2luZzogMXB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5kaWN0VGJsIHRkLmRpY3RLZXksXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCB0ZC5pbnN0S2V5LFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNsYXNzVGJsIHRkLmNsYXNzS2V5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWViYmY7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmRpY3RUYmwgdGQuZGljdFZhbCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5pbnN0VGJsIHRkLmluc3RWYWwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY2xhc3NUYmwgdGQuY2xhc3NWYWwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQuZnVuY0NvZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmM2O1xcbn1cXG5cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5kaWN0VGJsIHRkLmRpY3RLZXksXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaW5zdFRibCB0ZC5pbnN0S2V5LFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmNsYXNzVGJsIHRkLmNsYXNzS2V5IHtcXG4gIHBhZGRpbmctdG9wOiA2cHggLyoxNXB4Ki87XFxuICBwYWRkaW5nLWJvdHRvbTogNnB4O1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogNHB4O1xcblxcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLmRpY3RUYmwgdGQuZGljdFZhbCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5pbnN0VGJsIHRkLmluc3RWYWwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuY2xhc3NUYmwgdGQuY2xhc3NWYWwge1xcbiAgcGFkZGluZy10b3A6IDZweDsgLyoxNXB4Ki87XFxuICBwYWRkaW5nLWJvdHRvbTogNnB4O1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIHBhZGRpbmctbGVmdDogNHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5mdW5jQ29kIHtcXG4gIHBhZGRpbmctbGVmdDogNHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jbGFzc1RibCB0ZCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5pbnN0VGJsIHRkIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCAjODg4IHNvbGlkO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jbGFzc1RibCB0ZC5jbGFzc1ZhbCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5pbnN0VGJsIHRkLmluc3RWYWwge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCAjODg4IHNvbGlkO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5jbGFzc1RibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5mdW5jVGJsIHtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICBib3JkZXI6IDFweCAjODg4IHNvbGlkO1xcbn1cXG5cXG4vKiBvbmx5IGFkZCBhIGJvcmRlciB0byBkaWN0cyBpZiB0aGV5J3JlIGVtYmVkZGVkIHdpdGhpbiBhbm90aGVyIG9iamVjdCAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLmxpc3RFbHQgdGFibGUuZGljdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC50dXBsZUVsdCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLmRpY3RWYWwgdGFibGUuZGljdFRibCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5pbnN0VmFsIHRhYmxlLmRpY3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQuY2xhc3NWYWwgdGFibGUuZGljdFRibCB7XFxuICBib3JkZXI6IDFweCAjODg4IHNvbGlkO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAub2JqZWN0SWRMYWJlbCB7XFxuICBmb250LXNpemU6IDhwdDtcXG4gIGNvbG9yOiAjNDQ0O1xcbiAgbWFyZ2luLWJvdHRvbTogMnB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAudHlwZUxhYmVsIHtcXG4gIGZvbnQtc2l6ZTogOHB0O1xcbiAgY29sb3I6ICM1NTU7XFxuICBtYXJnaW4tYm90dG9tOiAycHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNzdGFjayxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjZ2xvYmFsc19hcmVhIHtcXG4gIHBhZGRpbmctbGVmdDogMTBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDMwcHg7XFxuXFxuICAvKiBubyBsb25nZXIgbmVjZXNzYXJ5IC4uLiAqL1xcbiAgLypmbG9hdDogbGVmdDsqL1xcbiAgLyogYm9yZGVyLXJpZ2h0OiAxcHggZGFzaGVkICNiYmJiYmI7ICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdi5zdGFja0ZyYW1lLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdi56b21iaWVTdGFja0ZyYW1lIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcbiAgcGFkZGluZzogMnB4O1xcbiAgcGFkZGluZy1sZWZ0OiA2cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA2cHg7XFxuICBwYWRkaW5nLWJvdHRvbTogNHB4O1xcbiAgZm9udC1zaXplOiAxMHB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuem9tYmllU3RhY2tGcmFtZSB7XFxuICBib3JkZXItbGVmdDogMXB4IGRvdHRlZCAjYWFhO1xcbiAgLypjb2xvcjogI2MwYzBjMDsqL1xcbiAgY29sb3I6ICNhMGEwYTA7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdi5oaWdobGlnaHRlZFN0YWNrRnJhbWUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UyZWJmNjtcXG4gIC8qYmFja2dyb3VuZC1jb2xvcjogI2Q3ZTdmYjsqL1xcblxcbiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjYzBkYWY4OyovXFxuICAvKmJhY2tncm91bmQtY29sb3I6ICM5ZWVhZmYgI2M1ZGZlYTsqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuc3RhY2tGcmFtZSxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuaGlnaGxpZ2h0ZWRTdGFja0ZyYW1lIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2E2YjNiNjtcXG59XFxuXFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2LnN0YWNrRnJhbWVIZWFkZXIge1xcbiAgZm9udC1mYW1pbHk6IEFuZGFsZSBtb25vLCBtb25vc3BhY2U7XFxuICBmb250LXNpemU6IDEwcHQ7XFxuICBtYXJnaW4tdG9wOiA0cHg7XFxuICBtYXJnaW4tYm90dG9tOiAzcHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5zdGFja0ZyYW1lVmFyIHtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgcGFkZGluZy1yaWdodDogOHB4O1xcbiAgcGFkZGluZy10b3A6IDNweDtcXG4gIHBhZGRpbmctYm90dG9tOiAzcHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLnN0YWNrRnJhbWVWYWx1ZSB7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNhYWFhYWE7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNhYWFhYWE7XFxuXFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcblxcbiAgcGFkZGluZy10b3A6IDNweDtcXG4gIHBhZGRpbmctbGVmdDogM3B4O1xcbiAgcGFkZGluZy1ib3R0b206IDNweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnN0YWNrRnJhbWVWYXJUYWJsZSB0ciB7XFxuXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5zdGFja0ZyYW1lVmFyVGFibGUge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICBwYWRkaW5nLXRvcDogM3B4O1xcblxcbiAgLyogcmlnaHQtYWxpZ24gdGhlIHRhYmxlICovXFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogMHB4O1xcblxcbiAgLyogaGFjayB0byBjb3VudGVyYWN0IHBvc3NpYmxlIG5hc3R5IENTUyByZXNldCBzdHlsZXMgZnJvbSBwYXJlbnQgZGl2cyAqL1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcXG4gIGJvcmRlci1zcGFjaW5nOiAycHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNoZWFwIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgcGFkZGluZy1sZWZ0OiAzMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC50b3BsZXZlbEhlYXBPYmplY3Qge1xcbiAgLyogbmVlZGVkIGZvciBkMyB0byBkbyB0cmFuc2l0aW9ucyAqL1xcbiAgcGFkZGluZy1sZWZ0OiA4cHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA4cHg7XFxuICBwYWRkaW5nLXRvcDogNHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDRweDtcXG4gIC8qXFxuICBib3JkZXI6IDJweCBkb3R0ZWQgd2hpdGU7XFxuICBib3JkZXItY29sb3I6IHdoaXRlO1xcbiAgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuaGVhcFJvdyB7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYuaGVhcE9iamVjdCB7XFxuICBwYWRkaW5nLWxlZnQ6IDJweDsgLyogbGVhdmUgYSBUSU5ZIGFtb3VudCBvZiByb29tIGZvciBjb25uZWN0b3IgZW5kcG9pbnRzICovXFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdi5oZWFwUHJpbWl0aXZlIHtcXG4gIHBhZGRpbmctbGVmdDogNHB4OyAvKiBsZWF2ZSBzb21lIG1vcmUgcm9vbSBmb3IgY29ubmVjdG9yIGVuZHBvaW50cyAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjc3RhY2tIZWFkZXIge1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjaGVhcEhlYWRlciB7XFxuICAvKm1hcmdpbi10b3A6IDJweDtcXG4gIG1hcmdpbi1ib3R0b206IDEzcHg7Ki9cXG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNsYW5nRGlzcGxheURpdiB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW4tdG9wOiAycHQ7XFxuICBtYXJnaW4tYm90dG9tOiAzcHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGRpdiNsYW5nRGlzcGxheURpdixcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjc3RhY2tIZWFkZXIsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgZGl2I2hlYXBIZWFkZXIge1xcbiAgY29sb3I6ICMzMzMzMzM7XFxuICBmb250LXNpemU6IDEwcHQ7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNleGVjdXRpb25TbGlkZXIge1xcbiAgLyogaWYgeW91IHNldCAnd2lkdGgnLCB0aGVuIGl0IGxvb2tzIHVnbHkgd2hlbiB5b3UgZHluYW1pY2FsbHkgcmVzaXplICovXFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xcblxcbiAgLyogRE9OJ1QgY2VudGVyIHRoaXMsIHNpbmNlIHdlIG5lZWQgYnJlYWtwb2ludHMgaW4gZXhlY3V0aW9uU2xpZGVyRm9vdGVyIHRvIGJlIHdlbGwgYWxpZ25lZCAqL1xcbiAgd2lkdGg6IDk4JTtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI2V4ZWN1dGlvblNsaWRlckNhcHRpb24ge1xcbiAgZm9udC1zaXplOiA4cHQ7XFxuICBjb2xvcjogIzY2NjY2NjtcXG4gIG1hcmdpbi10b3A6IDE1cHg7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyICNleGVjdXRpb25TbGlkZXJGb290ZXIge1xcbiAgbWFyZ2luLXRvcDogLTdweDsgLyogbWFrZSBpdCBidXR0IHVwIGFnYWluc3QgI2V4ZWN1dGlvblNsaWRlciAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjY29kZUZvb3RlckRvY3MsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgI3ByaW50T3V0cHV0RG9jcyB7XFxuICBtYXJnaW4tYm90dG9tOiAzcHg7XFxuICBmb250LXNpemU6IDhwdDtcXG4gIGNvbG9yOiAjNjY2O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAjY29kZUZvb3RlckRvY3Mge1xcbiAgbWFyZ2luLXRvcDogNXB4O1xcbiAgbWFyZ2luLWJvdHRvbTogMTJweDtcXG4gIHdpZHRoOiA5NSU7XFxufVxcblxcbi8qIGRhcmtlbiBzbGlkZXIgaGFuZGxlIGEgYml0ICovXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnVpLXNsaWRlciAudWktc2xpZGVyLWhhbmRsZSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5O1xcbn1cXG5cXG5cXG4vKiBmb3IgYW5ub3RhdGlvbiBidWJibGVzICovXFxuXFxuLyogRm9yIHN0eWxpbmcgdHJpY2tzLCBzZWU6IGh0dHA6Ly9jc3MtdHJpY2tzLmNvbS90ZXh0YXJlYS10cmlja3MvICovXFxudGV4dGFyZWEuYnViYmxlSW5wdXRUZXh0IHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgb3ZlcmZsb3c6IGF1dG87IC8qIHRvIGxvb2sgcHJldHR5IG9uIElFICovXFxuXFxuICAvKiBtYWtlIHN1cmUgdGV4dGFyZWEgZG9lc24ndCBncm93IGFuZCBzdHJldGNoIHRoZSBlbmNsb3NpbmcgYnViYmxlICovXFxuICByZXNpemU6IG5vbmU7XFxuICB3aWR0aDogMjI1cHg7XFxuICBtYXgtd2lkdGg6IDIyNXB4O1xcbiAgaGVpZ2h0OiAzNXB4O1xcbiAgbWF4LWhlaWdodDogMzVweDtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLmFubm90YXRpb25UZXh0LFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC52aXpEZXNjcmlwdGlvblRleHQge1xcbiAgZm9udC1mYW1pbHk6IHZlcmRhbmEsIGFyaWFsLCBoZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDExcHQ7XFxuICBsaW5lLWhlaWdodDogMS41ZW07XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC52aXpUaXRsZVRleHQge1xcbiAgZm9udC1mYW1pbHk6IHZlcmRhbmEsIGFyaWFsLCBoZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDE2cHQ7XFxuICBtYXJnaW4tYm90dG9tOiAxMnB0O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjdml6SGVhZGVyIHtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxuICB3aWR0aDogNzAwcHg7XFxuICBtYXgtd2lkdGg6IDcwMHB4O1xcbn1cXG5cXG4vKiBwcmV2IHRoZW4gY3Vyciwgc28gY3VyciBnZXRzIHByZWNlZGVuY2Ugd2hlbiBib3RoIGFwcGx5ICovXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLmhpZ2hsaWdodC1wcmV2IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGMEYwRUE7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5oaWdobGlnaHQtY3VyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGNjY7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5oaWdobGlnaHQtbGVnZW5kIHtcXG4gIHBhZGRpbmc6IDJweDtcXG59XFxuXFxuLyogcmVzaXppbmcgc2xpZGVycyBmcm9tIERhdmlkIFByaXRjaGFyZCAqL1xcbi51aS1yZXNpemFibGUtZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkZGRkO1xcbiAgd2lkdGg6IDFweDtcXG4gIGJvcmRlcjogM3B4IHNvbGlkIHdoaXRlO1xcbn1cXG5cXG4udWktcmVzaXphYmxlLWU6aG92ZXIge1xcbiAgYm9yZGVyLWNvbG9yOiAjZGRkZGRkO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBhLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIGE6dmlzaXRlZCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBhOmhvdmVyIHtcXG4gIGNvbG9yOiAjM0Q1OEEyO1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciBkaXYjcmF3VXNlcklucHV0RGl2IHtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIHdpZHRoOiA5NSU7XFxuICBtYXJnaW46IDVweCBhdXRvO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyOiAxcHggI2U5M2YzNCBzb2xpZDtcXG59XFxuXFxuLyogZm9yIHB5Q3JhenlNb2RlICovXFxuXFxuLyogcHJldiB0aGVuIGN1cnIsIHNvIGN1cnIgZ2V0cyBwcmVjZWRlbmNlIHdoZW4gYm90aCBhcHBseSAqL1xcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIC5weWNyYXp5LWhpZ2hsaWdodC1wcmV2IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7IC8qI0YwRjBFQTsqL1xcbiAgLypcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkZGRkO1xcbiAgKi9cXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgLnB5Y3JhenktaGlnaGxpZ2h0LWN1ciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRjY2O1xcbiAgLyogYWxpZ25lZCBzbGlnaHRseSBoaWdoZXIgdGhhbiBib3JkZXItYm90dG9tICovXFxuICAvKlxcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOTNmMzQ7XFxuICAqL1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciAucHljcmF6eS1oaWdobGlnaHQtcHJldi1hbmQtY3VyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGNjY7XFxuXFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzk5OTk5OTtcXG59XFxuXFxuXFxuI29wdFRhYnVsYXJWaWV3IHRoZWFkLnN0ZXBUYWJsZVRoZWFkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiYmI7XFxufVxcblxcbiNvcHRUYWJ1bGFyVmlldyB0Ym9keS5zdGVwVGFibGVUYm9keSB7XFxufVxcblxcbiNvcHRUYWJ1bGFyVmlldyB0ZC5zdGVwVGFibGVUZCB7XFxuICBwYWRkaW5nOiAzcHggMTBweDtcXG59XFxuXFxuI3VpQ29udHJvbHNQYW5lIHtcXG4gIGZvbnQtc2l6ZTogOHB0O1xcbn1cXG5cXG5cXG4vKiBCRUdJTiBKYXZhIGZyb250ZW5kIGJ5IERhdmlkIFByaXRjaGFyZCBhbmQgV2lsbCBHd296ZHogKi9cXG5cXG4vKiBzdGFjayBhbmQgcXVldWUgY3NzIGJ5IFdpbGwgR3dvemR6ICovXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUucXVldWVUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuc3RhY2tUYmwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZjNjtcXG59XFxuXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUucXVldWVUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGFibGUuc3RhY2tUYmwge1xcbiAgYm9yZGVyOiAwcHggc29saWQgYmxhY2s7XFxuICBib3JkZXItc3BhY2luZzogMHB4O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5zdGFja1RibCB0ZC5zdGFja0VsdCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5xdWV1ZVRibCB0ZC5xdWV1ZUVsdCB7XFxuICBwYWRkaW5nLWxlZnQ6IDhweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDhweDtcXG4gIHBhZGRpbmctdG9wOiAycHg7XFxuICBwYWRkaW5nLWJvdHRvbTogM3B4O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM1NTU1NTU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzU1NTU1NTtcXG4gIGJvcmRlci1sZWZ0OiAxcHggZGFzaGVkICM1NTU1NTU7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnN0YWNrVGJsIHRkLnN0YWNrRkVsdCxcXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5xdWV1ZVRibCB0ZC5xdWV1ZUZFbHQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgIzU1NTU1NTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNTU1NTU1O1xcbn1cXG5cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0YWJsZS5zdGFja1RibCB0ZC5zdGFja0xFbHQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICM1NTU1NTU7XFxufVxcblxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRhYmxlLnF1ZXVlVGJsIHRkLnF1ZXVlTEVsdCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCM1NTU1NTU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzU1NTU1NTtcXG4gIGJvcmRlci1sZWZ0OiAxcHggZGFzaGVkICM1NTU1NTU7XFxufVxcblxcbi8qIFRoaXMgZW5zdXJlcyBhIGJvcmRlciBpcyBkcmF3biBhcm91bmQgYSBkaWN0XFxuICAgaWYgaXRzIG5lc3RlZCBpbiBhbm90aGVyIG9iamVjdC4gKi9cXG5kaXYuRXhlY3V0aW9uVmlzdWFsaXplciB0ZC5zdGFja0VsdCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLnN0YWNrTEVsdCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLnN0YWNrRkVsdCB0YWJsZS5kaWN0VGJsLFxcbmRpdi5FeGVjdXRpb25WaXN1YWxpemVyIHRkLnF1ZXVlRWx0IHRhYmxlLmRpY3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQucXVldWVMRWx0IHRhYmxlLmRpY3RUYmwsXFxuZGl2LkV4ZWN1dGlvblZpc3VhbGl6ZXIgdGQucXVldWVGRWx0IHRhYmxlLmRpY3RUYmwge1xcbiAgYm9yZGVyOiAxcHggIzg4OCBzb2xpZDtcXG59XFxuXFxuLnN5bWJvbGljIHtcXG4gIGZvbnQtc2l6ZTogMThwdDtcXG59XFxuXFxuLyogRU5EIEphdmEgZnJvbnRlbmQgYnkgRGF2aWQgUHJpdGNoYXJkIGFuZCBXaWxsIEd3b3pkeiAqL1xcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG5cblxuLyoqKi8gfSksXG4vKiAzMSAqLyxcbi8qIDMyICovLFxuLyogMzMgKi8sXG4vKiAzNCAqLyxcbi8qIDM1ICovLFxuLyogMzYgKi8sXG4vKiAzNyAqLyxcbi8qIDM4ICovLFxuLyogMzkgKi8sXG4vKiA0MCAqLyxcbi8qIDQxICovLFxuLyogNDIgKi8sXG4vKiA0MyAqLyxcbi8qIDQ0ICovLFxuLyogNDUgKi8sXG4vKiA0NiAqLyxcbi8qIDQ3ICovLFxuLyogNDggKi8sXG4vKiA0OSAqLyxcbi8qIDUwICovLFxuLyogNTEgKi8sXG4vKiA1MiAqLyxcbi8qIDUzICovLFxuLyogNTQgKi8sXG4vKiA1NSAqLyxcbi8qIDU2ICovLFxuLyogNTcgKi8sXG4vKiA1OCAqLyxcbi8qIDU5ICovLFxuLyogNjAgKi8sXG4vKiA2MSAqLyxcbi8qIDYyICovLFxuLyogNjMgKi8sXG4vKiA2NCAqLyxcbi8qIDY1ICovLFxuLyogNjYgKi8sXG4vKiA2NyAqLyxcbi8qIDY4ICovLFxuLyogNjkgKi8sXG4vKiA3MCAqLyxcbi8qIDcxICovLFxuLyogNzIgKi8sXG4vKiA3MyAqLyxcbi8qIDc0ICovLFxuLyogNzUgKi8sXG4vKiA3NiAqLyxcbi8qIDc3ICovLFxuLyogNzggKi8sXG4vKiA3OSAqLyxcbi8qIDgwICovLFxuLyogODEgKi8sXG4vKiA4MiAqLyxcbi8qIDgzICovLFxuLyogODQgKi8sXG4vKiA4NSAqLyxcbi8qIDg2ICovLFxuLyogODcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oJCkge1xuLy8gUHl0aG9uIFR1dG9yOiBodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvXG4vLyBDb3B5cmlnaHQgKEMpIFBoaWxpcCBHdW8gKHBoaWxpcEBwZ2JvdmluZS5uZXQpXG4vLyBMSUNFTlNFOiBodHRwczovL2dpdGh1Yi5jb20vcGdib3ZpbmUvT25saW5lUHl0aG9uVHV0b3IvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHRcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIHNlZSAuLi9weXR1dG9yLWVtYmVkLWRlbW8uaHRtbCBmb3IgaG93IHRvIHVzZSB0aGlzIGZpbGVcbnZhciBweXR1dG9yXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xudmFyIGFsbFZpc3VhbGl6ZXJzID0gW107XG5mdW5jdGlvbiByZWRyYXdBbGxWaXN1YWxpemVyQXJyb3dzKCkge1xuICAgICQuZWFjaChhbGxWaXN1YWxpemVycywgZnVuY3Rpb24gKGksIHYpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInJlZHJhd0Nvbm5lY3RvcnM6XCIsIHYpO1xuICAgICAgICB2LnJlZHJhd0Nvbm5lY3RvcnMoKTtcbiAgICB9KTtcbiAgICAvL2NvbnNvbGUubG9nKFwiRE9ORSByZWRyYXdBbGxWaXN1YWxpemVyQXJyb3dzXCIpO1xufVxuLy8gY3JlYXRlcyBhIEV4ZWN1dGlvblZpc3VhbGl6ZXIgcmVwcmVzZW50aW5nIHRyYWNlIGFuZCBhZGRzIGl0IHRvIHBhZ2UgYXQgZGl2SWRcbi8vIHJldHVybnMgdGhlIG5ld2x5LWNyZWF0ZWQgRXhlY3V0aW9uVmlzdWFsaXplciBvYmplY3RcbmZ1bmN0aW9uIGFkZFZpc3VhbGl6ZXJUb1BhZ2UodHJhY2UsIGRpdklkLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICBwYXJhbXMgPSB7fTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5lbWJlZGRlZE1vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJhbXMuZW1iZWRkZWRNb2RlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5lZGl0Q29kZUJhc2VVUkwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXJhbXMuZWRpdENvZGVCYXNlVVJMID0gJ2h0dHA6Ly9weXRob250dXRvci5jb20vdmlzdWFsaXplLmh0bWwnO1xuICAgIH1cbiAgICAvLyBXaGVuIHNvbWUgZGl2IGluIHlvdXIgd2VicGFnZSAoc3VjaCBhcyBhIHZpc3VhbGl6ZXIgZGl2KSBleHBhbmRzIGluIGhlaWdodCxcbiAgICAvLyBpdCB3aWxsIFwicHVzaCBkb3duXCIgYWxsIGRpdnMgYmVsb3cgaXQsIGJ1dCB0aGUgU1ZHIGFycm93cyByZW5kZXJlZCBieVxuICAgIC8vIGpzUGx1bWIgV0lMTCBOT1QgTU9WRS4gVGh1cywgdGhleSB3aWxsIGJlIGluIHRoZSBpbmNvcnJlY3QgbG9jYXRpb24gdW5sZXNzXG4gICAgLy8geW91IGNhbGwgcmVkcmF3QWxsQ29ubmVjdG9ycygpLlxuICAgIC8vXG4gICAgLy8gV2UgdXNlIHRoZSBcImhlaWdodENoYW5nZUNhbGxiYWNrXCIgb3B0aW9uYWwgcGFyYW1ldGVyIHRvIGZvcmNlIHJlZHJhd1xuICAgIC8vIG9mIGFsbCBTVkcgYXJyb3dzIG9mIEFMTCB2aXN1YWxpemVycywgd2hlbmV2ZXIgdGhlIGhlaWdodCBvZiBvbmUgY2hhbmdlcy5cbiAgICAvL1xuICAgIC8vIEFsdGVybmF0aXZlbHksIGhlcmUgaXMgb25lIGpRdWVyeSBwbHVnaW4gdGhhdCB5b3UgY2FuIHVzZSB0byBkZXRlY3RcbiAgICAvLyBkaXYgaGVpZ2h0IGNoYW5nZXM6IGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LXJlc2l6ZS1wbHVnaW4vXG4gICAgLy9cbiAgICAvLyBBIHJlbGF0ZWQgdHJpY2sgeW91IGNhbiBpbXBsZW1lbnQgaXMgdG8gbWFrZSBhIGRpdiBuZXZlciBzaHJpbmsgaW4gaGVpZ2h0XG4gICAgLy8gb25jZSBpdCdzIGdyb3duOyB0aGF0IHdheSwgeW91IGNhbiBhdm9pZCBsb3RzIG9mIGphcnJpbmcganVtcHMgYW5kXG4gICAgLy8gKGluZWZmaWNpZW50KSByZWRyYXdzLlxuICAgIHBhcmFtcy5oZWlnaHRDaGFuZ2VDYWxsYmFjayA9IHJlZHJhd0FsbFZpc3VhbGl6ZXJBcnJvd3M7XG4gICAgdmFyIHJldCA9IG5ldyBweXR1dG9yXzEuRXhlY3V0aW9uVmlzdWFsaXplcihkaXZJZCwgdHJhY2UsIHBhcmFtcyk7XG4gICAgYWxsVmlzdWFsaXplcnMucHVzaChyZXQpO1xuICAgIHJlZHJhd0FsbFZpc3VhbGl6ZXJBcnJvd3MoKTtcbiAgICAvLyBDYWxsIHJlZHJhd0Nvbm5lY3RvcnMoKSBvbiBhbGwgdmlzdWFsaXplcnMgd2hlbmV2ZXIgdGhlIHdpbmRvdyBpcyByZXNpemVkLFxuICAgIC8vIHNpbmNlIEhUTUwgZWxlbWVudHMgbWlnaHQgaGF2ZSBtb3ZlZCBkdXJpbmcgYSByZXNpemUuIFRoZSBTVkcgYXJyb3dzIHJlbmRlcmVkXG4gICAgLy8gYnkganNQbHVtYiBkb24ndCBhdXRvbWF0aWNhbGx5IGdldCByZS1kcmF3biBpbiB0aGVpciBuZXcgcG9zaXRpb25zIHVubGVzc1xuICAgIC8vIHJlZHJhd0Nvbm5lY3RvcnMoKSBpcyBjYWxsZWQuXG4gICAgLy9cbiAgICAvLyBkZXRhY2ggdGhlIGhhbmRsZXIgZmlyc3Qgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHJlZHVuZGFudCBtdWx0aXBsZSBoYW5kbGVyczpcbiAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUnKS5yZXNpemUocmVkcmF3QWxsVmlzdWFsaXplckFycm93cyk7XG4gICAgcmV0dXJuIHJldDtcbn1cbi8vIGxvYWRzIHRyYWNlIGZyb20gYSBKU09OLWZvcm1hdHRlZCBmaWxlIGFuZCB0aGVuIGFkZHMgaXQgdG8gdGhlIHBhZ2UgaW4gZGl2SWQ7XG4vLyByZXR1cm5zIHRoZSBuZXdseS1jcmVhdGVkIEV4ZWN1dGlvblZpc3VhbGl6ZXIgb2JqZWN0XG5mdW5jdGlvbiBjcmVhdGVWaXN1YWxpemVyRnJvbUpTT04oanNvblVSTCwgZGl2SWQsIHBhcmFtcykge1xuICAgIGlmIChwYXJhbXMgPT09IHZvaWQgMCkgeyBwYXJhbXMgPSB1bmRlZmluZWQ7IH1cbiAgICAkLmdldChqc29uVVJMLCB7fSwgZnVuY3Rpb24gKHRyYWNlKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2codHJhY2UpO1xuICAgICAgICBhZGRWaXN1YWxpemVyVG9QYWdlKHRyYWNlLCBkaXZJZCwgcGFyYW1zKTtcbiAgICB9LCAnanNvbicpO1xufVxuLy8gbG9va3MgZm9yIGFsbCBkaXYucHl0dXRvclZpc3VhbGl6ZXIgb24gdGhlIGN1cnJlbnQgcGFnZSwgZXh0cmFjdHNcbi8vIGRhdGEtdHJhY2VmaWxlIGFuZCBkYXRhLXBhcmFtcyBhdHRyaWJ1dGVzIGZyb20gZWFjaCwgYW5kIHRoZW4gcG9wdWxhdGVzXG4vLyBlYWNoIG9uZSB1c2luZyBjcmVhdGVWaXN1YWxpemVyRnJvbUpTT04oKVxuZnVuY3Rpb24gY3JlYXRlQWxsVmlzdWFsaXplcnNGcm9tSHRtbEF0dHJzKCkge1xuICAgIC8vY29uc29sZS5sb2coJ2NyZWF0ZUFsbFZpc3VhbGl6ZXJzRnJvbUh0bWxBdHRycycpO1xuICAgICQoJ2Rpdi5weXR1dG9yVmlzdWFsaXplcicpLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgdmFyIGpzb25VUkwgPSAkKGUpLmF0dHIoJ2RhdGEtdHJhY2VmaWxlJyk7XG4gICAgICAgIHZhciBkaXZJZCA9ICQoZSkuYXR0cignaWQnKTtcbiAgICAgICAgdmFyIHBhcmFtc1RleHQgPSAkKGUpLmF0dHIoJ2RhdGEtcGFyYW1zJyk7XG4gICAgICAgIC8vY29uc29sZS5sb2coanNvblVSTCwgZGl2SWQsIHBhcmFtc1RleHQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IEpTT04ucGFyc2UocGFyYW1zVGV4dCk7XG4gICAgICAgICAgICBjcmVhdGVWaXN1YWxpemVyRnJvbUpTT04oanNvblVSTCwgZGl2SWQsIHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY3JlYXRlVmlzdWFsaXplckZyb21KU09OKGpzb25VUkwsIGRpdklkKTsgLy8gaWdub3JlIHBhcmFtcyBpZiB3ZSBjYW4ndCBwYXJzZSBpdFxuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyBleHBvcnQgZ2xvYmFsbHkgLS0gaGFja3khISFcbndpbmRvdy5hZGRWaXN1YWxpemVyVG9QYWdlID0gYWRkVmlzdWFsaXplclRvUGFnZTtcbndpbmRvdy5jcmVhdGVWaXN1YWxpemVyRnJvbUpTT04gPSBjcmVhdGVWaXN1YWxpemVyRnJvbUpTT047XG53aW5kb3cuY3JlYXRlQWxsVmlzdWFsaXplcnNGcm9tSHRtbEF0dHJzID0gY3JlYXRlQWxsVmlzdWFsaXplcnNGcm9tSHRtbEF0dHJzO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygwKSkpXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=